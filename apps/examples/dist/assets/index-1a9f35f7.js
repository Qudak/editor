var V$=Object.defineProperty;var X$=(t,e,n)=>e in t?V$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var me=(t,e,n)=>(X$(t,typeof e!="symbol"?e+"":e,n),n);function g_(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var $n=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var m_={exports:{}},Ey={},y_={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hf=Symbol.for("react.element"),Y$=Symbol.for("react.portal"),H$=Symbol.for("react.fragment"),G$=Symbol.for("react.strict_mode"),Z$=Symbol.for("react.profiler"),Q$=Symbol.for("react.provider"),J$=Symbol.for("react.context"),eO=Symbol.for("react.forward_ref"),tO=Symbol.for("react.suspense"),nO=Symbol.for("react.memo"),rO=Symbol.for("react.lazy"),L6=Symbol.iterator;function sO(t){return t===null||typeof t!="object"?null:(t=L6&&t[L6]||t["@@iterator"],typeof t=="function"?t:null)}var x_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w_=Object.assign,S_={};function vh(t,e,n){this.props=t,this.context=e,this.refs=S_,this.updater=n||x_}vh.prototype.isReactComponent={};vh.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};vh.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function b_(){}b_.prototype=vh.prototype;function Z3(t,e,n){this.props=t,this.context=e,this.refs=S_,this.updater=n||x_}var Q3=Z3.prototype=new b_;Q3.constructor=Z3;w_(Q3,vh.prototype);Q3.isPureReactComponent=!0;var M6=Array.isArray,v_=Object.prototype.hasOwnProperty,J3={current:null},k_={key:!0,ref:!0,__self:!0,__source:!0};function C_(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)v_.call(e,r)&&!k_.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:hf,type:t,key:i,ref:o,props:s,_owner:J3.current}}function iO(t,e){return{$$typeof:hf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function eS(t){return typeof t=="object"&&t!==null&&t.$$typeof===hf}function oO(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var j6=/\/+/g;function y2(t,e){return typeof t=="object"&&t!==null&&t.key!=null?oO(""+t.key):e.toString(36)}function w0(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case hf:case Y$:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+y2(o,0):r,M6(s)?(n="",t!=null&&(n=t.replace(j6,"$&/")+"/"),w0(s,e,n,"",function(c){return c})):s!=null&&(eS(s)&&(s=iO(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(j6,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",M6(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+y2(i,a);o+=w0(i,e,n,l,s)}else if(l=sO(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+y2(i,a++),o+=w0(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function sg(t,e,n){if(t==null)return t;var r=[],s=0;return w0(t,r,"","",function(i){return e.call(n,i,s++)}),r}function aO(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var vr={current:null},S0={transition:null},lO={ReactCurrentDispatcher:vr,ReactCurrentBatchConfig:S0,ReactCurrentOwner:J3};function __(){throw Error("act(...) is not supported in production builds of React.")}Fe.Children={map:sg,forEach:function(t,e,n){sg(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return sg(t,function(){e++}),e},toArray:function(t){return sg(t,function(e){return e})||[]},only:function(t){if(!eS(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Fe.Component=vh;Fe.Fragment=H$;Fe.Profiler=Z$;Fe.PureComponent=Z3;Fe.StrictMode=G$;Fe.Suspense=tO;Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lO;Fe.act=__;Fe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=w_({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=J3.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)v_.call(e,l)&&!k_.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:hf,type:t.type,key:s,ref:i,props:r,_owner:o}};Fe.createContext=function(t){return t={$$typeof:J$,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Q$,_context:t},t.Consumer=t};Fe.createElement=C_;Fe.createFactory=function(t){var e=C_.bind(null,t);return e.type=t,e};Fe.createRef=function(){return{current:null}};Fe.forwardRef=function(t){return{$$typeof:eO,render:t}};Fe.isValidElement=eS;Fe.lazy=function(t){return{$$typeof:rO,_payload:{_status:-1,_result:t},_init:aO}};Fe.memo=function(t,e){return{$$typeof:nO,type:t,compare:e===void 0?null:e}};Fe.startTransition=function(t){var e=S0.transition;S0.transition={};try{t()}finally{S0.transition=e}};Fe.unstable_act=__;Fe.useCallback=function(t,e){return vr.current.useCallback(t,e)};Fe.useContext=function(t){return vr.current.useContext(t)};Fe.useDebugValue=function(){};Fe.useDeferredValue=function(t){return vr.current.useDeferredValue(t)};Fe.useEffect=function(t,e){return vr.current.useEffect(t,e)};Fe.useId=function(){return vr.current.useId()};Fe.useImperativeHandle=function(t,e,n){return vr.current.useImperativeHandle(t,e,n)};Fe.useInsertionEffect=function(t,e){return vr.current.useInsertionEffect(t,e)};Fe.useLayoutEffect=function(t,e){return vr.current.useLayoutEffect(t,e)};Fe.useMemo=function(t,e){return vr.current.useMemo(t,e)};Fe.useReducer=function(t,e,n){return vr.current.useReducer(t,e,n)};Fe.useRef=function(t){return vr.current.useRef(t)};Fe.useState=function(t){return vr.current.useState(t)};Fe.useSyncExternalStore=function(t,e,n){return vr.current.useSyncExternalStore(t,e,n)};Fe.useTransition=function(){return vr.current.useTransition()};Fe.version="18.3.1";y_.exports=Fe;var v=y_.exports;const ie=yc(v),E_=g_({__proto__:null,default:ie},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cO=v,dO=Symbol.for("react.element"),hO=Symbol.for("react.fragment"),uO=Object.prototype.hasOwnProperty,pO=cO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fO={key:!0,ref:!0,__self:!0,__source:!0};function I_(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)uO.call(e,r)&&!fO.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:dO,type:t,key:i,ref:o,props:s,_owner:pO.current}}Ey.Fragment=hO;Ey.jsx=I_;Ey.jsxs=I_;m_.exports=Ey;var f=m_.exports;function R(t,e={}){const n=typeof t=="string"?t:t.src;if(typeof e=="function")return e(n);const{baseUrl:r=""}=e;return n.startsWith("data:")||n.match(/^https?:\/\//)?n:`${r.replace(/\/$/,"")}/${n.replace(/^\.?\//,"")}`}function gO(t){return{fonts:{monospace:R(new URL("/assets/IBMPlexMono-Medium-602b967b.woff2",self.location).href,t),sansSerif:R(new URL("/assets/IBMPlexSans-Medium-032f2da3.woff2",self.location).href,t),serif:R(new URL("/assets/IBMPlexSerif-Medium-8685eac3.woff2",self.location).href,t),draw:R(new URL("/assets/Shantell_Sans-Normal-SemiBold-1857bc6e.woff2",self.location).href,t)},icons:{"align-bottom-center":R(new URL("/assets/align-bottom-center-18df0a37.svg",self.location).href,t),"align-bottom-left":R(new URL("/assets/align-bottom-left-46b8d66a.svg",self.location).href,t),"align-bottom-right":R(new URL("/assets/align-bottom-right-70299e1f.svg",self.location).href,t),"align-bottom":R(new URL("/assets/align-bottom-2153fd2e.svg",self.location).href,t),"align-center-center":R(new URL("/assets/align-center-center-1e23bfe8.svg",self.location).href,t),"align-center-horizontal":R(new URL("/assets/align-center-horizontal-e229b4f1.svg",self.location).href,t),"align-center-left":R(new URL("/assets/align-center-left-a62c3189.svg",self.location).href,t),"align-center-right":R(new URL("/assets/align-center-right-f5c1febe.svg",self.location).href,t),"align-center-vertical":R(new URL("/assets/align-center-vertical-34c2eef9.svg",self.location).href,t),"align-left":R(new URL("/assets/align-left-672b506b.svg",self.location).href,t),"align-right":R(new URL("/assets/align-right-f51315c5.svg",self.location).href,t),"align-top-center":R(new URL("/assets/align-top-center-d00b6824.svg",self.location).href,t),"align-top-left":R(new URL("/assets/align-top-left-b36e1d34.svg",self.location).href,t),"align-top-right":R(new URL("/assets/align-top-right-8d85a630.svg",self.location).href,t),"align-top":R(new URL("/assets/align-top-b814b24f.svg",self.location).href,t),"arrow-left":R(new URL("/assets/arrow-left-c1856d50.svg",self.location).href,t),"arrowhead-arrow":R(new URL("/assets/arrowhead-arrow-aa22be04.svg",self.location).href,t),"arrowhead-bar":R(new URL("/assets/arrowhead-bar-b46daeee.svg",self.location).href,t),"arrowhead-diamond":R(new URL("/assets/arrowhead-diamond-240be147.svg",self.location).href,t),"arrowhead-dot":R(new URL("/assets/arrowhead-dot-a3fe2c9e.svg",self.location).href,t),"arrowhead-none":R(new URL("/assets/arrowhead-none-584d3843.svg",self.location).href,t),"arrowhead-square":R(new URL("/assets/arrowhead-square-9fc2a59d.svg",self.location).href,t),"arrowhead-triangle-inverted":R(new URL("/assets/arrowhead-triangle-inverted-cfa6d78f.svg",self.location).href,t),"arrowhead-triangle":R(new URL("/assets/arrowhead-triangle-ad472a24.svg",self.location).href,t),"aspect-ratio":R(new URL("/assets/aspect-ratio-f4fe7239.svg",self.location).href,t),avatar:R(new URL("/assets/avatar-55a2882d.svg",self.location).href,t),blob:R(new URL("/assets/blob-120d4c48.svg",self.location).href,t),"bring-forward":R(new URL("/assets/bring-forward-3e596147.svg",self.location).href,t),"bring-to-front":R(new URL("/assets/bring-to-front-878dcb2a.svg",self.location).href,t),check:R(new URL("/assets/check-13d59806.svg",self.location).href,t),"checkbox-checked":R(new URL("/assets/checkbox-checked-a174d9e4.svg",self.location).href,t),"checkbox-empty":R(new URL("/assets/checkbox-empty-feb809dc.svg",self.location).href,t),"chevron-down":R(new URL("/assets/chevron-down-35cc6108.svg",self.location).href,t),"chevron-left":R(new URL("/assets/chevron-left-b188f9e9.svg",self.location).href,t),"chevron-right":R(new URL("/assets/chevron-right-bc80736c.svg",self.location).href,t),"chevron-up":R(new URL("/assets/chevron-up-92cf26c2.svg",self.location).href,t),"chevrons-ne":R(new URL("/assets/chevrons-ne-de971f54.svg",self.location).href,t),"chevrons-sw":R(new URL("/assets/chevrons-sw-e81e1d56.svg",self.location).href,t),"clipboard-copied":R(new URL("/assets/clipboard-copied-55801dc1.svg",self.location).href,t),"clipboard-copy":R(new URL("/assets/clipboard-copy-2a337164.svg",self.location).href,t),code:R(new URL("/assets/code-670c7deb.svg",self.location).href,t),collab:R(new URL("/assets/collab-2ad26daa.svg",self.location).href,t),color:R(new URL("/assets/color-459651ac.svg",self.location).href,t),comment:R(new URL("/assets/comment-83a516dd.svg",self.location).href,t),"cross-2":R(new URL("/assets/cross-2-609fd07f.svg",self.location).href,t),cross:R(new URL("/assets/cross-5fd985bf.svg",self.location).href,t),"dash-dashed":R(new URL("/assets/dash-dashed-6a465efe.svg",self.location).href,t),"dash-dotted":R(new URL("/assets/dash-dotted-d6b4b977.svg",self.location).href,t),"dash-draw":R(new URL("/assets/dash-draw-bf3a66ed.svg",self.location).href,t),"dash-solid":R(new URL("/assets/dash-solid-dcb25706.svg",self.location).href,t),discord:R(new URL("/assets/discord-b9359056.svg",self.location).href,t),"distribute-horizontal":R(new URL("/assets/distribute-horizontal-7764ae6e.svg",self.location).href,t),"distribute-vertical":R(new URL("/assets/distribute-vertical-e7f3f923.svg",self.location).href,t),dot:R(new URL("/assets/dot-46f927ef.svg",self.location).href,t),"dots-horizontal":R(new URL("/assets/dots-horizontal-410c42fc.svg",self.location).href,t),"dots-vertical":R(new URL("/assets/dots-vertical-8a9d7b19.svg",self.location).href,t),"drag-handle-dots":R(new URL("/assets/drag-handle-dots-64e0a160.svg",self.location).href,t),duplicate:R(new URL("/assets/duplicate-bf28798b.svg",self.location).href,t),edit:R(new URL("/assets/edit-0437df4f.svg",self.location).href,t),"external-link":R(new URL("/assets/external-link-5b6b5d54.svg",self.location).href,t),file:R(new URL("/assets/file-c1fa8c90.svg",self.location).href,t),"fill-none":R(new URL("/assets/fill-none-42bb25f5.svg",self.location).href,t),"fill-pattern":R(new URL("/assets/fill-pattern-c9691467.svg",self.location).href,t),"fill-semi":R(new URL("/assets/fill-semi-1d0d4790.svg",self.location).href,t),"fill-solid":R(new URL("/assets/fill-solid-c53cb895.svg",self.location).href,t),follow:R(new URL("/assets/follow-419e1648.svg",self.location).href,t),following:R(new URL("/assets/following-6e7614f1.svg",self.location).href,t),"font-draw":R(new URL("/assets/font-draw-f0e5e754.svg",self.location).href,t),"font-mono":R(new URL("/assets/font-mono-04e30455.svg",self.location).href,t),"font-sans":R(new URL("/assets/font-sans-6aeea90e.svg",self.location).href,t),"font-serif":R(new URL("/assets/font-serif-2811d03d.svg",self.location).href,t),"geo-arrow-down":R(new URL("/assets/geo-arrow-down-a8b1aff7.svg",self.location).href,t),"geo-arrow-left":R(new URL("/assets/geo-arrow-left-d66d995a.svg",self.location).href,t),"geo-arrow-right":R(new URL("/assets/geo-arrow-right-e0aea467.svg",self.location).href,t),"geo-arrow-up":R(new URL("/assets/geo-arrow-up-849b5000.svg",self.location).href,t),"geo-check-box":R(new URL("/assets/geo-check-box-fcbf4aef.svg",self.location).href,t),"geo-cloud":R(new URL("/assets/geo-cloud-b16a4173.svg",self.location).href,t),"geo-diamond":R(new URL("/assets/geo-diamond-b3d96dba.svg",self.location).href,t),"geo-ellipse":R(new URL("/assets/geo-ellipse-cbbb7937.svg",self.location).href,t),"geo-hexagon":R(new URL("/assets/geo-hexagon-a453c946.svg",self.location).href,t),"geo-octagon":R(new URL("/assets/geo-octagon-30b98ec2.svg",self.location).href,t),"geo-oval":R(new URL("/assets/geo-oval-9347a6b4.svg",self.location).href,t),"geo-pentagon":R(new URL("/assets/geo-pentagon-4c1f4fb7.svg",self.location).href,t),"geo-rectangle":R(new URL("/assets/geo-rectangle-0108de6a.svg",self.location).href,t),"geo-rhombus-2":R(new URL("/assets/geo-rhombus-2-480a25b5.svg",self.location).href,t),"geo-rhombus":R(new URL("/assets/geo-rhombus-f0c9ade9.svg",self.location).href,t),"geo-star":R(new URL("/assets/geo-star-c4e6f3b0.svg",self.location).href,t),"geo-trapezoid":R(new URL("/assets/geo-trapezoid-f735bb46.svg",self.location).href,t),"geo-triangle":R(new URL("/assets/geo-triangle-2844c9cc.svg",self.location).href,t),"geo-x-box":R(new URL("/assets/geo-x-box-7ba0d440.svg",self.location).href,t),github:R(new URL("/assets/github-84549e5a.svg",self.location).href,t),group:R(new URL("/assets/group-19363a84.svg",self.location).href,t),hidden:R(new URL("/assets/hidden-d50bcff3.svg",self.location).href,t),image:R(new URL("/assets/image-855d9940.svg",self.location).href,t),"info-circle":R(new URL("/assets/info-circle-12935c61.svg",self.location).href,t),leading:R(new URL("/assets/leading-7307f720.svg",self.location).href,t),link:R(new URL("/assets/link-4fff5649.svg",self.location).href,t),"lock-small":R(new URL("/assets/lock-small-58ee87a7.svg",self.location).href,t),lock:R(new URL("/assets/lock-3eac67e8.svg",self.location).href,t),menu:R(new URL("/assets/menu-fef9bc46.svg",self.location).href,t),minus:R(new URL("/assets/minus-da835179.svg",self.location).href,t),mixed:R(new URL("/assets/mixed-9a98265d.svg",self.location).href,t),pack:R(new URL("/assets/pack-50c3480c.svg",self.location).href,t),page:R(new URL("/assets/page-a279efe5.svg",self.location).href,t),plus:R(new URL("/assets/plus-118d7076.svg",self.location).href,t),"question-mark-circle":R(new URL("/assets/question-mark-circle-ad933cb8.svg",self.location).href,t),"question-mark":R(new URL("/assets/question-mark-93893065.svg",self.location).href,t),redo:R(new URL("/assets/redo-d9ce3088.svg",self.location).href,t),"reset-zoom":R(new URL("/assets/reset-zoom-99a57a52.svg",self.location).href,t),"rotate-ccw":R(new URL("/assets/rotate-ccw-086fb123.svg",self.location).href,t),"rotate-cw":R(new URL("/assets/rotate-cw-c1c282d5.svg",self.location).href,t),ruler:R(new URL("/assets/ruler-c83b6501.svg",self.location).href,t),search:R(new URL("/assets/search-e94ed51b.svg",self.location).href,t),"send-backward":R(new URL("/assets/send-backward-e1e1506b.svg",self.location).href,t),"send-to-back":R(new URL("/assets/send-to-back-c6a8d6e0.svg",self.location).href,t),"settings-horizontal":R(new URL("/assets/settings-horizontal-5c4f3c76.svg",self.location).href,t),"settings-vertical-1":R(new URL("/assets/settings-vertical-1-175b7541.svg",self.location).href,t),"settings-vertical":R(new URL("/assets/settings-vertical-517f96c2.svg",self.location).href,t),"share-1":R(new URL("/assets/share-1-e9a58432.svg",self.location).href,t),"share-2":R(new URL("/assets/share-2-9abac035.svg",self.location).href,t),"size-extra-large":R(new URL("/assets/size-extra-large-ca9a55a2.svg",self.location).href,t),"size-large":R(new URL("/assets/size-large-5adfaf79.svg",self.location).href,t),"size-medium":R(new URL("/assets/size-medium-804ab825.svg",self.location).href,t),"size-small":R(new URL("/assets/size-small-3090b887.svg",self.location).href,t),"spline-cubic":R(new URL("/assets/spline-cubic-0d08337b.svg",self.location).href,t),"spline-line":R(new URL("/assets/spline-line-e4b0c70d.svg",self.location).href,t),"stack-horizontal":R(new URL("/assets/stack-horizontal-203b751f.svg",self.location).href,t),"stack-vertical":R(new URL("/assets/stack-vertical-192610e7.svg",self.location).href,t),"status-offline":R(new URL("/assets/status-offline-b0bdd9f3.svg",self.location).href,t),"status-online":R(new URL("/assets/status-online-deeb6892.svg",self.location).href,t),"stretch-horizontal":R(new URL("/assets/stretch-horizontal-06ac4fb1.svg",self.location).href,t),"stretch-vertical":R(new URL("/assets/stretch-vertical-8ac91bb3.svg",self.location).href,t),"text-align-center":R(new URL("/assets/text-align-center-d4e4b52e.svg",self.location).href,t),"text-align-justify":R(new URL("/assets/text-align-justify-81d84b0b.svg",self.location).href,t),"text-align-left":R(new URL("/assets/text-align-left-2a312c27.svg",self.location).href,t),"text-align-right":R(new URL("/assets/text-align-right-5a23e653.svg",self.location).href,t),"tool-arrow":R(new URL("/assets/tool-arrow-a35ddeaa.svg",self.location).href,t),"tool-embed":R(new URL("/assets/tool-embed-efd4bebc.svg",self.location).href,t),"tool-eraser":R(new URL("/assets/tool-eraser-be2225bb.svg",self.location).href,t),"tool-frame":R(new URL("/assets/tool-frame-deced99e.svg",self.location).href,t),"tool-hand":R(new URL("/assets/tool-hand-34187eac.svg",self.location).href,t),"tool-highlight":R(new URL("/assets/tool-highlight-e039326a.svg",self.location).href,t),"tool-laser":R(new URL("/assets/tool-laser-650d967c.svg",self.location).href,t),"tool-line":R(new URL("/assets/tool-line-83d19546.svg",self.location).href,t),"tool-media":R(new URL("/assets/image-855d9940.svg",self.location).href,t),"tool-note":R(new URL("/assets/tool-note-d2561126.svg",self.location).href,t),"tool-pencil":R(new URL("/assets/tool-pencil-09f05de8.svg",self.location).href,t),"tool-pointer":R(new URL("/assets/tool-pointer-c5755269.svg",self.location).href,t),"tool-text":R(new URL("/assets/tool-text-9cd0ae2e.svg",self.location).href,t),trash:R(new URL("/assets/trash-810a0ee8.svg",self.location).href,t),"triangle-down":R(new URL("/assets/triangle-down-c585f16d.svg",self.location).href,t),"triangle-up":R(new URL("/assets/triangle-up-d00d35f8.svg",self.location).href,t),twitter:R(new URL("/assets/twitter-e71d937f.svg",self.location).href,t),undo:R(new URL("/assets/undo-f5995ec7.svg",self.location).href,t),ungroup:R(new URL("/assets/ungroup-151431aa.svg",self.location).href,t),"unlock-small":R(new URL("/assets/unlock-small-b245a5c9.svg",self.location).href,t),unlock:R(new URL("/assets/unlock-c6ab9915.svg",self.location).href,t),"vertical-align-center":R(new URL("/assets/vertical-align-center-0f9d57c2.svg",self.location).href,t),"vertical-align-end":R(new URL("/assets/vertical-align-end-cc72e1cc.svg",self.location).href,t),"vertical-align-start":R(new URL("/assets/vertical-align-start-92465c90.svg",self.location).href,t),visible:R(new URL("/assets/visible-32172e15.svg",self.location).href,t),"warning-triangle":R(new URL("/assets/warning-triangle-5a4e735b.svg",self.location).href,t),"zoom-in":R(new URL("/assets/zoom-in-e87dcbd3.svg",self.location).href,t),"zoom-out":R(new URL("/assets/zoom-out-2a21eaae.svg",self.location).href,t)},translations:{ar:R(new URL("/assets/ar-c993abbf.json",self.location).href,t),ca:R(new URL("/assets/ca-3ca6c26c.json",self.location).href,t),cs:R(new URL("/assets/cs-d847ea82.json",self.location).href,t),da:R(new URL("/assets/da-8ee65d3a.json",self.location).href,t),de:R(new URL("/assets/de-82594743.json",self.location).href,t),en:R(new URL("/assets/en-ca3d163b.json",self.location).href,t),es:R(new URL("/assets/es-6524831d.json",self.location).href,t),fa:R(new URL("/assets/fa-78ef321b.json",self.location).href,t),fi:R(new URL("/assets/fi-de0d242a.json",self.location).href,t),fr:R(new URL("/assets/fr-0d7ceb32.json",self.location).href,t),gl:R(new URL("/assets/gl-1de5ac0a.json",self.location).href,t),he:R(new URL("/assets/he-f4ffa1b9.json",self.location).href,t),"hi-in":R(new URL("/assets/hi-in-2f5eb44e.json",self.location).href,t),hu:R(new URL("/assets/hu-57ab884f.json",self.location).href,t),it:R(new URL("/assets/it-11f32fa7.json",self.location).href,t),ja:R(new URL("/assets/ja-566e04ca.json",self.location).href,t),"ko-kr":R(new URL("/assets/ko-kr-cb7fcdcc.json",self.location).href,t),ku:R(new URL("/assets/ku-35a7bf85.json",self.location).href,t),languages:R(new URL("/assets/languages-c3dbf703.json",self.location).href,t),main:R(new URL("/assets/main-c8312406.json",self.location).href,t),my:R(new URL("/assets/my-9e176f8b.json",self.location).href,t),ne:R(new URL("/assets/ne-2fcab306.json",self.location).href,t),no:R(new URL("/assets/no-081a09e1.json",self.location).href,t),pl:R(new URL("/assets/pl-90d9ac72.json",self.location).href,t),"pt-br":R(new URL("/assets/pt-br-13a0965d.json",self.location).href,t),"pt-pt":R(new URL("/assets/pt-pt-4159d215.json",self.location).href,t),ro:R(new URL("/assets/ro-cebd523e.json",self.location).href,t),ru:R(new URL("/assets/ru-b4a86a30.json",self.location).href,t),sv:R(new URL("/assets/sv-cffab93b.json",self.location).href,t),te:R(new URL("/assets/te-7484fdfa.json",self.location).href,t),th:R(new URL("/assets/th-914a50c3.json",self.location).href,t),tr:R(new URL("/assets/tr-e1e653c5.json",self.location).href,t),uk:R(new URL("/assets/uk-7ad1d492.json",self.location).href,t),vi:R(new URL("/assets/vi-d33925c8.json",self.location).href,t),"zh-cn":R(new URL("/assets/zh-cn-9e8ba7bf.json",self.location).href,t),"zh-tw":R(new URL("/assets/zh-tw-6a50acb0.json",self.location).href,t)},embedIcons:{codepen:R(new URL("/assets/codepen-c5091340.png",self.location).href,t),codesandbox:R(new URL("/assets/codesandbox-0d91ed96.png",self.location).href,t),excalidraw:R(new URL("/assets/excalidraw-99a33a0f.png",self.location).href,t),felt:R(new URL("/assets/felt-ce0f1fb6.png",self.location).href,t),figma:R(new URL("/assets/figma-12bf0233.png",self.location).href,t),github_gist:R(new URL("/assets/github_gist-fe770981.png",self.location).href,t),google_calendar:R(new URL("/assets/google_calendar-372998bd.png",self.location).href,t),google_maps:R(new URL("/assets/google_maps-96179f24.png",self.location).href,t),google_slides:R(new URL("/assets/google_slides-3c807caf.png",self.location).href,t),observable:R(new URL("/assets/observable-eba6b075.png",self.location).href,t),replit:R(new URL("/assets/replit-bce8ed12.png",self.location).href,t),scratch:R(new URL("/assets/scratch-93375fd4.png",self.location).href,t),spotify:R(new URL("/assets/spotify-a30d4066.png",self.location).href,t),tldraw:R(new URL("/assets/tldraw-76b04190.png",self.location).href,t),val_town:R(new URL("/assets/val_town-0b5e9c3e.png",self.location).href,t),vimeo:R(new URL("/assets/vimeo-f0a42f95.png",self.location).href,t),youtube:R(new URL("/assets/youtube-0f750243.png",self.location).href,t)}}}function P_(t){return t&&typeof t=="object"&&"parents"in t}function z_(t){for(let e=0,n=t.parents.length;e<n;e++)if(t.parents[e].__unsafe__getWithoutCapture(),t.parents[e].lastChangedEpoch!==t.parentEpochs[e])return!0;return!1}const Y0=(t,e)=>{if(t.children.remove(e)&&t.children.isEmpty&&P_(t))for(let n=0,r=t.parents.length;n<r;n++)Y0(t.parents[n],t)},tS=(t,e)=>{if(t.children.add(e)&&P_(t))for(let n=0,r=t.parents.length;n<r;n++)tS(t.parents[n],t)};function A_(t,e){return t===e||Object.is(t,e)||!!(t&&e&&typeof t.equals=="function"&&t.equals(e))}function Ya(t,e){const n=Symbol.for(`com.tldraw.state/${t}`),r=globalThis;return r[n]??(r[n]=e()),r[n]}const Aa=Ya("empty_array",()=>Object.freeze([])),R6=8;let N_=class{constructor(){this.arraySize=0,this.array=Array(R6),this.set=null}get isEmpty(){if(this.array)return this.arraySize===0;if(this.set)return this.set.size===0;throw new Error("no set or array")}add(e){if(this.array)return this.array.indexOf(e)!==-1?!1:this.arraySize<R6?(this.array[this.arraySize]=e,this.arraySize++,!0):(this.set=new Set(this.array),this.array=null,this.set.add(e),!0);if(this.set)return this.set.has(e)?!1:(this.set.add(e),!0);throw new Error("no set or array")}remove(e){if(this.array){const n=this.array.indexOf(e);return n===-1?!1:(this.array[n]=void 0,this.arraySize--,n!==this.arraySize&&(this.array[n]=this.array[this.arraySize],this.array[this.arraySize]=void 0),!0)}if(this.set)return this.set.has(e)?(this.set.delete(e),!0):!1;throw new Error("no set or array")}visit(e){if(this.array){for(let n=0;n<this.arraySize;n++){const r=this.array[n];typeof r<"u"&&e(r)}return}if(this.set){this.set.forEach(e);return}throw new Error("no set or array")}};const Ki=Symbol.for("com.tldraw.state/RESET_VALUE");let T_=class{constructor(e){this.capacity=e,this.index=0,this.buffer=new Array(e)}pushEntry(e,n,r){if(r!==void 0){if(r===Ki){this.clear();return}this.buffer[this.index]=[e,n,r],this.index=(this.index+1)%this.capacity}}clear(){this.index=0,this.buffer.fill(void 0)}getChangesSince(e){const{index:n,capacity:r,buffer:s}=this;for(let i=0;i<r;i++){const o=(n-1+r-i)%r,a=s[o];if(!a)return Ki;const[l,c]=a;if(i===0&&e>=c)return[];if(l<=e&&e<c){const d=i+1,h=new Array(d);for(let u=0;u<d;u++)h[u]=s[(o+u)%r][2];return h}}return Ki}},mO=class{constructor(e,n){this.below=e,this.child=n,this.offset=0,this.numNewParents=0}};const Pt=Ya("capture",()=>({stack:null}));function L_(t){Pt.stack=new mO(Pt.stack,t)}function M_(){var n;const t=Pt.stack;if(Pt.stack=t.below,t.numNewParents>0||t.offset!==t.child.parents.length){for(let r=t.offset;r<t.child.parents.length;r++){const s=t.child.parents[r];t.child.parents.indexOf(s)>=t.offset&&Y0(s,t.child)}if(t.child.parents.length=t.offset,t.child.parentEpochs.length=t.offset,(n=Pt.stack)!=null&&n.maybeRemoved)for(let r=0;r<Pt.stack.maybeRemoved.length;r++){const s=Pt.stack.maybeRemoved[r];t.child.parents.indexOf(s)===-1&&Y0(s,t.child)}}}function T5(t){if(Pt.stack){const e=Pt.stack.child.parents.indexOf(t);if(e<0&&(Pt.stack.numNewParents++,Pt.stack.child.isActivelyListening&&tS(t,Pt.stack.child)),e<0||e>=Pt.stack.offset){if(e!==Pt.stack.offset&&e>0){const n=Pt.stack.child.parents[Pt.stack.offset];Pt.stack.maybeRemoved?Pt.stack.maybeRemoved.indexOf(n)===-1&&Pt.stack.maybeRemoved.push(n):Pt.stack.maybeRemoved=[n]}Pt.stack.child.parents[Pt.stack.offset]=t,Pt.stack.child.parentEpochs[Pt.stack.offset]=t.lastChangedEpoch,Pt.stack.offset++}}}const Tl=-1;let yO=class{constructor(e,n,r){this.name=e,this.runEffect=n,this._isActivelyListening=!1,this.lastTraversedEpoch=Tl,this.lastReactedEpoch=Tl,this._scheduleCount=0,this.parentEpochs=[],this.parents=[],this.maybeExecute=()=>{this._isActivelyListening&&this.execute()},this._scheduleEffect=r==null?void 0:r.scheduleEffect}get isActivelyListening(){return this._isActivelyListening}get scheduleCount(){return this._scheduleCount}maybeScheduleEffect(){if(this._isActivelyListening&&this.lastReactedEpoch!==Qr()){if(this.parents.length&&!z_(this)){this.lastReactedEpoch=Qr();return}this.scheduleEffect()}}scheduleEffect(){this._scheduleCount++,this._scheduleEffect?this._scheduleEffect(this.maybeExecute):this.execute()}attach(){this._isActivelyListening=!0;for(let e=0,n=this.parents.length;e<n;e++)tS(this.parents[e],this)}detach(){this._isActivelyListening=!1;for(let e=0,n=this.parents.length;e<n;e++)Y0(this.parents[e],this)}execute(){try{L_(this);const e=this.runEffect(this.lastReactedEpoch);return this.lastReactedEpoch=Qr(),e}finally{M_()}}};const uf=Ya("EffectScheduler",()=>yO);function pf(t,e,n){const r=new uf(t,e,n);return r.attach(),r.scheduleEffect(),()=>{r.detach()}}let xO=class{constructor(e){this.parent=e,this.initialAtomValues=new Map}get isRoot(){return this.parent===null}commit(){if(this.isRoot){const e=this.initialAtomValues;this.initialAtomValues=new Map,j_(e.keys())}else this.initialAtomValues.forEach((e,n)=>{this.parent.initialAtomValues.has(n)||this.parent.initialAtomValues.set(n,e)})}abort(){rr.globalEpoch++,this.initialAtomValues.forEach((e,n)=>{var r;n.set(e),(r=n.historyBuffer)==null||r.clear()}),this.commit()}};const rr=Ya("transactions",()=>({globalEpoch:Tl+1,globalIsReacting:!1,currentTransaction:null}));function Qr(){return rr.globalEpoch}function j_(t){if(rr.globalIsReacting)throw new Error("cannot change atoms during reaction cycle");try{rr.globalIsReacting=!0;const e=new Set,n=r=>{r.lastTraversedEpoch!==rr.globalEpoch&&(r.lastTraversedEpoch=rr.globalEpoch,r instanceof uf?e.add(r):r.children.visit(n))};for(const r of t)r.children.visit(n);for(const r of e)r.maybeScheduleEffect()}finally{rr.globalIsReacting=!1}}function wO(t,e){rr.currentTransaction?rr.currentTransaction.initialAtomValues.has(t)||rr.currentTransaction.initialAtomValues.set(t,e):j_([t])}function SO(){rr.globalEpoch++}function bO(t){const e=new xO(rr.currentTransaction);rr.currentTransaction=e;try{let n=!1;const r=t(()=>n=!0);return n?e.abort():e.commit(),r}catch(n){throw e.abort(),n}finally{rr.currentTransaction=rr.currentTransaction.parent}}function fp(t){return rr.currentTransaction?t():bO(t)}let vO=class{constructor(e,n,r){this.name=e,this.current=n,this.lastChangedEpoch=Qr(),this.children=new N_,this.isEqual=(r==null?void 0:r.isEqual)??null,r&&(r.historyLength&&(this.historyBuffer=new T_(r.historyLength)),this.computeDiff=r.computeDiff)}__unsafe__getWithoutCapture(){return this.current}get(){return T5(this),this.current}set(e,n){var s,i;if(((s=this.isEqual)==null?void 0:s.call(this,this.current,e))??A_(this.current,e))return this.current;SO(),this.historyBuffer&&this.historyBuffer.pushEntry(this.lastChangedEpoch,Qr(),n??((i=this.computeDiff)==null?void 0:i.call(this,this.current,e,this.lastChangedEpoch,Qr()))??Ki),this.lastChangedEpoch=Qr();const r=this.current;return this.current=e,wO(this,r),e}update(e){return this.set(e(this.current))}getDiffSince(e){var n;return T5(this),e>=this.lastChangedEpoch?Aa:((n=this.historyBuffer)==null?void 0:n.getChangesSince(e))??Ki}};const kO=Ya("Atom",()=>vO);function hs(t,e,n){return new kO(t,e,n)}let $6=!1;function CO(){$6||($6=!0,console.warn(`Using \`@computed\` as a decorator for getters is deprecated and will be removed in the near future. Please refactor to use \`@computed\` as a decorator for methods.

// Before
@computed
get foo() {
	return 'foo'
}

// After
@computed
getFoo() {
	return 'foo'
}
`))}const L5=Symbol.for("com.tldraw.state/UNINITIALIZED"),nS=t=>t===L5,M5=Ya("WithDiff",()=>class{constructor(e,n){this.value=e,this.diff=n}});function _O(t,e){return new M5(t,e)}let EO=class{constructor(e,n,r){this.name=e,this.derive=n,this.lastChangedEpoch=Tl,this.lastTraversedEpoch=Tl,this.lastCheckedEpoch=Tl,this.parents=[],this.parentEpochs=[],this.children=new N_,this.state=L5,r!=null&&r.historyLength&&(this.historyBuffer=new T_(r.historyLength)),this.computeDiff=r==null?void 0:r.computeDiff,this.isEqual=(r==null?void 0:r.isEqual)??A_}get isActivelyListening(){return!this.children.isEmpty}__unsafe__getWithoutCapture(){var n;const e=this.lastChangedEpoch===Tl;if(!e&&(this.lastCheckedEpoch===Qr()||!z_(this)))return this.lastCheckedEpoch=Qr(),this.state;try{L_(this);const r=this.derive(this.state,this.lastCheckedEpoch),s=r instanceof M5?r.value:r;if(this.state===L5||!this.isEqual(s,this.state)){if(this.historyBuffer&&!e){const i=r instanceof M5?r.diff:void 0;this.historyBuffer.pushEntry(this.lastChangedEpoch,Qr(),i??((n=this.computeDiff)==null?void 0:n.call(this,this.state,s,this.lastCheckedEpoch,Qr()))??Ki)}this.lastChangedEpoch=Qr(),this.state=s}return this.lastCheckedEpoch=Qr(),this.state}finally{M_()}}get(){const e=this.__unsafe__getWithoutCapture();return T5(this),e}getDiffSince(e){var n;return this.get(),e>=this.lastChangedEpoch?Aa:((n=this.historyBuffer)==null?void 0:n.getChangesSince(e))??Ki}};const rS=Ya("Computed",()=>EO);function IO(t={},e,n,r){const s=r.value,i=Symbol.for("__@tldraw/state__computed__"+n);return r.value=function(){let o=this[i];return o||(o=new rS(n,s.bind(this),t),Object.defineProperty(this,i,{enumerable:!1,configurable:!1,writable:!1,value:o})),o.get()},r.value[zO]=!0,r}function O6(t={},e,n,r){return r.get?(CO(),PO(t,e,n,r)):IO(t,e,n,r)}function PO(t={},e,n,r){const s=r.get,i=Symbol.for("__@tldraw/state__computed__"+n);return r.get=function(){let o=this[i];return o||(o=new rS(n,s.bind(this),t),Object.defineProperty(this,i,{enumerable:!1,configurable:!1,writable:!1,value:o})),o.get()},r}const zO="@@__isComputedMethod__@@";function Qi(){if(arguments.length===1){const t=arguments[0];return(e,n,r)=>O6(t,e,n,r)}else return typeof arguments[0]=="string"?new rS(arguments[0],arguments[1],arguments[2]):O6(void 0,arguments[0],arguments[1],arguments[2])}const R_=1,AO=Ya("apiVersion",()=>R_);if(AO!==R_)throw new Error("You have multiple incompatible versions of @tldraw/state in your app. Please deduplicate the package.");function Iy(t,e){const n=ie.useRef(e);n.current=e;const[r,s,i]=ie.useMemo(()=>{let o=null;const a=d=>(o=d,()=>{o=null}),l=new uf(`useStateTracking(${t})`,()=>{var d;return(d=n.current)==null?void 0:d.call(n)},{scheduleEffect(){o==null||o()}});return[l,a,()=>l.scheduleCount]},[t]);return ie.useSyncExternalStore(s,i,i),ie.useEffect(()=>(r.attach(),r.maybeScheduleEffect(),()=>{r.detach()}),[r]),r.execute()}const D6={apply(t,e,n){return Iy(t.displayName??t.name??"tracked(???)",()=>t.apply(e,n))}},NO=Symbol.for("react.memo"),TO=Symbol.for("react.forward_ref");function Ye(t){let e=null;const n=t.$$typeof;return n===NO&&(t=t.type,e=t.compare),n===TO?v.memo(v.forwardRef(new Proxy(t.render,D6))):v.memo(new Proxy(t,D6),e)}function $_(){const t=arguments[0],e=arguments[1],n=arguments.length===3?void 0:arguments[2],r=arguments.length===3?arguments[2]:arguments[3];return v.useMemo(()=>Qi(`useComputed(${t})`,e,n),r)}function Zl(t,e,n=Aa){v.useEffect(()=>{const r=new uf(t,e);return r.attach(),r.execute(),()=>{r.detach()}},n)}function Q(){const t=arguments,e=t.length===3?t[2]:[t[0]],n=t.length===3?t[0]:`useValue(${t[0].name})`,r=v.useRef(!0);r.current=!0;const s=v.useMemo(()=>t.length===1?t[0]:Qi(n,()=>{if(r.current)return t[1]();try{return t[1]()}catch{return{}}}),e);try{const{subscribe:i,getSnapshot:o}=v.useMemo(()=>({subscribe:a=>pf(`useValue(${n})`,()=>{s.get(),a()}),getSnapshot:()=>s.get()}),[s]);return v.useSyncExternalStore(i,o,o)}finally{r.current=!1}}let b0=class{constructor(e){this.previousValue=e}get(){var r,s,i,o;const e=((s=(r=this.diff)==null?void 0:r.removed)==null?void 0:s.size)??0,n=((o=(i=this.diff)==null?void 0:i.added)==null?void 0:o.size)??0;if(!(e===0&&n===0))return{value:this.nextValue,diff:this.diff}}_add(e,n){var r,s;this.nextValue??(this.nextValue=new Set(this.previousValue)),this.nextValue.add(e),this.diff??(this.diff={}),n?(r=this.diff.removed)==null||r.delete(e):((s=this.diff).added??(s.added=new Set),this.diff.added.add(e))}add(e){var s,i,o;const n=this.previousValue.has(e);if(n)return((i=(s=this.diff)==null?void 0:s.removed)==null?void 0:i.has(e))?this._add(e,n):void 0;(o=this.nextValue)!=null&&o.has(e)||this._add(e,n)}_remove(e,n){var r,s;this.nextValue??(this.nextValue=new Set(this.previousValue)),this.nextValue.delete(e),this.diff??(this.diff={}),n?((r=this.diff).removed??(r.removed=new Set),this.diff.removed.add(e)):(s=this.diff.added)==null||s.delete(e)}remove(e){var s,i,o,a;const n=this.previousValue.has(e);if(!n)return((i=(s=this.diff)==null?void 0:s.added)==null?void 0:i.has(e))?this._remove(e,n):void 0;(a=(o=this.diff)==null?void 0:o.removed)!=null&&a.has(e)||this._remove(e,n)}};function q6(t){return Object.keys(t)}function Nn(t){return Object.values(t)}function qd(t){return Object.entries(t)}function LO(t){return Object.fromEntries(t)}function x2(t,e){const n={};let r=!1;for(const[s,i]of qd(t))e(s,i)?n[s]=i:r=!0;return r?n:t}const MO=()=>typeof process<"u"&&!1,H0=[],jO=()=>{const t=H0.splice(0,H0.length);for(const e of t)e()};let w2;function RO(){w2||(w2=requestAnimationFrame(()=>{w2=void 0,jO()}))}function $O(t){if(MO())return t();H0.includes(t)||(H0.push(t),RO())}let Ha=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");function O_(t){return t&&typeof t=="object"&&"parents"in t}function D_(t){for(let e=0,n=t.parents.length;e<n;e++)if(t.parents[e].__unsafe__getWithoutCapture(),t.parents[e].lastChangedEpoch!==t.parentEpochs[e])return!0;return!1}const G0=(t,e)=>{if(t.children.remove(e)&&t.children.isEmpty&&O_(t))for(let n=0,r=t.parents.length;n<r;n++)G0(t.parents[n],t)},sS=(t,e)=>{if(t.children.add(e)&&O_(t))for(let n=0,r=t.parents.length;n<r;n++)sS(t.parents[n],t)};function q_(t,e){return t===e||Object.is(t,e)||!!(t&&e&&typeof t.equals=="function"&&t.equals(e))}function Ga(t,e){const n=Symbol.for(`com.tldraw.state/${t}`),r=globalThis;return r[n]??(r[n]=e()),r[n]}const iS=Ga("empty_array",()=>Object.freeze([])),B6=8;let B_=class{constructor(){this.arraySize=0,this.array=Array(B6),this.set=null}get isEmpty(){if(this.array)return this.arraySize===0;if(this.set)return this.set.size===0;throw new Error("no set or array")}add(e){if(this.array)return this.array.indexOf(e)!==-1?!1:this.arraySize<B6?(this.array[this.arraySize]=e,this.arraySize++,!0):(this.set=new Set(this.array),this.array=null,this.set.add(e),!0);if(this.set)return this.set.has(e)?!1:(this.set.add(e),!0);throw new Error("no set or array")}remove(e){if(this.array){const n=this.array.indexOf(e);return n===-1?!1:(this.array[n]=void 0,this.arraySize--,n!==this.arraySize&&(this.array[n]=this.array[this.arraySize],this.array[this.arraySize]=void 0),!0)}if(this.set)return this.set.has(e)?(this.set.delete(e),!0):!1;throw new Error("no set or array")}visit(e){if(this.array){for(let n=0;n<this.arraySize;n++){const r=this.array[n];typeof r<"u"&&e(r)}return}if(this.set){this.set.forEach(e);return}throw new Error("no set or array")}};const Wi=Symbol.for("com.tldraw.state/RESET_VALUE");let F_=class{constructor(e){this.capacity=e,this.index=0,this.buffer=new Array(e)}pushEntry(e,n,r){if(r!==void 0){if(r===Wi){this.clear();return}this.buffer[this.index]=[e,n,r],this.index=(this.index+1)%this.capacity}}clear(){this.index=0,this.buffer.fill(void 0)}getChangesSince(e){const{index:n,capacity:r,buffer:s}=this;for(let i=0;i<r;i++){const o=(n-1+r-i)%r,a=s[o];if(!a)return Wi;const[l,c]=a;if(i===0&&e>=c)return[];if(l<=e&&e<c){const d=i+1,h=new Array(d);for(let u=0;u<d;u++)h[u]=s[(o+u)%r][2];return h}}return Wi}},OO=class{constructor(e,n){this.below=e,this.child=n,this.offset=0,this.numNewParents=0}};const zt=Ga("capture",()=>({stack:null}));function K_(t){zt.stack=new OO(zt.stack,t)}function W_(){var n;const t=zt.stack;if(zt.stack=t.below,t.numNewParents>0||t.offset!==t.child.parents.length){for(let r=t.offset;r<t.child.parents.length;r++){const s=t.child.parents[r];t.child.parents.indexOf(s)>=t.offset&&G0(s,t.child)}if(t.child.parents.length=t.offset,t.child.parentEpochs.length=t.offset,(n=zt.stack)!=null&&n.maybeRemoved)for(let r=0;r<zt.stack.maybeRemoved.length;r++){const s=zt.stack.maybeRemoved[r];t.child.parents.indexOf(s)===-1&&G0(s,t.child)}}}function j5(t){if(zt.stack){const e=zt.stack.child.parents.indexOf(t);if(e<0&&(zt.stack.numNewParents++,zt.stack.child.isActivelyListening&&sS(t,zt.stack.child)),e<0||e>=zt.stack.offset){if(e!==zt.stack.offset&&e>0){const n=zt.stack.child.parents[zt.stack.offset];zt.stack.maybeRemoved?zt.stack.maybeRemoved.indexOf(n)===-1&&zt.stack.maybeRemoved.push(n):zt.stack.maybeRemoved=[n]}zt.stack.child.parents[zt.stack.offset]=t,zt.stack.child.parentEpochs[zt.stack.offset]=t.lastChangedEpoch,zt.stack.offset++}}}const Ll=-1;let DO=class{constructor(e,n,r){this.name=e,this.runEffect=n,this._isActivelyListening=!1,this.lastTraversedEpoch=Ll,this.lastReactedEpoch=Ll,this._scheduleCount=0,this.parentEpochs=[],this.parents=[],this.maybeExecute=()=>{this._isActivelyListening&&this.execute()},this._scheduleEffect=r==null?void 0:r.scheduleEffect}get isActivelyListening(){return this._isActivelyListening}get scheduleCount(){return this._scheduleCount}maybeScheduleEffect(){if(this._isActivelyListening&&this.lastReactedEpoch!==Jr()){if(this.parents.length&&!D_(this)){this.lastReactedEpoch=Jr();return}this.scheduleEffect()}}scheduleEffect(){this._scheduleCount++,this._scheduleEffect?this._scheduleEffect(this.maybeExecute):this.execute()}attach(){this._isActivelyListening=!0;for(let e=0,n=this.parents.length;e<n;e++)sS(this.parents[e],this)}detach(){this._isActivelyListening=!1;for(let e=0,n=this.parents.length;e<n;e++)G0(this.parents[e],this)}execute(){try{K_(this);const e=this.runEffect(this.lastReactedEpoch);return this.lastReactedEpoch=Jr(),e}finally{W_()}}};const U_=Ga("EffectScheduler",()=>DO);function qO(t,e,n){const r=new U_(t,e,n);return{scheduler:r,start:s=>{const i=(s==null?void 0:s.force)??!1;r.attach(),i?r.scheduleEffect():r.maybeScheduleEffect()},stop:()=>{r.detach()}}}let BO=class{constructor(e){this.parent=e,this.initialAtomValues=new Map}get isRoot(){return this.parent===null}commit(){if(this.isRoot){const e=this.initialAtomValues;this.initialAtomValues=new Map,V_(e.keys())}else this.initialAtomValues.forEach((e,n)=>{this.parent.initialAtomValues.has(n)||this.parent.initialAtomValues.set(n,e)})}abort(){sr.globalEpoch++,this.initialAtomValues.forEach((e,n)=>{var r;n.set(e),(r=n.historyBuffer)==null||r.clear()}),this.commit()}};const sr=Ga("transactions",()=>({globalEpoch:Ll+1,globalIsReacting:!1,currentTransaction:null}));function Jr(){return sr.globalEpoch}function V_(t){if(sr.globalIsReacting)throw new Error("cannot change atoms during reaction cycle");try{sr.globalIsReacting=!0;const e=new Set,n=r=>{r.lastTraversedEpoch!==sr.globalEpoch&&(r.lastTraversedEpoch=sr.globalEpoch,r instanceof U_?e.add(r):r.children.visit(n))};for(const r of t)r.children.visit(n);for(const r of e)r.maybeScheduleEffect()}finally{sr.globalIsReacting=!1}}function FO(t,e){sr.currentTransaction?sr.currentTransaction.initialAtomValues.has(t)||sr.currentTransaction.initialAtomValues.set(t,e):V_([t])}function KO(){sr.globalEpoch++}function WO(t){const e=new BO(sr.currentTransaction);sr.currentTransaction=e;try{let n=!1;const r=t(()=>n=!0);return n?e.abort():e.commit(),r}catch(n){throw e.abort(),n}finally{sr.currentTransaction=sr.currentTransaction.parent}}function Oc(t){return sr.currentTransaction?t():WO(t)}let UO=class{constructor(e,n,r){this.name=e,this.current=n,this.lastChangedEpoch=Jr(),this.children=new B_,this.isEqual=(r==null?void 0:r.isEqual)??null,r&&(r.historyLength&&(this.historyBuffer=new F_(r.historyLength)),this.computeDiff=r.computeDiff)}__unsafe__getWithoutCapture(){return this.current}get(){return j5(this),this.current}set(e,n){var s,i;if(((s=this.isEqual)==null?void 0:s.call(this,this.current,e))??q_(this.current,e))return this.current;KO(),this.historyBuffer&&this.historyBuffer.pushEntry(this.lastChangedEpoch,Jr(),n??((i=this.computeDiff)==null?void 0:i.call(this,this.current,e,this.lastChangedEpoch,Jr()))??Wi),this.lastChangedEpoch=Jr();const r=this.current;return this.current=e,FO(this,r),e}update(e){return this.set(e(this.current))}getDiffSince(e){var n;return j5(this),e>=this.lastChangedEpoch?iS:((n=this.historyBuffer)==null?void 0:n.getChangesSince(e))??Wi}};const VO=Ga("Atom",()=>UO);function ig(t,e,n){return new VO(t,e,n)}let F6=!1;function XO(){F6||(F6=!0,console.warn(`Using \`@computed\` as a decorator for getters is deprecated and will be removed in the near future. Please refactor to use \`@computed\` as a decorator for methods.

// Before
@computed
get foo() {
	return 'foo'
}

// After
@computed
getFoo() {
	return 'foo'
}
`))}const R5=Symbol.for("com.tldraw.state/UNINITIALIZED"),S2=t=>t===R5,$5=Ga("WithDiff",()=>class{constructor(e,n){this.value=e,this.diff=n}});function og(t,e){return new $5(t,e)}let YO=class{constructor(e,n,r){this.name=e,this.derive=n,this.lastChangedEpoch=Ll,this.lastTraversedEpoch=Ll,this.lastCheckedEpoch=Ll,this.parents=[],this.parentEpochs=[],this.children=new B_,this.state=R5,r!=null&&r.historyLength&&(this.historyBuffer=new F_(r.historyLength)),this.computeDiff=r==null?void 0:r.computeDiff,this.isEqual=(r==null?void 0:r.isEqual)??q_}get isActivelyListening(){return!this.children.isEmpty}__unsafe__getWithoutCapture(){var n;const e=this.lastChangedEpoch===Ll;if(!e&&(this.lastCheckedEpoch===Jr()||!D_(this)))return this.lastCheckedEpoch=Jr(),this.state;try{K_(this);const r=this.derive(this.state,this.lastCheckedEpoch),s=r instanceof $5?r.value:r;if(this.state===R5||!this.isEqual(s,this.state)){if(this.historyBuffer&&!e){const i=r instanceof $5?r.diff:void 0;this.historyBuffer.pushEntry(this.lastChangedEpoch,Jr(),i??((n=this.computeDiff)==null?void 0:n.call(this,this.state,s,this.lastCheckedEpoch,Jr()))??Wi)}this.lastChangedEpoch=Jr(),this.state=s}return this.lastCheckedEpoch=Jr(),this.state}finally{W_()}}get(){const e=this.__unsafe__getWithoutCapture();return j5(this),e}getDiffSince(e){var n;return this.get(),e>=this.lastChangedEpoch?iS:((n=this.historyBuffer)==null?void 0:n.getChangesSince(e))??Wi}};const oS=Ga("Computed",()=>YO);function HO(t={},e,n,r){const s=r.value,i=Symbol.for("__@tldraw/state__computed__"+n);return r.value=function(){let o=this[i];return o||(o=new oS(n,s.bind(this),t),Object.defineProperty(this,i,{enumerable:!1,configurable:!1,writable:!1,value:o})),o.get()},r.value[ZO]=!0,r}function K6(t={},e,n,r){return r.get?(XO(),GO(t,e,n,r)):HO(t,e,n,r)}function GO(t={},e,n,r){const s=r.get,i=Symbol.for("__@tldraw/state__computed__"+n);return r.get=function(){let o=this[i];return o||(o=new oS(n,s.bind(this),t),Object.defineProperty(this,i,{enumerable:!1,configurable:!1,writable:!1,value:o})),o.get()},r}const ZO="@@__isComputedMethod__@@";function Ni(){if(arguments.length===1){const t=arguments[0];return(e,n,r)=>K6(t,e,n,r)}else return typeof arguments[0]=="string"?new oS(arguments[0],arguments[1],arguments[2]):K6(void 0,arguments[0],arguments[1],arguments[2])}const X_=1,QO=Ga("apiVersion",()=>X_);if(QO!==X_)throw new Error("You have multiple incompatible versions of @tldraw/state in your app. Please deduplicate the package.");let W6=class{constructor(){this.items=new WeakMap}get(e,n){return this.items.has(e)||this.items.set(e,n(e)),this.items.get(e)}};var Z0={exports:{}};Z0.exports;(function(t,e){var n=200,r="__lodash_hash_undefined__",s=1,i=2,o=9007199254740991,a="[object Arguments]",l="[object Array]",c="[object AsyncFunction]",d="[object Boolean]",h="[object Date]",u="[object Error]",p="[object Function]",y="[object GeneratorFunction]",m="[object Map]",w="[object Number]",S="[object Null]",b="[object Object]",g="[object Promise]",x="[object Proxy]",k="[object RegExp]",C="[object Set]",_="[object String]",E="[object Symbol]",z="[object Undefined]",P="[object WeakMap]",A="[object ArrayBuffer]",N="[object DataView]",L="[object Float32Array]",M="[object Float64Array]",q="[object Int8Array]",D="[object Int16Array]",X="[object Int32Array]",O="[object Uint8Array]",K="[object Uint8ClampedArray]",W="[object Uint16Array]",G="[object Uint32Array]",J=/[\\^$.*+?()[\]{}|]/g,ye=/^\[object .+?Constructor\]$/,Le=/^(?:0|[1-9]\d*)$/,ne={};ne[L]=ne[M]=ne[q]=ne[D]=ne[X]=ne[O]=ne[K]=ne[W]=ne[G]=!0,ne[a]=ne[l]=ne[A]=ne[d]=ne[N]=ne[h]=ne[u]=ne[p]=ne[m]=ne[w]=ne[b]=ne[k]=ne[C]=ne[_]=ne[P]=!1;var ve=typeof $n=="object"&&$n&&$n.Object===Object&&$n,Ie=typeof self=="object"&&self&&self.Object===Object&&self,rt=ve||Ie||Function("return this")(),Pe=e&&!e.nodeType&&e,$e=Pe&&!0&&t&&!t.nodeType&&t,Ce=$e&&$e.exports===Pe,Je=Ce&&ve.process,Ct=function(){try{return Je&&Je.binding&&Je.binding("util")}catch{}}(),Jt=Ct&&Ct.isTypedArray;function Ke(T,B){for(var Z=-1,le=T==null?0:T.length,Et=0,Re=[];++Z<le;){var en=T[Z];B(en,Z,T)&&(Re[Et++]=en)}return Re}function He(T,B){for(var Z=-1,le=B.length,Et=T.length;++Z<le;)T[Et+Z]=B[Z];return T}function bs(T,B){for(var Z=-1,le=T==null?0:T.length;++Z<le;)if(B(T[Z],Z,T))return!0;return!1}function Vs(T,B){for(var Z=-1,le=Array(T);++Z<T;)le[Z]=B(Z);return le}function ul(T){return function(B){return T(B)}}function ra(T,B){return T.has(B)}function sa(T,B){return T==null?void 0:T[B]}function pl(T){var B=-1,Z=Array(T.size);return T.forEach(function(le,Et){Z[++B]=[Et,le]}),Z}function fl(T,B){return function(Z){return T(B(Z))}}function Yf(T){var B=-1,Z=Array(T.size);return T.forEach(function(le){Z[++B]=le}),Z}var Kh=Array.prototype,ki=Function.prototype,Ci=Object.prototype,Tc=rt["__core-js_shared__"],gl=ki.toString,vs=Ci.hasOwnProperty,Xs=function(){var T=/[^.]+$/.exec(Tc&&Tc.keys&&Tc.keys.IE_PROTO||"");return T?"Symbol(src)_1."+T:""}(),Wh=Ci.toString,Hf=RegExp("^"+gl.call(vs).replace(J,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Uh=Ce?rt.Buffer:void 0,Lc=rt.Symbol,Vh=rt.Uint8Array,ml=Ci.propertyIsEnumerable,Gf=Kh.splice,Ys=Lc?Lc.toStringTag:void 0,Zf=Object.getOwnPropertySymbols,Qf=Uh?Uh.isBuffer:void 0,f2=fl(Object.keys,Object),Mc=$c(rt,"DataView"),yl=$c(rt,"Map"),F=$c(rt,"Promise"),V=$c(rt,"Set"),H=$c(rt,"WeakMap"),te=$c(Object,"create"),oe=bl(Mc),ze=bl(yl),xe=bl(F),de=bl(V),Ae=bl(H),Ee=Lc?Lc.prototype:void 0,rn=Ee?Ee.valueOf:void 0;function _t(T){var B=-1,Z=T==null?0:T.length;for(this.clear();++B<Z;){var le=T[B];this.set(le[0],le[1])}}function _e(){this.__data__=te?te(null):{},this.size=0}function yt(T){var B=this.has(T)&&delete this.__data__[T];return this.size-=B?1:0,B}function ln(T){var B=this.__data__;if(te){var Z=B[T];return Z===r?void 0:Z}return vs.call(B,T)?B[T]:void 0}function xl(T){var B=this.__data__;return te?B[T]!==void 0:vs.call(B,T)}function _i(T,B){var Z=this.__data__;return this.size+=this.has(T)?0:1,Z[T]=te&&B===void 0?r:B,this}_t.prototype.clear=_e,_t.prototype.delete=yt,_t.prototype.get=ln,_t.prototype.has=xl,_t.prototype.set=_i;function Un(T){var B=-1,Z=T==null?0:T.length;for(this.clear();++B<Z;){var le=T[B];this.set(le[0],le[1])}}function ia(){this.__data__=[],this.size=0}function oa(T){var B=this.__data__,Z=Jf(B,T);if(Z<0)return!1;var le=B.length-1;return Z==le?B.pop():Gf.call(B,Z,1),--this.size,!0}function ks(T){var B=this.__data__,Z=Jf(B,T);return Z<0?void 0:B[Z][1]}function jc(T){return Jf(this.__data__,T)>-1}function Rc(T,B){var Z=this.__data__,le=Jf(Z,T);return le<0?(++this.size,Z.push([T,B])):Z[le][1]=B,this}Un.prototype.clear=ia,Un.prototype.delete=oa,Un.prototype.get=ks,Un.prototype.has=jc,Un.prototype.set=Rc;function Cs(T){var B=-1,Z=T==null?0:T.length;for(this.clear();++B<Z;){var le=T[B];this.set(le[0],le[1])}}function We(){this.size=0,this.__data__={hash:new _t,map:new(yl||Un),string:new _t}}function En(T){var B=eg(this,T).delete(T);return this.size-=B?1:0,B}function Er(T){return eg(this,T).get(T)}function hn(T){return eg(this,T).has(T)}function wl(T,B){var Z=eg(this,T),le=Z.size;return Z.set(T,B),this.size+=Z.size==le?0:1,this}Cs.prototype.clear=We,Cs.prototype.delete=En,Cs.prototype.get=Er,Cs.prototype.has=hn,Cs.prototype.set=wl;function Sl(T){var B=-1,Z=T==null?0:T.length;for(this.__data__=new Cs;++B<Z;)this.add(T[B])}function g2(T){return this.__data__.set(T,r),this}function w$(T){return this.__data__.has(T)}Sl.prototype.add=Sl.prototype.push=g2,Sl.prototype.has=w$;function aa(T){var B=this.__data__=new Un(T);this.size=B.size}function S$(){this.__data__=new Un,this.size=0}function b$(T){var B=this.__data__,Z=B.delete(T);return this.size=B.size,Z}function v$(T){return this.__data__.get(T)}function k$(T){return this.__data__.has(T)}function C$(T,B){var Z=this.__data__;if(Z instanceof Un){var le=Z.__data__;if(!yl||le.length<n-1)return le.push([T,B]),this.size=++Z.size,this;Z=this.__data__=new Cs(le)}return Z.set(T,B),this.size=Z.size,this}aa.prototype.clear=S$,aa.prototype.delete=b$,aa.prototype.get=v$,aa.prototype.has=k$,aa.prototype.set=C$;function _$(T,B){var Z=tg(T),le=!Z&&q$(T),Et=!Z&&!le&&m2(T),Re=!Z&&!le&&!Et&&N6(T),en=Z||le||Et||Re,gn=en?Vs(T.length,String):[],In=gn.length;for(var Kt in T)(B||vs.call(T,Kt))&&!(en&&(Kt=="length"||Et&&(Kt=="offset"||Kt=="parent")||Re&&(Kt=="buffer"||Kt=="byteLength"||Kt=="byteOffset")||j$(Kt,In)))&&gn.push(Kt);return gn}function Jf(T,B){for(var Z=T.length;Z--;)if(I6(T[Z][0],B))return Z;return-1}function E$(T,B,Z){var le=B(T);return tg(T)?le:He(le,Z(T))}function Xh(T){return T==null?T===void 0?z:S:Ys&&Ys in Object(T)?L$(T):D$(T)}function k6(T){return Yh(T)&&Xh(T)==a}function C6(T,B,Z,le,Et){return T===B?!0:T==null||B==null||!Yh(T)&&!Yh(B)?T!==T&&B!==B:I$(T,B,Z,le,C6,Et)}function I$(T,B,Z,le,Et,Re){var en=tg(T),gn=tg(B),In=en?l:la(T),Kt=gn?l:la(B);In=In==a?b:In,Kt=Kt==a?b:Kt;var Wr=In==b,Hs=Kt==b,Vn=In==Kt;if(Vn&&m2(T)){if(!m2(B))return!1;en=!0,Wr=!1}if(Vn&&!Wr)return Re||(Re=new aa),en||N6(T)?_6(T,B,Z,le,Et,Re):N$(T,B,In,Z,le,Et,Re);if(!(Z&s)){var _s=Wr&&vs.call(T,"__wrapped__"),Es=Hs&&vs.call(B,"__wrapped__");if(_s||Es){var ca=_s?T.value():T,go=Es?B.value():B;return Re||(Re=new aa),Et(ca,go,Z,le,Re)}}return Vn?(Re||(Re=new aa),T$(T,B,Z,le,Et,Re)):!1}function P$(T){if(!A6(T)||$$(T))return!1;var B=P6(T)?Hf:ye;return B.test(bl(T))}function z$(T){return Yh(T)&&z6(T.length)&&!!ne[Xh(T)]}function A$(T){if(!O$(T))return f2(T);var B=[];for(var Z in Object(T))vs.call(T,Z)&&Z!="constructor"&&B.push(Z);return B}function _6(T,B,Z,le,Et,Re){var en=Z&s,gn=T.length,In=B.length;if(gn!=In&&!(en&&In>gn))return!1;var Kt=Re.get(T);if(Kt&&Re.get(B))return Kt==B;var Wr=-1,Hs=!0,Vn=Z&i?new Sl:void 0;for(Re.set(T,B),Re.set(B,T);++Wr<gn;){var _s=T[Wr],Es=B[Wr];if(le)var ca=en?le(Es,_s,Wr,B,T,Re):le(_s,Es,Wr,T,B,Re);if(ca!==void 0){if(ca)continue;Hs=!1;break}if(Vn){if(!bs(B,function(go,vl){if(!ra(Vn,vl)&&(_s===go||Et(_s,go,Z,le,Re)))return Vn.push(vl)})){Hs=!1;break}}else if(!(_s===Es||Et(_s,Es,Z,le,Re))){Hs=!1;break}}return Re.delete(T),Re.delete(B),Hs}function N$(T,B,Z,le,Et,Re,en){switch(Z){case N:if(T.byteLength!=B.byteLength||T.byteOffset!=B.byteOffset)return!1;T=T.buffer,B=B.buffer;case A:return!(T.byteLength!=B.byteLength||!Re(new Vh(T),new Vh(B)));case d:case h:case w:return I6(+T,+B);case u:return T.name==B.name&&T.message==B.message;case k:case _:return T==B+"";case m:var gn=pl;case C:var In=le&s;if(gn||(gn=Yf),T.size!=B.size&&!In)return!1;var Kt=en.get(T);if(Kt)return Kt==B;le|=i,en.set(T,B);var Wr=_6(gn(T),gn(B),le,Et,Re,en);return en.delete(T),Wr;case E:if(rn)return rn.call(T)==rn.call(B)}return!1}function T$(T,B,Z,le,Et,Re){var en=Z&s,gn=E6(T),In=gn.length,Kt=E6(B),Wr=Kt.length;if(In!=Wr&&!en)return!1;for(var Hs=In;Hs--;){var Vn=gn[Hs];if(!(en?Vn in B:vs.call(B,Vn)))return!1}var _s=Re.get(T);if(_s&&Re.get(B))return _s==B;var Es=!0;Re.set(T,B),Re.set(B,T);for(var ca=en;++Hs<In;){Vn=gn[Hs];var go=T[Vn],vl=B[Vn];if(le)var T6=en?le(vl,go,Vn,B,T,Re):le(go,vl,Vn,T,B,Re);if(!(T6===void 0?go===vl||Et(go,vl,Z,le,Re):T6)){Es=!1;break}ca||(ca=Vn=="constructor")}if(Es&&!ca){var ng=T.constructor,rg=B.constructor;ng!=rg&&"constructor"in T&&"constructor"in B&&!(typeof ng=="function"&&ng instanceof ng&&typeof rg=="function"&&rg instanceof rg)&&(Es=!1)}return Re.delete(T),Re.delete(B),Es}function E6(T){return E$(T,K$,M$)}function eg(T,B){var Z=T.__data__;return R$(B)?Z[typeof B=="string"?"string":"hash"]:Z.map}function $c(T,B){var Z=sa(T,B);return P$(Z)?Z:void 0}function L$(T){var B=vs.call(T,Ys),Z=T[Ys];try{T[Ys]=void 0;var le=!0}catch{}var Et=Wh.call(T);return le&&(B?T[Ys]=Z:delete T[Ys]),Et}var M$=Zf?function(T){return T==null?[]:(T=Object(T),Ke(Zf(T),function(B){return ml.call(T,B)}))}:W$,la=Xh;(Mc&&la(new Mc(new ArrayBuffer(1)))!=N||yl&&la(new yl)!=m||F&&la(F.resolve())!=g||V&&la(new V)!=C||H&&la(new H)!=P)&&(la=function(T){var B=Xh(T),Z=B==b?T.constructor:void 0,le=Z?bl(Z):"";if(le)switch(le){case oe:return N;case ze:return m;case xe:return g;case de:return C;case Ae:return P}return B});function j$(T,B){return B=B??o,!!B&&(typeof T=="number"||Le.test(T))&&T>-1&&T%1==0&&T<B}function R$(T){var B=typeof T;return B=="string"||B=="number"||B=="symbol"||B=="boolean"?T!=="__proto__":T===null}function $$(T){return!!Xs&&Xs in T}function O$(T){var B=T&&T.constructor,Z=typeof B=="function"&&B.prototype||Ci;return T===Z}function D$(T){return Wh.call(T)}function bl(T){if(T!=null){try{return gl.call(T)}catch{}try{return T+""}catch{}}return""}function I6(T,B){return T===B||T!==T&&B!==B}var q$=k6(function(){return arguments}())?k6:function(T){return Yh(T)&&vs.call(T,"callee")&&!ml.call(T,"callee")},tg=Array.isArray;function B$(T){return T!=null&&z6(T.length)&&!P6(T)}var m2=Qf||U$;function F$(T,B){return C6(T,B)}function P6(T){if(!A6(T))return!1;var B=Xh(T);return B==p||B==y||B==c||B==x}function z6(T){return typeof T=="number"&&T>-1&&T%1==0&&T<=o}function A6(T){var B=typeof T;return T!=null&&(B=="object"||B=="function")}function Yh(T){return T!=null&&typeof T=="object"}var N6=Jt?ul(Jt):z$;function K$(T){return B$(T)?_$(T):A$(T)}function W$(){return[]}function U$(){return!1}t.exports=F$})(Z0,Z0.exports);var JO=Z0.exports;const Y_=yc(JO);function eD(t){if(t.length===0)return new Set;const e=t[0],n=t.slice(1),r=new Set;for(const s of e)n.every(i=>i.has(s))&&r.add(s);return r}function tD(t,e){const n={};for(const r of e)t.has(r)||(n.added??(n.added=new Set),n.added.add(r));for(const r of t)e.has(r)||(n.removed??(n.removed=new Set),n.removed.add(r));return n.added||n.removed?n:void 0}function U6(t,e){for(const[n,r]of Object.entries(t)){const s=r,i=e[n];if("eq"in s&&i!==s.eq||"neq"in s&&i===s.neq||"gt"in s&&(typeof i!="number"||i<=s.gt))return!1}return!0}function V6(t,e,n){const r=Object.fromEntries(Object.keys(n).map(s=>[s,new Set]));for(const[s,i]of Object.entries(n))if("eq"in i){const a=t.index(e,s).get().get(i.eq);if(a)for(const l of a)r[s].add(l)}else if("neq"in i){const o=t.index(e,s);for(const[a,l]of o.get())if(a!==i.neq)for(const c of l)r[s].add(c)}else if("gt"in i){const o=t.index(e,s);for(const[a,l]of o.get())if(a>i.gt)for(const c of l)r[s].add(c)}return eD(Object.values(r))}let nD=class{constructor(e,n){this.atoms=e,this.history=n,this.indexCache=new Map,this.historyCache=new Map}filterHistory(e){if(this.historyCache.has(e))return this.historyCache.get(e);const n=Ni("filterHistory:"+e,(r,s)=>{if(S2(r))return this.history.get();const i=this.history.getDiffSince(s);if(i===Wi)return this.history.get();const o={added:{},removed:{},updated:{}};let a=0,l=0,c=0;for(const d of i){for(const h of Nn(d.added))if(h.typeName===e)if(o.removed[h.id]){const u=o.removed[h.id];delete o.removed[h.id],l--,u!==h&&(o.updated[h.id]=[u,h],c++)}else o.added[h.id]=h,a++;for(const[h,u]of Nn(d.updated))u.typeName===e&&(o.added[u.id]?o.added[u.id]=u:o.updated[u.id]?o.updated[u.id]=[o.updated[u.id][0],u]:(o.updated[u.id]=[h,u],c++));for(const h of Nn(d.removed))h.typeName===e&&(o.added[h.id]?(delete o.added[h.id],a--):o.updated[h.id]?(o.removed[h.id]=o.updated[h.id][0],delete o.updated[h.id],c--,l++):(o.removed[h.id]=h,l++))}return a||l||c?og(this.history.get(),o):r},{historyLength:100});return this.historyCache.set(e,n),n}index(e,n){const r=e+":"+n;if(this.indexCache.has(r))return this.indexCache.get(r);const s=this.__uncached_createIndex(e,n);return this.indexCache.set(r,s),s}__uncached_createIndex(e,n){const r=this.filterHistory(e),s=()=>{r.get();const i=new Map;for(const o of Nn(this.atoms.get())){const a=o.get();if(a.typeName===e){const l=a[n];i.has(l)||i.set(l,new Set),i.get(l).add(a.id)}}return i};return Ni("index:"+e+":"+n,(i,o)=>{if(S2(i))return s();const a=r.getDiffSince(o);if(a===Wi)return s();const l=new Map,c=(p,y)=>{let m=l.get(p);m||(m=new b0(i.get(p)??new Set)),m.add(y),l.set(p,m)},d=(p,y)=>{let m=l.get(p);m||(m=new b0(i.get(p)??new Set)),m.remove(y),l.set(p,m)};for(const p of a){for(const y of Nn(p.added))if(y.typeName===e){const m=y[n];c(m,y.id)}for(const[y,m]of Nn(p.updated))if(m.typeName===e){const w=y[n],S=m[n];w!==S&&(d(w,m.id),c(S,m.id))}for(const y of Nn(p.removed))if(y.typeName===e){const m=y[n];d(m,y.id)}}let h,u;for(const[p,y]of l){const m=y.get();m&&(h||(h=new Map(i)),u||(u=new Map),m.value.size===0?h.delete(p):h.set(p,m.value),u.set(p,m.diff))}return h&&u?og(h,u):i},{historyLength:100})}record(e,n=()=>({}),r="record:"+e+(n?":"+n.toString():"")){const s=this.ids(e,n,r);return Ni(r,()=>{var i;for(const o of s.get())return(i=this.atoms.get()[o])==null?void 0:i.get()})}records(e,n=()=>({}),r="records:"+e+(n?":"+n.toString():"")){const s=this.ids(e,n,"ids:"+r);return Ni(r,()=>[...s.get()].map(i=>{const o=this.atoms.get()[i];if(!o)throw new Error("no atom found for record id: "+i);return o.get()}))}ids(e,n=()=>({}),r="ids:"+e+(n?":"+n.toString():"")){const s=this.filterHistory(e),i=()=>{s.get();const l=n();return Object.keys(l).length===0?new Set(Nn(this.atoms.get()).flatMap(c=>{const d=c.get();return d.typeName===e?d.id:[]})):V6(this,e,l)},o=l=>{const c=i(),d=tD(l,c);return d?og(c,d):l},a=Ni("ids_query:"+r,n,{isEqual:Y_});return Ni("query:"+r,(l,c)=>{const d=a.get();if(S2(l))return i();if(c<a.lastChangedEpoch)return o(l);const h=s.getDiffSince(c);if(h===Wi)return o(l);const u=new b0(l);for(const y of h){for(const m of Nn(y.added))m.typeName===e&&U6(d,m)&&u.add(m.id);for(const[m,w]of Nn(y.updated))w.typeName===e&&(U6(d,w)?u.add(w.id):u.remove(w.id));for(const m of Nn(y.removed))m.typeName===e&&u.remove(m.id)}const p=u.get();return p?og(p.value,p.diff):l},{historyLength:50})}exec(e,n){const r=V6(this,e,n);if(r.size===0)return iS;const s=this.atoms.get();return[...r].map(i=>s[i].get())}};let H_=class{constructor(e){this.id=Ha(),this.atoms=ig("store_atoms",{}),this.history=ig("history",0,{historyLength:1e3}),this.query=new nD(this.atoms,this.history),this.listeners=new Set,this.historyAccumulator=new sD,this._runCallbacks=!0,this.put=(s,i)=>{Oc(()=>{const o={},a={},l=this.atoms.__unsafe__getWithoutCapture();let c=null,d,h=!1;const u=this.onBeforeCreate&&this._runCallbacks?this.onBeforeCreate:null,p=this.onBeforeChange&&this._runCallbacks?this.onBeforeChange:null,y=this.isMergingRemoteChanges?"remote":"user";for(let m=0,w=s.length;m<w;m++){d=s[m];const S=(c??l)[d.id];if(S){p&&(d=p(S.get(),d,y));const b=S.__unsafe__getWithoutCapture();d=this.schema.validateRecord(this,d,i??"updateRecord",b),S.set(d);const g=S.__unsafe__getWithoutCapture();b!==g&&(h=!0,o[d.id]=[b,g])}else u&&(d=u(d,y)),h=!0,d=this.schema.validateRecord(this,d,i??"createRecord",null),a[d.id]=d,c||(c={...l}),c[d.id]=ig("atom:"+d.id,d)}if(c&&this.atoms.set(c),!!h&&(this.updateHistory({added:a,updated:o,removed:{}}),this._runCallbacks)){const{onAfterCreate:m,onAfterChange:w}=this;m&&Object.values(a).forEach(S=>{m(S,y)}),w&&Object.values(o).forEach(([S,b])=>{w(S,b,y)})}})},this.remove=s=>{Oc(()=>{const i=[],o=this.isMergingRemoteChanges?"remote":"user";if(this.onBeforeDelete&&this._runCallbacks)for(const l of s){const c=this.atoms.__unsafe__getWithoutCapture()[l];c&&this.onBeforeDelete(c.get(),o)===!1&&i.push(l)}let a;if(this.atoms.update(l=>{let c;for(const d of s)i.includes(d)||d in l&&(c||(c={...l}),a||(a={}),delete c[d],a[d]=l[d].get());return c??l}),!!a&&(this.updateHistory({added:{},updated:{},removed:a}),this.onAfterDelete&&this._runCallbacks)){let l;for(let c=0,d=s.length;c<d;c++)l=a[s[c]],l&&this.onAfterDelete(l,o)}})},this.get=s=>{var i;return(i=this.atoms.get()[s])==null?void 0:i.get()},this.unsafeGetWithoutCapture=s=>{var i;return(i=this.atoms.get()[s])==null?void 0:i.__unsafe__getWithoutCapture()},this.serialize=(s="document")=>{const i={};for(const[o,a]of qd(this.atoms.get())){const l=a.get();(s==="all"||this.scopedTypes[s].has(l.typeName))&&(i[o]=l)}return i},this.allRecords=()=>Nn(this.atoms.get()).map(s=>s.get()),this.clear=()=>{this.remove(q6(this.atoms.get()))},this.update=(s,i)=>{const o=this.atoms.get()[s];if(!o){console.error(`Record ${s} not found. This is probably an error`);return}this.put([i(o.__unsafe__getWithoutCapture())])},this.has=s=>!!this.atoms.get()[s],this.listen=(s,i)=>{this._flushHistory();const o={onHistory:s,filters:{source:(i==null?void 0:i.source)??"all",scope:(i==null?void 0:i.scope)??"all"}};return this.listeners.add(o),this.historyReactor.scheduler.isActivelyListening||this.historyReactor.start(),()=>{this.listeners.delete(o),this.listeners.size===0&&this.historyReactor.stop()}},this.isMergingRemoteChanges=!1,this.mergeRemoteChanges=s=>{if(this.isMergingRemoteChanges)return s();try{this.isMergingRemoteChanges=!0,Oc(s)}finally{this.isMergingRemoteChanges=!1}},this.createComputedCache=(s,i,o)=>{const a=new W6;return{get:l=>{const c=this.atoms.get()[l];if(c)return a.get(c,()=>{const d=o?Ni(c.name+":equals",()=>c.get(),{isEqual:o}):c;return Ni(s+":"+l,()=>i(d.get()))}).get()}}},this.createSelectedComputedCache=(s,i,o)=>{const a=new W6;return{get:l=>{const c=this.atoms.get()[l];if(!c)return;const d=Ni(s+":"+l+":selector",()=>i(c.get()));return a.get(c,()=>Ni(s+":"+l,()=>o(d.get()))).get()}}},this.getRecordType=s=>{const i=this.schema.types[s.typeName];if(!i)throw new Error(`Record type ${s.typeName} not found`);return i},this._isPossiblyCorrupted=!1;const{initialData:n,schema:r}=e;this.schema=r,this.props=e.props,n&&this.atoms.set(LO(qd(n).map(([s,i])=>[s,ig("atom:"+s,this.schema.validateRecord(this,i,"initialize",null))]))),this.historyReactor=qO("Store.historyReactor",()=>{this.history.get(),this._flushHistory()},{scheduleEffect:s=>$O(s)}),this.scopedTypes={document:new Set(Nn(this.schema.types).filter(s=>s.scope==="document").map(s=>s.typeName)),session:new Set(Nn(this.schema.types).filter(s=>s.scope==="session").map(s=>s.typeName)),presence:new Set(Nn(this.schema.types).filter(s=>s.scope==="presence").map(s=>s.typeName))}}_flushHistory(){if(this.historyAccumulator.hasChanges()){const e=this.historyAccumulator.flush();for(const{changes:n,source:r}of e){let s=null,i=null,o=null;for(const{onHistory:a,filters:l}of this.listeners)if(!(l.source!=="all"&&l.source!==r))if(l.scope!=="all")if(l.scope==="document"){if(i??(i=this.filterChangesByScope(n,"document")),!i)continue;a({changes:i,source:r})}else if(l.scope==="session"){if(s??(s=this.filterChangesByScope(n,"session")),!s)continue;a({changes:s,source:r})}else{if(o??(o=this.filterChangesByScope(n,"presence")),!o)continue;a({changes:o,source:r})}else a({changes:n,source:r})}}}filterChangesByScope(e,n){const r={added:x2(e.added,(s,i)=>this.scopedTypes[n].has(i.typeName)),updated:x2(e.updated,(s,i)=>this.scopedTypes[n].has(i[1].typeName)),removed:x2(e.removed,(s,i)=>this.scopedTypes[n].has(i.typeName))};return Object.keys(r.added).length===0&&Object.keys(r.updated).length===0&&Object.keys(r.removed).length===0?null:r}updateHistory(e){this.historyAccumulator.add({changes:e,source:this.isMergingRemoteChanges?"remote":"user"}),this.listeners.size===0&&this.historyAccumulator.clear(),this.history.set(this.history.get()+1,e)}validate(e){this.allRecords().forEach(n=>this.schema.validateRecord(this,n,e,null))}getSnapshot(e="document"){return{store:this.serialize(e),schema:this.schema.serialize()}}migrateSnapshot(e){const n=this.schema.migrateStoreSnapshot(e);if(n.type==="error")throw new Error(`Failed to migrate snapshot: ${n.reason}`);return{store:n.value,schema:this.schema.serialize()}}loadSnapshot(e){const n=this.schema.migrateStoreSnapshot(e);if(n.type==="error")throw new Error(`Failed to migrate snapshot: ${n.reason}`);Oc(()=>{this.clear(),this.put(Object.values(n.value)),this.ensureStoreIsUsable()})}extractingChanges(e){const n=[],r=this.historyAccumulator.intercepting(s=>n.push(s.changes));try{return Oc(e),Py(n)}finally{r()}}applyDiff(e,n=!0){const r=this._runCallbacks;try{this._runCallbacks=n,Oc(()=>{const s=Nn(e.added).concat(Nn(e.updated).map(([o,a])=>a)),i=q6(e.removed);s.length&&this.put(s),i.length&&this.remove(i)})}finally{this._runCallbacks=r}}ensureStoreIsUsable(){var e;this._integrityChecker??(this._integrityChecker=this.schema.createIntegrityChecker(this)),(e=this._integrityChecker)==null||e.call(this)}markAsPossiblyCorrupted(){this._isPossiblyCorrupted=!0}isPossiblyCorrupted(){return this._isPossiblyCorrupted}};function Py(t){const e={added:{},removed:{},updated:{}};for(const n of t){for(const[r,s]of qd(n.added))if(e.removed[r]){const i=e.removed[r];delete e.removed[r],i!==s&&(e.updated[r]=[i,s])}else e.added[r]=s;for(const[r,[s,i]]of qd(n.updated)){if(e.added[r]){e.added[r]=i,delete e.updated[r],delete e.removed[r];continue}if(e.updated[r]){e.updated[r]=[e.updated[r][0],i],delete e.removed[r];continue}e.updated[r]=n.updated[r],delete e.removed[r]}for(const[r,s]of qd(n.removed))e.added[r]?delete e.added[r]:e.updated[r]?(e.removed[r]=e.updated[r][0],delete e.updated[r]):e.removed[r]=s}return e}function rD(t){const e=[];let n=t[0],r;for(let s=1,i=t.length;s<i;s++)r=t[s],n.source!==r.source?(e.push(n),n=r):n={source:n.source,changes:Py([n.changes,r.changes])};return e.push(n),e}let sD=class{constructor(){this._history=[],this._interceptors=new Set}intercepting(e){return this._interceptors.add(e),()=>{this._interceptors.delete(e)}}add(e){this._history.push(e);for(const n of this._interceptors)n(e)}flush(){const e=rD(this._history);return this._history=[],e}clear(){this._history=[]}hasChanges(){return this._history.length>0}};function aS(t){const{currentVersion:e,firstVersion:n,migrators:r={},subTypeKey:s,subTypeMigrations:i}=t;if(typeof e=="number"&&typeof n=="number"){if(e===n)throw Error("Current version is equal to initial version.");if(e<n)throw Error("Current version is lower than initial version.")}return{firstVersion:n??0,currentVersion:e??0,migrators:r,subTypeKey:s,subTypeMigrations:i}}function G_({value:t,migrations:e,fromVersion:n,toVersion:r}){let s=n;for(;s<r;){const i=s+1,o=e.migrators[i];if(!o)return{type:"error",reason:"target-version-too-new"};t=o.up(t),s=i}for(;s>r;){const i=s-1,o=e.migrators[s];if(!o)return{type:"error",reason:"target-version-too-old"};t=o.down(t),s=i}return{type:"success",value:t}}const iD=(t,e)=>{if(t.schemaVersion>e.schemaVersion)return 1;if(t.schemaVersion<e.schemaVersion)return-1;if(t.storeVersion>e.storeVersion)return 1;if(t.storeVersion<e.storeVersion)return-1;for(const n of Object.keys(t.recordVersions)){const r=t.recordVersions[n],s=e.recordVersions[n];if(r.version>s.version)return 1;if(r.version<s.version)return-1;if("subTypeVersions"in r&&!("subTypeVersions"in s))return 1;if(!("subTypeVersions"in r)&&"subTypeVersions"in s)return-1;if(!(!("subTypeVersions"in r)||!("subTypeVersions"in s)))for(const i of Object.keys(r.subTypeVersions)){const o=r.subTypeVersions[i],a=s.subTypeVersions[i];if(o>a)return 1;if(o<a)return-1}}return 0};function oD(t,e){const n=e&&t&&typeof t=="object"&&e in t?t[e]:t;throw new Error(`Unknown switch case ${n}`)}function lS(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Z_(t,e){if(lS(t,e))return t[e]}function aD(t){if(!t.length)return null;let e="";for(const n of t)typeof n=="number"?e+=`.${n}`:n.startsWith("(")?e.endsWith(")")?e=`${e.slice(0,-1)}, ${n.slice(1)}`:e+=n:e+=`.${n}`;return e.startsWith(".")?e.slice(1):e}let Bt=class extends Error{constructor(e,n=[]){const r=aD(n),s=e.split(`
`).map((i,o)=>o===0?i:`  ${i}`).join(`
`);super(n?`At ${r}: ${s}`:s),this.rawMessage=e,this.path=n,this.name="ValidationError"}};function kh(t,e){try{return e()}catch(n){throw n instanceof Bt?new Bt(n.rawMessage,[t,...n.path]):new Bt(n.toString(),[t])}}function rh(t){if(t===null)return"null";if(Array.isArray(t))return"an array";const e=typeof t;switch(e){case"bigint":case"boolean":case"function":case"number":case"string":case"symbol":return`a ${e}`;case"object":return`an ${e}`;case"undefined":return"undefined";default:oD(e)}}let ms=class Q_{constructor(e){this.validationFn=e}validate(e){return this.validationFn(e)}nullable(){return gD(this)}optional(){return tE(this)}refine(e){return new Q_(n=>e(this.validate(n)))}check(e,n){return typeof e=="string"?this.refine(r=>(kh(`(check ${e})`,()=>n(r)),r)):this.refine(r=>(e(r),r))}},lD=class extends ms{constructor(e){super(n=>{const r=pD.validate(n);for(let s=0;s<r.length;s++)kh(s,()=>e.validate(r[s]));return r}),this.itemValidator=e}nonEmpty(){return this.check(e=>{if(e.length===0)throw new Bt("Expected a non-empty array")})}lengthGreaterThan1(){return this.check(e=>{if(e.length<=1)throw new Bt("Expected an array with length greater than 1")})}},cD=class O5 extends ms{constructor(e,n=!1){super(r=>{if(typeof r!="object"||r===null)throw new Bt(`Expected object, got ${rh(r)}`);for(const[s,i]of Object.entries(e))kh(s,()=>{i.validate(Z_(r,s))});if(!n){for(const s of Object.keys(r))if(!lS(e,s))throw new Bt("Unexpected property",[s])}return r}),this.config=e,this.shouldAllowUnknownProperties=n}allowUnknownProperties(){return new O5(this.config,!0)}extend(e){return new O5({...this.config,...e})}},dD=class J_ extends ms{constructor(e,n,r){super(s=>{if(typeof s!="object"||s===null)throw new Bt(`Expected an object, got ${rh(s)}`,[]);const i=Z_(s,e);if(typeof i!="string")throw new Bt(`Expected a string for key "${e}", got ${rh(i)}`);const o=lS(n,i)?n[i]:void 0;return o===void 0?this.unknownValueValidation(s,i):kh(`(${e} = ${i})`,()=>o.validate(s))}),this.key=e,this.config=n,this.unknownValueValidation=r}validateUnknownVariants(e){return new J_(this.key,this.config,e)}},hD=class extends ms{constructor(e,n){super(r=>{if(typeof r!="object"||r===null)throw new Bt(`Expected object, got ${rh(r)}`);for(const[s,i]of Object.entries(r))kh(s,()=>{e.validate(s),n.validate(i)});return r}),this.keyValidator=e,this.valueValidator=n}};function cS(t){return new ms(e=>{if(typeof e!==t)throw new Bt(`Expected ${t}, got ${rh(e)}`);return e})}const uD=new ms(t=>t),De=cS("string"),Ne=cS("number").check(t=>{if(Number.isNaN(t))throw new Bt("Expected a number, got NaN");if(!Number.isFinite(t))throw new Bt(`Expected a finite number, got ${t}`)}),dS=Ne.check(t=>{if(t<0)throw new Bt(`Expected a positive number, got ${t}`)}),qr=Ne.check(t=>{if(t<=0)throw new Bt(`Expected a non-zero positive number, got ${t}`)}),eE=Ne.check(t=>{if(!Number.isInteger(t))throw new Bt(`Expected an integer, got ${t}`)});eE.check(t=>{if(t<0)throw new Bt(`Expected a positive integer, got ${t}`)});eE.check(t=>{if(t<=0)throw new Bt(`Expected a non-zero positive integer, got ${t}`)});const st=cS("boolean");function Br(t){return new ms(e=>{if(e!==t)throw new Bt(`Expected ${t}, got ${JSON.stringify(e)}`);return t})}const pD=new ms(t=>{if(!Array.isArray(t))throw new Bt(`Expected an array, got ${rh(t)}`);return t});function Ds(t){return new lD(t)}function bt(t){return new cD(t)}function D5(t){return t===null||typeof t=="number"||typeof t=="string"||typeof t=="boolean"?!0:Array.isArray(t)?t.every(D5):typeof t=="object"?Object.values(t).every(D5):!1}const Ji=new ms(t=>{if(D5(t))return t;throw new Bt(`Expected json serializable value, got ${typeof t}`)});function fD(t,e){return new hD(t,e)}function hS(t,e){return new dD(t,e,(n,r)=>{throw new Bt(`Expected one of ${Object.keys(e).map(s=>JSON.stringify(s)).join(" or ")}, got ${JSON.stringify(r)}`,[t])})}function Uo(t,e){return new ms(n=>{const r=n&&typeof n=="object"&&"id"in n&&typeof n.id=="string"?`${t}(id = ${n.id})`:t;return kh(r,()=>e.validate(n))})}function ff(t){return new ms(e=>{if(!t.has(e)){const n=Array.from(t,r=>JSON.stringify(r)).join(" or ");throw new Bt(`Expected ${n}, got ${e}`)}return e})}function tE(t){return new ms(e=>{if(e!==void 0)return t.validate(e)})}function gD(t){return new ms(e=>e===null?null:t.validate(e))}function nE(...t){return ff(new Set(t))}function di(t){return De.refine(e=>{if(!e.startsWith(`${t}:`))throw new Error(`${t} ID must start with "${t}:"`);return e})}const zy=di("asset");function uS(t,e){return bt({id:zy,typeName:Br("asset"),type:Br(t),props:e,meta:Ji})}function rE(t){return t&&typeof t=="object"&&"parents"in t}function sE(t){for(let e=0,n=t.parents.length;e<n;e++)if(t.parents[e].__unsafe__getWithoutCapture(),t.parents[e].lastChangedEpoch!==t.parentEpochs[e])return!0;return!1}const Q0=(t,e)=>{if(t.children.remove(e)&&t.children.isEmpty&&rE(t))for(let n=0,r=t.parents.length;n<r;n++)Q0(t.parents[n],t)},pS=(t,e)=>{if(t.children.add(e)&&rE(t))for(let n=0,r=t.parents.length;n<r;n++)pS(t.parents[n],t)};function iE(t,e){return t===e||Object.is(t,e)||!!(t&&e&&typeof t.equals=="function"&&t.equals(e))}function Za(t,e){const n=Symbol.for(`com.tldraw.state/${t}`),r=globalThis;return r[n]??(r[n]=e()),r[n]}const oE=Za("empty_array",()=>Object.freeze([])),X6=8;let aE=class{constructor(){this.arraySize=0,this.array=Array(X6),this.set=null}get isEmpty(){if(this.array)return this.arraySize===0;if(this.set)return this.set.size===0;throw new Error("no set or array")}add(e){if(this.array)return this.array.indexOf(e)!==-1?!1:this.arraySize<X6?(this.array[this.arraySize]=e,this.arraySize++,!0):(this.set=new Set(this.array),this.array=null,this.set.add(e),!0);if(this.set)return this.set.has(e)?!1:(this.set.add(e),!0);throw new Error("no set or array")}remove(e){if(this.array){const n=this.array.indexOf(e);return n===-1?!1:(this.array[n]=void 0,this.arraySize--,n!==this.arraySize&&(this.array[n]=this.array[this.arraySize],this.array[this.arraySize]=void 0),!0)}if(this.set)return this.set.has(e)?(this.set.delete(e),!0):!1;throw new Error("no set or array")}visit(e){if(this.array){for(let n=0;n<this.arraySize;n++){const r=this.array[n];typeof r<"u"&&e(r)}return}if(this.set){this.set.forEach(e);return}throw new Error("no set or array")}};const Ql=Symbol.for("com.tldraw.state/RESET_VALUE");let lE=class{constructor(e){this.capacity=e,this.index=0,this.buffer=new Array(e)}pushEntry(e,n,r){if(r!==void 0){if(r===Ql){this.clear();return}this.buffer[this.index]=[e,n,r],this.index=(this.index+1)%this.capacity}}clear(){this.index=0,this.buffer.fill(void 0)}getChangesSince(e){const{index:n,capacity:r,buffer:s}=this;for(let i=0;i<r;i++){const o=(n-1+r-i)%r,a=s[o];if(!a)return Ql;const[l,c]=a;if(i===0&&e>=c)return[];if(l<=e&&e<c){const d=i+1,h=new Array(d);for(let u=0;u<d;u++)h[u]=s[(o+u)%r][2];return h}}return Ql}},mD=class{constructor(e,n){this.below=e,this.child=n,this.offset=0,this.numNewParents=0}};const At=Za("capture",()=>({stack:null}));function cE(t){At.stack=new mD(At.stack,t)}function dE(){var n;const t=At.stack;if(At.stack=t.below,t.numNewParents>0||t.offset!==t.child.parents.length){for(let r=t.offset;r<t.child.parents.length;r++){const s=t.child.parents[r];t.child.parents.indexOf(s)>=t.offset&&Q0(s,t.child)}if(t.child.parents.length=t.offset,t.child.parentEpochs.length=t.offset,(n=At.stack)!=null&&n.maybeRemoved)for(let r=0;r<At.stack.maybeRemoved.length;r++){const s=At.stack.maybeRemoved[r];t.child.parents.indexOf(s)===-1&&Q0(s,t.child)}}}function q5(t){if(At.stack){const e=At.stack.child.parents.indexOf(t);if(e<0&&(At.stack.numNewParents++,At.stack.child.isActivelyListening&&pS(t,At.stack.child)),e<0||e>=At.stack.offset){if(e!==At.stack.offset&&e>0){const n=At.stack.child.parents[At.stack.offset];At.stack.maybeRemoved?At.stack.maybeRemoved.indexOf(n)===-1&&At.stack.maybeRemoved.push(n):At.stack.maybeRemoved=[n]}At.stack.child.parents[At.stack.offset]=t,At.stack.child.parentEpochs[At.stack.offset]=t.lastChangedEpoch,At.stack.offset++}}}const Ml=-1;let yD=class{constructor(e,n,r){this.name=e,this.runEffect=n,this._isActivelyListening=!1,this.lastTraversedEpoch=Ml,this.lastReactedEpoch=Ml,this._scheduleCount=0,this.parentEpochs=[],this.parents=[],this.maybeExecute=()=>{this._isActivelyListening&&this.execute()},this._scheduleEffect=r==null?void 0:r.scheduleEffect}get isActivelyListening(){return this._isActivelyListening}get scheduleCount(){return this._scheduleCount}maybeScheduleEffect(){if(this._isActivelyListening&&this.lastReactedEpoch!==es()){if(this.parents.length&&!sE(this)){this.lastReactedEpoch=es();return}this.scheduleEffect()}}scheduleEffect(){this._scheduleCount++,this._scheduleEffect?this._scheduleEffect(this.maybeExecute):this.execute()}attach(){this._isActivelyListening=!0;for(let e=0,n=this.parents.length;e<n;e++)pS(this.parents[e],this)}detach(){this._isActivelyListening=!1;for(let e=0,n=this.parents.length;e<n;e++)Q0(this.parents[e],this)}execute(){try{cE(this);const e=this.runEffect(this.lastReactedEpoch);return this.lastReactedEpoch=es(),e}finally{dE()}}};const xD=Za("EffectScheduler",()=>yD),ji=Za("transactions",()=>({globalEpoch:Ml+1,globalIsReacting:!1,currentTransaction:null}));function es(){return ji.globalEpoch}function wD(t){if(ji.globalIsReacting)throw new Error("cannot change atoms during reaction cycle");try{ji.globalIsReacting=!0;const e=new Set,n=r=>{r.lastTraversedEpoch!==ji.globalEpoch&&(r.lastTraversedEpoch=ji.globalEpoch,r instanceof xD?e.add(r):r.children.visit(n))};for(const r of t)r.children.visit(n);for(const r of e)r.maybeScheduleEffect()}finally{ji.globalIsReacting=!1}}function SD(t,e){ji.currentTransaction?ji.currentTransaction.initialAtomValues.has(t)||ji.currentTransaction.initialAtomValues.set(t,e):wD([t])}function bD(){ji.globalEpoch++}let vD=class{constructor(e,n,r){this.name=e,this.current=n,this.lastChangedEpoch=es(),this.children=new aE,this.isEqual=(r==null?void 0:r.isEqual)??null,r&&(r.historyLength&&(this.historyBuffer=new lE(r.historyLength)),this.computeDiff=r.computeDiff)}__unsafe__getWithoutCapture(){return this.current}get(){return q5(this),this.current}set(e,n){var s,i;if(((s=this.isEqual)==null?void 0:s.call(this,this.current,e))??iE(this.current,e))return this.current;bD(),this.historyBuffer&&this.historyBuffer.pushEntry(this.lastChangedEpoch,es(),n??((i=this.computeDiff)==null?void 0:i.call(this,this.current,e,this.lastChangedEpoch,es()))??Ql),this.lastChangedEpoch=es();const r=this.current;return this.current=e,SD(this,r),e}update(e){return this.set(e(this.current))}getDiffSince(e){var n;return q5(this),e>=this.lastChangedEpoch?oE:((n=this.historyBuffer)==null?void 0:n.getChangesSince(e))??Ql}};Za("Atom",()=>vD);const Y6=Symbol.for("com.tldraw.state/UNINITIALIZED"),H6=Za("WithDiff",()=>class{constructor(e,n){this.value=e,this.diff=n}});let kD=class{constructor(e,n,r){this.name=e,this.derive=n,this.lastChangedEpoch=Ml,this.lastTraversedEpoch=Ml,this.lastCheckedEpoch=Ml,this.parents=[],this.parentEpochs=[],this.children=new aE,this.state=Y6,r!=null&&r.historyLength&&(this.historyBuffer=new lE(r.historyLength)),this.computeDiff=r==null?void 0:r.computeDiff,this.isEqual=(r==null?void 0:r.isEqual)??iE}get isActivelyListening(){return!this.children.isEmpty}__unsafe__getWithoutCapture(){var n;const e=this.lastChangedEpoch===Ml;if(!e&&(this.lastCheckedEpoch===es()||!sE(this)))return this.lastCheckedEpoch=es(),this.state;try{cE(this);const r=this.derive(this.state,this.lastCheckedEpoch),s=r instanceof H6?r.value:r;if(this.state===Y6||!this.isEqual(s,this.state)){if(this.historyBuffer&&!e){const i=r instanceof H6?r.diff:void 0;this.historyBuffer.pushEntry(this.lastChangedEpoch,es(),i??((n=this.computeDiff)==null?void 0:n.call(this,this.state,s,this.lastCheckedEpoch,es()))??Ql)}this.lastChangedEpoch=es(),this.state=s}return this.lastCheckedEpoch=es(),this.state}finally{dE()}}get(){const e=this.__unsafe__getWithoutCapture();return q5(this),e}getDiffSince(e){var n;return this.get(),e>=this.lastChangedEpoch?oE:((n=this.historyBuffer)==null?void 0:n.getChangesSince(e))??Ql}};Za("Computed",()=>kD);const hE=1,CD=Za("apiVersion",()=>hE);if(CD!==hE)throw new Error("You have multiple incompatible versions of @tldraw/state in your app. Please deduplicate the package.");function _D(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function G6(t,e){if(_D(t,e))return t[e]}function b2(t){return Object.values(t)}const ED=typeof window<"u"&&window.structuredClone?window.structuredClone:t=>t&&JSON.parse(JSON.stringify(t));let ID=class uE{constructor(e,n){this.typeName=e,this.isInstance=r=>(r==null?void 0:r.typeName)===this.typeName,this.createDefaultProperties=n.createDefaultProperties,this.migrations=n.migrations,this.validator=n.validator??{validate:r=>r},this.scope=n.scope??"document"}create(e){const n={...this.createDefaultProperties(),id:this.createId()};for(const[r,s]of Object.entries(e))s!==void 0&&(n[r]=s);return n.typeName=this.typeName,n}clone(e){return{...ED(e),id:this.createId()}}createId(e){return this.typeName+":"+(e??Ha())}createCustomId(e){return this.typeName+":"+e}parseId(e){if(!this.isId(e))throw new Error(`ID "${e}" is not a valid ID for type "${this.typeName}"`);return e.slice(this.typeName.length+1)}isId(e){if(!e)return!1;for(let n=0;n<this.typeName.length;n++)if(e[n]!==this.typeName[n])return!1;return e[this.typeName.length]===":"}withDefaultProperties(e){return new uE(this.typeName,{createDefaultProperties:e,migrations:this.migrations,validator:this.validator,scope:this.scope})}validate(e){return this.validator.validate(e)}};function Vo(t,e){return new ID(t,{createDefaultProperties:()=>({}),migrations:e.migrations??{currentVersion:0,firstVersion:0,migrators:{}},validator:e.validator,scope:e.scope})}function pE(t){return t&&typeof t=="object"&&"parents"in t}function fE(t){for(let e=0,n=t.parents.length;e<n;e++)if(t.parents[e].__unsafe__getWithoutCapture(),t.parents[e].lastChangedEpoch!==t.parentEpochs[e])return!0;return!1}const J0=(t,e)=>{if(t.children.remove(e)&&t.children.isEmpty&&pE(t))for(let n=0,r=t.parents.length;n<r;n++)J0(t.parents[n],t)},fS=(t,e)=>{if(t.children.add(e)&&pE(t))for(let n=0,r=t.parents.length;n<r;n++)fS(t.parents[n],t)};function gE(t,e){return t===e||Object.is(t,e)||!!(t&&e&&typeof t.equals=="function"&&t.equals(e))}function Qa(t,e){const n=Symbol.for(`com.tldraw.state/${t}`),r=globalThis;return r[n]??(r[n]=e()),r[n]}const mE=Qa("empty_array",()=>Object.freeze([])),Z6=8;let yE=class{constructor(){this.arraySize=0,this.array=Array(Z6),this.set=null}get isEmpty(){if(this.array)return this.arraySize===0;if(this.set)return this.set.size===0;throw new Error("no set or array")}add(e){if(this.array)return this.array.indexOf(e)!==-1?!1:this.arraySize<Z6?(this.array[this.arraySize]=e,this.arraySize++,!0):(this.set=new Set(this.array),this.array=null,this.set.add(e),!0);if(this.set)return this.set.has(e)?!1:(this.set.add(e),!0);throw new Error("no set or array")}remove(e){if(this.array){const n=this.array.indexOf(e);return n===-1?!1:(this.array[n]=void 0,this.arraySize--,n!==this.arraySize&&(this.array[n]=this.array[this.arraySize],this.array[this.arraySize]=void 0),!0)}if(this.set)return this.set.has(e)?(this.set.delete(e),!0):!1;throw new Error("no set or array")}visit(e){if(this.array){for(let n=0;n<this.arraySize;n++){const r=this.array[n];typeof r<"u"&&e(r)}return}if(this.set){this.set.forEach(e);return}throw new Error("no set or array")}};const Jl=Symbol.for("com.tldraw.state/RESET_VALUE");let xE=class{constructor(e){this.capacity=e,this.index=0,this.buffer=new Array(e)}pushEntry(e,n,r){if(r!==void 0){if(r===Jl){this.clear();return}this.buffer[this.index]=[e,n,r],this.index=(this.index+1)%this.capacity}}clear(){this.index=0,this.buffer.fill(void 0)}getChangesSince(e){const{index:n,capacity:r,buffer:s}=this;for(let i=0;i<r;i++){const o=(n-1+r-i)%r,a=s[o];if(!a)return Jl;const[l,c]=a;if(i===0&&e>=c)return[];if(l<=e&&e<c){const d=i+1,h=new Array(d);for(let u=0;u<d;u++)h[u]=s[(o+u)%r][2];return h}}return Jl}},PD=class{constructor(e,n){this.below=e,this.child=n,this.offset=0,this.numNewParents=0}};const Nt=Qa("capture",()=>({stack:null}));function wE(t){Nt.stack=new PD(Nt.stack,t)}function SE(){var n;const t=Nt.stack;if(Nt.stack=t.below,t.numNewParents>0||t.offset!==t.child.parents.length){for(let r=t.offset;r<t.child.parents.length;r++){const s=t.child.parents[r];t.child.parents.indexOf(s)>=t.offset&&J0(s,t.child)}if(t.child.parents.length=t.offset,t.child.parentEpochs.length=t.offset,(n=Nt.stack)!=null&&n.maybeRemoved)for(let r=0;r<Nt.stack.maybeRemoved.length;r++){const s=Nt.stack.maybeRemoved[r];t.child.parents.indexOf(s)===-1&&J0(s,t.child)}}}function B5(t){if(Nt.stack){const e=Nt.stack.child.parents.indexOf(t);if(e<0&&(Nt.stack.numNewParents++,Nt.stack.child.isActivelyListening&&fS(t,Nt.stack.child)),e<0||e>=Nt.stack.offset){if(e!==Nt.stack.offset&&e>0){const n=Nt.stack.child.parents[Nt.stack.offset];Nt.stack.maybeRemoved?Nt.stack.maybeRemoved.indexOf(n)===-1&&Nt.stack.maybeRemoved.push(n):Nt.stack.maybeRemoved=[n]}Nt.stack.child.parents[Nt.stack.offset]=t,Nt.stack.child.parentEpochs[Nt.stack.offset]=t.lastChangedEpoch,Nt.stack.offset++}}}const jl=-1;let zD=class{constructor(e,n,r){this.name=e,this.runEffect=n,this._isActivelyListening=!1,this.lastTraversedEpoch=jl,this.lastReactedEpoch=jl,this._scheduleCount=0,this.parentEpochs=[],this.parents=[],this.maybeExecute=()=>{this._isActivelyListening&&this.execute()},this._scheduleEffect=r==null?void 0:r.scheduleEffect}get isActivelyListening(){return this._isActivelyListening}get scheduleCount(){return this._scheduleCount}maybeScheduleEffect(){if(this._isActivelyListening&&this.lastReactedEpoch!==ts()){if(this.parents.length&&!fE(this)){this.lastReactedEpoch=ts();return}this.scheduleEffect()}}scheduleEffect(){this._scheduleCount++,this._scheduleEffect?this._scheduleEffect(this.maybeExecute):this.execute()}attach(){this._isActivelyListening=!0;for(let e=0,n=this.parents.length;e<n;e++)fS(this.parents[e],this)}detach(){this._isActivelyListening=!1;for(let e=0,n=this.parents.length;e<n;e++)J0(this.parents[e],this)}execute(){try{wE(this);const e=this.runEffect(this.lastReactedEpoch);return this.lastReactedEpoch=ts(),e}finally{SE()}}};const AD=Qa("EffectScheduler",()=>zD),Ri=Qa("transactions",()=>({globalEpoch:jl+1,globalIsReacting:!1,currentTransaction:null}));function ts(){return Ri.globalEpoch}function ND(t){if(Ri.globalIsReacting)throw new Error("cannot change atoms during reaction cycle");try{Ri.globalIsReacting=!0;const e=new Set,n=r=>{r.lastTraversedEpoch!==Ri.globalEpoch&&(r.lastTraversedEpoch=Ri.globalEpoch,r instanceof AD?e.add(r):r.children.visit(n))};for(const r of t)r.children.visit(n);for(const r of e)r.maybeScheduleEffect()}finally{Ri.globalIsReacting=!1}}function TD(t,e){Ri.currentTransaction?Ri.currentTransaction.initialAtomValues.has(t)||Ri.currentTransaction.initialAtomValues.set(t,e):ND([t])}function LD(){Ri.globalEpoch++}let MD=class{constructor(e,n,r){this.name=e,this.current=n,this.lastChangedEpoch=ts(),this.children=new yE,this.isEqual=(r==null?void 0:r.isEqual)??null,r&&(r.historyLength&&(this.historyBuffer=new xE(r.historyLength)),this.computeDiff=r.computeDiff)}__unsafe__getWithoutCapture(){return this.current}get(){return B5(this),this.current}set(e,n){var s,i;if(((s=this.isEqual)==null?void 0:s.call(this,this.current,e))??gE(this.current,e))return this.current;LD(),this.historyBuffer&&this.historyBuffer.pushEntry(this.lastChangedEpoch,ts(),n??((i=this.computeDiff)==null?void 0:i.call(this,this.current,e,this.lastChangedEpoch,ts()))??Jl),this.lastChangedEpoch=ts();const r=this.current;return this.current=e,TD(this,r),e}update(e){return this.set(e(this.current))}getDiffSince(e){var n;return B5(this),e>=this.lastChangedEpoch?mE:((n=this.historyBuffer)==null?void 0:n.getChangesSince(e))??Jl}};Qa("Atom",()=>MD);const Q6=Symbol.for("com.tldraw.state/UNINITIALIZED"),J6=Qa("WithDiff",()=>class{constructor(e,n){this.value=e,this.diff=n}});let jD=class{constructor(e,n,r){this.name=e,this.derive=n,this.lastChangedEpoch=jl,this.lastTraversedEpoch=jl,this.lastCheckedEpoch=jl,this.parents=[],this.parentEpochs=[],this.children=new yE,this.state=Q6,r!=null&&r.historyLength&&(this.historyBuffer=new xE(r.historyLength)),this.computeDiff=r==null?void 0:r.computeDiff,this.isEqual=(r==null?void 0:r.isEqual)??gE}get isActivelyListening(){return!this.children.isEmpty}__unsafe__getWithoutCapture(){var n;const e=this.lastChangedEpoch===jl;if(!e&&(this.lastCheckedEpoch===ts()||!fE(this)))return this.lastCheckedEpoch=ts(),this.state;try{wE(this);const r=this.derive(this.state,this.lastCheckedEpoch),s=r instanceof J6?r.value:r;if(this.state===Q6||!this.isEqual(s,this.state)){if(this.historyBuffer&&!e){const i=r instanceof J6?r.diff:void 0;this.historyBuffer.pushEntry(this.lastChangedEpoch,ts(),i??((n=this.computeDiff)==null?void 0:n.call(this,this.state,s,this.lastCheckedEpoch,ts()))??Jl)}this.lastChangedEpoch=ts(),this.state=s}return this.lastCheckedEpoch=ts(),this.state}finally{SE()}}get(){const e=this.__unsafe__getWithoutCapture();return B5(this),e}getDiffSince(e){var n;return this.get(),e>=this.lastChangedEpoch?mE:((n=this.historyBuffer)==null?void 0:n.getChangesSince(e))??Jl}};Qa("Computed",()=>jD);const bE=1,RD=Qa("apiVersion",()=>bE);if(RD!==bE)throw new Error("You have multiple incompatible versions of @tldraw/state in your app. Please deduplicate the package.");function $D(t){return typeof t=="object"&&t!==null&&"id"in t&&"typeName"in t}function ft(t){const{currentVersion:e,firstVersion:n,migrators:r={},subTypeKey:s,subTypeMigrations:i}=t;if(typeof e=="number"&&typeof n=="number"){if(e===n)throw Error("Current version is equal to initial version.");if(e<n)throw Error("Current version is lower than initial version.")}return{firstVersion:n??0,currentVersion:e??0,migrators:r,subTypeKey:s,subTypeMigrations:i}}var ju=(t=>(t.IncompatibleSubtype="incompatible-subtype",t.UnknownType="unknown-type",t.TargetVersionTooNew="target-version-too-new",t.TargetVersionTooOld="target-version-too-old",t.MigrationError="migration-error",t.UnrecognizedSubtype="unrecognized-subtype",t))(ju||{});function ag({record:t,migrations:e,fromVersion:n,toVersion:r}){let s=n;if(!$D(t))throw new Error("[migrateRecord] object is not a record");const{typeName:i,id:o,...a}=t;let l=a;for(;s<r;){const c=s+1,d=e.migrators[c];if(!d)return{type:"error",reason:"target-version-too-new"};l=d.up(l),s=c}for(;s>r;){const c=s-1,d=e.migrators[s];if(!d)return{type:"error",reason:"target-version-too-old"};l=d.down(l),s=c}return{type:"success",value:{...l,id:o,typeName:i}}}function OD({value:t,migrations:e,fromVersion:n,toVersion:r}){let s=n;for(;s<r;){const i=s+1,o=e.migrators[i];if(!o)return{type:"error",reason:"target-version-too-new"};t=o.up(t),s=i}for(;s>r;){const i=s-1,o=e.migrators[s];if(!o)return{type:"error",reason:"target-version-too-old"};t=o.down(t),s=i}return{type:"success",value:t}}let DD=class vE{constructor(e,n){this.types=e,this.options=n}static create(e,n){return new vE(e,n??{})}get currentStoreVersion(){var e;return((e=this.options.snapshotMigrations)==null?void 0:e.currentVersion)??0}validateRecord(e,n,r,s){try{const i=G6(this.types,n.typeName);if(!i)throw new Error(`Missing definition for record type ${n.typeName}`);return i.validate(n)}catch(i){if(this.options.onValidationFailure)return this.options.onValidationFailure({store:e,record:n,phase:r,recordBefore:s,error:i});throw i}}migratePersistedRecord(e,n,r="up"){var h;const s=G6(this.types,e.typeName),i=n.recordVersions[e.typeName];if(!i||!s)return{type:"error",reason:ju.UnknownType};const o=s.migrations.currentVersion,a=i.version;if(o!==a){const u=ag(r==="up"?{record:e,migrations:s.migrations,fromVersion:a,toVersion:o}:{record:e,migrations:s.migrations,fromVersion:o,toVersion:a});if(u.type==="error")return u;e=u.value}if(!s.migrations.subTypeKey)return{type:"success",value:e};const l=(h=s.migrations.subTypeMigrations)==null?void 0:h[e[s.migrations.subTypeKey]],c="subTypeVersions"in i?i.subTypeVersions[e[s.migrations.subTypeKey]]:void 0;if(l===void 0)return{type:"error",reason:ju.UnrecognizedSubtype};if(c===void 0)return{type:"error",reason:ju.IncompatibleSubtype};const d=ag(r==="up"?{record:e,migrations:l,fromVersion:c,toVersion:l.currentVersion}:{record:e,migrations:l,fromVersion:l.currentVersion,toVersion:c});return d.type==="error"?d:{type:"success",value:d.value}}migrateStoreSnapshot(e){let{store:n}=e;const r=this.options.snapshotMigrations;if(!r)return{type:"success",value:n};const s=r.currentVersion,i=e.schema.storeVersion??0;if(s<i)return{type:"error",reason:ju.TargetVersionTooOld};if(s>i){const a=OD({value:n,migrations:r,fromVersion:i,toVersion:s});if(a.type==="error")return a;n=a.value}const o=[];for(const a of b2(n)){const l=this.migratePersistedRecord(a,e.schema);if(l.type==="error")return l;l.value&&l.value!==a&&o.push(l.value)}if(o.length){n={...n};for(const a of o)n[a.id]=a}return{type:"success",value:n}}createIntegrityChecker(e){var n,r;return((r=(n=this.options).createIntegrityChecker)==null?void 0:r.call(n,e))??void 0}serialize(){var e;return{schemaVersion:1,storeVersion:((e=this.options.snapshotMigrations)==null?void 0:e.currentVersion)??0,recordVersions:Object.fromEntries(b2(this.types).map(n=>[n.typeName,n.migrations.subTypeKey&&n.migrations.subTypeMigrations?{version:n.migrations.currentVersion,subTypeKey:n.migrations.subTypeKey,subTypeVersions:n.migrations.subTypeMigrations?Object.fromEntries(Object.entries(n.migrations.subTypeMigrations).map(([r,s])=>[r,s.currentVersion])):void 0}:{version:n.migrations.currentVersion}]))}}serializeEarliestVersion(){var e;return{schemaVersion:1,storeVersion:((e=this.options.snapshotMigrations)==null?void 0:e.firstVersion)??0,recordVersions:Object.fromEntries(b2(this.types).map(n=>[n.typeName,n.migrations.subTypeKey&&n.migrations.subTypeMigrations?{version:n.migrations.firstVersion,subTypeKey:n.migrations.subTypeKey,subTypeVersions:n.migrations.subTypeMigrations?Object.fromEntries(Object.entries(n.migrations.subTypeMigrations).map(([r,s])=>[r,s.firstVersion])):void 0}:{version:n.migrations.firstVersion}]))}}};const qD=Uo("camera",bt({typeName:Br("camera"),id:di("camera"),x:Ne,y:Ne,z:Ne,meta:Ji})),e7={AddMeta:1},BD=ft({currentVersion:e7.AddMeta,migrators:{[e7.AddMeta]:{up:t=>({...t,meta:{}}),down:({meta:t,...e})=>({...e})}}}),Zn=Vo("camera",{validator:qD,migrations:BD,scope:"session"}).withDefaultProperties(()=>({x:0,y:0,z:1,meta:{}})),gp=bt({x:Ne,y:Ne,z:Ne.optional()}),Uu=bt({x:Ne,y:Ne,w:Ne,h:Ne}),FD=new Set(["none","default","pointer","cross","grab","rotate","grabbing","resize-edge","resize-corner","text","move","ew-resize","ns-resize","nesw-resize","nwse-resize","nesw-rotate","nwse-rotate","swne-rotate","senw-rotate","zoom-in","zoom-out"]),kE=ff(FD),KD=bt({type:kE,rotation:Ne}),CE=Ne.check(t=>{if(t<0||t>1)throw new Bt("Opacity must be between 0 and 1")}),WD=new Set(["accent","white","black","selection-stroke","selection-fill","laser","muted-1"]),UD=ff(WD),VD=new Set(["starting","paused","active","stopping"]),_E=bt({id:De,points:Ds(gp),size:dS,color:UD,opacity:Ne,state:ff(VD),delay:Ne,shrink:Ne,taper:st}),mp=di("page"),XD=Uo("page",bt({typeName:Br("page"),id:mp,name:De,index:De,meta:Ji})),t7={AddMeta:1},YD=ft({currentVersion:t7.AddMeta,migrators:{[t7.AddMeta]:{up:t=>({...t,meta:{}}),down:({meta:t,...e})=>({...e})}}}),$o=Vo("page",{validator:XD,migrations:YD,scope:"document"}).withDefaultProperties(()=>({meta:{}}));function zr(t){return $o.isId(t)}di("instance");function HD(t){const e={};for(const[r,s]of t)e[r]=tE(s);const n=Uo("instance",bt({typeName:Br("instance"),id:di("instance"),currentPageId:mp,followingUserId:De.nullable(),brush:Uu.nullable(),opacityForNextShape:CE,stylesForNextShape:bt(e),cursor:KD,scribbles:Ds(_E),isFocusMode:st,isDebugMode:st,isToolLocked:st,exportBackground:st,screenBounds:Uu,zoomBrush:Uu.nullable(),isPenMode:st,isGridMode:st,chatMessage:De,isChatting:st,highlightedUserIds:Ds(De),canMoveCamera:st,isFocused:st,devicePixelRatio:Ne,isCoarsePointer:st,isHoveringCanvas:st.nullable(),openMenus:Ds(De),isChangingStyle:st,isReadonly:st,meta:Ji}));return Vo("instance",{migrations:GD,validator:n,scope:"session"}).withDefaultProperties(()=>({followingUserId:null,opacityForNextShape:1,stylesForNextShape:{},brush:null,scribbles:[],cursor:{type:"default",rotation:0},isFocusMode:!1,exportBackground:!1,isDebugMode:!1,isToolLocked:!1,screenBounds:{x:0,y:0,w:1080,h:720},zoomBrush:null,isGridMode:!1,isPenMode:!1,chatMessage:"",isChatting:!1,highlightedUserIds:[],canMoveCamera:!0,isFocused:!1,devicePixelRatio:typeof window>"u"?1:window.devicePixelRatio,isCoarsePointer:!1,isHoveringCanvas:null,openMenus:[],isChangingStyle:!1,isReadonly:!1,meta:{}}))}const Wt={AddTransparentExportBgs:1,RemoveDialog:2,AddToolLockMode:3,RemoveExtraPropsForNextShape:4,AddLabelColor:5,AddFollowingUserId:6,RemoveAlignJustify:7,AddZoom:8,AddVerticalAlign:9,AddScribbleDelay:10,RemoveUserId:11,AddIsPenModeAndIsGridMode:12,HoistOpacity:13,AddChat:14,AddHighlightedUserIds:15,ReplacePropsForNextShapeWithStylesForNextShape:16,AddMeta:17,RemoveCursorColor:18,AddLonelyProperties:19,ReadOnlyReadonly:20,AddHoveringCanvas:21,AddScribbles:22},GD=ft({currentVersion:Wt.AddScribbles,migrators:{[Wt.AddTransparentExportBgs]:{up:t=>({...t,exportBackground:!0}),down:({exportBackground:t,...e})=>e},[Wt.RemoveDialog]:{up:({dialog:t,...e})=>e,down:t=>({...t,dialog:null})},[Wt.AddToolLockMode]:{up:t=>({...t,isToolLocked:!1}),down:({isToolLocked:t,...e})=>e},[Wt.RemoveExtraPropsForNextShape]:{up:({propsForNextShape:t,...e})=>({...e,propsForNextShape:Object.fromEntries(Object.entries(t).filter(([n])=>["color","labelColor","dash","fill","size","font","align","verticalAlign","icon","geo","arrowheadStart","arrowheadEnd","spline"].includes(n)))}),down:t=>t},[Wt.AddLabelColor]:{up:({propsForNextShape:t,...e})=>({...e,propsForNextShape:{...t,labelColor:"black"}}),down:t=>{const{labelColor:e,...n}=t.propsForNextShape;return{...t,propsForNextShape:{...n}}}},[Wt.AddFollowingUserId]:{up:t=>({...t,followingUserId:null}),down:({followingUserId:t,...e})=>e},[Wt.RemoveAlignJustify]:{up:t=>{let e=t.propsForNextShape.align;return e==="justify"&&(e="start"),{...t,propsForNextShape:{...t.propsForNextShape,align:e}}},down:t=>({...t})},[Wt.AddZoom]:{up:t=>({...t,zoomBrush:null}),down:({zoomBrush:t,...e})=>e},[Wt.AddVerticalAlign]:{up:t=>({...t,propsForNextShape:{...t.propsForNextShape,verticalAlign:"middle"}}),down:t=>{const{verticalAlign:e,...n}=t.propsForNextShape;return{...t,propsForNextShape:n}}},[Wt.AddScribbleDelay]:{up:t=>t.scribble!==null?{...t,scribble:{...t.scribble,delay:0}}:{...t},down:t=>{if(t.scribble!==null){const{delay:e,...n}=t.scribble;return{...t,scribble:n}}return{...t}}},[Wt.RemoveUserId]:{up:({userId:t,...e})=>e,down:t=>({...t,userId:"user:none"})},[Wt.AddIsPenModeAndIsGridMode]:{up:t=>({...t,isPenMode:!1,isGridMode:!1}),down:({isPenMode:t,isGridMode:e,...n})=>n},[Wt.HoistOpacity]:{up:({propsForNextShape:{opacity:t,...e},...n})=>({...n,opacityForNextShape:Number(t??"1"),propsForNextShape:e}),down:({opacityForNextShape:t,...e})=>({...e,propsForNextShape:{...e.propsForNextShape,opacity:t<.175?"0.1":t<.375?"0.25":t<.625?"0.5":t<.875?"0.75":"1"}})},[Wt.AddChat]:{up:t=>({...t,chatMessage:"",isChatting:!1}),down:({chatMessage:t,isChatting:e,...n})=>n},[Wt.AddHighlightedUserIds]:{up:t=>({...t,highlightedUserIds:[]}),down:({highlightedUserIds:t,...e})=>e},[Wt.ReplacePropsForNextShapeWithStylesForNextShape]:{up:({propsForNextShape:t,...e})=>({...e,stylesForNextShape:{}}),down:({stylesForNextShape:t,...e})=>({...e,propsForNextShape:{color:"black",labelColor:"black",dash:"draw",fill:"none",size:"m",icon:"file",font:"draw",align:"middle",verticalAlign:"middle",geo:"rectangle",arrowheadStart:"none",arrowheadEnd:"arrow",spline:"line"}})},[Wt.AddMeta]:{up:t=>({...t,meta:{}}),down:({meta:t,...e})=>({...e})},[Wt.RemoveCursorColor]:{up:t=>{const{color:e,...n}=t.cursor;return{...t,cursor:n}},down:t=>({...t,cursor:{...t.cursor,color:"black"}})},[Wt.AddLonelyProperties]:{up:t=>({...t,canMoveCamera:!0,isFocused:!1,devicePixelRatio:1,isCoarsePointer:!1,openMenus:[],isChangingStyle:!1,isReadOnly:!1}),down:({canMoveCamera:t,isFocused:e,devicePixelRatio:n,isCoarsePointer:r,openMenus:s,isChangingStyle:i,isReadOnly:o,...a})=>({...a})},[Wt.ReadOnlyReadonly]:{up:({isReadOnly:t,...e})=>({...e,isReadonly:t}),down:({isReadonly:t,...e})=>({...e,isReadOnly:t})},[Wt.AddHoveringCanvas]:{up:t=>({...t,isHoveringCanvas:null}),down:({isHoveringCanvas:t,...e})=>({...e})},[Wt.AddScribbles]:{up:({scribble:t,...e})=>({...e,scribbles:[]}),down:({scribbles:t,...e})=>({...e,scribble:null})}}}),ir="instance:instance",ZD=De.refine(t=>{if(!t.startsWith("page:")&&!t.startsWith("shape:"))throw new Error('Parent ID must start with "page:" or "shape:"');return t}),Qs=di("shape");function QD(t,e,n){return bt({id:Qs,typeName:Br("shape"),x:Ne,y:Ne,rotation:Ne,index:De,parentId:ZD,type:Br(t),isLocked:st,opacity:CE,props:e?bt(e):Ji,meta:n?bt(n):Ji})}const JD=Uo("instance_page_state",bt({typeName:Br("instance_page_state"),id:di("instance_page_state"),pageId:mp,selectedShapeIds:Ds(Qs),hintingShapeIds:Ds(Qs),erasingShapeIds:Ds(Qs),hoveredShapeId:Qs.nullable(),editingShapeId:Qs.nullable(),croppingShapeId:Qs.nullable(),focusedGroupId:Qs.nullable(),meta:Ji})),Dc={AddCroppingId:1,RemoveInstanceIdAndCameraId:2,AddMeta:3,RenameProperties:4,RenamePropertiesAgain:5},eq=ft({currentVersion:Dc.RenamePropertiesAgain,migrators:{[Dc.AddCroppingId]:{up(t){return{...t,croppingShapeId:null}},down({croppingShapeId:t,...e}){return e}},[Dc.RemoveInstanceIdAndCameraId]:{up({instanceId:t,cameraId:e,...n}){return n},down(t){return{...t,instanceId:ir,cameraId:Zn.createId("void")}}},[Dc.AddMeta]:{up:t=>({...t,meta:{}}),down:({meta:t,...e})=>({...e})},[Dc.RenameProperties]:{up:t=>{const{selectedShapeIds:e,hintingShapeIds:n,erasingShapeIds:r,hoveredShapeId:s,editingShapeId:i,croppingShapeId:o,focusedGroupId:a,...l}=t;return{selectedShapeIds:e,hintingShapeIds:n,erasingShapeIds:r,hoveredShapeId:s,editingShapeId:i,croppingShapeId:o,focusedGroupId:a,...l}},down:t=>{const{selectedShapeIds:e,hintingShapeIds:n,erasingShapeIds:r,hoveredShapeId:s,editingShapeId:i,croppingShapeId:o,focusedGroupId:a,...l}=t;return{selectedShapeIds:e,hintingShapeIds:n,erasingShapeIds:r,hoveredShapeId:s,editingShapeId:i,croppingShapeId:o,focusedGroupId:a,...l}}},[Dc.RenamePropertiesAgain]:{up:t=>{const{selectedIds:e,hintingIds:n,erasingIds:r,hoveredId:s,editingId:i,croppingShapeId:o,croppingId:a,focusLayerId:l,...c}=t;return{...c,selectedShapeIds:e,hintingShapeIds:n,erasingShapeIds:r,hoveredShapeId:s,editingShapeId:i,croppingShapeId:o??a??null,focusedGroupId:l}},down:t=>{const{selectedShapeIds:e,hintingShapeIds:n,erasingShapeIds:r,hoveredShapeId:s,editingShapeId:i,croppingShapeId:o,focusedGroupId:a,...l}=t;return{...l,selectedIds:e,hintingIds:n,erasingIds:r,hoveredId:s,editingId:i,croppingId:o,focusLayerId:a}}}}}),Qn=Vo("instance_page_state",{migrations:eq,validator:JD,scope:"session"}).withDefaultProperties(()=>({editingShapeId:null,croppingShapeId:null,selectedShapeIds:[],hoveredShapeId:null,erasingShapeIds:[],hintingShapeIds:[],focusedGroupId:null,meta:{}})),tq=Uo("pointer",bt({typeName:Br("pointer"),id:di("pointer"),x:Ne,y:Ne,lastActivityTimestamp:Ne,meta:Ji})),n7={AddMeta:1},nq=ft({currentVersion:n7.AddMeta,migrators:{[n7.AddMeta]:{up:t=>({...t,meta:{}}),down:({meta:t,...e})=>({...e})}}}),gS=Vo("pointer",{validator:tq,migrations:nq,scope:"session"}).withDefaultProperties(()=>({x:0,y:0,lastActivityTimestamp:0,meta:{}})),em=gS.createId("pointer"),rq=Uo("instance_presence",bt({typeName:Br("instance_presence"),id:di("instance_presence"),userId:De,userName:De,lastActivityTimestamp:Ne,followingUserId:De.nullable(),cursor:bt({x:Ne,y:Ne,type:kE,rotation:Ne}),color:De,camera:bt({x:Ne,y:Ne,z:Ne}),screenBounds:Uu,selectedShapeIds:Ds(di("shape")),currentPageId:di("page"),brush:Uu.nullable(),scribbles:Ds(_E),chatMessage:De,meta:Ji})),qc={AddScribbleDelay:1,RemoveInstanceId:2,AddChatMessage:3,AddMeta:4,RenameSelectedShapeIds:5},sq=ft({currentVersion:qc.RenameSelectedShapeIds,migrators:{[qc.AddScribbleDelay]:{up:t=>t.scribble!==null?{...t,scribble:{...t.scribble,delay:0}}:{...t},down:t=>{if(t.scribble!==null){const{delay:e,...n}=t.scribble;return{...t,scribble:n}}return{...t}}},[qc.RemoveInstanceId]:{up:({instanceId:t,...e})=>e,down:t=>({...t,instanceId:ir})},[qc.AddChatMessage]:{up:t=>({...t,chatMessage:""}),down:({chatMessage:t,...e})=>e},[qc.AddMeta]:{up:t=>({...t,meta:{}}),down:({meta:t,...e})=>({...e})},[qc.RenameSelectedShapeIds]:{up:t=>{const{selectedShapeIds:e,...n}=t;return{selectedShapeIds:e,...n}},down:t=>{const{selectedShapeIds:e,...n}=t;return{selectedShapeIds:e,...n}}}}}),F5=Vo("instance_presence",{migrations:sq,validator:rq,scope:"presence"}).withDefaultProperties(()=>({lastActivityTimestamp:0,followingUserId:null,color:"#FF0000",camera:{x:0,y:0,z:1},cursor:{x:0,y:0,type:"default",rotation:0},screenBounds:{x:0,y:0,w:1,h:1},selectedShapeIds:[],brush:null,scribbles:[],chatMessage:"",meta:{}})),r7=new WeakMap;function iq(t,e){if(typeof t!="object"||t===null)return;let n=r7.get(t);n||(n={tags:{},extras:{}},r7.set(t,n)),e.tags&&(n.tags={...n.tags,...e.tags}),e.extras&&(n.extras={...n.extras,...e.extras})}function tm(t){if(!t)return t;if(Array.isArray(t)){const e=[],n=t.length;for(let r=0;r<n;r++)e.push(tm(t[r]));return e}else if(typeof t=="object"){const e=Object.keys(t),n=e.length,r={};for(let s=0;s<n;s++){const i=e[s];r[i]=tm(t[i])}return r}return t}function oq(t){return Object.values(t)}function aq(t){return Object.entries(t)}function s7(t,e){const n={};for(const[r,s]of aq(t)){const i=e(r,s);n[r]=i}return n}const i7=typeof window<"u"&&window.structuredClone?window.structuredClone:t=>t&&JSON.parse(JSON.stringify(t)),lq=Uo("document",bt({typeName:Br("document"),id:Br("document:document"),gridSize:Ne,name:De,meta:Ji})),v2={AddName:1,AddMeta:2},cq=ft({currentVersion:v2.AddMeta,migrators:{[v2.AddName]:{up:t=>({...t,name:""}),down:({name:t,...e})=>e},[v2.AddMeta]:{up:t=>({...t,meta:{}}),down:({meta:t,...e})=>({...e})}}}),mS=Vo("document",{migrations:cq,validator:lq,scope:"document"}).withDefaultProperties(()=>({gridSize:10,name:"",meta:{}})),K5=mS.createId("document");function dq(t,e){return t.index<e.index?-1:t.index>e.index?1:0}function o7(t){t.typeName==="asset"&&("src"in t&&(t.src="<redacted>"),"src"in t.props&&(t.props.src="<redacted>"))}const hq=({error:t,phase:e,record:n,recordBefore:r})=>{throw iq(t,{tags:{origin:"store.validateRecord",storePhase:e,isExistingValidationIssue:e==="initialize"},extras:{recordBefore:r?o7(i7(r)):void 0,recordAfter:o7(i7(n))}}),t};function uq(){return[$o.create({id:"page:page",name:"Page 1",index:"a1",meta:{}})]}function pq(t){const e=t.query.ids("page"),n=()=>{if(!t.has(K5))return t.put([mS.create({id:K5,name:t.props.defaultName})]),n();if(!t.has(em))return t.put([gS.create({id:em})]),n();const r=e.get();if(r.size===0)return t.put(uq()),n();const s=()=>[...r].map(l=>t.get(l)).sort(dq)[0].id,i=t.get(ir);if(i){if(!r.has(i.currentPageId))return t.put([{...i,currentPageId:s()}]),n()}else return t.put([t.schema.types.instance.create({id:ir,currentPageId:s(),exportBackground:!0})]),n();const o=new Set,a=new Set;for(const l of r){const c=Qn.createId(l);t.has(c)||o.add(c);const d=Zn.createId(l);t.has(d)||a.add(d)}o.size>0&&t.put([...o].map(l=>Qn.create({id:l,pageId:Qn.parseId(l)}))),a.size>0&&t.put([...a].map(l=>Zn.create({id:l})))};return n}const fq=uS("bookmark",bt({title:De,description:De,image:De,src:De.nullable()})),gq=ft({}),mq=uS("image",bt({w:Ne,h:Ne,name:De,isAnimated:st,mimeType:De.nullable(),src:De.nullable()})),k2={AddIsAnimated:1,RenameWidthHeight:2},yq=ft({currentVersion:k2.RenameWidthHeight,migrators:{[k2.AddIsAnimated]:{up:t=>({...t,props:{...t.props,isAnimated:!1}}),down:t=>{const{isAnimated:e,...n}=t.props;return{...t,props:n}}},[k2.RenameWidthHeight]:{up:t=>{const{width:e,height:n,...r}=t.props;return{...t,props:{w:e,h:n,...r}}},down:t=>{const{w:e,h:n,...r}=t.props;return{...t,props:{width:e,height:n,...r}}}}}}),xq=uS("video",bt({w:Ne,h:Ne,name:De,isAnimated:st,mimeType:De.nullable(),src:De.nullable()})),C2={AddIsAnimated:1,RenameWidthHeight:2},wq=ft({currentVersion:C2.RenameWidthHeight,migrators:{[C2.AddIsAnimated]:{up:t=>({...t,props:{...t.props,isAnimated:!1}}),down:t=>{const{isAnimated:e,...n}=t.props;return{...t,props:n}}},[C2.RenameWidthHeight]:{up:t=>{const{width:e,height:n,...r}=t.props;return{...t,props:{w:e,h:n,...r}}},down:t=>{const{w:e,h:n,...r}=t.props;return{...t,props:{width:e,height:n,...r}}}}}}),Sq=Uo("asset",hS("type",{image:mq,video:xq,bookmark:fq})),a7={AddMeta:1},bq=ft({subTypeKey:"type",subTypeMigrations:{image:yq,video:wq,bookmark:gq},currentVersion:a7.AddMeta,migrators:{[a7.AddMeta]:{up:t=>({...t,meta:{}}),down:({meta:t,...e})=>({...e})}}}),Rl=Vo("asset",{migrations:bq,validator:Sq,scope:"document"}).withDefaultProperties(()=>({meta:{}}));let mr=class EE{constructor(e,n,r){this.id=e,this.defaultValue=n,this.type=r}static define(e,n){const{defaultValue:r,type:s=uD}=n;return new EE(e,r,s)}static defineEnum(e,n){const{defaultValue:r,values:s}=n;return new vq(e,r,s)}validate(e){return this.type.validate(e)}},vq=class extends mr{constructor(e,n,r){super(e,n,nE(...r)),this.values=r}};const lg={AddIsLocked:1,HoistOpacity:2,AddMeta:3},_2=ft({currentVersion:lg.AddMeta,migrators:{[lg.AddIsLocked]:{up:t=>({...t,isLocked:!1}),down:t=>{const{isLocked:e,...n}=t;return{...n}}},[lg.HoistOpacity]:{up:({props:{opacity:t,...e},...n})=>({...n,opacity:Number(t??"1"),props:e}),down:({opacity:t,...e})=>({...e,props:{...e.props,opacity:t<.175?"0.1":t<.375?"0.25":t<.625?"0.5":t<.875?"0.75":"1"}})},[lg.AddMeta]:{up:t=>({...t,meta:{}}),down:({meta:t,...e})=>({...e})}}});function $l(t){return t?t.typeName==="shape":!1}function zs(t){return t?t.startsWith("shape:"):!1}function at(t){return`shape:${t??Ha()}`}function IE(t){const e=new Map;for(const[n,r]of Object.entries(t))if(r instanceof mr){if(e.has(r))throw new Error(`Duplicate style prop ${r.id}. Each style prop can only be used once within a shape.`);e.set(r,n)}return e}function kq(t){return Vo("shape",{migrations:ft({currentVersion:_2.currentVersion,firstVersion:_2.firstVersion,migrators:_2.migrators,subTypeKey:"type",subTypeMigrations:s7(t,(e,n)=>n.migrations??ft({}))}),scope:"document",validator:Uo("shape",hS("type",s7(t,(e,{props:n,meta:r})=>QD(e,n,r))))}).withDefaultProperties(()=>({x:0,y:0,rotation:0,isLocked:!1,opacity:1,meta:{}}))}const Hh={RemoveCodeAndIconShapeTypes:1,AddInstancePresenceType:2,RemoveTLUserAndPresenceAndAddPointer:3,RemoveUserDocument:4},Cq=ft({currentVersion:Hh.RemoveUserDocument,migrators:{[Hh.RemoveCodeAndIconShapeTypes]:{up:t=>Object.fromEntries(Object.entries(t).filter(([e,n])=>n.typeName!=="shape"||n.type!=="icon"&&n.type!=="code")),down:t=>t},[Hh.AddInstancePresenceType]:{up:t=>t,down:t=>Object.fromEntries(Object.entries(t).filter(([e,n])=>n.typeName!=="instance_presence"))},[Hh.RemoveTLUserAndPresenceAndAddPointer]:{up:t=>Object.fromEntries(Object.entries(t).filter(([e,n])=>!n.typeName.match(/^(user|user_presence)$/))),down:t=>Object.fromEntries(Object.entries(t).filter(([e,n])=>n.typeName!=="pointer"))},[Hh.RemoveUserDocument]:{up:t=>Object.fromEntries(Object.entries(t).filter(([e,n])=>!n.typeName.match("user_document"))),down:t=>t}}});function _q({shapes:t}){const e=new Map;for(const s of oq(t))for(const i of IE(s.props??{}).keys()){if(e.has(i.id)&&e.get(i.id)!==i)throw new Error(`Multiple StyleProp instances with the same id: ${i.id}`);e.set(i.id,i)}const n=kq(t),r=HD(e);return DD.create({asset:Rl,camera:Zn,document:mS,instance:r,instance_page_state:Qn,page:$o,shape:n,instance_presence:F5,pointer:gS},{snapshotMigrations:Cq,onValidationFailure:hq,createIntegrityChecker:pq})}const PE=["black","grey","light-violet","violet","blue","light-blue","yellow","orange","green","light-green","light-red","red"],nm={lightMode:{id:"light",text:"#000000",background:"rgb(249, 250, 251)",solid:"#fcfffe",black:{solid:"#1d1d1d",semi:"#e8e8e8",pattern:"#494949",highlight:{srgb:"#fddd00",p3:"color(display-p3 0.972 0.8705 0.05)"}},blue:{solid:"#4263eb",semi:"#dce1f8",pattern:"#6681ee",highlight:{srgb:"#10acff",p3:"color(display-p3 0.308 0.6632 0.9996)"}},green:{solid:"#099268",semi:"#d3e9e3",pattern:"#39a785",highlight:{srgb:"#00ffc8",p3:"color(display-p3 0.2536 0.984 0.7981)"}},grey:{solid:"#adb5bd",semi:"#eceef0",pattern:"#bcc3c9",highlight:{srgb:"#cbe7f1",p3:"color(display-p3 0.8163 0.9023 0.9416)"}},"light-blue":{solid:"#4dabf7",semi:"#ddedfa",pattern:"#6fbbf8",highlight:{srgb:"#00f4ff",p3:"color(display-p3 0.1512 0.9414 0.9996)"}},"light-green":{solid:"#40c057",semi:"#dbf0e0",pattern:"#65cb78",highlight:{srgb:"#65f641",p3:"color(display-p3 0.563 0.9495 0.3857)"}},"light-red":{solid:"#ff8787",semi:"#f4dadb",pattern:"#fe9e9e",highlight:{srgb:"#ff7fa3",p3:"color(display-p3 0.9988 0.5301 0.6397)"}},"light-violet":{solid:"#e599f7",semi:"#f5eafa",pattern:"#e9acf8",highlight:{srgb:"#ff88ff",p3:"color(display-p3 0.9676 0.5652 0.9999)"}},orange:{solid:"#f76707",semi:"#f8e2d4",pattern:"#f78438",highlight:{srgb:"#ffa500",p3:"color(display-p3 0.9988 0.6905 0.266)"}},red:{solid:"#e03131",semi:"#f4dadb",pattern:"#e55959",highlight:{srgb:"#ff636e",p3:"color(display-p3 0.9992 0.4376 0.45)"}},violet:{solid:"#ae3ec9",semi:"#ecdcf2",pattern:"#bd63d3",highlight:{srgb:"#c77cff",p3:"color(display-p3 0.7469 0.5089 0.9995)"}},yellow:{solid:"#ffc078",semi:"#f9f0e6",pattern:"#fecb92",highlight:{srgb:"#fddd00",p3:"color(display-p3 0.972 0.8705 0.05)"}}},darkMode:{id:"dark",text:"#f8f9fa",background:"#212529",solid:"#28292e",black:{solid:"#e1e1e1",semi:"#2c3036",pattern:"#989898",highlight:{srgb:"#d2b700",p3:"color(display-p3 0.8078 0.7225 0.0312)"}},blue:{solid:"#4156be",semi:"#262d40",pattern:"#3a4b9e",highlight:{srgb:"#0079d2",p3:"color(display-p3 0.0032 0.4655 0.7991)"}},green:{solid:"#3b7b5e",semi:"#253231",pattern:"#366a53",highlight:{srgb:"#009774",p3:"color(display-p3 0.0085 0.582 0.4604)"}},grey:{solid:"#93989f",semi:"#33373c",pattern:"#7c8187",highlight:{srgb:"#9cb4cb",p3:"color(display-p3 0.6299 0.7012 0.7856)"}},"light-blue":{solid:"#588fc9",semi:"#2a3642",pattern:"#4d7aa9",highlight:{srgb:"#00bdc8",p3:"color(display-p3 0.0023 0.7259 0.7735)"}},"light-green":{solid:"#599f57",semi:"#2a3830",pattern:"#4e874e",highlight:{srgb:"#00a000",p3:"color(display-p3 0.2711 0.6172 0.0195)"}},"light-red":{solid:"#c67877",semi:"#3b3235",pattern:"#a56767",highlight:{srgb:"#db005b",p3:"color(display-p3 0.7849 0.0585 0.3589)"}},"light-violet":{solid:"#b583c9",semi:"#383442",pattern:"#9770a9",highlight:{srgb:"#c400c7",p3:"color(display-p3 0.7024 0.0403 0.753)"}},orange:{solid:"#bf612e",semi:"#3a2e2a",pattern:"#9f552d",highlight:{srgb:"#d07a00",p3:"color(display-p3 0.7699 0.4937 0.0085)"}},red:{solid:"#aa3c37",semi:"#36292b",pattern:"#8f3734",highlight:{srgb:"#de002c",p3:"color(display-p3 0.7978 0.0509 0.2035)"}},violet:{solid:"#873fa3",semi:"#31293c",pattern:"#763a8b",highlight:{srgb:"#9e00ee",p3:"color(display-p3 0.5651 0.0079 0.8986)"}},yellow:{solid:"#cba371",semi:"#3c3934",pattern:"#fecb92",highlight:{srgb:"#d2b700",p3:"color(display-p3 0.8078 0.7225 0.0312)"}}}};function pr(t){return t.isDarkMode?nm.darkMode:nm.lightMode}const Fn=mr.defineEnum("tldraw:color",{defaultValue:"black",values:PE}),zE=mr.defineEnum("tldraw:labelColor",{defaultValue:"black",values:PE}),ic=mr.defineEnum("tldraw:dash",{defaultValue:"draw",values:["draw","solid","dashed","dotted"]}),sh=mr.defineEnum("tldraw:fill",{defaultValue:"none",values:["none","semi","solid","pattern"]}),eo=mr.defineEnum("tldraw:font",{defaultValue:"draw",values:["draw","sans","serif","mono"]}),gf={draw:"'tldraw_draw', sans-serif",sans:"'tldraw_sans', sans-serif",serif:"'tldraw_serif', serif",mono:"'tldraw_mono', monospace"},to=mr.defineEnum("tldraw:size",{defaultValue:"m",values:["s","m","l","xl"]}),AE=["arrow","triangle","square","dot","pipe","diamond","inverted","bar","none"],rm=mr.defineEnum("tldraw:arrowheadStart",{defaultValue:"none",values:AE}),sm=mr.defineEnum("tldraw:arrowheadEnd",{defaultValue:"arrow",values:AE}),l7=hS("type",{binding:bt({type:Br("binding"),boundShapeId:Qs,normalizedAnchor:gp,isExact:st,isPrecise:st}),point:bt({type:Br("point"),x:Ne,y:Ne})}),Eq={labelColor:zE,color:Fn,fill:sh,dash:ic,size:to,arrowheadStart:rm,arrowheadEnd:sm,font:eo,start:l7,end:l7,bend:Ne,text:De},E2={AddLabelColor:1,AddIsPrecise:2},Iq=ft({currentVersion:E2.AddIsPrecise,migrators:{[E2.AddLabelColor]:{up:t=>({...t,props:{...t.props,labelColor:"black"}}),down:t=>{const{labelColor:e,...n}=t.props;return{...t,props:n}}},[E2.AddIsPrecise]:{up:t=>{const{start:e,end:n}=t.props;return{...t,props:{...t.props,start:e.type==="binding"?{...e,isPrecise:!(e.normalizedAnchor.x===.5&&e.normalizedAnchor.y===.5)}:e,end:n.type==="binding"?{...n,isPrecise:!(n.normalizedAnchor.x===.5&&n.normalizedAnchor.y===.5)}:n}}},down:t=>{const{start:e,end:n}=t.props,r={...e},s={...n};return r.type==="binding"&&(r.isPrecise||(r.normalizedAnchor={x:.5,y:.5}),delete r.isPrecise),s.type==="binding"&&(s.isPrecise||(s.normalizedAnchor={x:.5,y:.5}),delete s.isPrecise),{...t,props:{...t.props,start:r,end:s}}}}}}),Pq={w:qr,h:qr,assetId:zy.nullable(),url:De},c7={NullAssetId:1},zq=ft({currentVersion:c7.NullAssetId,migrators:{[c7.NullAssetId]:{up:t=>t.props.assetId===void 0?{...t,props:{...t.props,assetId:null}}:t,down:t=>{if(t.props.assetId===null){const{assetId:e,...n}=t.props;return{...t,props:n}}return t}}}}),NE=bt({type:nE("free","straight"),points:Ds(gp)}),Aq={color:Fn,fill:sh,dash:ic,size:to,segments:Ds(NE),isComplete:st,isClosed:st,isPen:st},d7={AddInPen:1},Nq=ft({currentVersion:d7.AddInPen,migrators:{[d7.AddInPen]:{up:t=>{const{points:e}=t.props.segments[0];if(e.length===0)return{...t,props:{...t.props,isPen:!1}};let n=!(e[0].z===0||e[0].z===.5);return e[1]&&(n=n&&!(e[1].z===0||e[1].z===.5)),{...t,props:{...t.props,isPen:n}}},down:t=>{const{isPen:e,...n}=t.props;return{...t,props:{...n}}}}}}),h7=/(^\/r\/[^/]+\/?$)/,dt=t=>{try{return new URL(t)}catch{return}},ih=[{type:"tldraw",title:"tldraw",hostnames:["beta.tldraw.com","tldraw.com"],minWidth:300,minHeight:300,width:720,height:500,doesResize:!0,canUnmount:!0,toEmbedUrl:t=>{const e=dt(t);if(e&&e.pathname.match(h7))return t},fromEmbedUrl:t=>{const e=dt(t);if(e&&e.pathname.match(h7))return t}},{type:"figma",title:"Figma",hostnames:["figma.com"],width:720,height:500,doesResize:!0,canUnmount:!0,toEmbedUrl:t=>{if(t.match(/https:\/\/([\w\.-]+\.)?figma.com\/(file|proto)\/([0-9a-zA-Z]{22,128})(?:\/.*)?$/)&&!t.includes("figma.com/embed"))return`https://www.figma.com/embed?embed_host=share&url=${t}`},fromEmbedUrl:t=>{const e=dt(t);if(e&&e.pathname.match(/^\/embed\/?$/)){const n=e.searchParams.get("url");if(n)return n}}},{type:"google_maps",title:"Google Maps",hostnames:["google.*"],width:720,height:500,doesResize:!0,canUnmount:!1,toEmbedUrl:t=>{if(t.includes("/maps/")){const e=t.match(/@(.*),(.*),(.*)z/);let n;if(e){const[,r,s,i]=e;n=`https://${new URL(t).host.replace("www.","")}/maps/embed/v1/view?key=${{}.NEXT_PUBLIC_GC_API_KEY}&center=${r},${s}&zoom=${i}`}else n="";return n}},fromEmbedUrl:t=>{const e=dt(t);if(!e)return;if(e.pathname.match(/^\/maps\/embed\/v1\/view\/?$/)&&e.searchParams.has("center")&&e.searchParams.get("zoom")){const r=e.searchParams.get("zoom"),[s,i]=e.searchParams.get("center").split(",");return`https://www.google.com/maps/@${s},${i},${r}z`}}},{type:"val_town",title:"Val Town",hostnames:["val.town"],minWidth:260,minHeight:100,width:720,height:500,doesResize:!0,canUnmount:!1,toEmbedUrl:t=>{const e=dt(t),n=e&&e.pathname.match(/\/v\/([^/]+)\/?/);if(n)return`https://www.val.town/embed/${n[1]}`},fromEmbedUrl:t=>{const e=dt(t),n=e&&e.pathname.match(/\/embed\/([^/]+)\/?/);if(n)return`https://www.val.town/v/${n[1]}`}},{type:"codesandbox",title:"CodeSandbox",hostnames:["codesandbox.io"],minWidth:300,minHeight:300,width:720,height:500,doesResize:!0,canUnmount:!1,toEmbedUrl:t=>{const e=dt(t),n=e&&e.pathname.match(/\/s\/([^/]+)\/?/);if(n)return`https://codesandbox.io/embed/${n[1]}`},fromEmbedUrl:t=>{const e=dt(t),n=e&&e.pathname.match(/\/embed\/([^/]+)\/?/);if(n)return`https://codesandbox.io/s/${n[1]}`}},{type:"codepen",title:"Codepen",hostnames:["codepen.io"],minWidth:300,minHeight:300,width:520,height:400,doesResize:!0,canUnmount:!1,toEmbedUrl:t=>{const e=/https:\/\/codepen.io\/([^/]+)\/pen\/([^/]+)/,n=t.match(e);if(n){const[r,s,i]=n;return`https://codepen.io/${s}/embed/${i}`}},fromEmbedUrl:t=>{const e=/https:\/\/codepen.io\/([^/]+)\/embed\/([^/]+)/,n=t.match(e);if(n){const[r,s,i]=n;return`https://codepen.io/${s}/pen/${i}`}}},{type:"scratch",title:"Scratch",hostnames:["scratch.mit.edu"],width:520,height:400,doesResize:!1,canUnmount:!1,toEmbedUrl:t=>{const e=/https?:\/\/scratch.mit.edu\/projects\/([^/]+)/,n=t.match(e);if(n){const[r,s]=n;return`https://scratch.mit.edu/projects/embed/${s}`}},fromEmbedUrl:t=>{const e=/https:\/\/scratch.mit.edu\/projects\/embed\/([^/]+)/,n=t.match(e);if(n){const[r,s]=n;return`https://scratch.mit.edu/projects/${s}`}}},{type:"youtube",title:"YouTube",hostnames:["*.youtube.com","youtube.com","youtu.be"],width:800,height:450,doesResize:!0,canUnmount:!1,overridePermissions:{"allow-presentation":!0},isAspectRatioLocked:!0,toEmbedUrl:t=>{const e=dt(t);if(!e)return;const n=e.hostname.replace(/^www./,"");if(n==="youtu.be")return`https://www.youtube.com/embed/${e.pathname.split("/").filter(Boolean)[0]}`;if((n==="youtube.com"||n==="m.youtube.com")&&e.pathname.match(/^\/watch/))return`https://www.youtube.com/embed/${e.searchParams.get("v")}`},fromEmbedUrl:t=>{const e=dt(t);if(!e)return;if(e.hostname.replace(/^www./,"")==="youtube.com"){const r=e.pathname.match(/^\/embed\/([^/]+)\/?/);if(r)return`https://www.youtube.com/watch?v=${r[1]}`}}},{type:"google_calendar",title:"Google Calendar",hostnames:["calendar.google.*"],width:720,height:500,minWidth:460,minHeight:360,doesResize:!0,canUnmount:!1,instructionLink:"https://support.google.com/calendar/answer/41207?hl=en",toEmbedUrl:t=>{const e=dt(t),n=e==null?void 0:e.searchParams.get("cid");if(e!=null&&e.pathname.match(/\/calendar\/u\/0/)&&n){e.pathname="/calendar/embed";const r=Array.from(e.searchParams.keys());for(const s of r)e.searchParams.delete(s);return e.searchParams.set("src",n),e.href}},fromEmbedUrl:t=>{const e=dt(t),n=e==null?void 0:e.searchParams.get("src");if(e!=null&&e.pathname.match(/\/calendar\/embed/)&&n){e.pathname="/calendar/u/0";const r=Array.from(e.searchParams.keys());for(const s of r)e.searchParams.delete(s);return e.searchParams.set("cid",n),e.href}}},{type:"google_slides",title:"Google Slides",hostnames:["docs.google.*"],width:720,height:500,minWidth:460,minHeight:360,doesResize:!0,canUnmount:!1,toEmbedUrl:t=>{const e=dt(t);if(e!=null&&e.pathname.match(/^\/presentation/)&&(e!=null&&e.pathname.match(/\/pub\/?$/))){e.pathname=e.pathname.replace(/\/pub$/,"/embed");const n=Array.from(e.searchParams.keys());for(const r of n)e.searchParams.delete(r);return e.href}},fromEmbedUrl:t=>{const e=dt(t);if(e!=null&&e.pathname.match(/^\/presentation/)&&(e!=null&&e.pathname.match(/\/embed\/?$/))){e.pathname=e.pathname.replace(/\/embed$/,"/pub");const n=Array.from(e.searchParams.keys());for(const r of n)e.searchParams.delete(r);return e.href}}},{type:"github_gist",title:"GitHub Gist",hostnames:["gist.github.com"],width:720,height:500,doesResize:!0,canUnmount:!0,toEmbedUrl:t=>{const e=dt(t);if(e&&e.pathname.match(/\/([^/]+)\/([^/]+)/))return t.split("/").pop()?t:void 0},fromEmbedUrl:t=>{const e=dt(t);if(e&&e.pathname.match(/\/([^/]+)\/([^/]+)/))return t.split("/").pop()?t:void 0}},{type:"replit",title:"Replit",hostnames:["replit.com"],width:720,height:500,doesResize:!0,canUnmount:!1,toEmbedUrl:t=>{const e=dt(t);if(e&&e.pathname.match(/\/@([^/]+)\/([^/]+)/))return`${t}?embed=true`},fromEmbedUrl:t=>{const e=dt(t);if(e&&e.pathname.match(/\/@([^/]+)\/([^/]+)/)&&e.searchParams.has("embed"))return e.searchParams.delete("embed"),e.href}},{type:"felt",title:"Felt",hostnames:["felt.com"],width:720,height:500,doesResize:!0,canUnmount:!1,toEmbedUrl:t=>{const e=dt(t);if(e&&e.pathname.match(/^\/map\//))return e.origin+"/embed"+e.pathname},fromEmbedUrl:t=>{const e=dt(t);if(e&&e.pathname.match(/^\/embed\/map\//))return e.pathname=e.pathname.replace(/^\/embed/,""),e.href}},{type:"spotify",title:"Spotify",hostnames:["open.spotify.com"],width:720,height:500,minHeight:500,overrideOutlineRadius:12,doesResize:!0,canUnmount:!1,toEmbedUrl:t=>{const e=dt(t);if(e&&e.pathname.match(/^\/(artist|album)\//))return e.origin+"/embed"+e.pathname},fromEmbedUrl:t=>{const e=dt(t);if(e&&e.pathname.match(/^\/embed\/(artist|album)\//))return e.origin+e.pathname.replace(/^\/embed/,"")}},{type:"vimeo",title:"Vimeo",hostnames:["vimeo.com","player.vimeo.com"],width:640,height:360,doesResize:!0,canUnmount:!1,isAspectRatioLocked:!0,toEmbedUrl:t=>{const e=dt(t);if(e&&e.hostname==="vimeo.com"&&e.pathname.match(/^\/[0-9]+/))return"https://player.vimeo.com/video/"+e.pathname.split("/")[1]+"?title=0&byline=0"},fromEmbedUrl:t=>{const e=dt(t);if(e&&e.hostname==="player.vimeo.com"){const n=e.pathname.match(/^\/video\/([^/]+)\/?$/);if(n)return"https://vimeo.com/"+n[1]}}},{type:"excalidraw",title:"Excalidraw",hostnames:["excalidraw.com"],width:720,height:500,doesResize:!0,canUnmount:!1,isAspectRatioLocked:!0,toEmbedUrl:t=>{const e=dt(t);if(e&&e.hash.match(/#room=/))return t},fromEmbedUrl:t=>{const e=dt(t);if(e&&e.hash.match(/#room=/))return t}},{type:"observable",title:"Observable",hostnames:["observablehq.com"],width:720,height:500,doesResize:!0,canUnmount:!1,isAspectRatioLocked:!1,backgroundColor:"#fff",toEmbedUrl:t=>{const e=dt(t);if(e&&e.pathname.match(/^\/@([^/]+)\/([^/]+)\/?$/))return`${e.origin}/embed${e.pathname}?cell=*`;if(e&&e.pathname.match(/^\/d\/([^/]+)\/?$/)){const n=e.pathname.replace(/^\/d/,"");return`${e.origin}/embed${n}?cell=*`}},fromEmbedUrl:t=>{const e=dt(t);if(e&&e.pathname.match(/^\/embed\/@([^/]+)\/([^/]+)\/?$/))return`${e.origin}${e.pathname.replace("/embed","")}#cell-*`;if(e&&e.pathname.match(/^\/embed\/([^/]+)\/?$/))return`${e.origin}${e.pathname.replace("/embed","/d")}#cell-*`}}],Tq={"allow-downloads-without-user-activation":!1,"allow-downloads":!1,"allow-modals":!1,"allow-orientation-lock":!1,"allow-pointer-lock":!1,"allow-popups":!0,"allow-popups-to-escape-sandbox":!1,"allow-presentation":!1,"allow-storage-access-by-user-activation":!1,"allow-top-navigation":!1,"allow-top-navigation-by-user-activation":!1,"allow-scripts":!0,"allow-same-origin":!0,"allow-forms":!0},Lq={w:qr,h:qr,url:De},Gh={GenOriginalUrlInEmbed:1,RemoveDoesResize:2,RemoveTmpOldUrl:3,RemovePermissionOverrides:4},Mq=ft({currentVersion:Gh.RemovePermissionOverrides,migrators:{[Gh.GenOriginalUrlInEmbed]:{up:t=>{const e=t.props.url,n=new URL(e).host.replace("www.","");let r;for(const s of ih)if(s.hostnames.includes(n))try{r=s.fromEmbedUrl(e)}catch(i){console.warn(i)}return{...t,props:{...t.props,tmpOldUrl:t.props.url,url:r??""}}},down:t=>{let e=t.props.tmpOldUrl;if(!e||e===""){const s=t.props.url,i=new URL(s).host.replace("www.","");for(const o of ih)if(o.hostnames.includes(i))try{e=o.toEmbedUrl(s)}catch(a){console.warn(a)}}const{tmpOldUrl:n,...r}=t.props;return{...t,props:{...r,url:e??""}}}},[Gh.RemoveDoesResize]:{up:t=>{const{doesResize:e,...n}=t.props;return{...t,props:{...n}}},down:t=>({...t,props:{...t.props,doesResize:!0}})},[Gh.RemoveTmpOldUrl]:{up:t=>{const{tmpOldUrl:e,...n}=t.props;return{...t,props:{...n}}},down:t=>({...t,props:{...t.props}})},[Gh.RemovePermissionOverrides]:{up:t=>{const{overridePermissions:e,...n}=t.props;return{...t,props:{...n}}},down:t=>({...t,props:{...t.props}})}}}),jq={w:qr,h:qr,name:De},Rq=ft({}),yp=mr.defineEnum("tldraw:horizontalAlign",{defaultValue:"middle",values:["start","middle","end","start-legacy","end-legacy","middle-legacy"]}),im=mr.defineEnum("tldraw:verticalAlign",{defaultValue:"middle",values:["start","middle","end"]}),Ui=mr.defineEnum("tldraw:geo",{defaultValue:"rectangle",values:["cloud","rectangle","ellipse","triangle","diamond","pentagon","hexagon","octagon","star","rhombus","rhombus-2","oval","trapezoid","arrow-right","arrow-left","arrow-up","arrow-down","x-box","check-box"]}),$q={geo:Ui,labelColor:zE,color:Fn,fill:sh,dash:ic,size:to,font:eo,align:yp,verticalAlign:im,url:De,w:qr,h:qr,growY:dS,text:De},da={AddUrlProp:1,AddLabelColor:2,RemoveJustify:3,AddCheckBox:4,AddVerticalAlign:5,MigrateLegacyAlign:6,AddCloud:7},Oq=ft({currentVersion:da.AddCloud,migrators:{[da.AddUrlProp]:{up:t=>({...t,props:{...t.props,url:""}}),down:t=>{const{url:e,...n}=t.props;return{...t,props:n}}},[da.AddLabelColor]:{up:t=>({...t,props:{...t.props,labelColor:"black"}}),down:t=>{const{labelColor:e,...n}=t.props;return{...t,props:n}}},[da.RemoveJustify]:{up:t=>{let e=t.props.align;return e==="justify"&&(e="start"),{...t,props:{...t.props,align:e}}},down:t=>({...t})},[da.AddCheckBox]:{up:t=>({...t}),down:t=>({...t,props:{...t.props,geo:t.props.geo==="check-box"?"rectangle":t.props.geo}})},[da.AddVerticalAlign]:{up:t=>({...t,props:{...t.props,verticalAlign:"middle"}}),down:t=>{const{verticalAlign:e,...n}=t.props;return{...t,props:n}}},[da.MigrateLegacyAlign]:{up:t=>{let e;switch(t.props.align){case"start":e="start-legacy";break;case"end":e="end-legacy";break;default:e="middle-legacy";break}return{...t,props:{...t.props,align:e}}},down:t=>{let e;switch(t.props.align){case"start-legacy":e="start";break;case"end-legacy":e="end";break;case"middle-legacy":e="middle";break;default:e=t.props.align}return{...t,props:{...t.props,align:e}}}},[da.AddCloud]:{up:t=>t,down:t=>{if(t.props.geo==="cloud")return{...t,props:{...t.props,geo:"rectangle"}}}}}}),Dq={},qq=ft({}),Bq={color:Fn,size:to,segments:Ds(NE),isComplete:st,isPen:st},Fq=ft({}),Kq=bt({topLeft:gp,bottomRight:gp}),Wq={w:qr,h:qr,playing:st,url:De,assetId:zy.nullable(),crop:Kq.nullable()},I2={AddUrlProp:1,AddCropProp:2},Uq=ft({currentVersion:I2.AddCropProp,migrators:{[I2.AddUrlProp]:{up:t=>({...t,props:{...t.props,url:""}}),down:t=>{const{url:e,...n}=t.props;return{...t,props:n}}},[I2.AddCropProp]:{up:t=>({...t,props:{...t.props,crop:null}}),down:t=>{const{crop:e,...n}=t.props;return{...t,props:n}}}}}),Vq=new Set(["vertex","virtual","create"]),Xq=bt({id:De,type:ff(Vq),canBind:st.optional(),canSnap:st.optional(),index:De,x:Ne,y:Ne}),om=mr.defineEnum("tldraw:spline",{defaultValue:"line",values:["cubic","line"]}),Yq={color:Fn,dash:ic,size:to,spline:om,handles:fD(De,Xq)},u7={AddSnapHandles:1},Hq=ft({currentVersion:u7.AddSnapHandles,migrators:{[u7.AddSnapHandles]:{up:t=>{const e=tm(t.props.handles);for(const n in e)e[n].canSnap=!0;return{...t,props:{...t.props,handles:e}}},down:t=>{const e=tm(t.props.handles);for(const n in e)delete e[n].canSnap;return{...t,props:{...t.props,handles:e}}}}}}),Gq={color:Fn,size:to,font:eo,align:yp,verticalAlign:im,growY:dS,url:De,text:De},Zh={AddUrlProp:1,RemoveJustify:2,MigrateLegacyAlign:3,AddVerticalAlign:4},Zq=ft({currentVersion:Zh.AddVerticalAlign,migrators:{[Zh.AddUrlProp]:{up:t=>({...t,props:{...t.props,url:""}}),down:t=>{const{url:e,...n}=t.props;return{...t,props:n}}},[Zh.RemoveJustify]:{up:t=>{let e=t.props.align;return e==="justify"&&(e="start"),{...t,props:{...t.props,align:e}}},down:t=>({...t})},[Zh.MigrateLegacyAlign]:{up:t=>{let e;switch(t.props.align){case"start":e="start-legacy";break;case"end":e="end-legacy";break;default:e="middle-legacy";break}return{...t,props:{...t.props,align:e}}},down:t=>{let e;switch(t.props.align){case"start-legacy":e="start";break;case"end-legacy":e="end";break;case"middle-legacy":e="middle";break;default:e=t.props.align}return{...t,props:{...t.props,align:e}}}},[Zh.AddVerticalAlign]:{up:t=>({...t,props:{...t.props,verticalAlign:"middle"}}),down:t=>{const{verticalAlign:e,...n}=t.props;return{...t,props:n}}}}}),Qq={color:Fn,size:to,font:eo,align:yp,w:qr,text:De,scale:qr,autoSize:st},p7={RemoveJustify:1},Jq=ft({currentVersion:p7.RemoveJustify,migrators:{[p7.RemoveJustify]:{up:t=>{let e=t.props.align;return e==="justify"&&(e="start"),{...t,props:{...t.props,align:e}}},down:t=>({...t})}}}),eB={w:qr,h:qr,time:Ne,playing:st,url:De,assetId:zy.nullable()},f7={AddUrlProp:1},tB=ft({currentVersion:f7.AddUrlProp,migrators:{[f7.AddUrlProp]:{up:t=>({...t,props:{...t.props,url:""}}),down:t=>{const{url:e,...n}=t.props;return{...t,props:n}}}}}),xp=[{locale:"ar",label:""},{locale:"ca",label:"Catal"},{locale:"cs",label:"etina"},{locale:"da",label:"Danish"},{locale:"de",label:"Deutsch"},{locale:"en",label:"English"},{locale:"es",label:"Espaol"},{locale:"fa",label:""},{locale:"fi",label:"Suomi"},{locale:"fr",label:"Franais"},{locale:"gl",label:"Galego"},{locale:"he",label:""},{locale:"it",label:"Italiano"},{locale:"ja",label:""},{locale:"ko-kr",label:""},{locale:"ku",label:""},{locale:"hi-in",label:""},{locale:"hu",label:"Magyar"},{locale:"my",label:""},{locale:"ne",label:""},{locale:"no",label:"Norwegian"},{locale:"pl",label:"Polski"},{locale:"pt-br",label:"Portugus - Brasil"},{locale:"pt-pt",label:"Portugus - Europeu"},{locale:"ro",label:"Romn"},{locale:"ru",label:"Russian"},{locale:"sv",label:"Svenska"},{locale:"te",label:""},{locale:"th",label:""},{locale:"tr",label:"Trke"},{locale:"uk",label:"Ukrainian"},{locale:"vi",label:"Ting Vit"},{locale:"zh-cn",label:"Chinese - Simplified"},{locale:"zh-tw",label:" ()"}];function nB(){const t=typeof window<"u"?window.navigator.languages??["en"]:["en"];return rB(t)}function rB(t){for(const e of t){const n=sB(e);if(n)return n}return"en"}const g7={zh:"zh-cn",pt:"pt-br",ko:"ko-kr",hi:"hi-in"};function sB(t){const e=xp.find(s=>s.locale===t.toLowerCase());if(e)return e.locale;const[n,r]=t.split(/[-_]/).map(s=>s.toLowerCase());if(r){const s=xp.find(i=>i.locale===n);if(s)return s.locale}return n in g7?g7[n]:null}function am(t,e){const n=[];e:for(const r of t){for(const s of n)if(e?e(r,s):r===s)continue e;n.push(r)}return n}function ke(t){return t.filter(e=>e!=null)}function wr(t){return t[t.length-1]}function iB(t,e){let n,r=1/0;for(const s of t){const i=e(s);i<r&&(n=s,r=i)}return n}function oB(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!Object.is(t[n],e[n]))return!1;return!0}function aB(t,e){let n,r;return function(...s){return n||(n=!0,setTimeout(()=>n=!1,e),r=t(...s)),r}}function TE(t){const e=(...n)=>{try{return t(...n)}catch(r){throw r instanceof Error&&Error.captureStackTrace&&Error.captureStackTrace(r,e),r}};return e}function lm(t,e){const n=e&&t&&typeof t=="object"&&e in t?t[e]:t;throw new Error(`Unknown switch case ${n}`)}const ec=TE((t,e)=>{if(!t)throw new Error(e||"Assertion Error")}),lB=TE((t,e)=>{if(t==null)throw new Error(e??"value must be defined");return t});function LE(t,e){let n;const r=(...s)=>(n||(n={},n.promise=new Promise((i,o)=>{n.resolve=i,n.reject=o})),clearTimeout(n.timeout),n.latestArgs=s,n.timeout=setTimeout(()=>{const i=n;n=void 0;try{i.resolve(t(...i.latestArgs))}catch(o){i.reject(o)}},e),n.promise);return r.cancel=()=>{n&&clearTimeout(n.timeout)},r}const m7=new WeakMap;function ME(t,e){if(typeof t!="object"||t===null)return;let n=m7.get(t);n||(n={tags:{},extras:{}},m7.set(t,n)),e.tags&&(n.tags={...n.tags,...e.tags}),e.extras&&(n.extras={...n.extras,...e.extras})}class cB{static async base64ToFile(e){return fetch(e).then(function(n){return n.arrayBuffer()})}static async fileToBase64(e){return await new Promise((n,r)=>{if(e){const s=new FileReader;s.readAsDataURL(e),s.onload=()=>n(s.result),s.onerror=i=>r(i),s.onabort=i=>r(i)}})}static blobToDataUrl(e){return URL.createObjectURL(e)}}function v0(t){let e=0;for(let n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n),e|=0;return e+""}let W5=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];typeof Int32Array<"u"&&(W5=new Int32Array(W5));const dB=(t,e)=>{let n=e===0?0:~~e^-1;for(let r=0;r<t.length;r++)n=W5[(n^t[r])&255]^n>>>8;return n^-1},y7=4,x7=4;class $i{static isPng(e,n){return e.getUint8(n+0)===137&&e.getUint8(n+1)===80&&e.getUint8(n+2)===78&&e.getUint8(n+3)===71&&e.getUint8(n+4)===13&&e.getUint8(n+5)===10&&e.getUint8(n+6)===26&&e.getUint8(n+7)===10}static getChunkType(e,n){return[String.fromCharCode(e.getUint8(n)),String.fromCharCode(e.getUint8(n+1)),String.fromCharCode(e.getUint8(n+2)),String.fromCharCode(e.getUint8(n+3))].join("")}static readChunks(e,n=0){const r={};if(!$i.isPng(e,n))throw new Error("Not a PNG");for(n+=8;n<=e.buffer.byteLength;){const s=n,i=e.getInt32(n);n+=4;const o=$i.getChunkType(e,n);if(o==="IDAT"&&r[o]){n+=i+y7+x7;continue}if(o==="IEND")break;r[o]={start:s,dataOffset:n+4,size:i},n+=i+y7+x7}return r}static parsePhys(e,n){return{ppux:e.getUint32(n),ppuy:e.getUint32(n+4),unit:e.getUint8(n+4)}}static findChunk(e,n){return $i.readChunks(e)[n]}static setPhysChunk(e,n=1,r){let s=46,i=0;const o=$i.findChunk(e,"pHYs");o&&(s=o.start,i=o.size);const a=$i.findChunk(e,"IDAT");a&&(s=a.start,i=0);const l=new ArrayBuffer(21),c=new DataView(l);c.setUint32(0,9),c.setUint8(4,"p".charCodeAt(0)),c.setUint8(5,"H".charCodeAt(0)),c.setUint8(6,"Y".charCodeAt(0)),c.setUint8(7,"s".charCodeAt(0));const d=2835.5;c.setInt32(8,d*n),c.setInt32(12,d*n),c.setInt8(16,1);const h=new Uint8Array(l.slice(4,17));c.setInt32(17,dB(h));const u=e.buffer.slice(0,s),p=e.buffer.slice(s+i);return new Blob([u,l,p],r)}}class cm{static async getVideoSizeFromSrc(e){return await new Promise((n,r)=>{const s=document.createElement("video");s.onloadeddata=()=>n({w:s.videoWidth,h:s.videoHeight}),s.onerror=i=>{console.error(i),r(new Error("Could not get video size"))},s.crossOrigin="anonymous",s.src=e})}static async getImageSizeFromSrc(e){return await new Promise((n,r)=>{const s=new Image;s.onload=async()=>{try{const i=await cB.base64ToFile(e),o=new DataView(i);if($i.isPng(o,0)){const a=$i.findChunk(o,"pHYs");if(a){const l=$i.parsePhys(o,a.dataOffset);if(l.unit===0&&l.ppux===l.ppuy){const c=Math.round(l.ppux/2834.5);n({w:s.width/c,h:s.height/c});return}}}n({w:s.width,h:s.height})}catch(i){console.error(i),n({w:s.width,h:s.height})}},s.onerror=i=>{console.error(i),r(new Error("Could not get image size"))},s.crossOrigin="anonymous",s.src=e})}static getImageSize(e){const n=URL.createObjectURL(e);return cm.getImageSizeFromSrc(n)}}function Na(t=""){let e=0,n=0,r=0,s=0;function i(){const o=e^e<<11;return e=n,n=r,r=s,s^=(s>>>19^o^o>>>8)>>>0,s/4294967296*2}for(let o=0;o<t.length+64;o++)e^=t.charCodeAt(o)|0,i();return i}function dm(t,e,n,r=!1){const[s,i]=e,[o,a]=n,l=o+(t-s)/(i-s)*(a-o);return r?o<a?Math.max(Math.min(l,a),o):Math.max(Math.min(l,o),a):l}function jE(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function P2(t,e){if(jE(t,e))return t[e]}function jr(t){if(!t)return t;if(Array.isArray(t)){const e=[],n=t.length;for(let r=0;r<n;r++)e.push(jr(t[r]));return e}else if(typeof t=="object"){const e=Object.keys(t),n=e.length,r={};for(let s=0;s<n;s++){const i=e[s];r[i]=jr(t[i])}return r}return t}function hB(t){return Object.values(t)}function RE(t){return Object.entries(t)}function uB(t){return Object.fromEntries(t)}function $E(t,e){if(t===e)return!0;const n=new Set(Object.keys(t)),r=new Set(Object.keys(e));if(n.size!==r.size)return!1;for(const s of n)if(!r.has(s)||!Object.is(t[s],e[s]))return!1;return!0}function pB(t,e){return t.id>e.id?1:-1}const fB=new RegExp(/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:[/?#]\S*)?$/i);function U5(t){return fB.test(t)}function gB(t){return t!==null}const md=typeof window<"u"&&window.structuredClone?window.structuredClone:t=>t&&JSON.parse(JSON.stringify(t));function mB(t,e){const n=e&&t&&typeof t=="object"&&e in t?t[e]:t;throw new Error(`Unknown switch case ${n}`)}function OE(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function yB(t,e){if(OE(t,e))return t[e]}function xB(t){if(!t.length)return null;let e="";for(const n of t)typeof n=="number"?e+=`.${n}`:n.startsWith("(")?e.endsWith(")")?e=`${e.slice(0,-1)}, ${n.slice(1)}`:e+=n:e+=`.${n}`;return e.startsWith(".")?e.slice(1):e}let qn=class extends Error{constructor(e,n=[]){const r=xB(n),s=e.split(`
`).map((i,o)=>o===0?i:`  ${i}`).join(`
`);super(n?`At ${r}: ${s}`:s),this.rawMessage=e,this.path=n,this.name="ValidationError"}};function Ay(t,e){try{return e()}catch(n){throw n instanceof qn?new qn(n.rawMessage,[t,...n.path]):new qn(n.toString(),[t])}}function Ny(t){if(t===null)return"null";if(Array.isArray(t))return"an array";const e=typeof t;switch(e){case"bigint":case"boolean":case"function":case"number":case"string":case"symbol":return`a ${e}`;case"object":return`an ${e}`;case"undefined":return"undefined";default:mB(e)}}let xc=class DE{constructor(e){this.validationFn=e}validate(e){return this.validationFn(e)}nullable(){return _B(this)}optional(){return CB(this)}refine(e){return new DE(n=>e(this.validate(n)))}check(e,n){return typeof e=="string"?this.refine(r=>(Ay(`(check ${e})`,()=>n(r)),r)):this.refine(r=>(e(r),r))}},wB=class extends xc{constructor(e){super(n=>{const r=kB.validate(n);for(let s=0;s<r.length;s++)Ay(s,()=>e.validate(r[s]));return r}),this.itemValidator=e}nonEmpty(){return this.check(e=>{if(e.length===0)throw new qn("Expected a non-empty array")})}lengthGreaterThan1(){return this.check(e=>{if(e.length<=1)throw new qn("Expected an array with length greater than 1")})}},SB=class V5 extends xc{constructor(e,n=!1){super(r=>{if(typeof r!="object"||r===null)throw new qn(`Expected object, got ${Ny(r)}`);for(const[s,i]of Object.entries(e))Ay(s,()=>{i.validate(yB(r,s))});if(!n){for(const s of Object.keys(r))if(!OE(e,s))throw new qn("Unexpected property",[s])}return r}),this.config=e,this.shouldAllowUnknownProperties=n}allowUnknownProperties(){return new V5(this.config,!0)}extend(e){return new V5({...this.config,...e})}},bB=class extends xc{constructor(e,n){super(r=>{if(typeof r!="object"||r===null)throw new qn(`Expected object, got ${Ny(r)}`);for(const[s,i]of Object.entries(r))Ay(s,()=>{e.validate(s),n.validate(i)});return r}),this.keyValidator=e,this.valueValidator=n}};function yS(t){return new xc(e=>{if(typeof e!==t)throw new qn(`Expected ${t}, got ${Ny(e)}`);return e})}const _o=yS("string"),Sr=yS("number").check(t=>{if(Number.isNaN(t))throw new qn("Expected a number, got NaN");if(!Number.isFinite(t))throw new qn(`Expected a finite number, got ${t}`)});Sr.check(t=>{if(t<0)throw new qn(`Expected a positive number, got ${t}`)});Sr.check(t=>{if(t<=0)throw new qn(`Expected a non-zero positive number, got ${t}`)});const qE=Sr.check(t=>{if(!Number.isInteger(t))throw new qn(`Expected an integer, got ${t}`)}),cg=qE.check(t=>{if(t<0)throw new qn(`Expected a positive integer, got ${t}`)}),vB=qE.check(t=>{if(t<=0)throw new qn(`Expected a non-zero positive integer, got ${t}`)}),zl=yS("boolean"),kB=new xc(t=>{if(!Array.isArray(t))throw new qn(`Expected an array, got ${Ny(t)}`);return t});function X5(t){return new wB(t)}function va(t){return new SB(t)}function w7(t,e){return new bB(t,e)}function CB(t){return new xc(e=>{if(e!==void 0)return t.validate(e)})}function _B(t){return new xc(e=>e===null?null:t.validate(e))}var BE={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var i="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(i=s(i,r(a)))}return i}function r(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return n.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var o="";for(var a in i)e.call(i,a)&&i[a]&&(o=s(o,a));return o}function s(i,o){return o?i?i+" "+o:i+o:i}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(BE);var EB=BE.exports;const ue=yc(EB),IB={},wt={preventDefaultLogging:Ur("preventDefaultLogging",{defaults:{all:!1}}),pointerCaptureLogging:Ur("pointerCaptureLogging",{defaults:{all:!1}}),pointerCaptureTracking:Ur("pointerCaptureTracking",{defaults:{all:!1}}),pointerCaptureTrackingObject:Ur("pointerCaptureTrackingObject",{defaults:{all:new Map},shouldStoreForSession:!1}),elementRemovalLogging:Ur("elementRemovalLogging",{defaults:{all:!1}}),debugSvg:Ur("debugSvg",{defaults:{all:!1}}),throwToBlob:Ur("throwToBlob",{defaults:{all:!1}}),logMessages:Ur("uiLog",{defaults:{all:[]}}),resetConnectionEveryPing:Ur("resetConnectionEveryPing",{defaults:{all:!1}}),debugCursors:Ur("debugCursors",{defaults:{all:!1}}),forceSrgb:Ur("forceSrgbColors",{defaults:{all:!1}}),debugGeometry:Ur("debugGeometry",{defaults:{all:!1}}),hideShapes:Ur("hideShapes",{defaults:{all:!1}})};typeof window<"u"&&(window.tldrawLog=t=>{wt.logMessages.set(wt.logMessages.get().concat(t))});if(typeof Element<"u"){const t=Element.prototype.removeChild;pf("element removal logging",()=>{wt.elementRemovalLogging.get()?Element.prototype.removeChild=function(e){return console.warn("[tldraw] removing child:",e),t.call(this,e)}:Element.prototype.removeChild=t})}function Ur(t,{defaults:e,shouldStoreForSession:n=!0}){return PB({name:t,defaults:e,shouldStoreForSession:n})}function PB(t){const e=AB(t),n=t.shouldStoreForSession?zB(t.name):null,r=hs(`debug:${t.name}`,n??e);return typeof window<"u"&&(t.shouldStoreForSession&&pf(`debug:${t.name}`,()=>{const s=r.get();try{s===e?window.sessionStorage.removeItem(`tldraw_debug:${t.name}`):window.sessionStorage.setItem(`tldraw_debug:${t.name}`,JSON.stringify(s))}catch{}}),Object.defineProperty(window,`tldraw${t.name.replace(/^[a-z]/,s=>s.toUpperCase())}`,{get(){return r.get()},set(s){r.set(s)},configurable:!0})),Object.assign(r,t)}function zB(t){try{return JSON.parse((window==null?void 0:window.sessionStorage.getItem(`tldraw_debug:${t}`))??"null")}catch{return null}}function z2(t){try{return t()}catch{return null}}function AB(t){switch(z2(()=>"development")??z2(()=>({}).VERCEL_PUBLIC_TLDRAW_ENV)??z2(()=>({}).NEXT_PUBLIC_TLDRAW_ENV)??"production"){case"production":return t.defaults.production??t.defaults.all;case"preview":case"staging":return t.defaults.staging??t.defaults.all;default:return t.defaults.development??t.defaults.all}}function hm(t){if(t instanceof HTMLElement)return t;if(t.parentElement)return hm(t.parentElement);throw Error("Could not find a parent element of an HTML type!")}function Ge(t){t.preventDefault(),wt.preventDefaultLogging.get()&&console.warn("preventDefault called on event:",t)}function mf(t,e){if(t.setPointerCapture(e.pointerId),wt.pointerCaptureTracking.get()){const n=wt.pointerCaptureTrackingObject.get();n.set(t,(n.get(t)??0)+1)}wt.pointerCaptureLogging.get()&&console.warn("setPointerCapture called on element:",t,e)}function yf(t,e){if(t.hasPointerCapture(e.pointerId)){if(t.releasePointerCapture(e.pointerId),wt.pointerCaptureTracking.get()){const n=wt.pointerCaptureTrackingObject.get();n.get(t)===1?n.delete(t):n.has(t)?n.set(t,n.get(t)-1):console.warn("Release without capture")}wt.pointerCaptureLogging.get()&&console.warn("releasePointerCapture called on element:",t,e)}}const nn=t=>t.stopPropagation();function Lr(t){return t.isKilled=!0,{point:{x:t.clientX,y:t.clientY,z:t.pressure},shiftKey:t.shiftKey,altKey:t.altKey,ctrlKey:t.metaKey||t.ctrlKey,pointerId:t.pointerId,button:t.button,isPen:t.pointerType==="pen"}}const xS=ie.createContext({}),Y=()=>ie.useContext(xS);function NB(){const t=Y();return v.useMemo(function(){let r,s;function i(m){if(!m.isKilled){if(m.button===2){t.dispatch({type:"pointer",target:"canvas",name:"right_click",...Lr(m)});return}m.button!==0&&m.button!==1&&m.button!==5||(mf(m.currentTarget,m),t.dispatch({type:"pointer",target:"canvas",name:"pointer_down",...Lr(m)}),t.getOpenMenus().length>0&&(t.updateInstanceState({openMenus:[]}),document.body.click(),t.getContainer().focus()))}}function o(m){m.isKilled||m.clientX===r&&m.clientY===s||(r=m.clientX,s=m.clientY,t.dispatch({type:"pointer",target:"canvas",name:"pointer_move",...Lr(m)}))}function a(m){m.isKilled||m.button!==0&&m.button!==1&&m.button!==2&&m.button!==5||(r=m.clientX,s=m.clientY,yf(m.currentTarget,m),t.dispatch({type:"pointer",target:"canvas",name:"pointer_up",...Lr(m)}))}function l(m){if(m.isKilled||t.getInstanceState().isPenMode&&m.pointerType!=="pen")return;const w=m.pointerType==="mouse"||m.pointerType==="pen";t.updateInstanceState({isHoveringCanvas:w?!0:null})}function c(m){if(m.isKilled||t.getInstanceState().isPenMode&&m.pointerType!=="pen")return;const w=m.pointerType==="mouse"||m.pointerType==="pen";t.updateInstanceState({isHoveringCanvas:w?!1:null})}function d(m){m.isKilled=!0,document.body.click(),Ge(m)}function h(m){m.isKilled=!0,m.target.tagName!=="A"&&m.target.tagName!=="TEXTAREA"&&Ge(m)}function u(m){Ge(m)}async function p(m){var S,b;if(Ge(m),!((b=(S=m.dataTransfer)==null?void 0:S.files)!=null&&b.length))return;const w=Array.from(m.dataTransfer.files);await t.putExternalContent({type:"files",files:w,point:t.screenToPage({x:m.clientX,y:m.clientY}),ignoreParent:!1})}function y(m){nn(m)}return{onPointerDown:i,onPointerMove:o,onPointerUp:a,onPointerEnter:l,onPointerLeave:c,onDragOver:u,onDrop:p,onTouchStart:d,onTouchEnd:h,onClick:y}},[t])}function TB(){const t=Y();v.useEffect(()=>{if(t.environment.isFirefox&&!t.environment.isAndroid&&!t.environment.isIos){t.updateInstanceState({isCoarsePointer:!1});return}if(window.matchMedia){const e=window.matchMedia("(pointer: coarse)"),n=()=>{t.updateInstanceState({isCoarsePointer:!!e.matches})};if(n(),e)return e.addEventListener("change",n),()=>e.removeEventListener("change",n)}},[t])}const FE=v.createContext(null);function LB({container:t,children:e}){return f.jsx(FE.Provider,{value:t,children:e})}function bn(){return lB(v.useContext(FE),"useContainer used outside of <Tldraw />")}function MB(){const t=Y(),e=bn(),n=Q("isFocused",()=>t.getInstanceState().isFocused,[t]);v.useEffect(()=>{if(typeof matchMedia===void 0)return;let r=null;const s=()=>{r!=null&&r();const i=`(resolution: ${window.devicePixelRatio}dppx)`,o=matchMedia(i),a=l=>{l.type==="change"&&s()};o.addEventListener?o.addEventListener("change",s):o.addListener&&o.addListener(a),r=()=>{o.removeEventListener?o.removeEventListener("change",s):o.removeListener&&o.removeListener(a)},t.updateInstanceState({devicePixelRatio:window.devicePixelRatio})};return s(),()=>{r==null||r()}},[t]),v.useEffect(()=>{if(!n)return;const r=a=>{if(a.altKey&&(t.isIn("zoom")||!t.getPath().endsWith(".idle"))&&!Qh()&&Ge(a),a.isKilled)return;switch(a.isKilled=!0,a.key){case"=":case"-":case"0":{if(a.metaKey||a.ctrlKey){Ge(a);return}break}case"Tab":{if(Qh()||t.getIsMenuOpen())return;break}case",":{if(!Qh()&&(Ge(a),!t.inputs.keys.has("Comma"))){const{x:c,y:d,z:h}=t.inputs.currentScreenPoint;t.inputs.keys.add("Comma");const u={type:"pointer",name:"pointer_down",point:{x:c,y:d,z:h},shiftKey:a.shiftKey,altKey:a.altKey,ctrlKey:a.metaKey||a.ctrlKey,pointerId:0,button:0,isPen:t.getInstanceState().isPenMode,target:"canvas"};t.dispatch(u);return}break}case"Escape":{if((t.getEditingShape()||t.getSelectedShapeIds().length>0)&&a.preventDefault(),t.getOpenMenus().length>0)return;t.inputs.keys.has("Escape")||(t.inputs.keys.add("Escape"),t.cancel(),e.focus());return}default:if(Qh()||t.getIsMenuOpen())return}const l={type:"keyboard",name:a.repeat?"key_repeat":"key_down",key:a.key,code:a.code,shiftKey:a.shiftKey,altKey:a.altKey,ctrlKey:a.metaKey||a.ctrlKey};t.dispatch(l)},s=a=>{var c;if(a.isKilled||(a.isKilled=!0,Qh()||t.getIsMenuOpen()))return;if(a.key===","&&((c=document.activeElement)!=null&&c.ELEMENT_NODE&&Ge(a),t.inputs.keys.has(a.code))){const{x:d,y:h,z:u}=t.inputs.currentScreenPoint;t.inputs.keys.delete(a.code);const p={type:"pointer",name:"pointer_up",point:{x:d,y:h,z:u},shiftKey:a.shiftKey,altKey:a.altKey,ctrlKey:a.metaKey||a.ctrlKey,pointerId:0,button:0,isPen:t.getInstanceState().isPenMode,target:"canvas"};t.dispatch(p);return}const l={type:"keyboard",name:"key_up",key:a.key,code:a.code,shiftKey:a.shiftKey,altKey:a.altKey,ctrlKey:a.metaKey||a.ctrlKey};t.dispatch(l)};function i(a){var l,c;if(e.contains(a.target)){const d=a.touches[0].pageX,h=a.touches[0].radiusX||0;(d-h<10||d+h>t.getViewportScreenBounds().width-10)&&(((l=a.target)==null?void 0:l.tagName)==="BUTTON"&&((c=a.target)==null||c.click()),Ge(a))}}const o=a=>{e.contains(a.target)&&(a.ctrlKey||a.metaKey)&&Ge(a)};return e.addEventListener("touchstart",i,{passive:!1}),e.addEventListener("wheel",o,{passive:!1}),document.addEventListener("gesturestart",Ge),document.addEventListener("gesturechange",Ge),document.addEventListener("gestureend",Ge),e.addEventListener("keydown",r),e.addEventListener("keyup",s),()=>{e.removeEventListener("touchstart",i),e.removeEventListener("wheel",o),document.removeEventListener("gesturestart",Ge),document.removeEventListener("gesturechange",Ge),document.removeEventListener("gestureend",Ge),e.removeEventListener("keydown",r),e.removeEventListener("keyup",s)}},[t,e,n])}const jB=["input","select","button","textarea"];function Qh(){const{activeElement:t}=document;return!!(t&&(t.getAttribute("contenteditable")||jB.indexOf(t.tagName.toLowerCase())>-1))}const RB={error:null};let wS=class extends v.Component{constructor(){super(...arguments),this.state=RB}static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e){var n,r;(r=(n=this.props).onError)==null||r.call(n,e)}render(){const{error:e}=this.state;if(e!==null){const{fallback:n}=this.props;return f.jsx(n,{error:e})}return this.props.children}};function wp({children:t,fallback:e,...n}){return e===null?f.jsx(f.Fragment,{children:t}):f.jsx(wS,{fallback:e,...n,children:t})}let $B=class{constructor(e){this.shape=e}equals(e){var n,r,s,i,o,a;return((n=this.shape)==null?void 0:n.isLocked)===((r=e==null?void 0:e.shape)==null?void 0:r.isLocked)&&((s=this.shape)==null?void 0:s.props)===((i=e==null?void 0:e.shape)==null?void 0:i.props)&&((o=this.shape)==null?void 0:o.meta)===((a=e==null?void 0:e.shape)==null?void 0:a.meta)}};const OB=({shape:t,util:e})=>Iy("Indicator:"+t.type,()=>e.indicator(t)),DB=({editor:t,id:e})=>{const n=Q("shape",()=>new $B(t.store.get(e)),[t,e]),{ShapeIndicatorErrorFallback:r}=vn();return!n.shape||n.shape.isLocked?null:f.jsx(wp,{fallback:r,onError:s=>t.annotateError(s,{origin:"react.shapeIndicator",willCrashApp:!1}),children:f.jsx(OB,{shape:n.shape,util:t.getShapeUtil(n.shape)},n.shape.id)})},qB=({id:t,className:e,color:n,opacity:r})=>{const s=Y(),i=Q("transform",()=>{const o=s.getShapePageTransform(t);return o?o.toCssString():""},[s,t]);return f.jsx("svg",{className:ue("tl-overlays__item",e),children:f.jsx("g",{className:"tl-shape-indicator",transform:i,stroke:n??"var(--color-selected)",opacity:r,children:f.jsx(DB,{editor:s,id:t})})})},xf=v.memo(qB);function BB(){return f.jsx("div",{className:"tl-background"})}function Ch(t,e,n,r,s,i){v.useLayoutEffect(()=>{const o=t.current;if(!o||e===void 0)return;let a=`translate(${e}px, ${n}px)`;r!==void 0&&(a+=` scale(${r})`),s!==void 0&&(a+=` rotate(${s}rad)`),i&&(a+=` translate(${i.x}px, ${i.y}px)`),o.style.transform=a})}const dr={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>t*(2-t),easeInOutQuad:t=>t<.5?2*t*t:-1+(4-2*t)*t,easeInCubic:t=>t*t*t,easeOutCubic:t=>--t*t*t+1,easeInOutCubic:t=>t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1,easeInQuart:t=>t*t*t*t,easeOutQuart:t=>1- --t*t*t*t,easeInOutQuart:t=>t<.5?8*t*t*t*t:1-8*--t*t*t*t,easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>1+--t*t*t*t*t,easeInOutQuint:t=>t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t,easeInSine:t=>1-Math.cos(t*Math.PI/2),easeOutSine:t=>Math.sin(t*Math.PI/2),easeInOutSine:t=>-(Math.cos(Math.PI*t)-1)/2,easeInExpo:t=>t<=0?0:Math.pow(2,10*t-10),easeOutExpo:t=>t>=1?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>t<=0?0:t>=1?1:t<.5?Math.pow(2,20*t-10)/2:(2-Math.pow(2,-20*t+10))/2};let I=class se{constructor(e=0,n=0,r=1){this.x=e,this.y=n,this.z=r}get pressure(){return this.z}set(e=this.x,n=this.y,r=this.z){return this.x=e,this.y=n,this.z=r,this}setTo({x:e=0,y:n=0,z:r=1}){return this.x=e,this.y=n,this.z=r,this}rot(e){if(e===0)return this;const{x:n,y:r}=this,s=Math.sin(e),i=Math.cos(e);return this.x=n*i-r*s,this.y=n*s+r*i,this}rotWith(e,n){if(n===0)return this;const r=this.x-e.x,s=this.y-e.y,i=Math.sin(n),o=Math.cos(n);return this.x=e.x+(r*o-s*i),this.y=e.y+(r*i+s*o),this}clone(){const{x:e,y:n,z:r}=this;return new se(e,n,r)}sub(e){return this.x-=e.x,this.y-=e.y,this}subXY(e,n){return this.x-=e,this.y-=n,this}subScalar(e){return this.x-=e,this.y-=e,this}add(e){return this.x+=e.x,this.y+=e.y,this}addXY(e,n){return this.x+=e,this.y+=n,this}addScalar(e){return this.x+=e,this.y+=e,this}clamp(e,n){return this.x=Math.max(this.x,e),this.y=Math.max(this.y,e),n!==void 0&&(this.x=Math.min(this.x,n),this.y=Math.min(this.y,n)),this}div(e){return this.x/=e,this.y/=e,this}divV(e){return this.x/=e.x,this.y/=e.y,this}mul(e){return this.x*=e,this.y*=e,this}mulV(e){return this.x*=e.x,this.y*=e.y,this}abs(){return this.x=Math.abs(this.x),this.y=Math.abs(this.y),this}nudge(e,n){const r=se.Tan(e,this);return this.add(r.mul(n))}neg(){return this.x*=-1,this.y*=-1,this}cross(e){return this.x=this.y*e.z-this.z*e.y,this.y=this.z*e.x-this.x*e.z,this}dpr(e){return se.Dpr(this,e)}cpr(e){return se.Cpr(this,e)}len2(){return se.Len2(this)}len(){return se.Len(this)}pry(e){return se.Pry(this,e)}per(){const{x:e,y:n}=this;return this.x=n,this.y=-e,this}uni(){return se.Uni(this)}tan(e){return se.Tan(this,e)}dist(e){return se.Dist(this,e)}distanceToLineSegment(e,n){return se.DistanceToLineSegment(e,n,this)}slope(e){return se.Slope(this,e)}snapToGrid(e){return this.x=Math.round(this.x/e)*e,this.y=Math.round(this.y/e)*e,this}angle(e){return se.Angle(this,e)}toAngle(){return se.ToAngle(this)}lrp(e,n){return this.x=this.x+(e.x-this.x)*n,this.y=this.y+(e.y-this.y)*n,this}equals(e){return se.Equals(this,e)}equalsXY(e,n){return se.EqualsXY(this,e,n)}norm(){const e=this.len();return this.x=e===0?0:this.x/e,this.y=e===0?0:this.y/e,this}toFixed(){return se.ToFixed(this)}toString(){return se.ToString(se.ToFixed(this))}toJson(){return se.ToJson(this)}toArray(){return se.ToArray(this)}static Add(e,n){return new se(e.x+n.x,e.y+n.y)}static AddXY(e,n,r){return new se(e.x+n,e.y+r)}static Sub(e,n){return new se(e.x-n.x,e.y-n.y)}static SubXY(e,n,r){return new se(e.x-n,e.y-r)}static AddScalar(e,n){return new se(e.x+n,e.y+n)}static SubScalar(e,n){return new se(e.x-n,e.y-n)}static Div(e,n){return new se(e.x/n,e.y/n)}static Mul(e,n){return new se(e.x*n,e.y*n)}static DivV(e,n){return new se(e.x/n.x,e.y/n.y)}static MulV(e,n){return new se(e.x*n.x,e.y*n.y)}static Neg(e){return new se(-e.x,-e.y)}static Per(e){return new se(e.y,-e.x)}static Dist2(e,n){return se.Sub(e,n).len2()}static Abs(e){return new se(Math.abs(e.x),Math.abs(e.y))}static Dist(e,n){return Math.hypot(e.y-n.y,e.x-n.x)}static Dpr(e,n){return e.x*n.x+e.y*n.y}static Cross(e,n){return new se(e.y*n.z-e.z*n.y,e.z*n.x-e.x*n.z)}static Cpr(e,n){return e.x*n.y-n.x*e.y}static Len2(e){return e.x*e.x+e.y*e.y}static Len(e){return Math.hypot(e.x,e.y)}static Pry(e,n){return se.Dpr(e,n)/se.Len(n)}static Uni(e){return se.Div(e,se.Len(e))}static Tan(e,n){return se.Uni(se.Sub(e,n))}static Min(e,n){return new se(Math.min(e.x,n.x),Math.min(e.y,n.y))}static Max(e,n){return new se(Math.max(e.x,n.x),Math.max(e.y,n.y))}static From({x:e,y:n,z:r=1}){return new se(e,n,r)}static FromArray(e){return new se(e[0],e[1])}static Rot(e,n=0){const r=Math.sin(n),s=Math.cos(n);return new se(e.x*s-e.y*r,e.x*r+e.y*s)}static RotWith(e,n,r){const s=e.x-n.x,i=e.y-n.y,o=Math.sin(r),a=Math.cos(r);return new se(n.x+(s*a-i*o),n.y+(s*o+i*a))}static NearestPointOnLineThroughPoint(e,n,r){return se.Mul(n,se.Sub(r,e).pry(n)).add(e)}static NearestPointOnLineSegment(e,n,r,s=!0){const i=se.Tan(n,e),o=se.Add(e,se.Mul(i,se.Sub(r,e).pry(i)));if(s){if(o.x<Math.min(e.x,n.x))return se.Cast(e.x<n.x?e:n);if(o.x>Math.max(e.x,n.x))return se.Cast(e.x>n.x?e:n);if(o.y<Math.min(e.y,n.y))return se.Cast(e.y<n.y?e:n);if(o.y>Math.max(e.y,n.y))return se.Cast(e.y>n.y?e:n)}return o}static DistanceToLineThroughPoint(e,n,r){return se.Dist(r,se.NearestPointOnLineThroughPoint(e,n,r))}static DistanceToLineSegment(e,n,r,s=!0){return se.Dist(r,se.NearestPointOnLineSegment(e,n,r,s))}static Snap(e,n=1){return new se(Math.round(e.x/n)*n,Math.round(e.y/n)*n)}static Cast(e){return e instanceof se?e:se.From(e)}static Slope(e,n){return e.x===n.y?NaN:(e.y-n.y)/(e.x-n.x)}static Angle(e,n){return Math.atan2(n.y-e.y,n.x-e.x)}static Lrp(e,n,r){return se.Sub(n,e).mul(r).add(e)}static Med(e,n){return new se((e.x+n.x)/2,(e.y+n.y)/2)}static Equals(e,n){return Math.abs(e.x-n.x)<1e-4&&Math.abs(e.y-n.y)<1e-4}static EqualsXY(e,n,r){return e.x===n&&e.y===r}static Clockwise(e,n,r){return(r.x-e.x)*(n.y-e.y)-(n.x-e.x)*(r.y-e.y)<0}static Rescale(e,n){const r=se.Len(e);return new se(n*e.x/r,n*e.y/r)}static ScaleWithOrigin(e,n,r){return se.Sub(e,r).mul(n).add(r)}static ToFixed(e,n=2){return new se(+e.x.toFixed(n),+e.y.toFixed(n),+e.z.toFixed(n))}static Nudge(e,n,r){return se.Add(e,se.Tan(n,e).mul(r))}static ToString(e){return`${e.x}, ${e.y}`}static ToAngle(e){let n=Math.atan2(e.y,e.x);return n<0&&(n+=Math.PI*2),n}static FromAngle(e,n=1){return new se(Math.cos(e)*n,Math.sin(e)*n)}static ToArray(e){return[e.x,e.y,e.z]}static ToJson(e){const{x:n,y:r,z:s}=e;return{x:n,y:r,z:s}}static Average(e){const n=e.length,r=new se(0,0);for(let s=0;s<n;s++)r.add(e[s]);return r.div(n)}static Clamp(e,n,r){return r===void 0?new se(Math.min(Math.max(e.x,n)),Math.min(Math.max(e.y,n))):new se(Math.min(Math.max(e.x,n),r),Math.min(Math.max(e.y,n),r))}static PointsBetween(e,n,r=6){const s=[];for(let i=0;i<r;i++){const o=dr.easeInQuad(i/(r-1)),a=se.Lrp(e,n,o);a.z=Math.min(1,.5+Math.abs(.5-FB(o))*.65),s.push(a)}return s}static SnapToGrid(e,n=8){return new se(Math.round(e.x/n)*n,Math.round(e.y/n)*n)}};const FB=t=>t<.5?2*t*t:-1+(4-2*t)*t,Vi=class Ir{constructor(e=0,n=0,r=0,s=0){this.x=0,this.y=0,this.w=0,this.h=0,this.x=e,this.y=n,this.w=r,this.h=s}get point(){return new I(this.x,this.y)}set point(e){this.x=e.x,this.y=e.y}get minX(){return this.x}set minX(e){this.x=e}get midX(){return this.x+this.w/2}get maxX(){return this.x+this.w}get minY(){return this.y}set minY(e){this.y=e}get midY(){return this.y+this.h/2}get maxY(){return this.y+this.h}get width(){return this.w}set width(e){this.w=e}get height(){return this.h}set height(e){this.h=e}get aspectRatio(){return this.width/this.height}get center(){return new I(this.midX,this.midY)}set center(e){this.minX=e.x-this.width/2,this.minY=e.y-this.height/2}get corners(){return[new I(this.minX,this.minY),new I(this.maxX,this.minY),new I(this.maxX,this.maxY),new I(this.minX,this.maxY)]}get snapPoints(){return[new I(this.minX,this.minY),new I(this.maxX,this.minY),new I(this.maxX,this.maxY),new I(this.minX,this.maxY),this.center]}get sides(){const{corners:e}=this;return[[e[0],e[1]],[e[1],e[2]],[e[2],e[3]],[e[3],e[0]]]}get size(){return new I(this.w,this.h)}toFixed(){return this.x=dg(this.x),this.y=dg(this.y),this.w=dg(this.w),this.h=dg(this.h),this}setTo(e){return this.x=e.x,this.y=e.y,this.w=e.w,this.h=e.h,this}set(e=0,n=0,r=0,s=0){return this.x=e,this.y=n,this.w=r,this.h=s,this}expand(e){const n=Math.min(this.minX,e.minX),r=Math.min(this.minY,e.minY),s=Math.max(this.maxX,e.maxX),i=Math.max(this.maxY,e.maxY);return this.x=n,this.y=r,this.w=s-n,this.h=i-r,this}expandBy(e){return this.x-=e,this.y-=e,this.w+=e*2,this.h+=e*2,this}scale(e){return this.x/=e,this.y/=e,this.w/=e,this.h/=e,this}clone(){const{x:e,y:n,w:r,h:s}=this;return new Ir(e,n,r,s)}translate(e){return this.x+=e.x,this.y+=e.y,this}snapToGrid(e){const n=Math.round(this.minX/e)*e,r=Math.round(this.minY/e)*e,s=Math.round(this.maxX/e)*e,i=Math.round(this.maxY/e)*e;this.minX=n,this.minY=r,this.width=Math.max(1,s-n),this.height=Math.max(1,i-r)}collides(e){return Ir.Collides(this,e)}contains(e){return Ir.Contains(this,e)}includes(e){return Ir.Includes(this,e)}containsPoint(e,n=0){return Ir.ContainsPoint(this,e,n)}getHandlePoint(e){switch(e){case"top_left":return new I(this.minX,this.minY);case"top_right":return new I(this.maxX,this.minY);case"bottom_left":return new I(this.minX,this.maxY);case"bottom_right":return new I(this.maxX,this.maxY);case"top":return new I(this.midX,this.minY);case"right":return new I(this.maxX,this.midY);case"bottom":return new I(this.midX,this.maxY);case"left":return new I(this.minX,this.midY)}}toJson(){return{x:this.minX,y:this.minY,w:this.w,h:this.h}}resize(e,n,r){const{minX:s,minY:i,maxX:o,maxY:a}=this;let{minX:l,minY:c,maxX:d,maxY:h}=this;switch(e){case"left":case"top_left":case"bottom_left":{l+=n;break}case"right":case"top_right":case"bottom_right":{d+=n;break}}switch(e){case"top":case"top_left":case"top_right":{c+=r;break}case"bottom":case"bottom_left":case"bottom_right":{h+=r;break}}const u=(d-l)/(o-s),p=(h-c)/(a-i),y=u<0,m=p<0;if(y){const w=d;d=l,l=w}if(m){const w=h;h=c,c=w}this.minX=l,this.minY=c,this.width=Math.abs(d-l),this.height=Math.abs(h-c)}union(e){const n=Math.min(this.minX,e.x),r=Math.min(this.minY,e.y),s=Math.max(this.maxX,e.w+e.x),i=Math.max(this.maxY,e.h+e.y);return this.x=n,this.y=r,this.width=s-n,this.height=i-r,this}static From(e){return new Ir(e.x,e.y,e.w,e.h)}static FromPoints(e){if(e.length===0)return new Ir;let n=1/0,r=1/0,s=-1/0,i=-1/0,o;for(let a=0,l=e.length;a<l;a++)o=e[a],n=Math.min(o.x,n),r=Math.min(o.y,r),s=Math.max(o.x,s),i=Math.max(o.y,i);return new Ir(n,r,s-n,i-r)}static Expand(e,n){const r=Math.min(n.minX,e.minX),s=Math.min(n.minY,e.minY),i=Math.max(n.maxX,e.maxX),o=Math.max(n.maxY,e.maxY);return new Ir(r,s,i-r,o-s)}static ExpandBy(e,n){return new Ir(e.minX-n,e.minY-n,e.width+n*2,e.height+n*2)}static Resize(e,n,r,s,i=!1){const{minX:o,minY:a,maxX:l,maxY:c}=e;let{minX:d,minY:h,maxX:u,maxY:p}=e;switch(n){case"left":case"top_left":case"bottom_left":{d+=r;break}case"right":case"top_right":case"bottom_right":{u+=r;break}}switch(n){case"top":case"top_left":case"top_right":{h+=s;break}case"bottom":case"bottom_left":case"bottom_right":{p+=s;break}}const y=(u-d)/(l-o),m=(p-h)/(c-a),w=y<0,S=m<0;if(i){const g=(l-o)/(c-a),x=Math.abs(u-d),k=Math.abs(p-h),C=x*(m<0?1:-1)*(1/g),_=k*(y<0?1:-1)*g,E=g<x/k;switch(n){case"top_left":{E?h=p+C:d=u+_;break}case"top_right":{E?h=p+C:u=d-_;break}case"bottom_right":{E?p=h-C:u=d-_;break}case"bottom_left":{E?p=h-C:d=u+_;break}case"bottom":case"top":{const z=(d+u)/2,P=k*g;d=z-P/2,u=z+P/2;break}case"left":case"right":{const z=(h+p)/2,P=x/g;h=z-P/2,p=z+P/2;break}}}if(w){const g=u;u=d,d=g}if(S){const g=p;p=h,h=g}const b=new Ir(d,h,Math.abs(u-d),Math.abs(p-h));return{box:b,scaleX:+(b.width/e.width*(y>0?1:-1)).toFixed(5),scaleY:+(b.height/e.height*(m>0?1:-1)).toFixed(5)}}equals(e){return Ir.Equals(this,e)}static Equals(e,n){return n.x===e.x&&n.y===e.y&&n.w===e.w&&n.h===e.h}zeroFix(){return this.w=Math.max(1,this.w),this.h=Math.max(1,this.h),this}static ZeroFix(e){return new Ir(e.x,e.y,Math.max(1,e.w),Math.max(1,e.h))}};Vi.Collides=(t,e)=>!(t.maxX<e.minX||t.minX>e.maxX||t.maxY<e.minY||t.minY>e.maxY);Vi.Contains=(t,e)=>t.minX<e.minX&&t.minY<e.minY&&t.maxY>e.maxY&&t.maxX>e.maxX;Vi.Includes=(t,e)=>Vi.Collides(t,e)||Vi.Contains(t,e);Vi.ContainsPoint=(t,e,n=0)=>!(e.x<t.minX-n||e.y<t.minY-n||e.x>t.maxX+n||e.y>t.maxY+n);Vi.Common=t=>{let e=1/0,n=1/0,r=-1/0,s=-1/0;for(let i=0;i<t.length;i++){const o=t[i];e=Math.min(e,o.minX),n=Math.min(n,o.minY),r=Math.max(r,o.maxX),s=Math.max(s,o.maxY)}return new Vi(e,n,r-e,s-n)};Vi.Sides=(t,e=0)=>{const{corners:n}=t;return[[n[0],n[1]],[n[1],n[2]],[n[2],n[3]],[n[3],n[0]]]};let fe=Vi;function KB(t){switch(t){case"top":return"bottom";case"bottom":return"top";case"top_left":return"bottom_left";case"top_right":return"bottom_right";case"bottom_left":return"top_left";case"bottom_right":return"top_right";default:return t}}function WB(t){switch(t){case"left":return"right";case"right":return"left";case"top_left":return"top_right";case"top_right":return"top_left";case"bottom_left":return"bottom_right";case"bottom_right":return"bottom_left";default:return t}}function UB(t){return t==="top_left"||t==="top_right"||t==="bottom_right"||t==="bottom_left"}function Mn(t){return`${$(t.x)},${$(t.y)} `}function Nr(t,e){return`${$((t.x+e.x)/2)},${$((t.y+e.y)/2)} `}const et=Math.PI,tt=et/2,nt=et*2,S7=Math.PI/180,VB=Math.sin;function cn(t,e,n){return Math.max(e,typeof n<"u"?Math.min(t,n):t)}function dg(t,e=1e10){return t?Math.round(t*e)/e:0}function Vu(t,e,n=1e-6){return Math.abs(t-e)<=n}function Sp(t,e){const n=Math.pow(t-e,2)/Math.pow(t+e,2);return et*(t+e)*(1+3*n/(10+Math.sqrt(4-3*n)))}function hi(t){return t=t%nt,t<0?t=t+nt:t===0&&(t=0),t}function Ty(t,e){return t=hi(t),e=hi(e),t>e&&(e+=nt),e-t}function XB(t,e){return nt-Ty(t,e)}function Xu(t,e){const n=(e-t)%nt;return 2*n%nt-n}function YB(t,e){return Xu(t,e)}function Y5(t){return(nt+t)%nt}function um(t,e){const n=nt/e;let r=Math.floor((Y5(t)+n/2)/n)*n%nt;return r<et&&(r+=nt),r>et&&(r-=nt),r}function KE(t,e){return t===e||Vu(t%(Math.PI/2)-e%(Math.PI/2),0)}function HB(t){return t*et/180}function GB(t){return t*180/et}function WE(t,e,n,r){return new I(t+n*Math.cos(r),e+n*Math.sin(r))}function A2(t,e,n){const r=t/2,s=e/2,i=[];let o=1/0,a=1/0;for(let l=0;l<n;l++){const c=nt/n,d=-tt+l*c,h=r+r*Math.cos(d),u=s+s*Math.sin(d);h<o&&(o=h),u<a&&(a=u),i.push(new I(h,u))}if(o!==0||a!==0)for(let l=0;l<i.length;l++){const c=i[l];c.x-=o,c.y-=a}return i}function Jh(t,e,n,r){return t<r&&n<e}function Js(t,e,n,r){const s=Math.max(t,n),i=Math.min(e,r);return s<=i?[s,i]:null}const ZB=(t,e,n)=>{const r=nt/t/2,s=Math.floor(t/4)*2,i=t*2-s,o=0,a=Math.floor(t/2)*2,l=Math.cos(-tt+s*r)*e/2,c=Math.cos(-tt+i*r)*e/2,d=Math.sin(-tt+o*r)*n/2,h=Math.sin(-tt+a*r)*n/2;return new fe(0,0,l-c,h-d)};function b7(t,e,n){return(e.x-t.x)*(n.y-t.y)-(n.x-t.x)*(e.y-t.y)}function no(t,e){let n=0,r,s;for(let i=0;i<e.length;i++)r=e[i],s=e[(i+1)%e.length],r.y<=t.y?s.y>t.y&&b7(r,s,t)>0&&(n+=1):s.y<=t.y&&b7(r,s,t)<0&&(n-=1);return n!==0}function $(t){return+t.toFixed(4)}function pm(t){return+t.toFixed(2)}const v7=t=>Math.abs(t)<Number.MAX_SAFE_INTEGER,hg=({brush:t,color:e,opacity:n,className:r})=>{const s=v.useRef(null);Ch(s,t.x,t.y);const i=$(Math.max(1,t.w)),o=$(Math.max(1,t.h));return f.jsx("svg",{className:"tl-overlays__item",ref:s,children:e?f.jsxs("g",{className:"tl-brush",opacity:n,children:[f.jsx("rect",{width:i,height:o,fill:e,opacity:.75}),f.jsx("rect",{width:i,height:o,fill:"none",stroke:e,opacity:.1})]}):f.jsx("rect",{className:`tl-brush tl-brush__default ${r}`,width:i,height:o})})},QB=({className:t,zoom:e,point:n,color:r,viewport:s,opacity:i=1})=>{const o=v.useRef(null);return Ch(o,cn(n.x,s.minX+5/e,s.maxX-5/e),cn(n.y,s.minY+5/e,s.maxY-5/e),1/e,I.Angle(s.center,n)),f.jsxs("svg",{ref:o,className:ue("tl-overlays__item",t),children:[f.jsx("use",{href:"#cursor_hint",color:r,strokeWidth:3,stroke:"var(--color-background)"}),f.jsx("use",{href:"#cursor_hint",color:r,opacity:i})]})},JB=({className:t,zoom:e,point:n,color:r,name:s,chatMessage:i})=>{const o=v.useRef(null);return Ch(o,n==null?void 0:n.x,n==null?void 0:n.y,1/e),n?f.jsxs("div",{ref:o,className:ue("tl-overlays__item",t),children:[f.jsx("svg",{className:"tl-cursor",children:f.jsx("use",{href:"#cursor",color:r})}),i?f.jsxs(f.Fragment,{children:[s&&f.jsx("div",{className:"tl-nametag-title",style:{color:r},children:s}),f.jsx("div",{className:"tl-nametag-chat",style:{backgroundColor:r},children:i})]}):s&&f.jsx("div",{className:"tl-nametag",style:{backgroundColor:r},children:s})]}):null},k7=v.memo(JB),SS={openWindow:(t,e)=>window.open(t,e,"noopener noreferrer"),refreshPage:()=>window.location.reload(),hardReset:async()=>{var t;return await((t=window.__tldraw__hardReset)==null?void 0:t.call(window))}};function UE(){SS.hardReset()}function eF(){SS.refreshPage()}const tF="https://github.com/tldraw/tldraw/issues/new";function nF(){}const bS=({error:t,editor:e})=>{const n=v.useRef(null),[r,s]=v.useState(!1),[i,o]=v.useState(!1),[a,l]=v.useState(!1),c=t instanceof Error?t.message:String(t),d=t instanceof Error?t.stack:null,h=Q("isDarkMode",()=>{try{if(e)return e.user.getIsDarkMode()}catch{}return null},[e]),[u,p]=v.useState(null);v.useLayoutEffect(()=>{var x;h!==null&&p(h);let b=(x=n.current)==null?void 0:x.parentElement,g=!1;for(;b;){if(b.classList.contains("tl-theme__dark")||b.classList.contains("tl-theme__light")){g=!0;break}b=b.parentElement}if(g){p(null);return}p(window.matchMedia("(prefers-color-scheme: dark)").matches)},[h]),v.useEffect(()=>{if(i){const b=setTimeout(()=>{o(!1)},2e3);return()=>clearTimeout(b)}},[i]);const y=()=>{const b=document.createElement("textarea");b.value=d??c,document.body.appendChild(b),b.select(),document.execCommand("copy"),b.remove(),o(!0)},m=()=>{eF()},w=async()=>{UE()},S=new URL(tF);return S.searchParams.set("title",c),S.searchParams.set("labels","bug"),S.searchParams.set("body",`Hey, I ran into an error while using tldraw:

\`\`\`js
${d??c}
\`\`\`

My browser: ${navigator.userAgent}`),f.jsxs("div",{ref:n,className:ue("tl-container tl-error-boundary",u===null?"":u?"tl-theme__dark":"tl-theme__light"),children:[f.jsx("div",{className:"tl-error-boundary__overlay"}),e&&f.jsx(wS,{onError:nF,fallback:()=>null,children:f.jsx(xS.Provider,{value:e,children:f.jsx("div",{className:"tl-overlay tl-error-boundary__canvas",children:f.jsx(jy,{})})})}),f.jsx("div",{className:ue("tl-modal","tl-error-boundary__content",{"tl-error-boundary__content__expanded":r&&!a}),children:a?f.jsxs(f.Fragment,{children:[f.jsx("h2",{children:"Are you sure?"}),f.jsx("p",{children:"Resetting your data will delete your drawing and cannot be undone."}),f.jsxs("div",{className:"tl-error-boundary__content__actions",children:[f.jsx("button",{onClick:()=>l(!1),children:"Cancel"}),f.jsx("button",{className:"tl-error-boundary__reset",onClick:w,children:"Reset data"})]})]}):f.jsxs(f.Fragment,{children:[f.jsx("h2",{children:"Something's gone wrong."}),f.jsxs("p",{children:["Sorry, we encountered an error. Please refresh the page to continue. If you keep seeing this error, you can ",f.jsx("a",{href:S.toString(),children:"create a GitHub issue"})," or"," ",f.jsx("a",{href:"https://discord.gg/Cq6cPsTfNy",children:"ask for help on Discord"}),"."]}),r&&f.jsxs("div",{className:"tl-error-boundary__content__error",children:[f.jsx("pre",{children:f.jsx("code",{children:d??c})}),f.jsx("button",{onClick:y,children:i?"Copied!":"Copy"})]}),f.jsxs("div",{className:"tl-error-boundary__content__actions",children:[f.jsx("button",{onClick:()=>s(!r),children:r?"Hide details":"Show details"}),f.jsxs("div",{className:"tl-error-boundary__content__actions__group",children:[f.jsx("button",{className:"tl-error-boundary__reset",onClick:()=>l(!0),children:"Reset data"}),f.jsx("button",{className:"tl-error-boundary__refresh",onClick:m,children:"Refresh Page"})]})]})]})})]})},mo=2e3,fm=40,Eo=320,Bc=[.1,.25,.5,1,2,4,8],eu=.1,wa=8,rF={isLocked:!1,wheelBehavior:"pan",panSpeed:1,zoomSpeed:1,zoomSteps:[.1,.25,.5,1,2,4,8]},sF=.5,iF=.1,oF=.2,aF=.005,lF=.05,cF=450,dF=200,H5=6,bp=4,hF=32,gm={};for(let t=1;t<=Math.ceil(wa);t++)gm[t+"_dark"]=`hash_pattern_zoom_${t}_dark`,gm[t+"_light"]=`hash_pattern_zoom_${t}_light`;const uF={duration:0,easing:dr.easeInOutCubic},k0=.09,C7=[{min:-1,mid:.15,step:64},{min:.05,mid:.375,step:16},{min:.15,mid:1,step:4},{min:.7,mid:2.5,step:1}],pF=6e4,VE=3e3,fF=1200,_7={CAMERA_MOVE:-10},gF=64,mF=620,mi=8,yF=20,xF=({x:t,y:e,z:n,size:r})=>f.jsxs("svg",{className:"tl-grid",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("defs",{children:C7.map(({min:s,mid:i,step:o},a)=>{const l=o*r*n,c=.5+t*n,d=.5+e*n,h=c>0?c%l:l+c%l,u=d>0?d%l:l+d%l,p=n<i?dm(n,[s,i],[0,1]):1;return f.jsx("pattern",{id:`grid-${o}`,width:l,height:l,patternUnits:"userSpaceOnUse",children:f.jsx("circle",{className:"tl-grid-dot",cx:h,cy:u,r:1,opacity:p})},`grid-pattern-${a}`)})}),C7.map(({step:s},i)=>f.jsx("rect",{width:"100%",height:"100%",fill:`url(#grid-${s})`},`grid-rect-${i}`))]}),wF=({handle:t,isCoarse:e,className:n,zoom:r})=>{const s=(e?20:12)/r,i=(t.type==="create"&&e?3:4)/r;return f.jsxs("g",{className:ue("tl-handle",{"tl-handle__virtual":t.type==="virtual","tl-handle__create":t.type==="create"},n),children:[f.jsx("circle",{className:"tl-handle__bg",r:s}),f.jsx("circle",{className:"tl-handle__fg",r:i})]})},SF=({children:t})=>f.jsx("svg",{className:"tl-user-handles tl-overlays__item",children:t}),bF=({shapeId:t})=>f.jsx(xf,{className:"tl-user-indicator__hovered",id:t});function wf(t,e=!0){const n=t.length;if(n<2)return"";let r=t[0],s=t[1];if(n===2)return`M${Mn(r)}L${Mn(s)}`;let i="";for(let o=2,a=n-1;o<a;o++)r=t[o],s=t[o+1],i+=Nr(r,s);return e?`M${Nr(t[0],t[1])}Q${Mn(t[1])}${Nr(t[1],t[2])}T${i}${Nr(t[n-1],t[0])}${Nr(t[0],t[1])}Z`:`M${Mn(t[0])}Q${Mn(t[1])}${Nr(t[1],t[2])}${t.length>3?"T":""}${i}L${Mn(t[n-1])}`}const E7=({scribble:t,zoom:e,color:n,opacity:r,className:s})=>t.points.length?f.jsx("svg",{className:s&&ue("tl-overlays__item",s),children:f.jsx("path",{className:"tl-scribble",d:wf(t.points,!1),stroke:n??`var(--color-${t.color})`,fill:"none",strokeWidth:8/e,opacity:r??t.opacity})}):null,XE=({bounds:t,rotation:e})=>{const n=v.useRef(null);return Ch(n,t.x,t.y,1,e),v.useLayoutEffect(()=>{const r=n.current;r&&(r.style.width=$(Math.max(1,t.width))+"px",r.style.height=$(Math.max(1,t.height))+"px")},[t.width,t.height]),f.jsx("div",{ref:n,className:"tl-selection__bg",draggable:!1})},vF=({bounds:t,rotation:e})=>{const n=Y(),r=v.useRef(null),s=Q("only selected shape",()=>n.getOnlySelectedShape(),[n]),i=s?n.getShapeUtil(s).expandSelectionOutlinePx(s):0;return Ch(r,t==null?void 0:t.x,t==null?void 0:t.y,1,e,{x:-i,y:-i}),t=t.clone().expandBy(i).zeroFix(),f.jsx("svg",{ref:r,className:"tl-overlays__item tl-selection__fg","data-testid":"selection-foreground",children:f.jsx("rect",{className:ue("tl-selection__fg__outline"),width:$(t.width),height:$(t.height)})})},kF=()=>f.jsx("div",{className:"tl-shape-error-boundary"}),CF=()=>f.jsx("circle",{cx:4,cy:4,r:8,strokeWidth:"1",stroke:"red"});function _F({points:t,zoom:e}){const n=2.5/e,r=t.reduce((u,p)=>Math.min(u,p.x),1/0),s=t.reduce((u,p)=>Math.max(u,p.x),-1/0),i=t.reduce((u,p)=>Math.min(u,p.y),1/0),o=t.reduce((u,p)=>Math.max(u,p.y),-1/0),a=t.some(u=>u.x===r&&u.y===i);let l,c,d,h;return a?(l=r,c=i,d=s,h=o):(l=r,c=o,d=s,h=i),f.jsxs("g",{className:"tl-snap-line",children:[f.jsx("line",{x1:l,y1:c,x2:d,y2:h}),t.map((u,p)=>f.jsx("g",{transform:`translate(${u.x},${u.y})`,children:f.jsx("path",{className:"tl-snap-point",d:`M ${-n},${-n} L ${n},${n} M ${-n},${n} L ${n},${-n}`})},p))]})}function EF({gaps:t,direction:e,zoom:n}){const r=3.5/n;let s=[-1/0,1/0],i=null;const o=e==="horizontal";for(const l of t){if(i=Js(s[0],s[1],o?l.startEdge[0].y:l.startEdge[0].x,o?l.startEdge[1].y:l.startEdge[1].x),i)s=i;else continue;if(i=Js(s[0],s[1],o?l.endEdge[0].y:l.endEdge[0].x,o?l.endEdge[1].y:l.endEdge[1].x),i)s=i;else continue}if(s===null)return null;const a=(s[0]+s[1])/2;return f.jsx("g",{className:"tl-snap-line",children:t.map(({startEdge:l,endEdge:c},d)=>f.jsx(v.Fragment,{children:o?f.jsxs(f.Fragment,{children:[f.jsx("line",{x1:l[0].x,y1:a-2*r,x2:l[1].x,y2:a+2*r}),f.jsx("line",{x1:c[0].x,y1:a-2*r,x2:c[1].x,y2:a+2*r}),f.jsx("line",{x1:l[0].x,y1:a,x2:c[0].x,y2:a}),f.jsx("line",{x1:(l[0].x+c[0].x)/2,y1:a-r,x2:(l[0].x+c[0].x)/2,y2:a+r})]}):f.jsxs(f.Fragment,{children:[f.jsx("line",{x1:a-2*r,y1:l[0].y,x2:a+2*r,y2:l[1].y}),f.jsx("line",{x1:a-2*r,y1:c[0].y,x2:a+2*r,y2:c[1].y}),f.jsx("line",{x1:a,y1:l[0].y,x2:a,y2:c[0].y}),f.jsx("line",{x1:a-r,y1:(l[0].y+c[0].y)/2,x2:a+r,y2:(l[0].y+c[0].y)/2})]})},d))})}const IF=({className:t,line:e,zoom:n})=>f.jsx("svg",{className:ue("tl-overlays__item",t),children:e.type==="points"?f.jsx(_F,{...e,zoom:n}):e.type==="gaps"?f.jsx(EF,{...e,zoom:n}):null}),PF=()=>f.jsx("svg",{width:16,height:16,viewBox:"0 0 16 16",children:f.jsxs("g",{strokeWidth:2,fill:"none",fillRule:"evenodd",children:[f.jsx("circle",{strokeOpacity:.25,cx:8,cy:8,r:7,stroke:"var(--color-text-1)"}),f.jsx("path",{strokeLinecap:"round",d:"M15 8c0-4.5-4.5-7-7-7",stroke:"var(--color-text-1)",children:f.jsx("animateTransform",{attributeName:"transform",type:"rotate",from:"0 8 8",to:"360 8 8",dur:"1s",repeatCount:"indefinite"})})]})}),zF=()=>null,YE=v.createContext({});function AF({overrides:t,children:e}){return f.jsx(YE.Provider,{value:v.useMemo(()=>({Background:BB,SvgDefs:zF,Brush:hg,ZoomBrush:hg,ScreenshotBrush:hg,CollaboratorBrush:hg,Cursor:k7,CollaboratorCursor:k7,CollaboratorHint:QB,CollaboratorShapeIndicator:xf,Grid:xF,Scribble:E7,SnapLine:IF,Handles:SF,Handle:wF,CollaboratorScribble:E7,ErrorFallback:bS,ShapeErrorFallback:kF,ShapeIndicatorErrorFallback:CF,Spinner:PF,SelectionBackground:XE,SelectionForeground:vF,HoveredShapeIndicator:bF,OnTheCanvas:null,InFrontOfTheCanvas:null,...t}),[t]),children:e})}function vn(){return v.useContext(YE)}const NF=["textarea","input"];function TF(t){const e=Y();v.useEffect(()=>{const n=t.current;if(!n)return;const r=s=>{var i;if(s instanceof PointerEvent&&s.pointerType==="pen"){s.isKilled=!0;const{target:o}=s;if(NF.includes((i=o.tagName)==null?void 0:i.toLocaleLowerCase())||e.isIn("select.editing_shape"))return;Ge(s)}};return n.addEventListener("touchstart",r),n.addEventListener("touchend",r),()=>{n.removeEventListener("touchstart",r),n.removeEventListener("touchend",r)}},[e,t])}function LF(t,e,n){return Math.max(e,Math.min(t,n))}const On={toVector(t,e){return t===void 0&&(t=e),Array.isArray(t)?t:[t,t]},add(t,e){return[t[0]+e[0],t[1]+e[1]]},sub(t,e){return[t[0]-e[0],t[1]-e[1]]},addTo(t,e){t[0]+=e[0],t[1]+=e[1]},subTo(t,e){t[0]-=e[0],t[1]-=e[1]}};function I7(t,e,n){return e===0||Math.abs(e)===1/0?Math.pow(t,n*5):t*e*n/(e+n*t)}function P7(t,e,n,r=.15){return r===0?LF(t,e,n):t<e?-I7(e-t,n-e,r)+e:t>n?+I7(t-n,n-e,r)+n:t}function MF(t,[e,n],[r,s]){const[[i,o],[a,l]]=t;return[P7(e,i,o,r),P7(n,a,l,s)]}function jF(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RF(t){var e=jF(t,"string");return typeof e=="symbol"?e:String(e)}function Gn(t,e,n){return e=RF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Ht(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z7(Object(n),!0).forEach(function(r){Gn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const HE={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function A7(t){return t?t[0].toUpperCase()+t.slice(1):""}const $F=["enter","leave"];function OF(t=!1,e){return t&&!$F.includes(e)}function DF(t,e="",n=!1){const r=HE[t],s=r&&r[e]||e;return"on"+A7(t)+A7(s)+(OF(n,s)?"Capture":"")}const qF=["gotpointercapture","lostpointercapture"];function BF(t){let e=t.substring(2).toLowerCase();const n=!!~e.indexOf("passive");n&&(e=e.replace("passive",""));const r=qF.includes(e)?"capturecapture":"capture",s=!!~e.indexOf(r);return s&&(e=e.replace("capture","")),{device:e,capture:s,passive:n}}function FF(t,e=""){const n=HE[t],r=n&&n[e]||e;return t+r}function GE(t){return"touches"in t}function KF(t){return GE(t)?"touch":"pointerType"in t?t.pointerType:"mouse"}function WF(t){return Array.from(t.touches).filter(e=>{var n,r;return e.target===t.currentTarget||((n=t.currentTarget)===null||n===void 0||(r=n.contains)===null||r===void 0?void 0:r.call(n,e.target))})}function G5(t,e){try{const n=e.clientX-t.clientX,r=e.clientY-t.clientY,s=(e.clientX+t.clientX)/2,i=(e.clientY+t.clientY)/2,o=Math.hypot(n,r);return{angle:-(Math.atan2(n,r)*180)/Math.PI,distance:o,origin:[s,i]}}catch{}return null}function UF(t){return WF(t).map(e=>e.identifier)}function N7(t,e){const[n,r]=Array.from(t.touches).filter(s=>e.includes(s.identifier));return G5(n,r)}const T7=40,L7=800;function ZE(t){let{deltaX:e,deltaY:n,deltaMode:r}=t;return r===1?(e*=T7,n*=T7):r===2&&(e*=L7,n*=L7),[e,n]}function VF(t){const e={};if("buttons"in t&&(e.buttons=t.buttons),"shiftKey"in t){const{shiftKey:n,altKey:r,metaKey:s,ctrlKey:i}=t;Object.assign(e,{shiftKey:n,altKey:r,metaKey:s,ctrlKey:i})}return e}function mm(t,...e){return typeof t=="function"?t(...e):t}function XF(){}function YF(...t){return t.length===0?XF:t.length===1?t[0]:function(){let e;for(const n of t)e=n.apply(this,arguments)||e;return e}}function M7(t,e){return Object.assign({},e,t||{})}const HF=32;class QE{constructor(e,n,r){this.ctrl=e,this.args=n,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:n,ingKey:r,args:s}=this;n[r]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=s,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const n=this.state,r=this.config;n._active||(this.reset(),this.computeInitial(),n._active=!0,n.target=e.target,n.currentTarget=e.currentTarget,n.lastOffset=r.from?mm(r.from,n):n.offset,n.offset=n.lastOffset,n.startTime=n.timeStamp=e.timeStamp)}computeValues(e){const n=this.state;n._values=e,n.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:n,config:r,shared:s}=this;n.args=this.args;let i=0;if(e&&(n.event=e,r.preventDefault&&e.cancelable&&n.event.preventDefault(),n.type=e.type,s.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,s.locked=!!document.pointerLockElement,Object.assign(s,VF(e)),s.down=s.pressed=s.buttons%2===1||s.touches>0,i=e.timeStamp-n.timeStamp,n.timeStamp=e.timeStamp,n.elapsedTime=n.timeStamp-n.startTime),n._active){const C=n._delta.map(Math.abs);On.addTo(n._distance,C)}this.axisIntent&&this.axisIntent(e);const[o,a]=n._movement,[l,c]=r.threshold,{_step:d,values:h}=n;if(r.hasCustomTransform?(d[0]===!1&&(d[0]=Math.abs(o)>=l&&h[0]),d[1]===!1&&(d[1]=Math.abs(a)>=c&&h[1])):(d[0]===!1&&(d[0]=Math.abs(o)>=l&&Math.sign(o)*l),d[1]===!1&&(d[1]=Math.abs(a)>=c&&Math.sign(a)*c)),n.intentional=d[0]!==!1||d[1]!==!1,!n.intentional)return;const u=[0,0];if(r.hasCustomTransform){const[C,_]=h;u[0]=d[0]!==!1?C-d[0]:0,u[1]=d[1]!==!1?_-d[1]:0}else u[0]=d[0]!==!1?o-d[0]:0,u[1]=d[1]!==!1?a-d[1]:0;this.restrictToAxis&&!n._blocked&&this.restrictToAxis(u);const p=n.offset,y=n._active&&!n._blocked||n.active;y&&(n.first=n._active&&!n.active,n.last=!n._active&&n.active,n.active=s[this.ingKey]=n._active,e&&(n.first&&("bounds"in r&&(n._bounds=mm(r.bounds,n)),this.setup&&this.setup()),n.movement=u,this.computeOffset()));const[m,w]=n.offset,[[S,b],[g,x]]=n._bounds;n.overflow=[m<S?-1:m>b?1:0,w<g?-1:w>x?1:0],n._movementBound[0]=n.overflow[0]?n._movementBound[0]===!1?n._movement[0]:n._movementBound[0]:!1,n._movementBound[1]=n.overflow[1]?n._movementBound[1]===!1?n._movement[1]:n._movementBound[1]:!1;const k=n._active?r.rubberband||[0,0]:[0,0];if(n.offset=MF(n._bounds,n.offset,k),n.delta=On.sub(n.offset,p),this.computeMovement(),y&&(!n.last||i>HF)){n.delta=On.sub(n.offset,p);const C=n.delta.map(Math.abs);On.addTo(n.distance,C),n.direction=n.delta.map(Math.sign),n._direction=n._delta.map(Math.sign),!n.first&&i>0&&(n.velocity=[C[0]/i,C[1]/i],n.timeDelta=i)}}emit(){const e=this.state,n=this.shared,r=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!r.triggerAllEvents)return;const s=this.handler(Ht(Ht(Ht({},n),e),{},{[this.aliasKey]:e.values}));s!==void 0&&(e.memo=s)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function GF([t,e],n){const r=Math.abs(t),s=Math.abs(e);if(r>s&&r>n)return"x";if(s>r&&s>n)return"y"}class ZF extends QE{constructor(...e){super(...e),Gn(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=On.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=On.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const n=this.state,r=this.config;if(!n.axis&&e){const s=typeof r.axisThreshold=="object"?r.axisThreshold[KF(e)]:r.axisThreshold;n.axis=GF(n._movement,s)}n._blocked=(r.lockDirection||!!r.axis)&&!n.axis||!!r.axis&&r.axis!==n.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0;break}}}const QF=t=>t,j7=.15,JE={enabled(t=!0){return t},eventOptions(t,e,n){return Ht(Ht({},n.shared.eventOptions),t)},preventDefault(t=!1){return t},triggerAllEvents(t=!1){return t},rubberband(t=0){switch(t){case!0:return[j7,j7];case!1:return[0,0];default:return On.toVector(t)}},from(t){if(typeof t=="function")return t;if(t!=null)return On.toVector(t)},transform(t,e,n){const r=t||n.shared.transform;return this.hasCustomTransform=!!r,r||QF},threshold(t){return On.toVector(t,0)}},JF=0,Sf=Ht(Ht({},JE),{},{axis(t,e,{axis:n}){if(this.lockDirection=n==="lock",!this.lockDirection)return n},axisThreshold(t=JF){return t},bounds(t={}){if(typeof t=="function")return i=>Sf.bounds(t(i));if("current"in t)return()=>t.current;if(typeof HTMLElement=="function"&&t instanceof HTMLElement)return t;const{left:e=-1/0,right:n=1/0,top:r=-1/0,bottom:s=1/0}=t;return[[e,n],[r,s]]}}),bf=typeof window<"u"&&window.document&&window.document.createElement;function eI(){return bf&&"ontouchstart"in window}function eK(){return eI()||bf&&window.navigator.maxTouchPoints>1}function tK(){return bf&&"onpointerdown"in window}function nK(){return bf&&"exitPointerLock"in window.document}function rK(){try{return"constructor"in GestureEvent}catch{return!1}}const Ns={isBrowser:bf,gesture:rK(),touch:eI(),touchscreen:eK(),pointer:tK(),pointerLock:nK()},sK=250,iK=180,oK=.5,aK=50,lK=250,cK=10,R7={mouse:0,touch:0,pen:8};Ht(Ht({},Sf),{},{device(t,e,{pointer:{touch:n=!1,lock:r=!1,mouse:s=!1}={}}){return this.pointerLock=r&&Ns.pointerLock,Ns.touch&&n?"touch":this.pointerLock?"mouse":Ns.pointer&&!s?"pointer":Ns.touch?"touch":"mouse"},preventScrollAxis(t,e,{preventScroll:n}){if(this.preventScrollDelay=typeof n=="number"?n:n||n===void 0&&t?sK:void 0,!(!Ns.touchscreen||n===!1))return t||(n!==void 0?"y":void 0)},pointerCapture(t,e,{pointer:{capture:n=!0,buttons:r=1,keys:s=!0}={}}){return this.pointerButtons=r,this.keys=s,!this.pointerLock&&this.device==="pointer"&&n},threshold(t,e,{filterTaps:n=!1,tapsThreshold:r=3,axis:s=void 0}){const i=On.toVector(t,n?r:s?1:0);return this.filterTaps=n,this.tapsThreshold=r,i},swipe({velocity:t=oK,distance:e=aK,duration:n=lK}={}){return{velocity:this.transform(On.toVector(t)),distance:this.transform(On.toVector(e)),duration:n}},delay(t=0){switch(t){case!0:return iK;case!1:return 0;default:return t}},axisThreshold(t){return t?Ht(Ht({},R7),t):R7},keyboardDisplacement(t=cK){return t}});function tI(t){const[e,n]=t.overflow,[r,s]=t._delta,[i,o]=t._direction;(e<0&&r>0&&i<0||e>0&&r<0&&i>0)&&(t._movement[0]=t._movementBound[0]),(n<0&&s>0&&o<0||n>0&&s<0&&o>0)&&(t._movement[1]=t._movementBound[1])}const dK=30,hK=100;class uK extends QE{constructor(...e){super(...e),Gn(this,"ingKey","pinching"),Gn(this,"aliasKey","da")}init(){this.state.offset=[1,0],this.state.lastOffset=[1,0],this.state._pointerEvents=new Map}reset(){super.reset();const e=this.state;e._touchIds=[],e.canceled=!1,e.cancel=this.cancel.bind(this),e.turns=0}computeOffset(){const{type:e,movement:n,lastOffset:r}=this.state;e==="wheel"?this.state.offset=On.add(n,r):this.state.offset=[(1+n[0])*r[0],n[1]+r[1]]}computeMovement(){const{offset:e,lastOffset:n}=this.state;this.state.movement=[e[0]/n[0],e[1]-n[1]]}axisIntent(){const e=this.state,[n,r]=e._movement;if(!e.axis){const s=Math.abs(n)*dK-Math.abs(r);s<0?e.axis="angle":s>0&&(e.axis="scale")}}restrictToAxis(e){this.config.lockDirection&&(this.state.axis==="scale"?e[1]=0:this.state.axis==="angle"&&(e[0]=0))}cancel(){const e=this.state;e.canceled||setTimeout(()=>{e.canceled=!0,e._active=!1,this.compute(),this.emit()},0)}touchStart(e){this.ctrl.setEventIds(e);const n=this.state,r=this.ctrl.touchIds;if(n._active&&n._touchIds.every(i=>r.has(i))||r.size<2)return;this.start(e),n._touchIds=Array.from(r).slice(0,2);const s=N7(e,n._touchIds);s&&this.pinchStart(e,s)}pointerStart(e){if(e.buttons!=null&&e.buttons%2!==1)return;this.ctrl.setEventIds(e),e.target.setPointerCapture(e.pointerId);const n=this.state,r=n._pointerEvents,s=this.ctrl.pointerIds;if(n._active&&Array.from(r.keys()).every(o=>s.has(o))||(r.size<2&&r.set(e.pointerId,e),n._pointerEvents.size<2))return;this.start(e);const i=G5(...Array.from(r.values()));i&&this.pinchStart(e,i)}pinchStart(e,n){const r=this.state;r.origin=n.origin,this.computeValues([n.distance,n.angle]),this.computeInitial(),this.compute(e),this.emit()}touchMove(e){if(!this.state._active)return;const n=N7(e,this.state._touchIds);n&&this.pinchMove(e,n)}pointerMove(e){const n=this.state._pointerEvents;if(n.has(e.pointerId)&&n.set(e.pointerId,e),!this.state._active)return;const r=G5(...Array.from(n.values()));r&&this.pinchMove(e,r)}pinchMove(e,n){const r=this.state,s=r._values[1],i=n.angle-s;let o=0;Math.abs(i)>270&&(o+=Math.sign(i)),this.computeValues([n.distance,n.angle-360*o]),r.origin=n.origin,r.turns=o,r._movement=[r._values[0]/r._initial[0]-1,r._values[1]-r._initial[1]],this.compute(e),this.emit()}touchEnd(e){this.ctrl.setEventIds(e),this.state._active&&this.state._touchIds.some(n=>!this.ctrl.touchIds.has(n))&&(this.state._active=!1,this.compute(e),this.emit())}pointerEnd(e){const n=this.state;this.ctrl.setEventIds(e);try{e.target.releasePointerCapture(e.pointerId)}catch{}n._pointerEvents.has(e.pointerId)&&n._pointerEvents.delete(e.pointerId),n._active&&n._pointerEvents.size<2&&(n._active=!1,this.compute(e),this.emit())}gestureStart(e){e.cancelable&&e.preventDefault();const n=this.state;n._active||(this.start(e),this.computeValues([e.scale,e.rotation]),n.origin=[e.clientX,e.clientY],this.compute(e),this.emit())}gestureMove(e){if(e.cancelable&&e.preventDefault(),!this.state._active)return;const n=this.state;this.computeValues([e.scale,e.rotation]),n.origin=[e.clientX,e.clientY];const r=n._movement;n._movement=[e.scale-1,e.rotation],n._delta=On.sub(n._movement,r),this.compute(e),this.emit()}gestureEnd(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}wheel(e){const n=this.config.modifierKey;n&&(Array.isArray(n)?!n.find(r=>e[r]):!e[n])||(this.state._active?this.wheelChange(e):this.wheelStart(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this)))}wheelStart(e){this.start(e),this.wheelChange(e)}wheelChange(e){"uv"in e||e.cancelable&&e.preventDefault();const r=this.state;r._delta=[-ZE(e)[1]/hK*r.offset[0],0],On.addTo(r._movement,r._delta),tI(r),this.state.origin=[e.clientX,e.clientY],this.compute(e),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){const n=this.config.device;n&&(e(n,"start",this[n+"Start"].bind(this)),e(n,"change",this[n+"Move"].bind(this)),e(n,"end",this[n+"End"].bind(this)),e(n,"cancel",this[n+"End"].bind(this)),e("lostPointerCapture","",this[n+"End"].bind(this))),this.config.pinchOnWheel&&e("wheel","",this.wheel.bind(this),{passive:!1})}}const pK=Ht(Ht({},JE),{},{device(t,e,{shared:n,pointer:{touch:r=!1}={}}){if(n.target&&!Ns.touch&&Ns.gesture)return"gesture";if(Ns.touch&&r)return"touch";if(Ns.touchscreen){if(Ns.pointer)return"pointer";if(Ns.touch)return"touch"}},bounds(t,e,{scaleBounds:n={},angleBounds:r={}}){const s=o=>{const a=M7(mm(n,o),{min:-1/0,max:1/0});return[a.min,a.max]},i=o=>{const a=M7(mm(r,o),{min:-1/0,max:1/0});return[a.min,a.max]};return typeof n!="function"&&typeof r!="function"?[s(),i()]:o=>[s(o),i(o)]},threshold(t,e,n){return this.lockDirection=n.axis==="lock",On.toVector(t,this.lockDirection?[.1,3]:0)},modifierKey(t){return t===void 0?"ctrlKey":t},pinchOnWheel(t=!0){return t}});Ht(Ht({},Sf),{},{mouseOnly:(t=!0)=>t});class fK extends ZF{constructor(...e){super(...e),Gn(this,"ingKey","wheeling")}wheel(e){this.state._active||this.start(e),this.wheelChange(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}wheelChange(e){const n=this.state;n._delta=ZE(e),On.addTo(n._movement,n._delta),tI(n),this.compute(e),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){e("wheel","",this.wheel.bind(this))}}const gK=Sf;Ht(Ht({},Sf),{},{mouseOnly:(t=!0)=>t});const vS=new Map,Z5=new Map;function mK(t){vS.set(t.key,t.engine),Z5.set(t.key,t.resolver)}const nI={key:"pinch",engine:uK,resolver:pK},rI={key:"wheel",engine:fK,resolver:gK};function yK(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function xK(t,e){if(t==null)return{};var n=yK(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}const wK={target(t){if(t)return()=>"current"in t?t.current:t},enabled(t=!0){return t},window(t=Ns.isBrowser?window:void 0){return t},eventOptions({passive:t=!0,capture:e=!1}={}){return{passive:t,capture:e}},transform(t){return t}},SK=["target","eventOptions","window","enabled","transform"];function C0(t={},e){const n={};for(const[r,s]of Object.entries(e))switch(typeof s){case"function":n[r]=s.call(n,t[r],r,t);break;case"object":n[r]=C0(t[r],s);break;case"boolean":s&&(n[r]=t[r]);break}return n}function bK(t,e,n={}){const r=t,{target:s,eventOptions:i,window:o,enabled:a,transform:l}=r,c=xK(r,SK);if(n.shared=C0({target:s,eventOptions:i,window:o,enabled:a,transform:l},wK),e){const d=Z5.get(e);n[e]=C0(Ht({shared:n.shared},c),d)}else for(const d in c){const h=Z5.get(d);h&&(n[d]=C0(Ht({shared:n.shared},c[d]),h))}return n}class sI{constructor(e,n){Gn(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=n}add(e,n,r,s,i){const o=this._listeners,a=FF(n,r),l=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},c=Ht(Ht({},l),i);e.addEventListener(a,s,c);const d=()=>{e.removeEventListener(a,s,c),o.delete(d)};return o.add(d),d}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}}class vK{constructor(){Gn(this,"_timeouts",new Map)}add(e,n,r=140,...s){this.remove(e),this._timeouts.set(e,window.setTimeout(n,r,...s))}remove(e){const n=this._timeouts.get(e);n&&window.clearTimeout(n)}clean(){this._timeouts.forEach(e=>void window.clearTimeout(e)),this._timeouts.clear()}}class kK{constructor(e){Gn(this,"gestures",new Set),Gn(this,"_targetEventStore",new sI(this)),Gn(this,"gestureEventStores",{}),Gn(this,"gestureTimeoutStores",{}),Gn(this,"handlers",{}),Gn(this,"config",{}),Gn(this,"pointerIds",new Set),Gn(this,"touchIds",new Set),Gn(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),CK(this,e)}setEventIds(e){if(GE(e))return this.touchIds=new Set(UF(e)),this.touchIds;if("pointerId"in e)return e.type==="pointerup"||e.type==="pointercancel"?this.pointerIds.delete(e.pointerId):e.type==="pointerdown"&&this.pointerIds.add(e.pointerId),this.pointerIds}applyHandlers(e,n){this.handlers=e,this.nativeHandlers=n}applyConfig(e,n){this.config=bK(e,n,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const n=this.config.shared,r={};let s;if(!(n.target&&(s=n.target(),!s))){if(n.enabled){for(const o of this.gestures){const a=this.config[o],l=$7(r,a.eventOptions,!!s);if(a.enabled){const c=vS.get(o);new c(this,e,o).bind(l)}}const i=$7(r,n.eventOptions,!!s);for(const o in this.nativeHandlers)i(o,"",a=>this.nativeHandlers[o](Ht(Ht({},this.state.shared),{},{event:a,args:e})),void 0,!0)}for(const i in r)r[i]=YF(...r[i]);if(!s)return r;for(const i in r){const{device:o,capture:a,passive:l}=BF(i);this._targetEventStore.add(s,o,"",r[i],{capture:a,passive:l})}}}}function Fc(t,e){t.gestures.add(e),t.gestureEventStores[e]=new sI(t,e),t.gestureTimeoutStores[e]=new vK}function CK(t,e){e.drag&&Fc(t,"drag"),e.wheel&&Fc(t,"wheel"),e.scroll&&Fc(t,"scroll"),e.move&&Fc(t,"move"),e.pinch&&Fc(t,"pinch"),e.hover&&Fc(t,"hover")}const $7=(t,e,n)=>(r,s,i,o={},a=!1)=>{var l,c;const d=(l=o.capture)!==null&&l!==void 0?l:e.capture,h=(c=o.passive)!==null&&c!==void 0?c:e.passive;let u=a?r:DF(r,s,d);n&&h&&(u+="Passive"),t[u]=t[u]||[],t[u].push(i)},_K=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function EK(t){const e={},n={},r=new Set;for(let s in t)_K.test(s)?(r.add(RegExp.lastMatch),n[s]=t[s]):e[s]=t[s];return[n,e,r]}function Kc(t,e,n,r,s,i){if(!t.has(n)||!vS.has(r))return;const o=n+"Start",a=n+"End",l=c=>{let d;return c.first&&o in e&&e[o](c),n in e&&(d=e[n](c)),c.last&&a in e&&e[a](c),d};s[r]=l,i[r]=i[r]||{}}function IK(t,e){const[n,r,s]=EK(t),i={};return Kc(s,n,"onDrag","drag",i,e),Kc(s,n,"onWheel","wheel",i,e),Kc(s,n,"onScroll","scroll",i,e),Kc(s,n,"onPinch","pinch",i,e),Kc(s,n,"onMove","move",i,e),Kc(s,n,"onHover","hover",i,e),{handlers:i,config:e,nativeHandlers:r}}function PK(t,e={},n,r){const s=ie.useMemo(()=>new kK(t),[]);if(s.applyHandlers(t,r),s.applyConfig(e,n),ie.useEffect(s.effect.bind(s)),ie.useEffect(()=>s.clean.bind(s),[]),e.target===void 0)return s.bind.bind(s)}function iI(t){return t.forEach(mK),function(n,r){const{handlers:s,nativeHandlers:i,config:o}=IK(n,r||{});return PK(s,o,void 0,i)}}const O7=10,zK=/Mac|iPod|iPhone|iPad/.test(typeof window>"u"?"node":window.navigator.platform);function oI(t){let{deltaY:e,deltaX:n}=t,r=0;if(t.ctrlKey||t.altKey||t.metaKey){const s=Math.sign(t.deltaY),i=Math.abs(t.deltaY);let o=e;i>O7&&(o=O7*s),r=o/100}else t.shiftKey&&!zK&&(n=e,e=0);return{x:-n,y:-e,z:-r}}const AK=iI([rI,nI]);let Wc;const NK=t=>Wc===void 0?(Wc=t,!1):t-Wc>120&&t-Wc<160?(Wc=t,!0):(Wc=t,!1);function TK(t){const e=Y(),n=v.useMemo(()=>{let r="not sure";const s=({event:m})=>{if(!e.getInstanceState().isFocused||(r="not sure",NK(Date.now())))return;const w=e.getEditingShapeId();if(w){const x=e.getShape(w);if(x&&e.getShapeUtil(x).canScroll(x)){const C=e.getShapePageBounds(w);if(C!=null&&C.containsPoint(e.inputs.currentPagePoint))return}}Ge(m);const S=oI(m);if(S.x===0&&S.y===0)return;const b=e.getContainer().getBoundingClientRect(),g={type:"wheel",name:"wheel",delta:S,point:new I(m.clientX,m.clientY).sub({x:b.left,y:b.top}),shiftKey:m.shiftKey,altKey:m.altKey,ctrlKey:m.metaKey||m.ctrlKey};e.dispatch(g)};let i=1,o=1,a=1,l=0;const c=new I,d=new I,h=m=>{const w=t.current;r="not sure";const{event:S,origin:b,da:g}=m;S instanceof WheelEvent||(S.target===w||w!=null&&w.contains(S.target))&&(d.x=b[0],d.y=b[1],c.x=b[0],c.y=b[1],i=g[0],o=e.getZoomLevel(),e.dispatch({type:"pinch",name:"pinch_start",point:{x:b[0],y:b[1],z:e.getZoomLevel()},delta:{x:0,y:0},shiftKey:S.shiftKey,altKey:S.altKey,ctrlKey:S.metaKey||S.ctrlKey}))},u=m=>{if(m&&(r="zooming"),r==="zooming")return;const w=Math.abs(l-i),S=I.Dist(c,d);switch(r){case"not sure":{w>24?r="zooming":S>16&&(r="panning");break}case"panning":{w>64&&(r="zooming");break}}};return{onWheel:s,onPinchStart:h,onPinchEnd:m=>{const w=t.current,{event:S,origin:b,offset:g}=m;if(S instanceof WheelEvent||!(S.target===w||w!=null&&w.contains(S.target)))return;const x=g[0];r="not sure",requestAnimationFrame(()=>{e.dispatch({type:"pinch",name:"pinch_end",point:{x:b[0],y:b[1],z:x},delta:{x:b[0],y:b[1]},shiftKey:S.shiftKey,altKey:S.altKey,ctrlKey:S.metaKey||S.ctrlKey})})},onPinch:m=>{const w=t.current,{event:S,origin:b,offset:g,da:x}=m;if(S instanceof WheelEvent||!(S.target===w||w!=null&&w.contains(S.target)))return;const k=m.type==="gesturechange"||m.type==="gestureend";l=x[0];const C=b[0]-d.x,_=b[1]-d.y;switch(d.x=b[0],d.y=b[1],u(k),r){case"zooming":{a=g[0],e.dispatch({type:"pinch",name:"pinch",point:{x:b[0],y:b[1],z:a},delta:{x:C,y:_},shiftKey:S.shiftKey,altKey:S.altKey,ctrlKey:S.metaKey||S.ctrlKey});break}case"panning":{e.dispatch({type:"pinch",name:"pinch",point:{x:b[0],y:b[1],z:o},delta:{x:C,y:_},shiftKey:S.shiftKey,altKey:S.altKey,ctrlKey:S.metaKey||S.ctrlKey});break}}}}},[e,t]);AK(n,{target:t,eventOptions:{passive:!1},pinch:{from:()=>[e.getZoomLevel(),0],scaleBounds:()=>({from:e.getZoomLevel(),max:8,min:.05})}})}function N2(t,e,n){const r=t.getShape(e),s=t.getShapeHandles(r);return{shape:r,handle:s.find(i=>i.id===n)}}function LK(t,e){const n=Y();return v.useMemo(()=>{const r=l=>{if(l.isKilled)return;const c=hm(l.currentTarget);mf(c,l);const{shape:d,handle:h}=N2(n,t,e);h&&n.dispatch({type:"pointer",target:"handle",handle:h,shape:d,name:"pointer_down",...Lr(l)})};let s,i;return{onPointerDown:r,onPointerMove:l=>{if(l.isKilled||l.clientX===s&&l.clientY===i)return;s=l.clientX,i=l.clientY;const{shape:c,handle:d}=N2(n,t,e);d&&n.dispatch({type:"pointer",target:"handle",handle:d,shape:c,name:"pointer_move",...Lr(l)})},onPointerUp:l=>{if(l.isKilled)return;const c=hm(l.currentTarget);yf(c,l);const{shape:d,handle:h}=N2(n,t,e);h&&n.dispatch({type:"pointer",target:"handle",handle:h,shape:d,name:"pointer_up",...Lr(l)})}}},[n,t,e])}var aI="Expected a function",D7=0/0,MK="[object Symbol]",jK=/^\s+|\s+$/g,RK=/^[-+]0x[0-9a-f]+$/i,$K=/^0b[01]+$/i,OK=/^0o[0-7]+$/i,DK=parseInt,qK=typeof $n=="object"&&$n&&$n.Object===Object&&$n,BK=typeof self=="object"&&self&&self.Object===Object&&self,FK=qK||BK||Function("return this")(),KK=Object.prototype,WK=KK.toString,UK=Math.max,VK=Math.min,T2=function(){return FK.Date.now()};function XK(t,e,n){var r,s,i,o,a,l,c=0,d=!1,h=!1,u=!0;if(typeof t!="function")throw new TypeError(aI);e=q7(e)||0,ym(n)&&(d=!!n.leading,h="maxWait"in n,i=h?UK(q7(n.maxWait)||0,e):i,u="trailing"in n?!!n.trailing:u);function p(C){var _=r,E=s;return r=s=void 0,c=C,o=t.apply(E,_),o}function y(C){return c=C,a=setTimeout(S,e),d?p(C):o}function m(C){var _=C-l,E=C-c,z=e-_;return h?VK(z,i-E):z}function w(C){var _=C-l,E=C-c;return l===void 0||_>=e||_<0||h&&E>=i}function S(){var C=T2();if(w(C))return b(C);a=setTimeout(S,m(C))}function b(C){return a=void 0,u&&r?p(C):(r=s=void 0,o)}function g(){a!==void 0&&clearTimeout(a),c=0,r=l=s=a=void 0}function x(){return a===void 0?o:b(T2())}function k(){var C=T2(),_=w(C);if(r=arguments,s=this,l=C,_){if(a===void 0)return y(l);if(h)return a=setTimeout(S,e),p(l)}return a===void 0&&(a=setTimeout(S,e)),o}return k.cancel=g,k.flush=x,k}function YK(t,e,n){var r=!0,s=!0;if(typeof t!="function")throw new TypeError(aI);return ym(n)&&(r="leading"in n?!!n.leading:r,s="trailing"in n?!!n.trailing:s),XK(t,e,{leading:r,maxWait:e,trailing:s})}function ym(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function HK(t){return!!t&&typeof t=="object"}function GK(t){return typeof t=="symbol"||HK(t)&&WK.call(t)==MK}function q7(t){if(typeof t=="number")return t;if(GK(t))return D7;if(ym(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=ym(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(jK,"");var n=$K.test(t);return n||OK.test(t)?DK(t.slice(2),n?2:8):RK.test(t)?D7:+t}var ZK=YK;const lI=yc(ZK);function QK(){const t=Y();v.useLayoutEffect(()=>{const e=lI(()=>{t.updateViewportScreenBounds()},200,{trailing:!0});t.updateViewportScreenBounds();const n=setInterval(e,1e3);return window.addEventListener("resize",e),window.addEventListener("scroll",e),()=>{clearInterval(n),window.removeEventListener("resize",e),window.removeEventListener("scroll",e)}},[t])}const ud=class $t{constructor(e,n,r,s,i,o){this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0,this.a=e,this.b=n,this.c=r,this.d=s,this.e=i,this.f=o}equals(e){return this.a===e.a&&this.b===e.b&&this.c===e.c&&this.d===e.d&&this.e===e.e&&this.f===e.f}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0,this}multiply(e){const n=e,{a:r,b:s,c:i,d:o,e:a,f:l}=this;return this.a=r*n.a+i*n.b,this.c=r*n.c+i*n.d,this.e=r*n.e+i*n.f+a,this.b=s*n.a+o*n.b,this.d=s*n.c+o*n.d,this.f=s*n.e+o*n.f+l,this}rotate(e,n,r){return e===0?this:n===void 0?this.multiply($t.Rotate(e)):this.translate(n,r).multiply($t.Rotate(e)).translate(-n,-r)}translate(e,n){return this.multiply($t.Translate(e,n))}scale(e,n){return this.multiply($t.Scale(e,n))}invert(){const{a:e,b:n,c:r,d:s,e:i,f:o}=this,a=e*s-n*r;return this.a=s/a,this.b=n/-a,this.c=r/-a,this.d=e/a,this.e=(s*i-r*o)/-a,this.f=(n*i-e*o)/a,this}applyToPoint(e){return $t.applyToPoint(this,e)}applyToPoints(e){return $t.applyToPoints(this,e)}rotation(){return $t.Rotation(this)}point(){return $t.Point(this)}decomposed(){return $t.Decompose(this)}toCssString(){return $t.toCssString(this)}setTo(e){return Object.assign(this,e),this}decompose(){return $t.Decompose(this)}clone(){return new $t(this.a,this.b,this.c,this.d,this.e,this.f)}static Identity(){return new $t(1,0,0,1,0,0)}static Translate(e,n){return new $t(1,0,0,1,e,n)}static Rotate(e,n,r){if(e===0)return $t.Identity();const s=Math.cos(e),i=Math.sin(e),o=new $t(s,i,-i,s,0,0);return n===void 0?o:$t.Compose($t.Translate(n,r),o,$t.Translate(-n,-r))}static Multiply(e,n){return{a:e.a*n.a+e.c*n.b,c:e.a*n.c+e.c*n.d,e:e.a*n.e+e.c*n.f+e.e,b:e.b*n.a+e.d*n.b,d:e.b*n.c+e.d*n.d,f:e.b*n.e+e.d*n.f+e.f}}static Inverse(e){const n=e.a*e.d-e.b*e.c;return{a:e.d/n,b:e.b/-n,c:e.c/-n,d:e.a/n,e:(e.d*e.e-e.c*e.f)/-n,f:(e.b*e.e-e.a*e.f)/n}}static Absolute(e){const n=e.a*e.d-e.b*e.c;return{a:e.d/n,b:e.b/-n,c:e.c/-n,d:e.a/n,e:(e.d*e.e-e.c*e.f)/n,f:(e.b*e.e-e.a*e.f)/-n}}static Compose(...e){const n=$t.Identity();for(let r=0,s=e.length;r<s;r++)n.multiply(e[r]);return n}static Point(e){return new I(e.e,e.f)}static Rotation(e){let n;if(e.a!==0||e.c!==0){const r=Math.hypot(e.a,e.c);n=Math.acos(e.a/r)*(e.c>0?-1:1)}else if(e.b!==0||e.d!==0){const r=Math.hypot(e.b,e.d);n=tt+Math.acos(e.b/r)*(e.d>0?-1:1)}else n=0;return Y5(n)}static Decompose(e){let n,r,s;if(e.a!==0||e.c!==0){const i=Math.hypot(e.a,e.c);n=i,r=(e.a*e.d-e.b*e.c)/i,s=Math.acos(e.a/i)*(e.c>0?-1:1)}else if(e.b!==0||e.d!==0){const i=Math.hypot(e.b,e.d);n=(e.a*e.d-e.b*e.c)/i,r=i,s=tt+Math.acos(e.b/i)*(e.d>0?-1:1)}else n=0,r=0,s=0;return{x:e.e,y:e.f,scaleX:n,scaleY:r,rotation:Y5(s)}}static Smooth(e,n=1e10){return e.a=Math.round(e.a*n)/n,e.b=Math.round(e.b*n)/n,e.c=Math.round(e.c*n)/n,e.d=Math.round(e.d*n)/n,e.e=Math.round(e.e*n)/n,e.f=Math.round(e.f*n)/n,e}static toCssString(e){return`matrix(${$(e.a)}, ${$(e.b)}, ${$(e.c)}, ${$(e.d)}, ${$(e.e)}, ${$(e.f)})`}static applyToPoint(e,n){return new I(e.a*n.x+e.c*n.y+e.e,e.b*n.x+e.d*n.y+e.f,n.z)}static applyToXY(e,n,r){return[e.a*n+e.c*r+e.e,e.b*n+e.d*r+e.f]}static applyToPoints(e,n){return n.map(r=>new I(e.a*r.x+e.c*r.y+e.e,e.b*r.x+e.d*r.y+e.f,r.z))}static applyToBounds(e,n){return new fe(e.e+n.minX,e.f+n.minY,n.width,n.height)}static From(e){return new $t(e.a,e.b,e.c,e.d,e.e,e.f)}static Cast(e){return e instanceof $t?e:$t.From(e)}};ud.Scale=(t,e,n,r)=>{const s=new ud(t,0,0,0,e,0);return n===void 0?s:ud.Compose(ud.Translate(n,r),s,ud.Translate(-n,-r))};let he=ud;function JK(t=!0){const[e,n]=v.useState(0),r=Y();v.useEffect(()=>{if(!t)return;const s=()=>n(i=>i+1);return r.on("tick",s),()=>{r.off("tick",s)}},[r,t])}const eW=Ye(function({showStroke:e=!0,showVertices:n=!0,showClosestPointOnOutline:r=!0}){const s=Y();JK(r);const i=s.getZoomLevel(),o=s.getRenderingShapes(),{inputs:{currentPagePoint:a}}=s;return f.jsx("svg",{style:{position:"absolute",pointerEvents:"none",zIndex:999999999,top:0,left:0,overflow:"visible"},children:o.map(l=>{const c=s.getShape(l.id);if(c.type==="group")return null;const d=s.getShapeGeometry(c),h=s.getShapePageTransform(c),u=s.getPointInShapeSpace(c,a),p=d.nearestPoint(u),y=d.distanceToPoint(u,!0),m=Math.abs(y)*i,w=y<0,{vertices:S}=d;return f.jsxs("g",{transform:h.toCssString(),strokeLinecap:"round",strokeLinejoin:"round",children:[e&&f.jsx("path",{stroke:"red",strokeWidth:"2",fill:"none",opacity:"1",d:d.toSimpleSvgPath()}),n&&S.map((b,g)=>f.jsx("circle",{cx:b.x,cy:b.y,r:"2",fill:`hsl(${dm(g,[0,S.length-1],[120,200])}, 100%, 50%)`,stroke:"black",strokeWidth:"1"},`v${g}`)),r&&m<150&&f.jsx("line",{x1:p.x,y1:p.y,x2:u.x,y2:u.y,opacity:1-m/150,stroke:w?"goldenrod":"dodgerblue",strokeWidth:"2"})]},l.id+"_outline")})})});var tW=200,kS="__lodash_hash_undefined__",nW=1/0,rW="[object Function]",sW="[object GeneratorFunction]",iW=/[\\^$.*+?()[\]{}|]/g,oW=/^\[object .+?Constructor\]$/,aW=typeof $n=="object"&&$n&&$n.Object===Object&&$n,lW=typeof self=="object"&&self&&self.Object===Object&&self,CS=aW||lW||Function("return this")();function cW(t,e){var n=t?t.length:0;return!!n&&uW(t,e,0)>-1}function dW(t,e,n){for(var r=-1,s=t?t.length:0;++r<s;)if(n(e,t[r]))return!0;return!1}function hW(t,e,n,r){for(var s=t.length,i=n+(r?1:-1);r?i--:++i<s;)if(e(t[i],i,t))return i;return-1}function uW(t,e,n){if(e!==e)return hW(t,pW,n);for(var r=n-1,s=t.length;++r<s;)if(t[r]===e)return r;return-1}function pW(t){return t!==t}function fW(t,e){return t.has(e)}function gW(t,e){return t==null?void 0:t[e]}function mW(t){var e=!1;if(t!=null&&typeof t.toString!="function")try{e=!!(t+"")}catch{}return e}function cI(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var yW=Array.prototype,xW=Function.prototype,dI=Object.prototype,L2=CS["__core-js_shared__"],B7=function(){var t=/[^.]+$/.exec(L2&&L2.keys&&L2.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),hI=xW.toString,_S=dI.hasOwnProperty,wW=dI.toString,SW=RegExp("^"+hI.call(_S).replace(iW,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),bW=yW.splice,vW=ES(CS,"Map"),M2=ES(CS,"Set"),vp=ES(Object,"create");function oc(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function kW(){this.__data__=vp?vp(null):{}}function CW(t){return this.has(t)&&delete this.__data__[t]}function _W(t){var e=this.__data__;if(vp){var n=e[t];return n===kS?void 0:n}return _S.call(e,t)?e[t]:void 0}function EW(t){var e=this.__data__;return vp?e[t]!==void 0:_S.call(e,t)}function IW(t,e){var n=this.__data__;return n[t]=vp&&e===void 0?kS:e,this}oc.prototype.clear=kW;oc.prototype.delete=CW;oc.prototype.get=_W;oc.prototype.has=EW;oc.prototype.set=IW;function _h(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function PW(){this.__data__=[]}function zW(t){var e=this.__data__,n=Ly(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():bW.call(e,n,1),!0}function AW(t){var e=this.__data__,n=Ly(e,t);return n<0?void 0:e[n][1]}function NW(t){return Ly(this.__data__,t)>-1}function TW(t,e){var n=this.__data__,r=Ly(n,t);return r<0?n.push([t,e]):n[r][1]=e,this}_h.prototype.clear=PW;_h.prototype.delete=zW;_h.prototype.get=AW;_h.prototype.has=NW;_h.prototype.set=TW;function Eh(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function LW(){this.__data__={hash:new oc,map:new(vW||_h),string:new oc}}function MW(t){return My(this,t).delete(t)}function jW(t){return My(this,t).get(t)}function RW(t){return My(this,t).has(t)}function $W(t,e){return My(this,t).set(t,e),this}Eh.prototype.clear=LW;Eh.prototype.delete=MW;Eh.prototype.get=jW;Eh.prototype.has=RW;Eh.prototype.set=$W;function xm(t){var e=-1,n=t?t.length:0;for(this.__data__=new Eh;++e<n;)this.add(t[e])}function OW(t){return this.__data__.set(t,kS),this}function DW(t){return this.__data__.has(t)}xm.prototype.add=xm.prototype.push=OW;xm.prototype.has=DW;function Ly(t,e){for(var n=t.length;n--;)if(XW(t[n][0],e))return n;return-1}function qW(t){if(!uI(t)||WW(t))return!1;var e=YW(t)||mW(t)?SW:oW;return e.test(UW(t))}function BW(t,e,n){var r=-1,s=cW,i=t.length,o=!0,a=[],l=a;if(n)o=!1,s=dW;else if(i>=tW){var c=e?null:FW(t);if(c)return cI(c);o=!1,s=fW,l=new xm}else l=e?[]:a;e:for(;++r<i;){var d=t[r],h=e?e(d):d;if(d=n||d!==0?d:0,o&&h===h){for(var u=l.length;u--;)if(l[u]===h)continue e;e&&l.push(h),a.push(d)}else s(l,h,n)||(l!==a&&l.push(h),a.push(d))}return a}var FW=M2&&1/cI(new M2([,-0]))[1]==nW?function(t){return new M2(t)}:HW;function My(t,e){var n=t.__data__;return KW(e)?n[typeof e=="string"?"string":"hash"]:n.map}function ES(t,e){var n=gW(t,e);return qW(n)?n:void 0}function KW(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function WW(t){return!!B7&&B7 in t}function UW(t){if(t!=null){try{return hI.call(t)}catch{}try{return t+""}catch{}}return""}function VW(t){return t&&t.length?BW(t):[]}function XW(t,e){return t===e||t!==t&&e!==e}function YW(t){var e=uI(t)?wW.call(t):"";return e==rW||e==sW}function uI(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function HW(){}var GW=VW;const pI=yc(GW);function fI(t){return pI(t)}function ZW(){const t=Y(),e=v.useMemo(()=>t.store.query.records("instance_presence",()=>({userId:{neq:t.user.getId()}})),[t]),n=$_("userIds",()=>fI(e.get().map(r=>r.userId)).sort(),{isEqual:(r,s)=>{var i;return r.join(",")===((i=s.join)==null?void 0:i.call(s,","))}},[e]);return Q(n)}function gI(t){const e=Y(),n=v.useMemo(()=>e.store.query.records("instance_presence",()=>({userId:{eq:t}})),[e,t]);return Q(`latestPresence:${t}`,()=>n.get().slice().sort((s,i)=>i.lastActivityTimestamp-s.lastActivityTimestamp)[0],[])??null}const QW=Ye(function(){const e=ZW();return f.jsx(f.Fragment,{children:e.map(n=>f.jsx(JW,{collaboratorId:n},n))})}),JW=Ye(function({collaboratorId:e}){const n=Y(),r=gI(e),s=tU(r);if(!(r&&r.currentPageId===n.getCurrentPageId()))return null;switch(s){case"inactive":{const{followingUserId:i,highlightedUserIds:o}=n.getInstanceState();if(!(i===r.userId||o.includes(r.userId)))return null;break}case"idle":{const{highlightedUserIds:i}=n.getInstanceState();if(r.followingUserId===n.user.getId()&&!(r.chatMessage||i.includes(r.userId)))return null;break}}return f.jsx(eU,{latestPresence:r})}),eU=Ye(function({latestPresence:e}){const n=Y(),{CollaboratorBrush:r,CollaboratorScribble:s,CollaboratorCursor:i,CollaboratorHint:o,CollaboratorShapeIndicator:a}=vn(),l=n.getZoomLevel(),c=n.getViewportPageBounds(),{userId:d,chatMessage:h,brush:u,scribbles:p,selectedShapeIds:y,userName:m,cursor:w,color:S}=e,b=!(w.x<c.minX-12/l||w.y<c.minY-16/l||w.x>c.maxX-12/l||w.y>c.maxY-16/l);return f.jsxs(f.Fragment,{children:[u&&r?f.jsx(r,{className:"tl-collaborator__brush",brush:u,color:S,opacity:.1},d+"_brush"):null,b&&i?f.jsx(i,{className:"tl-collaborator__cursor",point:w,color:S,zoom:l,name:m!=="New User"?m:null,chatMessage:h},d+"_cursor"):o?f.jsx(o,{className:"tl-collaborator__cursor-hint",point:w,color:S,zoom:l,viewport:c},d+"_cursor_hint"):null,s&&p.length?f.jsx(f.Fragment,{children:p.map(g=>f.jsx(s,{className:"tl-collaborator__scribble",scribble:g,color:S,zoom:l,opacity:g.color==="laser"?.5:.1},d+"_scribble_"+g.id))}):null,a&&y.map(g=>f.jsx(a,{className:"tl-collaborator__shape-indicator",id:g,color:S,opacity:.5},d+"_"+g))]})});function F7(t){return t>pF?"inactive":t>VE?"idle":"active"}function tU(t){const e=v.useRef((t==null?void 0:t.lastActivityTimestamp)??-1),[n,r]=v.useState(()=>F7(Date.now()-e.current));return v.useEffect(()=>{const s=setInterval(()=>{r(F7(Date.now()-e.current))},fF);return()=>clearInterval(s)},[]),t&&(e.current=t.lastActivityTimestamp),n}function mI(t,e){return e===0?t:mI(e,t%e)}function yI(t){const e=t.toString().split(".")[1];if(!e)return 1;const n=Math.pow(10,e.length),r=parseInt(e,10);return n/mI(r,n)}function nU(){const t=Y(),e=bn();v.useEffect(()=>pf("useDPRMultiple",()=>{const n=t.getInstanceState().devicePixelRatio;e.style.setProperty("--tl-dpr-multiple",yI(n).toString())}),[t,e])}const xI=Ye(function({id:e,shape:n,util:r,index:s,backgroundIndex:i,opacity:o,isCulled:a}){const l=Y(),{ShapeErrorFallback:c}=vn(),d=v.useRef(null),h=v.useRef(null),u=v.useCallback((y,m)=>{var w,S;(w=d.current)==null||w.style.setProperty(y,m),(S=h.current)==null||S.style.setProperty(y,m)},[]);Zl("set shape container transform position",()=>{if(!l.getShape(e))return;const m=l.getShapePageTransform(e),w=he.toCssString(m);u("transform",w)},[l,u]),Zl("set shape container clip path",()=>{if(!l.getShape(e))return null;const m=l.getShapeClipPath(e);u("clip-path",m??"none")},[l,u]),Zl("set shape height and width",()=>{const y=l.getShape(e);if(!y)return null;const m=l.getShapeGeometry(y).bounds,w=Math.floor(l.getInstanceState().devicePixelRatio*100)/100,S=yI(w),b=m.w%S,g=b===0?m.w:m.w+(S-b),x=m.h%S,k=x===0?m.h:m.h+(S-x);u("width",Math.max(g,S)+"px"),u("height",Math.max(k,S)+"px")},[l]),v.useLayoutEffect(()=>{var y,m;u("opacity",o+""),(y=d.current)==null||y.style.setProperty("z-index",s+""),(m=h.current)==null||m.style.setProperty("z-index",i+"")},[o,s,i,u]);const p=v.useCallback(y=>{l.annotateError(y,{origin:"react.shape",willCrashApp:!1})},[l]);return n?f.jsxs(f.Fragment,{children:[r.backgroundComponent&&f.jsx("div",{ref:h,className:"tl-shape tl-shape-background","data-shape-type":n.type,draggable:!1,children:!a&&f.jsx(wp,{fallback:c,onError:p,children:f.jsx(sU,{shape:n,util:r})})}),f.jsx("div",{ref:d,className:"tl-shape","data-shape-type":n.type,draggable:!1,children:a?f.jsx(iU,{shape:n}):f.jsx(wp,{fallback:c,onError:p,children:f.jsx(rU,{shape:n,util:r})})})]}):null}),rU=v.memo(function({shape:e,util:n}){return Iy("InnerShape:"+e.type,()=>n.component(e))},(t,e)=>t.shape.props===e.shape.props&&t.shape.meta===e.shape.meta&&t.util===e.util),sU=v.memo(function({shape:e,util:n}){return Iy("InnerShape:"+e.type,()=>{var r;return(r=n.backgroundComponent)==null?void 0:r.call(n,e)})},(t,e)=>t.shape.props===e.shape.props&&t.shape.meta===e.shape.meta),iU=v.memo(function({shape:e}){const r=Y().getShapeGeometry(e).bounds;return f.jsx("div",{className:"tl-shape__culled",style:{transform:`translate(${$(r.minX)}px, ${$(r.minY)}px)`,width:Math.max(1,$(r.width)),height:Math.max(1,$(r.height))}})},()=>!0);function jy({className:t}){const e=Y(),{Background:n,SvgDefs:r}=vn(),s=ie.useRef(null),i=ie.useRef(null),o=ie.useRef(null);QK(),MB(),TB(),TK(s),TF(s),Zl("position layers",()=>{const u=i.current;if(!u)return;const p=o.current;if(!p)return;const{x:y,y:m,z:w}=e.getCamera(),S=w>=1?dm(w,[1,8],[.125,.5],!0):dm(w,[.1,1],[-2,.125],!0),b=`scale(${$(w)}) translate(${$(y+S)}px,${$(m+S)}px)`;u.style.setProperty("transform",b),p.style.setProperty("transform",b)},[e]);const a=NB(),l=Q("shapeSvgDefs",()=>{const u=new Map;for(const p of hB(e.shapeUtils)){if(!p)return;const y=p.getCanvasSvgDefs();for(const{key:m,component:w}of y)u.has(m)||u.set(m,f.jsx(w,{},m))}return[...u.values()]},[e]),c=Q("debug_shapes",()=>wt.hideShapes.get(),[wt]),d=Q("debug_svg",()=>wt.debugSvg.get(),[wt]),h=Q("debug_geometry",()=>wt.debugGeometry.get(),[wt]);return f.jsxs("div",{ref:s,draggable:!1,className:ue("tl-canvas",t),"data-testid":"canvas",...a,children:[n&&f.jsx(n,{}),f.jsx(oU,{}),f.jsx(kU,{}),f.jsx("svg",{className:"tl-svg-context",children:f.jsxs("defs",{children:[l,K7&&f.jsx(K7,{}),f.jsx(wU,{}),f.jsx(SU,{}),f.jsx(bU,{}),r&&f.jsx(r,{})]})}),f.jsxs("div",{ref:i,className:"tl-html-layer tl-shapes",draggable:!1,children:[f.jsx(EU,{}),f.jsx(_U,{}),c?null:d?f.jsx(fU,{}):f.jsx(gU,{})]}),f.jsxs("div",{className:"tl-fixed-layer tl-overlays",children:[f.jsxs("div",{ref:o,className:"tl-html-layer",children:[h?f.jsx(eW,{}):null,f.jsx(uU,{}),f.jsx(lU,{}),f.jsx(aU,{}),f.jsx(cU,{}),f.jsx(mU,{}),f.jsx(yU,{}),f.jsx(xU,{}),f.jsx(dU,{}),f.jsx(CU,{}),f.jsx(QW,{})]}),f.jsx(IU,{})]})]})}function oU(){const t=Y(),e=Q("gridSize",()=>t.getDocumentSettings().gridSize,[t]),{x:n,y:r,z:s}=Q("camera",()=>t.getCamera(),[t]),i=Q("isGridMode",()=>t.getInstanceState().isGridMode,[t]),{Grid:o}=vn();return o&&i?f.jsx(o,{x:n,y:r,z:s,size:e}):null}function aU(){const t=Y(),e=Q("scribbles",()=>t.getInstanceState().scribbles,[t]),n=Q("zoomLevel",()=>t.getZoomLevel(),[t]),{Scribble:r}=vn();return r&&e.length?f.jsx(f.Fragment,{children:e.map(s=>f.jsx(r,{className:"tl-user-scribble",scribble:s,zoom:n},s.id))}):null}function lU(){const t=Y(),e=Q("brush",()=>t.getInstanceState().brush,[t]),{Brush:n}=vn();return n&&e?f.jsx(n,{className:"tl-user-brush",brush:e}):null}function cU(){const t=Y(),e=Q("zoomBrush",()=>t.getInstanceState().zoomBrush,[t]),{ZoomBrush:n}=vn();return n&&e?f.jsx(n,{className:"tl-user-brush tl-zoom-brush",brush:e}):null}function dU(){const t=Y(),e=Q("snapLines",()=>t.snaps.getLines(),[t]),n=Q("zoomLevel",()=>t.getZoomLevel(),[t]),{SnapLine:r}=vn();return r&&e.length>0?f.jsx(f.Fragment,{children:e.map(s=>f.jsx(r,{className:"tl-user-snapline",line:s,zoom:n},s.id))}):null}const hU=48;function uU(){const t=Y(),{Handles:e}=vn(),n=Q("zoomLevel",()=>t.getZoomLevel(),[t]),r=Q("coarse pointer",()=>t.getInstanceState().isCoarsePointer,[t]),s=Q("onlySelectedShape",()=>t.getOnlySelectedShape(),[t]),i=Q("isChangingStyle",()=>t.getInstanceState().isChangingStyle,[t]),o=Q("isChangingStyle",()=>t.getInstanceState().isReadonly,[t]),a=Q("handles",()=>{const d=t.getOnlySelectedShape();if(d)return t.getShapeHandles(d)},[t]),l=Q("transform",()=>{const d=t.getOnlySelectedShape();if(d)return t.getShapePageTransform(d)},[t]);if(!e||!s||i||o||!a||!l)return null;const c=[];for(let d=0,h=a[d];d<a.length;d++,h=a[d]){if(h.type!=="vertex"){const u=a[d-1],p=a[d+1];if(u&&p&&Math.hypot(u.y-p.y,u.x-p.x)<hU/n)continue}c.push(h)}return c.sort(d=>d.type==="vertex"?1:-1),f.jsx(e,{children:f.jsx("g",{transform:he.toCssString(l),children:c.map(d=>f.jsx(pU,{shapeId:s.id,handle:d,zoom:n,isCoarse:r},d.id))})})}function pU({shapeId:t,handle:e,zoom:n,isCoarse:r}){const s=LK(t,e.id),{Handle:i}=vn();return i?f.jsx("g",{"aria-label":"handle",transform:`translate(${e.x}, ${e.y})`,...s,children:f.jsx(i,{shapeId:t,handle:e,zoom:n,isCoarse:r})}):null}function fU(){const t=Y(),e=Q("rendering shapes",()=>t.getRenderingShapes(),[t]);return f.jsx(f.Fragment,{children:e.map(n=>f.jsxs(ie.Fragment,{children:[f.jsx(xI,{...n}),f.jsx(vU,{id:n.id})]},n.id+"_fragment"))})}function gU(){const t=Y(),e=Q("rendering shapes",()=>t.getRenderingShapes(),[t]);return f.jsx(f.Fragment,{children:e.map(n=>f.jsx(xI,{...n},n.id+"_shape"))})}function mU(){const t=Y(),e=Q("selectedShapeIds",()=>t.getCurrentPageState().selectedShapeIds,[t]);return Q("should display selected ids",()=>t.isInAny("select.idle","select.brushing","select.scribble_brushing","select.editing_shape","select.pointing_shape","select.pointing_selection","select.pointing_handle")&&!t.getInstanceState().isChangingStyle,[t])?f.jsx(f.Fragment,{children:e.map(r=>f.jsx(xf,{className:"tl-user-indicator__selected",id:r},r+"_indicator"))}):null}const yU=function(){const e=Y(),{HoveredShapeIndicator:n}=vn(),r=Q("coarse pointer",()=>e.getInstanceState().isCoarsePointer,[e]),s=Q("hovering canvas",()=>e.getInstanceState().isHoveringCanvas,[e]),i=Q("hovered id",()=>e.getCurrentPageState().hoveredShapeId,[e]);return r||!s||!i||!n?null:f.jsx(n,{shapeId:i})},xU=Ye(function(){const e=Y(),n=am(e.getHintingShapeIds());return n.length?f.jsx(f.Fragment,{children:n.map(r=>f.jsx(xf,{className:"tl-user-indicator__hint",id:r},r+"_hinting"))}):null});function K7(){return f.jsxs("g",{id:"cursor",children:[f.jsxs("g",{fill:"rgba(0,0,0,.2)",transform:"translate(-11,-11)",children:[f.jsx("path",{d:"m12 24.4219v-16.015l11.591 11.619h-6.781l-.411.124z"}),f.jsx("path",{d:"m21.0845 25.0962-3.605 1.535-4.682-11.089 3.686-1.553z"})]}),f.jsxs("g",{fill:"white",transform:"translate(-12,-12)",children:[f.jsx("path",{d:"m12 24.4219v-16.015l11.591 11.619h-6.781l-.411.124z"}),f.jsx("path",{d:"m21.0845 25.0962-3.605 1.535-4.682-11.089 3.686-1.553z"})]}),f.jsxs("g",{fill:"currentColor",transform:"translate(-12,-12)",children:[f.jsx("path",{d:"m19.751 24.4155-1.844.774-3.1-7.374 1.841-.775z"}),f.jsx("path",{d:"m13 10.814v11.188l2.969-2.866.428-.139h4.768z"})]})]})}function wU(){return f.jsx("path",{id:"cursor_hint",fill:"currentColor",d:"M -2,-5 2,0 -2,5 Z"})}function SU(){return f.jsx("marker",{id:"arrowhead-dot",className:"tl-arrow-hint",refX:"3.0",refY:"3.0",orient:"0",children:f.jsx("circle",{cx:"3",cy:"3",r:"2",strokeDasharray:"100%"})})}function bU(){return f.jsxs("marker",{id:"arrowhead-cross",className:"tl-arrow-hint",refX:"3.0",refY:"3.0",orient:"auto",children:[f.jsx("line",{x1:"1.5",y1:"1.5",x2:"4.5",y2:"4.5",strokeDasharray:"100%"}),f.jsx("line",{x1:"1.5",y1:"4.5",x2:"4.5",y2:"1.5",strokeDasharray:"100%"})]})}const vU=Ye(function({id:e}){const n=Y(),r=n.getShape(e),[s,i]=ie.useState(""),o=(r==null?void 0:r.parentId)===n.getCurrentPageId();return ie.useEffect(()=>{if(!o)return;let a=null;const l=pf("shape to svg",async()=>{const c=Math.random();a=c;const d=n.getShapePageBounds(e),h=await n.getSvg([e],{padding:0});h&&d&&a===c&&(h.style.setProperty("overflow","visible"),h.setAttribute("preserveAspectRatio","xMidYMin slice"),h.style.setProperty("transform",`translate(${d.x}px, ${d.y+d.h+12}px)`),h.style.setProperty("border","1px solid black"),i(h==null?void 0:h.outerHTML))});return()=>{a=null,l()}},[n,e,o]),o?f.jsx("div",{style:{paddingTop:12,position:"absolute"},children:f.jsx("div",{style:{display:"flex"},dangerouslySetInnerHTML:{__html:s}})}):null});function kU(){const t=Q("debugging ui log",()=>wt.logMessages.get(),[wt]);return t.length?f.jsx("div",{className:"debug__ui-logger",children:t.map((e,n)=>{const r=typeof e=="string"?e:JSON.stringify(e);return f.jsx("div",{className:"debug__ui-logger__line",children:r},n)})}):null}function CU(){const t=Y(),e=Q("selection rotation",()=>t.getSelectionRotation(),[t]),n=Q("selection bounds",()=>t.getSelectionRotatedPageBounds(),[t]),{SelectionForeground:r}=vn();return!n||!r?null:f.jsx(r,{bounds:n,rotation:e})}function _U(){const t=Y(),e=Q("selection rotation",()=>t.getSelectionRotation(),[t]),n=Q("selection bounds",()=>t.getSelectionRotatedPageBounds(),[t]),{SelectionBackground:r}=vn();return!n||!r?null:f.jsx(r,{bounds:n,rotation:e})}function EU(){const{OnTheCanvas:t}=vn();return t?f.jsx(t,{}):null}function IU(){const{InFrontOfTheCanvas:t}=vn();return t?f.jsx(t,{}):null}const PU=()=>f.jsx(HI,{children:"Connecting..."});function pt(){return Ha()}const wI="TLDRAW_USER_DATA_v3",SI=va({id:_o,name:_o.nullable().optional(),locale:_o.nullable().optional(),color:_o.nullable().optional(),isDarkMode:zl.nullable().optional(),animationSpeed:Sr.nullable().optional(),edgeScrollSpeed:Sr.nullable().optional(),isSnapMode:zl.nullable().optional()}),tu={AddAnimationSpeed:1,AddIsSnapMode:2,MakeFieldsNullable:3,AddEdgeScrollSpeed:4},wm=aS({currentVersion:tu.AddEdgeScrollSpeed,migrators:{[tu.AddAnimationSpeed]:{up:t=>({...t,animationSpeed:1}),down:({animationSpeed:t,...e})=>e},[tu.AddIsSnapMode]:{up:t=>({...t,isSnapMode:!1}),down:({isSnapMode:t,...e})=>e},[tu.MakeFieldsNullable]:{up:t=>t,down:t=>({id:t.id,name:t.name??Ts.name,locale:t.locale??Ts.locale,color:t.color??Ts.color,isDarkMode:t.isDarkMode??Ts.isDarkMode,animationSpeed:t.animationSpeed??Ts.animationSpeed,isSnapMode:t.isSnapMode??Ts.isSnapMode})},[tu.AddEdgeScrollSpeed]:{up:t=>({...t,edgeScrollSpeed:1}),down:({edgeScrollSpeed:t,...e})=>e}}}),W7=["#FF802B","#EC5E41","#F2555A","#F04F88","#E34BA9","#BD54C6","#9D5BD2","#7B66DC","#02B1CC","#11B3A3","#39B178","#55B467"];function zU(){return W7[Math.floor(Math.random()*W7.length)]}function AU(){var t,e;return typeof window>"u"?!1:((e=(t=window.matchMedia)==null?void 0:t.call(window,"(prefers-color-scheme: dark)"))==null?void 0:e.matches)??!1}function NU(){var t,e;return typeof window>"u"?!1:((e=(t=window.matchMedia)==null?void 0:t.call(window,"(prefers-reduced-motion: reduce)"))==null?void 0:e.matches)??!1}const Ts=Object.freeze({name:"New User",locale:nB(),color:zU(),isDarkMode:!1,edgeScrollSpeed:1,animationSpeed:NU()?0:1,isSnapMode:!1});function ug(){return{id:pt()}}function bI(t){if(t===null||typeof t!="object"||!("version"in t)||!("user"in t)||typeof t.version!="number")return ug();const e=G_({value:t.user,fromVersion:t.version,toVersion:wm.currentVersion??0,migrations:wm});if(e.type==="error")return ug();try{SI.validate(e.value)}catch{return ug()}return e.value}function TU(){var e;const t=typeof window>"u"?null:JSON.parse(((e=window==null?void 0:window.localStorage)==null?void 0:e.getItem(wI))||"null")??null;return bI(t)}const vf=hs("globalUserData",TU());function LU(){typeof window<"u"&&window.localStorage&&window.localStorage.setItem(wI,JSON.stringify({version:wm.currentVersion,user:vf.get()}))}function MU(t){SI.validate(t),vf.set(t),LU(),RU()}const jU=typeof process<"u"&&!1,Bd=typeof BroadcastChannel<"u"&&!jU?new BroadcastChannel("tldraw-user-sync"):null;Bd==null||Bd.addEventListener("message",t=>{const e=t.data;(e==null?void 0:e.type)===kI&&(e==null?void 0:e.origin)!==vI&&vf.set(bI(e.data))});const vI=pt(),kI="tldraw-user-preferences-change";function RU(){Bd==null||Bd.postMessage({type:kI,origin:vI,data:{user:vf.get(),version:wm.currentVersion}})}function $U(){return vf.get()}function CI(t={}){return{derivePresenceState:t.derivePresenceState??(()=>Qi("presence",()=>null)),userPreferences:t.userPreferences??Qi("userPreferences",()=>$U()),setUserPreferences:t.setUserPreferences??MU}}var _I={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function i(l,c,d,h,u){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new s(d,h||l,u),y=n?n+c:c;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],p]:l._events[y].push(p):(l._events[y]=p,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],d,h;if(this._eventsCount===0)return c;for(h in d=this._events)e.call(d,h)&&c.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},a.prototype.listeners=function(c){var d=n?n+c:c,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var u=0,p=h.length,y=new Array(p);u<p;u++)y[u]=h[u].fn;return y},a.prototype.listenerCount=function(c){var d=n?n+c:c,h=this._events[d];return h?h.fn?1:h.length:0},a.prototype.emit=function(c,d,h,u,p,y){var m=n?n+c:c;if(!this._events[m])return!1;var w=this._events[m],S=arguments.length,b,g;if(w.fn){switch(w.once&&this.removeListener(c,w.fn,void 0,!0),S){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,d),!0;case 3:return w.fn.call(w.context,d,h),!0;case 4:return w.fn.call(w.context,d,h,u),!0;case 5:return w.fn.call(w.context,d,h,u,p),!0;case 6:return w.fn.call(w.context,d,h,u,p,y),!0}for(g=1,b=new Array(S-1);g<S;g++)b[g-1]=arguments[g];w.fn.apply(w.context,b)}else{var x=w.length,k;for(g=0;g<x;g++)switch(w[g].once&&this.removeListener(c,w[g].fn,void 0,!0),S){case 1:w[g].fn.call(w[g].context);break;case 2:w[g].fn.call(w[g].context,d);break;case 3:w[g].fn.call(w[g].context,d,h);break;case 4:w[g].fn.call(w[g].context,d,h,u);break;default:if(!b)for(k=1,b=new Array(S-1);k<S;k++)b[k-1]=arguments[k];w[g].fn.apply(w[g].context,b)}}return!0},a.prototype.on=function(c,d,h){return i(this,c,d,h,!1)},a.prototype.once=function(c,d,h){return i(this,c,d,h,!0)},a.prototype.removeListener=function(c,d,h,u){var p=n?n+c:c;if(!this._events[p])return this;if(!d)return o(this,p),this;var y=this._events[p];if(y.fn)y.fn===d&&(!u||y.once)&&(!h||y.context===h)&&o(this,p);else{for(var m=0,w=[],S=y.length;m<S;m++)(y[m].fn!==d||u&&!y[m].once||h&&y[m].context!==h)&&w.push(y[m]);w.length?this._events[p]=w.length===1?w[0]:w:o(this,p)}return this},a.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&o(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(_I);var EI=_I.exports;function ns({children:t,className:e="",...n}){return f.jsx("svg",{...n,className:`tl-svg-container ${e}`,children:t})}let wc=class{constructor(e){this.isFilled=!1,this.isClosed=!0,this.isLabel=!1,this.isSnappable=!0,this.isFilled=e.isFilled,this.isClosed=e.isClosed,this.isSnappable=e.isSnappable??!1,this.isLabel=e.isLabel??!1}hitTestPoint(e,n=0,r=!1){return this.distanceToPoint(e,r)<=n}distanceToPoint(e,n=!1){const r=e.dist(this.nearestPoint(e));return this.isClosed&&(this.isFilled||n)&&no(e,this.vertices)?-r:r}distanceToLineSegment(e,n){const r=this.nearestPointOnLineSegment(e,n),s=I.DistanceToLineSegment(e,n,r);return this.isClosed&&this.isFilled&&no(r,this.vertices)?-s:s}hitTestLineSegment(e,n,r=0){return this.distanceToLineSegment(e,n)<=r}nearestPointOnLineSegment(e,n){let r=1/0,s;for(let i=0;i<this.vertices.length;i++){const o=this.vertices[i],a=I.DistanceToLineSegment(e,n,o);a<r&&(r=a,s=o)}if(!s)throw Error("nearest point not found");return s}isPointInBounds(e,n=0){const{bounds:r}=this;return!(e.x<r.minX-n||e.y<r.minY-n||e.x>r.maxX+n||e.y>r.maxY+n)}get vertices(){return this._vertices||(this._vertices=this.getVertices()),this._vertices}getBounds(){return fe.FromPoints(this.vertices)}get bounds(){return this._bounds||(this._bounds=this.getBounds()),this._bounds}get snapPoints(){return this._snapPoints||(this._snapPoints=this.bounds.snapPoints),this._snapPoints}get center(){return this.bounds.center}get area(){return this._area||(this._area=this.getArea()),this._area}getArea(){if(!this.isClosed)return 0;const{vertices:e}=this;let n=0;for(let r=0,s=e.length;r<s;r++){const i=e[r],o=e[(r+1)%s];n+=i.x*o.y-o.x*i.y}return n/2}toSimpleSvgPath(){let e="";const{vertices:n}=this,r=n.length;if(r===0)return e;e+=`M${n[0].x},${n[0].y}`;for(let s=1;s<r;s++)e+=`L${n[s].x},${n[s].y}`;return this.isClosed&&(e+="Z"),e}},ka=class extends wc{constructor(e){super({...e,isClosed:!0,isFilled:!1});const{children:n}=e;if(n.length===0)throw Error("Group2d must have at least one child");this.children=n}getVertices(){return this.children.filter(e=>!e.isLabel).flatMap(e=>e.vertices)}nearestPoint(e){let n=1/0,r;const{children:s}=this;if(s.length===0)throw Error("no children");for(const i of s){const o=i.nearestPoint(e),a=o.dist(e);a<n&&(n=a,r=o)}if(!r)throw Error("nearest point not found");return r}distanceToPoint(e,n=!1){return Math.min(...this.children.map((r,s)=>r.distanceToPoint(e,n||s>0)))}hitTestPoint(e,n,r){return!!this.children.filter(s=>!s.isLabel).find(s=>s.hitTestPoint(e,n,r))}hitTestLineSegment(e,n,r){return!!this.children.filter(s=>!s.isLabel).find(s=>s.hitTestLineSegment(e,n,r))}getArea(){return this.children[0].area}toSimpleSvgPath(){let e="";for(const r of this.children)e+=r.toSimpleSvgPath();const n=fe.FromPoints(this.vertices).corners;for(let r=0,s=n.length;r<s;r++){const i=n[r],o=n[(r-1+s)%s],a=i.dist(o),l=n[(r+1)%s],c=i.dist(l),d=i.clone().lrp(o,4/a),h=i,u=i.clone().lrp(l,4/c);e+=`M${d.x},${d.y} L${h.x},${h.y} L${u.x},${u.y} `}return e}};function IS(t,e,n,r){const s=t.x-n.x,i=t.y-n.y,o=r.x-n.x,a=r.y-n.y,l=e.x-t.x,c=e.y-t.y,d=o*i-a*s,h=l*i-c*s,u=a*l-o*c;if(d===0||h===0||u===0)return null;if(u!==0){const p=d/u,y=h/u;if(0<=p&&p<=1&&0<=y&&y<=1)return I.AddXY(t,p*l,p*c)}return null}function Ry(t,e,n,r){const s=(e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y),i=2*((e.x-t.x)*(t.x-n.x)+(e.y-t.y)*(t.y-n.y)),o=n.x*n.x+n.y*n.y+t.x*t.x+t.y*t.y-2*(n.x*t.x+n.y*t.y)-r*r,a=i*i-4*s*o;if(a<0||a===0)return null;const l=Math.sqrt(a),c=(-i+l)/(2*s),d=(-i-l)/(2*s);if((c<0||c>1)&&(d<0||d>1))return null;const h=[];return 0<=c&&c<=1&&h.push(I.Lrp(t,e,c)),0<=d&&d<=1&&h.push(I.Lrp(t,e,d)),h.length===0?null:h}function II(t,e,n){const r=[];let s;for(let i=0,o=n.length-1;i<o;i++)s=IS(t,e,n[i],n[i+1]),s&&r.push(s);return r.length===0?null:r}function OU(t,e,n){const r=[];let s;for(let i=1,o=n.length;i<o+1;i++)s=IS(t,e,n[i-1],n[i%n.length]),s&&r.push(s);return r.length===0?null:r}function DU(t,e,n,r){let s=n.x-t.x,i=n.y-t.y;const o=Math.sqrt(s*s+i*i),a=(o*o-r*r+e*e)/(2*o),l=Math.sqrt(e*e-a*a);return s/=o,i/=o,[new I(t.x+s*a-i*l,t.y+i*a+s*l),new I(t.x+s*a+i*l,t.y+i*a-s*l)]}function U7(t,e,n){const r=[];let s,i,o;for(let a=0,l=n.length;a<l;a++)s=n[a],i=n[(a+1)%n.length],o=Ry(s,i,t,e),o&&r.push(...o);return r.length===0?null:r}function V7(t,e,n){const r=[];let s,i,o;for(let a=1,l=n.length;a<l;a++)s=n[a-1],i=n[a],o=Ry(s,i,t,e),o&&r.push(...o);return r.length===0?null:r}function pg(t,e,n){return(n.y-t.y)*(e.x-t.x)>(e.y-t.y)*(n.x-t.x)}function PI(t,e,n,r){return pg(t,n,r)!==pg(e,n,r)&&pg(t,e,n)!==pg(t,e,r)}function Q5(t,e){const n=[];let r,s,i,o;for(let a=0,l=t.length;a<l;a++)r=t[a],no(r,e)&&n.push(r);for(let a=0,l=e.length;a<l;a++)r=e[a],no(r,t)&&n.push(r);for(let a=0,l=t.length;a<l;a++){r=t[a],s=t[(a+1)%t.length];for(let c=0,d=e.length;c<d;c++){i=e[c],o=e[(c+1)%e.length];const h=IS(r,s,i,o);h!==null&&n.push(h)}}return n.length===0?null:qU(n)}function qU(t){const e=I.Average(t);return t.sort((n,r)=>I.Angle(e,n)-I.Angle(e,r))}function BU(t,e){let n,r,s,i;for(let o=0,a=t.length;o<a;o++){n=t[o],r=t[(o+1)%a];for(let l=0,c=e.length;l<c;l++)if(s=e[l],i=e[(l+1)%c],PI(n,r,s,i))return!0}return!1}let Sm=class extends wc{constructor(e){super({...e,isClosed:!1,isFilled:!1});const{start:n,end:r}=e;this.start=n,this.end=r,this.d=n.clone().sub(r),this.u=this.d.clone().uni(),this.ul=this.u.len()}get length(){return this._length?this._length:this.d.len()}midPoint(){return this.start.lrp(this.end,.5)}getVertices(){return[this.start,this.end]}nearestPoint(e){const{start:n,end:r,u:s,ul:i}=this;if(i===0)return n;const o=I.Sub(e,n).dpr(s)/i,a=n.x+s.x*o;if(a<Math.min(n.x,r.x))return n.x<r.x?n:r;if(a>Math.max(n.x,r.x))return n.x>r.x?n:r;const l=n.y+s.y*o;return l<Math.min(n.y,r.y)?n.y<r.y?n:r:l>Math.max(n.y,r.y)?n.y>r.y?n:r:new I(a,l)}hitTestLineSegment(e,n,r){return PI(e,n,this.start,this.end)}},Sc=class extends wc{constructor(e){super({isClosed:!1,isFilled:!1,...e});const{points:n}=e;this.points=n}get segments(){if(!this._segments){this._segments=[];const{vertices:e}=this;for(let n=0,r=e.length-1;n<r;n++){const s=e[n],i=e[n+1];this._segments.push(new Sm({start:s,end:i}))}this.isClosed&&this._segments.push(new Sm({start:e[e.length-1],end:e[0]}))}return this._segments}get length(){return this._length||(this._length=this.segments.reduce((e,n)=>e+n.length,0)),this._length}getVertices(){return this.points}nearestPoint(e){const{segments:n}=this;let r=this.points[0],s=1/0,i,o;for(let a=0;a<n.length;a++)i=n[a].nearestPoint(e),o=i.dist(e),o<s&&(r=i,s=o);return r}hitTestLineSegment(e,n,r){return this.segments.some(s=>s.hitTestLineSegment(e,n,r))}},mn=class extends Sc{constructor(e){super({...e}),this.isClosed=!0}},Oo=class extends mn{constructor(e){const{x:n=0,y:r=0,width:s,height:i}=e;super({...e,points:[new I(n,r),new I(n+s,r),new I(n+s,r+i),new I(n,r+i)]}),this.x=n,this.y=r,this.w=s,this.h=i}getBounds(){return new fe(this.x,this.y,this.w,this.h)}},Xo=class{constructor(e){this.editor=e,this.canSnap=()=>!0,this.canScroll=()=>!1,this.canUnmount=()=>!0,this.canBind=(n,r)=>!0,this.canEdit=()=>!1,this.canResize=()=>!0,this.canEditInReadOnly=()=>!1,this.canCrop=()=>!1,this.hideResizeHandles=()=>!1,this.hideRotateHandle=()=>!1,this.hideSelectionBoundsBg=()=>!1,this.hideSelectionBoundsFg=()=>!1,this.isAspectRatioLocked=()=>!1}providesBackgroundForChildren(e){return!1}getOutlineSegments(e){return[this.editor.getShapeGeometry(e).vertices]}canReceiveNewChildrenOfType(e,n){return!1}canDropShapes(e,n){return!1}expandSelectionOutlinePx(e){return 0}getCanvasSvgDefs(){return[]}};function FU(t,e,n={}){const{closed:r=!1,snap:s=1,start:i="outset",end:o="outset",lengthRatio:a=2,style:l="dashed"}=n;let c=0,d=0,h=1,u=0,p=0;switch(l){case"dashed":{h=1,c=Math.min(e*a,t/4);break}case"dotted":{h=100,c=e/h;break}default:return{strokeDasharray:"none",strokeDashoffset:"none"}}return r||(i==="outset"?(t+=c/2,p+=c/2):i==="skip"&&(t-=c,p-=c),o==="outset"?t+=c/2:o==="skip"&&(t-=c)),d=Math.floor(t/c/(2*h)),d-=d%s,d<3&&l==="dashed"?t/e<5?(c=t,d=1,u=0):(c=t*.333,u=t*.333):(d=Math.max(d,3),c=t/d/(2*h),r?(p=c/2,u=(t-d*c)/d):u=(t-d*c)/Math.max(1,d-1)),{strokeDasharray:[c,u].join(" "),strokeDashoffset:p.toString()}}function X7({bounds:t,className:e}){const n=Y(),r=Q("zoom level",()=>n.getZoomLevel(),[n]);return f.jsx("g",{className:e,pointerEvents:"none",strokeLinecap:"round",strokeLinejoin:"round",children:t.sides.map((s,i)=>{const{strokeDasharray:o,strokeDashoffset:a}=FU(s[0].dist(s[1]),1/r,{style:"dashed",lengthRatio:4});return f.jsx("line",{x1:s[0].x,y1:s[0].y,x2:s[1].x,y2:s[1].y,strokeDasharray:o,strokeDashoffset:a},i)})})}let $y=class extends Xo{constructor(){super(...arguments),this.hideSelectionBoundsFg=()=>!0,this.canBind=()=>!1,this.onChildrenChange=e=>{const n=this.editor.getSortedChildIdsForParent(e.id);if(n.length===0){this.editor.getCurrentPageState().focusedGroupId===e.id&&this.editor.popFocusedGroupId(),this.editor.deleteShapes([e.id]);return}else if(n.length===1){this.editor.getCurrentPageState().focusedGroupId===e.id&&this.editor.popFocusedGroupId(),this.editor.reparentShapes(n,e.parentId),this.editor.deleteShapes([e.id]);return}}}getDefaultProps(){return{}}getGeometry(e){const n=this.editor.getSortedChildIdsForParent(e.id);return n.length===0?new Oo({width:1,height:1,isFilled:!1}):new ka({children:n.map(r=>{const s=this.editor.getShape(r),i=this.editor.getShapeGeometry(r),o=this.editor.getShapeLocalTransform(s).applyToPoints(i.vertices);return i.isClosed?new mn({points:o,isFilled:!0}):new Sc({points:o})})})}component(e){const n=this.editor.getErasingShapeIds().includes(e.id),{hintingShapeIds:r}=this.editor.getCurrentPageState(),s=r.length>0&&r.some(a=>a!==e.id&&this.editor.isShapeOfType(this.editor.getShape(a),"group")),i=this.editor.getCurrentPageState().focusedGroupId!==e.id;if(!n&&(i||s))return null;const o=this.editor.getShapeGeometry(e).bounds;return f.jsx(ns,{id:e.id,children:f.jsx(X7,{className:"tl-group",bounds:o})})}indicator(e){const n=this.editor.getShapeGeometry(e).bounds;return f.jsx(X7,{className:"",bounds:n})}};$y.type="group";$y.props=Dq;$y.migrations=qq;const zI=[$y],KU=new Set(zI.map(t=>t.type));function AI(t){const e=[...zI],n=new Set;for(const r of t){if(KU.has(r.type))throw new Error(`Shape type "${r.type}" is a core shapes type and cannot be overridden`);if(n.has(r.type))throw new Error(`Shape type "${r.type}" is defined more than once`);e.push(r),n.add(r.type)}return e}function Y7(t,e){if(!e)return!1;switch(t.type){case"mixed":return e.type==="mixed";case"shared":return e.type==="shared"&&t.value===e.value;default:throw lm(t)}}let WU=class{constructor(e){this.map=new Map(e)}get(e){return this.map.get(e)}getAsKnownValue(e){const n=this.get(e);if(n&&n.type!=="mixed")return n.value}get size(){return this.map.size}equals(e){if(this.size!==e.size)return!1;const n=new Set;for(const[r,s]of this){if(!Y7(s,e.get(r)))return!1;n.add(r)}for(const[r,s]of e)if(!n.has(r)&&!Y7(s,this.get(r)))return!1;return!0}keys(){return this.map.keys()}values(){return this.map.values()}entries(){return this.map.entries()}[Symbol.iterator](){return this.map[Symbol.iterator]()}},J5=class extends WU{set(e,n){this.map.set(e,n)}applyValue(e,n){const r=this.get(e);if(!r){this.set(e,{type:"shared",value:n});return}switch(r.type){case"mixed":return;case"shared":r.value!==n&&this.set(e,{type:"mixed"});return;default:lm(r,"type")}}},PS=class{constructor(){this.items=new WeakMap}get(e,n){return this.items.has(e)||this.items.set(e,n(e)),this.items.get(e)}access(e){return this.items.get(e)}set(e,n){this.items.set(e,n)}has(e){return this.items.has(e)}invalidate(e){this.items.delete(e)}bust(){this.items=new WeakMap}};function UU(t,e,n){return fetch(t).then(function(r){return r.arrayBuffer()}).then(function(r){return new File([r],e,{type:n})})}function VU(t,e){var s;let n=t;const r=new Set(e);for(;r.has(n);)n=(s=/^.*(\d+)$/.exec(n))!=null&&s[1]?n.replace(/(\d+)(?=\D?)$/,i=>(+i+1).toString()):`${n} 1`;return n}const cs="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",XU="a0",NI="A00000000000000000000000000";function TI(t){if(t>="a"&&t<="z")return t.charCodeAt(0)-"a".charCodeAt(0)+2;if(t>="A"&&t<="Z")return"Z".charCodeAt(0)-t.charCodeAt(0)+2;throw new Error("Invalid index key head: "+t)}function LI(t){if(t.length!==TI(t.charAt(0)))throw new Error("invalid integer part of index key: "+t)}function H7(t){if(t===void 0)throw Error("n is undefined")}function G7(t){LI(t);const[e,...n]=t.split("");let r=!0;for(let s=n.length-1;r&&s>=0;s--){const i=cs.indexOf(n[s])+1;i===cs.length?n[s]="0":(n[s]=cs.charAt(i),r=!1)}if(r){if(e==="Z")return"a0";if(e==="z")return;const s=String.fromCharCode(e.charCodeAt(0)+1);return s>"a"?n.push("0"):n.pop(),s+n.join("")}else return e+n.join("")}function YU(t){LI(t);const[e,...n]=t.split("");let r=!0;for(let s=n.length-1;r&&s>=0;s--){const i=cs.indexOf(n[s])-1;i===-1?n[s]=cs.slice(-1):(n[s]=cs.charAt(i),r=!1)}if(r){if(e==="a")return"Z"+cs.slice(-1);if(e==="A")return;const s=String.fromCharCode(e.charCodeAt(0)-1);return s<"Z"?n.push(cs.slice(-1)):n.pop(),s+n.join("")}else return e+n.join("")}function yd(t,e){if(e!==void 0&&t>=e)throw new Error(t+" >= "+e);if(t.slice(-1)==="0"||e&&e.slice(-1)==="0")throw new Error("trailing zero");if(e){let s=0;for(;(t.charAt(s)||"0")===e.charAt(s);)s++;if(s>0)return e.slice(0,s)+yd(t.slice(s),e.slice(s))}const n=t?cs.indexOf(t.charAt(0)):0,r=e!==void 0?cs.indexOf(e.charAt(0)):cs.length;if(r-n>1){const s=Math.round(.5*(n+r));return cs.charAt(s)}else return e&&e.length>1?e.slice(0,1):cs.charAt(n)+yd(t.slice(1),void 0)}function Ru(t){const e=TI(t.charAt(0));if(e>t.length)throw new Error("invalid index: "+t);return t.slice(0,e)}function Z7(t){if(t===NI)throw new Error("invalid index: "+t);const e=Ru(t);if(t.slice(e.length).slice(-1)==="0")throw new Error("invalid index: "+t)}function Uc(t,e){if(t!==void 0&&Z7(t),e!==void 0&&Z7(e),t!==void 0&&e!==void 0&&t>=e)throw new Error(t+" >= "+e);if(t===void 0&&e===void 0)return XU;if(t===void 0){if(e===void 0)throw Error("b is undefined");const a=Ru(e),l=e.slice(a.length);if(a===NI)return a+yd("",l);if(a<e)return a;const c=YU(a);return H7(c),c}if(e===void 0){const a=Ru(t),l=t.slice(a.length),c=G7(a);return c===void 0?a+yd(l,void 0):c}const n=Ru(t),r=t.slice(n.length),s=Ru(e),i=e.slice(s.length);if(n===s)return n+yd(r,i);const o=G7(n);return H7(o),o<e?o:n+yd(r,void 0)}function Ba(t,e,n){if(n===0)return[];if(n===1)return[Uc(t,e)];if(e===void 0){let i=Uc(t,e);const o=[i];for(let a=0;a<n-1;a++)i=Uc(i,e),o.push(i);return o}if(t===void 0){let i=Uc(t,e);const o=[i];for(let a=0;a<n-1;a++)i=Uc(t,i),o.push(i);return o.reverse(),o}const r=Math.floor(n/2),s=Uc(t,e);return[...Ba(t,s,r),s,...Ba(s,e,n-r-1)]}function oh(t,e,n){return Ba(t,e,n)}function j2(t,e){return Ba(t,void 0,e)}function Yu(t,e){return Ba(t,e,1)[0]}function vo(t){return Ba(t,void 0,1)[0]}function HU(t){return Ba(void 0,t,1)[0]}function MI(t,e="a1"){return[e,...Ba(e,void 0,t)]}function tr(t,e){return t.index<e.index?-1:t.index>e.index?1:0}function fg(t,e,n){if(n.length===0)return[];const r=new Map;for(const i of ke(n.map(o=>t.getShape(o)))){const{parentId:o}=i;r.has(o)||r.set(o,{children:ke(t.getSortedChildIdsForParent(o).map(a=>t.getShape(a))),moving:new Set}),r.get(o).moving.add(i)}const s=[];switch(e){case"toBack":{r.forEach(({moving:i,children:o})=>GU(i,o,s));break}case"toFront":{r.forEach(({moving:i,children:o})=>ZU(i,o,s));break}case"forward":{r.forEach(({moving:i,children:o})=>QU(i,o,s));break}case"backward":{r.forEach(({moving:i,children:o})=>JU(i,o,s));break}}return s}function GU(t,e,n){const r=e.length;if(t.size===r)return;let s,i;for(let o=0;o<r;o++){const a=e[o];if(t.has(a))s=a.index,t.delete(a);else{i=a.index;break}}if(t.size!==0){const o=oh(s,i,t.size);n.push(...Array.from(t.values()).sort(tr).map((a,l)=>({...a,index:o[l]})))}}function ZU(t,e,n){const r=e.length;if(t.size===r)return;let s,i;for(let o=r-1;o>-1;o--){const a=e[o];if(t.has(a))i=a.index,t.delete(a);else{s=a.index;break}}if(t.size!==0){const o=oh(s,i,t.size);n.push(...Array.from(t.values()).sort(tr).map((a,l)=>({...a,index:o[l]})))}}function QU(t,e,n){var i;const r=e.length;if(t.size===r)return;let s={name:"skipping"};for(let o=0;o<r;o++){const a=t.has(e[o]);switch(s.name){case"skipping":{if(!a)continue;s={name:"selecting",selectIndex:o};break}case"selecting":{if(a)continue;const{selectIndex:l}=s;oh(e[o].index,(i=e[o+1])==null?void 0:i.index,o-l).forEach((c,d)=>n.push({...e[l+d],index:c})),s={name:"skipping"};break}}}}function JU(t,e,n){var i;const r=e.length;if(t.size===r)return;let s={name:"skipping"};for(let o=r-1;o>-1;o--){const a=t.has(e[o]);switch(s.name){case"skipping":{if(!a)continue;s={name:"selecting",selectIndex:o};break}case"selecting":{if(a)continue;oh((i=e[o-1])==null?void 0:i.index,e[o].index,s.selectIndex-o).forEach((l,c)=>{n.push({...e[o+c+1],index:l})}),s={name:"skipping"};break}}}}function jI({editor:t}){const e=t.getSelectedShapes(),n=t.getSelectionRotation(),r=t.getSelectionRotatedPageBounds(),{inputs:{originPagePoint:s}}=t;if(!r)return null;const i=r.center.clone().rotWith(r.point,n);return{selectionPageCenter:i,initialCursorAngle:i.angle(s),initialSelectionRotation:n,shapeSnapshots:e.map(o=>({shape:md(o),initialPagePoint:t.getShapePageTransform(o.id).point()}))}}function _0({delta:t,editor:e,snapshot:n,stage:r}){const{selectionPageCenter:s,shapeSnapshots:i}=n;e.updateShapes(i.map(({shape:a,initialPagePoint:l})=>{const c=zs(a.parentId)?e.getShapePageTransform(a.parentId):he.Identity(),d=I.RotWith(l,s,t),h=he.applyToPoint(he.Inverse(c),d),u=hi(a.rotation+t);return{id:a.id,type:a.type,x:h.x,y:h.y,rotation:u}}));const o=[];i.forEach(({shape:a})=>{var h,u,p;const l=e.getShape(a.id);if(!l)return;const c=e.getShapeUtil(a);if(r==="start"||r==="one-off"){const y=(h=c.onRotateStart)==null?void 0:h.call(c,a);y&&o.push(y)}const d=(u=c.onRotate)==null?void 0:u.call(c,a,l);if(d&&o.push(d),r==="end"||r==="one-off"){const y=(p=c.onRotateEnd)==null?void 0:p.call(c,a,l);y&&o.push(y)}}),o.length>0&&e.updateShapes(o)}const eV=t=>{const{store:e}=t,n=e.query.filterHistory("shape"),r=e.query.records("shape",()=>({type:{eq:"arrow"}}));function s(){const i=r.get(),o={};for(const a of i){const{start:l,end:c}=a.props;if(l.type==="binding"){const d=o[l.boundShapeId];d?d.push({arrowId:a.id,handleId:"start"}):o[l.boundShapeId]=[{arrowId:a.id,handleId:"start"}]}if(c.type==="binding"){const d=o[c.boundShapeId];d?d.push({arrowId:a.id,handleId:"end"}):o[c.boundShapeId]=[{arrowId:a.id,handleId:"end"}]}}return o}return Qi("arrowBindingsIndex",(i,o)=>{if(nS(i))return s();const a=i,l=n.getDiffSince(o);if(l===Ki)return s();let c;function d(p){c||(c={...a}),c[p]?c[p]===a[p]&&(c[p]=[...c[p]]):c[p]=[]}function h(p,y,m){d(p),c[p]=c[p].filter(w=>w.arrowId!==y||w.handleId!==m),c[p].length===0&&delete c[p]}function u(p,y,m){d(p),c[p].push({arrowId:y,handleId:m})}for(const p of l){for(const y of Object.values(p.added))if(t.isShapeOfType(y,"arrow")){const{start:m,end:w}=y.props;m.type==="binding"&&u(m.boundShapeId,y.id,"start"),w.type==="binding"&&u(w.boundShapeId,y.id,"end")}for(const[y,m]of Object.values(p.updated))if(!(!t.isShapeOfType(y,"arrow")||!t.isShapeOfType(m,"arrow")))for(const w of["start","end"]){const S=y.props[w],b=m.props[w];S.type==="binding"&&b.type==="point"?h(S.boundShapeId,y.id,w):S.type==="point"&&b.type==="binding"?u(b.boundShapeId,m.id,w):S.type==="binding"&&b.type==="binding"&&S.boundShapeId!==b.boundShapeId&&(h(S.boundShapeId,y.id,w),u(b.boundShapeId,m.id,w))}for(const y of Object.values(p.removed))if(t.isShapeOfType(y,"arrow")){const{start:m,end:w}=y.props;m.type==="binding"&&h(m.boundShapeId,y.id,"start"),w.type==="binding"&&h(w.boundShapeId,y.id,"end")}}return c??a})},tV=t=>{const e=t.query.ids("shape");function n(){const r={},s=e.get(),i=Array(s.size);return s.forEach(o=>i.push(t.get(o))),i.sort(tr),i.forEach(o=>{r[o.parentId]||(r[o.parentId]=[]),r[o.parentId].push(o.id)}),r}return Qi("parentsToChildrenWithIndexes",(r,s)=>{if(nS(r))return n();const i=t.history.getDiffSince(s);if(i===Ki)return n();if(i.length===0)return r;let o=null;const a=d=>{o||(o={...r}),o[d]?o[d]===r[d]&&(o[d]=[...o[d]]):o[d]=[]},l=new Set;let c;for(let d=0,h=i.length;d<h;d++){c=i[d];for(const u of Object.values(c.added))$l(u)&&(a(u.parentId),o[u.parentId].push(u.id),l.add(o[u.parentId]));for(const[u,p]of Object.values(c.updated))if($l(p)&&$l(u)){if(u.parentId!==p.parentId)a(u.parentId),a(p.parentId),o[u.parentId].splice(o[u.parentId].indexOf(p.id),1),o[p.parentId].push(p.id),l.add(o[p.parentId]);else if(u.index!==p.index){a(p.parentId);const y=o[p.parentId].indexOf(p.id);o[p.parentId][y]=p.id,l.add(o[p.parentId])}}for(const u of Object.values(c.removed))$l(u)&&(a(u.parentId),o[u.parentId].splice(o[u.parentId].indexOf(u.id),1))}for(const d of l){const h=ke(d.map(u=>t.get(u)));h.sort(tr),d.splice(0,d.length,...h.map(u=>u.id))}return o??r})},R2=(t,e,n)=>{for(;!zr(n.parentId);){const r=t.get(n.parentId);if(!r)return!1;n=r}return n.parentId===e},nV=(t,e)=>{const n=t.query.ids("shape");let r=null;function s(){const i=e();return r=i,new Set([...n.get()].filter(o=>R2(t,i,t.get(o))))}return Qi("_shapeIdsInCurrentPage",(i,o)=>{if(nS(i))return s();const a=e();if(a!==r)return s();const l=t.history.getDiffSince(o);if(l===Ki)return s();const c=new b0(i);for(const h of l){for(const u of Object.values(h.added))$l(u)&&R2(t,a,u)&&c.add(u.id);for(const[u,p]of Object.values(h.updated))$l(p)&&(R2(t,a,p)?c.add(p.id):c.remove(p.id));for(const u of Object.keys(h.removed))zs(u)&&c.remove(u)}const d=c.get();return d?_O(d.value,d.diff):i})},rV=40;let sV=class{constructor(e){this.editor=e,this._clickId="",this._getClickTimeout=(n,r=pt())=>{this._clickId=r,clearTimeout(this._clickTimeout),this._clickTimeout=setTimeout(()=>{if(this._clickState===n&&this._clickId===r){switch(this._clickState){case"pendingTriple":{this.editor.dispatch({...this.lastPointerInfo,type:"click",name:"double_click",phase:"settle"});break}case"pendingQuadruple":{this.editor.dispatch({...this.lastPointerInfo,type:"click",name:"triple_click",phase:"settle"});break}case"pendingOverflow":{this.editor.dispatch({...this.lastPointerInfo,type:"click",name:"quadruple_click",phase:"settle"});break}}this._clickState="idle"}},n==="idle"||n==="pendingDouble"?cF:dF)},this._clickState="idle",this.lastPointerInfo={},this.transformPointerDownEvent=n=>{if(!this._clickState)return n;switch(this._clickScreenPoint=I.From(n.point),this._previousScreenPoint&&this._previousScreenPoint.dist(this._clickScreenPoint)>rV&&(this._clickState="idle"),this._previousScreenPoint=this._clickScreenPoint,this.lastPointerInfo=n,this._clickState){case"idle":return this._clickState="pendingDouble",this._clickTimeout=this._getClickTimeout(this._clickState),n;case"pendingDouble":return this._clickState="pendingTriple",this._clickTimeout=this._getClickTimeout(this._clickState),{...n,type:"click",name:"double_click",phase:"down"};case"pendingTriple":return this._clickState="pendingQuadruple",this._clickTimeout=this._getClickTimeout(this._clickState),{...n,type:"click",name:"triple_click",phase:"down"};case"pendingQuadruple":return this._clickState="pendingOverflow",this._clickTimeout=this._getClickTimeout(this._clickState),{...n,type:"click",name:"quadruple_click",phase:"down"};case"pendingOverflow":return this._clickState="overflow",this._clickTimeout=this._getClickTimeout(this._clickState),n;default:return this._clickTimeout=this._getClickTimeout(this._clickState),n}},this.transformPointerUpEvent=n=>{if(!this._clickState)return n;switch(this._clickScreenPoint=I.From(n.point),this._clickState){case"pendingTriple":return{...this.lastPointerInfo,type:"click",name:"double_click",phase:"up"};case"pendingQuadruple":return{...this.lastPointerInfo,type:"click",name:"triple_click",phase:"up"};case"pendingOverflow":return{...this.lastPointerInfo,type:"click",name:"quadruple_click",phase:"up"};default:return n}},this.cancelDoubleClickTimeout=()=>{this._clickTimeout=clearTimeout(this._clickTimeout),this._clickState="idle"},this.handleMove=()=>{this._clickState!=="idle"&&this._clickScreenPoint&&this._clickScreenPoint.dist(this.editor.inputs.currentScreenPoint)>(this.editor.getInstanceState().isCoarsePointer?H5:bp)&&this.cancelDoubleClickTimeout()}}get clickState(){return this._clickState}},iV=class{constructor(e){this.editor=e,typeof window<"u"&&"navigator"in window?(this.isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),this.isIos=!!navigator.userAgent.match(/iPad/i)||!!navigator.userAgent.match(/iPhone/i),this.isChromeForIos=/crios.*safari/i.test(navigator.userAgent),this.isFirefox=/firefox/i.test(navigator.userAgent),this.isAndroid=/android/i.test(navigator.userAgent)):(this.isSafari=!1,this.isIos=!1,this.isChromeForIos=!1,this.isFirefox=!1,this.isAndroid=!1)}};function kl(t){if(t){let e=Q7;for(;t.length;)e=e.push(t.pop());return e}return Q7}let oV=class{constructor(){this.length=0,this.head=null,this.tail=this}push(e){return new aV(e,this)}toArray(){return Aa}[Symbol.iterator](){return{next(){return{value:void 0,done:!0}}}}};const Q7=new oV;let aV=class RI{constructor(e,n){this.head=e,this.tail=n,this.length=n.length+1}push(e){return new RI(e,this)}toArray(){return Array.from(this)}[Symbol.iterator](){let e=this;return{next(){if(e.length){const n=e.head;return e=e.tail,{value:n,done:!1}}else return{value:void 0,done:!0}}}}},lV=class{constructor(e,n){this.ctx=e,this.annotateError=n,this._undos=hs("HistoryManager.undos",kl()),this._redos=hs("HistoryManager.redos",kl()),this._batchDepth=0,this.onBatchComplete=()=>{},this._commands={},this.createCommand=(r,s,i)=>{if(this._commands[r])throw new Error(`Duplicate command: ${r}`);this._commands[r]=i;const o=(...a)=>{if(!this._batchDepth)return this.batch(()=>o(...a)),this.ctx;const l=s(...a);if(!l)return this.ctx;const{data:c,ephemeral:d,squashing:h,preservesRedoStack:u}=l;if(this.ignoringUpdates((p,y)=>(i.do(c),{undos:p,redos:y})),!d){const p=this._undos.get().head;h&&p&&p.type==="command"&&p.name===r&&p.preservesRedoStack===u?this._undos.update(y=>y.tail.push({...p,id:pt(),data:i.squash(p.data,c)})):this._undos.update(y=>y.push({type:"command",name:r,data:c,id:pt(),preservesRedoStack:u})),l.preservesRedoStack||this._redos.set(kl()),this.ctx.emit("change-history",{reason:"push"})}return this.ctx};return o},this.batch=r=>{try{this._batchDepth++,this._batchDepth===1?fp(()=>{var i,o;const s=(i=this._undos.get().head)==null?void 0:i.id;r(),s!==((o=this._undos.get().head)==null?void 0:o.id)&&this.onBatchComplete()}):r()}catch(s){throw this.annotateError(s),s}finally{this._batchDepth--}return this},this.ignoringUpdates=r=>{let s=this._undos.get(),i=this._redos.get();this._undos.set(kl()),this._redos.set(kl());try{({undos:s,redos:i}=fp(()=>r(s,i)))}finally{this._undos.set(s),this._redos.set(i)}},this._undo=({pushToRedoStack:r,toMark:s=void 0})=>(this.ignoringUpdates((i,o)=>{var a;if(i.length===0)return{undos:i,redos:o};for(;((a=i.head)==null?void 0:a.type)==="STOP";){const l=i.head;if(i=i.tail,r&&(o=o.push(l)),l.id===s)return this.ctx.emit("change-history",r?{reason:"undo"}:{reason:"bail",markId:s}),{undos:i,redos:o}}if(i.length===0)return this.ctx.emit("change-history",r?{reason:"undo"}:{reason:"bail",markId:s}),{undos:i,redos:o};for(;i.head;){const l=i.head;if(i=i.tail,r&&(o=o.push(l)),l.type==="STOP"){if(l.onUndo&&(!s||l.id===s))return this.ctx.emit("change-history",r?{reason:"undo"}:{reason:"bail",markId:s}),{undos:i,redos:o}}else this._commands[l.name].undo(l.data)}return this.ctx.emit("change-history",r?{reason:"undo"}:{reason:"bail",markId:s}),{undos:i,redos:o}}),this),this.undo=()=>(this._undo({pushToRedoStack:!0}),this),this.redo=()=>(this.ignoringUpdates((r,s)=>{var i;if(s.length===0)return{undos:r,redos:s};for(;((i=s.head)==null?void 0:i.type)==="STOP";)r=r.push(s.head),s=s.tail;if(s.length===0)return this.ctx.emit("change-history",{reason:"redo"}),{undos:r,redos:s};for(;s.head;){const o=s.head;if(r=r.push(s.head),s=s.tail,o.type==="STOP"){if(o.onRedo)break}else{const a=this._commands[o.name];a.redo?a.redo(o.data):a.do(o.data)}}return this.ctx.emit("change-history",{reason:"redo"}),{undos:r,redos:s}}),this),this.bail=()=>(this._undo({pushToRedoStack:!1}),this),this.bailToMark=r=>(this._undo({pushToRedoStack:!1,toMark:r}),this),this.mark=(r=pt(),s=!0,i=!0)=>{const o=this._undos.get().head;return o&&o.type==="STOP"&&o.id===r&&o.onUndo===s&&o.onRedo===i?o.id:(this._undos.update(a=>a.push({type:"STOP",id:r,onUndo:s,onRedo:i})),this.ctx.emit("mark-history",{id:r}),r)}}getNumUndos(){return this._undos.get().length}getNumRedos(){return this._redos.get().length}clear(){this._undos.set(kl()),this._redos.set(kl())}},cV=class{constructor(e){this.editor=e,this.scribbleItems=new Map,this.state="paused",this.addScribble=(n,r=pt())=>{const s={id:r,scribble:{id:r,size:20,color:"accent",opacity:.8,delay:0,points:[],shrink:.1,taper:!0,...n,state:"starting"},timeoutMs:0,delayRemaining:n.delay??0,prev:null,next:null};return this.scribbleItems.set(r,s),this.state==="paused"&&this.resume(),s},this.stop=n=>{const r=this.scribbleItems.get(n);if(!r)throw Error(`Scribble with id ${n} not found`);return r.delayRemaining=Math.min(r.delayRemaining,200),r.scribble.state="stopping",r},this.addPoint=(n,r,s)=>{const i=this.scribbleItems.get(n);if(!i)throw Error(`Scribble with id ${n} not found`);const{prev:o}=i,a={x:r,y:s,z:.5};return(!o||I.Dist(o,a)>=1)&&(i.next=a),i},this.tick=n=>{this.editor.batch(()=>{this.scribbleItems.forEach(r=>{if(r.scribble.state==="starting"){const{next:c,prev:d}=r;c&&c!==d&&(r.prev=c,r.scribble.points.push(c)),r.scribble.points.length>8&&(r.scribble.state="active");return}r.delayRemaining>0&&(r.delayRemaining=Math.max(0,r.delayRemaining-n)),r.timeoutMs+=n,r.timeoutMs>=16&&(r.timeoutMs=0);const{delayRemaining:s,timeoutMs:i,prev:o,next:a,scribble:l}=r;switch(l.state){case"active":{a&&a!==o?(r.prev=a,l.points.push(a),s===0&&l.points.length>8&&l.points.shift()):i===0&&(l.points.length>1?l.points.shift():r.delayRemaining=l.delay);break}case"stopping":{if(r.delayRemaining===0&&i===0){if(l.points.length===1){this.scribbleItems.delete(r.id);return}l.shrink&&(l.size=Math.max(1,l.size*(1-l.shrink))),l.points.shift()}break}}}),this.editor.updateInstanceState({scribbles:Array.from(this.scribbleItems.values()).map(({scribble:r})=>({...r,points:[...r.points]})).slice(-5)}),this.scribbleItems.size===0&&this.pause()})}}resume(){this.state="running",this.editor.addListener("tick",this.tick)}pause(){this.editor.removeListener("tick",this.tick),this.state="paused"}reset(){this.editor.updateInstanceState({scribbles:[]}),this.scribbleItems.clear(),this.pause()}},dV=class{constructor(e){this.editor=e,this._beforeCreateHandlers={},this._afterCreateHandlers={},this._beforeChangeHandlers={},this._afterChangeHandlers={},this._beforeDeleteHandlers={},this._afterDeleteHandlers={},this._batchCompleteHandlers=[],e.store.onBeforeCreate=(r,s)=>{const i=this._beforeCreateHandlers[r.typeName];if(i){let o=r;for(const a of i)o=a(o,s);return o}return r},e.store.onAfterCreate=(r,s)=>{const i=this._afterCreateHandlers[r.typeName];if(i)for(const o of i)o(r,s)},e.store.onBeforeChange=(r,s,i)=>{const o=this._beforeChangeHandlers[s.typeName];if(o){let a=s;for(const l of o)a=l(r,a,i);return a}return s};let n=0;e.store.onAfterChange=(r,s,i)=>{if(n++,n>1e3)console.error("[CleanupManager.onAfterChange] Maximum update depth exceeded, bailing out.");else{const o=this._afterChangeHandlers[s.typeName];if(o)for(const a of o)a(r,s,i)}n--},e.store.onBeforeDelete=(r,s)=>{const i=this._beforeDeleteHandlers[r.typeName];if(i){for(const o of i)if(o(r,s)===!1)return!1}},e.store.onAfterDelete=(r,s)=>{const i=this._afterDeleteHandlers[r.typeName];if(i)for(const o of i)o(r,s)},e.history.onBatchComplete=()=>{this._batchCompleteHandlers.forEach(r=>r())}}registerBeforeCreateHandler(e,n){return this._beforeCreateHandlers[e]||(this._beforeCreateHandlers[e]=[]),this._beforeCreateHandlers[e].push(n),()=>Cl(this._beforeCreateHandlers[e],n)}registerAfterCreateHandler(e,n){return this._afterCreateHandlers[e]||(this._afterCreateHandlers[e]=[]),this._afterCreateHandlers[e].push(n),()=>Cl(this._afterCreateHandlers[e],n)}registerBeforeChangeHandler(e,n){return this._beforeChangeHandlers[e]||(this._beforeChangeHandlers[e]=[]),this._beforeChangeHandlers[e].push(n),()=>Cl(this._beforeChangeHandlers[e],n)}registerAfterChangeHandler(e,n){return this._afterChangeHandlers[e]||(this._afterChangeHandlers[e]=[]),this._afterChangeHandlers[e].push(n),()=>Cl(this._afterChangeHandlers[e],n)}registerBeforeDeleteHandler(e,n){return this._beforeDeleteHandlers[e]||(this._beforeDeleteHandlers[e]=[]),this._beforeDeleteHandlers[e].push(n),()=>Cl(this._beforeDeleteHandlers[e],n)}registerAfterDeleteHandler(e,n){return this._afterDeleteHandlers[e]||(this._afterDeleteHandlers[e]=[]),this._afterDeleteHandlers[e].push(n),()=>Cl(this._afterDeleteHandlers[e],n)}registerBatchCompleteHandler(e){return this._batchCompleteHandlers.push(e),()=>Cl(this._batchCompleteHandlers,e)}};function Cl(t,e){const n=t.indexOf(e);n>=0&&t.splice(n,1)}const we=t=>Math.round(t*10**8)/10**8;function yo(t,e,n,r,s){const i=t.filter(a=>(r==="forward"?a.startNode.id===e:a.endNode.id===e)&&we(a.length)===we(n)&&Js(a.breadthIntersection[0],a.breadthIntersection[1],s[0],s[1]));if(i.length===0)return[];const o=new Set;return i.forEach(a=>{const l=r==="forward"?a.endNode.id:a.startNode.id;if(!o.has(l)){o.add(l);const c=yo(t,l,n,r,Js(a.breadthIntersection[0],a.breadthIntersection[1],s[0],s[1]));i.push(...c)}}),i}function hV(t){t.sort((e,n)=>n.gaps.length-e.gaps.length);for(let e=t.length-1;e>0;e--){const n=t[e];for(let r=e-1;r>=0;r--){const s=t[r];if(s.direction===n.direction&&n.gaps.every(i=>s.gaps.some(o=>we(i.startEdge[0].x)===we(o.startEdge[0].x)&&we(i.startEdge[0].y)===we(o.startEdge[0].y)&&we(i.startEdge[1].x)===we(o.startEdge[1].x)&&we(i.startEdge[1].y)===we(o.startEdge[1].y))&&s.gaps.some(o=>we(i.endEdge[0].x)===we(o.endEdge[0].x)&&we(i.endEdge[0].y)===we(o.endEdge[0].y)&&we(i.endEdge[1].x)===we(o.endEdge[1].x)&&we(i.endEdge[1].y)===we(o.endEdge[1].y)))){t.splice(e,1);break}}}}let uV=class{constructor(e){this.editor=e,this._snapLines=hs("snapLines",void 0)}getLines(){return this._snapLines.get()??Aa}clear(){this.getLines().length&&this._snapLines.set(void 0)}setLines(e){this._snapLines.set(e)}getSnapPointsCache(){const{editor:e}=this;return e.store.createComputedCache("snapPoints",n=>{const r=e.getShapePageTransform(n.id);return r?this.editor.getShapeGeometry(n).snapPoints.map((i,o)=>{const{x:a,y:l}=he.applyToPoint(r,i);return{x:a,y:l,id:`${n.id}:${o}`}}):void 0})}getSnapThreshold(){return 8/this.editor.getZoomLevel()}getSnappableShapes(){const{editor:e}=this,n=e.getRenderingBounds(),r=e.getSelectedShapeIds(),s=[],i=o=>{const a=e.getSortedChildIdsForParent(o);for(const l of a){if(r.includes(l))continue;const c=e.getShape(l);if(!c||!e.getShapeUtil(c).canSnap(c))continue;const h=e.getShapePageBounds(l);if(h&&n.includes(h)){if(e.isShapeOfType(c,"group")){i(l);continue}s.push({id:l,pageBounds:h,isClosed:e.getShapeGeometry(c).isClosed})}}};return i(this.getCurrentCommonAncestor()??e.getCurrentPageId()),s}getCurrentCommonAncestor(){return this.editor.findCommonAncestor(this.editor.getSelectedShapes())}getSnappablePoints(){const e=this.getSnapPointsCache(),n=this.getSnappableShapes(),r=[];return n.forEach(s=>{const i=e.get(s.id);i&&r.push(...i)}),r}getVisibleGaps(){const e=[],n=[];let r,s;const i=this.getSnappableShapes().sort((a,l)=>a.pageBounds.minX-l.pageBounds.minX);for(let a=0;a<i.length;a++){r=i[a];for(let l=a+1;l<i.length;l++)s=i[l],r.pageBounds.maxX<s.pageBounds.minX&&Jh(r.pageBounds.minY,r.pageBounds.maxY,s.pageBounds.minY,s.pageBounds.maxY)&&e.push({startNode:r,endNode:s,startEdge:[new I(r.pageBounds.maxX,r.pageBounds.minY),new I(r.pageBounds.maxX,r.pageBounds.maxY)],endEdge:[new I(s.pageBounds.minX,s.pageBounds.minY),new I(s.pageBounds.minX,s.pageBounds.maxY)],length:s.pageBounds.minX-r.pageBounds.maxX,breadthIntersection:Js(r.pageBounds.minY,r.pageBounds.maxY,s.pageBounds.minY,s.pageBounds.maxY)})}const o=i.sort((a,l)=>a.pageBounds.minY-l.pageBounds.minY);for(let a=0;a<o.length;a++){r=o[a];for(let l=a+1;l<o.length;l++)s=o[l],r.pageBounds.maxY<s.pageBounds.minY&&Jh(r.pageBounds.minX,r.pageBounds.maxX,s.pageBounds.minX,s.pageBounds.maxX)&&n.push({startNode:r,endNode:s,startEdge:[new I(r.pageBounds.minX,r.pageBounds.maxY),new I(r.pageBounds.maxX,r.pageBounds.maxY)],endEdge:[new I(s.pageBounds.minX,s.pageBounds.minY),new I(s.pageBounds.maxX,s.pageBounds.minY)],length:s.pageBounds.minY-r.pageBounds.maxY,breadthIntersection:Js(r.pageBounds.minX,r.pageBounds.maxX,s.pageBounds.minX,s.pageBounds.maxX)})}return{horizontal:e,vertical:n}}snapTranslate({lockedAxis:e,initialSelectionPageBounds:n,initialSelectionSnapPoints:r,dragDelta:s}){var w,S;const i=this.getSnapThreshold(),o=this.getSnappablePoints(),a=n.clone().translate(s),l=r.map(({x:b,y:g},x)=>({id:"selection:"+x,x:b+s.x,y:g+s.y})),c=o,d=[],h=[],u=new I(i,i);this.collectPointSnaps({minOffset:u,nearestSnapsX:d,nearestSnapsY:h,otherNodeSnapPoints:c,selectionSnapPoints:l}),this.collectGapSnaps({selectionPageBounds:a,nearestSnapsX:d,nearestSnapsY:h,minOffset:u});const p=new I(e==="x"?0:((w=d[0])==null?void 0:w.nudge)??0,e==="y"?0:((S=h[0])==null?void 0:S.nudge)??0);u.x=0,u.y=0,d.length=0,h.length=0,l.forEach(b=>{b.x+=p.x,b.y+=p.y}),a.translate(p),this.collectPointSnaps({minOffset:u,nearestSnapsX:d,nearestSnapsY:h,otherNodeSnapPoints:c,selectionSnapPoints:l}),this.collectGapSnaps({selectionPageBounds:a,nearestSnapsX:d,nearestSnapsY:h,minOffset:u});const y=this.getPointSnapLines({nearestSnapsX:d,nearestSnapsY:h}),m=this.getGapSnapLines({selectionPageBounds:a,nearestSnapsX:d,nearestSnapsY:h});return this._snapLines.set([...m,...y]),{nudge:p}}getOutlinesInPageSpace(){return this.getSnappableShapes().map(({id:e,isClosed:n})=>{const r=jr(this.editor.getShapeGeometry(e).vertices);n&&r.push(r[0]);const s=this.editor.getShapePageTransform(e);if(!s)throw Error("No page transform");return he.applyToPoints(s,r)})}getSnappingHandleDelta({handlePoint:e,additionalSegments:n}){const r=this.getSnapThreshold(),s=this.getOutlinesInPageSpace();let i=r,o=null,a,l,c,d;const h=[...s,...n];for(const u of h)for(let p=0;p<u.length-1;p++)a=u[p],l=u[p+1],c=I.NearestPointOnLineSegment(a,l,e),d=I.Dist(e,c),!isNaN(d)&&d<i&&(i=d,o=c);return o?(this._snapLines.set([{id:pt(),type:"points",points:[o]}]),I.Sub(o,e)):null}snapResize({initialSelectionPageBounds:e,dragDelta:n,handle:r,isAspectRatioLocked:s,isResizingFromCenter:i}){var _,E;const o=this.getSnapThreshold(),{box:a,scaleX:l,scaleY:c}=fe.Resize(e,r,i?n.x*2:n.x,i?n.y*2:n.y,s);let d=r;l<0&&(d=WB(d)),c<0&&(d=KB(d)),i&&(a.center=e.center);const h=d==="top"||d==="bottom",u=d==="left"||d==="right",p=J7(d,a),y=this.getSnappablePoints(),m=[],w=[],S=new I(o,o);this.collectPointSnaps({minOffset:S,nearestSnapsX:m,nearestSnapsY:w,otherNodeSnapPoints:y,selectionSnapPoints:p});const b=new I(h?0:((_=m[0])==null?void 0:_.nudge)??0,u?0:((E=w[0])==null?void 0:E.nudge)??0);if(s&&UB(d)&&b.len()!==0){const z=m.length&&w.length?Math.abs(b.x)<Math.abs(b.y)?"x":"y":m.length?"x":"y",P=e.aspectRatio;z==="x"?(w.length=0,b.y=b.x/P,(d==="bottom_left"||d==="top_right")&&(b.y=-b.y)):(m.length=0,b.x=b.y*P,(d==="bottom_left"||d==="top_right")&&(b.x=-b.x))}const g=I.Add(n,b),{box:x}=fe.Resize(e,r,i?g.x*2:g.x,i?g.y*2:g.y,s);i&&(x.center=e.center);const k=J7("any",x);m.length=0,w.length=0,S.x=0,S.y=0,this.collectPointSnaps({minOffset:S,nearestSnapsX:m,nearestSnapsY:w,otherNodeSnapPoints:y,selectionSnapPoints:k});const C=this.getPointSnapLines({nearestSnapsX:m,nearestSnapsY:w});return this._snapLines.set([...C]),{nudge:b}}collectPointSnaps({selectionSnapPoints:e,otherNodeSnapPoints:n,minOffset:r,nearestSnapsX:s,nearestSnapsY:i}){for(const o of e)for(const a of n){const l=I.Sub(o,a),c=Math.abs(l.x),d=Math.abs(l.y);we(c)<=we(r.x)&&(we(c)<we(r.x)&&(s.length=0),s.push({type:"points",points:{thisPoint:o,otherPoint:a},nudge:a.x-o.x}),r.x=c),we(d)<=we(r.y)&&(we(d)<we(r.y)&&(i.length=0),i.push({type:"points",points:{thisPoint:o,otherPoint:a},nudge:a.y-o.y}),r.y=d)}}collectGapSnaps({selectionPageBounds:e,minOffset:n,nearestSnapsX:r,nearestSnapsY:s}){const{horizontal:i,vertical:o}=this.getVisibleGaps();for(const a of i){if(!Jh(a.breadthIntersection[0],a.breadthIntersection[1],e.minY,e.maxY))continue;const c=a.startEdge[0].x+a.length/2-e.center.x;if(a.length>e.width&&we(Math.abs(c))<=we(n.x)){we(Math.abs(c))<we(n.x)&&(r.length=0),n.x=Math.abs(c);const S={type:"gap_center",gap:a,nudge:c},b=r.find(({type:x})=>x==="gap_center"),g=b&&Js(a.breadthIntersection[0],a.breadthIntersection[1],b.gap.breadthIntersection[0],b.gap.breadthIntersection[1]);b&&b.gap.length>a.length&&g?r[r.indexOf(b)]=S:(!b||!g)&&r.push(S)}const h=a.startNode.pageBounds.minX-a.length,u=e.maxX,p=h-u;we(Math.abs(p))<=we(n.x)&&(we(Math.abs(p))<we(n.x)&&(r.length=0),n.x=Math.abs(p),r.push({type:"gap_duplicate",gap:a,protrusionDirection:"left",nudge:p}));const y=a.endNode.pageBounds.maxX+a.length,m=e.minX,w=y-m;we(Math.abs(w))<=we(n.x)&&(we(Math.abs(w))<we(n.x)&&(r.length=0),n.x=Math.abs(w),r.push({type:"gap_duplicate",gap:a,protrusionDirection:"right",nudge:w}))}for(const a of o){if(!Jh(a.breadthIntersection[0],a.breadthIntersection[1],e.minX,e.maxX))continue;const c=a.startEdge[0].y+a.length/2-e.center.y;if(a.length>e.height&&we(Math.abs(c))<=we(n.y)){we(Math.abs(c))<we(n.y)&&(s.length=0),n.y=Math.abs(c);const S={type:"gap_center",gap:a,nudge:c},b=s.find(({type:x})=>x==="gap_center"),g=b&&Jh(b.gap.breadthIntersection[0],b.gap.breadthIntersection[1],a.breadthIntersection[0],a.breadthIntersection[1]);b&&b.gap.length>a.length&&g?s[s.indexOf(b)]=S:(!b||!g)&&s.push(S);continue}const h=a.startNode.pageBounds.minY-a.length,u=e.maxY,p=h-u;we(Math.abs(p))<=we(n.y)&&(we(Math.abs(p))<we(n.y)&&(s.length=0),n.y=Math.abs(p),s.push({type:"gap_duplicate",gap:a,protrusionDirection:"top",nudge:p}));const y=a.endNode.pageBounds.maxY+a.length,m=e.minY,w=y-m;we(Math.abs(w))<=we(n.y)&&(we(Math.abs(w))<we(n.y)&&(s.length=0),n.y=Math.abs(w),s.push({type:"gap_duplicate",gap:a,protrusionDirection:"bottom",nudge:w}))}}getPointSnapLines({nearestSnapsX:e,nearestSnapsY:n}){const r={},s={};if(e.length>0){for(const i of e)if(i.type==="points"){const o=we(i.points.otherPoint.x);r[o]||(r[o]=[]),r[o].push(i.points)}}if(n.length>0){for(const i of n)if(i.type==="points"){const o=we(i.points.otherPoint.y);s[o]||(s[o]=[]),s[o].push(i.points)}}return Object.values(r).concat(Object.values(s)).map(i=>({id:pt(),type:"points",points:am(i.map(o=>I.From(o.otherPoint)).concat(i.map(o=>I.From(o.thisPoint))),(o,a)=>o.equals(a))}))}getGapSnapLines({selectionPageBounds:e,nearestSnapsX:n,nearestSnapsY:r}){const{vertical:s,horizontal:i}=this.getVisibleGaps(),o={top:e.sides[0],right:e.sides[1],bottom:[e.corners[3],e.corners[2]],left:[e.corners[0],e.corners[3]]},a=[];if(n.length>0)for(const l of n){if(l.type==="points")continue;const{gap:{breadthIntersection:c,startEdge:d,startNode:h,endNode:u,length:p,endEdge:y}}=l;switch(l.type){case"gap_center":{const m=(p-e.width)/2,w=Js(c[0],c[1],e.minY,e.maxY);a.push({type:"gaps",direction:"horizontal",id:pt(),gaps:[...yo(i,h.id,m,"backward",w),{startEdge:d,endEdge:o.left},{startEdge:o.right,endEdge:y},...yo(i,u.id,m,"forward",w)]});break}case"gap_duplicate":{const m=Js(c[0],c[1],e.minY,e.maxY);a.push({type:"gaps",direction:"horizontal",id:pt(),gaps:l.protrusionDirection==="left"?[{startEdge:o.right,endEdge:d.map(w=>w.clone().addXY(-h.pageBounds.width,0))},{startEdge:d,endEdge:y},...yo(i,u.id,p,"forward",m)]:[...yo(i,h.id,p,"backward",m),{startEdge:d,endEdge:y},{startEdge:y.map(w=>w.clone().addXY(l.gap.endNode.pageBounds.width,0)),endEdge:o.left}]});break}}}if(r.length>0)for(const l of r){if(l.type==="points")continue;const{gap:{breadthIntersection:c,startEdge:d,startNode:h,endNode:u,length:p,endEdge:y}}=l;switch(l.type){case"gap_center":{const m=(p-e.height)/2,w=Js(c[0],c[1],e.minX,e.maxX);a.push({type:"gaps",direction:"vertical",id:pt(),gaps:[...yo(s,h.id,m,"backward",w),{startEdge:d,endEdge:o.top},{startEdge:o.bottom,endEdge:y},...yo(s,l.gap.endNode.id,m,"forward",w)]});break}case"gap_duplicate":{const m=Js(c[0],c[1],e.minX,e.maxX);a.push({type:"gaps",direction:"vertical",id:pt(),gaps:l.protrusionDirection==="top"?[{startEdge:o.bottom,endEdge:d.map(w=>w.clone().addXY(0,-h.pageBounds.height))},{startEdge:d,endEdge:y},...yo(s,u.id,p,"forward",m)]:[...yo(s,h.id,p,"backward",m),{startEdge:d,endEdge:y},{startEdge:y.map(w=>w.clone().addXY(0,u.pageBounds.height)),endEdge:o.top}]})}break}}return hV(a),a}};function J7(t,e){const{minX:n,maxX:r,minY:s,maxY:i}=e,o=[];switch(t){case"top":case"left":case"top_left":case"any":o.push({id:"top_left",handle:"top_left",x:n,y:s})}switch(t){case"top":case"right":case"top_right":case"any":o.push({id:"top_right",handle:"top_right",x:r,y:s})}switch(t){case"bottom":case"right":case"bottom_right":case"any":o.push({id:"bottom_right",handle:"bottom_right",x:r,y:i})}switch(t){case"bottom":case"left":case"bottom_left":case"any":o.push({id:"bottom_left",handle:"bottom_left",x:n,y:i})}return o}const pV=/\r?\n|\r/g;function ev(t){return t.replace(pV,`
`).split(`
`).map(e=>e||" ").join(`
`)}const fV={start:"left","start-legacy":"left",middle:"center","middle-legacy":"center",end:"right","end-legacy":"right"},gV=/\s/;let mV=class{constructor(e){this.editor=e,this.measureText=(n,r)=>{const s=this.getTextElement();s.setAttribute("dir","ltr"),s.style.setProperty("font-family",r.fontFamily),s.style.setProperty("font-style",r.fontStyle),s.style.setProperty("font-weight",r.fontWeight),s.style.setProperty("font-size",r.fontSize+"px"),s.style.setProperty("line-height",r.lineHeight*r.fontSize+"px"),s.style.setProperty("max-width",r.maxWidth===null?null:r.maxWidth+"px"),s.style.setProperty("min-width",r.minWidth??null),s.style.setProperty("padding",r.padding),s.textContent=ev(n);const i=s.getBoundingClientRect();return{x:0,y:0,w:i.width,h:i.height}}}getTextElement(){const e=document.querySelector(".tl-text-measure");e==null||e.remove();const n=document.createElement("div");return this.editor.getContainer().appendChild(n),n.id=`__textMeasure_${pt()}`,n.classList.add("tl-text"),n.classList.add("tl-text-measure"),n.tabIndex=-1,n}measureElementTextNodeSpans(e,{shouldTruncateToFirstLine:n=!1}={}){const r=[],s=e.getBoundingClientRect(),i=-s.left,o=-s.top,a=new Range,l=e.childNodes[0];let c=0,d=null,h=null,u=0,p=!1;for(const y of e.childNodes)if(y.nodeType===Node.TEXT_NODE)for(const m of y.textContent??""){a.setStart(l,c),a.setEnd(l,c+m.length);const w=a.getClientRects(),S=w[w.length-1],b=S.top+o,g=S.left+i,x=S.right+i,k=gV.test(m);if(k!==h||b!==u||!d){if(d){if(n&&b!==u){p=!0;break}r.push(d)}d={box:{x:g,y:b,w:S.width,h:S.height},text:m}}else d.box.w=x-d.box.x,d.text+=m;h=k,u=b,c+=m.length}return d&&r.push(d),{spans:r,didTruncate:p}}measureTextSpans(e,n){if(e==="")return[];const r=n.overflow==="truncate-ellipsis"||n.overflow==="truncate-clip",s=this.getTextElement(),i=Math.ceil(n.width-n.padding*2);s.style.setProperty("width",`${i}px`),s.style.setProperty("height","min-content"),s.style.setProperty("dir","ltr"),s.style.setProperty("font-size",`${n.fontSize}px`),s.style.setProperty("font-family",n.fontFamily),s.style.setProperty("font-weight",n.fontWeight),s.style.setProperty("line-height",`${n.lineHeight*n.fontSize}px`),s.style.setProperty("text-align",fV[n.textAlign]),r&&(s.style.setProperty("overflow-wrap","anywhere"),s.style.setProperty("word-break","break-all")),e=ev(e),s.textContent=e;const{spans:o,didTruncate:a}=this.measureElementTextNodeSpans(s,{shouldTruncateToFirstLine:r});if(n.overflow==="truncate-ellipsis"&&a){s.textContent="";const l=Math.ceil(this.measureElementTextNodeSpans(s).spans[0].box.w);s.style.setProperty("width",`${i-l}px`),s.textContent=e;const c=this.measureElementTextNodeSpans(s,{shouldTruncateToFirstLine:!0}).spans,d=c[c.length-1];return c.push({text:"",box:{x:Math.min(d.box.x+d.box.w,n.width-n.padding-l),y:d.box.y,w:l,h:d.box.h}}),c}return s.remove(),o}},yV=class{constructor(e){this.editor=e,this.isPaused=!0,this.last=0,this.t=0,this.start=()=>{this.isPaused=!1,cancelAnimationFrame(this.raf),this.raf=requestAnimationFrame(this.tick),this.last=Date.now()},this.tick=()=>{if(this.isPaused)return;const n=Date.now(),r=n-this.last;if(this.last=n,this.t+=r,this.editor.emit("frame",r),this.t<16){this.raf=requestAnimationFrame(this.tick);return}this.t-=16,this.updatePointerVelocity(r),this.editor.emit("tick",r),this.raf=requestAnimationFrame(this.tick)},this.dispose=()=>{this.isPaused=!0,cancelAnimationFrame(this.raf)},this.prevPoint=new I,this.updatePointerVelocity=n=>{const{prevPoint:r,editor:{inputs:{currentScreenPoint:s,pointerVelocity:i}}}=this;if(n===0)return;const o=I.Sub(s,r);this.prevPoint=s.clone();const a=o.len(),l=a?o.div(a):new I(0,0),c=i.clone().lrp(l.mul(a/n),.5);Math.abs(c.x)<.01&&(c.x=0),Math.abs(c.y)<.01&&(c.y=0),i.equals(c)||(this.editor.inputs.pointerVelocity=c)},this.editor.disposables.add(this.dispose),this.start()}},xV=class{constructor(e,n){this.user=e,this.inferDarkMode=n,this.updateUserPreferences=r=>{this.user.setUserPreferences({...this.user.userPreferences.get(),...r})}}getUserPreferences(){return{id:this.getId(),name:this.getName(),locale:this.getLocale(),color:this.getColor(),isDarkMode:this.getIsDarkMode(),animationSpeed:this.getAnimationSpeed(),isSnapMode:this.getIsSnapMode()}}getIsDarkMode(){return this.user.userPreferences.get().isDarkMode??(this.inferDarkMode?AU():!1)}getEdgeScrollSpeed(){return this.user.userPreferences.get().edgeScrollSpeed??Ts.edgeScrollSpeed}getAnimationSpeed(){return this.user.userPreferences.get().animationSpeed??Ts.animationSpeed}getId(){return this.user.userPreferences.get().id}getName(){return this.user.userPreferences.get().name??Ts.name}getLocale(){return this.user.userPreferences.get().locale??Ts.locale}getColor(){return this.user.userPreferences.get().color??Ts.color}getIsSnapMode(){return this.user.userPreferences.get().isSnapMode??Ts.isSnapMode}};function nu(t){return Math.abs(t.props.bend)<8}function bm(t,e){if(e.type==="point")return;const n=t.getShape(e.boundShapeId),r=t.getShapePageTransform(n),s=t.getShapeGeometry(n),i=s instanceof ka?s.children[0].vertices:s.vertices;return{shape:n,transform:r,isClosed:s.isClosed,isExact:e.isExact,didIntersect:!1,outline:i}}function tv(t,e,n,r){if(n.type==="point")return I.From(n);const s=t.getShape(n.boundShapeId);if(s){const{point:i,size:o}=t.getShapeGeometry(s).bounds,a=I.Add(i,I.MulV(n.isPrecise||r?n.normalizedAnchor:{x:.5,y:.5},o)),l=he.applyToPoint(t.getShapePageTransform(s),a);return he.applyToPoint(he.Inverse(e),l)}else return new I(0,0)}function oi(t,e){const n=t.getShapePageTransform(e);let r,s;e.props.start.type==="binding"&&e.props.end.type==="binding"&&(r=e.props.start.boundShapeId,s=e.props.end.boundShapeId);const i=zS(t,r,s),o=tv(t,n,e.props.start,i==="double-bound"||i==="start-contains-end"),a=tv(t,n,e.props.end,i==="double-bound"||i==="end-contains-start");return{start:o,end:a}}const xd=10,vm=10,wV=10,Ca={s:2,m:3.5,l:5,xl:10};function zS(t,e,n){if(!e||!n)return"safe";if(e===n)return"double-bound";const r=t.getShapePageBounds(e),s=t.getShapePageBounds(n);if(r&&s){if(r.contains(s))return"start-contains-end";if(s.contains(r))return"end-contains-start"}return"safe"}function Hu(t,e){const{start:n,end:r,arrowheadStart:s,arrowheadEnd:i}=e.props,o=oi(t,e),a=o.start.clone(),l=o.end.clone(),c=I.Med(a,l);if(I.Equals(a,l))return{isStraight:!0,start:{handle:a,point:a,arrowhead:e.props.arrowheadStart},end:{handle:l,point:l,arrowhead:e.props.arrowheadEnd},middle:c,isValid:!1,length:0};const d=I.Sub(l,a).uni(),h=bm(t,n),u=bm(t,r),p=t.getShapePageTransform(e);nv(l,o.start,p,u),nv(a,o.end,p,h);let y=0,m=0,w=0,S=0,b=xd;const g=h&&u&&h.shape===u.shape,x=h&&u?zS(t,h.shape.id,u.shape.id):"safe";x==="safe"&&h&&u&&!g&&!h.isExact&&!u.isExact&&(u.didIntersect&&!h.didIntersect?h.isClosed&&a.setTo(l.clone().add(d.clone().mul(xd))):u.didIntersect||u.isClosed&&l.setTo(a.clone().sub(d.clone().mul(xd))));const k=I.Sub(l,a).uni(),C=!I.Equals(k,d);g||(x!=="start-contains-end"&&h&&s!=="none"&&!h.isExact&&(w=Ca[e.props.size]/2+("size"in h.shape.props?Ca[h.shape.props.size]/2:0),y=vm+w,b+=w),x!=="end-contains-start"&&u&&i!=="none"&&!u.isExact&&(S=Ca[e.props.size]/2+("size"in u.shape.props?Ca[u.shape.props.size]/2:0),m=vm+S,b+=S));const _=a.clone().add(k.clone().mul(y*(C?-1:1))),E=l.clone().sub(k.clone().mul(m*(C?-1:1)));I.Dist(_,E)<b&&(y!==0&&m!==0?(y*=-1.5,m*=-1.5):y!==0?y*=-1:m!==0&&(m*=-1)),a.add(k.clone().mul(y*(C?-1:1))),l.sub(k.clone().mul(m*(C?-1:1))),C?(h&&u&&l.setTo(I.Add(a,k.clone().mul(-xd))),c.setTo(I.Med(o.start,o.end))):c.setTo(I.Med(a,l));const P=I.Dist(a,l);return{isStraight:!0,start:{handle:o.start,point:a,arrowhead:e.props.arrowheadStart},end:{handle:o.end,point:l,arrowhead:e.props.arrowheadEnd},middle:c,isValid:P>0,length:P}}function nv(t,e,n,r){if(r===void 0||r.isExact)return;const s=he.applyToPoint(n,e),i=he.applyToPoint(n,t),o=he.applyToPoint(he.Inverse(r.transform),s),a=he.applyToPoint(he.Inverse(r.transform),i),l=r.isClosed,d=(l?OU:II)(o,a,r.outline);let h;if(d!==null&&(h=d.sort((y,m)=>I.Dist(y,o)-I.Dist(m,o))[0]??(l?void 0:a)),h===void 0)return;const u=he.applyToPoint(r.transform,h),p=he.applyToPoint(he.Inverse(n),u);t.setTo(p),r.didIntersect=!0}function SV(t){return $I(t.start.handle,t.end.handle)}function $2(t){return $I(t.start.point,t.end.point)}function $I(t,e){return`M${t.x},${t.y}L${e.x},${e.y}`}function O2(t,e,n=0){const{arrowheadEnd:r,arrowheadStart:s}=e.props,i=e.props.bend+n;if(Math.abs(i)>Math.abs(e.props.bend*wV))return Hu(t,e);const o=oi(t,e),a=I.Med(o.start,o.end),l=I.Sub(o.end,o.start).uni(),c=I.Add(a,l.per().mul(-i)),d=bm(t,e.props.start),h=bm(t,e.props.end),u=o.start.clone(),p=o.end.clone(),y=c.clone();if(I.Equals(u,p))return{isStraight:!0,start:{handle:u,point:u,arrowhead:e.props.arrowheadStart},end:{handle:p,point:p,arrowhead:e.props.arrowheadEnd},middle:y,isValid:!1,length:0};const m=e.props.bend<0,w=m?Ty:XB,S=rv(u,p,y),b=I.Angle(S.center,u),g=I.Angle(S.center,p),x=w(b,g);if(S.length===0||S.size===0||!v7(S.length)||!v7(S.size))return Hu(t,e);const k=u.clone(),C=p.clone(),_=y.clone(),E=t.getShapePageTransform(e);let z=0,P=0,A=xd;if(d&&!d.isExact){const W=he.applyToPoint(E,k),G=he.applyToPoint(E,S.center),J=he.applyToPoint(E,C),ye=he.Inverse(d.transform),Le=he.applyToPoint(ye,W),ne=he.applyToPoint(ye,G),ve=he.applyToPoint(ye,J),{isClosed:Ie}=d,rt=Ie?U7:V7;let Pe,$e=rt(ne,S.radius,d.outline);if($e){const Ce=ne.angle(Le),Je=ne.angle(ve),Ct=w(Ce,Je);$e=$e.filter(Ke=>w(Ce,ne.angle(Ke))<=Ct);const Jt=Ct*.25;$e.sort(Ie?(Ke,He)=>Math.abs(w(Ce,ne.angle(Ke))-Jt)<Math.abs(w(Ce,ne.angle(He))-Jt)?-1:1:(Ke,He)=>w(Ce,ne.angle(Ke))<w(Ce,ne.angle(He))?-1:1),Pe=$e[0]??(Ie?void 0:Le)}else Pe=Ie?void 0:Le;if(Pe&&(k.setTo(t.getPointInShapeSpace(e,he.applyToPoint(d.transform,Pe))),d.didIntersect=!0,s!=="none")){const Ce=Ca[e.props.size]/2+("size"in d.shape.props?Ca[d.shape.props.size]/2:0);z=vm+Ce,A+=Ce}}if(h&&!h.isExact){const W=he.applyToPoint(E,k),G=he.applyToPoint(E,C),J=he.applyToPoint(E,S.center),ye=he.Inverse(h.transform),Le=he.applyToPoint(ye,W),ne=he.applyToPoint(ye,J),ve=he.applyToPoint(ye,G),Ie=h.isClosed,rt=Ie?U7:V7;let Pe,$e=rt(ne,S.radius,h.outline);if($e){const Ce=ne.angle(Le),Je=ne.angle(ve),Ct=w(Ce,Je),Jt=Ct*.75;$e=$e.filter(Ke=>w(Ce,ne.angle(Ke))<=Ct),$e.sort(Ie?(Ke,He)=>Math.abs(w(Ce,ne.angle(Ke))-Jt)<Math.abs(w(Ce,ne.angle(He))-Jt)?-1:1:(Ke,He)=>w(Ce,ne.angle(Ke))<w(Ce,ne.angle(He))?-1:1),$e[0]?Pe=$e[0]:Pe=Ie?void 0:ve}else Pe=Ie?void 0:ve;if(Pe&&(C.setTo(t.getPointInShapeSpace(e,he.applyToPoint(h.transform,Pe))),h.didIntersect=!0,r!=="none")){const Ce=Ca[e.props.size]/2+("size"in h.shape.props?Ca[h.shape.props.size]/2:0);P=vm+Ce,A+=Ce}}let N=I.Angle(S.center,k),L=I.Angle(S.center,C),M=w(N,L),q=M*S.radius;const D=k.clone(),X=C.clone();if(z!==0){const W=z/q*(m?1:-1),G=I.FromAngle(N+M*W);D.setTo(S.center).add(G.mul(S.radius))}if(P!==0){const W=P/q*(m?-1:1),G=I.FromAngle(L+M*W);X.setTo(S.center).add(G.mul(S.radius))}if(I.Dist(D,X)<A&&(z!==0&&P!==0?(z*=-1.5,P*=-1.5):z!==0?z*=-2:P!==0&&(P*=-2)),z!==0){const W=z/q*(m?1:-1),G=I.FromAngle(N+M*W);k.setTo(S.center).add(G.mul(S.radius))}if(P!==0){const W=P/q*(m?-1:1),G=I.FromAngle(L+M*W);C.setTo(S.center).add(G.mul(S.radius))}if(d&&h&&!d.isExact&&!h.isExact){N=I.Angle(S.center,k),L=I.Angle(S.center,C),M=w(N,L),q=M*S.radius;const W=zS(t,d.shape.id,h.shape.id);if(W==="double-bound"&&q<30)k.setTo(u),C.setTo(p),_.setTo(y);else if(W==="safe"&&(d&&!d.didIntersect&&k.setTo(u),h&&!h.didIntersect||w(b,N)>w(b,L))){const G=Math.min(.9,xd/q)*(m?1:-1),J=I.FromAngle(N+M*G);C.setTo(S.center).add(J.mul(S.radius))}}vV(S.center,S.radius,k,C,_,x,m),k.equals(C)&&(k.setTo(_.clone().addXY(1,1)),C.setTo(_.clone().subXY(1,1))),u.setTo(k),p.setTo(C),y.setTo(_);const K=rv(u,p,y);return{isStraight:!1,start:{point:u,handle:o.start,arrowhead:e.props.arrowheadStart},end:{point:p,handle:o.end,arrowhead:e.props.arrowheadEnd},middle:y,handleArc:S,bodyArc:K,isValid:K.length!==0&&isFinite(K.center.x)&&isFinite(K.center.y)}}function bV(t){const{start:e,end:n,handleArc:{radius:r,largeArcFlag:s,sweepFlag:i}}=t;return`M${e.handle.x},${e.handle.y} A${r} ${r} 0 ${s} ${i} ${n.handle.x},${n.handle.y}`}function D2(t){const{start:e,end:n,bodyArc:{radius:r,largeArcFlag:s,sweepFlag:i}}=t;return`M${e.point.x},${e.point.y} A${r} ${r} 0 ${s} ${i} ${n.point.x},${n.point.y}`}function rv(t,e,n){const r=-2*(t.x*(e.y-n.y)-t.y*(e.x-n.x)+e.x*n.y-n.x*e.y),s={x:((t.x*t.x+t.y*t.y)*(n.y-e.y)+(e.x*e.x+e.y*e.y)*(t.y-n.y)+(n.x*n.x+n.y*n.y)*(e.y-t.y))/r,y:((t.x*t.x+t.y*t.y)*(e.x-n.x)+(e.x*e.x+e.y*e.y)*(n.x-t.x)+(n.x*n.x+n.y*n.y)*(t.x-e.x))/r},i=I.Dist(s,t),o=+I.Clockwise(t,n,e),a=Math.hypot(t.y-e.y,t.x-e.x),l=Math.hypot(e.y-n.y,e.x-n.x),c=Math.hypot(n.y-t.y,n.x-t.x),d=Math.acos((l*l+c*c-a*a)/(2*l*c))*2,h=+(et>d),u=(nt-d)*(o?1:-1),p=u*i;return{center:s,radius:i,size:u,length:p,largeArcFlag:h,sweepFlag:o}}function vV(t,e,n,r,s,i,o){const a=I.Angle(t,n),l=I.Angle(t,r);let c=Ty(a,l);o||(c=nt-c);const d=.5*(o?1:-1),h=I.FromAngle(a+c*d);if(s.setTo(t).add(h.mul(e)),c>i){s.rotWith(t,et);const u=r.clone();r.setTo(n),n.setTo(u)}}const kV={wheel:"onWheel",pointer_down:"onPointerDown",pointer_move:"onPointerMove",pointer_up:"onPointerUp",right_click:"onRightClick",middle_click:"onMiddleClick",key_down:"onKeyDown",key_up:"onKeyUp",key_repeat:"onKeyRepeat",cancel:"onCancel",complete:"onComplete",interrupt:"onInterrupt",double_click:"onDoubleClick",triple_click:"onTripleClick",quadruple_click:"onQuadrupleClick"};let ae=class{constructor(e,n){this.editor=e,this.transition=(o,a={})=>{var d;const l=o.split(".");let c=this;for(let h=0;h<l.length;h++){const u=l[h],p=c.getCurrent(),y=(d=c.children)==null?void 0:d[u];if(!y)throw Error(`${c.id} - no child state exists with the id ${u}.`);if((p==null?void 0:p.id)!==y.id&&(p==null||p.exit(a,u),c._current.set(y),y.enter(a,(p==null?void 0:p.id)||"initial"),!y.getIsActive()))break;c=y}return this},this.handleEvent=o=>{var c;const a=kV[o.name],l=this.getCurrent();(c=this[a])==null||c.call(this,o),this.getCurrent()===l&&this.getIsActive()&&(l==null||l.handleEvent(o))},this.enter=(o,a)=>{var l;if(this._isActive.set(!0),(l=this.onEnter)==null||l.call(this,o,a),this.onTick&&this.editor.on("tick",this.onTick),this.children&&this.initial&&this.getIsActive()){const c=this.children[this.initial];this._current.set(c),c.enter(o,a)}},this.exit=(o,a)=>{var l,c;this._isActive.set(!1),this.onTick&&this.editor.off("tick",this.onTick),(l=this.onExit)==null||l.call(this,o,a),this.getIsActive()||(c=this.getCurrent())==null||c.exit(o,a)},this._currentToolIdMask=hs("curent tool id mask",void 0);const{id:r,children:s,initial:i}=this.constructor;this.id=r,this._isActive=hs("toolIsActive"+this.id,!1),this._current=hs("toolState"+this.id,void 0),this._path=Qi("toolPath"+this.id,()=>{const o=this.getCurrent();return this.id+(o?`.${o.getPath()}`:"")}),this.parent=n??{},this.parent?s&&i?(this.type="branch",this.initial=i,this.children=Object.fromEntries(s().map(o=>[o.id,new o(this.editor,this)])),this._current.set(this.children[this.initial])):this.type="leaf":(this.type="root",s&&i&&(this.initial=i,this.children=Object.fromEntries(s().map(o=>[o.id,new o(this.editor,this)])),this._current.set(this.children[this.initial])))}getPath(){return this._path.get()}getCurrent(){return this._current.get()}getIsActive(){return this._isActive.get()}getCurrentToolIdMask(){return this._currentToolIdMask.get()}setCurrentToolIdMask(e){this._currentToolIdMask.set(e)}},Oy=class extends ae{constructor(){super(...arguments),this.onKeyDown=e=>{var n;switch(e.code){case"KeyZ":{if(!(e.shiftKey||e.ctrlKey)){const r=this.getCurrent();r&&((n=r.getCurrent())==null?void 0:n.id)==="idle"&&this.children.zoom&&this.editor.setCurrentTool("zoom",{...e,onInteractionEnd:r.id})}break}}}}};Oy.id="root";Oy.initial="";Oy.children=()=>[];let CV=class extends EI.EventEmitter{constructor({store:e,user:n,shapeUtils:r,tools:s,getContainer:i,initialState:o,inferDarkMode:a}){super(),this.disposables=new Set,this._tickManager=new yV(this),this.history=new lV(this,g=>{this.annotateError(g,{origin:"history.batch",willCrashApp:!0}),this.crash(g)}),this._crashingError=null,this._updateInstanceState=this.history.createCommand("updateInstanceState",(g,x)=>{const k=this.store.get(this.getInstanceState().id),C={...k,...g};return{data:{prev:k,next:C},ephemeral:!1,squashing:!1,...x}},{do:({next:g})=>{this.store.put([g])},undo:({prev:g})=>{this.store.put([g])},squash({prev:g},{next:x}){return{prev:g,next:x}}}),this._isChangingStyleTimeout=-1,this.setCursor=g=>(this.updateInstanceState({cursor:{...this.getInstanceState().cursor,...g}},{ephemeral:!0}),this),this._setInstancePageState=this.history.createCommand("setInstancePageState",(g,x)=>({data:{prev:this.store.get(g.id??this.getCurrentPageState().id),partial:g},...x}),{do:({prev:g,partial:x})=>{this.store.update(g.id,k=>({...k,...x}))},undo:({prev:g})=>{this.store.update(g.id,()=>g)}}),this._setSelectedShapes=this.history.createCommand("setSelectedShapes",(g,x)=>{const{selectedShapeIds:k}=this.getCurrentPageState(),C=new Set(k);return g.length===C.size&&g.every(_=>C.has(_))?null:{data:{selectedShapeIds:g,prevSelectedShapeIds:k},preservesRedoStack:!0,...x}},{do:({selectedShapeIds:g})=>{this.store.put([{...this.getCurrentPageState(),selectedShapeIds:g}])},undo:({prevSelectedShapeIds:g})=>{this.store.put([{...this.getCurrentPageState(),selectedShapeIds:g}])},squash({prevSelectedShapeIds:g},{selectedShapeIds:x}){return{selectedShapeIds:x,prevSelectedShapeIds:g}}}),this._setFocusedGroupId=this.history.createCommand("setFocusedGroupId",g=>{const x=this.getCurrentPageState().focusedGroupId;if(x!==g)return{data:{prev:x,next:g},preservesRedoStack:!0,squashing:!0}},{do:({next:g})=>{this.store.update(this.getCurrentPageState().id,x=>({...x,focusedGroupId:g}))},undo:({prev:g})=>{this.store.update(this.getCurrentPageState().id,x=>({...x,focusedGroupId:g}))},squash({prev:g},{next:x}){return{prev:g,next:x}}}),this._cameraOptions=hs("camera options",rF),this._viewportAnimation=null,this._willSetInitialBounds=!0,this._cameraState=hs("camera state","idle"),this._cameraStateTimeoutRemaining=0,this._lastUpdateRenderingBoundsTimestamp=Date.now(),this._decayCameraStateTimeout=g=>{this._cameraStateTimeoutRemaining-=g,this._cameraStateTimeoutRemaining<=0&&(this.off("tick",this._decayCameraStateTimeout),this._cameraState.set("idle"),this.updateRenderingBounds())},this._tickCameraState=()=>{this._cameraStateTimeoutRemaining=gF;const g=Date.now();this._cameraState.__unsafe__getWithoutCapture()==="idle"?(this._lastUpdateRenderingBoundsTimestamp=g,this._cameraState.set("moving"),this.on("tick",this._decayCameraStateTimeout)):g-this._lastUpdateRenderingBoundsTimestamp>mF&&this.updateRenderingBounds()},this._renderingBounds=hs("rendering viewport",new fe),this._renderingBoundsExpanded=hs("rendering viewport expanded",new fe),this.renderingBoundsMargin=100,this._setCurrentPageId=this.history.createCommand("setCurrentPage",(g,x)=>{if(!this.store.has(g)){console.error("Tried to set the current page id to a page that doesn't exist.");return}return this.stopFollowingUser(),{data:{toId:g,fromId:this.getCurrentPageId()},squashing:!0,preservesRedoStack:!0,...x}},{do:({toId:g})=>{if(this.store.has(g)){if(!this.getPageStates().find(x=>x.pageId===g)){const x=Zn.create({id:Zn.createId(g)});this.store.put([x,Qn.create({id:Qn.createId(g),pageId:g})])}this.store.put([{...this.getInstanceState(),currentPageId:g}]),this.updateRenderingBounds()}},undo:({fromId:g})=>{this.store.has(g)&&(this.store.put([{...this.getInstanceState(),currentPageId:g}]),this.updateRenderingBounds())},squash:({fromId:g},{toId:x})=>({toId:x,fromId:g})}),this._updatePage=this.history.createCommand("updatePage",(g,x)=>{if(this.getInstanceState().isReadonly)return null;const k=this.getPage(g.id);return k?{data:{prev:k,partial:g},...x}:null},{do:({partial:g})=>{this.store.update(g.id,x=>({...x,...g}))},undo:({prev:g,partial:x})=>{this.store.update(x.id,()=>g)},squash(g,x){return{prev:{...g.prev,...x.prev},partial:x.partial}}}),this._createPage=this.history.createCommand("createPage",g=>{if(this.getInstanceState().isReadonly||this.getPages().length>=fm)return null;const x=this.getPages(),k=VU(g.name??"Page 1",x.map(P=>P.name));let C=g.index;(!C||x.some(P=>P.index===C))&&(C=vo(x[x.length-1].index));const _=$o.create({meta:{},...g,name:k,index:C}),E=Zn.create({id:Zn.createId(_.id)}),z=Qn.create({id:Qn.createId(_.id),pageId:_.id});return{data:{newPage:_,newTabPageState:z,newCamera:E}}},{do:({newPage:g,newTabPageState:x,newCamera:k})=>{this.store.put([g,k,x])},undo:({newPage:g,newTabPageState:x,newCamera:k})=>{this.getPages().length!==1&&this.store.remove([x.id,g.id,k.id])}}),this._deletePage=this.history.createCommand("delete_page",g=>{if(this.getInstanceState().isReadonly)return null;const x=this.getPages();if(x.length===1)return null;const k=this.getPage(g),C=this.getPageStates().filter(_=>_.pageId===g);if(!k)return null;if(g===this.getCurrentPageId()){const _=x.findIndex(z=>z.id===g),E=x[_-1]??x[_+1];this.setCurrentPage(E.id)}return{data:{id:g,deletedPage:k,deletedPageStates:C}}},{do:({deletedPage:g,deletedPageStates:x})=>{const k=this.getPages();if(k.length!==1){if(g.id===this.getCurrentPageId()){const C=k.findIndex(E=>E.id===g.id),_=k[C-1]??k[C+1];this.setCurrentPage(_.id)}this.store.remove(x.map(C=>C.id)),this.store.remove([g.id]),this.updateRenderingBounds()}},undo:({deletedPage:g,deletedPageStates:x})=>{this.store.put([g]),this.store.put(x),this.updateRenderingBounds()}}),this._createAssets=this.history.createCommand("createAssets",g=>this.getInstanceState().isReadonly||g.length<=0?null:{data:{assets:g}},{do:({assets:g})=>{this.store.put(g)},undo:({assets:g})=>{this.store.remove(g.map(x=>x.id))}}),this._updateAssets=this.history.createCommand("updateAssets",g=>this.getInstanceState().isReadonly||g.length<=0?void 0:{data:{snapshots:{},assets:g}},{do:({assets:g,snapshots:x})=>{this.store.put(g.map(k=>{const C=this.store.get(k.id);return x[k.id]=C,{...C,...k}}))},undo:({snapshots:g})=>{this.store.put(Object.values(g))}}),this._deleteAssets=this.history.createCommand("deleteAssets",g=>{if(this.getInstanceState().isReadonly||g.length<=0)return;const x=ke(g.map(k=>this.store.get(k)));return{data:{ids:g,prev:x}}},{do:({ids:g})=>{this.store.remove(g)},undo:({prev:g})=>{this.store.put(g)}}),this._childIdsCache=new PS,this._createShapes=this.history.createCommand("createShapes",g=>{if(this.getInstanceState().isReadonly||g.length<=0)return null;const x=this.getCurrentPageShapeIds();if(g.length+x.size>mo){gg(this);return}return g.length===0?null:{data:{currentPageId:this.getCurrentPageId(),partials:g.map(C=>C.id?C:{...C,id:at()})}}},{do:({partials:g})=>{var E,z;const x=this.getFocusedGroupId(),k=this.getCurrentPageShapesSorted();g=g.map(P=>{if(!P.parentId||!(this.store.has(P.parentId)||g.some(A=>A.id===P.parentId))){let A=this.getFocusedGroupId();for(let L=k.length-1;L>=0;L--){const M=k[L];if(this.getShapeUtil(M).canReceiveNewChildrenOfType(M,P.type)&&this.isPointInShape(M,{x:P.x??0,y:P.y??0},{margin:0,hitInside:!0})){A=M.id;break}}const N=P.parentId;if(A===P.id&&(A=x),A!==N&&(P={...P},P.parentId=A,zs(A))){const L=this.getPointInShapeSpace(this.getShape(A),{x:P.x??0,y:P.y??0});P.x=L.x,P.y=L.y,P.rotation=-this.getShapePageTransform(A).rotation()+(P.rotation??0)}}return P});const C=new Map,_=[];for(const P of g){const A=this.getShapeUtil(P);let N=P.index;if(!N){const D=P.parentId??x;C.has(D)||C.set(D,this.getHighestIndexForParent(D)),N=C.get(D),C.set(D,vo(N))}const L=A.getDefaultProps();for(const[D,X]of this.styleProps[P.type])L[X]=this.getStyleForNextShape(D);let M=this.store.schema.types.shape.create({...P,index:N,opacity:P.opacity??this.getInstanceState().opacityForNextShape,parentId:P.parentId??x,props:"props"in P?{...L,...P.props}:L});if(M.index===void 0)throw Error("no index!");const q=(z=(E=this.getShapeUtil(M)).onBeforeCreate)==null?void 0:z.call(E,M);q&&(M=q),_.push(M)}_.forEach(P=>{P.meta={...this.getInitialMetaForShape(P),...P.meta}}),this.store.put(_)},undo:({partials:g})=>{this.store.remove(g.map(x=>x.id))}}),this.animatingShapes=new Map,this._updateShapes=this.history.createCommand("updateShapes",(g,x)=>{if(this.getInstanceState().isReadonly)return null;const k=ke(g),C=Object.fromEntries(ke(k.map(({id:z})=>this.getShape(z))).map(z=>[z.id,z]));if(k.length<=0)return null;const _=ke(k.map(z=>{const P=C[z.id];if(!P)return null;let A=null;for(const[N,L]of Object.entries(z))if(L!==void 0)switch(N){case"id":case"type":continue;default:if(L!==P[N])if(A||(A={...P}),N==="props"){const M={...P.props};for(const[q,D]of Object.entries(L))D!==void 0&&(M[q]=D);A.props=M}else if(N==="meta"){const M={...P.meta};for(const[q,D]of Object.entries(L))D!==void 0&&(M[q]=D);A.meta=M}else A[N]=L}return A??P})),E=Object.fromEntries(_.map(z=>[z.id,z]));return{data:{snapshots:C,updates:E},...x}},{do:({updates:g})=>{var k,C;const x=Object.values(g);for(let _=0;_<x.length;_++){const E=x[_],z=this.store.get(E.id);if(!z)continue;const P=(C=(k=this.getShapeUtil(E)).onBeforeUpdate)==null?void 0:C.call(k,z,E);P&&(x[_]=P)}this.store.put(x)},undo:({snapshots:g})=>{this.store.put(Object.values(g))},squash(g,x){return{snapshots:{...x.snapshots,...g.snapshots},updates:{...g.updates,...x.updates}}}}),this._deleteShapes=this.history.createCommand("delete_shapes",g=>{if(this.getInstanceState().isReadonly||g.length===0)return null;const x=[...this.getCurrentPageState().selectedShapeIds],k=new Set(g);for(const P of g)this.visitDescendants(P,A=>{k.add(A)});const C=[...k],_=this._getArrowBindingsIndex().get(),E=ke(C.flatMap(P=>{const A=this.getShape(P),N=_[P];return N&&N.length>0?N.map(({arrowId:L})=>this.getShape(L)).concat(A):A})),z=x.filter(P=>!k.has(P));return{data:{deletedIds:C,snapshots:E,prevSelectedShapeIds:x,postSelectedShapeIds:z}}},{do:({deletedIds:g,postSelectedShapeIds:x})=>{this.store.remove(g),this.store.update(this.getCurrentPageState().id,k=>({...k,selectedShapeIds:x}))},undo:({snapshots:g,prevSelectedShapeIds:x})=>{this.store.put(g),this.store.update(this.getCurrentPageState().id,k=>({...k,selectedShapeIds:x}))}}),this._selectionSharedStyles=Qi("_selectionSharedStyles",()=>{const g=this.getSelectedShapes(),x=new J5;for(const k of g)this._extractSharedStyles(k,x);return x}),this.externalAssetContentHandlers={file:null,url:null},this.externalContentHandlers={text:null,files:null,embed:null,"svg-text":null,url:null},this.inputs={originPagePoint:new I,originScreenPoint:new I,previousPagePoint:new I,previousScreenPoint:new I,currentPagePoint:new I,currentScreenPoint:new I,keys:new Set,buttons:new Set,isPen:!1,shiftKey:!1,ctrlKey:!1,altKey:!1,isDragging:!1,isPointing:!1,isPinching:!1,isEditing:!1,isPanning:!1,pointerVelocity:new I},this._clickManager=new sV(this),this._prevCursor="default",this._shiftKeyTimeout=-1,this._setShiftKeyTimeout=()=>{this.inputs.shiftKey=!1,this.dispatch({type:"keyboard",name:"key_up",key:"Shift",shiftKey:this.inputs.shiftKey,ctrlKey:this.inputs.ctrlKey,altKey:this.inputs.altKey,code:"ShiftLeft"})},this._altKeyTimeout=-1,this._setAltKeyTimeout=()=>{this.inputs.altKey=!1,this.dispatch({type:"keyboard",name:"key_up",key:"Alt",shiftKey:this.inputs.shiftKey,ctrlKey:this.inputs.ctrlKey,altKey:this.inputs.altKey,code:"AltLeft"})},this._ctrlKeyTimeout=-1,this._setCtrlKeyTimeout=()=>{this.inputs.ctrlKey=!1,this.dispatch({type:"keyboard",name:"key_up",key:"Ctrl",shiftKey:this.inputs.shiftKey,ctrlKey:this.inputs.ctrlKey,altKey:this.inputs.altKey,code:"ControlLeft"})},this._restoreToolId="select",this._pinchStart=1,this._didPinch=!1,this._selectedShapeIdsAtPointerDown=[],this.capturedPointerId=null,this.dispatch=g=>{if(this.getCrashingError())return this;const{inputs:x}=this,{type:k}=g;return this.batch(()=>{if(g.type==="misc"){(g.name==="cancel"||g.name==="complete")&&(this.inputs.isDragging=!1,this.inputs.isPanning&&(this.inputs.isPanning=!1,this.updateInstanceState({cursor:{type:this._prevCursor,rotation:0}}))),this.root.handleEvent(g);return}g.shiftKey?(clearInterval(this._shiftKeyTimeout),this._shiftKeyTimeout=-1,x.shiftKey=!0):!g.shiftKey&&x.shiftKey&&this._shiftKeyTimeout===-1&&(this._shiftKeyTimeout=setTimeout(this._setShiftKeyTimeout,150)),g.altKey?(clearInterval(this._altKeyTimeout),this._altKeyTimeout=-1,x.altKey=!0):!g.altKey&&x.altKey&&this._altKeyTimeout===-1&&(this._altKeyTimeout=setTimeout(this._setAltKeyTimeout,150)),g.ctrlKey?(clearInterval(this._ctrlKeyTimeout),this._ctrlKeyTimeout=-1,x.ctrlKey=!0):!g.ctrlKey&&x.ctrlKey&&this._ctrlKeyTimeout===-1&&(this._ctrlKeyTimeout=setTimeout(this._setCtrlKeyTimeout,150));const{originPagePoint:C,originScreenPoint:_,currentPagePoint:E,currentScreenPoint:z}=x;switch(x.isPointing||(x.isDragging=!1),k){case"pinch":{if(!this.getInstanceState().canMoveCamera)return;switch(this._updateInputsFromEvent(g),g.name){case"pinch_start":{if(x.isPinching)return;x.isEditing||(this._pinchStart=this.getCamera().z,this._selectedShapeIdsAtPointerDown.length||(this._selectedShapeIdsAtPointerDown=this.getSelectedShapeIds()),this._didPinch=!0,x.isPinching=!0,this.interrupt());return}case"pinch":{if(!x.isPinching)return;const{point:{x:P,y:A,z:N=1},delta:{x:L,y:M}}=g,{x:q,y:D,z:X}=this.getCamera(),O=Math.min(wa,Math.max(eu,N));this.setCamera({x:q+L/X-P/X+P/O,y:D+M/X-A/X+A/O,z:O});return}case"pinch_end":{if(!x.isPinching)return this;x.isPinching=!1;const{_selectedShapeIdsAtPointerDown:P}=this;this.setSelectedShapes(this._selectedShapeIdsAtPointerDown,{squashing:!0}),this._selectedShapeIdsAtPointerDown=[],this._didPinch&&(this._didPinch=!1,requestAnimationFrame(()=>{this._didPinch||this.setSelectedShapes(P,{squashing:!0})}));return}}}case"wheel":{if(!this.getInstanceState().canMoveCamera)return;if(this._updateInputsFromEvent(g),!this.getIsMenuOpen()){if(x.ctrlKey){const{x:P,y:A}=this.inputs.currentScreenPoint,{x:N,y:L,z:M}=this.getCamera(),q=Math.min(wa,Math.max(eu,M+(g.delta.z??0)*M));this.setCamera({x:N+(P/q-P)-(P/M-P),y:L+(A/q-A)-(A/M-A),z:q});return}this.pan(g.delta),!x.isDragging&&x.isPointing&&C.dist(E)>(this.getInstanceState().isCoarsePointer?H5:bp)/this.getZoomLevel()&&(x.isDragging=!0)}break}case"pointer":{if(x.isPinching)return;this._updateInputsFromEvent(g);const{isPen:P}=g;switch(g.name){case"pointer_down":{if(this._selectedShapeIdsAtPointerDown=this.getSelectedShapeIds(),g.button===0&&(this.capturedPointerId=g.pointerId),x.buttons.add(g.button),x.isPointing=!0,x.isDragging=!1,this.getInstanceState().isPenMode){if(!P)return}else P&&this.updateInstanceState({isPenMode:!0});if(g.button===5?(this._restoreToolId=this.getCurrentToolId(),this.complete(),this.setCurrentTool("eraser")):g.button===1&&(this.inputs.isPanning||(this._prevCursor=this.getInstanceState().cursor.type),this.inputs.isPanning=!0),this.inputs.isPanning)return this.stopCameraAnimation(),this.updateInstanceState({cursor:{type:"grabbing",rotation:0}}),this;_.setTo(z),C.setTo(E);break}case"pointer_move":{if(!P&&this.getInstanceState().isPenMode)return;if(this.inputs.isPanning&&this.inputs.isPointing){const{currentScreenPoint:A,previousScreenPoint:N}=this.inputs;this.pan(I.Sub(A,N));return}!x.isDragging&&x.isPointing&&C.dist(E)>(this.getInstanceState().isCoarsePointer?H5:bp)/this.getZoomLevel()&&(x.isDragging=!0);break}case"pointer_up":{if(x.buttons.delete(g.button),x.isPointing=!1,x.isDragging=!1,this.getIsMenuOpen()||!P&&this.getInstanceState().isPenMode)return;this.capturedPointerId===g.pointerId&&(this.capturedPointerId=null,g.button=0),x.isPanning?g.button===1?this.inputs.keys.has(" ")?(this.slideCamera({speed:Math.min(2,this.inputs.pointerVelocity.len()),direction:this.inputs.pointerVelocity,friction:k0}),this.updateInstanceState({cursor:{type:"grab",rotation:0}})):(x.isPanning=!1,this.slideCamera({speed:Math.min(2,this.inputs.pointerVelocity.len()),direction:this.inputs.pointerVelocity,friction:k0}),this.updateInstanceState({cursor:{type:this._prevCursor,rotation:0}})):g.button===0&&(this.slideCamera({speed:Math.min(2,this.inputs.pointerVelocity.len()),direction:this.inputs.pointerVelocity,friction:k0}),this.updateInstanceState({cursor:{type:"grab",rotation:0}})):g.button===5&&(this.complete(),this.setCurrentTool(this._restoreToolId));break}}break}case"keyboard":{switch(g.key==="ShiftRight"&&(g.key="ShiftLeft"),g.key==="AltRight"&&(g.key="AltLeft"),g.code==="ControlRight"&&(g.code="ControlLeft"),g.name){case"key_down":{x.keys.add(g.code),!g.ctrlKey&&g.code==="Space"&&(this.inputs.isPanning||(this._prevCursor=this.getInstanceState().cursor.type),this.inputs.isPanning=!0,this.updateInstanceState({cursor:{type:this.inputs.isPointing?"grabbing":"grab",rotation:0}}));break}case"key_up":{x.keys.delete(g.code),g.code==="Space"&&!this.inputs.buttons.has(1)&&(this.inputs.isPanning=!1,this.updateInstanceState({cursor:{type:this._prevCursor,rotation:0}}));break}}break}}if(g.type==="pointer"&&(g.button===1?g.name="middle_click":g.button===2&&(g.name="right_click"),g.isPen===this.getInstanceState().isPenMode))switch(g.name){case"pointer_down":{const P=this._clickManager.transformPointerDownEvent(g);if(g.name!==P.name){this.root.handleEvent(g),this.emit("event",g),this.root.handleEvent(P),this.emit("event",P);return}break}case"pointer_up":{const P=this._clickManager.transformPointerUpEvent(g);if(g.name!==P.name){this.root.handleEvent(g),this.emit("event",g),this.root.handleEvent(P),this.emit("event",P);return}break}case"pointer_move":{this._clickManager.handleMove();break}}this.root.handleEvent(g),this.emit("event",g)}),this},this.store=e,this.snaps=new uV(this),this.user=new xV(n??CI(),a??!1),this.getContainer=i??(()=>document.body),this.textMeasure=new mV(this);class l extends Oy{}l.initial=o??"",this.root=new l(this),this.root.children={};const c=AI(r),d=new Set(Object.keys(e.schema.types.shape.migrations.subTypeMigrations));for(const g of c){if(!d.has(g.type))throw Error(`Editor and store have different shapes: "${g.type}" was passed into the editor but not the schema`);d.delete(g.type)}if(d.size>0)throw Error(`Editor and store have different shapes: "${[...d][0]}" is present in the store schema but not provided to the editor`);const h={},u={},p=new Map;for(const g of c){const x=new g(this);h[g.type]=x;const k=IE(g.props??{});u[g.type]=k;for(const C of k.keys())if(!p.has(C.id))p.set(C.id,C);else if(p.get(C.id)!==C)throw Error(`Multiple style props with id "${C.id}" in use. Style prop IDs must be unique.`)}this.shapeUtils=h,this.styleProps=u;for(const g of[...s]){if(jE(this.root.children,g.id))throw Error(`Can't override tool with id "${g.id}"`);this.root.children[g.id]=new g(this,this.root)}this.environment=new iV(this),this.scribbles=new cV(this);const y=new Set,m=g=>{var X;const x=this.getShape(g);if(!x)return;const{start:k,end:C}=x.props,_=k.type==="binding"?this.getShape(k.boundShapeId):void 0,E=C.type==="binding"?this.getShape(C.boundShapeId):void 0,z=this.getAncestorPageId(x);if(!z)return;let P;if(_&&E)P=this.findCommonAncestor([_,E])??z;else if(_||E){const O=(X=_||E)==null?void 0:X.parentId;O&&O===x.parentId?P=x.parentId:P=z}else return;P&&P!==x.parentId&&this.reparentShapes([g],P);const A=this.getShape(g);if(!A)throw Error("no reparented arrow");const N=this.getShapeNearestSibling(A,_),L=this.getShapeNearestSibling(A,E);let M;if(N&&L)M=N.index>L.index?N:L;else if(N&&!L)M=N;else if(L&&!N)M=L;else return;let q;const D=this.getSortedChildIdsForParent(M.parentId).map(O=>this.getShape(O)).filter(O=>O.index>M.index);if(D.length){const O=D.find(K=>K.type!=="arrow");if(A.index>M.index&&(!O||A.index<O.index))return;q=Yu(M.index,D[0].index)}else q=vo(M.index);q!==A.index&&this.updateShapes([{id:g,type:"arrow",index:q}])},w=(g,x)=>{const{x:k,y:C}=oi(this,g)[x];this.store.put([{...g,props:{...g.props,[x]:{type:"point",x:k,y:C}}}])},S=g=>{for(const x of["start","end"]){const k=g.props[x];if(k.type!=="binding")continue;const C=this.getShape(k.boundShapeId),_=this.getAncestorPageId(g)===this.getAncestorPageId(C);(!C||!_)&&w(g,x)}m(g.id)},b=(g,x)=>{let k=null;const C=g.selectedShapeIds.filter(z=>!x.has(z));C.length!==g.selectedShapeIds.length&&(k||(k={...g}),k.selectedShapeIds=C);const _=g.erasingShapeIds.filter(z=>!x.has(z));_.length!==g.erasingShapeIds.length&&(k||(k={...g}),k.erasingShapeIds=_),g.hoveredShapeId&&x.has(g.hoveredShapeId)&&(k||(k={...g}),k.hoveredShapeId=null),g.editingShapeId&&x.has(g.editingShapeId)&&(k||(k={...g}),k.editingShapeId=null);const E=g.hintingShapeIds.filter(z=>!x.has(z));return E.length!==g.hintingShapeIds.length&&(k||(k={...g}),k.hintingShapeIds=E),g.focusedGroupId&&x.has(g.focusedGroupId)&&(k||(k={...g}),k.focusedGroupId=null),k};if(this.sideEffects=new dV(this),this.sideEffects.registerBatchCompleteHandler(()=>{var g;for(const x of y){y.delete(x);const k=this.getShape(x);if(!k)continue;const C=this.getShapeUtil(k),_=(g=C.onChildrenChange)==null?void 0:g.call(C,k);_!=null&&_.length&&this.updateShapes(_,{squashing:!0})}this.emit("update")}),this.sideEffects.registerBeforeDeleteHandler("shape",g=>{g.parentId&&zs(g.parentId)&&y.add(g.parentId);const x=this._getArrowBindingsIndex().get()[g.id];if(x!=null&&x.length)for(const{arrowId:_,handleId:E}of x){const z=this.getShape(_);z&&w(z,E)}const k=new Set([g.id]),C=ke(this.getPageStates().map(_=>b(_,k)));C.length&&this.store.put(C)}),this.sideEffects.registerBeforeDeleteHandler("page",g=>{var _;if(this.getInstanceState().currentPageId!==g.id)return;const x=(_=this.getPages().find(E=>E.id!==g.id))==null?void 0:_.id;if(!x)return;this.store.put([{...this.getInstanceState(),currentPageId:x}]);const k=Zn.createId(g.id),C=Qn.createId(g.id);this.store.remove([k,C])}),this.sideEffects.registerAfterChangeHandler("shape",(g,x)=>{if(this.isShapeOfType(x,"arrow")&&S(x),g.parentId!==x.parentId){const k=C=>{const _=this._getArrowBindingsIndex().get()[C];if(_!=null&&_.length)for(const E of _)m(E.arrowId)};k(x.id),this.visitDescendants(x.id,k)}if(g.parentId!==x.parentId&&zr(x.parentId)){const k=new Set([g.id]);this.visitDescendants(g.id,C=>{k.add(C)});for(const C of this.getPageStates()){if(C.pageId===x.parentId)continue;const _=b(C,k);_&&this.store.put([_])}}g.parentId&&zs(g.parentId)&&y.add(g.parentId),x.parentId!==g.parentId&&zs(x.parentId)&&y.add(x.parentId)}),this.sideEffects.registerAfterChangeHandler("instance_page_state",(g,x)=>{if((g==null?void 0:g.selectedShapeIds)!==(x==null?void 0:x.selectedShapeIds)){const k=x.selectedShapeIds.filter(_=>{var z,P;let E=(z=this.getShape(_))==null?void 0:z.parentId;for(;zs(E);){if(x.selectedShapeIds.includes(E))return!1;E=(P=this.getShape(E))==null?void 0:P.parentId}return!0});let C=null;if(k.length>0){const _=this.findCommonAncestor(ke(k.map(E=>this.getShape(E))),E=>this.isShapeOfType(E,"group"));_&&(C=_)}else x!=null&&x.focusedGroupId&&(C=x.focusedGroupId);(k.length!==x.selectedShapeIds.length||C!==x.focusedGroupId)&&this.store.put([{...x,selectedShapeIds:k,focusedGroupId:C??null}])}}),this.sideEffects.registerAfterCreateHandler("shape",g=>{this.isShapeOfType(g,"arrow")&&S(g)}),this.sideEffects.registerAfterCreateHandler("page",g=>{const x=Zn.createId(g.id),k=Qn.createId(g.id);this.store.has(x)||this.store.put([Zn.create({id:x})]),this.store.has(k)||this.store.put([Qn.create({id:k,pageId:g.id})])}),this._currentPageShapeIds=nV(this.store,()=>this.getCurrentPageId()),this._parentIdsToChildIds=tV(this.store),this.disposables.add(this.store.listen(g=>{this.emit("change",g)})),this.store.ensureStoreIsUsable(),this._setInstancePageState({editingShapeId:null,hoveredShapeId:null,erasingShapeIds:[]},{ephemeral:!0}),o&&this.root.children[o]===void 0)throw Error(`No state found for initialState "${o}".`);this.root.enter(void 0,"initial"),this.getInstanceState().followingUserId&&this.stopFollowingUser(),this.updateRenderingBounds(),requestAnimationFrame(()=>{this._tickManager.start()})}dispose(){this.disposables.forEach(e=>e()),this.disposables.clear()}getShapeUtil(e){const n=typeof e=="string"?e:e.type,r=P2(this.shapeUtils,n);return ec(r,`No shape util found for type "${n}"`),r}undo(){return this.history.undo(),this}getCanUndo(){return this.history.getNumUndos()>0}redo(){return this.history.redo(),this}getCanRedo(){return this.history.getNumRedos()>0}mark(e,n,r){return this.history.mark(e,n,r),this}bail(){return this.history.bail(),this}bailToMark(e){return this.history.bailToMark(e),this}batch(e){return this.history.batch(e),this}_getArrowBindingsIndex(){return eV(this)}getArrowsBoundTo(e){return this._getArrowBindingsIndex().get()[e]||Aa}getArrowInfoCache(){return this.store.createComputedCache("arrow infoCache",e=>nu(e)?Hu(this,e):O2(this,e))}getArrowInfo(e){const n=typeof e=="string"?e:e.id;return this.getArrowInfoCache().get(n)}annotateError(e,{origin:n,willCrashApp:r,tags:s,extras:i}){const o=this.createErrorAnnotations(n,r);return ME(e,{tags:{...o.tags,...s},extras:{...o.extras,...i}}),r&&this.store.markAsPossiblyCorrupted(),this}createErrorAnnotations(e,n){try{const r=this.getEditingShapeId();return{tags:{origin:e,willCrashApp:n},extras:{activeStateNode:this.root.getPath(),selectedShapes:this.getSelectedShapes(),editingShape:r?this.getShape(r):void 0,inputs:this.inputs}}}catch{return{tags:{origin:e,willCrashApp:n},extras:{}}}}getCrashingError(){return this._crashingError}crash(e){return this._crashingError=e,this.store.markAsPossiblyCorrupted(),this.emit("crash",{error:e}),this}getPath(){return this.root.getPath().split("root.")[1]}isIn(e){const n=e.split(".").reverse();let r=this.root;for(;n.length>0;){const s=n.pop();if(!s)return!0;const i=r.getCurrent();if((i==null?void 0:i.id)===s){if(n.length===0)return!0;r=i;continue}else return!1}return!1}isInAny(...e){return e.some(n=>this.isIn(n))}setCurrentTool(e,n={}){return this.root.transition(e,n),this}getCurrentTool(){return this.root.getCurrent()}getCurrentToolId(){const e=this.getCurrentTool();return e?e.getCurrentToolIdMask()??e.id:""}getStateDescendant(e){var s;const n=e.split(".").reverse();let r=this.root;for(;n.length>0;){const i=n.pop();if(!i)return r;const o=(s=r.children)==null?void 0:s[i];if(!o)return;r=o}return r}getDocumentSettings(){return this.store.get(K5)}updateDocumentSettings(e){return this.store.put([{...this.getDocumentSettings(),...e}]),this}getInstanceState(){return this.store.get(ir)}updateInstanceState(e,n){return this._updateInstanceState(e,{ephemeral:!0,squashing:!0,...n}),e.isChangingStyle!==void 0&&(clearTimeout(this._isChangingStyleTimeout),e.isChangingStyle===!0&&(this._isChangingStyleTimeout=setTimeout(()=>{this.updateInstanceState({isChangingStyle:!1})},2e3))),this}getOpenMenus(){return this.getInstanceState().openMenus}addOpenMenu(e){const n=new Set(this.getOpenMenus());return n.has(e)||(n.add(e),this.updateInstanceState({openMenus:[...n]})),this}deleteOpenMenu(e){const n=new Set(this.getOpenMenus());return n.has(e)&&(n.delete(e),this.updateInstanceState({openMenus:[...n]})),this}getIsMenuOpen(){return this.getOpenMenus().length>0}getPageStates(){return this._getPageStatesQuery().get()}_getPageStatesQuery(){return this.store.query.records("instance_page_state")}getCurrentPageState(){return this.store.get(this._getCurrentPageStateId())}_getCurrentPageStateId(){return Qn.createId(this.getCurrentPageId())}updateCurrentPageState(e,n){return this._setInstancePageState(e,n),this}getSelectedShapeIds(){return this.getCurrentPageState().selectedShapeIds}getSelectedShapes(){const{selectedShapeIds:e}=this.getCurrentPageState();return ke(e.map(n=>this.store.get(n)))}setSelectedShapes(e,n){const r=e.map(s=>typeof s=="string"?s:s.id);return this._setSelectedShapes(r,n),this}isAncestorSelected(e){const n=typeof e=="string"?e:(e==null?void 0:e.id)??null,r=this.getShape(n);if(!r)return!1;const s=this.getSelectedShapeIds();return!!this.findShapeAncestor(r,i=>s.includes(i.id))}select(...e){const n=typeof e[0]=="string"?e:e.map(r=>r.id);return this.setSelectedShapes(n),this}deselect(...e){const n=typeof e[0]=="string"?e:e.map(s=>s.id),r=this.getSelectedShapeIds();return r.length>0&&n.length>0&&this.setSelectedShapes(r.filter(s=>!n.includes(s))),this}selectAll(){const e=this.getSortedChildIdsForParent(this.getCurrentPageId());return e.length<=0?this:(this.setSelectedShapes(this._getUnlockedShapeIds(e)),this)}selectNone(){return this.getSelectedShapeIds().length>0&&this.setSelectedShapes([]),this}getOnlySelectedShape(){const e=this.getSelectedShapes();return e.length===1?e[0]:null}getSelectionPageBounds(){const e=this.getCurrentPageState().selectedShapeIds;return e.length===0?null:fe.Common(ke(e.map(n=>this.getShapePageBounds(n))))}getSelectionRotation(){const e=this.getSelectedShapeIds();if(e.length===0)return 0;if(e.length===1)return this.getShapePageTransform(this.getSelectedShapeIds()[0]).rotation();const n=e.map(r=>this.getShapePageTransform(r).rotation());return n.every(r=>Math.abs(r-n[0])<Math.PI/180)?this.getShapePageTransform(e[0]).rotation():0}getSelectionRotatedPageBounds(){const e=this.getSelectedShapeIds();if(e.length===0)return;const n=this.getSelectionRotation();if(n===0)return this.getSelectionPageBounds();if(e.length===1){const s=this.getShapeGeometry(e[0]).bounds.clone(),i=this.getShapePageTransform(e[0]);return s.point=i.applyToPoint(s.point),s}const r=fe.FromPoints(this.getSelectedShapeIds().flatMap(s=>{const i=this.getShapePageTransform(s);return i?i.applyToPoints(this.getShapeGeometry(s).vertices):[]}).map(s=>I.Rot(s,-n)));return r.point=r.point.rot(n),r}getFocusedGroupId(){return this.getCurrentPageState().focusedGroupId??this.getCurrentPageId()}getFocusedGroup(){const e=this.getFocusedGroupId();return e?this.getShape(e):void 0}setFocusedGroup(e){const n=typeof e=="string"?e:(e==null?void 0:e.id)??null;if(n!==null){const r=this.getShape(n);if(!r)throw Error(`Editor.setFocusedGroup: Shape with id ${n} does not exist`);if(!this.isShapeOfType(r,"group"))throw Error(`Editor.setFocusedGroup: Cannot set focused group to shape of type ${r.type}`)}return n===this.getFocusedGroupId()?this:(this._setFocusedGroupId(n),this)}popFocusedGroupId(){const e=this.getFocusedGroup();if(e){const n=this.findShapeAncestor(e,r=>this.isShapeOfType(r,"group"));this.setFocusedGroup((n==null?void 0:n.id)??null),this.select(e.id)}else this.setFocusedGroup(null),this.selectNone();return this}getEditingShapeId(){return this.getCurrentPageState().editingShapeId}getEditingShape(){const e=this.getEditingShapeId();return e?this.getShape(e):void 0}setEditingShape(e){const n=typeof e=="string"?e:(e==null?void 0:e.id)??null;if(n!==this.getEditingShapeId()){if(n){const r=this.getShape(n);if(r&&this.getShapeUtil(r).canEdit(r))return this._setInstancePageState({editingShapeId:n}),this}this._setInstancePageState({editingShapeId:null})}return this}getHoveredShapeId(){return this.getCurrentPageState().hoveredShapeId}getHoveredShape(){const e=this.getHoveredShapeId();return e?this.getShape(e):void 0}setHoveredShape(e){const n=typeof e=="string"?e:(e==null?void 0:e.id)??null;return n===this.getHoveredShapeId()?this:(this.updateCurrentPageState({hoveredShapeId:n},{ephemeral:!0}),this)}getHintingShapeIds(){return this.getCurrentPageState().hintingShapeIds}getHintingShape(){const e=this.getHintingShapeIds();return ke(e.map(n=>this.getShape(n)))}setHintingShapes(e){const n=typeof e[0]=="string"?e:e.map(r=>r.id);return this.updateCurrentPageState({hintingShapeIds:am(n)},{ephemeral:!0}),this}getErasingShapeIds(){return this.getCurrentPageState().erasingShapeIds}getErasingShapes(){const e=this.getErasingShapeIds();return ke(e.map(n=>this.getShape(n)))}setErasingShapes(e){const n=typeof e[0]=="string"?e:e.map(s=>s.id);n.sort();const r=this.getErasingShapeIds();if(n.length===r.length){for(let s=0;s<n.length;s++)if(n[s]!==r[s]){this._setInstancePageState({erasingShapeIds:n},{ephemeral:!0});break}}else this._setInstancePageState({erasingShapeIds:n},{ephemeral:!0});return this}getCroppingShapeId(){return this.getCurrentPageState().croppingShapeId}setCroppingShape(e){const n=typeof e=="string"?e:(e==null?void 0:e.id)??null;if(n!==this.getCroppingShapeId())if(!n)this.updateCurrentPageState({croppingShapeId:null});else{const r=this.getShape(n),s=this.getShapeUtil(r);r&&s.canCrop(r)&&this.updateCurrentPageState({croppingShapeId:n})}return this}getCameraId(){return Zn.createId(this.getCurrentPageId())}getBaseZoom(){const e=this.getCameraOptions();if(!e.constraints||e.constraints.baseZoom==="default")return 1;const{zx:n,zy:r}=sv(this,e);switch(e.constraints.baseZoom){case"fit-min":return Math.max(n,r);case"fit-max":return Math.min(n,r);case"fit-x":return n;case"fit-y":return r;case"fit-min-100":return Math.min(1,Math.max(n,r));case"fit-max-100":return Math.min(1,Math.min(n,r));case"fit-x-100":return Math.min(1,n);case"fit-y-100":return Math.min(1,r);default:throw lm(e.constraints.baseZoom)}}getCameraOptions(){return this._cameraOptions.get()}getCamera(){return this.store.get(this.getCameraId())}getZoomLevel(){return this.getCamera().z}getInitialZoom(){const e=this.getCameraOptions();if(!e.constraints||e.constraints.initialZoom==="default")return 1;const{zx:n,zy:r}=sv(this,e);switch(e.constraints.initialZoom){case"fit-min":return Math.max(n,r);case"fit-max":return Math.min(n,r);case"fit-x":return n;case"fit-y":return r;case"fit-min-100":return Math.min(1,Math.max(n,r));case"fit-max-100":return Math.min(1,Math.min(n,r));case"fit-x-100":return Math.min(1,n);case"fit-y-100":return Math.min(1,r);default:throw lm(e.constraints.initialZoom)}}getConstrainedCamera(e,n){const r=this.getCamera();let{x:s,y:i,z:o=r.z}=e;if(!(n!=null&&n.force)){const a=this.getCameraOptions(),l=a.zoomSteps[0],c=wr(a.zoomSteps),d=this.getViewportScreenBounds();if(a.constraints){const{constraints:h}=a,u=Math.min(h.padding.y,d.w/2),p=Math.min(h.padding.x,d.h/2),y=fe.From(a.constraints.bounds),m=(d.w-p*2)/y.w,w=(d.h-u*2)/y.h,S=this.getBaseZoom(),b=c*S,g=l*S;if(n!=null&&n.reset&&(o=this.getInitialZoom()),o<g||o>b){const{x:N,y:L,z:M}=r,q=-N+d.w/M/2,D=-L+d.h/M/2;o=cn(o,g,b);const X=-N+d.w/o/2,O=-L+d.h/o/2;s=N+X-q,i=L+O-D}const x=p/o-y.x,k=u/o-y.y,C=(d.w-p*2)/o-y.w,_=(d.h-u*2)/o-y.h,E=x+C*h.origin.x,z=k+_*h.origin.y,P=typeof h.behavior=="string"?h.behavior:h.behavior.x,A=typeof h.behavior=="string"?h.behavior:h.behavior.y;if(n!=null&&n.reset)s=E,i=z;else{switch(P){case"fixed":{s=E;break}case"contain":{o<m?s=E:s=cn(s,x+C,x);break}case"inside":{o<m?s=cn(s,x,(d.w-p)/o-y.w):s=cn(s,x+C,x);break}case"outside":{s=cn(s,p/o-y.w,(d.w-p)/o);break}case"free":break;default:throw"Exhaustive switch error"}switch(A){case"fixed":{i=z;break}case"contain":{o<w?i=z:i=cn(i,k+_,k);break}case"inside":{o<w?i=cn(i,k,(d.h-u)/o-y.h):i=cn(i,k+_,k);break}case"outside":{i=cn(i,u/o-y.h,(d.h-u)/o);break}case"free":break;default:throw"Exhaustive switch error"}}}else if(o>c||o<l){const{x:h,y:u,z:p}=r;o=cn(o,l,c),s=h+(-h+d.w/o/2)-(-h+d.w/p/2),i=u+(-u+d.h/o/2)-(-u+d.h/p/2)}}return{x:s,y:i,z:o}}_setCamera(e,n){const r=this.getCamera(),{x:s,y:i,z:o}=this.getConstrainedCamera(e,n);return r.x===e.x&&r.y===e.y&&r.z===e.z?this:(this.batch(()=>{const{currentScreenPoint:a,currentPagePoint:l}=this.inputs,{screenBounds:c}=this.store.unsafeGetWithoutCapture(ir);if(a.x/o-s!==l.x||a.y/o-i!==l.y){const d={type:"pointer",target:"canvas",name:"pointer_move",point:I.AddXY(a,c.x,c.y),pointerId:_7.CAMERA_MOVE,ctrlKey:this.inputs.ctrlKey,altKey:this.inputs.altKey,shiftKey:this.inputs.shiftKey,button:0,isPen:this.getInstanceState().isPenMode??!1};this.dispatch(d)}this._tickCameraState()}),this)}setCamera(e,n){const{isLocked:r}=this._cameraOptions.__unsafe__getWithoutCapture();if(r&&!(n!=null&&n.force))return this;this.stopCameraAnimation(),this.getInstanceState().followingUserId&&this.stopFollowingUser();const s=I.Cast(e);Number.isFinite(s.x)||(s.x=0),Number.isFinite(s.y)||(s.y=0),(s.z===void 0||!Number.isFinite(s.z))&&(e.z=this.getZoomLevel());const i=this.getConstrainedCamera(s,n);if(n!=null&&n.animation){const{width:o,height:a}=this.getViewportScreenBounds();this._animateToViewport(new fe(-i.x,-i.y,o/i.z,a/i.z),n.animation)}else this._setCamera(i,{...n,force:!0});return this}setCameraOptions(e){var r;const n=md({...this._cameraOptions.__unsafe__getWithoutCapture(),...e});return((r=n.zoomSteps)==null?void 0:r.length)<1&&(n.zoomSteps=[1]),this._cameraOptions.set(n),this}centerOnPoint(e,n){if(!this.getInstanceState().canMoveCamera)return this;const{width:r,height:s}=this.getViewportPageBounds();return this.setCamera({x:-(e.x-r/2),y:-(e.y-s/2),z:this.getCamera().z},{animation:n}),this}zoomToContent(){const e=this.getSelectionPageBounds()??this.getCurrentPageBounds();return e&&this.zoomToBounds(e,Math.min(1,this.getZoomLevel()),{duration:220}),this}zoomToFit(e){if(!this.getInstanceState().canMoveCamera)return this;const n=[...this.getCurrentPageShapeIds()];if(n.length<=0)return this;const r=fe.Common(ke(n.map(s=>this.getShapePageBounds(s))));return this.zoomToBounds(r,void 0,e),this}resetZoom(e=this.getViewportScreenCenter(),n){if(!this.getInstanceState().canMoveCamera)return this;const{x:r,y:s,z:i}=this.getCamera(),{x:o,y:a}=e;return this.setCamera({x:r+(o/1-o)-(o/i-o),y:s+(a/1-a)-(a/i-a),z:1},{animation:n}),this}zoomIn(e=this.getViewportScreenCenter(),n){if(!this.getInstanceState().canMoveCamera)return this;const{x:r,y:s,z:i}=this.getCamera();let o=wa;for(let c=1;c<Bc.length;c++){const d=Bc[c-1],h=Bc[c];if(!(h-i<=(h-d)/2)){o=h;break}}const{x:a,y:l}=e;return this.setCamera({x:r+(a/o-a)-(a/i-a),y:s+(l/o-l)-(l/i-l),z:o},{animation:n}),this}zoomOut(e=this.getViewportScreenCenter(),n){if(!this.getInstanceState().canMoveCamera)return this;const{x:r,y:s,z:i}=this.getCamera();let o=eu;for(let c=Bc.length-1;c>0;c--){const d=Bc[c-1],h=Bc[c];if(!(h-i>=(h-d)/2)){o=d;break}}const{x:a,y:l}=e;return this.setCamera({x:r+(a/o-a)-(a/i-a),y:s+(l/o-l)-(l/i-l),z:o},{animation:n}),this}zoomToSelection(e){if(!this.getInstanceState().canMoveCamera)return this;const n=this.getSelectionPageBounds();return n?(this.zoomToBounds(n,Math.max(1,this.getZoomLevel()),e),this):this}panZoomIntoView(e,n){if(!this.getInstanceState().canMoveCamera)return this;if(e.length<=0)return this;const r=fe.Common(ke(e.map(i=>this.getShapePageBounds(i)))),s=this.getViewportPageBounds();if(s.h<r.h||s.w<r.w)return this.zoomToBounds(r,this.getCamera().z,n),this;{const i=this.getViewportPageBounds().clone().expandBy(-32/this.getZoomLevel());let o=0,a=0;i.maxY<r.maxY?a=i.maxY-r.maxY:i.minY>r.minY&&(a=i.minY-r.minY),i.maxX<r.maxX?o=i.maxX-r.maxX:i.minX>r.minX&&(o=i.minX-r.minX);const l=this.getCamera();this.setCamera({x:l.x+o,y:l.y+a,z:l.z},{animation:n})}return this}zoomToBounds(e,n,r){if(!this.getInstanceState().canMoveCamera)return this;const s=this.getViewportScreenBounds(),i=Math.min(256,s.width*.28);let o=cn(Math.min((s.width-i)/e.width,(s.height-i)/e.height),eu,wa);return n!==void 0&&(o=Math.min(n,o)),this.setCamera({x:-e.minX+(s.width-e.width*o)/2/o,y:-e.minY+(s.height-e.height*o)/2/o,z:o},{animation:r}),this}pan(e,n){if(!this.getInstanceState().canMoveCamera)return this;const{x:r,y:s,z:i}=this.getCamera();return this.setCamera({x:r+e.x/i,y:s+e.y/i,z:i},{animation:n}),this}pageToViewport(e){const{x:n,y:r,z:s=1}=this.getCamera();return new I((e.x+n)*s,(e.y+r)*s,e.z??.5)}stopCameraAnimation(){return this.emit("stop-camera-animation"),this}_animateViewport(e){if(!this._viewportAnimation)return;const n=()=>{this.removeListener("tick",this._animateViewport),this.removeListener("stop-camera-animation",n),this._viewportAnimation=null};this.once("stop-camera-animation",n),this._viewportAnimation.elapsed+=e;const{elapsed:r,easing:s,duration:i,start:o,end:a}=this._viewportAnimation;if(r>i){this._setCamera({x:-a.x,y:-a.y,z:this.getViewportScreenBounds().width/a.width}),n();return}const l=i-r,c=s(1-l/i),d=o.minX+(a.minX-o.minX)*c,h=o.minY+(a.minY-o.minY)*c,u=o.maxX+(a.maxX-o.maxX)*c;this._setCamera({x:-d,y:-h,z:this.getViewportScreenBounds().width/(u-d)})}_animateToViewport(e,n={}){const{duration:r=0,easing:s=dr.easeInOutCubic}=n,i=this.user.getAnimationSpeed(),o=this.getViewportPageBounds();return this.stopCameraAnimation(),this.getInstanceState().followingUserId&&this.stopFollowingUser(),r===0||i===0?this._setCamera({x:-e.x,y:-e.y,z:this.getViewportScreenBounds().width/e.width}):(this._viewportAnimation={elapsed:0,duration:r/i,easing:s,start:o.clone(),end:e.clone()},this.addListener("tick",this._animateViewport),this)}slideCamera(e={}){if(!this.getInstanceState().canMoveCamera)return this;if(this.stopCameraAnimation(),this.user.getAnimationSpeed()===0)return this;const{speed:r,friction:s,direction:i,speedThreshold:o=.01}=e;let a=Math.min(r,1);const l=()=>{this.removeListener("tick",c),this.removeListener("stop-camera-animation",l)};this.once("stop-camera-animation",l);const c=d=>{const{x:h,y:u,z:p}=this.getCamera(),y=I.Mul(i,a*d/p);a*=1-s,a<o?l():this._setCamera({x:h+y.x,y:u+y.y,z:p})};return this.addListener("tick",c),this}animateToUser(e){const r=[...this.store.query.records("instance_presence",()=>({userId:{eq:e}})).get()].sort((s,i)=>s.lastActivityTimestamp-i.lastActivityTimestamp).pop();return r?(this.batch(()=>{this.getInstanceState().followingUserId!==null&&this.stopFollowingUser();const s=r.currentPageId===this.getCurrentPageId();s||this.setCurrentPage(r.currentPageId);const i=s?{duration:500}:void 0;this.centerOnPoint(r.cursor,i);const{highlightedUserIds:o}=this.getInstanceState();this.updateInstanceState({highlightedUserIds:[...o,e]}),setTimeout(()=>{const a=[...this.getInstanceState().highlightedUserIds],l=a.indexOf(e);l<0||(a.splice(l,1),this.updateInstanceState({highlightedUserIds:a}))},VE)}),this):this}animateToShape(e,n=uF){if(!this.getInstanceState().canMoveCamera)return this;const r=this.getViewportScreenBounds().clone().expandBy(-32),s=r.width/r.height,i=this.getShapePageBounds(e);if(!i)return this;const o=i.width/i.height,a=i.clone(),l=i.width/r.width;return a.width+=(r.minX+r.maxX)*l,a.height+=(r.minY+r.maxY)*l,a.x-=r.minX*l,a.y-=r.minY*l,o>s?(a.height=i.width/s,a.y-=(a.height-i.height)/2):(a.width=i.height*s,a.x-=(a.width-i.width)/2),this._animateToViewport(a,n)}updateViewportScreenBounds(e=!1){const n=this.getContainer();if(!n)return this;const r=n.getBoundingClientRect(),s=new fe(r.left||r.x,r.top||r.y,Math.max(r.width,1),Math.max(r.height,1)),i=s.equals(this.getViewportScreenBounds()),{_willSetInitialBounds:o}=this;if(i)this._willSetInitialBounds=!1;else if(o)this._willSetInitialBounds=!1,this.updateInstanceState({screenBounds:s.toJson()},{squashing:!0,ephemeral:!0});else if(e&&!this.getInstanceState().followingUserId){const a=this.getViewportPageCenter();this.updateInstanceState({screenBounds:s.toJson()},{squashing:!0,ephemeral:!0}),this.centerOnPoint(a)}else this.updateInstanceState({screenBounds:s.toJson()},{squashing:!0,ephemeral:!0});return this._tickCameraState(),this.updateRenderingBounds(),this}getViewportScreenBounds(){const{x:e,y:n,w:r,h:s}=this.getInstanceState().screenBounds;return new fe(e,n,r,s)}getViewportScreenCenter(){return this.getViewportScreenBounds().center}getViewportPageBounds(){const{w:e,h:n}=this.getViewportScreenBounds(),{x:r,y:s,z:i}=this.getCamera();return new fe(-r,-s,e/i,n/i)}getViewportPageCenter(){return this.getViewportPageBounds().center}screenToPage(e){const{screenBounds:n}=this.store.unsafeGetWithoutCapture(ir),{x:r,y:s,z:i=1}=this.getCamera();return{x:(e.x-n.x)/i-r,y:(e.y-n.y)/i-s,z:e.z??.5}}pageToScreen(e){const{screenBounds:n}=this.store.unsafeGetWithoutCapture(ir),{x:r,y:s,z:i=1}=this.getCamera();return{x:(e.x+r)*i+n.x,y:(e.y+s)*i+n.y,z:e.z??.5}}startFollowingUser(e){const n=this.store.query.records("instance_presence",()=>({userId:{eq:e}})),r=this.user.getId();if(r||console.warn("You should set the userId for the current instance before following a user"),n.get().some(a=>a.followingUserId===r))return this;fp(()=>{this.stopFollowingUser(),this.updateInstanceState({followingUserId:e},{ephemeral:!0})});const s=()=>{this.removeListener("frame",o),this.removeListener("stop-following",s)};let i=!1;const o=()=>{const a=[...n.get()].sort((N,L)=>N.lastActivityTimestamp-L.lastActivityTimestamp).pop();if(!a){this.stopFollowingUser();return}const l=a.currentPageId===this.getCurrentPageId(),c=l?sF:1;if(!l){this.stopFollowingUser(),this.setCurrentPage(a.currentPageId),this.startFollowingUser(e);return}const{center:d,width:h,height:u}=this.getViewportPageBounds(),p=fe.From(a.screenBounds),y=p.width/a.camera.z,m=p.height/a.camera.z,w=new I(y/2-a.camera.x,m/2-a.camera.y),S=a.followingUserId===r,b=h+(y-h)*c,g=u+(m-u)*c,x=S?u/g:Math.min(h/b,u/g),k=cn(this.getCamera().z*x,eu,wa),C=this.getViewportScreenBounds().w/k,_=this.getViewportScreenBounds().h/k,E=w.sub(d),z=I.Add(d,I.Mul(E,c)),P=I.Sub(z,d).len(),A=Math.abs(k-this.getCamera().z);if(P<iF&&A<aF){i=!0;return}i&&P<oF&&A<lF||(i=!1,this.stopCameraAnimation(),this._setCamera({x:-(z.x-C/2),y:-(z.y-_/2),z:k}))};return this.once("stop-following",s),this.addListener("frame",o),this}stopFollowingUser(){return this.updateInstanceState({followingUserId:null},{ephemeral:!0}),this.emit("stop-following"),this}getCameraState(){return this._cameraState.get()}getUnorderedRenderingShapes(e){const n=[];let r=mo*2,s=mo;const i=this.getEditingShapeId(),o=this.getSelectedShapeIds(),a=this.getErasingShapeIds(),l=this.getRenderingBoundsExpanded(),c=Number.isFinite(this.renderingBoundsMargin),d=(h,u,p)=>{const y=this.getShape(h);if(!y)return;u*=y.opacity;let m=!1,w=!1;const S=this.getShapeUtil(y),b=this.getShapeMaskedPageBounds(h);e&&(w=!p&&a.includes(h),w&&(u*=.32),m=c&&S.canUnmount(y)&&i!==h&&(b===void 0||!l.includes(b)&&!o.includes(h))),n.push({id:h,shape:y,util:S,index:r,backgroundIndex:s,opacity:u,isCulled:m,maskedPageBounds:b}),r+=1,s+=1;const g=this.getSortedChildIdsForParent(h);if(!g.length)return;let x=null;S.providesBackgroundForChildren(y)&&(x=s,s=r,r+=mo);for(const k of g)d(k,u,p||w);x!==null&&(s=x)};for(const h of this.getSortedChildIdsForParent(this.getCurrentPageId()))d(h,1,!1);return n}getRenderingShapes(){return this.getUnorderedRenderingShapes(!0).sort(pB)}getRenderingBounds(){return this._renderingBounds.get()}getRenderingBoundsExpanded(){return this._renderingBoundsExpanded.get()}updateRenderingBounds(){const e=this.getViewportPageBounds();return e.equals(this._renderingBounds.__unsafe__getWithoutCapture())?this:(this._renderingBounds.set(e.clone()),Number.isFinite(this.renderingBoundsMargin)?this._renderingBoundsExpanded.set(e.clone().expandBy(this.renderingBoundsMargin/this.getZoomLevel())):this._renderingBoundsExpanded.set(e),this)}_getAllPagesQuery(){return this.store.query.records("page")}getPages(){return this._getAllPagesQuery().get().sort(tr)}getCurrentPage(){return this.getPage(this.getCurrentPageId())}getCurrentPageId(){return this.getInstanceState().currentPageId}getPage(e){return this.store.get(typeof e=="string"?e:e.id)}getCurrentPageShapeIds(){return this._currentPageShapeIds.get()}getPageShapeIds(e){const n=typeof e=="string"?e:e.id,r=this.store.query.exec("shape",{parentId:{eq:n}});return this.getShapeAndDescendantIds(r.map(s=>s.id))}setCurrentPage(e,n){const r=typeof e=="string"?e:e.id;return this._setCurrentPageId(r,n),this}updatePage(e,n){return this._updatePage(e,n),this}createPage(e){return this._createPage(e),this}deletePage(e){const n=typeof e=="string"?e:e.id;return this._deletePage(n),this}duplicatePage(e,n=$o.createId()){if(this.getPages().length>=fm)return this;const r=typeof e=="string"?e:e.id,s=this.getPage(r);if(!s)return this;const i={...this.getCamera()},o=this.getContentFromCurrentPage(this.getSortedChildIdsForParent(s.id));return this.batch(()=>{var c;const a=this.getPages(),l=Yu(s.index,(c=a[a.indexOf(s)+1])==null?void 0:c.index);if(this.createPage({name:s.name+" Copy",id:n,index:l}),this.setCurrentPage(n),this.setCamera(i),o)return this.putContentOntoCurrentPage(o)}),this}renamePage(e,n,r){const s=typeof e=="string"?e:e.id;return this.getInstanceState().isReadonly?this:(this.updatePage({id:s,name:n},r),this)}_getAllAssetsQuery(){return this.store.query.records("asset")}getAssets(){return this._getAllAssetsQuery().get()}createAssets(e){return this._createAssets(e),this}updateAssets(e){return this._updateAssets(e),this}deleteAssets(e){const n=typeof e[0]=="string"?e:e.map(r=>r.id);return this._deleteAssets(n),this}getAsset(e){return this.store.get(typeof e=="string"?e:e.id)}_getShapeGeometryCache(){return this.store.createComputedCache("bounds",e=>this.getShapeUtil(e).getGeometry(e),(e,n)=>e.props===n.props)}getShapeGeometry(e){return this._getShapeGeometryCache().get(typeof e=="string"?e:e.id)}_getShapeOutlineSegmentsCache(){return this.store.createComputedCache("outline-segments",e=>this.getShapeUtil(e).getOutlineSegments(e))}getShapeOutlineSegments(e){return this._getShapeOutlineSegmentsCache().get(typeof e=="string"?e:e.id)??Aa}_getShapeHandlesCache(){return this.store.createComputedCache("handles",e=>{var n,r;return(r=(n=this.getShapeUtil(e)).getHandles)==null?void 0:r.call(n,e)})}getShapeHandles(e){return this._getShapeHandlesCache().get(typeof e=="string"?e:e.id)}getShapeLocalTransform(e){const n=typeof e=="string"?e:e.id,r=this.getShape(n);if(!r)throw Error("Editor.getTransform: shape not found");return he.Identity().translate(r.x,r.y).rotate(r.rotation)}_getShapePageTransformCache(){return this.store.createComputedCache("pageTransformCache",e=>{if(zr(e.parentId))return this.getShapeLocalTransform(e);const n=this._getShapePageTransformCache().get(e.parentId)??he.Identity();return he.Compose(n,this.getShapeLocalTransform(e))})}getShapeParentTransform(e){const n=typeof e=="string"?e:e.id,r=this.getShape(n);return!r||zr(r.parentId)?he.Identity():this._getShapePageTransformCache().get(r.parentId)??he.Identity()}getShapePageTransform(e){const n=typeof e=="string"?e:this.getShape(e).id;return this._getShapePageTransformCache().get(n)??he.Identity()}_getShapePageBoundsCache(){return this.store.createComputedCache("pageBoundsCache",e=>{const n=this._getShapePageTransformCache().get(e.id);return n?fe.FromPoints(he.applyToPoints(n,this.getShapeGeometry(e).vertices)):new fe})}getShapePageBounds(e){return this._getShapePageBoundsCache().get(typeof e=="string"?e:e.id)}_getShapeClipPathCache(){return this.store.createComputedCache("clipPathCache",e=>{const n=this._getShapeMaskCache().get(e.id);if(!n)return;if(n.length===0)return"polygon(0px 0px, 0px 0px, 0px 0px)";const r=this._getShapePageTransformCache().get(e.id);return r?`polygon(${he.applyToPoints(he.Inverse(r),n).map(i=>`${i.x}px ${i.y}px`).join(",")})`:void 0})}getShapeClipPath(e){return this._getShapeClipPathCache().get(typeof e=="string"?e:e.id)}_getShapeMaskCache(){return this.store.createComputedCache("pageMaskCache",e=>{if(zr(e.parentId))return;const n=this.getShapeAncestors(e.id).filter(s=>this.isShapeOfType(s,"frame"));return n.length===0?void 0:n.map(s=>this._getShapePageTransformCache().get(s.id).applyToPoints(this.getShapeGeometry(s).vertices)).reduce((s,i)=>{if(!(i&&s))return;const o=Q5(s,i);return o?o.map(I.Cast):[]})})}getShapeMask(e){return this._getShapeMaskCache().get(typeof e=="string"?e:e.id)}getShapeMaskedPageBounds(e){typeof e!="string"&&(e=e.id);const n=this._getShapePageBoundsCache().get(e);if(!n)return;const r=this._getShapeMaskCache().get(e);if(r){if(r.length===0)return;const{corners:s}=n;if(s.every((o,a)=>I.Equals(o,r[a])))return n.clone();const i=Q5(r,s);return i?fe.FromPoints(i):void 0}return n}getShapeAncestors(e,n=[]){const r=typeof e=="string"?e:e.id,s=this.getShape(r);if(!s)return n;const i=s.parentId;if(zr(i))return n.reverse(),n;const o=this.store.get(i);return o?(n.push(o),this.getShapeAncestors(o,n)):n}findShapeAncestor(e,n){const r=typeof e=="string"?e:e.id,s=this.getShape(r);if(!s)return;const i=s.parentId;if(zr(i))return;const o=this.getShape(i);if(o)return n(o)?o:this.findShapeAncestor(o,n)}hasAncestor(e,n){const r=typeof e=="string"?e:e==null?void 0:e.id,s=r&&this.getShape(r);return s?s.parentId===n?!0:this.hasAncestor(this.getShapeParent(s),n):!1}findCommonAncestor(e,n){var l;if(e.length===0)return;const r=typeof e[0]=="string"?e:e.map(c=>c.id),s=ke(r.map(c=>this.getShape(c)));if(s.length===1){const c=s[0].parentId;return zr(c)?void 0:n?(l=this.findShapeAncestor(s[0],n))==null?void 0:l.id:c}const[i,...o]=s;let a=this.getShapeParent(i);for(;a;){if(n&&!n(a)){a=this.getShapeParent(a);continue}if(o.every(c=>this.hasAncestor(c,a.id)))return a.id;a=this.getShapeParent(a)}}isShapeOrAncestorLocked(e){const n=typeof e=="string"?this.getShape(e):e;return n===void 0?!1:n.isLocked?!0:this.isShapeOrAncestorLocked(this.getShapeParent(n))}getCurrentPageBounds(){let e;return this.getCurrentPageShapeIds().forEach(n=>{const r=this.getShapeMaskedPageBounds(n);r&&(e?e=e.expand(r):e=r.clone())}),e}getSelectedShapeAtPoint(e){const n=this.getSelectedShapeIds();return this.getCurrentPageShapesSorted().filter(r=>r.type!=="group"&&n.includes(r.id)).reverse().find(r=>this.isPointInShape(r,e,{hitInside:!0,margin:0}))}getShapeAtPoint(e,n={}){const r=this.getZoomLevel(),s=this.getViewportPageBounds(),{filter:i,margin:o=0,hitLabels:a=!1,hitInside:l=!1,hitFrameInside:c=!1}=n;let d=1/0,h=null,u=1/0,p=null;const y=(n.renderingOnly?this.getCurrentPageRenderingShapesSorted():this.getCurrentPageShapesSorted()).filter(m=>{if(this.isShapeOfType(m,"group"))return!1;const w=this.getShapeMask(m);return w&&!no(e,w)?!1:i?i(m):!0});for(let m=y.length-1;m>=0;m--){const w=y[m],S=this.getShapeGeometry(w),b=S instanceof ka,g=this.getPointInShapeSpace(w,e);if((this.isShapeOfType(w,"arrow")||this.isShapeOfType(w,"geo")&&w.props.fill==="none")&&w.props.text.trim()){for(const k of S.children)if(k.isLabel&&k.isPointInBounds(g))return w}if(this.isShapeOfType(w,"frame")){const k=S.distanceToPoint(g,l);if(Math.abs(k)<=o)return p||w;if(S.hitTestPoint(g,0,!0))return p||h||(c?w:void 0);continue}let x;if(b){let k=1/0;for(const C of S.children){if(C.isLabel&&!a)continue;const _=C.distanceToPoint(g,l);_<k&&(k=_)}x=k}else o===0&&(S.bounds.w<1||S.bounds.h<1)||S.bounds.containsPoint(g,o)?x=S.distanceToPoint(g,l):x=1/0;if(S.isClosed){if(x<=o){if(S.isFilled||b&&S.children[0].isFilled)return p||w;if(this.getShapePageBounds(w).contains(s))continue;if(Math.abs(x)<o)Math.abs(x)<u&&(u=Math.abs(x),p=w);else if(!p){const{area:k}=S;k<d&&(d=k,h=w)}}}else if(x<mi/r)return w}return p||h||void 0}getShapesAtPoint(e,n={}){return this.getCurrentPageShapes().filter(r=>this.isPointInShape(r,e,n))}isPointInShape(e,n,r={}){const{hitInside:s=!1,margin:i=0}=r,o=typeof e=="string"?e:e.id,a=this.getShapeMask(o);return a&&!no(n,a)?!1:this.getShapeGeometry(o).hitTestPoint(this.getPointInShapeSpace(e,n),i,s)}getPointInShapeSpace(e,n){const r=typeof e=="string"?e:e.id;return this._getShapePageTransformCache().get(r).clone().invert().applyToPoint(n)}getPointInParentSpace(e,n){const r=typeof e=="string"?e:e.id,s=this.getShape(r);if(!s)return new I(0,0);if(zr(s.parentId))return I.From(n);const i=this.getShapePageTransform(s.parentId);return i?i.clone().invert().applyToPoint(n):I.From(n)}getCurrentPageShapes(){return Array.from(this.getCurrentPageShapeIds(),e=>this.store.get(e))}getCurrentPageShapesSorted(){const e=new Set(this.getCurrentPageShapes().sort(tr)),n=[];function r(s){n.push(s),e.delete(s),e.forEach(i=>{i.parentId===s.id&&r(i)})}return e.forEach(s=>{const i=this.getShape(s.parentId);$l(i)||r(s)}),n}getCurrentPageRenderingShapesSorted(){return this.getRenderingShapes().filter(({isCulled:e})=>!e).sort((e,n)=>e.index-n.index).map(({shape:e})=>e)}isShapeOfType(e,n){return(typeof e=="string"?this.getShape(e):e).type===n}getShape(e){const n=typeof e=="string"?e:e.id;if(zs(n))return this.store.get(n)}getShapeParent(e){const n=typeof e=="string"?e:e==null?void 0:e.id;if(!n)return;const r=this.getShape(n);if(!(r===void 0||!zs(r.parentId)))return this.store.get(r.parentId)}getShapeNearestSibling(e,n){return n?n.parentId===e.parentId?n:this.findShapeAncestor(n,s=>s.parentId===e.parentId):void 0}isShapeInPage(e,n=this.getCurrentPageId()){const r=typeof e=="string"?e:e.id,s=this.getShape(r);if(!s)return!1;let i=!1;if(s.parentId===n)i=!0;else{let o=this.getShape(s.parentId);e:for(;o;){if(o.parentId===n){i=!0;break e}o=this.getShape(o.parentId)}}return i}getAncestorPageId(e){const n=typeof e=="string"?e:e==null?void 0:e.id,r=n&&this.getShape(n);if(r)return zr(r.parentId)?r.parentId:this.getAncestorPageId(this.getShape(r.parentId))}reparentShapes(e,n,r){const s=typeof e[0]=="string"?e:e.map(p=>p.id);if(s.length===0)return this;const i=[],o=zr(n)?he.Identity():this.getShapePageTransform(n),a=o.rotation();let l=[];const c=ke(this.getSortedChildIdsForParent(n).map(p=>this.getShape(p)));if(r){const p=c.find(y=>y.index===r);if(p){const y=c[c.indexOf(p)+1];y?l=oh(r,y.index,s.length):l=j2(r,s.length)}else{const y=c.sort(tr).find(m=>m.index>r);y?l=oh(r,y.index,s.length):l=j2(r,s.length)}}else{const p=c.length&&c[c.length-1];l=p?j2(p.index,s.length):MI(s.length)}const d=o.clone().invert(),h=ke(s.map(p=>this.getShape(p))),u=h.filter(p=>p.isLocked);u.length&&this.updateShapes(u.map(({id:p,type:y})=>({id:p,type:y,isLocked:!1})));for(let p=0;p<h.length;p++){const y=h[p],m=this.getShapePageTransform(y);if(!m)continue;const w=m.point();if(!w)continue;const S=d.applyToPoint(w),b=m.rotation()-a;i.push({id:y.id,type:y.type,parentId:n,x:S.x,y:S.y,rotation:b,index:l[p],isLocked:y.isLocked})}return this.updateShapes(i),this}getHighestIndexForParent(e){const n=typeof e=="string"?e:e.id,r=this._parentIdsToChildIds.get()[n];if(!r||r.length===0)return"a1";const s=this.getShape(r[r.length-1]);return vo(s.index)}getSortedChildIdsForParent(e){const n=typeof e=="string"?e:e.id,r=this._parentIdsToChildIds.get()[n];return r?this._childIdsCache.get(r,()=>r):Aa}visitDescendants(e,n){const r=typeof e=="string"?e:e.id,s=this.getSortedChildIdsForParent(r);for(const i of s)n(i)!==!1&&this.visitDescendants(i,n);return this}getShapeAndDescendantIds(e){const n=new Set,r=[...e];for(;r.length>0;){const s=r.pop();if(!s)break;if(!n.has(s)){n.add(s);for(const i of this.getSortedChildIdsForParent(s))r.push(i)}}return n}getDroppingOverShape(e,n=[]){const r=this.getCurrentPageShapesSorted();for(let s=r.length-1;s>=0;s--){const i=r[s];if(!this.getShapeUtil(i).canDropShapes(i,n)||n.find(a=>a.id===i.id||this.hasAncestor(i,a.id)))continue;const o=this.getShapeMaskedPageBounds(i.id);if(o&&o.containsPoint(e)&&this.getShapeGeometry(i).hitTestPoint(this.getPointInShapeSpace(i,e),0,!0))return i}}getOutermostSelectableShape(e,n){const r=typeof e=="string"?e:e.id,s=this.getShape(r);let i=s,o=s;const a=this.getFocusedGroup();for(;o;){if(this.isShapeOfType(o,"group")&&(a==null?void 0:a.id)!==o.id&&!this.hasAncestor(a,o.id)&&((n==null?void 0:n(o))??!0))i=o;else if((a==null?void 0:a.id)===o.id)break;o=this.getShapeParent(o)}return i}rotateShapesBy(e,n){if((typeof e[0]=="string"?e:e.map(i=>i.id)).length<=0)return this;const s=jI({editor:this});return s?(_0({delta:n,snapshot:s,editor:this,stage:"one-off"}),this):this}nudgeShapes(e,n,r){var o,a;const s=typeof e[0]=="string"?e:e.map(l=>l.id);if(s.length<=0)return this;const i=[];for(const l of s){const c=this.getShape(l);if(!c)throw Error(`Could not find a shape with the id ${l}.`);const d=I.Cast(n),h=this.getShapeParentTransform(c);h&&d.rot(-h.rotation());const u=(a=(o=this.getShapeUtil(c)).onTranslateStart)==null?void 0:a.call(o,c);i.push(u?{...u,x:c.x+d.x,y:c.y+d.y}:{id:l,x:c.x+d.x,y:c.y+d.y,type:c.type})}return this.updateShapes(i,{squashing:!0,...r}),this}duplicateShapes(e,n){const r=typeof e[0]=="string"?e:e.map(c=>c.id);if(r.length<=0)return this;const s=new Set(r),i=[],o=[...r];for(;o.length>0;){const c=o.pop();if(!c)break;i.push(c),this.getSortedChildIdsForParent(c).forEach(d=>o.push(d))}i.reverse();const a=new Map(i.map(c=>[c,at()])),l=ke(i.map(c=>{const d=this.getShape(c);if(!d)return null;const h=a.get(c);let u=0,p=0;if(n&&s.has(c)){const k=this.getShapeParentTransform(d),C=new I(n.x,n.y).rot(-k.rotation());u=C.x,p=C.y}const y=d.parentId??this.getCurrentPageId(),m=this.getSortedChildIdsForParent(y),w=m.indexOf(d.id),S=m[w+1],b=S?this.getShape(S):null,g=b?Yu(d.index,b.index):vo(d.index);let x=jr(d);if(this.isShapeOfType(d,"arrow")&&this.isShapeOfType(x,"arrow")){const k=this.getArrowInfo(d);let C,_;if(d.props.start.type==="binding"&&(C=a.get(d.props.start.boundShapeId),!C))if(k!=null&&k.isValid){const{x:z,y:P}=k.start.point;x.props.start={type:"point",x:z,y:P}}else{const{start:z}=oi(this,d);x.props.start={type:"point",x:z.x,y:z.y}}if(d.props.end.type==="binding"&&(_=a.get(d.props.end.boundShapeId),!_))if(k!=null&&k.isValid){const{x:z,y:P}=k.end.point;x.props.end={type:"point",x:z,y:P}}else{const{end:z}=oi(this,d);x.props.start={type:"point",x:z.x,y:z.y}}const E=nu(x)?Hu(this,x):O2(this,x);if(k!=null&&k.isValid&&(E!=null&&E.isValid)&&!nu(d)){const z=I.Med(k.start.handle,k.end.handle),P=I.Dist(k.middle,z),A=I.Dist(E.middle,z);x.props.bend<0?x.props.bend+=A-P:x.props.bend-=A-P}x.props.start.type==="binding"&&C&&(x.props.start.boundShapeId=C),x.props.end.type==="binding"&&_&&(x.props.end.boundShapeId=_)}return x={...x,id:h,x:d.x+u,y:d.y+p,index:g},x}));return l.forEach(c=>{zs(c.parentId)&&a.has(c.parentId)&&(c.parentId=a.get(c.parentId))}),this.history.batch(()=>{const c=l.length+this.getCurrentPageShapeIds().size>mo;c&&gg(this);const d=c?l.slice(0,mo-this.getCurrentPageShapeIds().size):l,h=d.map(u=>u.id);if(this.createShapes(d),this.setSelectedShapes(h),n!==void 0){const u=this.getSelectionPageBounds(),p=this.getViewportPageBounds();u&&!p.contains(u)&&this.centerOnPoint(u.center,{duration:Eo})}}),this}moveShapesToPage(e,n){const r=typeof e[0]=="string"?e:e.map(a=>a.id);if(r.length===0)return this;if(this.getInstanceState().isReadonly)return this;const s=this.getCurrentPageId();if(n===s)return this;if(!this.store.has(n))return this;const i=this.getContentFromCurrentPage(r);if(!i)return this;if(this.getPageShapeIds(n).size+i.shapes.length>mo)return gg(this,n),this;const o=this.getCamera().z;return this.history.batch(()=>{this.deleteShapes(r),this.setCurrentPage(n),this.setFocusedGroup(null),this.selectNone(),this.putContentOntoCurrentPage(i,{select:!0,preserveIds:!0,preservePosition:!0}),this.setCamera({...this.getCamera(),z:o}),this.centerOnPoint(this.getSelectionRotatedPageBounds().center)}),this}toggleLock(e){const n=typeof e[0]=="string"?e:e.map(o=>o.id);if(this.getInstanceState().isReadonly||n.length===0)return this;let r=!0,s=!0;const i=[];for(const o of n){const a=this.getShape(o);a&&(i.push(a),a.isLocked?s=!1:r=!1)}return this.batch(()=>{s?(this.updateShapes(i.map(o=>({id:o.id,type:o.type,isLocked:!0}))),this.setSelectedShapes([])):r?this.updateShapes(i.map(o=>({id:o.id,type:o.type,isLocked:!1}))):this.updateShapes(i.map(o=>({id:o.id,type:o.type,isLocked:!0})))}),this}sendToBack(e){const n=typeof e[0]=="string"?e:e.map(s=>s.id),r=fg(this,"toBack",n);return r&&this.updateShapes(r),this}sendBackward(e){const n=typeof e[0]=="string"?e:e.map(s=>s.id),r=fg(this,"backward",n);return r&&this.updateShapes(r),this}bringForward(e){const n=typeof e[0]=="string"?e:e.map(s=>s.id),r=fg(this,"forward",n);return r&&this.updateShapes(r),this}bringToFront(e){const n=typeof e[0]=="string"?e:e.map(s=>s.id),r=fg(this,"toFront",n);return r&&this.updateShapes(r),this}flipShapes(e,n){const r=typeof e[0]=="string"?e:e.map(o=>o.id);if(this.getInstanceState().isReadonly)return this;let s=ke(r.map(o=>this.getShape(o)));if(!s.length)return this;s=ke(s.map(o=>this.isShapeOfType(o,"group")?this.getSortedChildIdsForParent(o.id).map(a=>this.getShape(a)):o).flat());const i=fe.Common(ke(s.map(o=>this.getShapePageBounds(o)))).center;return this.batch(()=>{for(const o of s){const a=this.getShapeGeometry(o).bounds,l=this.getShapePageTransform(o.id);l&&this.resizeShape(o.id,{x:n==="horizontal"?-1:1,y:n==="vertical"?-1:1},{initialBounds:a,initialPageTransform:l,initialShape:o,mode:"scale_shape",scaleOrigin:i,scaleAxisRotation:0})}}),this}stackShapes(e,n,r){const s=typeof e[0]=="string"?e:e.map(m=>m.id);if(this.getInstanceState().isReadonly)return this;const i=ke(s.map(m=>this.getShape(m)).filter(m=>!(!m||this.isShapeOfType(m,"arrow")&&(m.props.start.type==="binding"||m.props.end.type==="binding")))),o=i.length;if(r===0&&o<3||o<2)return this;const a=Object.fromEntries(i.map(m=>[m.id,this.getShapePageBounds(m)]));let l,c,d,h;n==="horizontal"?(l="x",c="minX",d="maxX",h="width"):(l="y",c="minY",d="maxY",h="height");let u;if(r===0){const m=[];i.sort((S,b)=>a[S.id][c]-a[b.id][c]);for(let S=0;S<o-1;S++){const b=i[S],g=i[S+1],x=a[b.id],C=a[g.id][c]-x[d],_=m.find(E=>E.gap===C);_?_.count++:m.push({gap:C,count:1})}let w=0;m.forEach(S=>{S.count>w&&(w=S.count,u=S.gap)}),w===1&&(u=Math.max(0,m.reduce((S,b)=>S+b.gap*b.count,0)/(o-1)))}else u=r;const p=[];let y=a[i[0].id][d];return i.forEach((m,w)=>{var k,C;if(w===0)return;const S={x:0,y:0};S[l]=y+u-a[m.id][l];const b=this.getShapeParent(m),g=b?I.Rot(S,-this.getShapePageTransform(b).decompose().rotation):S,x=(C=(k=this.getShapeUtil(m)).onTranslateStart)==null?void 0:C.call(k,m);p.push(x?{...x,[l]:m[l]+g[l]}:{id:m.id,type:m.type,[l]:m[l]+g[l]}),y+=a[m.id][h]+u}),this.updateShapes(p),this}packShapes(e,n){var C,_;const r=typeof e[0]=="string"?e:e.map(E=>E.id);if(this.getInstanceState().isReadonly)return this;if(r.length<2)return this;const s=ke(r.map(E=>this.getShape(E)).filter(E=>!(!E||this.isShapeOfType(E,"arrow")&&(E.props.start.type==="binding"||E.props.end.type==="binding")))),i={},o={};let a,l,c=0;for(let E=0;E<s.length;E++)a=s[E],l=this.getShapePageBounds(a),i[a.id]=l,o[a.id]=l.clone(),c+=l.width*l.height;const d=fe.Common(ke(Object.values(i))),h=d.width;s.sort((E,z)=>i[z.id].height-i[E.id].height);const u=Math.max(Math.ceil(Math.sqrt(c/.95)),h),p=[new fe(d.x,d.y,u,1/0)];let y=0,m=0,w,S;for(let E=0;E<s.length;E++){a=s[E],l=o[a.id];for(let z=p.length-1;z>=0;z--)if(w=p[z],!(l.width>w.width||l.height>w.height)){l.x=w.x,l.y=w.y,m=Math.max(m,l.maxY),y=Math.max(y,l.maxX),l.width===w.width&&l.height===w.height?(S=p.pop(),z<p.length&&(p[z]=S)):l.height===w.height?(w.x+=l.width+n,w.width-=l.width+n):l.width===w.width?(w.y+=l.height+n,w.height-=l.height+n):(p.push(new fe(w.x+(l.width+n),w.y,w.width-(l.width+n),l.height)),w.y+=l.height+n,w.height-=l.height+n);break}}const b=fe.Common(Object.values(o)),g=I.Sub(d.center,b.center);let x;const k=[];for(let E=0;E<s.length;E++){a=s[E],l=i[a.id],x=o[a.id];const z=I.Sub(x.point,l.point).add(g),P=this.getShapeParentTransform(a);P&&z.rot(-P.rotation());const A={id:a.id,type:a.type,x:a.x+z.x,y:a.y+z.y},N=(_=(C=this.getShapeUtil(a)).onTranslateStart)==null?void 0:_.call(C,{...a,...A});N?k.push({...A,...N}):k.push(A)}return k.length&&this.updateShapes(k),this}alignShapes(e,n){const r=typeof e[0]=="string"?e:e.map(l=>l.id);if(this.getInstanceState().isReadonly)return this;if(r.length<2)return this;const s=ke(r.map(l=>this.getShape(l))),i=Object.fromEntries(s.map(l=>[l.id,this.getShapePageBounds(l)])),o=fe.Common(ke(Object.values(i))),a=[];return s.forEach(l=>{var y,m;const c=i[l.id];if(!c)return;const d={x:0,y:0};switch(n){case"top":{d.y=o.minY-c.minY;break}case"center-vertical":{d.y=o.midY-c.minY-c.height/2;break}case"bottom":{d.y=o.maxY-c.minY-c.height;break}case"left":{d.x=o.minX-c.minX;break}case"center-horizontal":{d.x=o.midX-c.minX-c.width/2;break}case"right":{d.x=o.maxX-c.minX-c.width;break}}const h=this.getShapeParent(l),u=h?I.Rot(d,-this.getShapePageTransform(h).decompose().rotation):d,p=(m=(y=this.getShapeUtil(l)).onTranslateStart)==null?void 0:m.call(y,l);a.push(p?{...p,x:l.x+u.x,y:l.y+u.y}:{id:l.id,type:l.type,x:l.x+u.x,y:l.y+u.y})}),this.updateShapes(a),this}distributeShapes(e,n){const r=typeof e[0]=="string"?e:e.map(b=>b.id);if(this.getInstanceState().isReadonly)return this;if(r.length<3)return this;const s=r.length,i=ke(r.map(b=>this.getShape(b))),o=Object.fromEntries(i.map(b=>[b.id,this.getShapePageBounds(b)]));let a,l,c,d,h;n==="horizontal"?(a="x",l="minX",c="maxX",d="midX",h="width"):(a="y",l="minY",c="maxY",d="midY",h="height");const u=[],p=i.sort((b,g)=>o[b.id][l]-o[g.id][l])[0],y=i.sort((b,g)=>o[g.id][c]-o[b.id][c])[0],m=o[p.id][d],w=(o[y.id][d]-m)/(s-1),S=m+w;return i.filter(b=>b!==p&&b!==y).sort((b,g)=>o[b.id][d]-o[g.id][d]).forEach((b,g)=>{var E,z;const x={x:0,y:0};x[a]=S+w*g-o[b.id][h]/2-o[b.id][a];const k=this.getShapeParent(b),C=k?I.Rot(x,-this.getShapePageTransform(k).rotation()):x,_=(z=(E=this.getShapeUtil(b)).onTranslateStart)==null?void 0:z.call(E,b);u.push(_?{..._,[a]:b[a]+C[a]}:{id:b.id,type:b.type,[a]:b[a]+C[a]})}),this.updateShapes(u),this}stretchShapes(e,n){const r=typeof e[0]=="string"?e:e.map(l=>l.id);if(this.getInstanceState().isReadonly)return this;if(r.length<2)return this;const s=ke(r.map(l=>this.getShape(l))),i=Object.fromEntries(r.map(l=>[l,this.getShapeGeometry(l).bounds])),o=Object.fromEntries(r.map(l=>[l,this.getShapePageBounds(l)])),a=fe.Common(ke(Object.values(o)));switch(n){case"vertical":{this.batch(()=>{for(const l of s){if(this.getShapePageTransform(l).rotation()%nt)continue;const d=i[l.id],h=o[l.id],u=new I(0,a.minY-h.minY),p=this.getShapeParentTransform(l);p&&u.rot(-p.rotation());const{x:y,y:m}=I.Add(u,l);this.updateShapes([{id:l.id,type:l.type,x:y,y:m}],{squashing:!0});const w=new I(1,a.height/h.height);this.resizeShape(l.id,w,{initialBounds:d,scaleOrigin:new I(h.center.x,a.minY),scaleAxisRotation:0})}});break}case"horizontal":{this.batch(()=>{for(const l of s){const c=i[l.id],d=o[l.id];if(this.getShapePageTransform(l).rotation()%nt)continue;const u=new I(a.minX-d.minX,0),p=this.getShapeParentTransform(l);p&&u.rot(-p.rotation());const{x:y,y:m}=I.Add(u,l);this.updateShapes([{id:l.id,type:l.type,x:y,y:m}],{squashing:!0});const w=new I(a.width/d.width,1);this.resizeShape(l.id,w,{initialBounds:c,scaleOrigin:new I(a.minX,d.center.y),scaleAxisRotation:0})}});break}}return this}resizeShape(e,n,r={}){var u;const s=typeof e=="string"?e:e.id;if(this.getInstanceState().isReadonly)return this;Number.isFinite(n.x)||(n=new I(1,n.y)),Number.isFinite(n.y)||(n=new I(n.x,1));const i=r.initialShape??this.getShape(s);if(!i)return this;const o=r.scaleOrigin??((u=this.getShapePageBounds(s))==null?void 0:u.center);if(!o)return this;const a=r.initialPageTransform?he.Cast(r.initialPageTransform):this.getShapePageTransform(s);if(!a)return this;const l=a.rotation();if(l==null)return this;const c=r.scaleAxisRotation??l,d=r.initialBounds??this.getShapeGeometry(s).bounds;if(!d)return this;if(!KE(l,c))return this._resizeUnalignedShape(s,n,{...r,initialBounds:d,scaleOrigin:o,scaleAxisRotation:c,initialPageTransform:a,initialShape:i});const h=this.getShapeUtil(i);if(h.isAspectRatioLocked(i)&&(Math.abs(n.x)>Math.abs(n.y)?n=new I(n.x,Math.sign(n.y)*Math.abs(n.x)):n=new I(Math.sign(n.x)*Math.abs(n.y),n.y)),h.onResize&&h.canResize(i)){const p=this._scalePagePoint(he.applyToPoint(a,new I(0,0)),o,n,c),y=this.getPointInParentSpace(i.id,p),m=new I(n.x,n.y),w=Vu((l-c)%Math.PI,0);m.x=w?n.x:n.y,m.y=w?n.y:n.x;const S=he.applyToPoint(a,new I),{x:b,y:g}=this.getPointInParentSpace(i.id,S);this.updateShapes([{id:s,type:i.type,x:y.x,y:y.y,...h.onResize({...i,x:b,y:g},{newPoint:y,handle:r.dragHandle??"bottom_right",mode:r.mode??"scale_shape",scaleX:m.x,scaleY:m.y,initialBounds:d,initialShape:i})}],{squashing:!0})}else{const p=he.applyToPoint(a,d.center),y=this._scalePagePoint(p,o,n,c),m=this.getPointInParentSpace(i.id,p),w=this.getPointInParentSpace(i.id,y),S=I.Sub(w,m);this.updateShapes([{id:s,type:i.type,x:i.x+S.x,y:i.y+S.y}],{squashing:!0})}return this}_scalePagePoint(e,n,r,s){const i=I.RotWith(e,n,-s).sub(n),o=I.MulV(i,r);return I.Add(o,n).rotWith(n,s)}_resizeUnalignedShape(e,n,r){const{type:s}=r.initialShape,i=new I(n.x,n.y);if(Math.abs(n.x)>Math.abs(n.y)?i.x=Math.sign(n.x)*Math.abs(n.y):i.y=Math.sign(n.y)*Math.abs(n.x),this.resizeShape(e,i,{initialShape:r.initialShape,initialBounds:r.initialBounds}),Math.sign(n.x)*Math.sign(n.y)<0){let{rotation:w}=he.Decompose(r.initialPageTransform);w-=2*w,this.updateShapes([{id:e,type:s,rotation:w}],{squashing:!0})}const o=he.applyToPoint(r.initialPageTransform,r.initialBounds.center),a=this._scalePagePoint(o,r.scaleOrigin,n,r.scaleAxisRotation),l=this.getShapePageBounds(e),c=this.getShapePageTransform(e),d=l.center,h=c.point();if(!d||!h)return this;const u=I.Sub(a,d),p=I.Add(h,u),{x:y,y:m}=this.getPointInParentSpace(e,p);return this.updateShapes([{id:e,type:s,x:y,y:m}],{squashing:!0}),this}getInitialMetaForShape(e){return{}}createShape(e){return this._createShapes([e]),this}createShapes(e){if(!Array.isArray(e))throw Error("Editor.createShapes: must provide an array of shapes or shape partials");return this._createShapes(e),this}animateShape(e,n){return this.animateShapes([e],n)}animateShapes(e,n={}){const{duration:r=500,easing:s=dr.linear}=n,i=pt();let o=r,a;const l=[];e.forEach(h=>{if(!h)return;const u={partial:h,values:[]},p=this.getShape(h.id);if(p){for(const y of["x","y","rotation"])h[y]!==void 0&&p[y]!==h[y]&&u.values.push({prop:y,from:p[y],to:h[y]});l.push(u),this.animatingShapes.set(p.id,i)}});let c;const d=h=>{if(o-=h,o<0){const{animatingShapes:p}=this,y=e.filter(m=>m&&p.get(m.id)===i);y.length&&this.updateShapes(y,{squashing:!1}),this.removeListener("tick",d);return}a=s(1-o/r);const{animatingShapes:u}=this;try{const p=[];for(let y=0;y<l.length;y++)c=l[y],u.get(c.partial.id)===i&&p.push({id:c.partial.id,type:c.partial.type,...c.values.reduce((m,{prop:w,from:S,to:b})=>(m[w]=S+(b-S)*a,m),{})});this._updateShapes(p,{squashing:!0})}catch{}};return this.addListener("tick",d),this}groupShapes(e,n=at()){var u;if(!Array.isArray(e))throw Error("Editor.groupShapes: must provide an array of shapes or shape ids");if(this.getInstanceState().isReadonly)return this;const r=typeof e[0]=="string"?e:e.map(p=>p.id);if(r.length<=1)return this;const s=ke(this._getUnlockedShapeIds(r).map(p=>this.getShape(p))),i=s.sort(tr).map(p=>p.id),o=fe.Common(ke(s.map(p=>this.getShapePageBounds(p)))),{x:a,y:l}=o.point,c=this.findCommonAncestor(s)??this.getCurrentPageId();if(this.getCurrentToolId()!=="select")return this;this.isIn("select.idle")||this.cancel();const d=s.filter(p=>p.parentId===c).sort(tr),h=(u=d[d.length-1])==null?void 0:u.index;return this.batch(()=>{this.createShapes([{id:n,type:"group",parentId:c,index:h,x:a,y:l,opacity:1,props:{}}]),this.reparentShapes(i,n),this.select(n)}),this}ungroupShapes(e){const n=typeof e[0]=="string"?e:e.map(o=>o.id);if(this.getInstanceState().isReadonly)return this;if(n.length===0)return this;if(this.getCurrentToolId()!=="select")return this;this.isIn("select.idle")||this.cancel();const r=new Set,s=ke(n.map(o=>this.getShape(o))),i=[];return s.forEach(o=>{this.isShapeOfType(o,"group")?i.push(o):r.add(o.id)}),i.length===0?this:(this.batch(()=>{let o;for(let a=0,l=i.length;a<l;a++){o=i[a];const c=this.getSortedChildIdsForParent(o.id);for(let d=0,h=c.length;d<h;d++)r.add(c[d]);this.reparentShapes(c,o.parentId,o.index)}this.deleteShapes(i.map(a=>a.id)),this.select(...r)}),this)}updateShape(e,n){return this.updateShapes([e],n),this}updateShapes(e,n){let r=ke(e);return this.animatingShapes.size>0&&r.forEach(s=>this.animatingShapes.delete(s.id)),r=r.filter(s=>{const i=this.getShape(s.id);return!(!i||this.isShapeOrAncestorLocked(i)&&!Object.hasOwn(s,"isLocked"))}),this._updateShapes(r,n),this}_getUnlockedShapeIds(e){return e.filter(n=>{var r;return!((r=this.getShape(n))!=null&&r.isLocked)})}deleteShapes(e){if(!Array.isArray(e))throw Error("Editor.deleteShapes: must provide an array of shapes or shapeIds");return this._deleteShapes(this._getUnlockedShapeIds(typeof e[0]=="string"?e:e.map(n=>n.id))),this}deleteShape(e){return this.deleteShapes([typeof e=="string"?e:e.id]),this}_extractSharedStyles(e,n){if(this.isShapeOfType(e,"group")){const r=this._parentIdsToChildIds.get()[e.id];if(!r)return;for(let s=0,i=r.length;s<i;s++)this._extractSharedStyles(this.getShape(r[s]),n)}else for(const[r,s]of this.styleProps[e.type])n.applyValue(r,P2(e.props,s))}getStyleForNextShape(e){const n=this.getInstanceState().stylesForNextShape[e.id];return n===void 0?e.defaultValue:n}getShapeStyleIfExists(e,n){const r=this.styleProps[e.type].get(n);if(r!==void 0)return P2(e.props,r)}getSharedStyles(){if(this.isIn("select")&&this.getSelectedShapeIds().length>0)return this._selectionSharedStyles.get();const e=this.root.getCurrent(),n=new J5;if(!e)return n;if(e.shapeType)for(const r of this.styleProps[e.shapeType].keys())n.applyValue(r,this.getStyleForNextShape(r));return n}getSharedOpacity(){if(this.isIn("select")&&this.getSelectedShapeIds().length>0){const e=[],n=s=>{const i=this.getShape(s);if(i)if(this.isShapeOfType(i,"group"))for(const o of this.getSortedChildIdsForParent(i.id))n(o);else e.push(i)};for(const s of this.getSelectedShapeIds())n(s);let r=null;for(const s of e)if(r===null)r=s.opacity;else if(r!==s.opacity)return{type:"mixed"};if(r!==null)return{type:"shared",value:r}}return{type:"shared",value:this.getInstanceState().opacityForNextShape}}setOpacityForNextShapes(e,n){return this.updateInstanceState({opacityForNextShape:e},n),this}setOpacityForSelectedShapes(e,n){const r=this.getSelectedShapes();if(r.length>0){const s=[],i=o=>{if(this.isShapeOfType(o,"group")){const a=this.getSortedChildIdsForParent(o);for(const l of a)i(this.getShape(l))}else s.push(o)};for(const o of r)i(o);this.updateShapes(s.map(o=>({id:o.id,type:o.type,opacity:e})),n)}return this}setStyleForNextShapes(e,n,r){const s=this.getInstanceState().stylesForNextShape;return this.updateInstanceState({stylesForNextShape:{...s,[e.id]:n}},r),this}setStyleForSelectedShapes(e,n,r){const s=this.getSelectedShapes();if(s.length>0){const i=[],o=a=>{if(this.isShapeOfType(a,"group")){const l=this.getSortedChildIdsForParent(a.id);for(const c of l)o(this.getShape(c))}else{const l=this.getShapeUtil(a),c=this.styleProps[a.type].get(e);if(c){const d={id:a.id,type:a.type,props:{[c]:n}};i.push({util:l,originalShape:a,updatePartial:d})}}};for(const a of s)o(a);this.updateShapes(i.map(({updatePartial:a})=>a),r)}return this}registerExternalAssetHandler(e,n){return this.externalAssetContentHandlers[e]=n,this}async getAssetForExternalContent(e){var n,r;return await((r=(n=this.externalAssetContentHandlers)[e.type])==null?void 0:r.call(n,e))}registerExternalContentHandler(e,n){return this.externalContentHandlers[e]=n,this}async putExternalContent(e){var n,r;return(r=(n=this.externalContentHandlers)[e.type])==null?void 0:r.call(n,e)}getContentFromCurrentPage(e){const n=typeof e[0]=="string"?e:e.map(a=>a.id);if(!n||n.length===0)return;const r={};let s=am(n.map(a=>this.getShape(a)).sort(tr).flatMap(a=>{const l=[a];return this.visitDescendants(a.id,c=>{l.push(this.getShape(c))}),l}));s=s.map(a=>{if(r[a.id]=this.getShapePageTransform(a.id),a=md(a),this.isShapeOfType(a,"arrow")){const l=a.props.start.type==="binding"?a.props.start.boundShapeId:void 0,c=a.props.end.type==="binding"?a.props.end.boundShapeId:void 0,d=this.getArrowInfo(a);if(a.props.start.type==="binding"&&!s.some(u=>u.id===l))if(d!=null&&d.isValid){const{x:u,y:p}=d.start.point;a.props.start={type:"point",x:u,y:p}}else{const{start:u}=oi(this,a);a.props.start={type:"point",x:u.x,y:u.y}}if(a.props.end.type==="binding"&&!s.some(u=>u.id===c))if(d!=null&&d.isValid){const{x:u,y:p}=d.end.point;a.props.end={type:"point",x:u,y:p}}else{const{end:u}=oi(this,a);a.props.end={type:"point",x:u.x,y:u.y}}const h=nu(a)?Hu(this,a):O2(this,a);if(d!=null&&d.isValid&&(h!=null&&h.isValid)&&!nu(a)){const u=I.Med(d.start.handle,d.end.handle),p=I.Dist(d.middle,u),y=I.Dist(h.middle,u);a.props.bend<0?a.props.bend+=y-p:a.props.bend-=y-p}return a}return a});const i=[];s.forEach(a=>{if(s.find(l=>l.id===a.parentId)===void 0){const l=this.getShapePageTransform(a.id),c=l.point(),d=l.rotation();a.x=c.x,a.y=c.y,a.rotation=d,a.parentId=this.getCurrentPageId(),i.push(a.id)}});const o=new Set;return s.forEach(a=>{"assetId"in a.props&&a.props.assetId!==null&&o.add(a.props.assetId)}),{shapes:s,rootShapeIds:i,schema:this.store.schema.serialize(),assets:ke(Array.from(o).map(a=>this.getAsset(a)))}}putContentOntoCurrentPage(e,n={}){if(this.getInstanceState().isReadonly)return this;if(!e.schema)throw Error(`Could not put content:
content is missing a schema.`);const{select:r=!1,preserveIds:s=!1,preservePosition:i=!1}=n;let{point:o=void 0}=n;const a=this.getCurrentPageId(),{assets:l,shapes:c,rootShapeIds:d}=e,h=new Map(c.map(x=>[x.id,at()]));let u=this.getCurrentPageId(),p=1/0,y=[];for(const x of this.getSelectedShapes()){if(p===0)break;const k=this.isShapeOfType(x,"frame"),C=this.getShapeAncestors(x);k&&C.push(x);const _=k?C.length+1:C.length;if(_<p)p=_,y=C,u=k?x.id:x.parentId;else if(_===p){if(y.length!==C.length)throw Error(`Ancestors: ${y.length} !== ${C.length}`);if(y.length===0){u=a;break}else{u=a;for(let E=0;E<y.length&&C[E]===y[E];E++)u=C[E].id}}}let m=!1;if(!zr(u)){const x=this.getShape(u);if(x){if(!this.getViewportPageBounds().includes(this.getShapePageBounds(x)))u=a;else if(d.length===1){const k=c.find(C=>C.id===d[0]);this.isShapeOfType(x,"frame")&&this.isShapeOfType(k,"frame")&&k.props.w===(x==null?void 0:x.props.w)&&k.props.h===(x==null?void 0:x.props.h)&&(m=!0)}}else u=a}m||(m=h.has(u)),m&&(u=this.getShape(u).parentId);let w=this.getHighestIndexForParent(u);const S=[],b=c.map(x=>{let k;if(s)k=jr(x),h.set(x.id,x.id);else{const C=h.get(x.id);k=jr({...x,id:C})}if(d.includes(x.id)&&(k.parentId=a,S.push(k)),h.has(k.parentId)?k.parentId=h.get(x.parentId):(d.push(k.id),k.index=w,w=vo(w)),this.isShapeOfType(k,"arrow")){if(k.props.start.type==="binding"){const C=h.get(k.props.start.boundShapeId);k.props.start=C?{...k.props.start,boundShapeId:C}:{type:"point",x:0,y:0}}if(k.props.end.type==="binding"){const C=h.get(k.props.end.boundShapeId);k.props.end=C?{...k.props.end,boundShapeId:C}:{type:"point",x:0,y:0}}}return k});if(b.length+this.getCurrentPageShapeIds().size>mo)return gg(this),this;let g=[];if(l){for(let k=0;k<l.length;k++){const C=l[k],_=this.store.schema.migratePersistedRecord(C,e.schema);if(_.type==="success")l[k]=_.value;else throw Error(`Could not put content:
could not migrate content for asset:
${C.id}
${C.type}
reason:${_.reason}`)}const x=[];g=l.filter(k=>!this.store.has(k.id)).map(k=>{var C;return(k.type==="image"||k.type==="video")&&(k.props.src&&((C=k.props.src)!=null&&C.startsWith("data:image"))?(x.push(md(k)),k.props.src=null):x.push(md(k))),k}),Promise.allSettled(x.map(async k=>{const C=await UU(k.props.src,k.props.name,k.props.mimeType??"image/png"),_=await this.getAssetForExternalContent({type:"file",file:C});return _?[k,_]:null})).then(k=>{this.updateAssets(ke(k.map(C=>C.status==="fulfilled"&&C.value?{...C.value[1],id:C.value[0].id}:void 0)))})}for(let x=0;x<b.length;x++){const k=b[x],C=this.store.schema.migratePersistedRecord(k,e.schema);if(C.type==="success")b[x]=C.value;else throw Error(`Could not put content:
could not migrate content for shape:
${k.id}, ${k.type}
reason:${C.reason}`)}return this.batch(()=>{g.length>0&&this.createAssets(g),this.createShapes(b),r&&this.select(...S.map(E=>E.id)),u!==a&&this.reparentShapes(S.map(E=>E.id),u);const x=b.map(E=>this.getShape(E.id)),k=fe.Common(x.map(E=>this.getShapePageBounds(E)));if(o===void 0)if(zr(u)){const E=this.getViewportPageBounds();i||E.includes(fe.From(k))?o=k.center:o=E.center}else{const E=this.getShape(u);o=he.applyToPoint(this.getShapePageTransform(E),this.getShapeGeometry(E).bounds.center)}if(S.length===1){const E=S[0];if(this.isShapeOfType(E,"frame"))for(;this.getShapesAtPoint(o).some(z=>this.isShapeOfType(z,"frame")&&z.props.w===E.props.w&&z.props.h===E.props.h);)o.x+=k.w+16}const C=fe.Common(ke(S.map(({id:E})=>this.getShapePageBounds(E)))).center,_=I.Sub(o,C);this.updateShapes(S.map(({id:E})=>{const z=this.getShape(E),P=this.getShapeParentTransform(E).decompose().rotation,A=I.Rot(_,-P);return{id:z.id,type:z.type,x:z.x+A.x,y:z.y+A.y}}))}),this}async getSvg(e,n={}){var x,k;const r=typeof e[0]=="string"?e:e.map(C=>C.id);if(r.length===0)return;if(!window.document)throw Error("No document");const{scale:s=1,background:i=!1,padding:o=hF,preserveAspectRatio:a=!1}=n,l=pr({isDarkMode:this.user.getIsDarkMode()}),c=this.getShapeAndDescendantIds(r),d=this.getUnorderedRenderingShapes(!1).filter(({id:C})=>c.has(C));let h=null;if(n.bounds)h=n.bounds;else for(const{maskedPageBounds:C}of d)C&&(h?h.union(C):h=C.clone());if(!h)return;const u=r.length===1&&this.isShapeOfType(this.getShape(r[0]),"frame")?r[0]:null;u||h.expandBy(o);const p=h.width*s,y=h.height*s,m=window.document.createElementNS("http://www.w3.org/2000/svg","svg");a&&m.setAttribute("preserveAspectRatio",a),m.setAttribute("direction","ltr"),m.setAttribute("width",p+""),m.setAttribute("height",y+""),m.setAttribute("viewBox",`${h.minX} ${h.minY} ${h.width} ${h.height}`),m.setAttribute("stroke-linecap","round"),m.setAttribute("stroke-linejoin","round"),i?u?m.style.setProperty("background",l.solid):m.style.setProperty("background-color",l.background):m.style.setProperty("background-color","transparent");try{(k=(x=document.body).focus)==null||k.call(x)}catch{}const w=window.document.createElementNS("http://www.w3.org/2000/svg","defs");m.append(w);const S=new Map,b={addExportDef:C=>{if(S.has(C.key))return;const _=(async()=>{const E=await C.getElement();if(!E)return;const z=document.createComment(`def: ${C.key}`);w.appendChild(z);for(const P of Array.isArray(E)?E:[E])w.appendChild(P)})();S.set(C.key,_)}},g=(await Promise.all(d.map(async({id:C,opacity:_,index:E,backgroundIndex:z})=>{var X,O;if(C===u)return[];const P=this.getShape(C);if(this.isShapeOfType(P,"group"))return[];const A=this.getShapeUtil(P);let N=await((X=A.toSvg)==null?void 0:X.call(A,P,b)),L=await((O=A.toBackgroundSvg)==null?void 0:O.call(A,P,b));if(N){const K=document.createElementNS("http://www.w3.org/2000/svg","g");K.appendChild(N),N=K}if(L){const K=document.createElementNS("http://www.w3.org/2000/svg","g");K.appendChild(L),L=K}if(!N&&!L){const K=this.getShapePageBounds(P),W=window.document.createElementNS("http://www.w3.org/2000/svg","rect");W.setAttribute("width",K.width+""),W.setAttribute("height",K.height+""),W.setAttribute("fill",l.solid),W.setAttribute("stroke",l.grey.pattern),W.setAttribute("stroke-width","1"),N=W}let M=this.getShapePageTransform(P).toCssString();"scale"in P.props&&P.props.scale!==1&&(M=`${M} scale(${P.props.scale}, ${P.props.scale})`),N==null||N.setAttribute("transform",M),L==null||L.setAttribute("transform",M),N==null||N.setAttribute("opacity",_+""),L==null||L.setAttribute("opacity",_+"");const q=this.getShapeMask(P.id);if(q){const K=document.createElementNS("http://www.w3.org/2000/svg","clipPath");w.appendChild(K);const W=pt();K.id=W;const G=document.createElementNS("http://www.w3.org/2000/svg","path");if(G.setAttribute("d",`M${q.map(({x:J,y:ye})=>`${J},${ye}`).join("L")}Z`),K.appendChild(G),N){const J=document.createElementNS("http://www.w3.org/2000/svg","g");J.setAttribute("clip-path",`url(#${W})`),J.appendChild(N),N=J}if(L){const J=document.createElementNS("http://www.w3.org/2000/svg","g");J.setAttribute("clip-path",`url(#${W})`),J.appendChild(L),L=J}}const D=[];return N&&D.push({zIndex:E,element:N}),L&&D.push({zIndex:z,element:L}),D}))).flat();await Promise.all(S.values());for(const{element:C}of g.sort((_,E)=>_.zIndex-E.zIndex))m.appendChild(C);return m}_updateInputsFromEvent(e){var p;const{previousScreenPoint:n,previousPagePoint:r,currentScreenPoint:s,currentPagePoint:i}=this.inputs,{screenBounds:o}=this.store.unsafeGetWithoutCapture(ir),{x:a,y:l,z:c}=e.point,{x:d,y:h,z:u}=this.getCamera();n.setTo(s),r.setTo(i),s.set(a,l),i.set((a-o.x)/u-d,(l-o.y)/u-h,c??.5),this.inputs.isPen=e.type==="pointer"&&e.isPen,e.name==="pointer_down"&&this.inputs.pointerVelocity.set(0,0),this.store.put([{id:em,typeName:"pointer",x:i.x,y:i.y,lastActivityTimestamp:e.type==="pointer"&&e.pointerId===_7.CAMERA_MOVE?((p=this.store.get(em))==null?void 0:p.lastActivityTimestamp)??Date.now():Date.now(),meta:{}}])}cancel(){return this.dispatch({type:"misc",name:"cancel"}),this}interrupt(){return this.dispatch({type:"misc",name:"interrupt"}),this}complete(){return this.dispatch({type:"misc",name:"complete"}),this}cancelDoubleClick(){this._clickManager.cancelDoubleClickTimeout()}};function gg(t,e=t.getCurrentPageId()){const n=t.getPage(e).name;t.emit("max-shapes",{name:n,pageId:e,count:mo})}function sv(t,e){if(!e.constraints)throw Error("Should have constraints here");const{padding:{x:n,y:r}}=e.constraints,s=t.getViewportScreenBounds(),i=fe.From(e.constraints.bounds),o=(s.w-n*2)/i.w,a=(s.h-r*2)/i.h;return{zx:o,zy:a}}function Dy(){const t=Y();return Q("isDarkMode",()=>t.user.getIsDarkMode(),[t])}const _V='<path d="m12 24.4219v-16.015l11.591 11.619h-6.781l-.411.124z" fill="white"/><path d="m21.0845 25.0962-3.605 1.535-4.682-11.089 3.686-1.553z" fill="white"/><path d="m19.751 24.4155-1.844.774-3.1-7.374 1.841-.775z" fill="black"/><path d="m13 10.814v11.188l2.969-2.866.428-.139h4.768z" fill="black"/>',EV='<path d="m13.3315 21.3799c-.284-.359-.629-1.093-1.243-1.984-.348-.504-1.211-1.453-1.468-1.935-.223-.426-.199-.617-.146-.97.094-.628.738-1.117 1.425-1.051.519.049.959.392 1.355.716.239.195.533.574.71.788.163.196.203.277.377.509.23.307.302.459.214.121-.071-.496-.187-1.343-.355-2.092-.128-.568-.159-.657-.281-1.093-.129-.464-.195-.789-.316-1.281-.084-.348-.235-1.059-.276-1.459-.057-.547-.087-1.439.264-1.849.275-.321.906-.418 1.297-.22.512.259.803 1.003.936 1.3.239.534.387 1.151.516 1.961.164 1.031.466 2.462.476 2.763.024-.369-.068-1.146-.004-1.5.058-.321.328-.694.666-.795.286-.085.621-.116.916-.055.313.064.643.288.766.499.362.624.369 1.899.384 1.831.086-.376.071-1.229.284-1.584.14-.234.497-.445.687-.479.294-.052.655-.068.964-.008.249.049.586.345.677.487.218.344.342 1.317.379 1.658.015.141.074-.392.293-.736.406-.639 1.843-.763 1.898.639.025.654.02.624.02 1.064 0 .517-.012.828-.04 1.202-.031.4-.117 1.304-.242 1.742-.086.301-.371.978-.652 1.384 0 0-1.074 1.25-1.191 1.813-.118.562-.079.566-.102.965-.023.398.121.922.121.922s-.802.104-1.234.035c-.391-.063-.875-.841-1-1.079-.172-.328-.539-.265-.682-.023-.225.383-.709 1.07-1.051 1.113-.668.084-2.054.031-3.139.02 0 0 .185-1.011-.227-1.358-.305-.259-.83-.784-1.144-1.06z" fill="white"/><g stroke="black" stroke-linecap="round" stroke-width=".75"><path d="m13.3315 21.3799c-.284-.359-.629-1.093-1.243-1.984-.348-.504-1.211-1.453-1.468-1.935-.223-.426-.199-.617-.146-.97.094-.628.738-1.117 1.425-1.051.519.049.959.392 1.355.716.239.195.533.574.71.788.163.196.203.277.377.509.23.307.302.459.214.121-.071-.496-.187-1.343-.355-2.092-.128-.568-.159-.657-.281-1.093-.129-.464-.195-.789-.316-1.281-.084-.348-.235-1.059-.276-1.459-.057-.547-.087-1.439.264-1.849.275-.321.906-.418 1.297-.22.512.259.803 1.003.936 1.3.239.534.387 1.151.516 1.961.164 1.031.466 2.462.476 2.763.024-.369-.068-1.146-.004-1.5.058-.321.328-.694.666-.795.286-.085.621-.116.916-.055.313.064.643.288.766.499.362.624.369 1.899.384 1.831.086-.376.071-1.229.284-1.584.14-.234.497-.445.687-.479.294-.052.655-.068.964-.008.249.049.586.345.677.487.218.344.342 1.317.379 1.658.015.141.074-.392.293-.736.406-.639 1.843-.763 1.898.639.025.654.02.624.02 1.064 0 .517-.012.828-.04 1.202-.031.4-.117 1.304-.242 1.742-.086.301-.371.978-.652 1.384 0 0-1.074 1.25-1.191 1.813-.118.562-.079.566-.102.965-.023.398.121.922.121.922s-.802.104-1.234.035c-.391-.063-.875-.841-1-1.079-.172-.328-.539-.265-.682-.023-.225.383-.709 1.07-1.051 1.113-.668.084-2.054.031-3.139.02 0 0 .185-1.011-.227-1.358-.305-.259-.83-.784-1.144-1.06z" stroke-linejoin="round"/><path d="m21.5664 21.7344v-3.459"/><path d="m19.5508 21.7461-.016-3.473"/><path d="m17.5547 18.3047.021 3.426"/></g>',IV='<path d="m25 16h-6.01v-6h-2.98v6h-6.01v3h6.01v6h2.98v-6h6.01z" fill="white"/><path d="m23.9902 17.0103h-6v-6.01h-.98v6.01h-6v.98h6v6.01h.98v-6.01h6z" fill="%23231f1f"/>',PV='<path d="m19 14h1v1h-1zm1 6h-1v-1h1zm-5-5h-1v-1h1zm0 5h-1v-1h1zm2-10.987-7.985 7.988 5.222 5.221 2.763 2.763 7.984-7.985z" fill="white"/><g fill="black"><path d="m23.5664 16.9971-2.557-2.809v1.829h-4.009-4.001v-1.829l-2.571 2.809 2.572 2.808-.001-1.808h4.001 4.009l-.001 1.808z"/><path d="m17.9873 17h.013v-4.001l1.807.001-2.807-2.571-2.809 2.57h1.809v4.001h.008v4.002l-1.828-.001 2.807 2.577 2.805-2.576h-1.805z"/></g>',iv="<path d='m19.7432 17.0869-4.072 4.068 2.829 2.828-8.473-.013-.013-8.47 2.841 2.842 4.075-4.068 1.414-1.415-2.844-2.842h8.486v8.484l-2.83-2.827z' fill='%23fff'/><path d='m18.6826 16.7334-4.427 4.424 1.828 1.828-5.056-.016-.014-5.054 1.842 1.841 4.428-4.422 2.474-2.475-1.844-1.843h5.073v5.071l-1.83-1.828z' fill='%23000'/>",ov="<path d='m9 17.9907v.005l5.997 5.996.001-3.999h1.999 2.02v4l5.98-6.001-5.98-5.999.001 4.019-2.021.002h-2l.001-4.022zm1.411.003 3.587-3.588-.001 2.587h3.5 2.521v-2.585l3.565 3.586-3.564 3.585-.001-2.585h-2.521l-3.499-.001-.001 2.586z' fill='%23fff'/><path d='m17.4971 18.9932h2.521v2.586l3.565-3.586-3.565-3.585v2.605h-2.521-3.5v-2.607l-3.586 3.587 3.586 3.586v-2.587z' fill='%23000'/>",mg='<path d="M22.4789 9.45728L25.9935 12.9942L22.4789 16.5283V14.1032C18.126 14.1502 14.6071 17.6737 14.5675 22.0283H17.05L13.513 25.543L9.97889 22.0283H12.5674C12.6071 16.5691 17.0214 12.1503 22.4789 12.1031L22.4789 9.45728Z" fill="black"/><path fill-rule="evenodd" clip-rule="evenodd" d="M21.4789 7.03223L27.4035 12.9945L21.4789 18.9521V15.1868C18.4798 15.6549 16.1113 18.0273 15.649 21.0284H19.475L13.5128 26.953L7.55519 21.0284H11.6189C12.1243 15.8155 16.2679 11.6677 21.4789 11.1559L21.4789 7.03223ZM22.4789 12.1031C17.0214 12.1503 12.6071 16.5691 12.5674 22.0284H9.97889L13.513 25.543L17.05 22.0284H14.5675C14.5705 21.6896 14.5947 21.3558 14.6386 21.0284C15.1157 17.4741 17.9266 14.6592 21.4789 14.1761C21.8063 14.1316 22.1401 14.1069 22.4789 14.1032V16.5284L25.9935 12.9942L22.4789 9.45729L22.4789 12.1031Z" fill="white"/>',zV='<path fill="white" d="M7.94 0a5.25 5.25 0 0 0-3.47 1.17A5.27 5.27 0 0 0 1 0H0v3h1c1.41 0 1.85.7 2 1v3.94H2v3h1v3c-.13.3-.57 1-2 1H0v3h1a5.27 5.27 0 0 0 3.47-1.17c.98.8 2.21 1.21 3.47 1.17h1v-3h-1c-1.41 0-1.85-.7-2-1v-3H7v-3H6V4c.13-.3.57-1 2-1h1V0H7.94z"/><path fill="black" d="M7.94 2V1a4 4 0 0 0-3.47 1.64A4 4 0 0 0 1 1v1c1.3-.17 2.56.6 3 1.84v5.1H3v1h1v4.16c-.45 1.24-1.7 2-3 1.84v1a4.05 4.05 0 0 0 3.47-1.63 4.05 4.05 0 0 0 3.47 1.63v-1A2.82 2.82 0 0 1 5 14.1V9.93h1v-1H5V3.85A2.81 2.81 0 0 1 7.94 2z"/>',AV="<path d='m13.5732 12.0361c.48-.178 1.427-.069 1.677.473.213.462.396 1.241.406 1.075.024-.369-.024-1.167.137-1.584.117-.304.347-.59.686-.691.285-.086.62-.116.916-.055.313.064.642.287.765.499.362.623.368 1.899.385 1.831.064-.272.07-1.229.283-1.584.141-.235.497-.445.687-.479.294-.052.656-.068.964-.008.249.049.586.344.677.487.219.344.342 1.316.379 1.658.016.141.074-.393.293-.736.406-.639 1.844-.763 1.898.639.026.654.02.624.02 1.064 0 .516-.012.828-.04 1.202-.03.399-.116 1.304-.241 1.742-.086.301-.371.978-.653 1.384 0 0-1.074 1.25-1.191 1.812-.117.563-.078.567-.102.965-.023.399.121.923.121.923s-.801.104-1.234.034c-.391-.062-.875-.84-1-1.078-.172-.328-.539-.265-.682-.023-.224.383-.709 1.07-1.05 1.113-.669.084-2.055.03-3.14.02 0 0 .185-1.011-.227-1.358-.305-.26-.83-.784-1.144-1.06l-.832-.921c-.283-.36-1.002-.929-1.243-1.985-.213-.936-.192-1.395.037-1.77.232-.381.67-.589.854-.625.208-.042.692-.039.875.062.223.123.313.159.488.391.23.307.312.456.213.121-.076-.262-.322-.595-.434-.97-.109-.361-.401-.943-.38-1.526.008-.221.103-.771.832-1.042' fill='white'/><g stroke='black' stroke-width='.75'><path d='m13.5732 12.0361c.48-.178 1.427-.069 1.677.473.213.462.396 1.241.406 1.075.024-.369-.024-1.167.137-1.584.117-.304.347-.59.686-.691.285-.086.62-.116.916-.055.313.064.642.287.765.499.362.623.368 1.899.385 1.831.064-.272.07-1.229.283-1.584.141-.235.497-.445.687-.479.294-.052.656-.068.964-.008.249.049.586.344.677.487.219.344.342 1.316.379 1.658.016.141.074-.393.293-.736.406-.639 1.844-.763 1.898.639.026.654.02.624.02 1.064 0 .516-.012.828-.04 1.202-.03.399-.116 1.304-.241 1.742-.086.301-.371.978-.653 1.384 0 0-1.074 1.25-1.191 1.812-.117.563-.078.567-.102.965-.023.399.121.923.121.923s-.801.104-1.234.034c-.391-.062-.875-.84-1-1.078-.172-.328-.539-.265-.682-.023-.224.383-.709 1.07-1.05 1.113-.669.084-2.055.03-3.14.02 0 0 .185-1.011-.227-1.358-.305-.26-.83-.784-1.144-1.06l-.832-.921c-.283-.36-1.002-.929-1.243-1.985-.213-.936-.192-1.395.037-1.77.232-.381.67-.589.854-.625.208-.042.692-.039.875.062.223.123.313.159.488.391.23.307.312.456.213.121-.076-.262-.322-.595-.434-.97-.109-.361-.401-.943-.38-1.526.008-.221.103-.771.832-1.042z' stroke-linejoin='round'/><path d='m20.5664 19.7344v-3.459' stroke-linecap='round'/><path d='m18.5508 19.7461-.016-3.473' stroke-linecap='round'/><path d='m16.5547 16.3047.021 3.426' stroke-linecap='round'/></g>",NV='<path d="m13.5557 17.5742c-.098-.375-.196-.847-.406-1.552-.167-.557-.342-.859-.47-1.233-.155-.455-.303-.721-.496-1.181-.139-.329-.364-1.048-.457-1.44-.119-.509.033-.924.244-1.206.253-.339.962-.49 1.357-.351.371.13.744.512.916.788.288.46.357.632.717 1.542.393.992.564 1.918.611 2.231l.085.452c-.001-.04-.043-1.122-.044-1.162-.035-1.029-.06-1.823-.038-2.939.002-.126.064-.587.084-.715.078-.5.305-.8.673-.979.412-.201.926-.215 1.401-.017.423.173.626.55.687 1.022.014.109.094.987.093 1.107-.013 1.025.006 1.641.015 2.174.004.231.003 1.625.017 1.469.061-.656.094-3.189.344-3.942.144-.433.405-.746.794-.929.431-.203 1.113-.07 1.404.243.285.305.446.692.482 1.153.032.405-.019.897-.02 1.245 0 .867-.021 1.324-.037 2.121-.001.038-.015.298.023.182.094-.28.188-.542.266-.745.049-.125.241-.614.359-.859.114-.234.211-.369.415-.688.2-.313.415-.448.668-.561.54-.235 1.109.112 1.301.591.086.215.009.713-.028 1.105-.061.647-.254 1.306-.352 1.648-.128.447-.274 1.235-.34 1.601-.072.394-.234 1.382-.359 1.82-.086.301-.371.978-.652 1.384 0 0-1.074 1.25-1.192 1.812-.117.563-.078.567-.101.965-.024.399.121.923.121.923s-.802.104-1.234.034c-.391-.062-.875-.841-1-1.078-.172-.328-.539-.265-.682-.023-.225.383-.709 1.07-1.051 1.113-.668.084-2.054.03-3.139.02 0 0 .185-1.011-.227-1.358-.305-.26-.83-.784-1.144-1.06l-.832-.921c-.284-.36-.629-1.093-1.243-1.985-.348-.504-1.027-1.085-1.284-1.579-.223-.425-.331-.954-.19-1.325.225-.594.675-.897 1.362-.832.519.05.848.206 1.238.537.225.19.573.534.75.748.163.195.203.276.377.509.23.307.302.459.214.121" fill="white"/><g stroke="black" stroke-linecap="round" stroke-width=".75"><path d="m13.5557 17.5742c-.098-.375-.196-.847-.406-1.552-.167-.557-.342-.859-.47-1.233-.155-.455-.303-.721-.496-1.181-.139-.329-.364-1.048-.457-1.44-.119-.509.033-.924.244-1.206.253-.339.962-.49 1.357-.351.371.13.744.512.916.788.288.46.357.632.717 1.542.393.992.564 1.918.611 2.231l.085.452c-.001-.04-.043-1.122-.044-1.162-.035-1.029-.06-1.823-.038-2.939.002-.126.064-.587.084-.715.078-.5.305-.8.673-.979.412-.201.926-.215 1.401-.017.423.173.626.55.687 1.022.014.109.094.987.093 1.107-.013 1.025.006 1.641.015 2.174.004.231.003 1.625.017 1.469.061-.656.094-3.189.344-3.942.144-.433.405-.746.794-.929.431-.203 1.113-.07 1.404.243.285.305.446.692.482 1.153.032.405-.019.897-.02 1.245 0 .867-.021 1.324-.037 2.121-.001.038-.015.298.023.182.094-.28.188-.542.266-.745.049-.125.241-.614.359-.859.114-.234.211-.369.415-.688.2-.313.415-.448.668-.561.54-.235 1.109.112 1.301.591.086.215.009.713-.028 1.105-.061.647-.254 1.306-.352 1.648-.128.447-.274 1.235-.34 1.601-.072.394-.234 1.382-.359 1.82-.086.301-.371.978-.652 1.384 0 0-1.074 1.25-1.192 1.812-.117.563-.078.567-.101.965-.024.399.121.923.121.923s-.802.104-1.234.034c-.391-.062-.875-.841-1-1.078-.172-.328-.539-.265-.682-.023-.225.383-.709 1.07-1.051 1.113-.668.084-2.054.03-3.139.02 0 0 .185-1.011-.227-1.358-.305-.26-.83-.784-1.144-1.06l-.832-.921c-.284-.36-.629-1.093-1.243-1.985-.348-.504-1.027-1.085-1.284-1.579-.223-.425-.331-.954-.19-1.325.225-.594.675-.897 1.362-.832.519.05.848.206 1.238.537.225.19.573.534.75.748.163.195.203.276.377.509.23.307.302.459.214.121" stroke-linejoin="round"/><path d="m20.5664 21.7344v-3.459"/><path d="m18.5508 21.7461-.016-3.473"/><path d="m16.5547 18.3047.021 3.426"/></g>',TV='<path d="m20.5 15c0 3.038-2.462 5.5-5.5 5.5s-5.5-2.462-5.5-5.5 2.462-5.5 5.5-5.5 5.5 2.462 5.5 5.5" fill="white"/><path d="m20.5 15c0 3.038-2.462 5.5-5.5 5.5s-5.5-2.462-5.5-5.5 2.462-5.5 5.5-5.5 5.5 2.462 5.5 5.5z" stroke="black"/><g fill="black"><path d="m18 14h-2v-2h-2v2h-2v1.98h2v2.02h2v-2.02h2z"/><path d="m23.5859 25 1.414-1.414-5.449-5.449-1.414 1.414z"/></g>',LV='<path d="m20.5 15c0 3.038-2.462 5.5-5.5 5.5s-5.5-2.462-5.5-5.5 2.462-5.5 5.5-5.5 5.5 2.462 5.5 5.5" fill="white"/><path d="m20.5 15c0 3.038-2.462 5.5-5.5 5.5s-5.5-2.462-5.5-5.5 2.462-5.5 5.5-5.5 5.5 2.462 5.5 5.5z" stroke="black"/><g fill="black"><path d="m18 16h-5.98v-1.98h5.98z"/><path d="m23.5859 25 1.414-1.414-5.449-5.449-1.414 1.414z"/></g>';function Pn(t,e,n,r,s,i=16,o=16){const a=(-n-e)*(et/180),l=Math.sin(a),c=Math.cos(a),d=1*c-1*l,h=1*l+1*c;return`url("data:image/svg+xml,<svg height='32' width='32' viewBox='0 0 32 32' xmlns='http://www.w3.org/2000/svg' style='color: ${s};'><defs><filter id='shadow' y='-40%' x='-40%' width='180px' height='180%' color-interpolation-filters='sRGB'><feDropShadow dx='${d}' dy='${h}' stdDeviation='1.2' flood-opacity='.5'/></filter></defs><g fill='none' transform='rotate(${e+n} 16 16)${r?" scale(-1,-1) translate(0, -32)":""}' filter='url(%23shadow)'>`+t.replaceAll('"',"'")+`</g></svg>") ${i} ${o}, pointer`}const MV={none:()=>"none",default:(t,e,n)=>Pn(_V,t,0,e,n,12,8),pointer:(t,e,n)=>Pn(EV,t,0,e,n,14,10),cross:(t,e,n)=>Pn(IV,t,0,e,n),move:(t,e,n)=>Pn(PV,t,0,e,n),grab:(t,e,n)=>Pn(NV,t,0,e,n),grabbing:(t,e,n)=>Pn(AV,t,0,e,n),text:(t,e,n)=>Pn(zV,t,0,e,n,4,10),"ew-resize":(t,e,n)=>Pn(ov,t,0,e,n),"ns-resize":(t,e,n)=>Pn(ov,t,90,e,n),"nesw-resize":(t,e,n)=>Pn(iv,t,0,e,n),"nwse-resize":(t,e,n)=>Pn(iv,t,90,e,n),"nwse-rotate":(t,e,n)=>Pn(mg,t,0,e,n),"nesw-rotate":(t,e,n)=>Pn(mg,t,90,e,n),"senw-rotate":(t,e,n)=>Pn(mg,t,180,e,n),"swne-rotate":(t,e,n)=>Pn(mg,t,270,e,n),"zoom-in":(t,e,n)=>Pn(TV,t,0,e,n),"zoom-out":(t,e,n)=>Pn(LV,t,0,e,n)};function Xr(t,e=0,n="black"){return MV[t](GB(e),!1,n)}const jV=["default","pointer","cross","move","grab","grabbing","text"];function RV(){const t=Y(),e=bn(),n=Dy();Zl("useCursor",()=>{const{type:r,rotation:s}=t.getInstanceState().cursor;if(jV.includes(r)){e.style.setProperty("--tl-cursor",`var(--tl-cursor-${r})`);return}e.style.setProperty("--tl-cursor",Xr(r,s,n?"white":"black"))},[t,e,n])}function $V(){const t=Y(),e=bn(),n=Dy(),r=Q(wt.forceSrgb);ie.useEffect(()=>{n?(e.setAttribute("data-color-mode","dark"),e.classList.remove("tl-theme__light"),e.classList.add("tl-theme__dark")):(e.setAttribute("data-color-mode","light"),e.classList.remove("tl-theme__dark"),e.classList.add("tl-theme__light")),r?e.classList.add("tl-theme__force-sRGB"):e.classList.remove("tl-theme__force-sRGB")},[t,e,r,n])}function OV(t){const e=v.useRef();return v.useLayoutEffect(()=>{e.current=t}),v.useDebugValue(t),v.useCallback((...n)=>{const r=e.current;return ec(r,"fn does not exist"),r(...n)},[])}function DV(t){const e=Y(),n=bn();v.useLayoutEffect(()=>{t?(e.getInstanceState().isFocused||e.updateInstanceState({isFocused:!0}),e.getContainer().focus()):e.getInstanceState().isFocused&&e.updateInstanceState({isFocused:!1})},[e,n,t])}function qV(){const[t,e]=v.useState(0);v.useEffect(()=>e(n=>n+1),[])}const Fd="TLDRAW_TAB_ID_v2",jn=globalThis.window;function BV(){return jn?["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(jn.navigator.platform)||jn.navigator.userAgent.includes("Mac")&&"ontouchend"in document:!1}const km=(jn==null?void 0:jn[Fd])??(jn==null?void 0:jn.sessionStorage[Fd])??"TLDRAW_INSTANCE_STATE_V1_"+pt();jn&&(jn[Fd]=km,BV()?jn.sessionStorage[Fd]=km:delete jn.sessionStorage[Fd]);jn==null||jn.addEventListener("beforeunload",()=>{jn.sessionStorage[Fd]=km});const FV={Initial:0},kp=FV.Initial,OI=va({version:Sr,currentPageId:mp,isFocusMode:zl,exportBackground:zl,isDebugMode:zl,isToolLocked:zl,isGridMode:zl,pageStates:X5(va({pageId:mp,camera:va({x:Sr,y:Sr,z:Sr}),selectedShapeIds:X5(Qs),focusedGroupId:Qs.nullable()}))}),KV=aS({currentVersion:kp});function WV(t){if(!t||typeof t!="object")return console.warn("Invalid instance state"),null;if(!("version"in t)||typeof t.version!="number")return console.warn("No version in instance state"),null;const e=G_({value:t,fromVersion:t.version,toVersion:kp,migrations:KV});if(e.type==="error")return console.warn(e.reason),null;const n={...e.value,version:kp};try{OI.validate(n)}catch(r){return console.warn(r),null}return n}function UV(t){const e=t.query.ids("page");return Qi("sessionStateSnapshot",()=>{const n=t.get(ir);if(!n)return null;const r=[...e.get()];return{version:kp,currentPageId:n.currentPageId,exportBackground:n.exportBackground,isFocusMode:n.isFocusMode,isDebugMode:n.isDebugMode,isToolLocked:n.isToolLocked,isGridMode:n.isGridMode,pageStates:r.map(s=>{const i=t.get(Qn.createId(s)),o=t.get(Zn.createId(s));return{pageId:s,camera:{x:(o==null?void 0:o.x)??0,y:(o==null?void 0:o.y)??0,z:(o==null?void 0:o.z)??1},selectedShapeIds:(i==null?void 0:i.selectedShapeIds)??[],focusedGroupId:(i==null?void 0:i.focusedGroupId)??null}})}})}function VV(t,e){const n=WV(e);if(!n)return;const r=t.allRecords().filter(o=>o.typeName==="instance_page_state"||o.typeName==="camera"),s={added:{},updated:{},removed:{...uB(r.map(o=>[o.id,o]))}};t.has(ir)&&(s.removed[ir]=t.get(ir));const i={removed:{},updated:{},added:{[ir]:t.schema.types.instance.create({id:ir,currentPageId:n.currentPageId,isDebugMode:n.isDebugMode,isFocusMode:n.isFocusMode,isToolLocked:n.isToolLocked,isGridMode:n.isGridMode,exportBackground:n.exportBackground})}};for(const o of n.pageStates){const a=Zn.createId(o.pageId),l=Qn.createId(o.pageId);i.added[a]=Zn.create({id:Zn.createId(o.pageId),x:o.camera.x,y:o.camera.y,z:o.camera.z}),i.added[l]=Qn.create({id:Qn.createId(o.pageId),pageId:o.pageId,selectedShapeIds:o.selectedShapeIds,focusedGroupId:o.focusedGroupId})}fp(()=>{t.applyDiff(Py([s,i])),t.ensureStoreIsUsable()})}function XV(t){var s;const e=[];for(const i of Object.values(t))(s=i.typeName)!=null&&s.match(/^(instance.*|pointer|camera)$/)&&e.push(i);const n=e.filter(i=>i.typeName==="instance"&&i.id!==ir)[0];if(!n)return null;const r={version:kp,currentPageId:n.currentPageId,exportBackground:!!n.exportBackground,isFocusMode:!!n.isFocusMode,isDebugMode:!!n.isDebugMode,isToolLocked:!!n.isToolLocked,isGridMode:!1,pageStates:e.filter(i=>i.typeName==="instance_page_state"&&i.instanceId===n.id).map(i=>{const o=t[i.cameraId]??{x:0,y:0,z:1};return{pageId:i.pageId,camera:{x:o.x,y:o.y,z:o.z},selectedShapeIds:i.selectedShapeIds,focusedGroupId:i.focusedGroupId}})};try{return OI.validate(r),r}catch{return null}}function YV(){window.alert(`Oops! We could not save changes to your browser's storage. We now need to reload the page and try again.

Keep seeing this message?
 If you're using tldraw in a private or "incognito" window, try loading tldraw in a regular window or in a different browser.
 If your hard disk is full, try clearing up some space and then reload the page.`)}function HV(){window.alert(`Oops! We could not access your browser's storageand the app won't work correctly without that. We now need to reload the page and try again.

Keep seeing this message?
 If you're using tldraw in a private or "incognito" window, try loading tldraw in a regular window or in a different browser.`)}const GV=(t,e)=>e.some(n=>t instanceof n);let av,lv;function ZV(){return av||(av=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QV(){return lv||(lv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const DI=new WeakMap,ew=new WeakMap,qI=new WeakMap,q2=new WeakMap,AS=new WeakMap;function JV(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(No(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&DI.set(n,t)}).catch(()=>{}),AS.set(e,t),e}function eX(t){if(ew.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});ew.set(t,e)}let tw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ew.get(t);if(e==="objectStoreNames")return t.objectStoreNames||qI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return No(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function tX(t){tw=t(tw)}function nX(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(B2(this),e,...n);return qI.set(r,e.sort?e.sort():[e]),No(r)}:QV().includes(t)?function(...e){return t.apply(B2(this),e),No(DI.get(this))}:function(...e){return No(t.apply(B2(this),e))}}function rX(t){return typeof t=="function"?nX(t):(t instanceof IDBTransaction&&eX(t),GV(t,ZV())?new Proxy(t,tw):t)}function No(t){if(t instanceof IDBRequest)return JV(t);if(q2.has(t))return q2.get(t);const e=rX(t);return e!==t&&(q2.set(t,e),AS.set(e,t)),e}const B2=t=>AS.get(t);function BI(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=No(o);return r&&o.addEventListener("upgradeneeded",l=>{r(No(o.result),l.oldVersion,l.newVersion,No(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}function FI(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",r=>e(r.oldVersion,r)),No(n).then(()=>{})}const sX=["get","getKey","getAll","getAllKeys","count"],iX=["put","add","delete","clear"],F2=new Map;function cv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(F2.get(e))return F2.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=iX.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||sX.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return F2.set(e,i),i}tX(t=>({...t,get:(e,n,r)=>cv(e,n)||t.get(e,n,r),has:(e,n)=>!!cv(e,n)||t.has(e,n)}));const qy="TLDRAW_DOCUMENT_v2",KI="TLDRAW_DB_NAME_INDEX_v2",it={Records:"records",Schema:"schema",SessionState:"session_state"};async function By(t,e){dX(t);const n=await BI(t,3,{upgrade(r){r.objectStoreNames.contains(it.Records)||r.createObjectStore(it.Records),r.objectStoreNames.contains(it.Schema)||r.createObjectStore(it.Schema),r.objectStoreNames.contains(it.SessionState)||r.createObjectStore(it.SessionState)}});try{return await e(n)}finally{n.close()}}async function oX({persistenceKey:t,sessionId:e,didCancel:n}){const r=qy+t;if(NS().includes(r))return await cX({persistenceKey:t,didCancel:n}),await By(r,async s=>{var h,u;if(n!=null&&n())return;const i=s.transaction([it.Records,it.Schema,it.SessionState],"readonly"),o=i.objectStore(it.Records),a=i.objectStore(it.Schema),l=i.objectStore(it.SessionState);let c=e?(h=await l.get(e))==null?void 0:h.snapshot:null;c||(c=(u=(await l.getAll()).sort((y,m)=>y.updatedAt-m.updatedAt).pop())==null?void 0:u.snapshot);const d={records:await o.getAll(),schema:await a.get(it.Schema),sessionStateSnapshot:c};if(n!=null&&n()){i.abort();return}return await i.done,d})}async function aX({persistenceKey:t,schema:e,changes:n,sessionId:r,sessionStateSnapshot:s,didCancel:i}){const o=qy+t;await By(o,async a=>{const l=a.transaction([it.Records,it.Schema,it.SessionState],"readwrite"),c=l.objectStore(it.Records),d=l.objectStore(it.Schema),h=l.objectStore(it.SessionState);for(const[u,p]of Object.entries(n.added))await c.put(p,u);for(const[u,p]of Object.values(n.updated))await c.put(p,p.id);for(const u of Object.keys(n.removed))await c.delete(u);if(d.put(e.serialize(),it.Schema),s&&r?h.put({snapshot:s,updatedAt:Date.now(),id:r},r):(s||r)&&console.error("sessionStateSnapshot and instanceId must be provided together"),i!=null&&i())return l.abort();await l.done})}async function lX({persistenceKey:t,schema:e,snapshot:n,sessionId:r,sessionStateSnapshot:s,didCancel:i}){const o=qy+t;await By(o,async a=>{const l=a.transaction([it.Records,it.Schema,it.SessionState],"readwrite"),c=l.objectStore(it.Records),d=l.objectStore(it.Schema),h=l.objectStore(it.SessionState);await c.clear();for(const[u,p]of Object.entries(n))await c.put(p,u);if(d.put(e.serialize(),it.Schema),s&&r?h.put({snapshot:s,updatedAt:Date.now(),id:r},r):(s||r)&&console.error("sessionStateSnapshot and instanceId must be provided together"),i!=null&&i())return l.abort();await l.done})}async function cX({persistenceKey:t,didCancel:e}){await By(qy+t,async n=>{const r=n.transaction([it.SessionState],"readwrite"),s=r.objectStore(it.SessionState),i=(await s.getAll()).sort((a,l)=>a.updatedAt-l.updatedAt);if(i.length<10){await r.done;return}const o=i.slice(0,i.length-10);for(const{id:a}of o)await s.delete(a);if(e!=null&&e())return r.abort();await r.done})}function NS(){const t=JSON.parse((window==null?void 0:window.localStorage.getItem(KI))||"[]")??[];return Array.isArray(t)?t:[]}function dX(t){const e=new Set(NS());e.add(t),window==null||window.localStorage.setItem(KI,JSON.stringify([...e]))}const hX=350,uX=1e4,dv=Symbol("UPDATE_INSTANCE_STATE"),pX=t=>t;let fX=class{constructor(e){}postMessage(e){}close(){}};const gX=typeof BroadcastChannel>"u"?fX:BroadcastChannel;let mX=class{constructor(e,{persistenceKey:n,sessionId:r=km,onLoad:s,onLoadError:i},o=new gX(`tldraw-tab-sync-${n}`)){this.store=e,this.channel=o,this.disposables=new Set,this.diffQueue=[],this.didDispose=!1,this.shouldDoFullDBWrite=!0,this.isReloading=!1,this.isDebugging=!1,this.initTime=Date.now(),this.isPersisting=!1,this.didLastWriteError=!1,this.scheduledPersistTimeout=null,typeof window<"u"&&(window.tlsync=this),this.persistenceKey=n,this.sessionId=r,this.serializedSchema=this.store.schema.serialize(),this.$sessionStateSnapshot=UV(this.store),this.disposables.add(e.listen(({changes:a})=>{this.diffQueue.push(a),this.channel.postMessage(pX({type:"diff",storeId:this.store.id,changes:a,schema:this.serializedSchema})),this.schedulePersist()},{source:"user",scope:"document"})),this.disposables.add(e.listen(()=>{this.diffQueue.push(dv),this.schedulePersist()},{scope:"session"})),this.connect(s,i),this.documentTypes=new Set(Object.values(this.store.schema.types).filter(a=>a.scope==="document").map(a=>a.typeName))}debug(...e){this.isDebugging&&console.debug(...e)}async connect(e,n){this.debug("connecting");let r;try{r=await oX({persistenceKey:this.persistenceKey,sessionId:this.sessionId,didCancel:()=>this.didDispose})}catch(s){n(s),HV(),typeof window<"u"&&window.location.reload();return}if(this.debug("loaded data from store",r,"didDispose",this.didDispose),!this.didDispose)try{if(r){const s=Object.fromEntries(r.records.map(a=>[a.id,a])),i=r.sessionStateSnapshot??XV(s),o=this.store.schema.migrateStoreSnapshot({store:s,schema:r.schema??this.store.schema.serializeEarliestVersion()});if(o.type==="error"){console.error("failed to migrate store",o),n(new Error(`Failed to migrate store: ${o.reason}`));return}this.store.mergeRemoteChanges(()=>{this.store.put(Object.values(o.value).filter(a=>this.documentTypes.has(a.typeName)),"initialize")}),i&&VV(this.store,i)}this.channel.onmessage=({data:s})=>{var a,l;this.debug("got message",s);const i=s,o=iD(this.serializedSchema,i.schema??this.store.schema.serializeEarliestVersion());if(o===-1){if(Date.now()-this.initTime<5e3){n(new Error("Schema mismatch, please close other tabs and reload the page"));return}this.debug("reloading"),this.isReloading=!0,(l=(a=window==null?void 0:window.location)==null?void 0:a.reload)==null||l.call(a);return}else if(o===1){this.debug("telling them to reload"),this.channel.postMessage({type:"announce",schema:this.serializedSchema}),this.shouldDoFullDBWrite=!0,this.persistIfNeeded();return}i.type==="diff"&&(this.debug("applying diff"),fp(()=>{this.store.mergeRemoteChanges(()=>{this.store.applyDiff(i.changes),this.store.ensureStoreIsUsable()})}))},this.channel.postMessage({type:"announce",schema:this.serializedSchema}),this.disposables.add(()=>{this.channel.close()}),e(this)}catch(s){if(this.debug("error loading data from store",s),this.didDispose)return;n(s);return}}close(){this.debug("closing"),this.didDispose=!0,this.disposables.forEach(e=>e())}schedulePersist(){this.debug("schedulePersist",this.scheduledPersistTimeout),!this.scheduledPersistTimeout&&(this.scheduledPersistTimeout=setTimeout(()=>{this.scheduledPersistTimeout=null,this.persistIfNeeded()},this.didLastWriteError?uX:hX))}persistIfNeeded(){this.debug("persistIfNeeded",{isPersisting:this.isPersisting,isReloading:this.isReloading,shouldDoFullDBWrite:this.shouldDoFullDBWrite,diffQueueLength:this.diffQueue.length,storeIsPossiblyCorrupt:this.store.isPossiblyCorrupted()}),this.scheduledPersistTimeout&&(clearTimeout(this.scheduledPersistTimeout),this.scheduledPersistTimeout=null),!this.isPersisting&&(this.isReloading||this.store.isPossiblyCorrupted()||(this.shouldDoFullDBWrite||this.diffQueue.length>0)&&this.doPersist())}async doPersist(){ec(!this.isPersisting,"persist already in progress"),this.isPersisting=!0,this.debug("doPersist start");const e=this.diffQueue;this.diffQueue=[];try{if(this.shouldDoFullDBWrite)this.shouldDoFullDBWrite=!1,await lX({persistenceKey:this.persistenceKey,schema:this.store.schema,snapshot:this.store.serialize(),didCancel:()=>this.didDispose,sessionId:this.sessionId,sessionStateSnapshot:this.$sessionStateSnapshot.get()});else{const n=Py(e.filter(r=>r!==dv));await aX({persistenceKey:this.persistenceKey,changes:n,schema:this.store.schema,didCancel:()=>this.didDispose,sessionId:this.sessionId,sessionStateSnapshot:this.$sessionStateSnapshot.get()})}this.didLastWriteError=!1}catch(n){this.shouldDoFullDBWrite=!0,this.didLastWriteError=!0,console.error("failed to store changes in indexed db",n),YV(),typeof window<"u"&&window.location.reload()}this.isPersisting=!1,this.debug("doPersist end"),this.schedulePersist()}};function WI({initialData:t,defaultName:e="",...n}){const r="schema"in n&&n.schema?n.schema:_q({shapes:yX(AI("shapeUtils"in n&&n.shapeUtils?n.shapeUtils:[]))});return new H_({schema:r,initialData:t,props:{defaultName:e}})}function yX(t){return Object.fromEntries(t.map(e=>[e.type,{props:e.props,migrations:e.migrations}]))}function hv(t){const e=WI(t);return t.snapshot&&e.loadSnapshot(t.snapshot),{store:e,opts:t}}function xX(t){const[e,n]=v.useState(()=>hv(t));if(!$E(e.opts,t)){const r=hv(t);return n(r),r.store}return e.store}function wX({persistenceKey:t,sessionId:e,...n}){const[r,s]=v.useState(null),i=xX(n);return v.useEffect(()=>{const o=pt();if(!t){s({id:o,storeWithStatus:{status:"not-synced",store:i}});return}s({id:o,storeWithStatus:{status:"loading"}});const a=c=>{s(d=>(d==null?void 0:d.id)===o?{id:o,storeWithStatus:c}:d)},l=new mX(i,{sessionId:e,persistenceKey:t,onLoad(){a({store:i,status:"synced-local"})},onLoadError(c){a({status:"error",error:c})}});return()=>{s(c=>(c==null?void 0:c.id)===o?null:c),l.close()}},[t,i,e]),(r==null?void 0:r.storeWithStatus)??{status:"loading"}}let UI=!1;if(typeof window<"u"){const t=window.navigator.userAgent,e=!!t.match(/iPad/i)||!!t.match(/iPhone/i),n=!!t.match(/WebKit/i);UI=e&&n&&!t.match(/CriOS/i)}function SX(){const t=Y();v.useEffect(()=>{if(!UI)return;function e(n){(n.target instanceof HTMLInputElement&&n.target.type==="text"||n.target instanceof HTMLTextAreaElement)&&t.complete()}return document.addEventListener("focusout",e),()=>document.removeEventListener("focusout",e)},[t])}function bX(){const t=Y(),e=bn();v.useEffect(()=>{const n=i=>e.style.setProperty("--tl-zoom",i.toString()),r=LE(n,100),s=new uf("useZoomCss",()=>{t.getCurrentPageShapeIds().size<300?n(t.getZoomLevel()):r(t.getZoomLevel())});return s.attach(),s.execute(),()=>{s.detach()}},[t,e])}const vX=[],kX=[],VI=v.memo(function({store:e,components:n,className:r,user:s,...i}){const[o,a]=ie.useState(null),l=v.useMemo(()=>s??CI(),[s]),c=(n==null?void 0:n.ErrorFallback)===void 0?bS:n==null?void 0:n.ErrorFallback,d={...i,shapeUtils:i.shapeUtils??vX,tools:i.tools??kX,components:n};return f.jsx("div",{ref:a,draggable:!1,className:ue("tl-container tl-theme__light",r),onPointerDown:nn,tabIndex:-1,children:f.jsx(wp,{fallback:c,onError:h=>ME(h,{tags:{origin:"react.tldraw-before-app"}}),children:o&&f.jsx(LB,{container:o,children:f.jsx(AF,{overrides:n,children:e?e instanceof H_?f.jsx(YI,{...d,store:e,user:l}):f.jsx(XI,{...d,store:e,user:l}):f.jsx(CX,{...d,store:e,user:l})})})})})});function CX(t){const{defaultName:e,snapshot:n,initialData:r,shapeUtils:s,persistenceKey:i,sessionId:o,user:a}=t,l=wX({shapeUtils:s,initialData:r,persistenceKey:i,sessionId:o,defaultName:e,snapshot:n});return f.jsx(XI,{...t,store:l,user:a})}const XI=v.memo(function({store:e,user:n,...r}){var i;const s=bn();switch(v.useLayoutEffect(()=>{n.userPreferences.get().isDarkMode&&(s.classList.remove("tl-theme__light"),s.classList.add("tl-theme__dark"))},[s,n]),e.status){case"error":throw e.error;case"loading":{const o=((i=r.components)==null?void 0:i.LoadingScreen)??PU;return f.jsx(o,{})}}return f.jsx(YI,{...r,store:e.store,user:n})});function YI({onMount:t,children:e,store:n,tools:r,shapeUtils:s,user:i,initialState:o,autoFocus:a=!0,inferDarkMode:l}){const{ErrorFallback:c}=vn(),d=bn(),[h,u]=v.useState(null);v.useLayoutEffect(()=>{const y=new CV({store:n,shapeUtils:s,tools:r,getContainer:()=>d,user:i,initialState:o,inferDarkMode:l});return window.app=y,window.editor=y,u(y),()=>{y.dispose()}},[d,s,r,n,i,o,l]);const p=v.useSyncExternalStore(v.useCallback(y=>h?(h.on("crash",y),()=>h.off("crash",y)):()=>{},[h]),()=>(h==null?void 0:h.getCrashingError())??null);return h?f.jsx(wp,{fallback:c,onError:y=>h.annotateError(y,{origin:"react.tldraw",willCrashApp:!0}),children:p?f.jsx(EX,{crashingError:p}):f.jsx(xS.Provider,{value:h,children:f.jsx(_X,{autoFocus:a,onMount:t,children:e})})}):null}function _X({children:t,onMount:e,autoFocus:n}){return bX(),RV(),$V(),SX(),qV(),DV(n),PX(e),nU(),Y().updateViewportScreenBounds(),t??f.jsx(jy,{})}function EX({crashingError:t}){throw t}function HI({children:t}){const{Spinner:e}=vn();return f.jsxs("div",{className:"tl-loading",children:[e?f.jsx(e,{}):null,t]})}function IX({children:t}){return f.jsx("div",{className:"tl-loading",children:t})}function PX(t){const e=Y(),n=OV(r=>{const s=t==null?void 0:t(r);return r.emit("mount"),window.tldrawReady=!0,s});ie.useLayoutEffect(()=>{if(e)return n==null?void 0:n(e)},[e,n])}function yi({children:t,className:e="",...n}){return f.jsx("div",{...n,className:`tl-html-container ${e}`,children:t})}Ye(function({x:e=0,y:n=0,rotation:r=0,...s}){const i=Y(),o=v.useRef(null),a=i.getCamera();return v.useLayoutEffect(()=>{const{x:l,y:c,z:d}=i.getCamera(),h=o.current;h&&l!==void 0&&(h.style.transform=`translate(${l}px, ${c}px) scale(${d}) rotate(${r}rad) translate(${e}px, ${n}px)`)},[a,i,e,n,r]),f.jsx("div",{ref:o,...s,className:ue("tl-positioned",s.className)})});function TS(t,e,n={}){const{newPoint:r,handle:s,scaleX:i,scaleY:o}=e,{minWidth:a=1,maxWidth:l=1/0,minHeight:c=1,maxHeight:d=1/0}=n;let h=t.props.w*i,u=t.props.h*o;const p=new I(0,0);if(h>0){if(h<a){switch(s){case"top_left":case"left":case"bottom_left":{p.x=h-a;break}case"top":case"bottom":{p.x=(h-a)/2;break}default:p.x=0}h=a}}else if(p.x=h,h=-h,h<a){switch(s){case"top_left":case"left":case"bottom_left":{p.x=-h;break}default:p.x=-a}h=a}if(u>0){if(u<c){switch(s){case"top_left":case"top":case"top_right":{p.y=u-c;break}case"right":case"left":{p.y=(u-c)/2;break}default:p.y=0}u=c}}else if(p.y=u,u=-u,u<c){switch(s){case"top_left":case"top":case"top_right":{p.y=-u;break}default:p.y=-c}u=c}const{x:y,y:m}=p.rot(t.rotation).add(r);return{x:y,y:m,props:{w:Math.min(l,h),h:Math.min(d,u)}}}class ho extends Xo{constructor(){super(...arguments),this.onResize=(e,n)=>TS(e,n)}getGeometry(e){return new Oo({width:e.props.w,height:e.props.h,isFilled:!0})}}function zX(t,e,n){const r=e==="end"?t.end.point:t.start.point,s=e==="end"?t.start.point:t.end.point,i=t.isStraight?I.Dist(s,r):Math.abs(t.bodyArc.length),o=Math.max(Math.min(i/5,n*3),n);let a;if(t.isStraight)a=I.Nudge(r,s,o);else{const l=DU(r,o,t.handleArc.center,t.handleArc.radius);a=e==="end"?t.handleArc.sweepFlag?l[0]:l[1]:t.handleArc.sweepFlag?l[1]:l[0]}return{point:r,int:a}}function AX({point:t,int:e}){const n=I.RotWith(e,t,et/6),r=I.RotWith(e,t,-et/6);return`M ${n.x} ${n.y} L ${t.x} ${t.y} L ${r.x} ${r.y}`}function NX({point:t,int:e}){const n=I.RotWith(e,t,et/6),r=I.RotWith(e,t,-et/6);return`M ${n.x} ${n.y} L ${t.x} ${t.y} L ${r.x} ${r.y} Z`}function TX({point:t,int:e}){const n=I.Sub(e,t).div(2),r=I.Add(t,I.Rot(n,tt)),s=I.Sub(t,I.Rot(n,tt));return`M ${r.x} ${r.y} L ${e.x} ${e.y} L ${s.x} ${s.y} Z`}function LX({point:t,int:e}){const n=I.Lrp(t,e,.45),r=I.Dist(n,t);return`M ${n.x-r},${n.y}
  a ${r},${r} 0 1,0 ${r*2},0
  a ${r},${r} 0 1,0 -${r*2},0 `}function MX({point:t,int:e}){const n=I.Lrp(t,e,.75),r=I.RotWith(n,t,et/4),s=I.RotWith(n,t,-et/4),i=I.Lrp(r,s,.5);return i.add(I.Sub(i,t)),`M ${i.x} ${i.y} L ${r.x} ${r.y} ${t.x} ${t.y} L ${s.x} ${s.y} Z`}function jX({int:t,point:e}){const n=I.Lrp(e,t,.85),r=I.Sub(n,e).div(2),s=I.Add(e,I.Rot(r,tt)),i=I.Sub(e,I.Rot(r,tt)),o=I.Add(n,I.Rot(r,tt)),a=I.Sub(n,I.Rot(r,tt));return`M ${s.x} ${s.y} L ${o.x} ${o.y} L ${a.x} ${a.y} L ${i.x} ${i.y} Z`}function RX({int:t,point:e}){const n=I.Sub(t,e).div(2),r=I.Add(e,I.Rot(n,tt)),s=I.Sub(e,I.Rot(n,tt));return`M ${r.x} ${r.y} L ${s.x} ${s.y}`}function Vc(t,e,n){const r=e==="end"?t.end.arrowhead:t.start.arrowhead;if(r==="none")return;const s=zX(t,e,n);if(s){switch(r){case"bar":return RX(s);case"square":return jX(s);case"diamond":return MX(s);case"dot":return LX(s);case"inverted":return TX(s);case"arrow":return AX(s);case"triangle":return NX(s)}return""}}let GI=class extends ae{constructor(){super(...arguments),this.onPointerDown=e=>{this.parent.transition("pointing",e)},this.onEnter=()=>{this.editor.setCursor({type:"cross",rotation:0})},this.onCancel=()=>{this.editor.setCurrentTool("select")}}};GI.id="idle";let ZI=class extends ae{constructor(){super(...arguments),this.markId="",this.wasFocusedOnEnter=!1,this.onEnter=()=>{this.wasFocusedOnEnter=!this.editor.getIsMenuOpen()},this.onPointerMove=e=>{if(this.editor.inputs.isDragging){const{originPagePoint:n}=this.editor.inputs,r=this.parent.shapeType,s=at();this.markId=`creating:${s}`,this.editor.mark(this.markId),this.editor.createShapes([{id:s,type:r,x:n.x,y:n.y,props:{w:1,h:1}}]).select(s),this.editor.setCurrentTool("select.resizing",{...e,target:"selection",handle:"bottom_right",isCreating:!0,creationCursorOffset:{x:1,y:1},onInteractionEnd:this.parent.id,onCreate:this.parent.onCreate})}},this.onPointerUp=()=>{this.complete()},this.onCancel=()=>{this.cancel()},this.onComplete=()=>{this.complete()},this.onInterrupt=()=>{this.cancel()}}complete(){const{originPagePoint:e}=this.editor.inputs;if(!this.wasFocusedOnEnter)return;this.editor.mark(this.markId);const n=this.parent.shapeType,r=at();this.editor.mark(this.markId),this.editor.createShapes([{id:r,type:n,x:e.x,y:e.y}]);const s=this.editor.getShape(r),{w:i,h:o}=this.editor.getShapeUtil(s).getDefaultProps(),a=new I(i/2,o/2),l=this.editor.getShapeParentTransform(s);l&&a.rot(-l.rotation()),this.editor.updateShapes([{id:r,type:n,x:s.x-a.x,y:s.y-a.y}]),this.editor.setSelectedShapes([r]),this.editor.getInstanceState().isToolLocked?this.parent.transition("idle"):this.editor.setCurrentTool("select.idle")}cancel(){this.parent.transition("idle")}};ZI.id="pointing";let Ih=class extends ae{};Ih.id="box";Ih.initial="idle";Ih.children=()=>[GI,ZI];function QI(t,e){const n=v.useRef(t);return e(t,n.current)?n.current:(n.current=t,t)}function uv(t){return QI(t,oB)}function $X(t){return QI(t,$E)}function pv(t){const e=Y();return Q("isCropping",()=>e.getCroppingShapeId()===t,[e,t])}function Fy(t){const e=Y();return Q("isEditing",()=>e.getEditingShapeId()===t,[e,t])}function Pi(t){const e=Y();return v.useMemo(function(){const s=c=>{if(c.isKilled)return;if(c.button===2){e.dispatch({type:"pointer",target:"selection",handle:t,name:"right_click",...Lr(c)});return}if(c.button!==0)return;const d=hm(c.currentTarget);function h(){d.removeEventListener("pointerup",h),yf(d,c)}mf(d,c),d.addEventListener("pointerup",h),e.dispatch({name:"pointer_down",type:"pointer",target:"selection",handle:t,...Lr(c)}),nn(c)};let i,o;function a(c){c.isKilled||c.button===0&&(c.clientX===i&&c.clientY===o||(i=c.clientX,o=c.clientY,e.dispatch({name:"pointer_move",type:"pointer",target:"selection",handle:t,...Lr(c)})))}return{onPointerDown:s,onPointerMove:a,onPointerUp:c=>{c.isKilled||c.button===0&&e.dispatch({name:"pointer_up",type:"pointer",target:"selection",handle:t,...Lr(c)})}}},[e,t])}const OX=20,DX=8;function LS(t,e=OX){return Math.max(DX,Math.ceil(t/e))}class qX extends wc{constructor(e){super({...e,isFilled:!1,isClosed:!1});const{center:n,radius:r,sweepFlag:s,largeArcFlag:i,start:o,end:a}=e;if(o.equals(a))throw Error("Arc must have different start and end points.");this.angleStart=I.Angle(n,o),this.angleEnd=I.Angle(n,a),this.measure=BX(this.angleStart,this.angleEnd,s,i),this.length=this.measure*r,this.start=o,this.end=a,this._center=n,this.radius=r}nearestPoint(e){const{_center:n,measure:r,radius:s,angleEnd:i,angleStart:o,start:a,end:l}=this,c=fv(r,o,i,n.angle(e));if(c<=0)return a;if(c>=1)return l;const d=n.clone().add(e.clone().sub(n).uni().mul(s));let h=1/0,u;for(const p of[a,l,d])e.dist(p)<h&&(u=p,h=e.dist(p));if(!u)throw Error("nearest point not found");return u}hitTestLineSegment(e,n,r){const{_center:s,radius:i,measure:o,angleStart:a,angleEnd:l}=this,c=Ry(e,n,s,i);return c===null?!1:c.some(d=>{const h=fv(o,a,l,s.angle(d));return h>=0&&h<=1})}getVertices(){const{_center:e,measure:n,length:r,radius:s,angleStart:i}=this,o=[];for(let a=0,l=LS(Math.abs(r));a<l+1;a++){const c=a/l*n,d=i+c;o.push(e.clone().add(new I(Math.cos(d),Math.sin(d)).mul(s)))}return o}}function fv(t,e,n,r){let s;if(Math.abs(t)>et){s=Xu(e,r);const i=Xu(r,n);return Math.abs(s)<Math.abs(i)?s/t:(t-i)/t}else return s=Xu(e,r),s/t}function BX(t,e,n,r){const s=2*((e-t)%nt)%nt-(e-t)%nt;return r?(nt-Math.abs(s))*(n?1:-1):s}class JI extends wc{constructor(e){super({isClosed:!0,...e}),this.config=e;const{x:n=0,y:r=0,radius:s}=e;this.x=n,this.y=r,this._center=new I(s+n,s+r),this.radius=s}getBounds(){return new fe(this.x,this.y,this.radius*2,this.radius*2)}getVertices(){const{_center:e,radius:n}=this,r=nt*n,s=[];for(let i=0,o=LS(r);i<o;i++){const a=i/o*nt;s.push(e.clone().add(I.FromAngle(a).mul(n)))}return s}nearestPoint(e){const{_center:n,radius:r}=this;return n.equals(e)?I.AddXY(n,r,0):n.clone().add(e.clone().sub(n).uni().mul(r))}hitTestLineSegment(e,n,r){const{_center:s,radius:i}=this;return Ry(e,n,s,i)!==null}}class FX extends Sc{constructor(e){const{start:n,cp1:r,cp2:s,end:i}=e;super({...e,points:[n,i]}),this.a=n,this.b=r,this.c=s,this.d=i}getVertices(){const e=[],{a:n,b:r,c:s,d:i}=this;for(let o=0,a=10;o<=a;o++){const l=o/a;e.push(new I((1-l)*(1-l)*(1-l)*n.x+3*((1-l)*(1-l))*l*r.x+3*(1-l)*(l*l)*s.x+l*l*l*i.x,(1-l)*(1-l)*(1-l)*n.y+3*((1-l)*(1-l))*l*r.y+3*(1-l)*(l*l)*s.y+l*l*l*i.y))}return e}midPoint(){return KX(this,.5)}nearestPoint(e){let n,r=1/0;for(const s of this.segments){const i=s.nearestPoint(e),o=i.dist(e);o<r&&(n=i,r=o)}if(!n)throw Error("nearest point not found");return n}}function KX(t,e){const{a:n,b:r,c:s,d:i}=t;return new I((1-e)*(1-e)*(1-e)*n.x+3*((1-e)*(1-e))*e*r.x+3*(1-e)*(e*e)*s.x+e*e*e*i.x,(1-e)*(1-e)*(1-e)*n.y+3*((1-e)*(1-e))*e*r.y+3*(1-e)*(e*e)*s.y+e*e*e*i.y)}class E0 extends wc{constructor(e){super({...e,isClosed:!1,isFilled:!1});const{points:n}=e;this.points=n}get segments(){if(!this._segments){this._segments=[];const{points:e}=this,n=e.length,r=n-2,s=1.25;for(let i=0;i<n-1;i++){const o=i===0?e[0]:e[i-1],a=e[i],l=e[i+1],c=i===r?l:e[i+2],d=a,h=i===0?o:new I(a.x+(l.x-o.x)/6*s,a.y+(l.y-o.y)/6*s),u=i===r?l:new I(l.x-(c.x-a.x)/6*s,l.y-(c.y-a.y)/6*s),p=l;this._segments.push(new FX({start:d,cp1:h,cp2:u,end:p}))}}return this._segments}get length(){return this._length||(this._length=this.segments.reduce((e,n)=>e+n.length,0)),this._length}getVertices(){const e=this.segments.reduce((n,r)=>n.concat(r.vertices),[]);return e.push(this.points[this.points.length-1]),e}nearestPoint(e){let n,r=1/0;for(const s of this.segments){const i=s.nearestPoint(e),o=i.dist(e);o<r&&(n=i,r=o)}if(!n)throw Error("nearest point not found");return n}hitTestLineSegment(e,n,r){return this.segments.some(s=>s.hitTestLineSegment(e,n,r))}}class eP extends wc{constructor(e){super({...e,isClosed:!0}),this.config=e;const{width:n,height:r}=e;this.w=n,this.h=r}get edges(){if(!this._edges){const{vertices:e}=this;this._edges=[];for(let n=0,r=e.length;n<r;n++){const s=e[n],i=e[(n+1)%r];this._edges.push(new Sm({start:s,end:i}))}}return this._edges}getVertices(){const e=Math.max(1,this.w),n=Math.max(1,this.h),r=e/2,s=n/2,i=Math.pow(r-s,2)/Math.pow(r+s,2),o=et*(r+s)*(1+3*i/(10+Math.sqrt(4-3*i))),a=LS(o),l=nt/a,c=Math.cos(l),d=Math.sin(l);let h=0,u=1,p=0,y=1;const m=Array(a);for(let w=0;w<a;w++)m[w]=new I(r+r*u,s+s*h),p=d*u+c*h,y=c*u-d*h,h=p,u=y;return m}nearestPoint(e){let n,r=1/0;for(const s of this.edges){const i=s.nearestPoint(e),o=i.dist(e);o<r&&(n=i,r=o)}if(!n)throw Error("nearest point not found");return n}hitTestLineSegment(e,n,r){return this.edges.some(s=>s.hitTestLineSegment(e,n,r))}getBounds(){return new fe(0,0,this.w,this.h)}}class WX extends eP{constructor(e){super({...e}),this.config=e}getVertices(){const e=Math.max(1,this.w),n=Math.max(1,this.h),r=e/2,s=n/2,i=10,o=Array(i*2-2);if(n>e)for(let a=0;a<i-1;a++){const l=-et+et*a/(i-2),c=et*a/(i-2);o[a]=new I(r+r*Math.cos(l),r+r*Math.sin(l)),o[a+(i-1)]=new I(r+r*Math.cos(c),n-r+r*Math.sin(c))}else for(let a=0;a<i-1;a++){const l=-tt+et*a/(i-2),c=tt+et*-a/(i-2);o[a]=new I(e-s+s*Math.cos(l),n-s+s*Math.sin(l)),o[a+(i-1)]=new I(s-s*Math.cos(c),n-s+s*Math.sin(c))}return o}}function gv(t,e,n){return t<0?1:t>n?-1:t<e?(e-t)/e:t>n-e?-(e-n+t)/e:0}function MS(t){if(!t.inputs.isDragging||t.inputs.isPanning)return;const{inputs:{currentScreenPoint:{x:e,y:n}}}=t,r=t.getZoomLevel(),s=t.getViewportScreenBounds(),i=s.w<1e3?40:32,o=s.h<1e3?40:32,a=s.w<1e3?.612:1,l=s.h<1e3?.612:1,c=t.user.getEdgeScrollSpeed()*yF,d=gv(e,i,s.w),h=gv(n,o,s.h);if(d===0&&h===0)return;const u=c*d*a/r,p=c*h*l/r,y=t.getCamera();t.setCamera({x:y.x+u,y:y.y+p})}async function UX({shouldReload:t=!0}={}){sessionStorage.clear(),await Promise.all(NS().map(e=>FI(e))),localStorage.clear(),t&&window.location.reload()}typeof window<"u"&&(window.__tldraw__hardReset=UX);function VX(t,e="_blank"){SS.openWindow(t,e)}var ru=function(t){return t&&t.Math===Math&&t},Kr=ru(typeof globalThis=="object"&&globalThis)||ru(typeof window=="object"&&window)||ru(typeof self=="object"&&self)||ru(typeof $n=="object"&&$n)||ru(typeof $n=="object"&&$n)||function(){return this}()||Function("return this")(),jS={},kr=function(t){try{return!!t()}catch{return!0}},XX=kr,Ja=!XX(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),YX=kr,Ky=!YX(function(){var t=(function(){}).bind();return typeof t!="function"||t.hasOwnProperty("prototype")}),HX=Ky,yg=Function.prototype.call,Yo=HX?yg.bind(yg):function(){return yg.apply(yg,arguments)},tP={},nP={}.propertyIsEnumerable,rP=Object.getOwnPropertyDescriptor,GX=rP&&!nP.call({1:2},1);tP.f=GX?function(e){var n=rP(this,e);return!!n&&n.enumerable}:nP;var sP=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}},iP=Ky,oP=Function.prototype,nw=oP.call,ZX=iP&&oP.bind.bind(nw,nw),kn=iP?ZX:function(t){return function(){return nw.apply(t,arguments)}},aP=kn,QX=aP({}.toString),JX=aP("".slice),Ph=function(t){return JX(QX(t),8,-1)},eY=kn,tY=kr,nY=Ph,K2=Object,rY=eY("".split),sY=tY(function(){return!K2("z").propertyIsEnumerable(0)})?function(t){return nY(t)==="String"?rY(t,""):K2(t)}:K2,Wy=function(t){return t==null},iY=Wy,oY=TypeError,zh=function(t){if(iY(t))throw new oY("Can't call method on "+t);return t},aY=sY,lY=zh,Uy=function(t){return aY(lY(t))},W2=typeof document=="object"&&document.all,Cr=typeof W2>"u"&&W2!==void 0?function(t){return typeof t=="function"||t===W2}:function(t){return typeof t=="function"},cY=Cr,bc=function(t){return typeof t=="object"?t!==null:cY(t)},U2=Kr,dY=Cr,hY=function(t){return dY(t)?t:void 0},Vy=function(t,e){return arguments.length<2?hY(U2[t]):U2[t]&&U2[t][e]},uY=kn,lP=uY({}.isPrototypeOf),pY=typeof navigator<"u"&&String(navigator.userAgent)||"",cP=Kr,V2=pY,mv=cP.process,yv=cP.Deno,xv=mv&&mv.versions||yv&&yv.version,wv=xv&&xv.v8,si,Cm;wv&&(si=wv.split("."),Cm=si[0]>0&&si[0]<4?1:+(si[0]+si[1]));!Cm&&V2&&(si=V2.match(/Edge\/(\d+)/),(!si||si[1]>=74)&&(si=V2.match(/Chrome\/(\d+)/),si&&(Cm=+si[1])));var fY=Cm,Sv=fY,gY=kr,mY=Kr,yY=mY.String,dP=!!Object.getOwnPropertySymbols&&!gY(function(){var t=Symbol("symbol detection");return!yY(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&Sv&&Sv<41}),xY=dP,hP=xY&&!Symbol.sham&&typeof Symbol.iterator=="symbol",wY=Vy,SY=Cr,bY=lP,vY=hP,kY=Object,uP=vY?function(t){return typeof t=="symbol"}:function(t){var e=wY("Symbol");return SY(e)&&bY(e.prototype,kY(t))},CY=String,_Y=function(t){try{return CY(t)}catch{return"Object"}},EY=Cr,IY=_Y,PY=TypeError,RS=function(t){if(EY(t))return t;throw new PY(IY(t)+" is not a function")},zY=RS,AY=Wy,$S=function(t,e){var n=t[e];return AY(n)?void 0:zY(n)},X2=Yo,Y2=Cr,H2=bc,NY=TypeError,TY=function(t,e){var n,r;if(e==="string"&&Y2(n=t.toString)&&!H2(r=X2(n,t))||Y2(n=t.valueOf)&&!H2(r=X2(n,t))||e!=="string"&&Y2(n=t.toString)&&!H2(r=X2(n,t)))return r;throw new NY("Can't convert object to primitive value")},pP={exports:{}},bv=Kr,LY=Object.defineProperty,OS=function(t,e){try{LY(bv,t,{value:e,configurable:!0,writable:!0})}catch{bv[t]=e}return e},MY=Kr,jY=OS,vv="__core-js_shared__",kv=pP.exports=MY[vv]||jY(vv,{});(kv.versions||(kv.versions=[])).push({version:"3.37.1",mode:"global",copyright:" 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.37.1/LICENSE",source:"https://github.com/zloirock/core-js"});var DS=pP.exports,Cv=DS,qS=function(t,e){return Cv[t]||(Cv[t]=e||{})},RY=zh,$Y=Object,kf=function(t){return $Y(RY(t))},OY=kn,DY=kf,qY=OY({}.hasOwnProperty),el=Object.hasOwn||function(e,n){return qY(DY(e),n)},BY=kn,FY=0,KY=Math.random(),WY=BY(1 .toString),fP=function(t){return"Symbol("+(t===void 0?"":t)+")_"+WY(++FY+KY,36)},UY=Kr,VY=qS,_v=el,XY=fP,YY=dP,HY=hP,wd=UY.Symbol,G2=VY("wks"),GY=HY?wd.for||wd:wd&&wd.withoutSetter||XY,Ho=function(t){return _v(G2,t)||(G2[t]=YY&&_v(wd,t)?wd[t]:GY("Symbol."+t)),G2[t]},ZY=Yo,Ev=bc,Iv=uP,QY=$S,JY=TY,eH=Ho,tH=TypeError,nH=eH("toPrimitive"),rH=function(t,e){if(!Ev(t)||Iv(t))return t;var n=QY(t,nH),r;if(n){if(e===void 0&&(e="default"),r=ZY(n,t,e),!Ev(r)||Iv(r))return r;throw new tH("Can't convert object to primitive value")}return e===void 0&&(e="number"),JY(t,e)},sH=rH,iH=uP,gP=function(t){var e=sH(t,"string");return iH(e)?e:e+""},oH=Kr,Pv=bc,rw=oH.document,aH=Pv(rw)&&Pv(rw.createElement),mP=function(t){return aH?rw.createElement(t):{}},lH=Ja,cH=kr,dH=mP,yP=!lH&&!cH(function(){return Object.defineProperty(dH("div"),"a",{get:function(){return 7}}).a!==7}),hH=Ja,uH=Yo,pH=tP,fH=sP,gH=Uy,mH=gP,yH=el,xH=yP,zv=Object.getOwnPropertyDescriptor;jS.f=hH?zv:function(e,n){if(e=gH(e),n=mH(n),xH)try{return zv(e,n)}catch{}if(yH(e,n))return fH(!uH(pH.f,e,n),e[n])};var Ah={},wH=Ja,SH=kr,xP=wH&&SH(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),bH=bc,vH=String,kH=TypeError,vc=function(t){if(bH(t))return t;throw new kH(vH(t)+" is not an object")},CH=Ja,_H=yP,EH=xP,xg=vc,Av=gP,IH=TypeError,Z2=Object.defineProperty,PH=Object.getOwnPropertyDescriptor,Q2="enumerable",J2="configurable",ex="writable";Ah.f=CH?EH?function(e,n,r){if(xg(e),n=Av(n),xg(r),typeof e=="function"&&n==="prototype"&&"value"in r&&ex in r&&!r[ex]){var s=PH(e,n);s&&s[ex]&&(e[n]=r.value,r={configurable:J2 in r?r[J2]:s[J2],enumerable:Q2 in r?r[Q2]:s[Q2],writable:!1})}return Z2(e,n,r)}:Z2:function(e,n,r){if(xg(e),n=Av(n),xg(r),_H)try{return Z2(e,n,r)}catch{}if("get"in r||"set"in r)throw new IH("Accessors not supported");return"value"in r&&(e[n]=r.value),e};var zH=Ja,AH=Ah,NH=sP,BS=zH?function(t,e,n){return AH.f(t,e,NH(1,n))}:function(t,e,n){return t[e]=n,t},wP={exports:{}},sw=Ja,TH=el,SP=Function.prototype,LH=sw&&Object.getOwnPropertyDescriptor,FS=TH(SP,"name"),MH=FS&&(function(){}).name==="something",jH=FS&&(!sw||sw&&LH(SP,"name").configurable),RH={EXISTS:FS,PROPER:MH,CONFIGURABLE:jH},$H=kn,OH=Cr,iw=DS,DH=$H(Function.toString);OH(iw.inspectSource)||(iw.inspectSource=function(t){return DH(t)});var bP=iw.inspectSource,qH=Kr,BH=Cr,Nv=qH.WeakMap,FH=BH(Nv)&&/native code/.test(String(Nv)),KH=qS,WH=fP,Tv=KH("keys"),vP=function(t){return Tv[t]||(Tv[t]=WH(t))},KS={},UH=FH,kP=Kr,VH=bc,XH=BS,tx=el,nx=DS,YH=vP,HH=KS,Lv="Object already initialized",ow=kP.TypeError,GH=kP.WeakMap,_m,Cp,Em,ZH=function(t){return Em(t)?Cp(t):_m(t,{})},QH=function(t){return function(e){var n;if(!VH(e)||(n=Cp(e)).type!==t)throw new ow("Incompatible receiver, "+t+" required");return n}};if(UH||nx.state){var Ei=nx.state||(nx.state=new GH);Ei.get=Ei.get,Ei.has=Ei.has,Ei.set=Ei.set,_m=function(t,e){if(Ei.has(t))throw new ow(Lv);return e.facade=t,Ei.set(t,e),e},Cp=function(t){return Ei.get(t)||{}},Em=function(t){return Ei.has(t)}}else{var Xc=YH("state");HH[Xc]=!0,_m=function(t,e){if(tx(t,Xc))throw new ow(Lv);return e.facade=t,XH(t,Xc,e),e},Cp=function(t){return tx(t,Xc)?t[Xc]:{}},Em=function(t){return tx(t,Xc)}}var CP={set:_m,get:Cp,has:Em,enforce:ZH,getterFor:QH},WS=kn,JH=kr,eG=Cr,wg=el,aw=Ja,tG=RH.CONFIGURABLE,nG=bP,_P=CP,rG=_P.enforce,sG=_P.get,Mv=String,I0=Object.defineProperty,iG=WS("".slice),oG=WS("".replace),aG=WS([].join),lG=aw&&!JH(function(){return I0(function(){},"length",{value:8}).length!==8}),cG=String(String).split("String"),dG=wP.exports=function(t,e,n){iG(Mv(e),0,7)==="Symbol("&&(e="["+oG(Mv(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!wg(t,"name")||tG&&t.name!==e)&&(aw?I0(t,"name",{value:e,configurable:!0}):t.name=e),lG&&n&&wg(n,"arity")&&t.length!==n.arity&&I0(t,"length",{value:n.arity});try{n&&wg(n,"constructor")&&n.constructor?aw&&I0(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch{}var r=rG(t);return wg(r,"source")||(r.source=aG(cG,typeof e=="string"?e:"")),t};Function.prototype.toString=dG(function(){return eG(this)&&sG(this).source||nG(this)},"toString");var hG=wP.exports,uG=Cr,pG=Ah,fG=hG,gG=OS,EP=function(t,e,n,r){r||(r={});var s=r.enumerable,i=r.name!==void 0?r.name:e;if(uG(n)&&fG(n,i,r),r.global)s?t[e]=n:gG(e,n);else{try{r.unsafe?t[e]&&(s=!0):delete t[e]}catch{}s?t[e]=n:pG.f(t,e,{value:n,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return t},IP={},mG=Math.ceil,yG=Math.floor,xG=Math.trunc||function(e){var n=+e;return(n>0?yG:mG)(n)},wG=xG,kc=function(t){var e=+t;return e!==e||e===0?0:wG(e)},SG=kc,bG=Math.max,vG=Math.min,kG=function(t,e){var n=SG(t);return n<0?bG(n+e,0):vG(n,e)},CG=kc,_G=Math.min,PP=function(t){var e=CG(t);return e>0?_G(e,9007199254740991):0},EG=PP,Cf=function(t){return EG(t.length)},IG=Uy,PG=kG,zG=Cf,jv=function(t){return function(e,n,r){var s=IG(e),i=zG(s);if(i===0)return!t&&-1;var o=PG(r,i),a;if(t&&n!==n){for(;i>o;)if(a=s[o++],a!==a)return!0}else for(;i>o;o++)if((t||o in s)&&s[o]===n)return t||o||0;return!t&&-1}},AG={includes:jv(!0),indexOf:jv(!1)},NG=kn,rx=el,TG=Uy,LG=AG.indexOf,MG=KS,Rv=NG([].push),zP=function(t,e){var n=TG(t),r=0,s=[],i;for(i in n)!rx(MG,i)&&rx(n,i)&&Rv(s,i);for(;e.length>r;)rx(n,i=e[r++])&&(~LG(s,i)||Rv(s,i));return s},US=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],jG=zP,RG=US,$G=RG.concat("length","prototype");IP.f=Object.getOwnPropertyNames||function(e){return jG(e,$G)};var AP={};AP.f=Object.getOwnPropertySymbols;var OG=Vy,DG=kn,qG=IP,BG=AP,FG=vc,KG=DG([].concat),WG=OG("Reflect","ownKeys")||function(e){var n=qG.f(FG(e)),r=BG.f;return r?KG(n,r(e)):n},$v=el,UG=WG,VG=jS,XG=Ah,YG=function(t,e,n){for(var r=UG(e),s=XG.f,i=VG.f,o=0;o<r.length;o++){var a=r[o];!$v(t,a)&&!(n&&$v(n,a))&&s(t,a,i(e,a))}},HG=kr,GG=Cr,ZG=/#|\.prototype\./,_f=function(t,e){var n=JG[QG(t)];return n===tZ?!0:n===eZ?!1:GG(e)?HG(e):!!e},QG=_f.normalize=function(t){return String(t).replace(ZG,".").toLowerCase()},JG=_f.data={},eZ=_f.NATIVE="N",tZ=_f.POLYFILL="P",nZ=_f,Sg=Kr,rZ=jS.f,sZ=BS,iZ=EP,oZ=OS,aZ=YG,lZ=nZ,Nh=function(t,e){var n=t.target,r=t.global,s=t.stat,i,o,a,l,c,d;if(r?o=Sg:s?o=Sg[n]||oZ(n,{}):o=Sg[n]&&Sg[n].prototype,o)for(a in e){if(c=e[a],t.dontCallGetSet?(d=rZ(o,a),l=d&&d.value):l=o[a],i=lZ(r?a:n+(s?".":"#")+a,t.forced),!i&&l!==void 0){if(typeof c==typeof l)continue;aZ(c,l)}(t.sham||l&&l.sham)&&sZ(c,"sham",!0),iZ(o,a,c,t)}},NP={},cZ=zP,dZ=US,hZ=Object.keys||function(e){return cZ(e,dZ)},uZ=Ja,pZ=xP,fZ=Ah,gZ=vc,mZ=Uy,yZ=hZ;NP.f=uZ&&!pZ?Object.defineProperties:function(e,n){gZ(e);for(var r=mZ(n),s=yZ(n),i=s.length,o=0,a;i>o;)fZ.f(e,a=s[o++],r[a]);return e};var xZ=Vy,wZ=xZ("document","documentElement"),SZ=vc,bZ=NP,Ov=US,vZ=KS,kZ=wZ,CZ=mP,_Z=vP,Dv=">",qv="<",lw="prototype",cw="script",TP=_Z("IE_PROTO"),sx=function(){},LP=function(t){return qv+cw+Dv+t+qv+"/"+cw+Dv},Bv=function(t){t.write(LP("")),t.close();var e=t.parentWindow.Object;return t=null,e},EZ=function(){var t=CZ("iframe"),e="java"+cw+":",n;return t.style.display="none",kZ.appendChild(t),t.src=String(e),n=t.contentWindow.document,n.open(),n.write(LP("document.F=Object")),n.close(),n.F},bg,P0=function(){try{bg=new ActiveXObject("htmlfile")}catch{}P0=typeof document<"u"?document.domain&&bg?Bv(bg):EZ():Bv(bg);for(var t=Ov.length;t--;)delete P0[lw][Ov[t]];return P0()};vZ[TP]=!0;var MP=Object.create||function(e,n){var r;return e!==null?(sx[lw]=SZ(e),r=new sx,sx[lw]=null,r[TP]=e):r=P0(),n===void 0?r:bZ.f(r,n)},IZ=Ho,PZ=MP,zZ=Ah.f,dw=IZ("unscopables"),hw=Array.prototype;hw[dw]===void 0&&zZ(hw,dw,{configurable:!0,value:PZ(null)});var VS=function(t){hw[dw][t]=!0},AZ=Nh,NZ=kf,TZ=Cf,LZ=kc,MZ=VS;AZ({target:"Array",proto:!0},{at:function(e){var n=NZ(this),r=TZ(n),s=LZ(e),i=s>=0?s:r+s;return i<0||i>=r?void 0:n[i]}});MZ("at");var jZ=Kr,RZ=kn,Ef=function(t,e){return RZ(jZ[t].prototype[e])},$Z=Ef;$Z("Array","at");var OZ=Ph,jP=Array.isArray||function(e){return OZ(e)==="Array"},DZ=TypeError,qZ=9007199254740991,BZ=function(t){if(t>qZ)throw DZ("Maximum allowed index exceeded");return t},FZ=Ph,KZ=kn,WZ=function(t){if(FZ(t)==="Function")return KZ(t)},Fv=WZ,UZ=RS,VZ=Ky,XZ=Fv(Fv.bind),YZ=function(t,e){return UZ(t),e===void 0?t:VZ?XZ(t,e):function(){return t.apply(e,arguments)}},HZ=jP,GZ=Cf,ZZ=BZ,QZ=YZ,RP=function(t,e,n,r,s,i,o,a){for(var l=s,c=0,d=o?QZ(o,a):!1,h,u;c<r;)c in n&&(h=d?d(n[c],c,e):n[c],i>0&&HZ(h)?(u=GZ(h),l=RP(t,e,h,u,l,i-1)-1):(ZZ(l+1),t[l]=h),l++),c++;return l},$P=RP,JZ=Ho,eQ=JZ("toStringTag"),OP={};OP[eQ]="z";var tQ=String(OP)==="[object z]",nQ=tQ,rQ=Cr,z0=Ph,sQ=Ho,iQ=sQ("toStringTag"),oQ=Object,aQ=z0(function(){return arguments}())==="Arguments",lQ=function(t,e){try{return t[e]}catch{}},DP=nQ?z0:function(t){var e,n,r;return t===void 0?"Undefined":t===null?"Null":typeof(n=lQ(e=oQ(t),iQ))=="string"?n:aQ?z0(e):(r=z0(e))==="Object"&&rQ(e.callee)?"Arguments":r},cQ=kn,dQ=kr,qP=Cr,hQ=DP,uQ=Vy,pQ=bP,BP=function(){},FP=uQ("Reflect","construct"),XS=/^\s*(?:class|function)\b/,fQ=cQ(XS.exec),gQ=!XS.test(BP),su=function(e){if(!qP(e))return!1;try{return FP(BP,[],e),!0}catch{return!1}},KP=function(e){if(!qP(e))return!1;switch(hQ(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return gQ||!!fQ(XS,pQ(e))}catch{return!0}};KP.sham=!0;var mQ=!FP||dQ(function(){var t;return su(su.call)||!su(Object)||!su(function(){t=!0})||t})?KP:su,Kv=jP,yQ=mQ,xQ=bc,wQ=Ho,SQ=wQ("species"),Wv=Array,bQ=function(t){var e;return Kv(t)&&(e=t.constructor,yQ(e)&&(e===Wv||Kv(e.prototype))?e=void 0:xQ(e)&&(e=e[SQ],e===null&&(e=void 0))),e===void 0?Wv:e},vQ=bQ,WP=function(t,e){return new(vQ(t))(e===0?0:e)},kQ=Nh,CQ=$P,_Q=kf,EQ=Cf,IQ=kc,PQ=WP;kQ({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,n=_Q(this),r=EQ(n),s=PQ(n,0);return s.length=CQ(s,n,n,r,0,e===void 0?1:IQ(e)),s}});var zQ=VS;zQ("flat");var AQ=Ef;AQ("Array","flat");var NQ=Nh,TQ=$P,LQ=RS,MQ=kf,jQ=Cf,RQ=WP;NQ({target:"Array",proto:!0},{flatMap:function(e){var n=MQ(this),r=jQ(n),s;return LQ(e),s=RQ(n,0),s.length=TQ(s,n,n,r,0,1,e,arguments.length>1?arguments[1]:void 0),s}});var $Q=VS;$Q("flatMap");var OQ=Ef;OQ("Array","flatMap");var DQ=DP,qQ=String,If=function(t){if(DQ(t)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return qQ(t)},BQ=Nh,FQ=kn,KQ=zh,WQ=kc,UQ=If,VQ=kr,XQ=FQ("".charAt),YQ=VQ(function(){return"".at(-2)!=="\uD842"});BQ({target:"String",proto:!0,forced:YQ},{at:function(e){var n=UQ(KQ(this)),r=n.length,s=WQ(e),i=s>=0?s:r+s;return i<0||i>=r?void 0:XQ(n,i)}});var HQ=Ef;HQ("String","at");var GQ=vc,UP=function(){var t=GQ(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e},YS=kr,ZQ=Kr,HS=ZQ.RegExp,GS=YS(function(){var t=HS("a","y");return t.lastIndex=2,t.exec("abcd")!==null}),QQ=GS||YS(function(){return!HS("a","y").sticky}),JQ=GS||YS(function(){var t=HS("^r","gy");return t.lastIndex=2,t.exec("str")!==null}),eJ={BROKEN_CARET:JQ,MISSED_STICKY:QQ,UNSUPPORTED_Y:GS},tJ=kr,nJ=Kr,rJ=nJ.RegExp,sJ=tJ(function(){var t=rJ(".","s");return!(t.dotAll&&t.test(`
`)&&t.flags==="s")}),iJ=kr,oJ=Kr,aJ=oJ.RegExp,lJ=iJ(function(){var t=aJ("(?<a>b)","g");return t.exec("b").groups.a!=="b"||"b".replace(t,"$<a>c")!=="bc"}),Sd=Yo,Xy=kn,cJ=If,dJ=UP,hJ=eJ,uJ=qS,pJ=MP,fJ=CP.get,gJ=sJ,mJ=lJ,yJ=uJ("native-string-replace",String.prototype.replace),Im=RegExp.prototype.exec,uw=Im,xJ=Xy("".charAt),wJ=Xy("".indexOf),SJ=Xy("".replace),ix=Xy("".slice),pw=function(){var t=/a/,e=/b*/g;return Sd(Im,t,"a"),Sd(Im,e,"a"),t.lastIndex!==0||e.lastIndex!==0}(),VP=hJ.BROKEN_CARET,fw=/()??/.exec("")[1]!==void 0,bJ=pw||fw||VP||gJ||mJ;bJ&&(uw=function(e){var n=this,r=fJ(n),s=cJ(e),i=r.raw,o,a,l,c,d,h,u;if(i)return i.lastIndex=n.lastIndex,o=Sd(uw,i,s),n.lastIndex=i.lastIndex,o;var p=r.groups,y=VP&&n.sticky,m=Sd(dJ,n),w=n.source,S=0,b=s;if(y&&(m=SJ(m,"y",""),wJ(m,"g")===-1&&(m+="g"),b=ix(s,n.lastIndex),n.lastIndex>0&&(!n.multiline||n.multiline&&xJ(s,n.lastIndex-1)!==`
`)&&(w="(?: "+w+")",b=" "+b,S++),a=new RegExp("^(?:"+w+")",m)),fw&&(a=new RegExp("^"+w+"$(?!\\s)",m)),pw&&(l=n.lastIndex),c=Sd(Im,y?a:n,b),y?c?(c.input=ix(c.input,S),c[0]=ix(c[0],S),c.index=n.lastIndex,n.lastIndex+=c[0].length):n.lastIndex=0:pw&&c&&(n.lastIndex=n.global?c.index+c[0].length:l),fw&&c&&c.length>1&&Sd(yJ,c[0],a,function(){for(d=1;d<arguments.length-2;d++)arguments[d]===void 0&&(c[d]=void 0)}),c&&p)for(c.groups=h=pJ(null),d=0;d<p.length;d++)u=p[d],h[u[0]]=c[u[1]];return c});var ZS=uw,vJ=Nh,Uv=ZS;vJ({target:"RegExp",proto:!0,forced:/./.exec!==Uv},{exec:Uv});var kJ=Ky,XP=Function.prototype,Vv=XP.apply,Xv=XP.call,CJ=typeof Reflect=="object"&&Reflect.apply||(kJ?Xv.bind(Vv):function(){return Xv.apply(Vv,arguments)}),Yv=Yo,Hv=EP,_J=ZS,Gv=kr,YP=Ho,EJ=BS,IJ=YP("species"),ox=RegExp.prototype,PJ=function(t,e,n,r){var s=YP(t),i=!Gv(function(){var c={};return c[s]=function(){return 7},""[t](c)!==7}),o=i&&!Gv(function(){var c=!1,d=/a/;return t==="split"&&(d={},d.constructor={},d.constructor[IJ]=function(){return d},d.flags="",d[s]=/./[s]),d.exec=function(){return c=!0,null},d[s](""),!c});if(!i||!o||n){var a=/./[s],l=e(s,""[t],function(c,d,h,u,p){var y=d.exec;return y===_J||y===ox.exec?i&&!p?{done:!0,value:Yv(a,d,h,u)}:{done:!0,value:Yv(c,h,d,u)}:{done:!1}});Hv(String.prototype,t,l[0]),Hv(ox,s,l[1])}r&&EJ(ox[s],"sham",!0)},QS=kn,zJ=kc,AJ=If,NJ=zh,TJ=QS("".charAt),Zv=QS("".charCodeAt),LJ=QS("".slice),Qv=function(t){return function(e,n){var r=AJ(NJ(e)),s=zJ(n),i=r.length,o,a;return s<0||s>=i?t?"":void 0:(o=Zv(r,s),o<55296||o>56319||s+1===i||(a=Zv(r,s+1))<56320||a>57343?t?TJ(r,s):o:t?LJ(r,s,s+2):(o-55296<<10)+(a-56320)+65536)}},MJ={codeAt:Qv(!1),charAt:Qv(!0)},jJ=MJ.charAt,RJ=function(t,e,n){return e+(n?jJ(t,e).length:1)},JS=kn,$J=kf,OJ=Math.floor,ax=JS("".charAt),DJ=JS("".replace),lx=JS("".slice),qJ=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,BJ=/\$([$&'`]|\d{1,2})/g,HP=function(t,e,n,r,s,i){var o=n+t.length,a=r.length,l=BJ;return s!==void 0&&(s=$J(s),l=qJ),DJ(i,l,function(c,d){var h;switch(ax(d,0)){case"$":return"$";case"&":return t;case"`":return lx(e,0,n);case"'":return lx(e,o);case"<":h=s[lx(d,1,-1)];break;default:var u=+d;if(u===0)return c;if(u>a){var p=OJ(u/10);return p===0?c:p<=a?r[p-1]===void 0?ax(d,1):r[p-1]+ax(d,1):c}h=r[u-1]}return h===void 0?"":h})},Jv=Yo,FJ=vc,KJ=Cr,WJ=Ph,UJ=ZS,VJ=TypeError,XJ=function(t,e){var n=t.exec;if(KJ(n)){var r=Jv(n,t,e);return r!==null&&FJ(r),r}if(WJ(t)==="RegExp")return Jv(UJ,t,e);throw new VJ("RegExp#exec called on incompatible receiver")},YJ=CJ,e4=Yo,Yy=kn,HJ=PJ,GJ=kr,ZJ=vc,QJ=Cr,JJ=Wy,eee=kc,tee=PP,Yc=If,nee=zh,ree=RJ,see=$S,iee=HP,oee=XJ,aee=Ho,gw=aee("replace"),lee=Math.max,cee=Math.min,dee=Yy([].concat),cx=Yy([].push),t4=Yy("".indexOf),n4=Yy("".slice),hee=function(t){return t===void 0?t:String(t)},uee=function(){return"a".replace(/./,"$0")==="$0"}(),r4=function(){return/./[gw]?/./[gw]("a","$0")==="":!1}(),pee=!GJ(function(){var t=/./;return t.exec=function(){var e=[];return e.groups={a:"7"},e},"".replace(t,"$<a>")!=="7"});HJ("replace",function(t,e,n){var r=r4?"$":"$0";return[function(i,o){var a=nee(this),l=JJ(i)?void 0:see(i,gw);return l?e4(l,i,a,o):e4(e,Yc(a),i,o)},function(s,i){var o=ZJ(this),a=Yc(s);if(typeof i=="string"&&t4(i,r)===-1&&t4(i,"$<")===-1){var l=n(e,o,a,i);if(l.done)return l.value}var c=QJ(i);c||(i=Yc(i));var d=o.global,h;d&&(h=o.unicode,o.lastIndex=0);for(var u=[],p;p=oee(o,a),!(p===null||(cx(u,p),!d));){var y=Yc(p[0]);y===""&&(o.lastIndex=ree(a,tee(o.lastIndex),h))}for(var m="",w=0,S=0;S<u.length;S++){p=u[S];for(var b=Yc(p[0]),g=lee(cee(eee(p.index),a.length),0),x=[],k,C=1;C<p.length;C++)cx(x,hee(p[C]));var _=p.groups;if(c){var E=dee([b],x,g,a);_!==void 0&&cx(E,_),k=Yc(YJ(i,void 0,E))}else k=iee(b,a,g,x,_,i);g>=w&&(m+=n4(a,w,g)+k,w=g+b.length)}return m+n4(a,w)}]},!pee||!uee||r4);var fee=bc,gee=Ph,mee=Ho,yee=mee("match"),xee=function(t){var e;return fee(t)&&((e=t[yee])!==void 0?!!e:gee(t)==="RegExp")},wee=Yo,See=el,bee=lP,vee=UP,s4=RegExp.prototype,kee=function(t){var e=t.flags;return e===void 0&&!("flags"in s4)&&!See(t,"flags")&&bee(s4,t)?wee(vee,t):e},Cee=Nh,_ee=Yo,e9=kn,i4=zh,Eee=Cr,Iee=Wy,Pee=xee,iu=If,zee=$S,Aee=kee,Nee=HP,Tee=Ho,Lee=Tee("replace"),Mee=TypeError,dx=e9("".indexOf);e9("".replace);var o4=e9("".slice),jee=Math.max;Cee({target:"String",proto:!0},{replaceAll:function(e,n){var r=i4(this),s,i,o,a,l,c,d,h,u,p=0,y=0,m="";if(!Iee(e)){if(s=Pee(e),s&&(i=iu(i4(Aee(e))),!~dx(i,"g")))throw new Mee("`.replaceAll` does not allow non-global regexes");if(o=zee(e,Lee),o)return _ee(o,e,r,n)}for(a=iu(r),l=iu(e),c=Eee(n),c||(n=iu(n)),d=l.length,h=jee(1,d),p=dx(a,l);p!==-1;)u=c?iu(n(l,p,a)):Nee(l,a,p,[],void 0,n),m+=o4(a,y,p)+u,y=p+d,p=p+h>a.length?-1:dx(a,l,p+h);return y<a.length&&(m+=o4(a,y)),m}});var Ree=Ef;Ree("String","replaceAll");const GP=({children:t})=>{const e=Y();return Q("shouldDisplayHandles",()=>e.isInAny("select.idle","select.pointing_handle"),[e])?f.jsx("svg",{className:"tl-user-handles tl-overlays__item",children:t}):null},ZP=({shapeId:t})=>{const e=Y();return Q("show hovered",()=>e.isIn("select.editing_shape")?e.getHoveredShapeId()!==e.getEditingShapeId():e.isInAny("select.idle"),[e])?f.jsx(xf,{className:"tl-user-indicator__hovered",id:t}):null},{PI:$ee}=Math,Kd=$ee+1e-4;function QP(t,e={}){const{size:n=16,smoothing:r=.5}=e;if(t.length===0||n<=0)return{left:[],right:[]};const s=t[0],i=t[t.length-1],o=i.runningLength,a=Math.pow(n*r,2),l=[],c=[];let d=t[0].vector,h=t[0].point,u=h,p=h,y=u,m=!1,w;for(let S=0;S<t.length;S++){w=t[S];const{point:b,vector:g}=t[S],x=w.vector.dpr(d),k=(S<t.length-1?t[S+1]:t[S]).vector,C=S<t.length-1?k.dpr(w.vector):1,_=x<0&&!m,E=C!==null&&C<.2;if(_||E){if(C>-.62&&o-w.runningLength>w.radius){const P=d.clone().mul(w.radius);d.clone().cpr(k)<0?(p=I.Add(b,P),y=I.Sub(b,P)):(p=I.Sub(b,P),y=I.Add(b,P)),l.push(p),c.push(y)}else{const P=d.clone().mul(w.radius).per(),A=I.Sub(w.input,P);for(let N=1/13,L=0;L<1;L+=N)p=I.RotWith(A,w.input,Kd*L),l.push(p),y=I.RotWith(A,w.input,Kd+Kd*-L),c.push(y)}h=p,u=y,E&&(m=!0);continue}if(m=!1,w===s||w===i){const P=I.Per(g).mul(w.radius);l.push(I.Sub(b,P)),c.push(I.Add(b,P));continue}const z=I.Lrp(k,g,C).per().mul(w.radius);p=I.Sub(b,z),(S<=1||I.Dist2(h,p)>a)&&(l.push(p),h=p),y=I.Add(b,z),(S<=1||I.Dist2(u,y)>a)&&(c.push(y),u=y),d=g}return{left:l,right:c}}function Pf(t,e={}){const{size:n=16,start:r={},end:s={},last:i=!1}=e,{cap:o=!0}=r,{cap:a=!0}=s;if(t.length===0||n<=0)return[];const l=t[0],c=t[t.length-1],d=c.runningLength,h=r.taper===!1?0:r.taper===!0?Math.max(n,d):r.taper,u=s.taper===!1?0:s.taper===!0?Math.max(n,d):s.taper,{left:p,right:y}=QP(t,e),m=l.point,w=t.length>1?t[t.length-1].point:I.AddXY(l.point,1,1);if(t.length===1&&(!(h||u)||i)){const x=I.Add(m,I.Sub(m,w).uni().per().mul(-l.radius)),k=[];for(let C=1/13,_=C;_<=1;_+=C)k.push(I.RotWith(x,m,Kd*2*_));return k}const S=[];if(!(h||u&&t.length===1))if(o)for(let x=1/8,k=x;k<=1;k+=x){const C=I.RotWith(y[0],m,Kd*k);S.push(C)}else{const x=I.Sub(p[0],y[0]),k=I.Mul(x,.5),C=I.Mul(x,.51);S.push(I.Sub(m,k),I.Sub(m,C),I.Add(m,C),I.Add(m,k))}const b=[],g=c.vector.clone().per().neg();if(u||h&&t.length===1)b.push(w);else if(a){const x=I.Add(w,I.Mul(g,c.radius));for(let k=1/29,C=k;C<1;C+=k)b.push(I.RotWith(x,w,Kd*3*C))}else b.push(I.Add(w,I.Mul(g,c.radius)),I.Add(w,I.Mul(g,c.radius*.99)),I.Sub(w,I.Mul(g,c.radius*.99)),I.Sub(w,I.Mul(g,c.radius)));return p.concat(b,y.reverse(),S)}const Oee=.025,Dee=.01;function ai(t,e={}){var w;const{streamline:n=.5,size:r=16,simulatePressure:s=!1}=e;if(t.length===0)return[];const i=.15+(1-n)*.85;let o=t.map(I.From),a=0;if(!s){let S=o[0];for(;S&&!(S.z>=Oee);)o.shift(),S=o[0]}if(!s){let S=o[o.length-1];for(;S&&!(S.z>=Dee);)o.pop(),S=o[o.length-1]}if(o.length===0)return[{point:I.From(t[0]),input:I.From(t[0]),pressure:s?.5:.15,vector:new I(1,1),distance:0,runningLength:0,radius:1}];let l=o[1];for(;l&&!(I.Dist(l,o[0])>r/3);)o[0].z=Math.max(o[0].z,l.z),o.splice(1,1),l=o[1];const c=o.pop();for(l=o[o.length-1];l&&!(I.Dist(l,c)>r/3);)o.pop(),l=o[o.length-1],a++;o.push(c);const d=e.last||!e.simulatePressure||o.length>1&&I.Dist(o[o.length-1],o[o.length-2])<r||a>0;if(o.length===2&&e.simulatePressure){const S=o[1];o=o.slice(0,-1);for(let b=1;b<5;b++){const g=I.Lrp(o[0],S,b/4);g.z=(o[0].z+(S.z-o[0].z))*b/4,o.push(g)}}const h=[{point:o[0],input:o[0],pressure:s?.5:o[0].z,vector:new I(1,1),distance:0,runningLength:0,radius:1}];let u=0,p=h[0],y,m;d&&n>0&&o.push(o[o.length-1].clone());for(let S=1,b=o.length;S<b;S++)y=!i||e.last&&S===b-1?o[S].clone():o[S].clone().lrp(p.point,1-i),!p.point.equals(y)&&(m=I.Dist(y,p.point),u+=m,!(S<4&&u<r)&&(p={input:o[S],point:y,pressure:s?.5:o[S].z,vector:I.Sub(p.point,y).uni(),distance:m,runningLength:u,radius:1},h.push(p)));if((w=h[1])!=null&&w.vector&&(h[0].vector=h[1].vector.clone()),u<1){const S=Math.max(.5,...h.map(b=>b.pressure));h.forEach(b=>b.pressure=S)}return h}const{min:ha}=Math,hx=.275;function Th(t,e){const{size:n=16,thinning:r=.5,simulatePressure:s=!0,easing:i=w=>w,start:o={},end:a={}}=e,{easing:l=dr.easeOutQuad}=o,{easing:c=dr.easeOutCubic}=a,d=t[t.length-1].runningLength;let h,u=t[0].pressure,p;if(!s&&d<n){const w=t.reduce((S,b)=>Math.max(S,b.pressure),.5);return t.forEach(S=>{S.pressure=w,S.radius=n*i(.5-r*(.5-S.pressure))}),t}else{let w;for(let S=0,b=t.length;S<b&&(p=t[S],!(p.runningLength>n*5));S++){const g=ha(1,p.distance/n);if(s){const x=ha(1,1-g);w=ha(1,u+(x-u)*(g*hx))}else w=ha(1,u+(p.pressure-u)*.5);u=u+(w-u)*.5}for(let S=0;S<t.length;S++){if(p=t[S],r){let{pressure:b}=p;const g=ha(1,p.distance/n);if(s){const x=ha(1,1-g);b=ha(1,u+(x-u)*(g*hx))}else b=ha(1,u+(b-u)*(g*hx));p.radius=n*i(.5-r*(.5-b)),u=b}else p.radius=n/2;h===void 0&&(h=p.radius)}}const y=o.taper===!1?0:o.taper===!0?Math.max(n,d):o.taper,m=a.taper===!1?0:a.taper===!0?Math.max(n,d):a.taper;if(y||m)for(let w=0;w<t.length;w++){p=t[w];const{runningLength:S}=p,b=S<y?l(S/y):1,g=d-S<m?c((d-S)/m):1;p.radius=Math.max(.01,p.radius*Math.min(b,g))}return t}function qee(t,e={}){return Pf(Th(ai(t,e),e),e)}const Pm=({scribble:t,zoom:e,color:n,opacity:r,className:s})=>{if(!t.points.length)return null;const i=qee(t.points,{size:t.size/e,start:{taper:t.taper,easing:dr.linear},last:t.state==="stopping",simulatePressure:!1,streamline:.32});let o;if(i.length<4){const a=t.size/e/2,{x:l,y:c}=t.points[t.points.length-1];o=`M ${l-a},${c} a ${a},${a} 0 1,0 ${a*2},0 a ${a},${a} 0 1,0 ${-a*2},0`}else o=wf(i);return f.jsx("svg",{className:s&&ue("tl-overlays__item",s),children:f.jsx("path",{className:"tl-scribble",d:o,fill:n??`var(--color-${t.color})`,opacity:r??t.opacity})})},JP=({bounds:t,rotation:e})=>{const n=Y();return Q("should display",()=>n.isInAny("select.idle","select.brushing","select.scribble_brushing","select.pointing_shape","select.pointing_selection","text.resizing"),[n])?f.jsx(XE,{bounds:t,rotation:e}):null};function Ws(){const t=Y();return Q("isReadonlyMode",()=>t.getInstanceState().isReadonly,[t])}function Bee({size:t,width:e,height:n,hideAlternateHandles:r}){const s=$(t/3),i=s/2;return f.jsxs("svg",{className:"tl-overlays__item",children:[f.jsx("polyline",{className:"tl-corner-crop-handle",points:`
						${$(0-i)},${$(t)} 
						${$(0-i)},${$(0-i)} 
						${$(t)},${$(0-i)}`,strokeWidth:s,"data-testid":"selection.crop.top_left","aria-label":"top_left handle"}),f.jsx("line",{className:ue("tl-corner-crop-edge-handle",{"tl-hidden":r}),x1:$(e/2-t),y1:$(0-i),x2:$(e/2+t),y2:$(0-i),strokeWidth:s,"data-testid":"selection.crop.top","aria-label":"top handle"}),f.jsx("polyline",{className:ue("tl-corner-crop-handle",{"tl-hidden":r}),points:`
						${$(e-t)},${$(0-i)} 
						${$(e+i)},${$(0-i)} 
						${$(e+i)},${$(t)}`,strokeWidth:s,"data-testid":"selection.crop.top_right","aria-label":"top_right handle"}),f.jsx("line",{className:ue("tl-corner-crop-edge-handle",{"tl-hidden":r}),x1:$(e+i),y1:$(n/2-t),x2:$(e+i),y2:$(n/2+t),strokeWidth:s,"data-testid":"selection.crop.right","aria-label":"right handle"}),f.jsx("polyline",{className:"tl-corner-crop-handle",points:`
						${$(e+i)},${$(n-t)} 
						${$(e+i)},${$(n+i)}
						${$(e-t)},${$(n+i)}`,strokeWidth:s,"data-testid":"selection.crop.bottom_right","aria-label":"bottom_right handle"}),f.jsx("line",{className:ue("tl-corner-crop-edge-handle",{"tl-hidden":r}),x1:$(e/2-t),y1:$(n+i),x2:$(e/2+t),y2:$(n+i),strokeWidth:s,"data-testid":"selection.crop.bottom","aria-label":"bottom handle"}),f.jsx("polyline",{className:ue("tl-corner-crop-handle",{"tl-hidden":r}),points:`
						${$(0+t)},${$(n+i)} 
						${$(0-i)},${$(n+i)}
						${$(0-i)},${$(n-t)}`,strokeWidth:s,"data-testid":"selection.crop.bottom_left","aria-label":"bottom_left handle"}),f.jsx("line",{className:ue("tl-corner-crop-edge-handle",{"tl-hidden":r}),x1:$(0-i),y1:$(n/2-t),x2:$(0-i),y2:$(n/2+t),strokeWidth:s,"data-testid":"selection.crop.left","aria-label":"left handle"})]})}const ez=Ye(function({bounds:e,rotation:n}){const r=Y(),s=v.useRef(null),i=Ws(),o=Pi("top"),a=Pi("right"),l=Pi("bottom"),c=Pi("left"),d=Pi("top_left"),h=Pi("top_right"),u=Pi("bottom_right"),p=Pi("bottom_left"),y=!r.getIsMenuOpen()&&r.getInstanceState().cursor.type==="default",m=r.getInstanceState().isCoarsePointer,w=r.getSelectedShapes(),S=r.getOnlySelectedShape(),b=S&&r.isShapeOrAncestorLocked(S),g=S?r.getShapeUtil(S).expandSelectionOutlinePx(S):0;if(Ch(s,e==null?void 0:e.x,e==null?void 0:e.y,1,r.getSelectionRotation(),{x:-g,y:-g}),!e)return null;e=e.clone().expandBy(g).zeroFix();const x=r.getZoomLevel(),k=r.getInstanceState().isChangingStyle,C=e.width,_=e.height,E=8/x,z=C<E*2,P=_<E*2,A=C<E*4,N=_<E*4,L=C<E*5,M=_<E*5,q=m?1.75:1,D=6/x*q,X=(A?D/2:D)*(q*.75),O=(N?D/2:D)*(q*.75),K=(S?!r.getShapeUtil(S).hideSelectionBoundsFg(S):!0)&&!k;let W=K&&r.isInAny("select.idle","select.brushing","select.scribble_brushing","select.pointing_canvas","select.pointing_selection","select.pointing_shape","select.crop.idle","select.crop.pointing_crop","select.pointing_resize_handle","select.pointing_crop_handle")||K&&r.isIn("select.resizing")&&S&&r.isShapeOfType(S,"text");S&&W&&r.environment.isFirefox&&r.isShapeOfType(S,"embed")&&(W=!1);const G=r.isInAny("select.pointing_crop_handle","select.crop.idle","select.crop.pointing_crop")&&!k&&!i,J=r.isInAny("select.idle","select.pointing_selection","select.pointing_shape","select.crop.idle")&&!k&&!i,ye=!m&&!(z||P)&&(J||G)&&(S?!r.getShapeUtil(S).hideRotateHandle(S):!0)&&!b,Le=m&&(!A||!N)&&(J||G)&&(S?!r.getShapeUtil(S).hideRotateHandle(S):!0)&&!b,ne=J&&(S?r.getShapeUtil(S).canResize(S)&&!r.getShapeUtil(S).hideResizeHandles(S):!0)&&!G&&!b,ve=z||P,Ie=z&&P,rt=L||M,Pe=ne||G,$e=!ye,Ce=!J||!Le,Je=!J||!Pe,Ct=!J||!Pe||ve,Jt=!J||!Pe||ve,Ke=!J||!Pe||Ie&&!G;let He=m;He&&w.every(ra=>r.getShapeUtil(ra).isAspectRatioLocked(ra))&&(He=!1);let bs=!0;G?bs=rt:ne&&(bs=ve||Ie||He);const Vs=Math.min(24/x,_-O*3),ul=J&&m&&S&&r.isShapeOfType(S,"text")&&Vs*x>=4;return f.jsx("svg",{className:"tl-overlays__item tl-selection__fg tl-svg-context","data-testid":"selection-foreground",children:f.jsxs("g",{ref:s,children:[W&&f.jsx("rect",{className:ue("tl-selection__fg__outline"),width:$(C),height:$(_)}),f.jsx(vg,{"data-testid":"selection.rotate.top-left",cx:0,cy:0,targetSize:D,corner:"top_left_rotate",cursor:y?Xr("nwse-rotate",n):void 0,isHidden:$e}),f.jsx(vg,{"data-testid":"selection.rotate.top-right",cx:C+D*3,cy:0,targetSize:D,corner:"top_right_rotate",cursor:y?Xr("nesw-rotate",n):void 0,isHidden:$e}),f.jsx(vg,{"data-testid":"selection.rotate.bottom-left",cx:0,cy:_+D*3,targetSize:D,corner:"bottom_left_rotate",cursor:y?Xr("swne-rotate",n):void 0,isHidden:$e}),f.jsx(vg,{"data-testid":"selection.rotate.bottom-right",cx:C+D*3,cy:_+D*3,targetSize:D,corner:"bottom_right_rotate",cursor:y?Xr("senw-rotate",n):void 0,isHidden:$e}),f.jsx(Kee,{"data-testid":"selection.rotate.mobile",cx:A?-D*1.5:C/2,cy:A?_/2:-D*1.5,size:E,isHidden:Ce}),f.jsx("rect",{className:ue("tl-transparent",{"tl-hidden":bs}),"data-testid":"selection.resize.top","aria-label":"top target",pointerEvents:"all",x:0,y:$(0-(N?O*2:O)),width:$(C),height:$(Math.max(1,O*2)),style:y?{cursor:Xr("ns-resize",n)}:void 0,...o}),f.jsx("rect",{className:ue("tl-transparent",{"tl-hidden":bs}),"data-testid":"selection.resize.right","aria-label":"right target",pointerEvents:"all",x:$(C-(A?0:X)),y:0,height:$(_),width:$(Math.max(1,X*2)),style:y?{cursor:Xr("ew-resize",n)}:void 0,...a}),f.jsx("rect",{className:ue("tl-transparent",{"tl-hidden":bs}),"data-testid":"selection.resize.bottom","aria-label":"bottom target",pointerEvents:"all",x:0,y:$(_-(N?0:O)),width:$(C),height:$(Math.max(1,O*2)),style:y?{cursor:Xr("ns-resize",n)}:void 0,...l}),f.jsx("rect",{className:ue("tl-transparent",{"tl-hidden":bs}),"data-testid":"selection.resize.left","aria-label":"left target",pointerEvents:"all",x:$(0-(A?X*2:X)),y:0,height:$(_),width:$(Math.max(1,X*2)),style:y?{cursor:Xr("ew-resize",n)}:void 0,...c}),f.jsx("rect",{className:ue("tl-transparent",{"tl-hidden":Je}),"data-testid":"selection.target.top-left","aria-label":"top-left target",pointerEvents:"all",x:$(0-(A?X*2:X*1.5)),y:$(0-(N?O*2:O*1.5)),width:$(X*3),height:$(O*3),style:y?{cursor:Xr("nwse-resize",n)}:void 0,...d}),f.jsx("rect",{className:ue("tl-transparent",{"tl-hidden":Ct}),"data-testid":"selection.target.top-right","aria-label":"top-right target",pointerEvents:"all",x:$(C-(A?0:X*1.5)),y:$(0-(N?O*2:O*1.5)),width:$(X*3),height:$(O*3),style:y?{cursor:Xr("nesw-resize",n)}:void 0,...h}),f.jsx("rect",{className:ue("tl-transparent",{"tl-hidden":Ke}),"data-testid":"selection.target.bottom-right","aria-label":"bottom-right target",pointerEvents:"all",x:$(C-(A?X:X*1.5)),y:$(_-(N?O:O*1.5)),width:$(X*3),height:$(O*3),style:y?{cursor:Xr("nwse-resize",n)}:void 0,...u}),f.jsx("rect",{className:ue("tl-transparent",{"tl-hidden":Jt}),"data-testid":"selection.target.bottom-left","aria-label":"bottom-left target",pointerEvents:"all",x:$(0-(A?X*3:X*1.5)),y:$(_-(N?0:O*1.5)),width:$(X*3),height:$(O*3),style:y?{cursor:Xr("nesw-resize",n)}:void 0,...p}),ne&&f.jsxs(f.Fragment,{children:[f.jsx("rect",{"data-testid":"selection.resize.top-left",className:ue("tl-corner-handle",{"tl-hidden":Je}),"aria-label":"top_left handle",x:$(0-E/2),y:$(0-E/2),width:$(E),height:$(E)}),f.jsx("rect",{"data-testid":"selection.resize.top-right",className:ue("tl-corner-handle",{"tl-hidden":Ct}),"aria-label":"top_right handle",x:$(C-E/2),y:$(0-E/2),width:$(E),height:$(E)}),f.jsx("rect",{"data-testid":"selection.resize.bottom-right",className:ue("tl-corner-handle",{"tl-hidden":Ke}),"aria-label":"bottom_right handle",x:$(C-E/2),y:$(_-E/2),width:$(E),height:$(E)}),f.jsx("rect",{"data-testid":"selection.resize.bottom-left",className:ue("tl-corner-handle",{"tl-hidden":Jt}),"aria-label":"bottom_left handle",x:$(0-E/2),y:$(_-E/2),width:$(E),height:$(E)})]}),ul&&f.jsxs(f.Fragment,{children:[f.jsx("rect",{"data-testid":"selection.text-resize.left.handle",className:"tl-text-handle","aria-label":"bottom_left handle",x:$(0-E/4),y:$(_/2-Vs/2),rx:E/4,width:$(E/2),height:$(Vs)}),f.jsx("rect",{"data-testid":"selection.text-resize.right.handle",className:"tl-text-handle","aria-label":"bottom_left handle",rx:E/4,x:$(C-E/4),y:$(_/2-Vs/2),width:$(E/2),height:$(Vs)})]}),G&&f.jsx(Bee,{size:E,width:C,height:_,hideAlternateHandles:rt})]})})}),vg=function({cx:e,cy:n,targetSize:r,corner:s,cursor:i,isHidden:o,"data-testid":a}){const l=Pi(s);return f.jsx("rect",{className:ue("tl-transparent","tl-rotate-corner",{"tl-hidden":o}),"data-testid":a,"aria-label":`${s} target`,pointerEvents:"all",x:$(e-r*3),y:$(n-r*3),width:$(Math.max(1,r*3)),height:$(Math.max(1,r*3)),cursor:i,...l})},Fee=Math.sqrt(Math.PI),Kee=function({cx:e,cy:n,size:r,isHidden:s,"data-testid":i}){const o=Pi("mobile_rotate"),a=Y(),l=Q("zoom level",()=>a.getZoomLevel(),[a]),c=Math.max(14*(1/l),20/Math.max(1,l));return f.jsxs("g",{children:[f.jsx("circle",{"data-testid":i,pointerEvents:"all",className:ue("tl-transparent","tl-mobile-rotate__bg",{"tl-hidden":s}),cx:e,cy:n,r:c,...o}),f.jsx("circle",{className:ue("tl-mobile-rotate__fg",{"tl-hidden":s}),cx:e,cy:n,r:r/Fee})]})},Dn={lineHeight:1.35,fontWeight:"normal",fontVariant:"normal",fontStyle:"normal",padding:"0px"},or={s:2,m:3.5,l:5,xl:10},_a={s:18,m:24,l:36,xl:44},ah={s:18,m:22,l:26,xl:32},ma={s:18,m:20,l:24,xl:28},To={draw:"var(--tl-font-draw)",sans:"var(--tl-font-sans)",serif:"var(--tl-font-serif)",mono:"var(--tl-font-mono)"};var tz={exports:{}};(function(t){(function(e,n){t.exports?t.exports=n():e.downscale=n()})($n,function(){function e(E,S,b,g,x,k,C,_){var E=document.createElement("canvas");E.width=b,E.height=g;var z=E.getContext("2d");return z.mozImageSmoothingEnabled=!0,z.imageSmoothingQuality="high",z.webkitImageSmoothingEnabled=!0,z.msImageSmoothingEnabled=!0,z.imageSmoothingEnabled=!0,z.drawImage(S,x,k,C,_,0,0,b,g),E}function n(w){return w+.49<<0}function r(w,S,b,g,x,k,C){for(var _=new ImageData(S,b),E=new Int32Array(w.data.buffer),z=w.width,P=new Int32Array(_.data.buffer),A=_.width,N=S/k,L=b/C,M=n(1/N),q=n(1/L),D=M*q,X=0;X<_.height;X++)for(var O=0;O<A;O++){for(var K=g+n(O/N)+(x+n(X/L))*z,W=0,G=0,J=0,ye=0,Le=0;Le<q;Le++)for(var ne=0;ne<M;ne++){var ve=E[K+ne+Le*z];W+=ve<<24>>>24,G+=ve<<16>>>24,J+=ve<<8>>>24,ye+=ve>>>24}W=n(W/D),G=n(G/D),J=n(J/D),ye=n(ye/D),P[O+X*A]=ye<<24|J<<16|G<<8|W}return _}function s(w,S,b,g){var x=new Date,k={},C=x,_="01";return{mark:w?function(E){E=_+". "+(E||"..."),k[E]={"time (ms)":new Date-C},C=new Date,_=("0"+((_>>0)+1)).substr(-2)}:new Function,finish:w?function(){k[_+" TOTAL"]={"time (ms)":new Date-x},console.log("IMAGE SOURCE:",S),console.log("DOWNSCALE TO:",b+"x"+g),console.table(k)}:new Function}}function i(){var w=[],S=[],b=[],g=new Object;return{createSetter:function(x){if(!this.get(x)){var k=w.push(x)-1;return S.push(g),b.push([]),function(C){S[k]=C,b[k]=b[k].reduce(function(_,E){E(C)},[])}}},get:function(x,k){var C=w.indexOf(x);if(~C){if(S[C]===g){b[C].push(k);return}k(S[C])}},has:function(x){return!!~w.indexOf(x)}}}function o(w,S,b,g){w.width=b,w.height=g;var x=w.getContext("2d");return x.drawImage(S,0,0),x.getImageData(0,0,b,g)}function a(w,S){w.width=S.width,w.height=S.height;var b=w.getContext("2d");return b.putImageData(S,0,0),w}function l(w,S,P,A,x,k){var C=x,_=k,E=x/k;w===0&&(w=S*E>>0),S===0&&(S=w/E>>0);var z=w/S;z>E?k=x/z>>0:x=k*z>>0;var P=P||(C-x)/2>>0,A=A||(_-k)/2>>0;return{destWidth:w,destHeight:S,sourceX:P,sourceY:A,sourceWidth:x,sourceHeight:k}}function c(w,S,b){if(S.returnCanvas){b(w);return}if(S.returnBlob){w.toBlob(b,"image/"+(S.imageType||"jpeg"),S.quality||.85);return}var g=w.toDataURL("image/"+(S.imageType||"jpeg"),S.quality||.85);b(g)}function d(w,S){var b=new XMLHttpRequest;b.open("GET",w),b.responseType="arraybuffer",b.addEventListener("load",function(){S(this.response)}),b.send()}function h(w,S){w.complete?S():w.addEventListener("load",S)}function u(w,S){w.readyState>1?S():w.addEventListener("loadeddata",S)}function p(w){if(w instanceof File)return"File";if(w instanceof HTMLImageElement)return"HTMLImageElement";if(w instanceof HTMLVideoElement)return"HTMLVideoElement";if(typeof w=="string")return"URL"}function y(w){if(w.length<3)return new TypeError("3 arguments required, but only "+w.length+" present.");if(!p(w[0]))return new TypeError("First argument should be HTMLImageElement, HTMLVideoElement, File of String");if(typeof w[1]!="number")return new TypeError("Second argument should be a number");if(typeof w[2]!="number")return new TypeError("Third argument should be a number")}function m(w,S,b,g){var x=s(g&&g.debug||!1,w,S,b),k=y(arguments);if(k instanceof TypeError)return Promise.reject(k);g=g||{};var C,_=new Promise(function(L,M){C=L});m.canvas=m.canvas||document.createElement("canvas"),m.cache=m.cache||i();var E=m.canvas,z=m.cache;if(z.has(w))return x.mark(),z.get(w,function(L){x.mark("PENDING CACHE");var M=L[0],q=L[1],D=l(S,b,g.sourceX,g.sourceY,q.width,q.height);if(D.sourceWidth/D.destWidth>=2&&D.sourceHeight/D.destHeight>=2){x.mark();var X=r(q,D.destWidth,D.destHeight,D.sourceX,D.sourceY,D.sourceWidth,D.sourceHeight);x.mark("DOWNSCALE"),E=a(E,X)}else E=e(E,M,D.destWidth,D.destHeight,D.sourceX,D.sourceY,D.sourceWidth,D.sourceHeight),x.mark("RESIZE WITH CANVAS");c(E,g,function(O){x.mark("PRODUCE RESULT"),C(O),x.finish()})}),_;var P=function(L,M,q){var D=l(S,b,g.sourceX,g.sourceY,M,q);if(D.sourceWidth/D.destWidth>=2&&D.sourceHeight/D.destHeight>=2){x.mark();var X=o(E,L,M,q);x.mark("GET IMAGE DATA");var O=r(X,D.destWidth,D.destHeight,D.sourceX,D.sourceY,D.sourceWidth,D.sourceHeight);x.mark("DOWNSCALE"),E=a(E,O),p(L)!=="HTMLVideoElement"&&z.createSetter(L)([L,X])}else E=e(E,L,D.destWidth,D.destHeight,D.sourceX,D.sourceY,D.sourceWidth,D.sourceHeight),x.mark("RESIZE WITH CANVAS");c(E,g,function(K){x.mark("PRODUCE RESULT"),C(K),x.finish()})},A=window.URL||window.webkitURL;switch(p(w)){case"File":var N=document.createElement("img");x.mark(),N.src=A.createObjectURL(w),x.mark("READ FILE"),h(N,function(){x.mark("LOAD IMAGE"),P(N,N.naturalWidth,N.naturalHeight)});break;case"HTMLImageElement":x.mark(),h(w,function(){x.mark("LOAD IMAGE"),P(w,w.naturalWidth,w.naturalHeight)});break;case"HTMLVideoElement":u(w,function(){P(w,w.videoWidth,w.videoHeight)});break;case"URL":x.mark(),setTimeout(function(){d(w,function(L){x.mark("LOAD ARRAY BUFFER");var M=new Uint8Array(L),q=new Blob([M],{type:"image/jpeg"}),D=document.createElement("img");D.src=A.createObjectURL(q),x.mark(),h(D,function(){x.mark("LOAD IMAGE"),P(D,D.naturalWidth,D.naturalHeight)})})});break}return _}return m})})(tz);var Wee=tz.exports;const Uee=yc(Wee);/*!
 * canvas-size
 * v1.2.6
 * https://github.com/jhildenbiddle/canvas-size
 * (c) 2015-2023 John Hildenbiddle <http://hildenbiddle.com>
 * MIT license
 */function Vee(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,o,a=[],l=!0,c=!1;try{if(i=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,s=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw s}}return a}}function a4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Gr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a4(Object(n),!0).forEach(function(r){Xee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xee(t,e,n){return e=nte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yee(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function Hee(t,e){if(t==null)return{};var n=Yee(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function l4(t,e){return Zee(t)||Vee(t,e)||nz(t,e)||ete()}function kg(t){return Gee(t)||Qee(t)||nz(t)||Jee()}function Gee(t){if(Array.isArray(t))return mw(t)}function Zee(t){if(Array.isArray(t))return t}function Qee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nz(t,e){if(t){if(typeof t=="string")return mw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mw(t,e)}}function mw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Jee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ete(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tte(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nte(t){var e=tte(t,"string");return typeof e=="symbol"?e:String(e)}function Gu(t){var e=t.sizes.shift(),n=Math.max(Math.ceil(e[0]),1),r=Math.max(Math.ceil(e[1]),1),s=[n-1,r-1,1,1],i=Date.now(),o=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,a,l;o?(a=new OffscreenCanvas(1,1),l=new OffscreenCanvas(n,r)):(a=document.createElement("canvas"),a.width=1,a.height=1,l=document.createElement("canvas"),l.width=n,l.height=r);var c=a.getContext("2d"),d=l.getContext("2d");d&&(d.fillRect.apply(d,s),c.drawImage(l,n-1,r-1,1,1,0,0,1,1));var h=c&&c.getImageData(0,0,1,1).data[3]!==0,u=Date.now()-i;return[a,l].forEach(function(p){p.height=0,p.width=0}),o?(postMessage({width:n,height:r,benchmark:u,isTestPass:h}),!h&&t.sizes.length&&Gu(t)):h?t.onSuccess(n,r,u):(t.onError(n,r,u),t.sizes.length&&Gu(t)),h}var ux={area:[16384,14188,11402,11180,10836,8192,4096,1],height:[8388607,65535,32767,16384,8192,4096,1],width:[4194303,65535,32767,16384,8192,4096,1]},rte=["onError","onSuccess"],bd={max:null,min:1,sizes:[],step:1024,usePromise:!1,useWorker:!1,onError:Function.prototype,onSuccess:Function.prototype},ou={};function px(t){var e=t.width===t.height,n=t.height===1,r=t.width===1,s=[];if(!t.width||!t.height)t.sizes.forEach(function(d){var h=e||n?d:1,u=e||r?d:1;s.push([h,u])});else for(var i=t.min||bd.min,o=t.step||bd.step,a=Math.max(t.width,t.height);a>=i;){var l=e||n?a:1,c=e||r?a:1;s.push([l,c]),a-=o}return s}function Cg(t){var e=window&&"HTMLCanvasElement"in window,n=window&&"OffscreenCanvas"in window,r=Date.now(),s=t.onError,i=t.onSuccess,o=Hee(t,rte),a=null;if(!e)return!1;if(t.useWorker&&n){var l=`
            var canvasTest = `.concat(Gu.toString(),`;
            onmessage = function(e) {
                canvasTest(e.data);
            };
        `),c=new Blob([l],{type:"application/javascript"}),d=URL.createObjectURL(c);a=new Worker(d),URL.revokeObjectURL(d),a.onmessage=function(h){var u=h.data,p=u.width,y=u.height,m=u.benchmark,w=u.isTestPass;w?(ou[r].onSuccess(p,y,m),delete ou[r]):ou[r].onError(p,y,m)}}if(t.usePromise)return new Promise(function(h,u){var p=Gr(Gr({},t),{},{onError:function(S,b,g){var x;if(t.sizes.length===0)x=!0;else{var k=t.sizes.slice(-1),C=l4(k,1),_=l4(C[0],2),E=_[0],z=_[1];x=S===E&&b===z}s(S,b,g),x&&u({width:S,height:b,benchmark:g})},onSuccess:function(S,b,g){i(S,b,g),h({width:S,height:b,benchmark:g})}});if(a){var y=p.onError,m=p.onSuccess;ou[r]={onError:y,onSuccess:m},a.postMessage(o)}else Gu(p)});if(a)ou[r]={onError:s,onSuccess:i},a.postMessage(o);else return Gu(t)}var fx={maxArea:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=px({width:e.max,height:e.max,min:e.min,step:e.step,sizes:kg(ux.area)}),r=Gr(Gr(Gr({},bd),e),{},{sizes:n});return Cg(r)},maxHeight:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=px({width:1,height:e.max,min:e.min,step:e.step,sizes:kg(ux.height)}),r=Gr(Gr(Gr({},bd),e),{},{sizes:n});return Cg(r)},maxWidth:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=px({width:e.max,height:1,min:e.min,step:e.step,sizes:kg(ux.width)}),r=Gr(Gr(Gr({},bd),e),{},{sizes:n});return Cg(r)},test:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=Gr(Gr({},bd),e);return n.sizes=kg(n.sizes),n.width&&n.height&&(n.sizes=[[n.width,n.height]]),Cg(n)}};let gx=null;function rz(){return gx||(gx=ste()),gx}async function ste(){const t=await fx.maxWidth({usePromise:!0}),e=await fx.maxHeight({usePromise:!0}),n=await fx.maxArea({usePromise:!0});return{maxWidth:t.width,maxHeight:e.height,maxArea:n.width*n.height}}function c4(t,e){let n=0;for(;t[e+n];)n+=t[e+n]+1;return n+1}function ite(t){return new TextDecoder("ascii").decode(t.slice(0,3))==="GIF"}function ote(t){const e=new Uint8Array(t);let n,r,s=0,i=0;if(!ite(t))return!1;for(n=e[10]&128,r=e[10]&7,s+=6,s+=7,s+=n?3*Math.pow(2,r+1):0;i<2&&s<e.length;)switch(e[s]){case 44:i+=1,n=e[s+9]&128,r=e[s+9]&7,s+=10,s+=n?3*Math.pow(2,r+1):0,s+=c4(e,s+1)+1;break;case 33:s+=2,s+=c4(e,s);break;case 59:s=e.length;break;default:s=e.length;break}return i>1}function ate(t,e){const n=t.w/e.w,r=t.h/e.h;return n<=1&&r<=1?t:n>r?{w:t.w/n,h:t.h/n}:{w:t.w/r,h:t.h/r}}async function lte(t,e,n,r={}){let s=e*2,i=n*2;const{type:o="image/jpeg",quality:a=.92}=r,l=await rz(),c=e/n;if(s>l.maxWidth&&(s=l.maxWidth,i=s/c),i>l.maxHeight&&(i=l.maxHeight,s=i*c),s*i>l.maxArea){const d=Math.sqrt(l.maxArea/(s*i));s*=d,i*=d}return await Uee(t,s,i,{imageType:o.replace("image/",""),quality:a})}async function cte(t){return await new Promise((e,n)=>{const r=new FileReader;r.onerror=()=>n(r.error),r.onload=()=>{e(r.result?ote(r.result):!1)},r.readAsArrayBuffer(t)})}function dte(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function hte(t){const e=new URL(t).host.replace("www.","");for(const n of ih)if(sz(n.hostnames,e)){const r=n.fromEmbedUrl(t);if(r)return{definition:n,url:r,embedUrl:t}}}const ute=t=>t.split("*").map(e=>dte(e)).join(".+"),sz=(t,e)=>!!t.find(n=>{const r=new RegExp(ute(n));return e.match(r)});function pte(t){const e=new URL(t).host.replace("www.","");for(const n of ih)if(sz(n.hostnames,e)){const r=n.toEmbedUrl(t);if(r)return{definition:n,embedUrl:r,url:t}}}function iz(t){return pte(t)??hte(t)}function Io(t){try{return iz(t)}catch(e){console.error(e)}}const vd="  ",oz=class Yr{static insertTextFirefox(e,n){e.setRangeText(n,e.selectionStart||0,e.selectionEnd||0,"end"),e.dispatchEvent(new InputEvent("input",{data:n,inputType:"insertText",isComposing:!1}))}static insert(e,n){const r=e.ownerDocument,s=r.activeElement;s!==e&&e.focus(),r.execCommand("insertText",!1,n)||Yr.insertTextFirefox(e,n),s===r.body?e.blur():s instanceof HTMLElement&&s!==e&&s.focus()}static set(e,n){e.select(),Yr.insert(e,n)}static getSelection(e){const{selectionStart:n,selectionEnd:r}=e;return e.value.slice(n||void 0,r||void 0)}static wrapSelection(e,n,r){const{selectionStart:s,selectionEnd:i}=e,o=Yr.getSelection(e);Yr.insert(e,n+o+(r??n)),e.selectionStart=(s||0)+n.length,e.selectionEnd=(i||0)+n.length}static replace(e,n,r){let s=0;e.value.replace(n,(...i)=>{const o=s+i[i.length-2],a=i[0].length;e.selectionStart=o,e.selectionEnd=o+a;const l=typeof r=="string"?r:r(...i);return Yr.insert(e,l),e.selectionStart=o,s+=l.length-a,l})}static findLineEnd(e,n){const r=e.lastIndexOf(`
`,n-1)+1;return e.charAt(r)!=="	"?n:r+1}static indent(e){var a;const{selectionStart:n,selectionEnd:r,value:s}=e,i=s.slice(n,r),o=(a=/\n/g.exec(i))==null?void 0:a.length;if(o&&o>0){const l=s.lastIndexOf(`
`,n-1)+1,c=e.value.slice(l,r-1),d=c.replace(/^|\n/g,`$&${vd}`),h=d.length-c.length;e.setSelectionRange(l,r-1),Yr.insert(e,d),e.setSelectionRange(n+1,r+h)}else Yr.insert(e,vd)}static unindent(e){const{selectionStart:n,selectionEnd:r,value:s}=e,i=s.lastIndexOf(`
`,n-1)+1,o=Yr.findLineEnd(s,r),a=e.value.slice(i,o),l=a.replace(/(^|\n)(\t| {1,2})/g,"$1"),c=a.length-l.length;e.setSelectionRange(i,o),Yr.insert(e,l);const d=/\t| {1,2}/.exec(s.slice(i,n)),h=d?d[0].length:0,u=n-h;e.setSelectionRange(n-h,Math.max(u,r-c))}static indentCE(e){var l;const n=window.getSelection(),r=e.innerText,s=_g(e)??0,i=_g(e)??0,o=r.slice(s,i),a=(l=/\n/g.exec(o))==null?void 0:l.length;if(a&&a>0){const c=r.lastIndexOf(`
`,s-1)+1,d=r.slice(c,i-1),u=d.replace(/^|\n/g,`$&${vd}`).length-d.length;n&&n.setBaseAndExtent(e,s+1,e,i+u)}else{const c=window.getSelection();e.innerText=r.slice(0,s)+vd+r.slice(s),c==null||c.setBaseAndExtent(e,s+1,e,s+2)}}static unindentCE(e){const n=window.getSelection(),r=e.innerText,s=_g(e)??0,i=_g(e)??0,o=r.lastIndexOf(`
`,s-1)+1,a=Yr.findLineEnd(r,i),l=r.slice(o,a),c=l.replace(/(^|\n)(\t| {1,2})/g,"$1"),d=l.length-c.length;if(n){n.setBaseAndExtent(e,o,e,a);const h=/\t| {1,2}/.exec(r.slice(o,s)),u=h?h[0].length:0,p=s-u;n.setBaseAndExtent(e,s-u,e,Math.max(p,i-d))}}static normalizeText(e){return e.replace(Yr.fixNewLines,`
`)}static normalizeTextForDom(e){return e.replace(Yr.fixNewLines,`
`).split(`
`).map(n=>n||" ").join(`
`)}};oz.fixNewLines=/\r?\n|\r/g;let Wd=oz;function _g(t){if(typeof window.getSelection>"u")return;const e=window.getSelection();if(!e)return;let n=0;if(e.rangeCount!==0){const r=e.getRangeAt(0),s=r.cloneRange();s.selectNodeContents(t),s.setEnd(r.endContainer,r.endOffset),n=s.toString().length}return n}const fte=/[\u0590-\u05FF\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]/;function gte(t){return fte.test(t)}function mte(t){return t.replace(/\t/g,vd)}function yte(t){const e=t.split(`
`);for(;e[0]&&e[0].trim().length===0;)e.shift();let n=1/0;for(const r of e)if(r.trim().length>0){const s=r.length-r.trimStart().length;n=Math.min(n,s)}return e.map(r=>r.slice(n)).join(`
`)}function xte(t){return t.replace(/[ \t]+$/gm,"").replace(/\n+$/,"")}function wte(t){return xte(yte(mte(t)))}const Zu=(t,e)=>t.length<=e?t:t.substring(0,e-3)+"...";function Ste(t,{maxImageDimension:e,maxAssetSize:n,acceptedImageMimeTypes:r,acceptedVideoMimeTypes:s}){t.registerExternalAssetHandler("file",async({file:i})=>await new Promise((o,a)=>{!r.includes(i.type)&&!s.includes(i.type)&&(console.warn(`File type not allowed: ${i.type}`),a()),i.size>n&&(console.warn(`File size too big: ${(i.size/1024).toFixed()}kb > ${(n/1024).toFixed()}kb`),a());const l=new FileReader;l.onerror=()=>a(l.error),l.onload=async()=>{let c=l.result;i.type==="video/quicktime"&&c.includes("video/quicktime")&&(c=c.replace("video/quicktime","video/mp4"));const d=r.includes(i.type);let h,u;if(d?(h=await cm.getImageSizeFromSrc(c),u=i.type==="image/gif"&&await cte(i)):(u=!0,h=await cm.getVideoSizeFromSrc(c)),isFinite(e)){const m=ate(h,{w:e,h:e});h!==m&&(i.type==="image/jpeg"||i.type==="image/png")&&(h=m)}(i.type==="image/jpeg"||i.type==="image/png")&&(c=await lte(c,h.w,h.h,{type:i.type,quality:.92}));const p=Rl.createId(v0(c)),y=Rl.create({id:p,type:d?"image":"video",typeName:"asset",props:{name:i.name,src:c,w:h.w,h:h.h,mimeType:i.type,isAnimated:u}});o(y)},l.readAsDataURL(i)})),t.registerExternalAssetHandler("url",async({url:i})=>{var a,l,c;let o;try{const h=await(await fetch(i,{method:"GET",mode:"no-cors"})).text(),u=new DOMParser().parseFromString(h,"text/html");o={image:((a=u.head.querySelector('meta[property="og:image"]'))==null?void 0:a.getAttribute("content"))??"",title:((l=u.head.querySelector('meta[property="og:title"]'))==null?void 0:l.getAttribute("content"))??Zu(i,32),description:((c=u.head.querySelector('meta[property="og:description"]'))==null?void 0:c.getAttribute("content"))??""}}catch(d){console.error(d),o={image:"",title:Zu(i,32),description:""}}return{id:Rl.createId(v0(i)),typeName:"asset",type:"bookmark",props:{src:i,description:o.description,image:o.image,title:o.title},meta:{}}}),t.registerExternalContentHandler("svg-text",async({point:i,text:o})=>{const a=i??(t.inputs.shiftKey?t.inputs.currentPagePoint:t.getViewportPageCenter()),l=new DOMParser().parseFromString(o,"image/svg+xml").querySelector("svg");if(!l)throw new Error("No <svg/> element present");let c=parseFloat(l.getAttribute("width")||"0"),d=parseFloat(l.getAttribute("height")||"0");if(!(c&&d)){document.body.appendChild(l);const u=l.getBoundingClientRect();document.body.removeChild(l),c=u.width,d=u.height}const h=await t.getAssetForExternalContent({type:"file",file:new File([o],"asset.svg",{type:"image/svg+xml"})});if(!h)throw Error("Could not create an asset");d4(t,[h],a)}),t.registerExternalContentHandler("embed",({point:i,url:o,embed:a})=>{const l=i??(t.inputs.shiftKey?t.inputs.currentPagePoint:t.getViewportPageCenter()),{width:c,height:d}=a,h=at(),u={id:h,type:"embed",x:l.x-(c||450)/2,y:l.y-(d||450)/2,props:{w:c,h:d,url:o}};t.createShapes([u]).select(h)}),t.registerExternalContentHandler("files",async({point:i,files:o})=>{const a=i??(t.inputs.shiftKey?t.inputs.currentPagePoint:t.getViewportPageCenter()),l=new I(a.x,a.y),c=[];await Promise.all(o.map(async(d,h)=>{if(d.size>n)return console.warn(`File size too big: ${(d.size/1024).toFixed()}kb > ${(n/1024).toFixed()}kb`),null;if(!d.type)throw new Error("No mime type");if(!r.concat(s).includes(d.type))return console.warn(`${d.name} not loaded - Extension not allowed.`),null;try{const u=await t.getAssetForExternalContent({type:"file",file:d});if(!u)throw Error("Could not create an asset");c[h]=u}catch(u){return console.error(u),null}})),d4(t,ke(c),l)}),t.registerExternalContentHandler("text",async({point:i,text:o})=>{const a=i??(t.inputs.shiftKey?t.inputs.currentPagePoint:t.getViewportPageCenter()),l=t.getShapeUtil("text").getDefaultProps(),c=wte(o);let d,h,u,p="middle";const y=c.split(`
`).length>1,m=gte(c);y&&(p=y?m?"end":"start":"middle");const w=t.textMeasure.measureText(c,{...Dn,fontFamily:To[l.font],fontSize:_a[l.size],maxWidth:null}),S=Math.min(y?t.getViewportPageBounds().width*.9:920,Math.max(200,t.getViewportPageBounds().width*.9));if(w.w>S){const b=t.textMeasure.measureText(c,{...Dn,fontFamily:To[l.font],fontSize:_a[l.size],maxWidth:S});d=b.w,h=b.h,u=!1,p=m?"end":"start"}else d=w.w,h=w.h,u=!0;a.y-h/2<t.getViewportPageBounds().minY+40&&(a.y=t.getViewportPageBounds().minY+40+h/2),t.createShapes([{id:at(),type:"text",x:a.x-d/2,y:a.y-h/2,props:{text:c,align:p,autoSize:u,w:d}}])}),t.registerExternalContentHandler("url",async({point:i,url:o})=>{const a=Io(o);if(a)return t.putExternalContent({type:"embed",url:a.url,point:i,embed:a.definition});const l=i??(t.inputs.shiftKey?t.inputs.currentPagePoint:t.getViewportPageCenter()),c=Rl.createId(v0(o)),d=bte(t,o,l);let h=t.getAsset(c),u=!1;if(!h){u=!0;const p=await t.getAssetForExternalContent({type:"url",url:o});if(!p)throw Error("Could not create an asset");h=p}t.batch(()=>{u&&t.createAssets([h]),t.updateShapes([{id:d.id,type:d.type,props:{assetId:h.id}}])})})}async function d4(t,e,n){if(!e.length)return[];const r=I.From(n),s=[];for(const i of e)switch(i.type){case"bookmark":{s.push({id:at(),type:"bookmark",x:r.x-150,y:r.y-160,opacity:1,props:{assetId:i.id,url:i.props.src}}),r.x+=300;break}case"image":{s.push({id:at(),type:"image",x:r.x-i.props.w/2,y:r.y-i.props.h/2,opacity:1,props:{assetId:i.id,w:i.props.w,h:i.props.h}}),r.x+=i.props.w;break}case"video":s.push({id:at(),type:"video",x:r.x-i.props.w/2,y:r.y-i.props.h/2,opacity:1,props:{assetId:i.id,w:i.props.w,h:i.props.h}}),r.x+=i.props.w}return t.batch(()=>{const i=e.filter(o=>!t.getAsset(o.id));i.length&&t.createAssets(i),t.createShapes(s).select(...s.map(o=>o.id)),az(t,n)}),s.map(i=>i.id)}function az(t,e){const n=t.getViewportPageBounds();let r=t.getSelectionPageBounds();if(r){const s=r.center.sub(e);t.updateShapes(t.getSelectedShapes().map(i=>{const o=t.getShapeParentTransform(i).decompose().rotation,a=I.Rot(s,-o);return{id:i.id,type:i.type,x:i.x-a.x,y:i.y-a.y}}))}r=t.getSelectionPageBounds(),r&&!n.contains(r)&&t.zoomToSelection()}function bte(t,e,n){const r={id:at(),type:"bookmark",x:n.x-150,y:n.y-160,opacity:1,props:{assetId:null,url:e}};return t.batch(()=>{t.createShapes([r]).select(r.id),az(t,n)}),t.getShape(r.id)}let lz=class extends ae{constructor(){super(...arguments),this.onPointerDown=e=>{this.parent.transition("pointing",e)},this.onEnter=()=>{this.editor.setCursor({type:"cross",rotation:0})},this.onCancel=()=>{this.editor.setCurrentTool("select")},this.onKeyUp=e=>{var n;if(e.key==="Enter"){if(this.editor.getInstanceState().isReadonly)return null;const r=this.editor.getOnlySelectedShape();r&&this.editor.getShapeUtil(r).canEdit(r)&&(this.editor.setCurrentTool("select"),this.editor.setEditingShape(r.id),(n=this.editor.root.getCurrent())==null||n.transition("editing_shape",{...e,target:"shape",shape:r}))}}}};lz.id="idle";let cz=class extends ae{constructor(){super(...arguments),this.markId="",this.onEnter=()=>{this.didTimeout=!1;const e=this.editor.getShapeAtPoint(this.editor.inputs.currentPagePoint,{filter:n=>!n.isLocked&&this.editor.getShapeUtil(n).canBind(n),margin:0,hitInside:!0,renderingOnly:!0});e?this.editor.setHintingShapes([e.id]):this.createArrowShape(),this.startPreciseTimeout()},this.onExit=()=>{this.shape=void 0,this.editor.setHintingShapes([]),this.clearPreciseTimeout()},this.onPointerMove=()=>{if(this.editor.inputs.isDragging){if(this.shape||this.createArrowShape(),!this.shape)throw Error("expected shape");this.updateArrowShapeEndHandle(),this.editor.setCurrentTool("select.dragging_handle",{shape:this.shape,handle:this.editor.getShapeHandles(this.shape).find(e=>e.id==="end"),isCreating:!0,onInteractionEnd:"arrow"})}},this.onPointerUp=()=>{this.cancel()},this.onCancel=()=>{this.cancel()},this.onComplete=()=>{this.cancel()},this.onInterrupt=()=>{this.cancel()},this.preciseTimeout=-1,this.didTimeout=!1}cancel(){this.shape&&this.editor.bailToMark(this.markId),this.editor.setHintingShapes([]),this.parent.transition("idle")}createArrowShape(){var c,d;const{originPagePoint:e}=this.editor.inputs,n=at();this.markId=`creating:${n}`,this.editor.mark(this.markId),this.editor.createShapes([{id:n,type:"arrow",x:e.x,y:e.y}]);const r=this.editor.getShape(n);if(!r)throw Error("expected shape");const s=this.editor.getShapeHandles(r);if(!s)throw Error("expected handles for arrow");const i=this.editor.getShapeUtil("arrow"),o=this.shape,a=s.find(h=>h.id==="start"),l=(c=i.onHandleChange)==null?void 0:c.call(i,r,{handle:{...a,x:0,y:0},isPrecise:!0,initial:o});if(l){const h=(d=l.props)==null?void 0:d.start;(h==null?void 0:h.type)==="binding"&&this.editor.setHintingShapes([h.boundShapeId]),this.editor.updateShapes([l],{squashing:!0})}this.shape=this.editor.getShape(n),this.editor.select(n)}updateArrowShapeEndHandle(){var s,i,o;const e=this.shape;if(!e)throw Error("expected shape");const n=this.editor.getShapeHandles(e);if(!n)throw Error("expected handles for arrow");const r={...e,props:{...e.props,end:{...e.props.end,x:0,y:0}}};{const a=this.editor.getShapeUtil("arrow"),l=this.shape,c=this.editor.getPointInShapeSpace(e,this.editor.inputs.currentPagePoint),d=n.find(u=>u.id==="end"),h=(s=a.onHandleChange)==null?void 0:s.call(a,r,{handle:{...d,x:c.x,y:c.y},isPrecise:!1,initial:l});if(h){const u=(i=h.props)==null?void 0:i.end;(u==null?void 0:u.type)==="binding"&&this.editor.setHintingShapes([u.boundShapeId]),this.editor.updateShapes([h],{squashing:!0})}}{const a=this.editor.getShapeUtil("arrow"),l=this.shape,c=n.find(h=>h.id==="start"),d=(o=a.onHandleChange)==null?void 0:o.call(a,r,{handle:{...c,x:0,y:0},isPrecise:this.didTimeout,initial:l});d&&this.editor.updateShapes([d],{squashing:!0})}this.shape=this.editor.getShape(e.id)}startPreciseTimeout(){this.preciseTimeout=window.setTimeout(()=>{this.getIsActive()&&(this.didTimeout=!0)},320)}clearPreciseTimeout(){clearTimeout(this.preciseTimeout)}};cz.id="pointing";class Hy extends ae{constructor(){super(...arguments),this.shapeType="arrow"}}Hy.id="arrow";Hy.initial="idle";Hy.children=()=>[lz,cz];class t9 extends ae{constructor(){super(...arguments),this.info={},this.shapeType=this.parent.id==="highlight"?"highlight":"draw",this.util=this.editor.getShapeUtil(this.shapeType),this.isPen=!1,this.segmentMode="free",this.didJustShiftClickToExtendPreviousShapeLine=!1,this.pagePointWhereCurrentSegmentChanged={},this.pagePointWhereNextSegmentChanged=null,this.lastRecordedPoint={},this.mergeNextPoint=!1,this.currentLineLength=0,this.canDraw=!1,this.markId=null,this.onEnter=e=>{this.markId=null,this.info=e,this.canDraw=!this.editor.getIsMenuOpen(),this.lastRecordedPoint=this.editor.inputs.currentPagePoint.clone(),this.canDraw&&this.startShape()},this.onPointerMove=()=>{const{editor:{inputs:e}}=this;if(this.isPen!==e.isPen){if(this.markId){this.editor.bailToMark(this.markId),this.startShape();return}}else!this.canDraw&&e.isDragging&&(this.startShape(),this.canDraw=!0);this.canDraw&&(e.isPen?I.Dist(e.currentPagePoint,this.lastRecordedPoint)>=1/this.editor.getZoomLevel()?(this.lastRecordedPoint=e.currentPagePoint.clone(),this.mergeNextPoint=!1):this.mergeNextPoint=!0:this.mergeNextPoint=!1,this.updateShapes())},this.onKeyDown=e=>{if(e.key==="Shift")switch(this.segmentMode){case"free":{this.segmentMode="starting_straight",this.pagePointWhereNextSegmentChanged=this.editor.inputs.currentPagePoint.clone();break}case"starting_free":this.segmentMode="starting_straight"}this.updateShapes()},this.onKeyUp=e=>{if(e.key==="Shift")switch(this.editor.snaps.clear(),this.segmentMode){case"straight":{this.segmentMode="starting_free",this.pagePointWhereNextSegmentChanged=this.editor.inputs.currentPagePoint.clone();break}case"starting_straight":{this.pagePointWhereNextSegmentChanged=null,this.segmentMode="free";break}}this.updateShapes()},this.onExit=()=>{this.editor.snaps.clear(),this.pagePointWhereCurrentSegmentChanged=this.editor.inputs.currentPagePoint.clone()},this.onPointerUp=()=>{this.complete()},this.onCancel=()=>{this.cancel()},this.onComplete=()=>{this.complete()},this.onInterrupt=()=>{this.editor.inputs.isDragging||(this.markId&&this.editor.bailToMark(this.markId),this.cancel())}}canClose(){return this.shapeType!=="highlight"}getIsClosed(e,n){if(!this.canClose())return!1;const r=or[n],s=e[0].points[0],i=e[e.length-1],o=i.points[i.points.length-1];return s!==o&&this.currentLineLength>r*4&&I.Dist(s,o)<r*2}startShape(){const{inputs:{originPagePoint:e,isPen:n}}=this.editor;this.markId="draw start "+pt(),this.editor.mark(this.markId),this.isPen=n;const r=this.isPen?this.info.point.z*1.25:.5;if(this.segmentMode=this.editor.inputs.shiftKey?"straight":"free",this.didJustShiftClickToExtendPreviousShapeLine=!1,this.lastRecordedPoint=e.clone(),this.initialShape){const i=this.editor.getShape(this.initialShape.id);if(i&&this.segmentMode==="straight"){this.didJustShiftClickToExtendPreviousShapeLine=!0;const o=wr(i.props.segments);if(!o)throw Error("Expected a previous segment!");const a=wr(o.points);if(!a)throw Error("Expected a previous point!");const{x:l,y:c}=this.editor.getPointInShapeSpace(i,e).toFixed(),d=this.isPen?this.info.point.z*1.25:.5,h={type:this.segmentMode,points:[{x:a.x,y:a.y,z:+d.toFixed(2)},{x:l,y:c,z:+d.toFixed(2)}]},u=he.applyToPoint(this.editor.getShapePageTransform(i.id),a);this.pagePointWhereCurrentSegmentChanged=u,this.pagePointWhereNextSegmentChanged=null;const p=[...i.props.segments,h];this.currentLineLength=this.getLineLength(p);const y={id:i.id,type:this.shapeType,props:{segments:p}};this.canClose()&&(y.props.isClosed=this.getIsClosed(p,i.props.size)),this.editor.updateShapes([y]);return}}this.pagePointWhereCurrentSegmentChanged=e.clone();const s=at();this.editor.createShapes([{id:s,type:this.shapeType,x:e.x,y:e.y,props:{isPen:this.isPen,segments:[{type:this.segmentMode,points:[{x:0,y:0,z:+r.toFixed(2)}]}]}}]),this.currentLineLength=0,this.initialShape=this.editor.getShape(s)}updateShapes(){const{inputs:e}=this.editor,{initialShape:n}=this;if(!n)return;const{id:r,props:{size:s}}=n,i=this.editor.getShape(r);if(!i)return;const{segments:o}=i.props,{x:a,y:l,z:c}=this.editor.getPointInShapeSpace(i,e.currentPagePoint).toFixed(),d={x:a,y:l,z:this.isPen?+(c*1.25).toFixed(2):.5};switch(this.segmentMode){case"starting_straight":{const{pagePointWhereNextSegmentChanged:h}=this;if(h===null)throw Error("We should have a point where the segment changed");if(I.Dist(h,e.currentPagePoint)>bp){this.pagePointWhereCurrentSegmentChanged=this.pagePointWhereNextSegmentChanged.clone(),this.pagePointWhereNextSegmentChanged=null,this.segmentMode="straight";const p=wr(o);if(!p)throw Error("Expected a previous segment!");const y=wr(p.points);if(!y)throw Error("Expected a previous last point!");let m;const w=this.editor.getPointInShapeSpace(i,this.pagePointWhereCurrentSegmentChanged).toFixed().toJson();if(p.type==="straight"){this.currentLineLength+=I.Dist(y,w),m={type:"straight",points:[{...y},w]};const b=this.editor.getShapePageTransform(i);this.pagePointWhereCurrentSegmentChanged=he.applyToPoint(b,y)}else m={type:"straight",points:[w,d]};const S={id:r,type:this.shapeType,props:{segments:[...o,m]}};this.canClose()&&(S.props.isClosed=this.getIsClosed(o,s)),this.editor.updateShapes([S],{squashing:!0})}break}case"starting_free":{const{pagePointWhereNextSegmentChanged:h}=this;if(h===null)throw Error("We should have a point where the segment changed");if(I.Dist(h,e.currentPagePoint)>bp){this.pagePointWhereCurrentSegmentChanged=this.pagePointWhereNextSegmentChanged.clone(),this.pagePointWhereNextSegmentChanged=null,this.segmentMode="free";const p=o.slice(),y=p[p.length-1],m=wr(y.points);if(!m)throw Error("No previous point!");const w={type:"free",points:[...I.PointsBetween(m,d,6).map(g=>g.toFixed().toJson())]},S=[...p,w];this.currentLineLength=this.getLineLength(S);const b={id:r,type:this.shapeType,props:{segments:S}};this.canClose()&&(b.props.isClosed=this.getIsClosed(S,s)),this.editor.updateShapes([b],{squashing:!0})}break}case"straight":{const h=o.slice(),u=h[h.length-1],{pagePointWhereCurrentSegmentChanged:p}=this,{currentPagePoint:y,ctrlKey:m}=this.editor.inputs;if(!p)throw Error("We should have a point where the segment changed");let w,S=!1;this.didJustShiftClickToExtendPreviousShapeLine?this.editor.inputs.isDragging&&(S=!m,this.didJustShiftClickToExtendPreviousShapeLine=!1):S=!m;let b=this.editor.getPointInShapeSpace(i,y).toFixed().toJson(),g=!1,x;if((this.editor.user.getIsSnapMode()?!m:m)&&h.length>2){let _,E=8/this.editor.getZoomLevel();for(let z=0,P=o.length-2;z<P;z++){const A=o[z];if(!A)break;if(A.type==="free")continue;const N=A.points[0],L=wr(A.points);if(!(N&&L))continue;const M=I.NearestPointOnLineSegment(N,L,b),q=I.Dist(M,b);if(q<E){_=M.toFixed().toJson(),E=q,x=A;break}}_&&(g=!0,b=_)}if(g&&x){const _=this.editor.getShapePageTransform(i),E=x.points[0],z=wr(x.points);if(!z)throw Error("Expected a last point!");const P=he.applyToPoint(_,E),A=he.applyToPoint(_,z),N=he.applyToPoint(_,b);this.editor.snaps.setLines([{id:pt(),type:"points",points:[P,N,A]}])}else{if(this.editor.snaps.clear(),S){const _=I.Angle(p,y),z=um(_,24)-_;w=I.RotWith(y,p,z)}else w=y;b=this.editor.getPointInShapeSpace(i,w).toFixed().toJson()}this.currentLineLength+=I.Dist(u.points[0],b),h[h.length-1]={...u,type:"straight",points:[u.points[0],b]};const C={id:r,type:this.shapeType,props:{segments:h}};this.canClose()&&(C.props.isClosed=this.getIsClosed(o,s)),this.editor.updateShapes([C],{squashing:!0});break}case"free":{const h=o.slice(),u=h[h.length-1],p=[...u.points];if(p.length&&this.mergeNextPoint){const{z:m}=p[p.length-1];p[p.length-1]={x:d.x,y:d.y,z:m?Math.max(m,d.z):d.z}}else this.currentLineLength+=I.Dist(p[p.length-1],d),p.push(d);h[h.length-1]={...u,points:p},this.currentLineLength=this.getLineLength(h);const y={id:r,type:this.shapeType,props:{segments:h}};if(this.canClose()&&(y.props.isClosed=this.getIsClosed(h,s)),this.editor.updateShapes([y],{squashing:!0}),p.length>500){this.editor.updateShapes([{id:r,type:this.shapeType,props:{isComplete:!0}}]);const{currentPagePoint:m}=this.editor.inputs,w=at();this.editor.createShapes([{id:w,type:this.shapeType,x:pm(m.x),y:pm(m.y),props:{isPen:this.isPen,segments:[{type:"free",points:[{x:0,y:0,z:this.isPen?+(c*1.25).toFixed():.5}]}]}}]),this.initialShape=structuredClone(this.editor.getShape(w)),this.mergeNextPoint=!1,this.lastRecordedPoint=this.editor.inputs.currentPagePoint.clone(),this.currentLineLength=0}break}}}getLineLength(e){let n=0;for(const r of e)for(let s=0;s<r.points.length-1;s++){const i=r.points[s],o=r.points[s+1];n+=I.Sub(o,i).len2()}return Math.sqrt(n)}complete(){if(!this.canDraw){this.cancel();return}const{initialShape:e}=this;e&&(this.editor.updateShapes([{id:e.id,type:e.type,props:{isComplete:!0}}]),this.parent.transition("idle"))}cancel(){this.parent.transition("idle",this.info)}}t9.id="drawing";let n9=class extends ae{constructor(){super(...arguments),this.onPointerDown=e=>{this.parent.transition("drawing",e)},this.onEnter=()=>{this.editor.setCursor({type:"cross",rotation:0})},this.onCancel=()=>{this.editor.setCurrentTool("select")}}};n9.id="idle";class Gy extends ae{constructor(){super(...arguments),this.shapeType="draw",this.onExit=()=>{const e=this.children.drawing;e.initialShape=void 0}}}Gy.id="draw";Gy.initial="idle";Gy.children=()=>[n9,t9];class r9 extends Ih{constructor(){super(...arguments),this.shapeType="frame",this.onCreate=e=>{if(!e)return;const n=this.editor.getShapePageBounds(e),r=[],s=this.editor.getShapeAncestors(e).map(i=>i.id);this.editor.getCurrentPageShapes().map(i=>{if(i.id===e.id||i.isLocked)return;const o=this.editor.getShapePageBounds(i);o&&n.contains(o)&&vte(i,s,e)&&r.push(i.id)}),this.editor.reparentShapes(r,e.id),this.editor.getInstanceState().isToolLocked?this.editor.setCurrentTool("frame"):this.editor.setCurrentTool("select.idle")}}}r9.id="frame";r9.initial="idle";function vte(t,e,n){return e.includes(t.id)?!1:t.parentId===n.parentId}let dz=class extends ae{constructor(){super(...arguments),this.onPointerDown=e=>{this.parent.transition("pointing",e)},this.onEnter=()=>{this.editor.setCursor({type:"cross",rotation:0})},this.onKeyUp=e=>{var n;if(e.key==="Enter"){if(this.editor.getInstanceState().isReadonly)return null;const r=this.editor.getOnlySelectedShape();r&&this.editor.getShapeUtil(r).canEdit(r)&&(this.editor.setCurrentTool("select"),this.editor.setEditingShape(r.id),(n=this.editor.root.getCurrent())==null||n.transition("editing_shape",{...e,target:"shape",shape:r}))}},this.onCancel=()=>{this.editor.setCurrentTool("select")}}};dz.id="idle";let hz=class extends ae{constructor(){super(...arguments),this.markId="",this.onPointerUp=()=>{this.complete()},this.onPointerMove=e=>{if(this.editor.inputs.isDragging){const{originPagePoint:n}=this.editor.inputs,r=at();this.markId=`creating:${r}`,this.editor.mark(this.markId),this.editor.createShapes([{id:r,type:"geo",x:n.x,y:n.y,props:{w:1,h:1,geo:this.editor.getStyleForNextShape(Ui)}}]).select(r).setCurrentTool("select.resizing",{...e,target:"selection",handle:"bottom_right",isCreating:!0,creationCursorOffset:{x:1,y:1},onInteractionEnd:"geo"})}},this.onCancel=()=>{this.cancel()},this.onComplete=()=>{this.complete()},this.onInterrupt=()=>{this.cancel()}}complete(){const{originPagePoint:e}=this.editor.inputs,n=at();this.markId=`creating:${n}`,this.editor.mark(this.markId),this.editor.createShapes([{id:n,type:"geo",x:e.x,y:e.y,props:{geo:this.editor.getStyleForNextShape(Ui),w:1,h:1}}]);const r=this.editor.getShape(n);if(!r)return;const s=r.props.geo==="star"?ZB(5,200,200):r.props.geo==="cloud"?new fe(0,0,300,180):new fe(0,0,200,200),i=s.center,o=this.editor.getShapeParentTransform(r);o&&i.rot(-o.rotation()),this.editor.select(n),this.editor.updateShapes([{id:r.id,type:"geo",x:r.x-i.x,y:r.y-i.y,props:{geo:this.editor.getStyleForNextShape(Ui),w:s.width,h:s.height}}]),this.editor.getInstanceState().isToolLocked?this.parent.transition("idle"):this.editor.setCurrentTool("select",{})}cancel(){this.parent.transition("idle")}};hz.id="pointing";class Zy extends ae{constructor(){super(...arguments),this.shapeType="geo"}}Zy.id="geo";Zy.initial="idle";Zy.children=()=>[dz,hz];class Qy extends ae{constructor(){super(...arguments),this.shapeType="highlight",this.onExit=()=>{const e=this.children.drawing;e.initialShape=void 0}}}Qy.id="highlight";Qy.initial="idle";Qy.children=()=>[n9,t9];let uz=class extends ae{constructor(){super(...arguments),this.shapeId="",this.onEnter=e=>{this.shapeId=e.shapeId,this.editor.setCursor({type:"cross",rotation:0})},this.onPointerDown=()=>{this.parent.transition("pointing",{shapeId:this.shapeId})},this.onCancel=()=>{this.editor.setCurrentTool("select")}}};uz.id="idle";const h4=2;let pz=class extends ae{constructor(){super(...arguments),this.shape={},this.onEnter=e=>{const{inputs:n}=this.editor,{currentPagePoint:r}=n;this.markId=void 0;const s=e.shapeId&&this.editor.getShape(e.shapeId);if(s&&n.shiftKey){this.markId=`creating:${s.id}`,this.editor.mark(this.markId),this.shape=s;const i=this.editor.getShapeHandles(this.shape);if(!i)return;const o=i.filter(m=>m.type==="vertex").sort(tr),a=o[o.length-1],l=o[o.length-2],c=he.applyToPoint(this.editor.getShapeParentTransform(this.shape),new I(this.shape.x,this.shape.y));let d,h,u;const p=I.Sub(r,c);I.Dist(a,l)<h4||I.Dist(p,a)<h4?(d=a.index,h=a.id,u={...a,x:p.x+.1,y:p.y+.1}):(d=vo(a.index),h="handle:"+d,u={id:h,type:"vertex",index:d,x:p.x+.1,y:p.y+.1,canBind:!1});const y=md(this.shape.props.handles);y[u.id]=u,this.editor.updateShapes([{id:this.shape.id,type:this.shape.type,props:{handles:y}}])}else{const i=at();this.markId=`creating:${i}`,this.editor.mark(this.markId),this.editor.createShapes([{id:i,type:"line",x:r.x,y:r.y}]),this.editor.select(i),this.shape=this.editor.getShape(i)}},this.onPointerMove=()=>{if(this.shape&&this.editor.inputs.isDragging){const e=this.editor.getShapeHandles(this.shape);if(!e)throw this.markId&&this.editor.bailToMark(this.markId),Error("No handles found");const n=wr(e);this.editor.setCurrentTool("select.dragging_handle",{shape:this.shape,isCreating:!0,handle:{...n,x:n.x-.1,y:n.y-.1},onInteractionEnd:"line"})}},this.onPointerUp=()=>{this.complete()},this.onCancel=()=>{this.cancel()},this.onComplete=()=>{this.complete()},this.onInterrupt=()=>{this.parent.transition("idle"),this.markId&&this.editor.bailToMark(this.markId),this.editor.snaps.clear()}}complete(){this.parent.transition("idle",{shapeId:this.shape.id}),this.editor.snaps.clear()}cancel(){this.markId&&this.editor.bailToMark(this.markId),this.parent.transition("idle",{shapeId:this.shape.id}),this.editor.snaps.clear()}};pz.id="pointing";class Jy extends ae{constructor(){super(...arguments),this.shapeType="line"}}Jy.id="line";Jy.initial="idle";Jy.children=()=>[uz,pz];let fz=class extends ae{constructor(){super(...arguments),this.onPointerDown=e=>{this.parent.transition("pointing",e)},this.onEnter=()=>{this.editor.setCursor({type:"cross",rotation:0})},this.onCancel=()=>{this.editor.setCurrentTool("select")}}};fz.id="idle";let gz=class extends ae{constructor(){super(...arguments),this.dragged=!1,this.info={},this.wasFocusedOnEnter=!1,this.markId="",this.shape={},this.onEnter=()=>{this.wasFocusedOnEnter=!this.editor.getIsMenuOpen(),this.wasFocusedOnEnter&&(this.shape=this.createShape())},this.onPointerMove=e=>{this.editor.inputs.isDragging&&(this.wasFocusedOnEnter||(this.shape=this.createShape()),this.editor.setCurrentTool("select.translating",{...e,target:"shape",shape:this.shape,onInteractionEnd:"note",isCreating:!0,onCreate:()=>{this.editor.setEditingShape(this.shape.id),this.editor.setCurrentTool("select.editing_shape")}}))},this.onPointerUp=()=>{this.complete()},this.onInterrupt=()=>{this.cancel()},this.onComplete=()=>{this.complete()},this.onCancel=()=>{this.cancel()}}complete(){this.wasFocusedOnEnter&&(this.editor.getInstanceState().isToolLocked?this.parent.transition("idle"):(this.editor.setEditingShape(this.shape.id),this.editor.setCurrentTool("select.editing_shape",{...this.info,target:"shape",shape:this.shape})))}cancel(){this.editor.bailToMark(this.markId),this.parent.transition("idle",this.info)}createShape(){const{inputs:{originPagePoint:e}}=this.editor,n=at();this.markId=`creating:${n}`,this.editor.mark(this.markId),this.editor.createShapes([{id:n,type:"note",x:e.x,y:e.y}]).select(n);const r=this.editor.getShape(n),s=this.editor.getShapeGeometry(r).bounds;return this.editor.updateShapes([{id:n,type:"note",x:r.x-s.width/2,y:r.y-s.height/2}]),this.editor.getShape(n)}};gz.id="pointing";class e1 extends ae{constructor(){super(...arguments),this.shapeType="note"}}e1.id="note";e1.initial="idle";e1.children=()=>[fz,gz];function _p(t){const e=t.getShapeAtPoint(t.inputs.currentPagePoint,{hitInside:!1,hitLabels:!1,margin:mi/t.getZoomLevel(),renderingOnly:!0});if(!e)return t.setHoveredShape(null);let n;const r=t.getOutermostSelectableShape(e);return r===e||r.id===t.getFocusedGroupId()||t.getSelectedShapeIds().includes(r.id)?n=e:n=r,t.setHoveredShape(n.id)}let mz=class extends ae{constructor(){super(...arguments),this.onPointerMove=e=>{switch(e.target){case"shape":case"canvas":_p(this.editor)}},this.onPointerDown=e=>{this.parent.transition("pointing",e)},this.onEnter=()=>{this.editor.setCursor({type:"cross",rotation:0})},this.onKeyDown=e=>{var n;if(e.key==="Enter"){if(this.editor.getInstanceState().isReadonly)return null;const r=this.editor.getOnlySelectedShape();r&&this.editor.getShapeUtil(r).canEdit(r)&&(this.editor.setCurrentTool("select"),this.editor.setEditingShape(r.id),(n=this.editor.root.getCurrent())==null||n.transition("editing_shape",{...e,target:"shape",shape:r}))}},this.onCancel=()=>{this.editor.setCurrentTool("select")}}};mz.id="idle";let yz=class extends ae{constructor(){super(...arguments),this.markId="",this.onExit=()=>{this.editor.setHintingShapes([])},this.onPointerMove=e=>{if(this.editor.inputs.isDragging){const{inputs:{originPagePoint:n}}=this.editor,r=at();if(this.markId=`creating:${r}`,this.editor.mark(this.markId),this.editor.createShapes([{id:r,type:"text",x:n.x,y:n.y,props:{text:"",autoSize:!1,w:20}}]),this.editor.select(r),this.shape=this.editor.getShape(r),!this.shape)return;const{shape:s}=this;this.editor.setCurrentTool("select.resizing",{...e,target:"selection",handle:"right",isCreating:!0,creationCursorOffset:{x:1,y:1},onInteractionEnd:"text",onCreate:()=>{this.editor.setEditingShape(s.id),this.editor.setCurrentTool("select.editing_shape")}})}},this.onPointerUp=()=>{this.complete()},this.onComplete=()=>{this.cancel()},this.onCancel=()=>{this.cancel()},this.onInterrupt=()=>{this.cancel()}}complete(){var s;this.editor.mark("creating text shape");const e=at(),{x:n,y:r}=this.editor.inputs.currentPagePoint;this.editor.createShapes([{id:e,type:"text",x:n,y:r,props:{text:"",autoSize:!0}}]).select(e),this.editor.setEditingShape(e),this.editor.setCurrentTool("select"),(s=this.editor.root.getCurrent())==null||s.transition("editing_shape")}cancel(){this.parent.transition("idle"),this.editor.bailToMark(this.markId)}};yz.id="pointing";class t1 extends ae{constructor(){super(...arguments),this.shapeType="text"}}t1.id="text";t1.initial="idle";t1.children=()=>[mz,yz];const xz=[t1,Gy,Zy,e1,Jy,r9,Hy,Qy];function Cn(){return pr({isDarkMode:Dy()})}const on=ie.memo(function({theme:e,d:n,color:r,fill:s}){switch(s){case"none":return null;case"solid":return f.jsx("path",{fill:e[r].semi,d:n});case"semi":return f.jsx("path",{fill:e.solid,d:n});case"pattern":return f.jsx(kte,{theme:e,color:r,fill:s,d:n})}}),kte=function({d:e,color:n,theme:r}){const s=Y(),i=Q("zoomLevel",()=>s.getZoomLevel(),[s]),o=Math.ceil(i),a=s.getZoomLevel()<=.18;return f.jsxs(f.Fragment,{children:[f.jsx("path",{fill:r[n].pattern,d:e}),f.jsx("path",{fill:a?r[n].semi:`url(#${gm[`${o}_${r.id}`]})`,d:e})]})};function ys({d:t,color:e,fill:n,theme:r}){if(n==="none")return;if(n==="pattern"){const i=document.createElementNS("http://www.w3.org/2000/svg","g"),o=document.createElementNS("http://www.w3.org/2000/svg","path");o.setAttribute("d",t),o.setAttribute("fill",r[e].pattern);const a=document.createElementNS("http://www.w3.org/2000/svg","path");return a.setAttribute("d",t),a.setAttribute("fill","url(#hash_pattern)"),i.appendChild(o),i.appendChild(a),i}const s=document.createElementNS("http://www.w3.org/2000/svg","path");switch(s.setAttribute("d",t),n){case"semi":{s.setAttribute("fill",r.solid);break}case"solid":{s.setAttribute("fill",r[e].semi);break}}return s}function Si(t,e){if(e){const n=document.createElementNS("http://www.w3.org/2000/svg","g");return n.appendChild(e),n.appendChild(t),n}else return t}function Cte(t){return t.replace(/\s/g,"")}function n1(t,e,n){const{padding:r=0}=n,s=document.createElementNS("http://www.w3.org/2000/svg","text");if(s.setAttribute("font-size",n.fontSize+"px"),s.setAttribute("font-family",n.fontFamily),s.setAttribute("font-style",n.fontStyle),s.setAttribute("font-weight",n.fontWeight),s.setAttribute("line-height",n.lineHeight*n.fontSize+"px"),s.setAttribute("dominant-baseline","mathematical"),s.setAttribute("alignment-baseline","mathematical"),e.length===0)return s;const i=fe.From(e[0].box);for(const{box:c}of e)i.union(c);const o=r+(n.offsetX??0),a=(n.offsetY??0)+n.fontSize/2+(n.verticalTextAlign==="start"?r:n.verticalTextAlign==="end"?n.height-r-i.height:(Math.ceil(n.height)-i.height)/2);let l=null;for(const{text:c,box:d}of e){if(l!==null&&d.y>l){const y=document.createElementNS("http://www.w3.org/2000/svg","tspan");y.setAttribute("alignment-baseline","mathematical"),y.setAttribute("x",o+"px"),y.setAttribute("y",d.y+a+"px"),y.textContent=`
`,s.appendChild(y)}const u=document.createElementNS("http://www.w3.org/2000/svg","tspan");u.setAttribute("alignment-baseline","mathematical"),u.setAttribute("x",d.x+o+"px"),u.setAttribute("y",d.y+a+"px");const p=Cte(c);u.textContent=p,s.appendChild(u),l=d.y}return n.stroke&&n.strokeWidth&&(s.setAttribute("stroke",n.stroke),s.setAttribute("stroke-width",n.strokeWidth+"px")),n.fill&&s.setAttribute("fill",n.fill),s}function r1(t){return{key:`${eo.id}:${t}`,getElement:async()=>{const e=_te(t);if(!e)return null;const n=e.$$_url,r=e.$$_fontface;if(!n||!r)return null;const s=await(await fetch(n)).blob(),i=await new Promise((l,c)=>{const d=new FileReader;d.onload=()=>l(d.result),d.onerror=c,d.readAsDataURL(s)}),o=r.replace(n,i),a=document.createElementNS("http://www.w3.org/2000/svg","style");return a.textContent=o,a}}}function _te(t){const e=gf[t];for(const n of document.fonts)if(e.includes(n.family))return n;return null}function s9(t,e){return{key:`${eo.id}:${t}`,getElement:async()=>{if(t!=="pattern")return null;const n=8/12,r=document.createElement("div");return r.innerHTML=`
				<svg>
					<defs>
						<mask id="hash_pattern_mask">
							<rect x="0" y="0" width="8" height="8" fill="white" />
							<g
								strokeLinecap="round"
								stroke="black"
							>
								<line x1="${n*1}" y1="${n*3}" x2="${n*3}" y2="${n*1}" />
								<line x1="${n*5}" y1="${n*7}" x2="${n*7}" y2="${n*5}" />
								<line x1="${n*9}" y1="${n*11}" x2="${n*11}" y2="${n*9}" />
							</g>
						</mask>
						<pattern
							id="hash_pattern"
							width="8"
							height="8"
							patternUnits="userSpaceOnUse"
						>
							<rect x="0" y="0" width="8" height="8" fill="${e.solid}" mask="url(#hash_pattern_mask)" />
						</pattern>
					</defs>
				</svg>
			`,Array.from(r.querySelectorAll("defs > *"))}}}function i9(){return{key:`${eo.id}:pattern`,component:Pte}}const $u=8,u4=(t,e,n)=>new Promise((r,s)=>{const i=$u*e*t,o=document.createElement("canvas");o.width=i,o.height=i;const a=o.getContext("2d");if(!a)return;a.fillStyle=n?"#212529":"#f8f9fa",a.fillRect(0,0,i,i),a.globalCompositeOperation="destination-out",a.lineCap="round",a.lineWidth=1.25*e*t;const l=8/12,c=d=>d*e*t;a.beginPath(),a.moveTo(c(l*1),c(l*3)),a.lineTo(c(l*3),c(l*1)),a.moveTo(c(l*5),c(l*7)),a.lineTo(c(l*7),c(l*5)),a.moveTo(c(l*9),c(l*11)),a.lineTo(c(l*11),c(l*9)),a.stroke(),o.toBlob(d=>{!d||wt.throwToBlob.get()?s():r(d)})}),p4=(t,e)=>{const n=document.createElement("canvas");n.width=t[0],n.height=t[1];const r=n.getContext("2d");return r?(e(r),n.toDataURL()):""},Ete=()=>{const t=[];for(let e=1;e<=Math.ceil(wa);e++){const n=p4([1,1],s=>{s.fillStyle=nm.lightMode.black.semi,s.fillRect(0,0,1,1)}),r=p4([1,1],s=>{s.fillStyle=nm.darkMode.black.semi,s.fillRect(0,0,1,1)});t.push({zoom:e,url:n,darkMode:!1}),t.push({zoom:e,url:r,darkMode:!0})}return t};function Ite(){const e=Y().getInstanceState().devicePixelRatio,[n,r]=v.useState(!1),s=v.useMemo(()=>Ete(),[]),[i,o]=v.useState(s);return v.useEffect(()=>{const l=[];for(let d=1;d<=Math.ceil(wa);d++)l.push(u4(e,d,!1).then(h=>({zoom:d,url:URL.createObjectURL(h),darkMode:!1}))),l.push(u4(e,d,!0).then(h=>({zoom:d,url:URL.createObjectURL(h),darkMode:!0})));let c=!1;return Promise.all(l).then(d=>{c||(o(d),r(!0))}),()=>{c=!0,r(!1)}},[e]),{defs:f.jsx(f.Fragment,{children:i.map(l=>{const c=l.zoom+(l.darkMode?"_dark":"_light");return f.jsx("pattern",{id:gm[c],width:$u,height:$u,patternUnits:"userSpaceOnUse",children:f.jsx("image",{href:l.url,width:$u,height:$u})},c)})}),isReady:n}}function Pte(){const t=Y(),e=v.useRef(null),{defs:n,isReady:r}=Ite();return v.useEffect(()=>{if(r&&t.environment.isSafari){const s=wz(e.current);s&&requestAnimationFrame(()=>{s.style.display="none",requestAnimationFrame(()=>{s.style.display=""})})}},[t,r]),f.jsx("g",{ref:e,children:n})}function wz(t){return t.classList.contains("tl-html-layer")?t:t.parentElement?wz(t.parentElement):null}function hr(t,e,n={}){const{closed:r=!1,snap:s=1,start:i="outset",end:o="outset",lengthRatio:a=2,style:l="dashed"}=n;let c=0,d=0,h=1,u=0,p=0;switch(l){case"dashed":{h=1,c=Math.min(e*a,t/4);break}case"dotted":{h=100,c=e/h;break}default:return{strokeDasharray:"none",strokeDashoffset:"none"}}return r||(i==="outset"?(t+=c/2,p+=c/2):i==="skip"&&(t-=c,p-=c),o==="outset"?t+=c/2:o==="skip"&&(t-=c)),d=Math.floor(t/c/(2*h)),d-=d%s,d<3&&l==="dashed"?t/e<5?(c=t,d=1,u=0):(c=t*.333,u=t*.333):(d=Math.max(d,3),c=t/d/(2*h),r?(p=c/2,u=(t-d*c)/d):u=(t-d*c)/Math.max(1,d-1)),{strokeDasharray:[c,u].join(" "),strokeDashoffset:p.toString()}}function o9(t,e,n){const r=Y(),s=v.useRef(null),i=v.useRef(!1),o=v.useRef(),a=Q("isEditing",()=>r.getEditingShapeId()===t,[r,t]);v.useEffect(()=>{const m=s.current;m&&a&&document.activeElement!==m&&m.focus()},[a]);const l=v.useCallback(()=>{const m=i.current;i.current=!1,requestAnimationFrame(()=>{const w=s.current;if(!w)return;const S=r.getShape(t);S&&(w.value=S.props.text,w.value.length&&!m&&w.select())})},[r,t]),c=v.useCallback(()=>{const m=o.current;requestAnimationFrame(()=>{var b;const w=s.current,S=r.getEditingShapeId();if(w&&S){if(S===t)if(m)if(!m.length)w.focus();else{i.current=!0,w.focus();const g=window.getSelection();g&&m.forEach(x=>g.addRange(x))}else w.focus()}else(b=window.getSelection())==null||b.removeAllRanges(),r.complete()})},[r,t]),d=v.useCallback(m=>{if(a)switch((m.ctrlKey||m.metaKey)&&nn(m),m.key){case"Enter":{(m.ctrlKey||m.metaKey)&&r.complete();break}case"Tab":{Ge(m),m.shiftKey?Wd.unindent(m.currentTarget):Wd.indent(m.currentTarget);break}}},[r,a]),h=v.useCallback(m=>{if(!a)return;let w=Wd.normalizeText(m.currentTarget.value);const S=w.replace(/\t/g,vd);if(S!==w){const b=m.currentTarget.selectionStart;m.currentTarget.value=S,m.currentTarget.selectionStart=b+(S.length-w.length),m.currentTarget.selectionEnd=b+(S.length-w.length),w=S}r.updateShapes([{id:t,type:e,props:{text:w}}])},[r,t,e,a]),u=n.trim().length===0;v.useEffect(()=>{if(!a)return;if(s.current){let w=function(){var b,g;const S=(b=window.getSelection)==null?void 0:b.call(window);if(S&&S.type!=="None"){const x=[];if(S)for(let k=0;k<S.rangeCount;k++)x.push((g=S.getRangeAt)==null?void 0:g.call(S,k));o.current=x}};return document.addEventListener("selectionchange",w),()=>{document.removeEventListener("selectionchange",w)}}},[a]);const p=v.useCallback(m=>{r.dispatch({...Lr(m),type:"pointer",name:"pointer_down",target:"shape",shape:r.getShape(t)}),nn(m)},[r,t]);return{rInput:s,isEditing:a,handleFocus:l,handleBlur:c,handleKeyDown:d,handleChange:h,handleInputPointerDown:p,handleDoubleClick:nn,isEmpty:u}}const zte=v.memo(function({id:e,text:n,size:r,font:s,position:i,width:o,labelColor:a}){const{rInput:l,isEditing:c,handleFocus:d,handleBlur:h,handleKeyDown:u,handleChange:p,isEmpty:y,handleInputPointerDown:m,handleDoubleClick:w}=o9(e,"arrow",n),b=Wd.normalizeTextForDom(n).trim().length>0;return!c&&!b?null:f.jsx("div",{className:"tl-arrow-label","data-font":s,"data-align":"center","data-hastext":!y,"data-isediting":c,style:{textAlign:"center",fontSize:ma[r],lineHeight:ma[r]*Dn.lineHeight+"px",transform:`translate(${i.x}px, ${i.y}px)`,color:a},children:f.jsxs("div",{className:"tl-arrow-label__inner",children:[f.jsx("p",{style:{width:o||"9px"},children:n?Wd.normalizeTextForDom(n):" "}),c&&f.jsx("textarea",{ref:l,className:"tl-text tl-text-input",name:"text",tabIndex:-1,autoComplete:"false",autoCapitalize:"false",autoCorrect:"false",autoSave:"false",autoFocus:!0,placeholder:"",spellCheck:"true",wrap:"off",dir:"auto",datatype:"wysiwyg",defaultValue:n,onFocus:d,onChange:p,onKeyDown:u,onBlur:h,onContextMenu:nn,onPointerDown:m,onDoubleClick:w})]})})});let Ate=0;class s1 extends Xo{constructor(){super(...arguments),this.canEdit=()=>!0,this.canBind=()=>!1,this.canSnap=()=>!1,this.hideResizeHandles=()=>!0,this.hideRotateHandle=()=>!0,this.hideSelectionBoundsBg=()=>!0,this.hideSelectionBoundsFg=()=>!0,this.onHandleChange=(e,{handle:n,isPrecise:r})=>{const s=n.id;if(s==="middle"){const{start:m,end:w}=oi(this.editor,e),S=I.Sub(w,m),b=I.Per(S),g=I.Med(w,m),x=I.Sub(g,b),k=I.Add(g,b),C=I.NearestPointOnLineSegment(x,k,n,!1);let _=I.Dist(C,g);return I.Clockwise(C,w,g)&&(_*=-1),{id:e.id,type:e.type,props:{bend:_}}}const i=jr(e),a=this.editor.getShapePageTransform(i.id).applyToPoint(n);if(this.editor.inputs.ctrlKey)return i.props[s]={type:"point",x:n.x,y:n.y},i;const l=this.editor.getShapePageTransform(e.id).applyToPoint(n),c=this.editor.getShapeAtPoint(l,{hitInside:!0,hitFrameInside:!0,margin:0,filter:m=>!m.isLocked&&this.editor.getShapeUtil(m).canBind(m)});if(!c)return i.props[s]={type:"point",x:n.x,y:n.y},i;const d=this.editor.getShapeGeometry(c),h=fe.ZeroFix(d.bounds),u=this.editor.getPointInShapeSpace(c,a);let p=r;if(!p){const m=i.props[s];(m.type==="point"||m.type==="binding"&&c.id!==m.boundShapeId)&&(p=this.editor.inputs.pointerVelocity.len()<.5)}if(!r){d.isClosed||(p=!0);const m=i.props[s==="start"?"end":"start"];m.type==="binding"&&c.id===m.boundShapeId&&m.isPrecise&&(p=!0)}const y={x:(u.x-h.minX)/h.width,y:(u.y-h.minY)/h.height};return p&&I.Dist(u,h.center)<Math.max(4,Math.min(Math.min(h.width,h.height)*.15,16))/this.editor.getZoomLevel()&&(y.x=.5,y.y=.5),i.props[s]={type:"binding",boundShapeId:c.id,normalizedAnchor:y,isPrecise:p,isExact:this.editor.inputs.altKey},i.props.start.type==="binding"&&i.props.end.type==="binding"&&i.props.start.boundShapeId===i.props.end.boundShapeId&&I.Equals(i.props.start.normalizedAnchor,i.props.end.normalizedAnchor)&&(i.props.end.normalizedAnchor.x+=.05),i},this.onTranslateStart=e=>{const n=e.props.start.type==="binding"?e.props.start.boundShapeId:null,r=e.props.end.type==="binding"?e.props.end.boundShapeId:null,s=this.editor.getSelectedShapeIds();if(n&&(s.includes(n)||this.editor.isAncestorSelected(n))||r&&(s.includes(r)||this.editor.isAncestorSelected(r)))return;const{start:i,end:o}=oi(this.editor,e);return{id:e.id,type:e.type,props:{...e.props,start:{type:"point",x:i.x,y:i.y},end:{type:"point",x:o.x,y:o.y}}}},this.onResize=(e,n)=>{const{scaleX:r,scaleY:s}=n,i=oi(this.editor,e),{start:o,end:a}=jr(e.props);let{bend:l}=e.props;o.type==="point"&&(o.x=i.start.x*r,o.y=i.start.y*s),a.type==="point"&&(a.x=i.end.x*r,a.y=i.end.y*s);const c=Math.abs(r),d=Math.abs(s);return r<0&&s>=0?(l!==0&&(l*=-1,l*=Math.max(c,d)),o.type==="binding"&&(o.normalizedAnchor.x=1-o.normalizedAnchor.x),a.type==="binding"&&(a.normalizedAnchor.x=1-a.normalizedAnchor.x)):r>=0&&s<0?(l!==0&&(l*=-1,l*=Math.max(c,d)),o.type==="binding"&&(o.normalizedAnchor.y=1-o.normalizedAnchor.y),a.type==="binding"&&(a.normalizedAnchor.y=1-a.normalizedAnchor.y)):r>=0&&s>=0?l!==0&&(l*=Math.max(c,d)):r<0&&s<0&&(l!==0&&(l*=Math.max(c,d)),o.type==="binding"&&(o.normalizedAnchor.x=1-o.normalizedAnchor.x,o.normalizedAnchor.y=1-o.normalizedAnchor.y),a.type==="binding"&&(a.normalizedAnchor.x=1-a.normalizedAnchor.x,a.normalizedAnchor.y=1-a.normalizedAnchor.y)),{props:{start:o,end:a,bend:l}}},this.onDoubleClickHandle=(e,n)=>{switch(n.id){case"start":return{id:e.id,type:e.type,props:{...e.props,arrowheadStart:e.props.arrowheadStart==="none"?"arrow":"none"}};case"end":return{id:e.id,type:e.type,props:{...e.props,arrowheadEnd:e.props.arrowheadEnd==="none"?"arrow":"none"}}}},this.onEditEnd=e=>{const{id:n,type:r,props:{text:s}}=e;s.trimEnd()!==e.props.text&&this.editor.updateShapes([{id:n,type:r,props:{text:s.trimEnd()}}])}}getDefaultProps(){return{dash:"draw",size:"m",fill:"none",color:"black",labelColor:"black",bend:0,start:{type:"point",x:0,y:0},end:{type:"point",x:2,y:0},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"}}getGeometry(e){const n=this.editor.getArrowInfo(e),r=n.isStraight?new Sm({start:I.From(n.start.point),end:I.From(n.end.point)}):new qX({center:I.Cast(n.handleArc.center),radius:n.handleArc.radius,start:I.Cast(n.start.point),end:I.Cast(n.end.point),sweepFlag:n.bodyArc.sweepFlag,largeArcFlag:n.bodyArc.largeArcFlag});let s;if(e.props.text.trim()){const i=r.bounds,{w:o,h:a}=this.editor.textMeasure.measureText(e.props.text,{...Dn,fontFamily:To[e.props.font],fontSize:ma[e.props.size],maxWidth:null});let l=o,c=a;if(i.width>i.height){l=Math.max(Math.min(o,64),Math.min(i.width-64,o));const{w:d,h}=this.editor.textMeasure.measureText(e.props.text,{...Dn,fontFamily:To[e.props.font],fontSize:ma[e.props.size],maxWidth:l});l=d,c=h}if(l>16*ma[e.props.size]){l=16*ma[e.props.size];const{w:d,h}=this.editor.textMeasure.measureText(e.props.text,{...Dn,fontFamily:To[e.props.font],fontSize:ma[e.props.size],maxWidth:l});l=d,c=h}s=new Oo({x:n.middle.x-l/2-4.25,y:n.middle.y-c/2-4.25,width:l+8.5,height:c+8.5,isFilled:!0,isLabel:!0})}return new ka({children:s?[r,s]:[r],isSnappable:!1})}getHandles(e){const n=this.editor.getArrowInfo(e);return[{id:"start",type:"vertex",index:"a0",x:n.start.handle.x,y:n.start.handle.y,canBind:!0},{id:"middle",type:"virtual",index:"a2",x:n.middle.x,y:n.middle.y,canBind:!1},{id:"end",type:"vertex",index:"a3",x:n.end.handle.x,y:n.end.handle.y,canBind:!0}]}component(e){const n=Cn(),r=this.editor.getOnlySelectedShape(),s=this.editor.isInAny("select.idle","select.pointing_handle","select.dragging_handle","arrow.dragging")&&!this.editor.getInstanceState().isReadonly,i=this.editor.getArrowInfo(e),o=fe.ZeroFix(this.editor.getShapeGeometry(e).bounds),a=ie.useMemo(()=>this.editor.environment.isSafari?Ate+=1:0,[e]);if(!(i!=null&&i.isValid))return null;const l=or[e.props.size],c=i.start.arrowhead&&Vc(i,"start",l),d=i.end.arrowhead&&Vc(i,"end",l),h=i.isStraight?$2(i):D2(i);let u=null;if(r===e&&s){const{strokeDasharray:x,strokeDashoffset:k}=hr(i.isStraight?I.Dist(i.start.handle,i.end.handle):Math.abs(i.handleArc.length),2,{end:"skip",start:"skip",lengthRatio:2.5});u=e.props.start.type==="binding"||e.props.end.type==="binding"?f.jsx("path",{className:"tl-arrow-hint",d:i.isStraight?SV(i):bV(i),strokeDasharray:x,strokeDashoffset:k,strokeWidth:2,markerStart:e.props.start.type==="binding"?e.props.start.isExact?"":e.props.start.isPrecise?"url(#arrowhead-cross)":"url(#arrowhead-dot)":"",markerEnd:e.props.end.type==="binding"?e.props.end.isExact?"":e.props.end.isPrecise?"url(#arrowhead-cross)":"url(#arrowhead-dot)":"",opacity:.16}):null}const{strokeDasharray:p,strokeDashoffset:y}=hr(i.isStraight?i.length:Math.abs(i.bodyArc.length),l,{style:e.props.dash}),m=e.props.text.trim()?this.editor.getShapeGeometry(e).children[1]:null,w=!(i.start.arrowhead==="none"||i.start.arrowhead==="arrow"),S=!(i.end.arrowhead==="none"||i.end.arrowhead==="arrow"),b=(e.id+"_clip_"+a).replace(":","_");return f.jsxs(f.Fragment,{children:[f.jsxs(ns,{id:e.id,style:{minWidth:50,minHeight:50},children:[f.jsx("defs",{children:f.jsxs("mask",{id:b,children:[f.jsx("rect",{x:$(-100+o.minX),y:$(-100+o.minY),width:$(o.width+200),height:$(o.height+200),fill:"white"}),m&&f.jsx("rect",{x:m.x,y:m.y,width:m.w,height:m.h,fill:"black",rx:4,ry:4}),c&&w&&f.jsx("path",{d:c,fill:i.start.arrowhead==="arrow"?"none":"black",stroke:"none"}),d&&S&&f.jsx("path",{d,fill:i.end.arrowhead==="arrow"?"none":"black",stroke:"none"})]})}),f.jsxs("g",{fill:"none",stroke:n[e.props.color].solid,strokeWidth:l,strokeLinejoin:"round",strokeLinecap:"round",pointerEvents:"none",children:[u,f.jsxs("g",{mask:`url(#${b})`,children:[f.jsx("rect",{x:$(o.minX-100),y:$(o.minY-100),width:$(o.width+200),height:$(o.height+200),opacity:0}),f.jsx("path",{d:h,strokeDasharray:p,strokeDashoffset:y})]}),c&&w&&e.props.fill!=="none"&&f.jsx(on,{theme:n,d:c,color:e.props.color,fill:e.props.fill}),d&&S&&e.props.fill!=="none"&&f.jsx(on,{theme:n,d,color:e.props.color,fill:e.props.fill}),c&&f.jsx("path",{d:c}),d&&f.jsx("path",{d})]})]}),f.jsx(zte,{id:e.id,text:e.props.text,font:e.props.font,size:e.props.size,position:i.middle,width:(m==null?void 0:m.w)??0,labelColor:n[e.props.labelColor].solid})]})}indicator(e){const{start:n,end:r}=oi(this.editor,e),s=this.editor.getArrowInfo(e),i=this.editor.getShapeGeometry(e),o=i.bounds,a=e.props.text.trim()?i.children[1]:null,l=Fy(e.id);if(!s||I.Equals(n,r))return null;const c=or[e.props.size],d=s.start.arrowhead&&Vc(s,"start",c),h=s.end.arrowhead&&Vc(s,"end",c),u=s.isStraight?$2(s):D2(s),p=d&&s.start.arrowhead!=="arrow"||h&&s.end.arrowhead!=="arrow"||!!a,y=(e.id+"_clip").replace(":","_");return l&&a?f.jsx("rect",{x:$(a.x),y:$(a.y),width:a.w,height:a.h,rx:3.5,ry:3.5}):f.jsxs("g",{children:[p&&f.jsx("defs",{children:f.jsxs("mask",{id:y,children:[f.jsx("rect",{x:o.minX-100,y:o.minY-100,width:o.w+200,height:o.h+200,fill:"white"}),a&&f.jsx("rect",{x:$(a.x),y:$(a.y),width:a.w,height:a.h,fill:"black",rx:3.5,ry:3.5}),d&&f.jsx("path",{d,fill:s.start.arrowhead==="arrow"?"none":"black",stroke:"none"}),h&&f.jsx("path",{d:h,fill:s.end.arrowhead==="arrow"?"none":"black",stroke:"none"})]})}),f.jsxs("g",{...p?{mask:`url(#${y})`}:void 0,children:[p&&f.jsx("rect",{x:o.minX-100,y:o.minY-100,width:o.width+200,height:o.height+200,opacity:0}),f.jsx("path",{d:u})]}),d&&f.jsx("path",{d}),h&&f.jsx("path",{d:h}),a&&f.jsx("rect",{x:$(a.x),y:$(a.y),width:a.w,height:a.h,rx:3.5,ry:3.5})]})}toSvg(e,n){const r=pr({isDarkMode:this.editor.user.getIsDarkMode()});n.addExportDef(s9(e.props.fill,r));const s=r[e.props.color].solid,i=this.editor.getArrowInfo(e),o=or[e.props.size],a=document.createElementNS("http://www.w3.org/2000/svg","g");if(!i)return a;const l=i.start.arrowhead&&Vc(i,"start",o),c=i.end.arrowhead&&Vc(i,"end",o),d=this.editor.getShapeGeometry(e),h=d.bounds,u=e.props.text.trim()?d.children[1]:null,p=(e.id+"_clip").replace(":","_");if(l||c||u){const g=document.createElementNS("http://www.w3.org/2000/svg","defs"),x=document.createElementNS("http://www.w3.org/2000/svg","mask");x.id=p;const k=document.createElementNS("http://www.w3.org/2000/svg","rect");if(k.setAttribute("x",h.minX-100+""),k.setAttribute("y",h.minY-100+""),k.setAttribute("width",h.width+200+""),k.setAttribute("height",h.height+200+""),k.setAttribute("fill","white"),x.appendChild(k),l&&x.appendChild(f4(l,i.start.arrowhead)),c&&x.appendChild(f4(c,i.end.arrowhead)),u){const C=document.createElementNS("http://www.w3.org/2000/svg","rect");C.setAttribute("x",u.x+""),C.setAttribute("y",u.y+""),C.setAttribute("width",u.w+""),C.setAttribute("height",u.h+""),C.setAttribute("fill","black"),x.appendChild(C)}g.appendChild(x),a.appendChild(g)}const y=document.createElementNS("http://www.w3.org/2000/svg","g");y.setAttribute("mask",`url(#${p})`),a.appendChild(y);const m=document.createElementNS("http://www.w3.org/2000/svg","rect");m.setAttribute("x","-100"),m.setAttribute("y","-100"),m.setAttribute("width",h.width+200+""),m.setAttribute("height",h.height+200+""),m.setAttribute("fill","transparent"),m.setAttribute("stroke","none"),y.appendChild(m);const w=Nte(i.isStraight?$2(i):D2(i),s,o),{strokeDasharray:S,strokeDashoffset:b}=hr(i.isStraight?i.length:Math.abs(i.bodyArc.length),o,{style:e.props.dash});if(w.setAttribute("stroke-dasharray",S),w.setAttribute("stroke-dashoffset",b),y.appendChild(w),l&&a.appendChild(g4(l,e.props.color,o,e.props.arrowheadStart==="arrow"?"none":e.props.fill,r)),c&&a.appendChild(g4(c,e.props.color,o,e.props.arrowheadEnd==="arrow"?"none":e.props.fill,r)),u){n.addExportDef(r1(e.props.font));const g={fontSize:ma[e.props.size],lineHeight:Dn.lineHeight,fontFamily:gf[e.props.font],padding:0,textAlign:"middle",width:u.w-8,verticalTextAlign:"middle",height:u.h,fontStyle:"normal",fontWeight:"normal",overflow:"wrap"},x=n1(this.editor,this.editor.textMeasure.measureTextSpans(e.props.text,g),g);x.setAttribute("fill",r[e.props.labelColor].solid),Array.from(x.children).forEach(_=>{const E=parseFloat(_.getAttribute("x")||"0"),z=parseFloat(_.getAttribute("y")||"0");_.setAttribute("x",E+4+u.x+"px"),_.setAttribute("y",z+u.y+"px")});const C=x.cloneNode(!0);C.setAttribute("stroke-width","2"),C.setAttribute("fill",r.background),C.setAttribute("stroke",r.background),a.appendChild(C),a.appendChild(x)}return a}getCanvasSvgDefs(){return[i9()]}}s1.type="arrow";s1.props=Eq;s1.migrations=Iq;function f4(t,e){const n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("d",t),n.setAttribute("fill",e==="arrow"?"none":"black"),n.setAttribute("stroke","none"),n}function Nte(t,e,n){const r=document.createElementNS("http://www.w3.org/2000/svg","path");return r.setAttribute("d",t),r.setAttribute("fill","none"),r.setAttribute("stroke",e),r.setAttribute("stroke-width",n+""),r}function g4(t,e,n,r,s){const i=document.createElementNS("http://www.w3.org/2000/svg","path");i.setAttribute("d",t),i.setAttribute("fill","none"),i.setAttribute("stroke",s[e].solid),i.setAttribute("stroke-width",n+"");const o=ys({d:t,fill:r,color:e,theme:s});if(o){const a=document.createElementNS("http://www.w3.org/2000/svg","g");return a.appendChild(o),a.appendChild(i),a}else return i}const m4="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='30' height='30' fill='none'%3E%3Cpath stroke='%23000' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M13 5H7a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6M19 5h6m0 0v6m0-6L13 17'/%3E%3C/svg%3E";function zf({url:t,zoomLevel:e}){return f.jsx("a",{className:ue("tl-hyperlink-button",{"tl-hyperlink-button__hidden":e<.32}),href:t,target:"_blank",rel:"noopener noreferrer",onPointerDown:nn,onPointerUp:nn,title:t,draggable:!1,children:f.jsx("div",{className:"tl-hyperlink-button__icon",style:{mask:`url("${m4}") center 100% / 100% no-repeat`,WebkitMask:`url("${m4}") center 100% / 100% no-repeat`}})})}const Tte=[{offsetX:0,offsetY:2,blur:4,spread:0,color:"#00000029"},{offsetX:0,offsetY:3,blur:6,spread:0,color:"#0000001f"}];function a9(t){return Tte.map(n=>{const{offsetX:r,offsetY:s,blur:i,spread:o,color:a}=n,l=new I(r,s),{x:c,y:d}=l.rot(-t);return`${c}px ${d}px ${i}px ${o}px ${a}`}).join(", ")}class i1 extends ho{constructor(){super(...arguments),this.canResize=()=>!1,this.hideSelectionBoundsFg=()=>!0,this.onBeforeCreate=e=>{y4(this.editor,e)},this.onBeforeUpdate=(e,n)=>{if(e.props.url!==n.props.url)if(U5(n.props.url))y4(this.editor,n);else return{...n,props:{...n.props,url:e.props.url}}}}getDefaultProps(){return{url:"",w:300,h:320,assetId:null}}component(e){const n=e.props.assetId?this.editor.getAsset(e.props.assetId):null,r=this.editor.getShapePageTransform(e).rotation(),s=Lte(e);return f.jsx(yi,{children:f.jsxs("div",{className:"tl-bookmark__container",style:{boxShadow:a9(r)},children:[f.jsxs("div",{className:"tl-bookmark__image_container",children:[n!=null&&n.props.image?f.jsx("img",{className:"tl-bookmark__image",draggable:!1,src:n==null?void 0:n.props.image,alt:(n==null?void 0:n.props.title)||""}):f.jsx("div",{className:"tl-bookmark__placeholder"}),f.jsx(zf,{url:e.props.url,zoomLevel:this.editor.getZoomLevel()})]}),f.jsxs("div",{className:"tl-bookmark__copy_container",children:[(n==null?void 0:n.props.title)&&f.jsx("h2",{className:"tl-bookmark__heading",children:Zu((n==null?void 0:n.props.title)||"",54)}),(n==null?void 0:n.props.description)&&f.jsx("p",{className:"tl-bookmark__description",children:Zu((n==null?void 0:n.props.description)||"",128)}),f.jsx("a",{className:"tl-bookmark__link",href:e.props.url||"",target:"_blank",rel:"noopener noreferrer",onPointerDown:nn,onPointerUp:nn,onClick:nn,children:Zu(s,45)})]})]})})}indicator(e){return f.jsx("rect",{width:$(e.props.w),height:$(e.props.h),rx:"6",ry:"6"})}}i1.type="bookmark";i1.props=Pq;i1.migrations=zq;const Lte=t=>{try{const e=new URL(t.props.url),n=e.pathname.replace(/\/*$/,"");return`${e.hostname}${n}`}catch{return t.props.url}};function y4(t,e){const{url:n}=e.props,r=Rl.createId(v0(n));t.getAsset(r)?e.props.assetId!==r&&t.updateShapes([{id:e.id,type:e.type,props:{assetId:r}}]):(t.updateShapes([{id:e.id,type:e.type,props:{assetId:null}}]),Mte(t,e))}const Mte=LE(async(t,e)=>{const{url:n}=e.props,r=await t.getAssetForExternalContent({type:"url",url:n});r&&t.batch(()=>{t.createAssets([r]),t.updateShapes([{id:e.id,type:e.type,props:{assetId:r.id}}])})},500);function Ea(t,e=!1){const n=t.length;if(n<2)return"";let r=t[0].point,s=t[1].point;if(n===2)return`M${Mn(r)}L${Mn(s)}`;let i="";for(let o=2,a=n-1;o<a;o++)r=t[o].point,s=t[o+1].point,i+=Nr(r,s);return e?`M${Nr(t[0].point,t[1].point)}Q${Mn(t[1].point)}${Nr(t[1].point,t[2].point)}T${i}${Nr(t[n-1].point,t[0].point)}${Nr(t[0].point,t[1].point)}Z`:`M${Mn(t[0].point)}Q${Mn(t[1].point)}${Nr(t[1].point,t[2].point)}${t.length>3?"T":""}${i}L${Mn(t[n-1].point)}`}function jte(t,e={}){const{start:n={},end:r={}}=e,{cap:s=!0}=n,{cap:i=!0}=r;ec(!n.taper&&!r.taper,"cap taper not supported here"),ec(!n.easing&&!r.easing,"cap easing not supported here"),ec(s&&i,"cap must be true");const o=ai(t,e);Th(o,e);const a=Rte(o);let l="";for(const c of a)l+=Ote(c,e);return l}function Rte(t){if(t.length<=2)return[t];const e=[];let n=[t[0]];for(let r=1;r<t.length-1;r++){const s=t[r-1],i=t[r],o=t[r+1],a=I.Angle(s.point,i.point),l=I.Angle(i.point,o.point),c=Math.abs(Xu(a,l))/Math.PI;if(c>.8){const y={...i,point:i.input};n.push(y),e.push(mx(n)),n=[y];continue}if(n.push(i),c<.25)continue;const d=(s.radius+i.radius+o.radius)/3,h=I.Dist(s.point,i.point)/d,u=I.Dist(i.point,o.point)/d;if(h+u<1.5){n.push(i),e.push(mx(n)),n=[i];continue}}return n.push(t[t.length-1]),e.push(mx(n)),e}function mx(t){const e=t[0];for(;t.length>2;){const r=t[1],s=I.Dist(e.point,r.point),i=(e.radius+r.radius)/2;if(s<i*.5)t.splice(1,1);else break}const n=t[t.length-1];for(;t.length>2;){const r=t[t.length-2],s=I.Dist(n.point,r.point),i=(n.radius+r.radius)/2;if(s<i*.5)t.splice(t.length-2,1);else break}return t.length>1&&(t[0]={...t[0],vector:I.FromAngle(I.Angle(t[1].point,t[0].point))},t[t.length-1]={...t[t.length-1],vector:I.FromAngle(I.Angle(t[t.length-1].point,t[t.length-2].point))}),t}function $te(t,e,n){return"M "+t+" "+e+" m -"+n+", 0 a "+n+","+n+" 0 1,1 "+n*2+",0 a "+n+","+n+" 0 1,1 -"+n*2+",0"}function Ote(t,e={}){if(t.length===0)return"";if(t.length===1)return $te(t[0].point.x,t[0].point.y,t[0].radius);const{left:n,right:r}=QP(t,e);r.reverse();let s=`M${Mn(n[0])}T`;for(let i=1;i<n.length;i++)s+=Nr(n[i-1],n[i]);{const i=t[t.length-1],o=i.radius,a=i.vector.clone().per().neg(),l=I.Add(i.point,I.Mul(a,o)),c=I.Add(i.point,I.Mul(a,-o));s+=`${Mn(l)}A${$(o)},${$(o)} 0 0 1 ${Mn(c)}T`}for(let i=1;i<r.length;i++)s+=Nr(r[i-1],r[i]);{const i=t[0],o=i.radius,a=i.vector.clone().per(),l=I.Add(i.point,I.Mul(a,o)),c=I.Add(i.point,I.Mul(a,-o));s+=`${Mn(l)}A${$(o)},${$(o)} 0 0 1 ${Mn(c)}Z`}return s}function zm(){const t=Y();return Q("zoom",()=>t.getZoomLevel()<.35,[t])}const Dte=t=>t*.65+VB(t*et/2)*.35,qte=t=>({size:1+t,thinning:.5,streamline:.62+(1+t)/8*.06,smoothing:.62,easing:dr.easeOutSine,simulatePressure:!0}),Bte=t=>({size:1+t*1.2,thinning:.62,streamline:.62,smoothing:.62,simulatePressure:!1,easing:Dte}),x4=t=>({size:1+t,thinning:0,streamline:.62+(1+t)/8*.06,smoothing:.62,simulatePressure:!1,easing:dr.linear});function yw({strokeWidth:t,showAsComplete:e}){return{size:1+t,thinning:0,streamline:.5,smoothing:.5,simulatePressure:!1,easing:dr.easeOutSine,last:e}}function Eg(t,e,n,r){return{...r?x4(e):t.dash==="draw"?t.isPen?Bte(e):qte(e):x4(e),last:t.isComplete||n}}function kd(t){const e=[];for(const n of t)if(n.type==="free"||n.points.length<2)e.push(...n.points.map(I.Cast));else{const r=Math.max(4,Math.floor(I.Dist(n.points[0],n.points[1])/16));e.push(...I.PointsBetween(n.points[0],n.points[1],r))}return e}function w4(t,e){return{draw:"none",solid:"none",dotted:`0.1 ${e*2}`,dashed:`${e*2} ${e*2}`}[t.props.dash]}class o1 extends Xo{constructor(){super(...arguments),this.hideResizeHandles=e=>xx(e),this.hideRotateHandle=e=>xx(e),this.hideSelectionBoundsFg=e=>xx(e),this.onResize=(e,n)=>{const{scaleX:r,scaleY:s}=n,i=[];for(const o of e.props.segments)i.push({...o,points:o.points.map(({x:a,y:l,z:c})=>({x:pm(r*a),y:pm(s*l),z:c}))});return{props:{segments:i}}}}getDefaultProps(){return{segments:[],color:"black",fill:"none",dash:"draw",size:"m",isComplete:!1,isClosed:!1,isPen:!1}}getGeometry(e){const n=kd(e.props.segments),r=or[e.props.size];if(e.props.segments.length===1){const i=fe.FromPoints(n);if(i.width<r*2&&i.height<r*2)return new JI({x:-r,y:-r,radius:r,isFilled:!0})}const s=ai(n,Eg(e.props,r,!0,!0)).map(i=>i.point);return e.props.isClosed?new mn({points:s,isFilled:e.props.fill!=="none"}):new Sc({points:s})}component(e){var u;const n=Cn(),r=zm(),s=or[e.props.size],i=kd(e.props.segments),o=e.props.isComplete||((u=wr(e.props.segments))==null?void 0:u.type)==="straight";let a=s;!r&&!e.props.isPen&&e.props.dash==="draw"&&i.length===1&&(a+=Na(e.id)()*(s/6));const l=Eg(e.props,a,o,r);if(!r&&e.props.dash==="draw")return f.jsxs(ns,{id:e.id,children:[e.props.isClosed&&e.props.fill&&i.length>1?f.jsx(on,{theme:n,fill:e.props.isClosed?e.props.fill:"none",color:e.props.color,d:Ea(ai(i,l),e.props.isClosed)}):null,f.jsx("path",{d:jte(i,l),strokeLinecap:"round",fill:n[e.props.color].solid})]});const c=ai(i,l),d=c.length<2,h=d?yx(i[0],0):Ea(c,e.props.isClosed);return f.jsxs(ns,{id:e.id,children:[f.jsx(on,{theme:n,color:e.props.color,fill:d||e.props.isClosed?e.props.fill:"none",d:h}),f.jsx("path",{d:h,strokeLinecap:"round",fill:d?n[e.props.color].solid:"none",stroke:n[e.props.color].solid,strokeWidth:s,strokeDasharray:d?"none":w4(e,s),strokeDashoffset:"0"})]})}indicator(e){var d;const n=zm(),r=or[e.props.size],s=kd(e.props.segments);let i=r;!n&&!e.props.isPen&&e.props.dash==="draw"&&s.length===1&&(i+=Na(e.id)()*(r/6));const o=e.props.isComplete||((d=wr(e.props.segments))==null?void 0:d.type)==="straight",a=Eg(e.props,i,o,!0),l=ai(s,a),c=l.length>1?Ea(l,e.props.isClosed):yx(s[0],i);return f.jsx("path",{d:c})}toSvg(e,n){var y;const r=pr({isDarkMode:this.editor.user.getIsDarkMode()});n.addExportDef(s9(e.props.fill,r));const{color:s}=e.props,i=or[e.props.size],o=kd(e.props.segments),a=e.props.isComplete||((y=wr(e.props.segments))==null?void 0:y.type)==="straight";let l=i;!e.props.isPen&&e.props.dash==="draw"&&o.length===1&&(l+=Na(e.id)()*(i/6));const c=Eg(e.props,l,a,!1),d=ai(o,c),h=d.length>1?Ea(d,e.props.isClosed):yx(o[0],l);let u;if(e.props.dash==="draw"||d.length<2){Th(d,c);const m=Pf(d,c),w=document.createElementNS("http://www.w3.org/2000/svg","path");w.setAttribute("d",wf(m,!0)),w.setAttribute("fill",r[s].solid),w.setAttribute("stroke-linecap","round"),u=w}else{const m=document.createElementNS("http://www.w3.org/2000/svg","path");m.setAttribute("d",h),m.setAttribute("stroke",r[s].solid),m.setAttribute("fill","none"),m.setAttribute("stroke-linecap","round"),m.setAttribute("stroke-width",i.toString()),m.setAttribute("stroke-dasharray",w4(e,i)),m.setAttribute("stroke-dashoffset","0"),u=m}const p=ys({fill:e.props.isClosed?e.props.fill:"none",d:h,color:e.props.color,theme:r});if(p){const m=document.createElementNS("http://www.w3.org/2000/svg","g");return m.appendChild(p),m.appendChild(u),m}return u}getCanvasSvgDefs(){return[i9()]}expandSelectionOutlinePx(e){const n=e.props.dash==="draw"?1.6:1;return or[e.props.size]*n/2}}o1.type="draw";o1.props=Aq;o1.migrations=Nq;function yx(t,e){const n=(e+1)*.5;return`M ${t.x} ${t.y} m -${n}, 0 a ${n},${n} 0 1,0 ${n*2},0 a ${n},${n} 0 1,0 -${n*2},0`}function xx(t){return t.props.segments.length===1&&t.props.segments[0].points.length<2}function Fte(t,e,n={}){const{newPoint:r,handle:s,scaleX:i,scaleY:o}=e,{minWidth:a=1,maxWidth:l=1/0,minHeight:c=1,maxHeight:d=1/0}=n;let h=t.props.w*i,u=t.props.h*o;const p=new I(0,0);if(h>0){if(h<a){switch(s){case"top_left":case"left":case"bottom_left":{p.x=h-a;break}case"top":case"bottom":{p.x=(h-a)/2;break}default:p.x=0}h=a}}else if(p.x=h,h=-h,h<a){switch(s){case"top_left":case"left":case"bottom_left":{p.x=-h;break}default:p.x=-a}h=a}if(u>0){if(u<c){switch(s){case"top_left":case"top":case"top_right":{p.y=u-c;break}case"right":case"left":{p.y=(u-c)/2;break}default:p.y=0}u=c}}else if(p.y=u,u=-u,u<c){switch(s){case"top_left":case"top":case"top_right":{p.y=-u;break}default:p.y=-c}u=c}const{x:y,y:m}=p.rot(t.rotation).add(r);return{x:y,y:m,props:{w:Math.min(l,h),h:Math.min(d,u)}}}const Kte=t=>Object.entries(t).filter(([e,n])=>n).map(([e])=>e).join(" ");class a1 extends ho{constructor(){super(...arguments),this.hideSelectionBoundsFg=e=>!this.canResize(e),this.canEdit=()=>!0,this.canUnmount=e=>{var n,r;return!!((r=(n=Io(e.props.url))==null?void 0:n.definition)!=null&&r.canUnmount)},this.canResize=e=>{var n,r;return!!((r=(n=Io(e.props.url))==null?void 0:n.definition)!=null&&r.doesResize)},this.canEditInReadOnly=()=>!0,this.isAspectRatioLocked=e=>{const n=Io(e.props.url);return(n==null?void 0:n.definition.isAspectRatioLocked)??!1},this.onResize=(e,n)=>{const r=this.isAspectRatioLocked(e),s=Io(e.props.url);let i=(s==null?void 0:s.definition.minWidth)??200,o=(s==null?void 0:s.definition.minHeight)??200;if(r){const a=e.props.w/e.props.h;a>1?i*=a:o/=a}return Fte(e,n,{minWidth:i,minHeight:o})}}getDefaultProps(){return{w:300,h:300,url:""}}component(e){const{w:n,h:r,url:s}=e.props,i=Fy(e.id),o=v.useMemo(()=>iz(s),[s]),a=Q("is hovering",()=>{const{editingShapeId:h,hoveredShapeId:u}=this.editor.getCurrentPageState();if(h&&u!==h){const p=this.editor.getShape(h);if(p&&this.editor.isShapeOfType(p,"embed"))return!0}return!1},[]),l=this.editor.getShapePageTransform(e).rotation(),c=i||a;if((o==null?void 0:o.definition.type)==="github_gist"){const h=o.url.split("/").pop();if(!h)throw Error("No gist id!");return f.jsx(yi,{className:"tl-embed-container",id:e.id,children:f.jsx(Wte,{id:h,width:$(n),height:$(r),isInteractive:c,pageRotation:l})})}const d=Kte({...Tq,...(o==null?void 0:o.definition.overridePermissions)??{}});return f.jsx(yi,{className:"tl-embed-container",id:e.id,children:o!=null&&o.definition?f.jsx("iframe",{className:"tl-embed",sandbox:d,src:o.embedUrl,width:$(n),height:$(r),draggable:!1,frameBorder:"0",referrerPolicy:"no-referrer-when-downgrade",style:{border:0,pointerEvents:c?"auto":"none",zIndex:c?"":"-1",boxShadow:a9(l),borderRadius:(o==null?void 0:o.definition.overrideOutlineRadius)??8,background:o==null?void 0:o.definition.backgroundColor}}):null})}indicator(e){const n=v.useMemo(()=>Io(e.props.url),[e.props.url]);return f.jsx("rect",{width:$(e.props.w),height:$(e.props.h),rx:(n==null?void 0:n.definition.overrideOutlineRadius)??8,ry:(n==null?void 0:n.definition.overrideOutlineRadius)??8})}}a1.type="embed";a1.props=Lq;a1.migrations=Mq;function Wte({id:t,file:e,isInteractive:n,width:r,height:s,style:i,pageRotation:o}){return f.jsx("iframe",{className:"tl-embed",draggable:!1,width:$(r),height:$(s),frameBorder:"0",scrolling:"no",seamless:!0,referrerPolicy:"no-referrer-when-downgrade",style:{...i,pointerEvents:n?"all":"none",zIndex:n?"":"-1",boxShadow:a9(o)},srcDoc:`
			<html>
				<head>
					<base target="_blank">
				</head>
				<body>
					<script src=${`https://gist.github.com/${t}.js${e?`?file=${e}`:""}`}><\/script>
					<style type="text/css">
						* { margin: 0px; }
						table { height: 100%; background-color: red; }
						.gist { background-color: none; height: 100%;  }
						.gist .gist-file { height: calc(100vh - 2px); padding: 0px; display: grid; grid-template-rows: 1fr auto; }
					</style>
				</body>
			</html>`})}const Ute=v.forwardRef(({id:t,name:e,isEditing:n},r)=>{const s=Y(),i=v.useCallback(l=>{l.key==="Enter"&&!l.nativeEvent.isComposing&&(nn(l),l.currentTarget.blur(),s.setEditingShape(null))},[s]),o=v.useCallback(l=>{const c=s.getShape(t);if(!c)return;const d=c.props.name,h=l.currentTarget.value.trim();d!==h&&s.updateShapes([{id:t,type:"frame",props:{name:h}}],{squashing:!0})},[t,s]),a=v.useCallback(l=>{const c=s.getShape(t);if(!c)return;const d=c.props.name,h=l.currentTarget.value;d!==h&&s.updateShapes([{id:t,type:"frame",props:{name:h}}],{squashing:!0})},[t,s]);return f.jsxs("div",{className:`tl-frame-label ${n?"tl-frame-label__editing":""}`,children:[f.jsx("input",{className:"tl-frame-name-input",ref:r,style:{display:n?void 0:"none"},value:e,autoFocus:!0,onKeyDown:i,onBlur:o,onChange:a}),Sz(e,"Frame")+String.fromCharCode(8203)]})}),Vte=function({id:e,name:n,width:r,height:s}){const i=Y(),o=Q("shape rotation",()=>hi(i.getShapePageTransform(e).rotation()),[i,e]),a=Fy(e),l=v.useRef(null),c=v.useCallback(y=>{const m=Lr(y);i.getEditingShapeId()!==e&&(i.dispatch({type:"pointer",name:"pointer_down",target:"shape",shape:i.getShape(e),...m}),y.preventDefault())},[i,e]);v.useEffect(()=>{const y=l.current;y&&a&&(y.focus(),y.select(),requestAnimationFrame(()=>{document.activeElement!==y&&(y.focus(),y.select())}))},[l,a]);const h=((o+Math.PI/4)*(2/Math.PI)+4)%4,u=["top","left","bottom","right"][Math.floor(h)];let p;switch(u){case"top":p="";break;case"right":p=`translate(${$(r)}px, 0px) rotate(90deg)`;break;case"bottom":p=`translate(${$(r)}px, ${$(s)}px) rotate(180deg)`;break;case"left":p=`translate(0px, ${$(s)}px) rotate(270deg)`;break}return f.jsx("div",{className:"tl-frame-heading",style:{overflow:a?"visible":"hidden",maxWidth:`calc(var(--tl-zoom) * ${Math.ceil(u==="top"||u==="bottom"?r:s)}px + var(--space-5))`,bottom:"100%",transform:`${p} scale(var(--tl-scale)) translateX(calc(-1 * var(--space-3))`},onPointerDown:c,children:f.jsx("div",{className:"tl-frame-heading-hit-area",children:f.jsx(Ute,{ref:l,id:e,name:n,isEditing:a})})})};function Sz(t,e){return t.match(/^\s*$/)?e:t}class l1 extends ho{constructor(){super(...arguments),this.canBind=()=>!0,this.canEdit=()=>!0,this.canReceiveNewChildrenOfType=(e,n)=>!e.isLocked,this.canDropShapes=(e,n)=>!e.isLocked,this.onDragShapesOver=(e,n)=>n.every(r=>r.parentId===e.id)?{shouldHint:!1}:(this.editor.reparentShapes(n.map(r=>r.id),e.id),{shouldHint:!0}),this.onDragShapesOut=(e,n)=>{const r=this.editor.getShape(e.parentId);r&&this.editor.isShapeOfType(r,"group")?this.editor.reparentShapes(n,r.id):this.editor.reparentShapes(n,this.editor.getCurrentPageId())},this.onResizeEnd=e=>{const n=this.editor.getShapePageBounds(e),r=this.editor.getSortedChildIdsForParent(e.id),s=[];for(const i of r){const o=this.editor.getShapePageBounds(i);n.includes(o)||s.push(i)}s.length>0&&this.editor.reparentShapes(s,this.editor.getCurrentPageId())},this.onResize=(e,n)=>TS(e,n)}getDefaultProps(){return{w:160*2,h:90*2,name:""}}getGeometry(e){return new Oo({width:e.props.w,height:e.props.h,isFilled:!1})}component(e){const n=this.editor.getShapeGeometry(e).bounds,r=Cn(),s=Q("is creating this shape",()=>{var a;const i=this.editor.getStateDescendant("select.resizing");if(!i||!i.getIsActive())return!1;const o=i==null?void 0:i.info;return o?o.isCreating&&((a=this.editor.getOnlySelectedShape())==null?void 0:a.id)===e.id:!1},[e.id]);return f.jsxs(f.Fragment,{children:[f.jsx(ns,{children:f.jsx("rect",{className:ue("tl-frame__body",{"tl-frame__creating":s}),width:n.width,height:n.height,fill:r.solid,stroke:r.text})}),s?null:f.jsx(Vte,{id:e.id,name:e.props.name,width:n.width,height:n.height})]})}toSvg(e){const n=pr({isDarkMode:this.editor.user.getIsDarkMode()}),r=document.createElementNS("http://www.w3.org/2000/svg","g"),s=document.createElementNS("http://www.w3.org/2000/svg","rect");s.setAttribute("width",e.props.w.toString()),s.setAttribute("height",e.props.h.toString()),s.setAttribute("fill",n.solid),s.setAttribute("stroke",n.black.solid),s.setAttribute("stroke-width","1"),s.setAttribute("rx","1"),s.setAttribute("ry","1"),r.appendChild(s);const a=((hi(this.editor.getShapePageTransform(e.id).rotation())+Math.PI/4)*(2/Math.PI)+4)%4,l=["top","left","bottom","right"][Math.floor(a)];let c;switch(l){case"top":c="";break;case"right":c=`translate(${$(e.props.w)}px, 0px) rotate(90deg)`;break;case"bottom":c=`translate(${$(e.props.w)}px, ${$(e.props.h)}px) rotate(180deg)`;break;case"left":c=`translate(0px, ${$(e.props.h)}px) rotate(270deg)`;break;default:c=""}const d={fontSize:12,fontFamily:"Inter, sans-serif",textAlign:"start",width:e.props.w,height:32,padding:0,lineHeight:1,fontStyle:"normal",fontWeight:"normal",overflow:"truncate-ellipsis",verticalTextAlign:"middle"},h=this.editor.textMeasure.measureTextSpans(Sz(e.props.name,"Frame")+String.fromCharCode(8203),d),u=h[0],p=wr(h),y=p.box.w+p.box.x-u.box.x,m=n1(this.editor,h,{offsetY:-d.height-2,...d});m.style.setProperty("transform",c);const w=document.createElementNS("http://www.w3.org/2000/svg","rect");return w.setAttribute("x","-8px"),w.setAttribute("y",-d.height-4+"px"),w.setAttribute("width",y+16+"px"),w.setAttribute("height",`${d.height}px`),w.setAttribute("rx","4px"),w.setAttribute("ry","4px"),w.setAttribute("fill",n.background),r.appendChild(w),r.appendChild(m),r}indicator(e){const n=this.editor.getShapeGeometry(e).bounds;return f.jsx("rect",{width:$(n.width),height:$(n.height),className:"tl-frame-indicator"})}providesBackgroundForChildren(){return!0}}l1.type="frame";l1.props=jq;l1.migrations=Rq;function Xte(t,e,n,r){if((t==="start-legacy"||t==="end-legacy")&&n.length!==0){const s=fe.From(n[0].box);for(const{box:i}of n)s.union(i);if(t==="start-legacy")return(r-2*e-s.width)/2;if(t==="end-legacy")return-(r-2*e-s.width)/2}}function Yte(t){return t==="start-legacy"||t==="middle-legacy"||t==="end-legacy"}const bz=ie.memo(function({id:e,type:n,text:r,size:s,labelColor:i,font:o,align:a,verticalAlign:l,wrap:c,bounds:d}){const{rInput:h,isEmpty:u,isEditing:p,handleFocus:y,handleChange:m,handleKeyDown:w,handleBlur:S,handleInputPointerDown:b,handleDoubleClick:g}=o9(e,n,r),x=Wd.normalizeTextForDom(r),k=x.length>0,C=Yte(a),_=Cn();return!p&&!k?null:f.jsx("div",{className:"tl-text-label","data-font":o,"data-align":a,"data-hastext":!u,"data-isediting":p,"data-textwrap":!!c,style:{justifyContent:a==="middle"||C?"center":a,alignItems:l==="middle"?"center":l,...d?{top:d.minY,left:d.minX,width:d.width,height:d.height,position:"absolute"}:{}},children:f.jsxs("div",{className:"tl-text-label__inner",style:{fontSize:ah[s],lineHeight:ah[s]*Dn.lineHeight+"px",minHeight:Dn.lineHeight+32,minWidth:0,color:_[i].solid},children:[f.jsx("div",{className:"tl-text tl-text-content",dir:"ltr",children:x}),p&&f.jsx("textarea",{ref:h,className:"tl-text tl-text-input",name:"text",tabIndex:-1,autoComplete:"false",autoCapitalize:"false",autoCorrect:"false",autoSave:"false",autoFocus:!0,placeholder:"",spellCheck:"true",wrap:"off",dir:"auto",datatype:"wysiwyg",defaultValue:r,onFocus:y,onChange:m,onKeyDown:w,onBlur:S,onContextMenu:nn,onPointerDown:b,onDoubleClick:g})]})})});function vz({bounds:t,editor:e,font:n,shape:r}){const i={fontSize:ah[r.props.size],fontFamily:n,textAlign:r.props.align,verticalTextAlign:r.props.verticalAlign,width:Math.ceil(t.width),height:Math.ceil(t.height),padding:16,lineHeight:Dn.lineHeight,fontStyle:"normal",fontWeight:"normal",overflow:"wrap",offsetX:0},o=e.textMeasure.measureTextSpans(r.props.text,i),a=Xte(r.props.align,16,o,t.width);return a&&(i.offsetX=a),n1(e,o,i)}function Hn(t){return`${$(t.x)},${$(t.y)} `}function kz(t=""){let e=0,n=0,r=0,s=0;function i(){const o=e^e<<11;return e=n,n=r,r=s,s^=(s>>>19^o^o>>>8)>>>0,s/4294967296*2}for(let o=0;o<t.length+64;o++)e^=t.charCodeAt(o)|0,i();return i}function Ep(t){let e="M";const n=t.length;let r,s,i;for(let o=0,a=n;o<a;o+=3)r=t[o],s=t[o+1],i=t[o+2],e+=`${Hn(r)}L${Hn(s)}Q${Hn(i)}`;return e+=`${Hn(t[0])}`,e}function Ip(t,e,n,r,s){const i=[],o=kz(t);let a=e[0],l;const c=e.length;for(let d=0,h=c*s;d<h;d++){l=I.AddXY(e[(d+1)%c],o()*n,o()*n);const u=I.Sub(l,a),p=I.Len(u),y=I.Div(u,p).mul(Math.min(p/4,r));i.push(I.Add(a,y),I.Add(l,y.neg()),l),a=l}return i}function wx(t,e,n){let r=`M ${Hn(e[0])}L`,s=`M ${Hn(e[0])}L`;const i=n/3,o=n*2,a=kz(t);let l=e[0],c,d=e[0],h;const u=e.length;for(let p=0,y=u-1;p<y;p++){c=e[p+1],h=I.AddXY(e[p+1],a()*i,a()*i);const m=I.Sub(c,l),w=I.Len(m),S=I.Div(m,w).mul(Math.min(w/4,o)),b=I.Add(l,S),g=I.Add(c,S.neg()),x=I.Sub(h,d),k=I.Len(x),C=I.Div(x,k).mul(Math.min(k/4,o)),_=I.Add(d,C),E=I.Add(h,C.neg());p===y-1?(r+=`${Hn(b)}L ${Hn(c)}`,s+=`${Hn(_)}L ${Hn(h)}`):(r+=`${Hn(b)}L ${Hn(g)}Q ${Hn(c)}`,s+=`${Hn(_)}L ${Hn(E)}Q ${Hn(h)}`,l=c,d=h)}return[r,r+s]}function S4(t,e){const n=Math.min(t,e)/2,r=Math.max(t,e)-n*2;return Math.PI*(n*2)+2*r}function Hte(t,e,n){const r=Math.min(t,e)/2,s=Math.max(t,e)-r*2,o=(Math.PI*(r*2)+2*s)/n,a=t>e?[{type:"straight",start:new I(r,0),delta:new I(1,0)},{type:"arc",center:new I(t-r,r),startAngle:-et/2},{type:"straight",start:new I(t-r,e),delta:new I(-1,0)},{type:"arc",center:new I(r,r),startAngle:et/2}]:[{type:"straight",start:new I(t,r),delta:new I(0,1)},{type:"arc",center:new I(r,e-r),startAngle:0},{type:"straight",start:new I(0,e-r),delta:new I(0,-1)},{type:"arc",center:new I(r,r),startAngle:et}];let l=0;const c=[];for(let d=0;d<n;d++){const h=a[0];h.type==="straight"?c.push(I.Add(h.start,I.Mul(h.delta,l))):c.push(WE(h.center.x,h.center.y,r,h.startAngle+l/r)),l+=o;let u=h.type==="straight"?s:et*r;for(;l>u;)l-=u,a.push(a.shift()),u=a[0].type==="straight"?s:et*r}return c}const Gte=(t,e,n,r,s)=>{switch(t){case"s":return e;case"m":return n;case"l":return r;case"xl":return s}};function Af(t,e,n,r){const s=Na(n),i=S4(t,e),o=Math.max(Math.ceil(i/Gte(r,50,70,100,130)),6,Math.ceil(i/Math.min(t,e))),a=i/o*.2,l=Math.max(t-a*2,1),c=Math.max(e-a*2,1),d=(t-l)/2,h=(e-c)/2,u=S4(l,c)/o,p=Hte(l,c,o).map(b=>b.addXY(d,h)),y=t<20?0:a*.3,m=e<20?0:a*.3,w=p.slice(0);for(let b=0;b<Math.floor(o/2);b++)w[b]=I.AddXY(w[b],s()*y,s()*m),w[o-b-1]=I.AddXY(w[o-b-1],s()*y,s()*m);const S=[];for(let b=0;b<w.length;b++){const g=b===w.length-1?0:b+1,x=w[b],k=w[g],C=p[b],_=p[g],E=I.Average([C,_]),z=I.Angle(C,_)-Math.PI/2,P=I.Dist(C,_),A=u-P,L=I.Dist(x,k)/P,M=(Math.max(d,h)+A)*L,q=I.Add(E,I.FromAngle(z,M));q.x<0?q.x=0:q.x>t&&(q.x=t),q.y<0?q.y=0:q.y>e&&(q.y=e);const D=Cz(x,k,q),X=I.Dist(D||I.Average([x,k]),x);S.push({leftPoint:x,rightPoint:k,arcPoint:q,center:D,radius:X})}return S}function Cz(t,e,n){const r=t.x*(e.y-n.y)-t.y*(e.x-n.x)+e.x*n.y-n.x*e.y,s=(t.x*t.x+t.y*t.y)*(n.y-e.y)+(e.x*e.x+e.y*e.y)*(t.y-n.y)+(n.x*n.x+n.y*n.y)*(e.y-t.y),i=(t.x*t.x+t.y*t.y)*(e.x-n.x)+(e.x*e.x+e.y*e.y)*(n.x-t.x)+(n.x*n.x+n.y*n.y)*(t.x-e.x),o=-s/(2*r),a=-i/(2*r);return!Number.isFinite(o)||!Number.isFinite(a)?null:new I(o,a)}function Zte(t,e,n,r){const s=[],i=Af(t,e,n,r);for(const{center:o,radius:a,leftPoint:l,rightPoint:c}of i)s.push(...Qte(l,c,o,a,10));return s}function Nf(t,e,n,r){const s=Af(t,e,n,r);let i=`M${$(s[0].leftPoint.x)},${$(s[0].leftPoint.y)}`;for(const{leftPoint:o,rightPoint:a,radius:l,center:c}of s){if(c===null){i+=` L${$(a.x)},${$(a.y)}`;continue}const d=Ez(o,a,c)?"0":"1";i+=` A${$(l)},${$(l)} 0 ${d},1 ${$(a.x)},${$(a.y)}`}return i+=" Z",i}function _z(t,e,n,r){const s=Na(n),i=r==="s"?.5:r==="m"?.7:r==="l"?.9:1.6,o=y=>y+s()*i*2,a=Af(t,e,n,r),d=a.reduce((y,m)=>y+I.Dist(m.leftPoint,m.rightPoint),0)/a.length>i*15?y=>new I(o(y.x),o(y.y)):y=>y;let h=`M${$(a[0].leftPoint.x)},${$(a[0].leftPoint.y)}`,u=d(a[0].leftPoint),p=`M${$(u.x)},${$(u.y)}`;for(const{leftPoint:y,center:m,rightPoint:w,radius:S,arcPoint:b}of a){if(m===null){h+=` L${$(w.x)},${$(w.y)}`;const E=d(w);p+=` L${$(E.x)},${$(E.y)}`,u=E;continue}const g=Ez(y,w,m)?"0":"1";h+=` A${$(S)},${$(S)} 0 ${g},1 ${$(w.x)},${$(w.y)}`;const x=d(w),k=d(b),C=Cz(u,x,k);if(!C){p+=` L${$(x.x)},${$(x.y)}`,u=x;continue}const _=Math.abs(I.Dist(C,u));p+=` A${$(_)},${$(_)} 0 ${g},1 ${$(x.x)},${$(x.y)}`,u=x}return h+p+" Z"}function Qte(t,e,n,r,s){if(n===null)return[I.From(t),I.From(e)];const i=[],o=I.Angle(n,t),a=I.Angle(n,e),l=Ty(o,a);for(let c=0;c<s;c++){const d=c/(s-1),h=o+l*d,u=WE(n.x,n.y,r,h);i.push(u)}return i}function Ez(t,e,n){return(e.x-t.x)*(n.y-t.y)-(e.y-t.y)*(n.x-t.x)>0}const Jte=v.memo(function({dash:e,fill:n,color:r,strokeWidth:s,w:i,h:o,id:a,size:l}){const c=Cn(),d=Nf(i,o,a,l),h=Af(i,o,a,l);return f.jsxs(f.Fragment,{children:[f.jsx(on,{theme:c,d,fill:n,color:r}),f.jsx("g",{strokeWidth:s,stroke:c[r].solid,fill:"none",pointerEvents:"all",children:h.map(({leftPoint:u,rightPoint:p,center:y,radius:m},w)=>{const S=y?m*hi(hi(I.Angle(y,p))-hi(I.Angle(y,u))):I.Dist(u,p),{strokeDasharray:b,strokeDashoffset:g}=hr(S,s,{style:e,start:"outset",end:"outset"});return f.jsx("path",{d:y?`M${u.x},${u.y}A${m},${m},0,0,1,${p.x},${p.y}`:`M${u.x},${u.y}L${p.x},${p.y}`,strokeDasharray:b,strokeDashoffset:g},w)})})]})});function ene({dash:t,fill:e,color:n,theme:r,strokeWidth:s,w:i,h:o,id:a,size:l}){const c=Nf(i,o,a,l),d=Af(i,o,a,l),h=document.createElementNS("http://www.w3.org/2000/svg","g");h.setAttribute("stroke-width",s.toString()),h.setAttribute("stroke",r[n].solid),h.setAttribute("fill","none");for(const{leftPoint:p,rightPoint:y,center:m,radius:w}of d){const S=m?w*hi(hi(I.Angle(m,y))-hi(I.Angle(m,p))):I.Dist(p,y),{strokeDasharray:b,strokeDashoffset:g}=hr(S,s,{style:t,start:"outset",end:"outset"}),x=document.createElementNS("http://www.w3.org/2000/svg","path");x.setAttribute("d",m?`M${p.x},${p.y}A${w},${w},0,0,1,${y.x},${y.y}`:`M${p.x},${p.y}L${y.x},${y.y}`),x.setAttribute("stroke-dasharray",b.toString()),x.setAttribute("stroke-dashoffset",g.toString()),h.appendChild(x)}const u=ys({d:c,fill:e,color:n,theme:r});return Si(h,u)}const tne=v.memo(function({w:e,h:n,strokeWidth:r,dash:s,color:i,fill:o}){const a=Cn(),l=e/2,c=n/2,d=Math.max(0,l),h=Math.max(0,c),u=Sp(d,h),{strokeDasharray:p,strokeDashoffset:y}=hr(u<64?u*2:u,r,{style:s,snap:4,closed:!0}),m=`M${l-d},${c}a${d},${h},0,1,1,${d*2},0a${d},${h},0,1,1,-${d*2},0`;return f.jsxs(f.Fragment,{children:[f.jsx(on,{theme:a,d:m,color:i,fill:o}),f.jsx("path",{d:m,strokeWidth:r,width:$(e),height:$(n),fill:"none",stroke:a[i].solid,strokeDasharray:p,strokeDashoffset:y,pointerEvents:"all"})]})});function nne({w:t,h:e,strokeWidth:n,dash:r,color:s,theme:i,fill:o}){const a=t/2,l=e/2,c=Math.max(0,a-n/2),d=Math.max(0,l-n/2),h=Sp(c,d),{strokeDasharray:u,strokeDashoffset:p}=hr(h<64?h*2:h,n,{style:r,snap:4,closed:!0}),y=`M${a-c},${l}a${c},${d},0,1,1,${c*2},0a${c},${d},0,1,1,-${c*2},0`,m=document.createElementNS("http://www.w3.org/2000/svg","path");m.setAttribute("d",y),m.setAttribute("stroke-width",n.toString()),m.setAttribute("width",t.toString()),m.setAttribute("height",e.toString()),m.setAttribute("fill","none"),m.setAttribute("stroke",i[s].solid),m.setAttribute("stroke-dasharray",u),m.setAttribute("stroke-dashoffset",p);const w=ys({d:y,fill:o,color:s,theme:i});return Si(m,w)}function Iz(t,e){if(e>t){const r=t/2;return`
    M0,${r}
    a${r},${r},0,1,1,${r*2},0
    L${t},${e-r}
    a${r},${r},0,1,1,-${r*2},0
    Z`}const n=e/2;return`
    M${n},0
    L${t-n},0
    a${n},${n},0,1,1,0,${n*2}
    L${n},${e}
    a${n},${n},0,1,1,0,${-n*2}
    Z`}function Pz(t,e){if(t>e){const r=e/2;return Sp(r,r)+(t-r*2)*2}const n=t/2;return Sp(n,n)+(e-n*2)*2}const rne=v.memo(function({w:e,h:n,strokeWidth:r,dash:s,color:i,fill:o}){const a=Cn(),l=Iz(e,n),c=Pz(e,n),{strokeDasharray:d,strokeDashoffset:h}=hr(c<64?c*2:c,r,{style:s,snap:4,start:"outset",end:"outset",closed:!0});return f.jsxs(f.Fragment,{children:[f.jsx(on,{theme:a,d:l,color:i,fill:o}),f.jsx("path",{d:l,strokeWidth:r,width:$(e),height:$(n),fill:"none",stroke:a[i].solid,strokeDasharray:d,strokeDashoffset:h,pointerEvents:"all"})]})});function b4({w:t,h:e,strokeWidth:n,dash:r,color:s,theme:i,fill:o}){const a=Iz(t,e),l=Pz(t,e),{strokeDasharray:c,strokeDashoffset:d}=hr(l<64?l*2:l,n,{style:r,snap:4,closed:!0}),h=document.createElementNS("http://www.w3.org/2000/svg","path");h.setAttribute("d",a),h.setAttribute("stroke-width",n.toString()),h.setAttribute("width",t.toString()),h.setAttribute("height",e.toString()),h.setAttribute("fill","none"),h.setAttribute("stroke",i[s].solid),h.setAttribute("stroke-dasharray",c),h.setAttribute("stroke-dashoffset",d);const u=ys({d:a,fill:o,color:s,theme:i});return Si(h,u)}const sne=v.memo(function({dash:e,fill:n,color:r,strokeWidth:s,outline:i,lines:o}){const a=Cn(),l="M"+i[0]+"L"+i.slice(1)+"Z";return f.jsxs(f.Fragment,{children:[f.jsx(on,{theme:a,d:l,fill:n,color:r}),f.jsxs("g",{strokeWidth:s,stroke:a[r].solid,fill:"none",pointerEvents:"all",children:[Array.from(Array(i.length)).map((c,d)=>{const h=i[d],u=i[(d+1)%i.length],p=I.Dist(h,u),{strokeDasharray:y,strokeDashoffset:m}=hr(p,s,{style:e,start:"outset",end:"outset"});return f.jsx("line",{x1:h.x,y1:h.y,x2:u.x,y2:u.y,strokeDasharray:y,strokeDashoffset:m},d)}),o&&o.map(([c,d],h)=>{const u=I.Dist(c,d),{strokeDasharray:p,strokeDashoffset:y}=hr(u,s,{style:e,start:"skip",end:"outset",snap:e==="dotted"?4:void 0});return f.jsx("path",{d:`M${c.x},${c.y}L${d.x},${d.y}`,stroke:a[r].solid,strokeWidth:s,fill:"none",strokeDasharray:p,strokeDashoffset:y},`line_fg_${h}`)})]})]})});function ine({dash:t,fill:e,color:n,theme:r,strokeWidth:s,outline:i,lines:o}){const a=document.createElementNS("http://www.w3.org/2000/svg","g");if(a.setAttribute("stroke-width",s.toString()),a.setAttribute("stroke",r[n].solid),a.setAttribute("fill","none"),Array.from(Array(i.length)).forEach((c,d)=>{const h=i[d],u=i[(d+1)%i.length],p=I.Dist(h,u),{strokeDasharray:y,strokeDashoffset:m}=hr(p,s,{style:t}),w=document.createElementNS("http://www.w3.org/2000/svg","line");w.setAttribute("x1",h.x.toString()),w.setAttribute("y1",h.y.toString()),w.setAttribute("x2",u.x.toString()),w.setAttribute("y2",u.y.toString()),w.setAttribute("stroke-dasharray",y.toString()),w.setAttribute("stroke-dashoffset",m.toString()),a.appendChild(w)}),o)for(const[c,d]of o){const h=I.Dist(c,d),{strokeDasharray:u,strokeDashoffset:p}=hr(h,s,{style:t,start:"skip",end:"skip",snap:t==="dotted"?4:2}),y=document.createElementNS("http://www.w3.org/2000/svg","line");y.setAttribute("x1",c.x.toString()),y.setAttribute("y1",c.y.toString()),y.setAttribute("x2",d.x.toString()),y.setAttribute("y2",d.y.toString()),y.setAttribute("stroke-dasharray",u.toString()),y.setAttribute("stroke-dashoffset",p.toString()),a.appendChild(y)}const l=ys({d:"M"+i[0]+"L"+i.slice(1)+"Z",fill:e,color:n,theme:r});return Si(a,l)}const one=v.memo(function({fill:e,color:n,strokeWidth:r,w:s,h:i,id:o,size:a}){const l=Cn(),c=_z(s,i,o,a);return f.jsxs(f.Fragment,{children:[f.jsx(on,{theme:l,d:c,fill:e,color:n}),f.jsx("path",{d:c,stroke:l[n].solid,strokeWidth:r,fill:"none"})]})});function ane({fill:t,color:e,strokeWidth:n,theme:r,w:s,h:i,id:o,size:a}){const l=_z(s,i,o,a),c=document.createElementNS("http://www.w3.org/2000/svg","path");c.setAttribute("d",l),c.setAttribute("stroke-width",n.toString()),c.setAttribute("stroke",r[e].solid),c.setAttribute("fill","none");const d=ys({d:l,fill:t,color:e,theme:r});return Si(c,d)}v.memo(function({id:e,w:n,h:r,strokeWidth:s,fill:i,color:o}){const a=Cn(),l=l9(e,n,r,s),c=Nz(e,n,r,s);return f.jsxs(f.Fragment,{children:[f.jsx(on,{theme:a,d:l,color:o,fill:i}),f.jsx("path",{d:c,fill:a[o].solid,strokeWidth:0,pointerEvents:"all"})]})});function lne({id:t,w:e,h:n,strokeWidth:r,fill:s,color:i,theme:o}){const a=document.createElementNS("http://www.w3.org/2000/svg","path");a.setAttribute("d",Nz(t,e,n,r)),a.setAttribute("fill",o[i].solid);const l=ys({d:l9(t,e,n,r),fill:s,color:i,theme:o});return Si(a,l)}function zz(t){return{size:1+t,thinning:.25,end:{taper:t},start:{taper:t},streamline:0,smoothing:1,simulatePressure:!1}}function Az(t,e,n,r){const s=Na(t),i=e/2,o=n/2,a=Sp(i,o),l=[],c=nt*s(),d=nt+tt/2+Math.abs(s())*tt,h=Math.max(16,a/10);for(let u=0;u<h;u++){const p=u/(h-1),y=c+p*d,m=Math.cos(y),w=Math.sin(y);l.push(new I(i*m+e*.5+.05*s(),o*w+n/2+.05*s(),Math.min(1,.5+Math.abs(.5-(s()>0?dr.easeInOutSine(p):dr.easeInExpo(p)))/2)))}return ai(l,zz(r))}function Nz(t,e,n,r){const s=zz(r);return wf(Pf(Th(Az(t,e,n,r),s),s))}function l9(t,e,n,r){return Ea(Az(t,e,n,r))}const cne=v.memo(function({id:e,outline:n,lines:r,fill:s,color:i,strokeWidth:o}){const a=Cn(),l=Ip(e,n,o/3,o*2,2);let c=Ep(l);if(r)for(const[u,p]of r)c+=`M${u.x},${u.y}L${p.x},${p.y}`;const d=Ip(e,n,0,o*2,1),h=Ep(d);return f.jsxs(f.Fragment,{children:[f.jsx(on,{d:h,fill:s,color:i,theme:a}),f.jsx("path",{d:c,stroke:a[i].solid,strokeWidth:o,fill:"none"})]})});function dne({id:t,outline:e,lines:n,fill:r,color:s,theme:i,strokeWidth:o}){const a=Ip(t,e,o/3,o*2,2);let l=Ep(a);if(n)for(const[p,y]of n)l+=`M${p.x},${p.y}L${y.x},${y.y}`;const c=Ip(t,e,0,o*2,1),d=Ep(c),h=document.createElementNS("http://www.w3.org/2000/svg","path");h.setAttribute("d",l),h.setAttribute("fill","none"),h.setAttribute("stroke",i[s].solid),h.setAttribute("stroke-width",o.toString());const u=ys({d,fill:r,color:s,theme:i});return Si(h,u)}const hne=v.memo(function({fill:e,color:n,strokeWidth:r,w:s,h:i,id:o,size:a}){const l=Cn(),c=Nf(s,i,o,a);return f.jsxs(f.Fragment,{children:[f.jsx(on,{theme:l,d:c,fill:e,color:n}),f.jsx("path",{d:c,stroke:l[n].solid,strokeWidth:r,fill:"none"})]})});function une({fill:t,color:e,strokeWidth:n,theme:r,w:s,h:i,id:o,size:a}){const l=Nf(s,i,o,a),c=document.createElementNS("http://www.w3.org/2000/svg","path");c.setAttribute("d",l),c.setAttribute("stroke-width",n.toString()),c.setAttribute("stroke",r[e].solid),c.setAttribute("fill","none");const d=ys({d:l,fill:t,color:e,theme:r});return Si(c,d)}const v4=v.memo(function({w:e,h:n,strokeWidth:r,fill:s,color:i}){const o=Cn(),a=e/2,l=n/2,c=Math.max(0,a),d=Math.max(0,l),h=`M${a-c},${l}a${c},${d},0,1,1,${c*2},0a${c},${d},0,1,1,-${c*2},0`;return f.jsxs(f.Fragment,{children:[f.jsx(on,{d:h,color:i,fill:s,theme:o}),f.jsx("path",{d:h,stroke:o[i].solid,strokeWidth:r,fill:"none"})]})});function pne({w:t,h:e,strokeWidth:n,fill:r,color:s,theme:i}){const o=t/2,a=e/2,l=Math.max(0,o),c=Math.max(0,a),d=`M${o-l},${a}a${l},${c},0,1,1,${l*2},0a${l},${c},0,1,1,-${l*2},0`,h=document.createElementNS("http://www.w3.org/2000/svg","path");h.setAttribute("d",d),h.setAttribute("stroke-width",n.toString()),h.setAttribute("width",t.toString()),h.setAttribute("height",e.toString()),h.setAttribute("fill","none"),h.setAttribute("stroke",i[s].solid);const u=ys({d,fill:r,color:s,theme:i});return Si(h,u)}const k4=v.memo(function({w:e,h:n,strokeWidth:r,fill:s,color:i}){const o=Cn(),a=c9(e,n);return f.jsxs(f.Fragment,{children:[f.jsx(on,{d:a,color:i,fill:s,theme:o}),f.jsx("path",{d:a,stroke:o[i].solid,strokeWidth:r,fill:"none"})]})});function fne({w:t,h:e,strokeWidth:n,fill:r,color:s,theme:i}){const o=c9(t,e),a=document.createElementNS("http://www.w3.org/2000/svg","path");a.setAttribute("d",o),a.setAttribute("stroke-width",n.toString()),a.setAttribute("width",t.toString()),a.setAttribute("height",e.toString()),a.setAttribute("fill","none"),a.setAttribute("stroke",i[s].solid);const l=ys({d:o,fill:r,color:s,theme:i});return Si(a,l)}function c9(t,e){let n;if(e>t){const r=t/2;n=`
    M0,${r}
    a${r},${r},0,1,1,${r*2},0
    L${t},${e-r}
    a${r},${r},0,1,1,-${r*2},0
    Z`}else{const r=e/2;n=`
    M${r},0
    L${t-r},0
    a${r},${r},0,1,1,0,${r*2}
    L${r},${e}
    a${r},${r},0,1,1,0,${-r*2}
    Z`}return n}const gne=v.memo(function({outline:e,lines:n,fill:r,color:s,strokeWidth:i}){const o=Cn();let a="M"+e[0]+"L"+e.slice(1)+"Z";if(n)for(const[l,c]of n)a+=`M${l.x},${l.y}L${c.x},${c.y}`;return f.jsxs(f.Fragment,{children:[f.jsx(on,{d:a,fill:r,color:s,theme:o}),f.jsx("path",{d:a,stroke:o[s].solid,strokeWidth:i,fill:"none"})]})});function mne({outline:t,lines:e,fill:n,color:r,strokeWidth:s,theme:i}){const o="M"+t[0]+"L"+t.slice(1)+"Z",a=o;let l=o;if(e)for(const[h,u]of e)l+=`M${h.x},${h.y}L${u.x},${u.y}`;const c=document.createElementNS("http://www.w3.org/2000/svg","path");c.setAttribute("d",l),c.setAttribute("stroke-width",s.toString()),c.setAttribute("stroke",i[r].solid),c.setAttribute("fill","none");const d=ys({d:a,fill:n,color:r,theme:i});return Si(c,d)}const Sx=16,Is=17*3;class c1 extends ho{constructor(){super(...arguments),this.canEdit=()=>!0,this.onEditEnd=e=>{const{id:n,type:r,props:{text:s}}=e;s.trimEnd()!==e.props.text&&this.editor.updateShapes([{id:n,type:r,props:{text:s.trimEnd()}}])},this.onResize=(e,{handle:n,newPoint:r,scaleX:s,scaleY:i,initialShape:o})=>{let a=o.props.w*s,l=(o.props.h+o.props.growY)*i,c=0,d=0;if(e.props.text.trim()){let y=Math.max(Math.abs(a),Is),m=Math.max(Math.abs(l),Is);y<Is&&m===Is&&(y=Is),y===Is&&m<Is&&(m=Is);const w=Ig(this.editor,{...e,props:{...e.props,w:y,h:m}}),S=Math.max(Math.abs(a),w.w)*Math.sign(a),b=Math.max(Math.abs(l),w.h)*Math.sign(l);c=Math.abs(S)-Math.abs(a),d=Math.abs(b)-Math.abs(l),a=S,l=b}const h=new I(0,0);s<0&&(h.x+=a),(n==="left"||n==="top_left"||n==="bottom_left")&&(h.x+=s<0?c:-c),i<0&&(h.y+=l),(n==="top"||n==="top_left"||n==="top_right")&&(h.y+=i<0?d:-d);const{x:u,y:p}=h.rot(e.rotation).add(r);return{x:u,y:p,props:{w:Math.max(Math.abs(a),1),h:Math.max(Math.abs(l),1),growY:0}}},this.onBeforeCreate=e=>{if(!e.props.text)return e.props.growY?{...e,props:{...e.props,growY:0}}:void 0;const n=e.props.h,r=Ig(this.editor,e).h;let s=null;if(r>n?s=r-n:e.props.growY&&(s=0),s!==null)return{...e,props:{...e.props,growY:s}}},this.onBeforeUpdate=(e,n)=>{const r=e.props.text,s=n.props.text;if(r===s&&e.props.font===n.props.font&&e.props.size===n.props.size)return;if(r&&!s)return{...n,props:{...n.props,growY:0}};const i=e.props.w,o=e.props.h,a=Ig(this.editor,n),l=a.w,c=a.h;if(!r&&s&&s.length===1){let h=Math.max(i,l),u=Math.max(o,c);return e.props.w<Is&&e.props.h<Is&&(h=Math.max(h,Is),u=Math.max(u,Is),h=Math.max(h,u),u=Math.max(h,u)),{...n,props:{...n.props,w:h,h:u,growY:0}}}let d=null;if(c>o?d=c-o:e.props.growY&&(d=0),d!==null)return{...n,props:{...n.props,growY:d,w:Math.max(n.props.w,l)}};if(l>e.props.w)return{...n,props:{...n.props,w:l}}},this.onDoubleClick=e=>{if(this.editor.inputs.altKey)switch(e.props.geo){case"rectangle":return{...e,props:{geo:"check-box"}};case"check-box":return{...e,props:{geo:"rectangle"}}}}}getDefaultProps(){return{w:100,h:100,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:""}}getGeometry(e){const n=Math.max(1,e.props.w),r=Math.max(1,e.props.h+e.props.growY),s=n/2,i=r/2,o=or[e.props.size],a=e.props.fill!=="none";let l;switch(e.props.geo){case"cloud":{l=new mn({points:Zte(n,r,e.id,e.props.size),isFilled:a});break}case"triangle":{l=new mn({points:[new I(s,0),new I(n,r),new I(0,r)],isFilled:a});break}case"diamond":{l=new mn({points:[new I(s,0),new I(n,i),new I(s,r),new I(0,i)],isFilled:a});break}case"pentagon":{l=new mn({points:A2(n,r,5),isFilled:a});break}case"hexagon":{l=new mn({points:A2(n,r,6),isFilled:a});break}case"octagon":{l=new mn({points:A2(n,r,8),isFilled:a});break}case"ellipse":{l=new eP({width:n,height:r,isFilled:a});break}case"oval":{l=new WX({width:n,height:r,isFilled:a});break}case"star":{const m=nt/5/2,w=Math.floor(5/4)*2,S=5*2-w,b=0,g=Math.floor(5/2)*2,x=Math.cos(-tt+w*m)*n/2,k=Math.cos(-tt+S*m)*n/2,C=Math.sin(-tt+b*m)*r/2,_=Math.sin(-tt+g*m)*r/2,E=n-Math.abs(x-k),z=r-Math.abs(_-C),P=n/2+k-(n/2-x),A=r/2+C-(r/2-_),N=1,L=(n-P)/2,M=(r-A)/2,q=(n+E)/2,D=(r+z)/2,X=q*N/2,O=D*N/2;l=new mn({points:Array.from(Array(5*2)).map((K,W)=>{const G=-tt+W*m;return new I(L+(W%2?X:q)*Math.cos(G),M+(W%2?O:D)*Math.sin(G))}),isFilled:a});break}case"rhombus":{const y=Math.min(n*.38,r*.38);l=new mn({points:[new I(y,0),new I(n,0),new I(n-y,r),new I(0,r)],isFilled:a});break}case"rhombus-2":{const y=Math.min(n*.38,r*.38);l=new mn({points:[new I(0,0),new I(n-y,0),new I(n,r),new I(y,r)],isFilled:a});break}case"trapezoid":{const y=Math.min(n*.38,r*.38);l=new mn({points:[new I(y,0),new I(n-y,0),new I(n,r),new I(0,r)],isFilled:a});break}case"arrow-right":{const y=Math.min(n,r)*.38,m=r*.16;l=new mn({points:[new I(0,m),new I(n-y,m),new I(n-y,0),new I(n,r/2),new I(n-y,r),new I(n-y,r-m),new I(0,r-m)],isFilled:a});break}case"arrow-left":{const y=Math.min(n,r)*.38,m=r*.16;l=new mn({points:[new I(y,0),new I(y,m),new I(n,m),new I(n,r-m),new I(y,r-m),new I(y,r),new I(0,r/2)],isFilled:a});break}case"arrow-up":{const y=n*.16,m=Math.min(n,r)*.38;l=new mn({points:[new I(n/2,0),new I(n,m),new I(n-y,m),new I(n-y,r),new I(y,r),new I(y,m),new I(0,m)],isFilled:a});break}case"arrow-down":{const y=n*.16,m=Math.min(n,r)*.38;l=new mn({points:[new I(y,0),new I(n-y,0),new I(n-y,r-m),new I(n,r-m),new I(n/2,r),new I(0,r-m),new I(y,r-m)],isFilled:a});break}case"check-box":case"x-box":case"rectangle":{l=new Oo({width:n,height:r,isFilled:a,isSnappable:!0});break}}const c=Ig(this.editor,e),d=Math.min(n,Math.max(c.w,Math.min(32,Math.max(1,n-8)))),h=Math.min(r,Math.max(c.h,Math.min(32,Math.max(1,n-8)))),u=Pg(e.props,o),p=u?u.map(y=>new Sc({points:y})):[];return new ka({children:[l,new Oo({x:e.props.align==="start"?0:e.props.align==="end"?n-d:(n-d)/2,y:e.props.verticalAlign==="start"?0:e.props.verticalAlign==="end"?r-h:(r-h)/2,width:d,height:h,isFilled:!0,isSnappable:!1,isLabel:!0}),...p],isSnappable:!1})}component(e){const{id:n,type:r,props:s}=e,i=or[s.size],{w:o,color:a,labelColor:l,fill:c,dash:d,growY:h,font:u,align:p,verticalAlign:y,size:m,text:w}=s,S=()=>{const b=s.h+h;switch(s.geo){case"cloud":{if(d==="solid")return f.jsx(hne,{color:a,fill:c,strokeWidth:i,w:o,h:b,id:n,size:m});if(d==="dashed"||d==="dotted")return f.jsx(Jte,{color:a,fill:c,strokeWidth:i,w:o,h:b,id:n,size:m,dash:d});if(d==="draw")return f.jsx(one,{color:a,fill:c,strokeWidth:i,w:o,h:b,id:n,size:m});break}case"ellipse":{if(d==="solid")return f.jsx(v4,{strokeWidth:i,w:o,h:b,color:a,fill:c});if(d==="dashed"||d==="dotted")return f.jsx(tne,{id:n,strokeWidth:i,w:o,h:b,dash:d,color:a,fill:c});if(d==="draw")return f.jsx(v4,{strokeWidth:i,w:o,h:b,color:a,fill:c});break}case"oval":{if(d==="solid")return f.jsx(k4,{strokeWidth:i,w:o,h:b,color:a,fill:c});if(d==="dashed"||d==="dotted")return f.jsx(rne,{id:n,strokeWidth:i,w:o,h:b,dash:d,color:a,fill:c});if(d==="draw")return f.jsx(k4,{strokeWidth:i,w:o,h:b,color:a,fill:c});break}default:{const g=this.editor.getShapeGeometry(e),x=g instanceof ka?g.children[0].vertices:g.vertices,k=Pg(e.props,i);if(d==="solid")return f.jsx(gne,{fill:c,color:a,strokeWidth:i,outline:x,lines:k});if(d==="dashed"||d==="dotted")return f.jsx(sne,{dash:d,fill:c,color:a,strokeWidth:i,outline:x,lines:k});if(d==="draw")return f.jsx(cne,{id:n,fill:c,color:a,strokeWidth:i,outline:x,lines:k})}}};return f.jsxs(f.Fragment,{children:[f.jsx(ns,{id:n,children:S()}),f.jsxs(yi,{id:e.id,style:{overflow:"hidden",width:e.props.w,height:e.props.h+s.growY},children:[f.jsx(bz,{id:n,type:r,font:u,fill:c,size:m,align:p,verticalAlign:y,text:w,labelColor:l,wrap:!0,bounds:s.geo==="cloud"?this.getGeometry(e).bounds:void 0}),e.props.url&&f.jsx(zf,{url:e.props.url,zoomLevel:this.editor.getZoomLevel()})]})]})}indicator(e){const{id:n,props:r}=e,{w:s,size:i}=r,o=r.h+r.growY,a=or[i];switch(r.geo){case"ellipse":return r.dash==="draw"?f.jsx("path",{d:l9(n,s,o,a)}):f.jsx("ellipse",{cx:s/2,cy:o/2,rx:s/2,ry:o/2});case"oval":return f.jsx("path",{d:c9(s,o)});case"cloud":return f.jsx("path",{d:Nf(s,o,n,i)});default:{const l=this.editor.getShapeGeometry(e),c=l instanceof ka?l.children[0].vertices:l.vertices;let d;if(r.dash==="draw"){const u=Ip(n,c,0,a*2,1);d=Ep(u)}else d="M"+c[0]+"L"+c.slice(1)+"Z";const h=Pg(e.props,a);if(h)for(const[u,p]of h)d+=`M${u.x},${u.y}L${p.x},${p.y}`;return f.jsx("path",{d})}}}toSvg(e,n){const{id:r,props:s}=e,i=or[s.size],o=pr({isDarkMode:this.editor.user.getIsDarkMode()});n.addExportDef(s9(e.props.fill,o));let a;switch(s.geo){case"ellipse":{switch(s.dash){case"draw":a=lne({id:r,w:s.w,h:s.h,color:s.color,fill:s.fill,strokeWidth:i,theme:o});break;case"solid":a=pne({strokeWidth:i,w:s.w,h:s.h,color:s.color,fill:s.fill,theme:o});break;default:a=nne({id:r,strokeWidth:i,w:s.w,h:s.h,dash:s.dash,color:s.color,fill:s.fill,theme:o});break}break}case"oval":{switch(s.dash){case"draw":a=b4({id:r,strokeWidth:i,w:s.w,h:s.h,dash:s.dash,color:s.color,fill:s.fill,theme:o});break;case"solid":a=fne({strokeWidth:i,w:s.w,h:s.h,color:s.color,fill:s.fill,theme:o});break;default:a=b4({id:r,strokeWidth:i,w:s.w,h:s.h,dash:s.dash,color:s.color,fill:s.fill,theme:o})}break}case"cloud":{switch(s.dash){case"draw":a=ane({id:r,strokeWidth:i,w:s.w,h:s.h,color:s.color,fill:s.fill,size:s.size,theme:o});break;case"solid":a=une({strokeWidth:i,w:s.w,h:s.h,color:s.color,fill:s.fill,size:s.size,id:r,theme:o});break;default:a=ene({id:r,strokeWidth:i,w:s.w,h:s.h,dash:s.dash,color:s.color,fill:s.fill,theme:o,size:s.size})}break}default:{const l=this.editor.getShapeGeometry(e),c=l instanceof ka?l.children[0].vertices:l.vertices,d=Pg(e.props,i);switch(s.dash){case"draw":a=dne({id:r,fill:s.fill,color:s.color,strokeWidth:i,outline:c,lines:d,theme:o});break;case"solid":a=mne({fill:s.fill,color:s.color,strokeWidth:i,outline:c,lines:d,theme:o});break;default:a=ine({dash:s.dash,fill:s.fill,color:s.color,strokeWidth:i,outline:c,lines:d,theme:o});break}break}}if(s.text){const l=this.editor.getShapeGeometry(e).bounds;n.addExportDef(r1(e.props.font));const c=vz({editor:this.editor,shape:e,font:gf[e.props.font],bounds:l}),d=c.cloneNode(!0);d.setAttribute("fill",o[e.props.labelColor].solid),d.setAttribute("stroke","none");const h=c.cloneNode(!0);h.setAttribute("stroke-width","2"),h.setAttribute("fill",o.background),h.setAttribute("stroke",o.background);const u=document.createElementNS("http://www.w3.org/2000/svg","g");if(u.append(h),u.append(d),a.nodeName==="g")return a.appendChild(u),a;{const p=document.createElementNS("http://www.w3.org/2000/svg","g");return p.appendChild(a),p.appendChild(u),p}}return a}getCanvasSvgDefs(){return[i9()]}}c1.type="geo";c1.props=$q;c1.migrations=Oq;function Ig(t,e){const n=e.props.text;if(!n)return{w:0,h:0};const r=t.textMeasure.measureText("w",{...Dn,fontFamily:To[e.props.font],fontSize:ah[e.props.size],maxWidth:100}),s={s:2,m:3.5,l:5,xl:10},i=t.textMeasure.measureText(n,{...Dn,fontFamily:To[e.props.font],fontSize:ah[e.props.size],minWidth:r.w+"px",maxWidth:Math.max(0,Math.ceil(r.w+s[e.props.size]),Math.ceil(e.props.w-Sx*2))});return{w:i.w+Sx*2,h:i.h+Sx*2}}function Pg(t,e){switch(t.geo){case"x-box":return yne(t.w,t.h,e,t.dash);case"check-box":return xne(t.w,t.h);default:return}}function yne(t,e,n,r){const s=r==="draw"?.62:0;if(r==="dashed")return[[new I(0,0),new I(t/2,e/2)],[new I(t,e),new I(t/2,e/2)],[new I(0,e),new I(t/2,e/2)],[new I(t,0),new I(t/2,e/2)]];const i=a=>Math.max(0,Math.min(t,a)),o=a=>Math.max(0,Math.min(e,a));return[[new I(i(n*s),o(n*s)),new I(i(t-n*s),o(e-n*s))],[new I(i(n*s),o(e-n*s)),new I(i(t-n*s),o(n*s))]]}function xne(t,e){const n=Math.min(t,e)*.82,r=(t-n)/2,s=(e-n)/2,i=a=>Math.max(0,Math.min(t,a)),o=a=>Math.max(0,Math.min(e,a));return[[new I(i(r+n*.25),o(s+n*.52)),new I(i(r+n*.45),o(s+n*.82))],[new I(i(r+n*.45),o(s+n*.82)),new I(i(r+n*.82),o(s+n*.22))]]}function wne(){const[t,e]=v.useState(!1);return v.useEffect(()=>{const r=CSS.supports("color","color(display-p3 1 1 1)"),s=matchMedia("(color-gamut: p3)");e(r&&s.matches);const i=()=>e(r&&s.matches);return s.addEventListener("change",i),()=>s.removeEventListener("change",i)},[]),Q(wt.forceSrgb)||!t?"srgb":"p3"}const C4=.35,_4=.82;class d1 extends Xo{constructor(){super(...arguments),this.hideResizeHandles=e=>zg(e),this.hideRotateHandle=e=>zg(e),this.hideSelectionBoundsFg=e=>zg(e),this.onResize=(e,n)=>{const{scaleX:r,scaleY:s}=n,i=[];for(const o of e.props.segments)i.push({...o,points:o.points.map(({x:a,y:l,z:c})=>({x:r*a,y:s*l,z:c}))});return{props:{segments:i}}}}getDefaultProps(){return{segments:[],color:"black",size:"m",isComplete:!1,isPen:!1}}getGeometry(e){const n=Hc(e);if(zg(e))return new JI({x:-n/2,y:-n/2,radius:n/2,isFilled:!0});const{strokePoints:r,sw:s}=Tz(e,n,!0),i=yw({strokeWidth:s,showAsComplete:!0});return Th(r,i),new mn({points:Pf(r,i),isFilled:!0})}component(e){return f.jsx(E4,{strokeWidth:Hc(e),shape:e,opacity:C4})}backgroundComponent(e){return f.jsx(E4,{strokeWidth:Hc(e),shape:e,opacity:_4})}indicator(e){var d;const n=zm(),r=Hc(e),s=kd(e.props.segments);let i=r;!n&&!e.props.isPen&&s.length===1&&(i+=Na(e.id)()*(r/6));const o=e.props.isComplete||((d=wr(e.props.segments))==null?void 0:d.type)==="straight",a=yw({strokeWidth:r,showAsComplete:o}),l=ai(s,a);let c;return l.length<2?c=bne(s[0],i):c=Ea(l,!1),f.jsx("path",{d:c})}toSvg(e){const n=pr({isDarkMode:this.editor.user.getIsDarkMode()});return I4(Hc(e),e,C4,n)}toBackgroundSvg(e){const n=pr({isDarkMode:this.editor.user.getIsDarkMode()});return I4(Hc(e),e,_4,n)}}d1.type="highlight";d1.props=Bq;d1.migrations=Fq;function Sne(t){return`M ${t.x} ${t.y} m -${.1}, 0 a ${.1},${.1} 0 1,0 ${.1*2},0 a ${.1},${.1} 0 1,0 -${.1*2},0`}function bne(t,e){const n=e/2;return`M ${t.x} ${t.y} m -${n}, 0 a ${n},${n} 0 1,0 ${n*2},0 a ${n},${n} 0 1,0 -${n*2},0`}function Tz(t,e,n){var l;const r=kd(t.props.segments),s=t.props.isComplete||((l=wr(t.props.segments))==null?void 0:l.type)==="straight";let i=e;!n&&!t.props.isPen&&r.length===1&&(i+=Na(t.id)()*(e/6));const o=yw({strokeWidth:i,showAsComplete:s});return{strokePoints:ai(r,o),sw:i}}function Lz(t,e,n){const{strokePoints:r,sw:s}=Tz(t,e,n);return{solidStrokePath:r.length>1?Ea(r,!1):Sne(t.props.segments[0].points[0]),sw:s}}function E4({strokeWidth:t,shape:e,opacity:n}){const r=Cn(),s=zm(),{solidStrokePath:i,sw:o}=Lz(e,t,s),a=wne(),l=r[e.props.color].highlight[a];return f.jsx(ns,{id:e.id,style:{opacity:n},children:f.jsx("path",{d:i,strokeLinecap:"round",fill:"none",pointerEvents:"all",stroke:l,strokeWidth:o})})}function I4(t,e,n,r){const{solidStrokePath:s,sw:i}=Lz(e,t,!1),o=document.createElementNS("http://www.w3.org/2000/svg","path");return o.setAttribute("d",s),o.setAttribute("fill","none"),o.setAttribute("stroke",r[e.props.color].highlight.srgb),o.setAttribute("stroke-width",`${i}`),o.setAttribute("opacity",`${n}`),o}function Hc(t){return _a[t.props.size]*1.12}function zg(t){return t.props.segments.length===1&&t.props.segments[0].points.length<2}function Mz(){const[t,e]=v.useState(!1);return v.useEffect(()=>{const n=window.matchMedia("(prefers-reduced-motion: reduce)"),r=()=>{e(n.matches)};return r(),n.addEventListener("change",r),()=>n.removeEventListener("change",r)},[]),t}const vne=async t=>new Promise((e,n)=>{const r=new Image;r.onload=()=>e(r),r.onerror=()=>n(new Error("Failed to load image")),r.crossOrigin="anonymous",r.src=t}),kne=async t=>{const e=await vne(t),n=document.createElement("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");if(r)return r.drawImage(e,0,0),n.toDataURL()};async function Cne(t){const n=await(await fetch(t)).blob();return new Promise((r,s)=>{const i=new FileReader;i.onloadend=()=>r(i.result),i.onerror=s,i.readAsDataURL(n)})}class h1 extends ho{constructor(){super(...arguments),this.isAspectRatioLocked=()=>!0,this.canCrop=()=>!0,this.onDoubleClick=e=>{const n=e.props.assetId?this.editor.getAsset(e.props.assetId):void 0;!n||!(n.props.src&&"mimeType"in n.props&&n.props.mimeType==="image/gif")||this.editor.updateShapes([{type:"image",id:e.id,props:{playing:!e.props.playing}}])},this.onDoubleClickEdge=e=>{const n=e.props;if(!n||this.editor.getCroppingShapeId()!==e.id)return;const r=jr(n.crop)||{topLeft:{x:0,y:0},bottomRight:{x:1,y:1}},s=1/(r.bottomRight.x-r.topLeft.x)*e.props.w,i=1/(r.bottomRight.y-r.topLeft.y)*e.props.h,o=new I(r.topLeft.x*s,r.topLeft.y*i).rot(e.rotation),a={id:e.id,type:e.type,x:e.x-o.x,y:e.y-o.y,props:{crop:{topLeft:{x:0,y:0},bottomRight:{x:1,y:1}},w:s,h:i}};this.editor.updateShapes([a])}}getDefaultProps(){return{w:100,h:100,assetId:null,playing:!0,url:"",crop:null}}component(e){var h,u;const n=P4(e),r=pv(e.id),s=Mz(),[i,o]=v.useState(""),a=e.props.assetId?this.editor.getAsset(e.props.assetId):void 0;if((a==null?void 0:a.type)==="bookmark")throw Error("Bookmark assets can't be rendered as images");const c=Q("onlySelectedShape",()=>{var p;return e.id===((p=this.editor.getOnlySelectedShape())==null?void 0:p.id)},[this.editor])&&r&&this.editor.isInAny("select.crop","select.cropping","select.pointing_crop_handle"),d=s&&(((h=a==null?void 0:a.props.mimeType)==null?void 0:h.includes("video"))||((u=a==null?void 0:a.props.mimeType)==null?void 0:u.includes("gif")));return v.useEffect(()=>{if(a!=null&&a.props.src&&"mimeType"in a.props&&(a==null?void 0:a.props.mimeType)==="image/gif"){let p=!1;return(async()=>{const m=await kne(a.props.src);p||m&&o(m)})(),()=>{p=!0}}},[s,a==null?void 0:a.props]),f.jsxs(f.Fragment,{children:[(a==null?void 0:a.props.src)&&c&&f.jsx("div",{style:n,children:f.jsx("div",{className:"tl-image",style:{opacity:.1,backgroundImage:`url(${!e.props.playing||d?i:a.props.src})`},draggable:!1})}),f.jsxs(yi,{id:e.id,style:{overflow:"hidden",width:e.props.w,height:e.props.h},children:[f.jsxs("div",{className:"tl-image-container",style:n,children:[a!=null&&a.props.src?f.jsx("div",{className:"tl-image",style:{backgroundImage:`url(${!e.props.playing||d?i:a.props.src})`},draggable:!1}):null,(a==null?void 0:a.props.isAnimated)&&!e.props.playing&&f.jsx("div",{className:"tl-image__tg",children:"GIF"})]}),"url"in e.props&&e.props.url&&f.jsx(zf,{url:e.props.url,zoomLevel:this.editor.getZoomLevel()})]})]})}indicator(e){return pv(e.id)?null:f.jsx("rect",{width:$(e.props.w),height:$(e.props.h)})}async toSvg(e){const n=document.createElementNS("http://www.w3.org/2000/svg","g"),r=e.props.assetId?this.editor.getAsset(e.props.assetId):null;let s=(r==null?void 0:r.props.src)||"";s&&s.startsWith("http")&&(s=await Cne(s)||"");const i=document.createElementNS("http://www.w3.org/2000/svg","image");i.setAttributeNS("http://www.w3.org/1999/xlink","href",s);const o=P4(e),a=e.props.crop;if(o.transform&&a){const{transform:l,width:c,height:d}=o,h=(a.bottomRight.x-a.topLeft.x)*c,u=(a.bottomRight.y-a.topLeft.y)*d,p=[new I(0,0),new I(h,0),new I(h,u),new I(0,u)],y=document.createElementNS("http://www.w3.org/2000/svg","polygon");y.setAttribute("points",p.map(b=>`${b.x},${b.y}`).join(" "));const m=document.createElementNS("http://www.w3.org/2000/svg","clipPath");m.setAttribute("id","cropClipPath"),m.appendChild(y);const w=document.createElementNS("http://www.w3.org/2000/svg","defs");w.appendChild(m),n.appendChild(w);const S=document.createElementNS("http://www.w3.org/2000/svg","g");S.setAttribute("clip-path","url(#cropClipPath)"),i.setAttribute("width",c.toString()),i.setAttribute("height",d.toString()),i.style.transform=l,S.appendChild(i),n.appendChild(S)}else i.setAttribute("width",e.props.w.toString()),i.setAttribute("height",e.props.h.toString()),n.appendChild(i);return n}}h1.type="image";h1.props=Wq;h1.migrations=Uq;function P4(t){const e=t.props.crop,n=e==null?void 0:e.topLeft;if(!n)return{width:t.props.w,height:t.props.h};const r=1/(e.bottomRight.x-e.topLeft.x)*t.props.w,s=1/(e.bottomRight.y-e.topLeft.y)*t.props.h,i=-n.x*r,o=-n.y*s;return{transform:`translate(${i}px, ${o}px)`,width:r,height:s}}function xw(t,e){const{start:n,end:r}=t;return e?`M${$(n.x)},${$(n.y)} L${$(r.x)},${$(r.y)} `:`${$(r.x)},${$(r.y)} `}function ww(t,e){const{a:n,b:r,c:s,d:i}=t;return I.Equals(n,i)?"":`${e?`M${$(n.x)},${$(n.y)}`:""}C${$(r.x)},${$(r.y)} ${$(s.x)},${$(s.y)} ${$(i.x)},${$(i.y)}`}function jz(t,e){let n=t.segments.reduce((r,s,i)=>r+ww(s,i===0),"");return e&&(n+="Z"),n}function _ne(t,e){let n=t.segments.reduce((r,s,i)=>r+xw(s,i===0),"");return e&&(n+="Z"),n}function Rz(t,e=!1){return t instanceof Sc?_ne(t,e):jz(t,e)}function $z(t){return{size:t,thinning:.4,streamline:0,smoothing:.5,simulatePressure:!0,last:!0}}function Oz(t,e,n){const r=e.vertices,s=$z(n);return ai(r,s)}function Ene(t,e,n){const r=$z(n);return Pf(Th(Oz(t,e,n),r),r)}function z4(t,e,n){const r=Ene(t,e,n);return wf(r)}function Ine(t,e,n){if(t.props.dash==="draw"){const r=Oz(t,e,n);return Ea(r)}return Rz(e)}const Pne=new PS;class u1 extends Xo{constructor(){super(...arguments),this.hideResizeHandles=()=>!0,this.hideRotateHandle=()=>!0,this.hideSelectionBoundsFg=()=>!0,this.hideSelectionBoundsBg=()=>!0,this.onResize=(e,n)=>{const{scaleX:r,scaleY:s}=n,i=jr(e.props.handles);return Object.values(e.props.handles).forEach(({id:o,x:a,y:l})=>{i[o].x=a*r,i[o].y=l*s}),{props:{handles:i}}},this.onHandleChange=(e,{handle:n})=>{const r=jr(e);switch(n.id){case"start":case"end":{r.props.handles[n.id]={...r.props.handles[n.id],x:n.x,y:n.y};break}default:{const s="handle:"+n.index,i=e.props.handles[s];i?r.props.handles[s]={...i,x:n.x,y:n.y}:r.props.handles[s]={id:s,type:"vertex",canBind:!1,index:n.index,x:n.x,y:n.y};break}}return r}}getDefaultProps(){return{dash:"draw",size:"m",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,canSnap:!0,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,canSnap:!0,index:"a2",x:.1,y:.1}}}}getGeometry(e){return au(e)}getHandles(e){return Pne.get(e.props,()=>{const n=e.props.handles,r=au(e),s=Object.values(n).sort(tr),i=s.slice();for(let o=0;o<r.segments.length;o++){const l=r.segments[o].midPoint(),c=Yu(s[o].index,s[o+1].index);i.push({id:`mid-${o}`,type:"create",index:c,x:l.x,y:l.y})}return i.sort(tr)})}getOutlineSegments(e){return this.editor.getShapeGeometry(e).segments.map(r=>r.vertices)}component(e){const n=Cn(),r=au(e),s=or[e.props.size],{dash:i,color:o}=e.props;if(e.props.spline==="line"){if(i==="solid"){const a=r.points,l="M"+a[0]+"L"+a.slice(1);return f.jsxs(ns,{id:e.id,children:[f.jsx(on,{d:l,fill:"none",color:o,theme:n}),f.jsx("path",{d:l,stroke:n[o].solid,strokeWidth:s,fill:"none"})]})}if(i==="dashed"||i==="dotted"){const a=r.points,l="M"+a[0]+"L"+a.slice(1);return f.jsxs(ns,{id:e.id,children:[f.jsx(on,{d:l,fill:"none",color:o,theme:n}),f.jsx("g",{stroke:n[o].solid,strokeWidth:s,children:r.segments.map((c,d)=>{const{strokeDasharray:h,strokeDashoffset:u}=hr(c.length,s,{style:i,start:d>0?"outset":"none",end:d<r.segments.length-1?"outset":"none"});return f.jsx("path",{strokeDasharray:h,strokeDashoffset:u,d:xw(c,!0),fill:"none"},d)})})]})}if(i==="draw"){const a=r.points,[l,c]=wx(e.id,a,s);return f.jsxs(ns,{id:e.id,children:[f.jsx(on,{d:l,fill:"none",color:o,theme:n}),f.jsx("path",{d:c,stroke:n[o].solid,strokeWidth:s,fill:"none"})]})}}if(e.props.spline==="cubic"){const a=Rz(r);if(i==="solid")return f.jsxs(ns,{id:e.id,children:[f.jsx(on,{d:a,fill:"none",color:o,theme:n}),f.jsx("path",{strokeWidth:s,stroke:n[o].solid,fill:"none",d:a})]});if(i==="dashed"||i==="dotted")return f.jsxs(ns,{id:e.id,children:[f.jsx(on,{d:a,fill:"none",color:o,theme:n}),f.jsx("g",{stroke:n[o].solid,strokeWidth:s,children:r.segments.map((l,c)=>{const{strokeDasharray:d,strokeDashoffset:h}=hr(l.length,s,{style:i,start:c>0?"outset":"none",end:c<r.segments.length-1?"outset":"none"});return f.jsx("path",{strokeDasharray:d,strokeDashoffset:h,d:ww(l,!0),fill:"none"},c)})})]});if(i==="draw")return f.jsxs(ns,{id:e.id,children:[f.jsx(on,{d:a,fill:"none",color:o,theme:n}),f.jsx("path",{d:z4(e,r,s),strokeWidth:1,stroke:n[o].solid,fill:n[o].solid})]})}}indicator(e){const n=or[e.props.size],r=au(e),{dash:s}=e.props;let i;if(e.props.spline==="line"){const o=r.points;if(s==="solid"||s==="dotted"||s==="dashed")i="M"+o[0]+"L"+o.slice(1);else{const[a]=wx(e.id,o,n);i=a}}else i=Ine(e,r,n);return f.jsx("path",{d:i})}toSvg(e){const r=pr({isDarkMode:this.editor.user.getIsDarkMode()})[e.props.color].solid,s=au(e),i=or[e.props.size];switch(e.props.dash){case"draw":{let o;if(s instanceof E0)o=z4(e,s,i);else{const[l,c]=wx(e.id,s.points,i);o=c}const a=document.createElementNS("http://www.w3.org/2000/svg","path");return a.setAttribute("stroke-width",i+"px"),a.setAttribute("stroke",r),a.setAttribute("fill","none"),a.setAttribute("d",o),a}case"solid":{let o;if(s instanceof E0)o=jz(s,!1);else{const l=s.points;o="M"+l[0]+"L"+l.slice(1)}const a=document.createElementNS("http://www.w3.org/2000/svg","path");return a.setAttribute("stroke-width",i+"px"),a.setAttribute("stroke",r),a.setAttribute("fill","none"),a.setAttribute("d",o),a}default:{const{segments:o}=s,a=document.createElementNS("http://www.w3.org/2000/svg","g");a.setAttribute("stroke",r),a.setAttribute("stroke-width",i.toString());const l=s instanceof E0?ww:xw;return o.forEach((c,d)=>{const h=document.createElementNS("http://www.w3.org/2000/svg","path"),{strokeDasharray:u,strokeDashoffset:p}=hr(c.length,i,{style:e.props.dash,start:d>0?"outset":"none",end:d<o.length-1?"outset":"none"});h.setAttribute("stroke-dasharray",u.toString()),h.setAttribute("stroke-dashoffset",p.toString()),h.setAttribute("d",l(c,!0)),h.setAttribute("fill","none"),a.appendChild(h)}),a}}}}u1.type="line";u1.props=Yq;u1.migrations=Hq;function au(t){const{spline:e,handles:n}=t.props,r=Object.values(n).sort(tr).map(I.From);switch(e){case"cubic":return new E0({points:r});case"line":return new Sc({points:r})}}const ko=200;class p1 extends Xo{constructor(){super(...arguments),this.canEdit=()=>!0,this.hideResizeHandles=()=>!0,this.hideSelectionBoundsFg=()=>!0,this.onBeforeCreate=e=>A4(this.editor,e,e.props.growY),this.onBeforeUpdate=(e,n)=>{if(!(e.props.text===n.props.text&&e.props.font===n.props.font&&e.props.size===n.props.size))return A4(this.editor,n,e.props.growY)},this.onEditEnd=e=>{const{id:n,type:r,props:{text:s}}=e;s.trimEnd()!==e.props.text&&this.editor.updateShapes([{id:n,type:r,props:{text:s.trimEnd()}}])}}getDefaultProps(){return{color:"black",size:"m",text:"",font:"draw",align:"middle",verticalAlign:"middle",growY:0,url:""}}getHeight(e){return ko+e.props.growY}getGeometry(e){const n=this.getHeight(e);return new Oo({width:ko,height:n,isFilled:!0})}component(e){const{id:n,type:r,props:{color:s,font:i,size:o,align:a,text:l,verticalAlign:c}}=e,d=Cn(),h=s==="black"?"yellow":s;return f.jsxs(f.Fragment,{children:[f.jsx("div",{style:{position:"absolute",width:ko,height:this.getHeight(e)},children:f.jsxs("div",{className:"tl-note__container",style:{color:d[h].solid,backgroundColor:d[h].solid},children:[f.jsx("div",{className:"tl-note__scrim"}),f.jsx(bz,{id:n,type:r,font:i,size:o,align:a,verticalAlign:c,text:l,labelColor:"black",wrap:!0})]})}),"url"in e.props&&e.props.url&&f.jsx(zf,{url:e.props.url,zoomLevel:this.editor.getZoomLevel()})]})}indicator(e){return f.jsx("rect",{rx:"7",width:$(ko),height:$(this.getHeight(e))})}toSvg(e,n){n.addExportDef(r1(e.props.font));const r=pr({isDarkMode:this.editor.user.getIsDarkMode()}),s=this.editor.getShapeGeometry(e).bounds,i=document.createElementNS("http://www.w3.org/2000/svg","g"),o=e.props.color==="black"?"yellow":e.props.color,a=document.createElementNS("http://www.w3.org/2000/svg","rect");a.setAttribute("rx","10"),a.setAttribute("width",ko.toString()),a.setAttribute("height",s.height.toString()),a.setAttribute("fill",r[o].solid),a.setAttribute("stroke",r[o].solid),a.setAttribute("stroke-width","1"),i.appendChild(a);const l=document.createElementNS("http://www.w3.org/2000/svg","rect");l.setAttribute("rx","10"),l.setAttribute("width",ko.toString()),l.setAttribute("height",s.height.toString()),l.setAttribute("fill",r.background),l.setAttribute("opacity",".28"),i.appendChild(l);const c=vz({editor:this.editor,shape:e,font:gf[e.props.font],bounds:s});return c.setAttribute("fill",r.text),c.setAttribute("stroke","none"),i.appendChild(c),i}}p1.type="note";p1.props=Gq;p1.migrations=Zq;function A4(t,e,n=0){const i=t.textMeasure.measureText(e.props.text,{...Dn,fontFamily:To[e.props.font],fontSize:ah[e.props.size],maxWidth:ko-34}).h+17*2;let o=null;if(i>ko?o=i-ko:n&&(o=0),o!==null)return{...e,props:{...e.props,growY:o}}}function zne(t,{initialBounds:e,scaleX:n,scaleY:r,newPoint:s}){const i=Math.max(.01,Math.min(Math.abs(n),Math.abs(r))),o=new I(0,0);n<0&&(o.x=-(e.width*i)),r<0&&(o.y=-(e.height*i));const{x:a,y:l}=I.Add(s,o.rot(t.rotation));return{x:a,y:l,props:{scale:i*t.props.scale}}}const Ane=new PS;class f1 extends Xo{constructor(){super(...arguments),this.canEdit=()=>!0,this.isAspectRatioLocked=()=>!0,this.onResize=(e,n)=>{const{initialBounds:r,initialShape:s,scaleX:i,handle:o}=n;if(n.mode==="scale_shape"||o!=="right"&&o!=="left")return{id:e.id,type:e.type,...zne(e,n)};{const a=r.width;let l=a*i;const c=new I(0,0);l=Math.max(1,Math.abs(l)),o==="left"?(c.x=a-l,i<0&&(c.x+=l)):i<0&&(c.x-=l);const{x:d,y:h}=c.rot(e.rotation).add(s);return{id:e.id,type:e.type,x:d,y:h,props:{w:l/s.props.scale,autoSize:!1}}}},this.onBeforeCreate=e=>{if(!e.props.autoSize||e.props.text.trim())return;const n=this.getMinDimensions(e);return{...e,x:e.x-n.width/2,y:e.y-n.height/2}},this.onEditEnd=e=>{const{id:n,type:r,props:{text:s}}=e,i=e.props.text.trimEnd();i.length===0?this.editor.deleteShapes([e.id]):i!==e.props.text&&this.editor.updateShapes([{id:n,type:r,props:{text:s.trimEnd()}}])},this.onBeforeUpdate=(e,n)=>{if(!n.props.autoSize)return;const r=e.props.size!==n.props.size||e.props.align!==n.props.align||e.props.font!==n.props.font||e.props.scale!==1&&n.props.scale===1,s=e.props.text!==n.props.text;if(!r&&!s)return;const i=this.getMinDimensions(e),o=N4(this.editor,n.props),a=i.width*e.props.scale,l=i.height*e.props.scale,c=o.width*n.props.scale,d=o.height*n.props.scale;let h;switch(n.props.align){case"middle":{h=new I((c-a)/2,s?0:(d-l)/2);break}case"end":{h=new I(c-a,s?0:(d-l)/2);break}default:{if(s)break;h=new I(0,(d-l)/2);break}}if(h){h.rot(n.rotation);const{x:u,y:p}=n;return{...n,x:u-h.x,y:p-h.y,props:{...n.props,w:c}}}else return{...n,props:{...n.props,w:c}}},this.onDoubleClickEdge=e=>{if(!e.props.autoSize)return{id:e.id,type:e.type,props:{autoSize:!0}};if(e.props.scale!==1)return{id:e.id,type:e.type,props:{scale:1}}}}getDefaultProps(){return{color:"black",size:"m",w:8,text:"",font:"draw",align:"middle",autoSize:!0,scale:1}}getMinDimensions(e){return Ane.get(e.props,n=>N4(this.editor,n))}getGeometry(e){const{scale:n}=e.props,{width:r,height:s}=this.getMinDimensions(e);return new Oo({width:r*n,height:s*n,isFilled:!0})}component(e){const{id:n,type:r,props:{text:s,color:i}}=e,o=pr({isDarkMode:this.editor.user.getIsDarkMode()}),{width:a,height:l}=this.getMinDimensions(e),{rInput:c,isEmpty:d,isEditing:h,handleFocus:u,handleChange:p,handleKeyDown:y,handleBlur:m,handleInputPointerDown:w,handleDoubleClick:S}=o9(n,r,s);return f.jsx(yi,{id:e.id,children:f.jsxs("div",{className:"tl-text-shape__wrapper tl-text-shadow","data-font":e.props.font,"data-align":e.props.align,"data-hastext":!d,"data-isediting":h,"data-textwrap":!0,style:{fontSize:_a[e.props.size],lineHeight:_a[e.props.size]*Dn.lineHeight+"px",transform:`scale(${e.props.scale})`,transformOrigin:"top left",width:Math.max(1,a),height:Math.max(_a[e.props.size]*Dn.lineHeight,l),color:o[i].solid},children:[f.jsx("div",{className:"tl-text tl-text-content",dir:"ltr",children:s}),h?f.jsx("textarea",{ref:c,className:"tl-text tl-text-input",name:"text",tabIndex:-1,autoComplete:"false",autoCapitalize:"false",autoCorrect:"false",autoSave:"false",autoFocus:h,placeholder:"",spellCheck:"true",wrap:"off",dir:"ltr",datatype:"wysiwyg",defaultValue:s,onFocus:u,onChange:p,onKeyDown:y,onBlur:m,onTouchEnd:nn,onContextMenu:nn,onPointerDown:w,onDoubleClick:S}):null]})})}indicator(e){const n=this.editor.getShapeGeometry(e).bounds,r=Y();return e.props.autoSize&&r.getEditingShapeId()===e.id?null:f.jsx("rect",{width:$(n.width),height:$(n.height)})}toSvg(e,n){n.addExportDef(r1(e.props.font));const r=pr({isDarkMode:this.editor.user.getIsDarkMode()}),s=this.editor.getShapeGeometry(e).bounds,i=e.props.text,o=s.width/(e.props.scale??1),a=s.height/(e.props.scale??1),l={fontSize:_a[e.props.size],fontFamily:gf[e.props.font],textAlign:e.props.align,verticalTextAlign:"middle",width:o,height:a,padding:0,lineHeight:Dn.lineHeight,fontStyle:"normal",fontWeight:"normal",overflow:"wrap"},c=r[e.props.color].solid,d=document.createElementNS("http://www.w3.org/2000/svg","g"),h=n1(this.editor,this.editor.textMeasure.measureTextSpans(i,l),{...l,stroke:r.background,strokeWidth:2,fill:r.background,padding:0}),u=h.cloneNode(!0);return u.setAttribute("fill",c),u.setAttribute("stroke","none"),d.append(h),d.append(u),d}}f1.type="text";f1.props=Qq;f1.migrations=Jq;function N4(t,e){const{font:n,text:r,autoSize:s,size:i,w:o}=e,a=s?16:Math.max(16,o),l=_a[i],c=s?null:Math.floor(Math.max(a,o)),d=t.textMeasure.measureText(r,{...Dn,fontFamily:To[n],fontSize:l,maxWidth:c});return s&&(d.w+=1),{width:Math.max(a,d.w),height:Math.max(l,d.h)}}class g1 extends ho{constructor(){super(...arguments),this.canEdit=()=>!0,this.isAspectRatioLocked=()=>!0}getDefaultProps(){return{w:100,h:100,assetId:null,time:0,playing:!0,url:""}}component(e){return f.jsx(Tne,{shape:e,videoUtil:this})}indicator(e){return f.jsx("rect",{width:$(e.props.w),height:$(e.props.h)})}toSvg(e){const n=document.createElementNS("http://www.w3.org/2000/svg","g"),r=document.createElementNS("http://www.w3.org/2000/svg","image");return r.setAttributeNS("http://www.w3.org/1999/xlink","href",Nne(e.id)),r.setAttribute("width",e.props.w.toString()),r.setAttribute("height",e.props.h.toString()),n.appendChild(r),n}}g1.type="video";g1.props=eB;g1.migrations=tB;function Nne(t){const e=t.split(":")[1],n=document.querySelector(`.tl-video-shape-${e}`);if(n){const r=document.createElement("canvas");return r.width=n.videoWidth,r.height=n.videoHeight,r.getContext("2d").drawImage(n,0,0),r.toDataURL("image/png")}else throw new Error("Video with id "+e+" not found")}const Tne=Ye(function(e){const{shape:n,videoUtil:r}=e,s=r.editor.getShapeGeometry(n).bounds.w*r.editor.getZoomLevel()>=110,i=n.props.assetId?r.editor.getAsset(n.props.assetId):null,{time:o,playing:a}=n.props,l=Fy(n.id),c=Mz(),d=ie.useRef(null),h=ie.useCallback(S=>{const b=S.currentTarget;r.editor.updateShapes([{type:"video",id:n.id,props:{playing:!0,time:b.currentTime}}])},[n.id,r.editor]),u=ie.useCallback(S=>{const b=S.currentTarget;r.editor.updateShapes([{type:"video",id:n.id,props:{playing:!1,time:b.currentTime}}])},[n.id,r.editor]),p=ie.useCallback(S=>{const b=S.currentTarget;l&&r.editor.updateShapes([{type:"video",id:n.id,props:{time:b.currentTime}}])},[l,n.id,r.editor]),[y,m]=ie.useState(!1),w=ie.useCallback(S=>{const b=S.currentTarget;o!==b.currentTime&&(b.currentTime=o),a||b.pause(),m(!0)},[a,o]);return ie.useEffect(()=>{const S=d.current;S&&(y&&!l&&o!==S.currentTime&&(S.currentTime=o),l&&document.activeElement!==S&&S.focus())},[l,y,o]),ie.useEffect(()=>{if(c){const S=d.current;S.pause(),S.currentTime=0}},[d,c]),f.jsxs(f.Fragment,{children:[f.jsx(yi,{id:n.id,children:f.jsx("div",{className:"tl-counter-scaled",children:i!=null&&i.props.src?f.jsx("video",{ref:d,style:l?{pointerEvents:"all"}:void 0,className:`tl-video tl-video-shape-${n.id.split(":")[1]}`,width:"100%",height:"100%",draggable:!1,playsInline:!0,autoPlay:!0,muted:!0,loop:!0,disableRemotePlayback:!0,disablePictureInPicture:!0,controls:l&&s,onPlay:h,onPause:u,onTimeUpdate:p,onLoadedData:w,hidden:!y,children:f.jsx("source",{src:i.props.src})}):null})}),"url"in n.props&&n.props.url&&f.jsx(zf,{url:n.props.url,zoomLevel:r.editor.getZoomLevel()})]})}),d9=[f1,i1,o1,c1,p1,u1,l1,s1,d1,a1,h1,g1];function Lne(t){return[t.sideEffects.registerAfterChangeHandler("instance",(e,n)=>{e.isFocused!==n.isFocused&&(n.isFocused?(t.getContainer().focus(),t.updateViewportScreenBounds()):(t.complete(),t.getContainer().blur(),t.updateViewportScreenBounds()))}),t.sideEffects.registerAfterChangeHandler("instance_page_state",(e,n)=>{if(e.croppingShapeId!==n.croppingShapeId){const r=t.isInAny("select.crop","select.pointing_crop_handle","select.cropping");!e.croppingShapeId&&n.croppingShapeId?r||t.setCurrentTool("select.crop.idle"):e.croppingShapeId&&!n.croppingShapeId&&r&&t.setCurrentTool("select.idle")}e.editingShapeId!==n.editingShapeId&&(!e.editingShapeId&&n.editingShapeId?t.isIn("select.editing_shape")||t.setCurrentTool("select.editing_shape"):e.editingShapeId&&!n.editingShapeId&&t.isIn("select.editing_shape")&&t.setCurrentTool("select.idle"))})]}class Dz extends ae{constructor(){super(...arguments),this.info={},this.scribbleId="id",this.markId="",this.excludedShapeIds=new Set,this.onEnter=e=>{this.markId="erase scribble begin",this.editor.mark(this.markId),this.info=e;const{originPagePoint:n}=this.editor.inputs;this.excludedShapeIds=new Set(this.editor.getCurrentPageShapes().filter(s=>{if(this.editor.isShapeOrAncestorLocked(s))return!0;if(this.editor.isShapeOfType(s,"group")||this.editor.isShapeOfType(s,"frame")){const i=this.editor.getPointInShapeSpace(s,n);return this.editor.getShapeGeometry(s).bounds.containsPoint(i)}return!1}).map(s=>s.id));const r=this.editor.scribbles.addScribble({color:"muted-1",size:12});this.scribbleId=r.id,this.update()},this.pushPointToScribble=()=>{const{x:e,y:n}=this.editor.inputs.currentPagePoint;this.editor.scribbles.addPoint(this.scribbleId,e,n)},this.onExit=()=>{this.editor.scribbles.stop(this.scribbleId)},this.onPointerMove=()=>{this.update()},this.onPointerUp=()=>{this.complete()},this.onCancel=()=>{this.cancel()},this.onComplete=()=>{this.complete()}}update(){const e=this.editor.getErasingShapeIds(),n=this.editor.getZoomLevel(),r=this.editor.getCurrentPageShapes(),{inputs:{currentPagePoint:s,previousPagePoint:i}}=this.editor,{excludedShapeIds:o}=this;this.pushPointToScribble();const a=new Set(e);for(const l of r){if(this.editor.isShapeOfType(l,"group"))continue;const c=this.editor.getShapeMask(l.id);if(c&&!no(s,c))continue;const d=this.editor.getShapeGeometry(l),h=this.editor.getPointInShapeSpace(l,i),u=this.editor.getPointInShapeSpace(l,s);d.hitTestLineSegment(h,u,mi/n)&&a.add(this.editor.getOutermostSelectableShape(l).id)}this.editor.setErasingShapes([...a].filter(l=>!o.has(l)))}complete(){this.editor.deleteShapes(this.editor.getCurrentPageState().erasingShapeIds),this.editor.setErasingShapes([]),this.parent.transition("idle")}cancel(){this.editor.setErasingShapes([]),this.editor.bailToMark(this.markId),this.parent.transition("idle",this.info)}}Dz.id="erasing";let qz=class extends ae{constructor(){super(...arguments),this.onPointerDown=e=>{this.parent.transition("pointing",e)},this.onCancel=()=>{this.editor.setCurrentTool("select")}}};qz.id="idle";let Bz=class extends ae{constructor(){super(...arguments),this.onEnter=()=>{const e=this.editor.getZoomLevel(),n=this.editor.getCurrentPageShapesSorted(),{inputs:{currentPagePoint:r}}=this.editor,s=new Set,i=s.size;for(let o=n.length,a=o-1;a>=0;a--){const l=n[a];if(!(this.editor.isShapeOrAncestorLocked(l)||this.editor.isShapeOfType(l,"group"))&&this.editor.isPointInShape(l,r,{hitInside:!1,margin:mi/e})){const c=this.editor.getOutermostSelectableShape(l);if(this.editor.isShapeOfType(c,"frame")&&s.size>i)break;s.add(c.id)}}this.editor.setErasingShapes([...s])},this.onPointerMove=e=>{this.editor.inputs.isDragging&&this.parent.transition("erasing",e)},this.onPointerUp=()=>{this.complete()},this.onCancel=()=>{this.cancel()},this.onComplete=()=>{this.complete()},this.onInterrupt=()=>{this.cancel()}}complete(){const e=this.editor.getErasingShapeIds();e.length&&(this.editor.mark("erase end"),this.editor.deleteShapes(e)),this.editor.setErasingShapes([]),this.parent.transition("idle")}cancel(){this.editor.setErasingShapes([]),this.parent.transition("idle")}};Bz.id="pointing";class m1 extends ae{constructor(){super(...arguments),this.onEnter=()=>{this.editor.setCursor({type:"cross",rotation:0})}}}m1.id="eraser";m1.initial="idle";m1.children=()=>[qz,Bz,Dz];class Fz extends ae{constructor(){super(...arguments),this.onEnter=()=>{this.update()},this.onPointerMove=()=>{this.update()},this.onPointerUp=()=>{this.complete()},this.onCancel=()=>{this.complete()},this.onComplete=()=>{this.complete()}}update(){const{currentScreenPoint:e,previousScreenPoint:n}=this.editor.inputs,r=I.Sub(e,n);(Math.abs(r.x)>0||Math.abs(r.y)>0)&&this.editor.pan(r)}complete(){this.editor.slideCamera({speed:Math.min(2,this.editor.inputs.pointerVelocity.len()),direction:this.editor.inputs.pointerVelocity,friction:k0}),this.parent.transition("idle")}}Fz.id="dragging";let Kz=class extends ae{constructor(){super(...arguments),this.onEnter=()=>{this.editor.setCursor({type:"grab",rotation:0})},this.onPointerDown=e=>{this.parent.transition("pointing",e)},this.onCancel=()=>{this.editor.setCurrentTool("select")}}};Kz.id="idle";let Wz=class extends ae{constructor(){super(...arguments),this.onEnter=()=>{this.editor.stopCameraAnimation(),this.editor.updateInstanceState({cursor:{type:"grabbing",rotation:0}},{ephemeral:!0})},this.onPointerMove=e=>{this.editor.inputs.isDragging&&this.parent.transition("dragging",e)},this.onPointerUp=()=>{this.complete()},this.onCancel=()=>{this.complete()},this.onComplete=()=>{this.complete()},this.onInterrupt=()=>{this.complete()}}complete(){this.parent.transition("idle")}};Wz.id="pointing";class y1 extends ae{constructor(){super(...arguments),this.onDoubleClick=e=>{if(e.phase==="settle"){const{currentScreenPoint:n}=this.editor.inputs;this.editor.zoomIn(n,{duration:220,easing:dr.easeOutQuint})}},this.onTripleClick=e=>{if(e.phase==="settle"){const{currentScreenPoint:n}=this.editor.inputs;this.editor.zoomOut(n,{duration:320,easing:dr.easeOutQuint})}},this.onQuadrupleClick=e=>{if(e.phase==="settle"){const n=this.editor.getZoomLevel(),{inputs:{currentScreenPoint:r}}=this.editor;n===1?this.editor.zoomToFit({duration:400,easing:dr.easeOutQuint}):this.editor.resetZoom(r,{duration:320,easing:dr.easeOutQuint})}}}}y1.id="hand";y1.initial="idle";y1.children=()=>[Kz,Wz,Fz];let Uz=class extends ae{constructor(){super(...arguments),this.onPointerDown=e=>{this.parent.transition("lasering",e)}}};Uz.id="idle";class Vz extends ae{constructor(){super(...arguments),this.scribbleId="id",this.onEnter=()=>{const e=this.editor.scribbles.addScribble({color:"laser",opacity:.7,size:4,delay:1200,shrink:.05,taper:!0});this.scribbleId=e.id,this.pushPointToScribble()},this.onExit=()=>{this.editor.scribbles.stop(this.scribbleId)},this.onPointerMove=()=>{this.pushPointToScribble()},this.onPointerUp=()=>{this.complete()},this.pushPointToScribble=()=>{const{x:e,y:n}=this.editor.inputs.currentPagePoint;this.editor.scribbles.addPoint(this.scribbleId,e,n)},this.onCancel=()=>{this.cancel()},this.onComplete=()=>{this.complete()}}complete(){this.parent.transition("idle")}cancel(){this.parent.transition("idle")}}Vz.id="lasering";class x1 extends ae{constructor(){super(...arguments),this.onEnter=()=>{this.editor.setCursor({type:"cross",rotation:0})}}}x1.id="laser";x1.initial="idle";x1.children=()=>[Uz,Vz];class Xz extends ae{constructor(){super(...arguments),this.info={},this.brush=new fe,this.initialSelectedShapeIds=[],this.excludedShapeIds=new Set,this.initialStartShape=null,this.onEnter=e=>{const{altKey:n,currentPagePoint:r}=this.editor.inputs;if(n){this.parent.transition("scribble_brushing",e);return}this.excludedShapeIds=new Set(this.editor.getCurrentPageShapes().filter(s=>this.editor.isShapeOfType(s,"group")||this.editor.isShapeOrAncestorLocked(s)).map(s=>s.id)),this.info=e,this.initialSelectedShapeIds=this.editor.getSelectedShapeIds().slice(),this.initialStartShape=this.editor.getShapesAtPoint(r)[0],this.onPointerMove()},this.onExit=()=>{this.initialSelectedShapeIds=[],this.editor.updateInstanceState({brush:null})},this.onTick=()=>{MS(this.editor)},this.onPointerMove=()=>{this.hitTestShapes()},this.onPointerUp=()=>{this.complete()},this.onComplete=()=>{this.complete()},this.onCancel=e=>{this.editor.setSelectedShapes(this.initialSelectedShapeIds,{squashing:!0}),this.parent.transition("idle",e)},this.onKeyDown=e=>{this.editor.inputs.altKey?this.parent.transition("scribble_brushing",e):this.hitTestShapes()},this.onKeyUp=()=>{this.hitTestShapes()},this.onInterrupt=()=>{this.editor.updateInstanceState({brush:null})}}complete(){this.parent.transition("idle")}hitTestShapes(){const e=this.editor.getZoomLevel(),n=this.editor.getCurrentPageShapes(),r=this.editor.getCurrentPageId(),{inputs:{originPagePoint:s,currentPagePoint:i,shiftKey:o,ctrlKey:a}}=this.editor;this.brush.setTo(fe.FromPoints([s,i]));const l=new Set(o?this.initialSelectedShapeIds:[]);let c,d,h,u,p,y;const{corners:m}=this.brush,{excludedShapeIds:w}=this;e:for(let S=0,b=n.length;S<b;S++){if(h=n[S],w.has(h.id)||l.has(h.id)||(u=this.editor.getShapePageBounds(h),!u))continue e;if(this.brush.contains(u)){this.handleHit(h,i,r,l,m);continue e}if(a||this.editor.isShapeOfType(h,"frame"))continue e;if(this.brush.collides(u)){const g=this.editor.getShapeGeometry(h);if(p=this.editor.getShapePageTransform(h),!p)continue e;y=p.clone().invert().applyToPoints(m);t:for(let x=0;x<y.length;x++)if(c=y[x],d=y[(x+1)%y.length],g.hitTestLineSegment(c,d,mi/e)){this.handleHit(h,i,r,l,m);break t}}}this.editor.updateInstanceState({brush:{...this.brush.toJson()}}),this.editor.setSelectedShapes(Array.from(l),{squashing:!0})}handleHit(e,n,r,s,i){if(e.parentId===r){s.add(e.id);return}const o=this.editor.getOutermostSelectableShape(e),a=this.editor.getShapeMask(o.id);a&&!BU(a,i)&&!no(n,a)||s.add(o.id)}}Xz.id="brushing";function h9(t){const e=t.getZoomLevel(),{inputs:{currentPagePoint:n}}=t;return t.getShapeAtPoint(n,{hitInside:!1,hitLabels:!1,margin:mi/e,renderingOnly:!0})??t.getSelectedShapeAtPoint(n)}function Yz(t,e,n){if(!e)throw Error("Needs to translate a cropped shape!");const{crop:r}=e.props;if(!r)return;const s=t.inputs.shiftKey?Math.abs(n.x)<Math.abs(n.y)?"x":"y":null;s==="x"?n.x=0:s==="y"&&(n.y=0),n.rot(-e.rotation);const i=1/(r.bottomRight.x-r.topLeft.x)*e.props.w,o=1/(r.bottomRight.y-r.topLeft.y)*e.props.h,a=r.bottomRight.y-r.topLeft.y,l=r.bottomRight.x-r.topLeft.x,c=jr(r);return c.topLeft.x=Math.min(1-l,Math.max(0,c.topLeft.x-n.x/i)),c.topLeft.y=Math.min(1-a,Math.max(0,c.topLeft.y-n.y/o)),c.bottomRight.x=c.topLeft.x+l,c.bottomRight.y=c.topLeft.y+a,{id:e.id,type:e.type,props:{crop:c}}}let Hz=class extends ae{constructor(){super(...arguments),this.onEnter=()=>{this.editor.updateInstanceState({cursor:{type:"default",rotation:0}},{ephemeral:!0});const e=this.editor.getOnlySelectedShape();this.editor.on("change-history",this.cleanupCroppingState),e&&(this.editor.mark("crop"),this.editor.setCroppingShape(e.id))},this.onExit=()=>{this.editor.updateInstanceState({cursor:{type:"default",rotation:0}},{ephemeral:!0}),this.editor.off("change-history",this.cleanupCroppingState)},this.onCancel=()=>{this.editor.setCroppingShape(null),this.editor.setCurrentTool("select.idle",{})},this.onPointerDown=e=>{var n;if(!this.editor.getIsMenuOpen()){if(e.ctrlKey){this.cancel(),this.editor.root.handleEvent(e);return}switch(e.target){case"canvas":{const r=h9(this.editor);if(r&&!this.editor.isShapeOfType(r,"group")){this.onPointerDown({...e,shape:r,target:"shape"});return}this.cancel(),this.editor.root.handleEvent(e);break}case"shape":{if(e.shape.id===this.editor.getCroppingShapeId()){this.editor.setCurrentTool("select.crop.pointing_crop",e);return}else(n=this.editor.getShapeUtil(e.shape))!=null&&n.canCrop(e.shape)?(this.editor.setCroppingShape(e.shape.id),this.editor.setSelectedShapes([e.shape.id]),this.editor.setCurrentTool("select.crop.pointing_crop",e)):(this.cancel(),this.editor.root.handleEvent(e));break}case"selection":{switch(e.handle){case"mobile_rotate":case"top_left_rotate":case"top_right_rotate":case"bottom_left_rotate":case"bottom_right_rotate":{this.editor.setCurrentTool("select.pointing_rotate_handle",{...e,onInteractionEnd:"select.crop"});break}case"top":case"right":case"bottom":case"left":{this.editor.setCurrentTool("select.pointing_crop_handle",{...e,onInteractionEnd:"select.crop"});break}case"top_left":case"top_right":case"bottom_left":case"bottom_right":{this.editor.setCurrentTool("select.pointing_crop_handle",{...e,onInteractionEnd:"select.crop"});break}default:this.cancel()}break}}}},this.onDoubleClick=e=>{var i;if(this.editor.inputs.shiftKey||e.phase!=="up")return;const n=this.editor.getCroppingShapeId();if(!n)return;const r=this.editor.getShape(n);if(!r)return;const s=this.editor.getShapeUtil(r);s&&e.target==="selection"&&((i=s.onDoubleClickEdge)==null||i.call(s,r))},this.onKeyDown=()=>{this.nudgeCroppingImage(!1)},this.onKeyRepeat=()=>{this.nudgeCroppingImage(!0)},this.onKeyUp=e=>{switch(e.code){case"Enter":{this.editor.setCroppingShape(null),this.editor.setCurrentTool("select.idle",{});break}}},this.cleanupCroppingState=()=>{this.editor.getCroppingShapeId()||this.editor.setCurrentTool("select.idle",{})}}cancel(){this.editor.setCroppingShape(null),this.editor.setCurrentTool("select.idle",{})}nudgeCroppingImage(e=!1){const{editor:{inputs:{keys:n}}}=this,r=n.has("ShiftLeft"),s=new I(0,0);if(n.has("ArrowLeft")&&(s.x+=1),n.has("ArrowRight")&&(s.x-=1),n.has("ArrowUp")&&(s.y+=1),n.has("ArrowDown")&&(s.y-=1),s.equals(new I(0,0)))return;r&&s.mul(10);const i=this.editor.getShape(this.editor.getCroppingShapeId());if(!i)return;const o=Yz(this.editor,i,s);o&&(e||this.editor.mark("translate crop"),this.editor.updateShapes([o]))}};Hz.id="idle";class Gz extends ae{constructor(){super(...arguments),this.onCancel=()=>{this.editor.setCurrentTool("select.crop.idle",{})},this.onPointerMove=e=>{this.editor.inputs.isDragging&&this.editor.setCurrentTool("select.crop.translating_crop",e)},this.onPointerUp=e=>{this.editor.setCurrentTool("select.crop.idle",e)}}}Gz.id="pointing_crop";class Zz extends ae{constructor(){super(...arguments),this.info={},this.markId="translating crop",this.snapshot={},this.onEnter=e=>{this.info=e,this.snapshot=this.createSnapshot(),this.editor.mark(this.markId),this.editor.setCursor({type:"move",rotation:0}),this.updateShapes()},this.onExit=()=>{this.editor.updateInstanceState({cursor:{type:"default",rotation:0}},{ephemeral:!0})},this.onPointerMove=()=>{this.updateShapes()},this.onPointerUp=()=>{this.complete()},this.onComplete=()=>{this.complete()},this.onCancel=()=>{this.cancel()},this.onKeyDown=e=>{switch(e.key){case"Alt":case"Shift":{this.updateShapes();return}}},this.onKeyUp=e=>{switch(e.key){case"Enter":{this.complete();return}case"Alt":case"Shift":this.updateShapes()}}}complete(){this.updateShapes(),this.editor.setCurrentTool("select.crop.idle",this.info)}cancel(){this.editor.bailToMark(this.markId),this.editor.setCurrentTool("select.crop.idle",this.info)}createSnapshot(){return{shape:this.editor.getOnlySelectedShape()}}updateShapes(){const e=this.snapshot.shape;if(!e)return;const{originPagePoint:n,currentPagePoint:r}=this.editor.inputs,s=r.clone().sub(n),i=Yz(this.editor,e,s);i&&this.editor.updateShapes([i],{squashing:!0})}}Zz.id="translating_crop";class w1 extends ae{}w1.id="crop";w1.initial="idle";w1.children=()=>[Hz,Zz,Gz];const Ps=8,lh={bottom:"ns-resize",top:"ns-resize",left:"ew-resize",right:"ew-resize",bottom_left:"nesw-resize",bottom_right:"nwse-resize",top_left:"nwse-resize",top_right:"nesw-resize",bottom_left_rotate:"swne-rotate",bottom_right_rotate:"senw-rotate",top_left_rotate:"nwse-rotate",top_right_rotate:"nesw-rotate",mobile_rotate:"grabbing"};class Qz extends ae{constructor(){super(...arguments),this.info={},this.onEnter=e=>{this.info=e,this.updateCursor()},this.onPointerMove=()=>{this.editor.inputs.isDragging&&this.parent.transition("resizing",this.info)},this.onPointerUp=()=>{this.complete()},this.onCancel=()=>{this.cancel()},this.onComplete=()=>{this.cancel()},this.onInterrupt=()=>{this.cancel()}}updateCursor(){const e=this.editor.getSelectedShapes(),n=lh[this.info.handle];this.editor.updateInstanceState({cursor:{type:n,rotation:e.length===1?e[0].rotation:0}})}complete(){this.info.onInteractionEnd?this.editor.setCurrentTool(this.info.onInteractionEnd,{}):this.parent.transition("idle")}cancel(){this.info.onInteractionEnd?this.editor.setCurrentTool(this.info.onInteractionEnd,{}):this.parent.transition("idle")}}Qz.id="pointing_resize_handle";class Jz extends ae{constructor(){super(...arguments),this.info={},this.markId="",this.snapshot={},this.onEnter=e=>{this.info=e,this.markId="cropping",this.editor.mark(this.markId),this.snapshot=this.createSnapshot(),this.updateShapes()},this.onPointerMove=()=>{this.updateShapes()},this.onPointerUp=()=>{this.complete()},this.onComplete=()=>{this.complete()},this.onCancel=()=>{this.cancel()},this.getDefaultCrop=()=>({topLeft:{x:0,y:0},bottomRight:{x:1,y:1}})}updateCursor(){const e=this.editor.getSelectedShapes()[0];if(!e)return;const n=lh[this.info.handle];this.editor.updateInstanceState({cursor:{type:n,rotation:e.rotation}})}updateShapes(){const{shape:e,cursorHandleOffset:n}=this.snapshot;if(!e||!this.editor.getShapeUtil("image"))return;const s=e.props,i=this.editor.inputs.currentPagePoint.clone().sub(n),o=this.editor.inputs.originPagePoint.clone().sub(n),a=i.clone().sub(o).rot(-e.rotation),l=s.crop??this.getDefaultCrop(),c=jr(l),d=new I(e.x,e.y),h=new I(0,0),u=1/(l.bottomRight.x-l.topLeft.x)*s.w,p=1/(l.bottomRight.y-l.topLeft.y)*s.h;let y=!1;switch(this.info.handle){case"top":case"top_left":case"top_right":{if(p<Ps)break;y=!0,c.topLeft.y=c.topLeft.y+a.y/p,p*(c.bottomRight.y-c.topLeft.y)<Ps?(c.topLeft.y=c.bottomRight.y-Ps/p,h.y=(c.topLeft.y-l.topLeft.y)*p):c.topLeft.y<=0?(c.topLeft.y=0,h.y=(c.topLeft.y-l.topLeft.y)*p):h.y=a.y;break}case"bottom":case"bottom_left":case"bottom_right":{if(p<Ps)break;y=!0,c.bottomRight.y=Math.min(1,c.bottomRight.y+a.y/p),p*(c.bottomRight.y-c.topLeft.y)<Ps&&(c.bottomRight.y=c.topLeft.y+Ps/p);break}}switch(this.info.handle){case"left":case"top_left":case"bottom_left":{if(u<Ps)break;y=!0,c.topLeft.x=c.topLeft.x+a.x/u,u*(c.bottomRight.x-c.topLeft.x)<Ps?(c.topLeft.x=c.bottomRight.x-Ps/u,h.x=(c.topLeft.x-l.topLeft.x)*u):c.topLeft.x<=0?(c.topLeft.x=0,h.x=(c.topLeft.x-l.topLeft.x)*u):h.x=a.x;break}case"right":case"top_right":case"bottom_right":{if(u<Ps)break;y=!0,c.bottomRight.x=Math.min(1,c.bottomRight.x+a.x/u),u*(c.bottomRight.x-c.topLeft.x)<Ps&&(c.bottomRight.x=c.topLeft.x+Ps/u);break}}if(!y)return;d.add(h.rot(e.rotation));const m={id:e.id,type:e.type,x:d.x,y:d.y,props:{crop:c,w:(c.bottomRight.x-c.topLeft.x)*u,h:(c.bottomRight.y-c.topLeft.y)*p}};this.editor.updateShapes([m],{squashing:!0}),this.updateCursor()}complete(){this.info.onInteractionEnd?this.editor.setCurrentTool(this.info.onInteractionEnd,this.info):(this.editor.setCroppingShape(null),this.parent.transition("idle"))}cancel(){this.editor.bailToMark(this.markId),this.info.onInteractionEnd?this.editor.setCurrentTool(this.info.onInteractionEnd,this.info):(this.editor.setCroppingShape(null),this.parent.transition("idle"))}createSnapshot(){const e=this.editor.getSelectionRotation(),{inputs:{originPagePoint:n}}=this.editor,r=this.editor.getOnlySelectedShape(),s=this.editor.getSelectionRotatedPageBounds(),i=I.RotWith(s.getHandlePoint(this.info.handle),s.point,e),o=I.Sub(n,i);return{shape:r,cursorHandleOffset:o}}}Jz.id="cropping";class eA extends ae{constructor(){super(...arguments),this.shapeId="",this.initialHandle={},this.initialAdjacentHandle=null,this.initialPagePoint={},this.markId="",this.info={},this.isPrecise=!1,this.isPreciseId=null,this.pointingId=null,this.onEnter=e=>{const{shape:n,isCreating:r,handle:s}=e;this.info=e,this.parent.setCurrentToolIdMask(e.onInteractionEnd),this.shapeId=n.id,this.markId=r?`creating:${n.id}`:"dragging handle",r||this.editor.mark(this.markId),this.initialHandle=jr(s),this.initialPageTransform=this.editor.getShapePageTransform(n),this.initialPageRotation=this.initialPageTransform.rotation(),this.initialPagePoint=this.editor.inputs.originPagePoint.clone(),this.editor.updateInstanceState({cursor:{type:r?"cross":"grabbing",rotation:0}},{ephemeral:!0});const i=this.editor.getShapeHandles(n).sort(tr),o=i.findIndex(l=>l.id===e.handle.id);this.initialAdjacentHandle=null;for(let l=o+1;l<i.length;l++){const c=i[l];if(c.type==="vertex"&&c.id!=="middle"&&c.id!==e.handle.id){this.initialAdjacentHandle=c;break}}if(!this.initialAdjacentHandle)for(let l=i.length-1;l>=0;l--){const c=i[l];if(c.type==="vertex"&&c.id!=="middle"&&c.id!==e.handle.id){this.initialAdjacentHandle=c;break}}const a=n.props[e.handle.id];this.isPrecise=!1,(a==null?void 0:a.type)==="binding"?(this.editor.setHintingShapes([a.boundShapeId]),this.isPrecise=a.isPrecise,this.isPrecise?this.isPreciseId=a.boundShapeId:this.resetExactTimeout()):this.editor.setHintingShapes([]),this.update(),this.editor.select(this.shapeId)},this.exactTimeout=-1,this.onPointerMove=()=>{this.update()},this.onKeyDown=()=>{this.update()},this.onKeyUp=()=>{this.update()},this.onPointerUp=()=>{this.complete()},this.onComplete=()=>{this.complete()},this.onCancel=()=>{this.cancel()},this.onExit=()=>{this.parent.setCurrentToolIdMask(void 0),this.editor.setHintingShapes([]),this.editor.snaps.clear(),this.editor.updateInstanceState({cursor:{type:"default",rotation:0}},{ephemeral:!0})}}resetExactTimeout(){this.exactTimeout!==-1&&this.clearExactTimeout(),this.exactTimeout=setTimeout(()=>{this.getIsActive()&&!this.isPrecise&&(this.isPrecise=!0,this.isPreciseId=this.pointingId,this.update()),this.exactTimeout=-1},750)}clearExactTimeout(){this.exactTimeout!==-1&&(clearTimeout(this.exactTimeout),this.exactTimeout=-1)}complete(){this.editor.snaps.clear();const{onInteractionEnd:e}=this.info;if(this.editor.getInstanceState().isToolLocked&&e){this.editor.setCurrentTool(e,{shapeId:this.shapeId});return}this.parent.transition("idle")}cancel(){this.editor.bailToMark(this.markId),this.editor.snaps.clear();const{onInteractionEnd:e}=this.info;if(e){this.editor.setCurrentTool(e,{shapeId:this.shapeId});return}this.parent.transition("idle")}update(){var k;const{editor:e,shapeId:n,initialPagePoint:r}=this,{initialHandle:s,initialPageRotation:i,initialAdjacentHandle:o}=this,a=this.editor.getHintingShapeIds(),l=this.editor.user.getIsSnapMode(),{snaps:c,inputs:{currentPagePoint:d,shiftKey:h,ctrlKey:u,altKey:p,pointerVelocity:y}}=e,m=this.info.shape,w=e.getShape(n);if(!w)return;const S=e.getShapeUtil(w);let b=d.clone().sub(r).rot(-i).add(s);if(h&&o&&s.id!=="middle"){const C=I.Angle(o,b),E=um(C,24)-C;b=I.RotWith(b,o,E)}if(e.snaps.clear(),s.canSnap&&(l?!u:u)){const C=e.getShapePageTransform(w.id);if(!C)throw Error("Expected a page transform");const _=e.getShapeHandles(w).filter(({type:P})=>P==="vertex").sort(tr).findIndex(({index:P})=>s.index===P),E=S.getOutlineSegments(w).map(P=>he.applyToPoints(C,P)).filter((P,A)=>A!==_-1&&A!==_),z=c.getSnappingHandleDelta({additionalSegments:E,handlePoint:he.applyToPoint(C,b)});z&&(z.rot(-e.getShapeParentTransform(w).rotation()),b.add(z))}const g=(k=S.onHandleChange)==null?void 0:k.call(S,w,{handle:{...s,x:b.x,y:b.y},isPrecise:this.isPrecise||p,initial:m}),x={...w,...g};if(s.canBind){const C=x.props[s.id];(C==null?void 0:C.type)==="binding"?a[0]!==C.boundShapeId&&(e.setHintingShapes([C.boundShapeId]),this.pointingId=C.boundShapeId,this.isPrecise=y.len()<.5||p,this.isPreciseId=this.isPrecise?C.boundShapeId:null,this.resetExactTimeout()):a.length>0&&(e.setHintingShapes([]),this.pointingId=null,this.isPrecise=!1,this.isPreciseId=null,this.resetExactTimeout())}g&&e.updateShapes([x],{squashing:!0})}}eA.id="dragging_handle";class tA extends ae{constructor(){super(...arguments),this.onEnter=()=>{const e=this.editor.getEditingShape();if(!e)throw Error("Entered editing state without an editing shape");_p(this.editor),this.editor.select(e)},this.onExit=()=>{var s;const{editingShapeId:e}=this.editor.getCurrentPageState();if(!e)return;this.editor.setEditingShape(null);const n=this.editor.getShape(e),r=this.editor.getShapeUtil(n);(s=r.onEditEnd)==null||s.call(r,n),setTimeout(()=>{this.editor.updateViewportScreenBounds()},500)},this.onPointerMove=e=>{switch(e.target){case"shape":case"canvas":{_p(this.editor);return}}},this.onPointerDown=e=>{switch(e.target){case"canvas":{const n=h9(this.editor);if(n){this.onPointerDown({...e,shape:n,target:"shape"});return}break}case"shape":{const{shape:n}=e,r=this.editor.getEditingShape();if(!r)throw Error("Expected an editing shape!");if(n.type===r.type)if(this.editor.isShapeOfType(n,"geo")||this.editor.isShapeOfType(n,"arrow")){const i=this.editor.getShapeUtil(n).getGeometry(n).children[1];if(i){const o=this.editor.getPointInShapeSpace(n,this.editor.inputs.currentPagePoint);if(i.bounds.containsPoint(o)){if(n.id===r.id)return;this.parent.transition("pointing_shape",e);return}}}else{if(n.id===r.id)this.editor.isShapeOfType(n,"frame")&&this.editor.setEditingShape(null);else{this.parent.transition("pointing_shape",e);return}return}break}}this.parent.transition("idle",e),this.editor.root.handleEvent(e)},this.onComplete=e=>{this.parent.transition("idle",e)},this.onCancel=e=>{this.parent.transition("idle",e)}}}tA.id="editing_shape";function T4(t){const e=t.getOnlySelectedShape();return!!(e&&!t.isShapeOrAncestorLocked(e)&&t.getShapeUtil(e).canCrop(e))}function Am(t){const e=t.getSelectedShapeIds(),{shiftKey:n,altKey:r,currentPagePoint:s}=t.inputs,i=t.getShapeAtPoint(s,{hitInside:!1,margin:mi/t.getZoomLevel(),hitLabels:!0,renderingOnly:!0,filter:o=>!o.isLocked});if(i){const o=t.getOutermostSelectableShape(i);if(n&&!r)t.cancelDoubleClick(),e.includes(o.id)?(t.mark("deselecting shape"),t.deselect(o)):(t.mark("shift selecting shape"),t.setSelectedShapes([...e,o.id]));else{let a;o===i||o.id===t.getFocusedGroupId()||e.includes(o.id)?a=i:a=o,a&&!e.includes(a.id)&&(t.mark("selecting shape"),t.select(a.id))}}else{if(n)return;{e.length>0&&(t.mark("selecting none"),t.selectNone());const o=t.getFocusedGroupId();if(zs(o)){const a=t.getShape(o);t.isPointInShape(a,s,{margin:0,hitInside:!0})||t.setFocusedGroup(null)}}}}let nA=class extends ae{constructor(){super(...arguments),this.onEnter=()=>{this.parent.setCurrentToolIdMask(void 0),_p(this.editor),this.editor.updateInstanceState({cursor:{type:"default",rotation:0}},{ephemeral:!0})},this.onPointerMove=()=>{_p(this.editor)},this.onPointerDown=e=>{if(this.editor.getIsMenuOpen())return;const n=e.ctrlKey&&T4(this.editor);if(e.ctrlKey&&!n){if(e.target==="shape"&&this.isDarwin&&this.editor.inputs.keys.has("ControlLeft")&&!this.editor.isShapeOrAncestorLocked(e.shape)){this.parent.transition("pointing_shape",e);return}this.parent.transition("brushing",e);return}switch(e.target){case"canvas":{const r=h9(this.editor);if(r&&!r.isLocked){this.onPointerDown({...e,shape:r,target:"shape"});return}const s=this.editor.getSelectedShapeIds(),i=this.editor.getOnlySelectedShape(),{inputs:{currentPagePoint:o}}=this.editor;if((s.length>1||i&&!this.editor.getShapeUtil(i).hideSelectionBoundsBg(i))&&L4(this.editor,o)){this.onPointerDown({...e,target:"selection"});return}this.parent.transition("pointing_canvas",e);break}case"shape":{if(this.editor.isShapeOrAncestorLocked(e.shape)){this.parent.transition("pointing_canvas",e);break}this.parent.transition("pointing_shape",e);break}case"handle":{if(this.editor.getInstanceState().isReadonly)break;this.editor.inputs.altKey?this.parent.transition("pointing_shape",e):this.parent.transition("pointing_handle",e);break}case"selection":{switch(e.handle){case"mobile_rotate":case"top_left_rotate":case"top_right_rotate":case"bottom_left_rotate":case"bottom_right_rotate":{this.parent.transition("pointing_rotate_handle",e);break}case"top":case"right":case"bottom":case"left":{n?this.parent.transition("pointing_crop_handle",e):this.parent.transition("pointing_resize_handle",e);break}case"top_left":case"top_right":case"bottom_left":case"bottom_right":{n?this.parent.transition("pointing_crop_handle",e):this.parent.transition("pointing_resize_handle",e);break}default:{const r=this.editor.getHoveredShape();if(r&&!this.editor.getSelectedShapeIds().includes(r.id)&&!r.isLocked){this.onPointerDown({...e,shape:r,target:"shape"});return}this.parent.transition("pointing_selection",e)}}break}}},this.onDoubleClick=e=>{var n,r,s,i;if(!(this.editor.inputs.shiftKey||e.phase!=="up"))switch(e.target){case"canvas":{const o=this.editor.getHoveredShape(),a=o&&!this.editor.isShapeOfType(o,"group")?o:this.editor.getSelectedShapeAtPoint(this.editor.inputs.currentPagePoint)??this.editor.getShapeAtPoint(this.editor.inputs.currentPagePoint,{margin:mi/this.editor.getZoomLevel(),hitInside:!1}),l=this.editor.getFocusedGroupId();if(a){if(this.editor.isShapeOfType(a,"group")){Am(this.editor);return}else{const c=this.editor.getShape(a.parentId);if(c&&this.editor.isShapeOfType(c,"group")&&!(l&&c.id===l)){Am(this.editor);return}}this.onDoubleClick({...e,shape:a,target:"shape"});return}this.editor.inputs.shiftKey||this.handleDoubleClickOnCanvas(e);break}case"selection":{if(this.editor.getInstanceState().isReadonly)break;const o=this.editor.getOnlySelectedShape();if(o){const a=this.editor.getShapeUtil(o);if(!this.canInteractWithShapeInReadOnly(o))return;if(e.handle==="right"||e.handle==="left"||e.handle==="top"||e.handle==="bottom"){const l=(n=a.onDoubleClickEdge)==null?void 0:n.call(a,o);if(l){this.editor.mark("double click edge"),this.editor.updateShapes([l]);return}}if(a.canCrop(o)&&!this.editor.isShapeOrAncestorLocked(o)){this.parent.transition("crop",e);return}this.shouldStartEditingShape(o)&&this.startEditingShape(o,e)}break}case"shape":{const{shape:o}=e,a=this.editor.getShapeUtil(o);if(o.type!=="video"&&o.type!=="embed"&&this.editor.getInstanceState().isReadonly)break;if(a.onDoubleClick){const l=(r=a.onDoubleClick)==null?void 0:r.call(a,o);if(l){this.editor.updateShapes([l]);return}else if(a.canCrop(o)&&!this.editor.isShapeOrAncestorLocked(o)){this.editor.mark("select and crop"),this.editor.select((s=e.shape)==null?void 0:s.id),this.parent.transition("crop",e);return}}this.shouldStartEditingShape(o)?this.startEditingShape(o,e):this.handleDoubleClickOnCanvas(e);break}case"handle":{if(this.editor.getInstanceState().isReadonly)break;const{shape:o,handle:a}=e,l=this.editor.getShapeUtil(o),c=(i=l.onDoubleClickHandle)==null?void 0:i.call(l,o,a);c?this.editor.updateShapes([c]):this.shouldStartEditingShape(o)&&this.startEditingShape(o,e)}}},this.onRightClick=e=>{switch(e.target){case"canvas":{const n=this.editor.getHoveredShape(),r=n&&!this.editor.isShapeOfType(n,"group")?n:this.editor.getShapeAtPoint(this.editor.inputs.currentPagePoint,{margin:mi/this.editor.getZoomLevel(),hitInside:!1,hitLabels:!0,hitFrameInside:!1,renderingOnly:!0});if(r){this.onRightClick({...e,shape:r,target:"shape"});return}const s=this.editor.getSelectedShapeIds(),i=this.editor.getOnlySelectedShape(),{inputs:{currentPagePoint:o}}=this.editor;if((s.length>1||i&&!this.editor.getShapeUtil(i).hideSelectionBoundsBg(i))&&L4(this.editor,o)){this.onRightClick({...e,target:"selection"});return}this.editor.selectNone();break}case"shape":{const{selectedShapeIds:n}=this.editor.getCurrentPageState(),{shape:r}=e,s=this.editor.getOutermostSelectableShape(r,i=>!n.includes(i.id));n.includes(s.id)||(this.editor.mark("selecting shape"),this.editor.setSelectedShapes([s.id]));break}}},this.onCancel=()=>{this.editor.getFocusedGroupId()!==this.editor.getCurrentPageId()&&this.editor.getSelectedShapeIds().length>0?this.editor.popFocusedGroupId():(this.editor.mark("clearing selection"),this.editor.selectNone())},this.onKeyDown=e=>{switch(e.code){case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"ArrowDown":{this.nudgeSelectedShapes(!1);break}}},this.onKeyRepeat=e=>{switch(e.code){case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"ArrowDown":{this.nudgeSelectedShapes(!0);break}}},this.onKeyUp=e=>{switch(e.code){case"Enter":{const n=this.editor.getSelectedShapes();if(n.every(s=>this.editor.isShapeOfType(s,"group"))){this.editor.setSelectedShapes(n.flatMap(s=>this.editor.getSortedChildIdsForParent(s.id)));return}const r=this.editor.getOnlySelectedShape();if(r&&this.shouldStartEditingShape(r)){this.startEditingShape(r,{...e,target:"shape",shape:r});return}T4(this.editor)&&this.parent.transition("crop",e);break}}},this.isDarwin=window.navigator.userAgent.toLowerCase().indexOf("mac")>-1}shouldStartEditingShape(e=this.editor.getOnlySelectedShape()){return!e||this.editor.isShapeOrAncestorLocked(e)&&e.type!=="embed"||!this.canInteractWithShapeInReadOnly(e)?!1:this.editor.getShapeUtil(e).canEdit(e)}startEditingShape(e,n){this.editor.isShapeOrAncestorLocked(e)&&e.type!=="embed"||(this.editor.mark("editing shape"),this.editor.setEditingShape(e.id),this.parent.transition("editing_shape",n))}handleDoubleClickOnCanvas(e){if(this.editor.getInstanceState().isReadonly)return;this.editor.mark("creating text shape");const n=at(),{x:r,y:s}=this.editor.inputs.currentPagePoint;this.editor.createShapes([{id:n,type:"text",x:r,y:s,props:{text:"",autoSize:!0}}]);const i=this.editor.getShape(n);if(!i)return;const o=this.editor.getShapeUtil(i);this.editor.getInstanceState().isReadonly&&!o.canEditInReadOnly(i)||(this.editor.setEditingShape(n),this.editor.select(n),this.parent.transition("editing_shape",e))}nudgeSelectedShapes(e=!1){const{editor:{inputs:{keys:n}}}=this,r=n.has("ShiftLeft"),s=new I(0,0);if(n.has("ArrowLeft")&&(s.x-=1),n.has("ArrowRight")&&(s.x+=1),n.has("ArrowUp")&&(s.y-=1),n.has("ArrowDown")&&(s.y+=1),s.equals(new I(0,0)))return;e||this.editor.mark("nudge shapes");const{gridSize:i}=this.editor.getDocumentSettings(),o=this.editor.getInstanceState().isGridMode?r?i*Rne:i:r?Mne:jne;this.editor.nudgeShapes(this.editor.getSelectedShapeIds(),s.mul(o))}canInteractWithShapeInReadOnly(e){return!!(!this.editor.getInstanceState().isReadonly||this.editor.getShapeUtil(e).canEditInReadOnly(e))}};nA.id="idle";const Mne=10,jne=1,Rne=5;function L4(t,e){const n=t.getSelectionRotatedPageBounds();if(!n)return!1;const r=t.getSelectionRotation();return r?no(e,n.corners.map(s=>I.RotWith(s,n.point,r))):n.containsPoint(e)}class rA extends ae{constructor(){super(...arguments),this.onEnter=()=>{const{inputs:e}=this.editor;e.shiftKey||this.editor.getSelectedShapeIds().length>0&&(this.editor.mark("selecting none"),this.editor.selectNone())},this.onPointerMove=e=>{this.editor.inputs.isDragging&&this.parent.transition("brushing",e)},this.onPointerUp=()=>{Am(this.editor),this.complete()},this.onComplete=()=>{this.complete()},this.onInterrupt=()=>{this.parent.transition("idle")}}complete(){this.parent.transition("idle")}}rA.id="pointing_canvas";class sA extends ae{constructor(){super(...arguments),this.info={},this.onEnter=e=>{this.info=e,this.parent.setCurrentToolIdMask(e.onInteractionEnd);const n=this.editor.getSelectedShapes()[0];n&&(this.updateCursor(n),this.editor.setCroppingShape(n.id))},this.onExit=()=>{this.editor.updateInstanceState({cursor:{type:"default",rotation:0}},{ephemeral:!0}),this.parent.setCurrentToolIdMask(void 0)},this.onPointerMove=()=>{this.editor.inputs.isDragging&&this.parent.transition("cropping",{...this.info,onInteractionEnd:this.info.onInteractionEnd})},this.onPointerUp=()=>{this.info.onInteractionEnd?this.editor.setCurrentTool(this.info.onInteractionEnd,this.info):(this.editor.setCroppingShape(null),this.parent.transition("idle"))},this.onCancel=()=>{this.cancel()},this.onComplete=()=>{this.cancel()},this.onInterrupt=()=>{this.cancel()}}updateCursor(e){const n=lh[this.info.handle];this.editor.updateInstanceState({cursor:{type:n,rotation:e.rotation}})}cancel(){this.info.onInteractionEnd?this.editor.setCurrentTool(this.info.onInteractionEnd,this.info):(this.editor.setCroppingShape(null),this.parent.transition("idle"))}}sA.id="pointing_crop_handle";class iA extends ae{constructor(){super(...arguments),this.info={},this.onEnter=e=>{this.info=e;const n=e.shape.props[e.handle.id];(n==null?void 0:n.type)==="binding"&&this.editor.setHintingShapes([n.boundShapeId]),this.editor.updateInstanceState({cursor:{type:"grabbing",rotation:0}},{ephemeral:!0})},this.onExit=()=>{this.editor.setHintingShapes([]),this.editor.updateInstanceState({cursor:{type:"default",rotation:0}},{ephemeral:!0})},this.onPointerUp=()=>{this.parent.transition("idle",this.info)},this.onPointerMove=()=>{this.editor.inputs.isDragging&&this.parent.transition("dragging_handle",this.info)},this.onCancel=()=>{this.cancel()},this.onComplete=()=>{this.cancel()},this.onInterrupt=()=>{this.cancel()}}cancel(){this.parent.transition("idle")}}iA.id="pointing_handle";class oA extends ae{constructor(){super(...arguments),this.info={},this.onEnter=e=>{this.parent.setCurrentToolIdMask(e.onInteractionEnd),this.info=e,this.updateCursor()},this.onExit=()=>{this.parent.setCurrentToolIdMask(void 0),this.editor.updateInstanceState({cursor:{type:"default",rotation:0}},{ephemeral:!0})},this.onPointerMove=()=>{const{isDragging:e}=this.editor.inputs;e&&this.parent.transition("rotating",this.info)},this.onPointerUp=()=>{this.complete()},this.onCancel=()=>{this.cancel()},this.onComplete=()=>{this.cancel()},this.onInterrupt=()=>{this.cancel()}}updateCursor(){const e=this.editor.getSelectionRotation();this.editor.updateInstanceState({cursor:{type:lh[this.info.handle],rotation:e}})}complete(){this.info.onInteractionEnd?this.editor.setCurrentTool(this.info.onInteractionEnd,{}):this.parent.transition("idle")}cancel(){this.info.onInteractionEnd?this.editor.setCurrentTool(this.info.onInteractionEnd,{}):this.parent.transition("idle")}}oA.id="pointing_rotate_handle";class aA extends ae{constructor(){super(...arguments),this.info={},this.onEnter=e=>{this.info=e},this.onPointerUp=e=>{Am(this.editor),this.parent.transition("idle",e)},this.onPointerMove=e=>{if(this.editor.inputs.isDragging){if(this.editor.getInstanceState().isReadonly)return;this.parent.transition("translating",e)}},this.onDoubleClick=e=>{var s,i;const n=this.editor.getHoveredShape(),r=n&&!this.editor.isShapeOfType(n,"group")?n:this.editor.getShapeAtPoint(this.editor.inputs.currentPagePoint,{hitInside:!0,margin:0,renderingOnly:!0});if(r){this.parent.transition("idle"),(i=(s=this.parent).onDoubleClick)==null||i.call(s,{...e,target:"shape",shape:this.editor.getShape(r)});return}},this.onCancel=()=>{this.cancel()},this.onComplete=()=>{this.cancel()},this.onInterrupt=()=>{this.cancel()}}cancel(){this.parent.transition("idle")}}aA.id="pointing_selection";class lA extends ae{constructor(){super(...arguments),this.hitShape={},this.hitShapeForPointerUp={},this.didSelectOnEnter=!1,this.onEnter=e=>{const n=this.editor.getSelectedShapeIds(),r=this.editor.getSelectionRotatedPageBounds(),s=this.editor.getFocusedGroupId(),{inputs:{currentPagePoint:i,shiftKey:o,altKey:a}}=this.editor;this.hitShape=e.shape;const l=this.editor.getOutermostSelectableShape(e.shape);if(this.editor.getShapeUtil(e.shape).onClick||l.id===s||n.includes(l.id)||this.editor.isAncestorSelected(l.id)||n.length>1&&(r!=null&&r.containsPoint(i))){this.didSelectOnEnter=!1,this.hitShapeForPointerUp=l;return}this.didSelectOnEnter=!0,o&&!a?(this.editor.cancelDoubleClick(),n.includes(l.id)||(this.editor.mark("shift selecting shape"),this.editor.setSelectedShapes([...n,l.id]))):(this.editor.mark("selecting shape"),this.editor.setSelectedShapes([l.id]))},this.onPointerUp=e=>{var c;const n=this.editor.getSelectedShapeIds(),r=this.editor.getFocusedGroupId(),s=this.editor.getZoomLevel(),{inputs:{currentPagePoint:i,shiftKey:o}}=this.editor,a=this.editor.getShapeAtPoint(i,{margin:mi/s,hitInside:!0,renderingOnly:!0})??this.hitShape,l=a?this.editor.getOutermostSelectableShape(a):this.hitShapeForPointerUp;if(l){const d=this.editor.getShapeUtil(l);if(d.onClick){const h=(c=d.onClick)==null?void 0:c.call(d,l);if(h){this.editor.mark("shape on click"),this.editor.updateShapes([h]),this.parent.transition("idle",e);return}}if(l.id===r){n.length>0?(this.editor.mark("clearing shape ids"),this.editor.setSelectedShapes([])):this.editor.popFocusedGroupId(),this.parent.transition("idle",e);return}}if(!this.didSelectOnEnter){const d=this.editor.getOutermostSelectableShape(a,h=>!n.includes(h.id));if(n.includes(d.id))if(o)this.editor.mark("deselecting on pointer up"),this.editor.deselect(l);else if(n.includes(l.id)){if(n.length===1&&(this.editor.isShapeOfType(l,"geo")||this.editor.isShapeOfType(l,"arrow"))){const u=this.editor.getShapeGeometry(l).children[1];if(u){const p=this.editor.getPointInShapeSpace(l,i);if(u.bounds.containsPoint(p,0)&&u.hitTestPoint(p)){this.editor.batch(()=>{this.editor.mark("editing on pointer up"),this.editor.select(l.id);const y=this.editor.getShapeUtil(l);this.editor.getInstanceState().isReadonly&&!y.canEditInReadOnly(l)||(this.editor.setEditingShape(l.id),this.editor.setCurrentTool("select.editing_shape"))});return}}}this.editor.mark("selecting on pointer up"),this.editor.select(l.id)}else this.editor.mark("selecting on pointer up"),this.editor.select(l);else if(o){const h=this.editor.getShapeAncestors(d);this.editor.mark("shift deselecting on pointer up"),this.editor.setSelectedShapes([...this.editor.getSelectedShapeIds().filter(u=>!h.find(p=>p.id===u)),d.id])}else this.editor.mark("selecting on pointer up"),this.editor.setSelectedShapes([d.id])}this.parent.transition("idle",e)},this.onPointerMove=e=>{if(this.editor.inputs.isDragging){if(this.editor.getInstanceState().isReadonly)return;this.parent.transition("translating",e)}},this.onCancel=()=>{this.cancel()},this.onComplete=()=>{this.cancel()},this.onInterrupt=()=>{this.cancel()}}cancel(){this.parent.transition("idle")}}lA.id="pointing_shape";class cA extends ae{constructor(){super(...arguments),this.info={},this.markId="",this.didHoldCommand=!1,this.creationCursorOffset={x:0,y:0},this.snapshot={},this.onEnter=e=>{const{isCreating:n=!1,creationCursorOffset:r={x:0,y:0}}=e;this.info=e,this.didHoldCommand=!1,this.parent.setCurrentToolIdMask(e.onInteractionEnd),this.creationCursorOffset=r,this.snapshot=this._createSnapshot(),n?(this.markId=`creating:${this.editor.getOnlySelectedShape().id}`,this.editor.updateInstanceState({cursor:{type:"cross",rotation:0}},{ephemeral:!0})):(this.markId="starting resizing",this.editor.mark(this.markId)),this.handleResizeStart(),this.updateShapes()},this.onTick=()=>{MS(this.editor)},this.onPointerMove=()=>{this.updateShapes()},this.onKeyDown=()=>{this.updateShapes()},this.onKeyUp=()=>{this.updateShapes()},this.onPointerUp=()=>{this.complete()},this.onComplete=()=>{this.complete()},this.onCancel=()=>{this.cancel()},this.onExit=()=>{this.parent.setCurrentToolIdMask(void 0),this.editor.updateInstanceState({cursor:{type:"default",rotation:0}},{ephemeral:!0}),this.editor.snaps.clear()},this._createSnapshot=()=>{const e=this.editor.getSelectedShapeIds(),n=this.editor.getSelectionRotation(),{inputs:{originPagePoint:r}}=this.editor,s=this.editor.getSelectionRotatedPageBounds(),i=I.RotWith(s.getHandlePoint(this.info.handle),s.point,n),o=I.Sub(r,i),a=new Map,l=[];e.forEach(d=>{const h=this.editor.getShape(d);if(h){if(h.type==="frame"&&l.push({id:d,children:ke(this.editor.getSortedChildIdsForParent(h).map(u=>this.editor.getShape(u)))}),a.set(h.id,this._createShapeSnapshot(h)),this.editor.isShapeOfType(h,"frame")&&e.length===1)return;this.editor.visitDescendants(h.id,u=>{const p=this.editor.getShape(u);if(p&&(a.set(p.id,this._createShapeSnapshot(p)),this.editor.isShapeOfType(p,"frame")))return!1})}});const c=![...a.values()].some(d=>!KE(d.pageRotation,n)||d.isAspectRatioLocked);return{shapeSnapshots:a,selectionBounds:s,cursorHandleOffset:o,selectionRotation:n,selectedShapeIds:e,canShapesDeform:c,initialSelectionPageBounds:this.editor.getSelectionPageBounds(),frames:l}},this._createShapeSnapshot=e=>{const n=this.editor.getShapePageTransform(e),r=this.editor.getShapeUtil(e);return{shape:e,bounds:this.editor.getShapeGeometry(e).bounds,pageTransform:n,pageRotation:he.Decompose(n).rotation,isAspectRatioLocked:r.isAspectRatioLocked(e)}}}cancel(){this.editor.bailToMark(this.markId),this.info.onInteractionEnd?this.editor.setCurrentTool(this.info.onInteractionEnd,{}):this.parent.transition("idle")}complete(){var e,n;if(this.handleResizeEnd(),this.info.isCreating&&this.info.onCreate){(n=(e=this.info).onCreate)==null||n.call(e,this.editor.getOnlySelectedShape());return}if(this.editor.getInstanceState().isToolLocked&&this.info.onInteractionEnd){this.editor.setCurrentTool(this.info.onInteractionEnd,{});return}this.parent.transition("idle")}handleResizeStart(){const{shapeSnapshots:e}=this.snapshot,n=[];e.forEach(({shape:r})=>{var o;const s=this.editor.getShapeUtil(r),i=(o=s.onResizeStart)==null?void 0:o.call(s,r);i&&n.push(i)}),n.length>0&&this.editor.updateShapes(n)}handleResizeEnd(){const{shapeSnapshots:e}=this.snapshot,n=[];e.forEach(({shape:r})=>{var a;const s=this.editor.getShape(r.id),i=this.editor.getShapeUtil(r),o=(a=i.onResizeEnd)==null?void 0:a.call(i,r,s);o&&n.push(o)}),n.length>0&&this.editor.updateShapes(n)}updateShapes(){const{altKey:e,shiftKey:n}=this.editor.inputs,{frames:r,shapeSnapshots:s,selectionBounds:i,cursorHandleOffset:o,selectedShapeIds:a,selectionRotation:l,canShapesDeform:c}=this.snapshot,d=n||!c,{ctrlKey:h}=this.editor.inputs,u=this.editor.inputs.currentPagePoint.clone().sub(o).sub(this.creationCursorOffset),p=this.editor.inputs.originPagePoint.clone().sub(o);if(this.editor.getInstanceState().isGridMode&&!h){const{gridSize:_}=this.editor.getDocumentSettings();u.snapToGrid(_)}const y=this.info.handle,m=M4(y,Math.PI);if(this.editor.snaps.clear(),(this.editor.user.getIsSnapMode()?!h:h)&&l%tt===0){const{nudge:_}=this.editor.snaps.snapResize({dragDelta:I.Sub(u,p),initialSelectionPageBounds:this.snapshot.initialSelectionPageBounds,handle:M4(y,l),isAspectRatioLocked:d,isResizingFromCenter:e});u.add(_)}const S=I.RotWith(e?i.center:i.getHandlePoint(m),i.point,l),b=I.Sub(u,S).rot(-l),g=I.Sub(p,S).rot(-l),x=I.DivV(b,g);Number.isFinite(x.x)||(x.x=1),Number.isFinite(x.y)||(x.y=1);const k=y==="top"||y==="bottom",C=y==="left"||y==="right";d?C?x.y=Math.abs(x.x):k?x.x=Math.abs(x.y):Math.abs(x.x)>Math.abs(x.y)?x.y=Math.abs(x.x)*(x.y<0?-1:1):x.x=Math.abs(x.y)*(x.x<0?-1:1):(k&&(x.x=1),C&&(x.y=1)),this.info.isCreating||this.updateCursor({dragHandle:y,isFlippedX:x.x<0,isFlippedY:x.y<0,rotation:l});for(const _ of s.keys()){const E=s.get(_);this.editor.resizeShape(_,x,{initialShape:E.shape,initialBounds:E.bounds,initialPageTransform:E.pageTransform,dragHandle:y,mode:a.length===1&&_===a[0]?"resize_bounds":"scale_shape",scaleOrigin:S,scaleAxisRotation:l})}if(this.editor.inputs.ctrlKey){this.didHoldCommand=!0;for(const{id:_,children:E}of r){if(!E.length)continue;const z=s.get(_).shape,P=this.editor.getShape(_);if(!(z&&P))continue;const A=P.x-z.x,N=P.y-z.y,L=new I(A,N).rot(-z.rotation);if(L.x!==0||L.y!==0)for(const M of E)this.editor.updateShape({id:M.id,type:M.type,x:M.x-L.x,y:M.y-L.y})}}else if(this.didHoldCommand){this.didHoldCommand=!1;for(const{children:_}of r)if(_.length)for(const E of _)this.editor.updateShape({id:E.id,type:E.type,x:E.x,y:E.y})}}updateCursor({dragHandle:e,isFlippedX:n,isFlippedY:r,rotation:s}){const i={...this.editor.getInstanceState().cursor};switch(e){case"top_left":case"bottom_right":{i.type="nwse-resize",n!==r&&(i.type="nesw-resize");break}case"top_right":case"bottom_left":{i.type="nesw-resize",n!==r&&(i.type="nwse-resize");break}}i.rotation=s,this.editor.setCursor(i)}}cA.id="resizing";const bx=["top","top_right","right","bottom_right","bottom","bottom_left","left","top_left"];function M4(t,e){e=e%nt;const n=Math.round(e/(et/4)),r=bx.indexOf(t);return bx[(r+n)%bx.length]}class dA extends ae{constructor(){super(...arguments),this.snapshot={},this.info={},this.markId="",this.onEnter=e=>{this.info=e,this.parent.setCurrentToolIdMask(e.onInteractionEnd),this.markId="rotate start",this.editor.mark(this.markId);const n=jI({editor:this.editor});if(!n)return this.parent.transition("idle",this.info);this.snapshot=n,this.handleStart()},this.onExit=()=>{this.editor.setCursor({type:"default",rotation:0}),this.parent.setCurrentToolIdMask(void 0),this.snapshot={}},this.onPointerMove=()=>{this.update()},this.onKeyDown=()=>{this.update()},this.onKeyUp=()=>{this.update()},this.onPointerUp=()=>{this.complete()},this.onComplete=()=>{this.complete()},this.onCancel=()=>{this.cancel()},this.update=()=>{const e=this._getRotationFromPointerPosition({snapToNearestDegree:!1});_0({editor:this.editor,delta:e,snapshot:this.snapshot,stage:"update"}),this.editor.updateInstanceState({cursor:{type:lh[this.info.handle],rotation:e+this.snapshot.initialSelectionRotation}})},this.cancel=()=>{this.editor.bailToMark(this.markId),this.info.onInteractionEnd?this.editor.setCurrentTool(this.info.onInteractionEnd,this.info):this.parent.transition("idle",this.info)},this.complete=()=>{_0({editor:this.editor,delta:this._getRotationFromPointerPosition({snapToNearestDegree:!0}),snapshot:this.snapshot,stage:"end"}),this.info.onInteractionEnd?this.editor.setCurrentTool(this.info.onInteractionEnd,this.info):this.parent.transition("idle",this.info)}}handleStart(){const e=this._getRotationFromPointerPosition({snapToNearestDegree:!1});_0({editor:this.editor,delta:this._getRotationFromPointerPosition({snapToNearestDegree:!1}),snapshot:this.snapshot,stage:"start"}),this.editor.updateInstanceState({cursor:{type:lh[this.info.handle],rotation:e+this.snapshot.initialSelectionRotation}})}_getRotationFromPointerPosition({snapToNearestDegree:e}){const n=this.editor.getSelectionRotation(),r=this.editor.getSelectionRotatedPageBounds(),{inputs:{shiftKey:s,currentPagePoint:i}}=this.editor,{initialCursorAngle:o,initialSelectionRotation:a}=this.snapshot;if(!r)return a;const c=r.center.clone().rotWith(r.point,n).angle(i)-o;let d=a+c;if(s)d=um(d,24);else if(e&&(d=Math.round(d/S7)*S7,this.editor.getInstanceState().isCoarsePointer)){const h=um(d,4),u=YB(d,h);Math.abs(u)<HB(5)&&(d=h)}return d-a}}dA.id="rotating";class hA extends ae{constructor(){super(...arguments),this.hits=new Set,this.size=0,this.scribbleId="id",this.initialSelectedShapeIds=new Set,this.newlySelectedShapeIds=new Set,this.onEnter=()=>{this.initialSelectedShapeIds=new Set(this.editor.inputs.shiftKey?this.editor.getSelectedShapeIds():[]),this.newlySelectedShapeIds=new Set,this.size=0,this.hits.clear();const e=this.editor.scribbles.addScribble({color:"selection-stroke",opacity:.32,size:12});this.scribbleId=e.id,this.updateScribbleSelection(!0),requestAnimationFrame(()=>{this.editor.updateInstanceState({brush:null})})},this.onExit=()=>{this.editor.scribbles.stop(this.scribbleId)},this.onPointerMove=()=>{this.updateScribbleSelection(!0)},this.onPointerUp=()=>{this.complete()},this.onKeyDown=()=>{this.updateScribbleSelection(!1)},this.onKeyUp=()=>{this.editor.inputs.altKey?this.updateScribbleSelection(!1):this.parent.transition("brushing")},this.onCancel=()=>{this.cancel()},this.onComplete=()=>{this.complete()},this.pushPointToScribble=()=>{const{x:e,y:n}=this.editor.inputs.currentPagePoint;this.editor.scribbles.addPoint(this.scribbleId,e,n)}}updateScribbleSelection(e){const n=this.editor.getZoomLevel(),r=this.editor.getCurrentPageShapes(),{inputs:{shiftKey:s,originPagePoint:i,previousPagePoint:o,currentPagePoint:a}}=this.editor,{newlySelectedShapeIds:l,initialSelectedShapeIds:c}=this;e&&this.pushPointToScribble();const d=r;let h,u,p,y;for(let m=0,w=d.length;m<w;m++)if(h=d[m],u=this.editor.getShapeGeometry(h),!(this.editor.isShapeOfType(h,"group")||l.has(h.id)||this.editor.isShapeOrAncestorLocked(h))){if(this.editor.isShapeOfType(h,"frame")){const S=this.editor.getPointInShapeSpace(h,i);if(u.bounds.containsPoint(S))continue}if(p=this.editor.getPointInShapeSpace(h,o),y=this.editor.getPointInShapeSpace(h,a),u.hitTestLineSegment(p,y,mi/n)){const S=this.editor.getOutermostSelectableShape(h),b=this.editor.getShapeMask(S.id);if(b&&II(o,a,b)!==null&&!no(a,b))continue;l.add(S.id)}}this.editor.setSelectedShapes([...new Set(s?[...l,...c]:[...l])],{squashing:!0})}complete(){this.parent.transition("idle")}cancel(){this.editor.setSelectedShapes([...this.initialSelectedShapeIds],{squashing:!0}),this.parent.transition("idle")}}hA.id="scribble_brushing";const j4=100;class $ne{constructor(e){this.editor=e,this.prevDroppingShapeId=null,this.droppingNodeTimer=null,this.first=!0,this.dispose=()=>{this.clear()},e.disposables.add(this.dispose)}updateDroppingNode(e,n){var r;this.first&&(this.prevDroppingShapeId=((r=this.editor.getDroppingOverShape(this.editor.inputs.originPagePoint,e))==null?void 0:r.id)??null,this.first=!1),this.droppingNodeTimer===null?this.setDragTimer(e,j4*10,n):this.editor.inputs.pointerVelocity.len()>.5&&(clearInterval(this.droppingNodeTimer),this.setDragTimer(e,j4,n))}setDragTimer(e,n,r){this.droppingNodeTimer=setTimeout(()=>{this.editor.batch(()=>{this.handleDrag(this.editor.inputs.currentPagePoint,e,r)}),this.droppingNodeTimer=null},n)}handleDrag(e,n,r){var l,c,d,h,u;n=ke(n.map(p=>this.editor.getShape(p.id)));const s=((l=this.editor.getDroppingOverShape(e,n))==null?void 0:l.id)??null;if(s===this.prevDroppingShapeId)return;const{prevDroppingShapeId:i}=this,o=i&&this.editor.getShape(i),a=s&&this.editor.getShape(s);if(o&&((d=(c=this.editor.getShapeUtil(o)).onDragShapesOut)==null||d.call(c,o,n)),a){const p=(u=(h=this.editor.getShapeUtil(a)).onDragShapesOver)==null?void 0:u.call(h,a,n);p&&p.shouldHint&&this.editor.setHintingShapes([a.id])}else this.editor.setHintingShapes([]);r==null||r(),this.prevDroppingShapeId=s}dropShapes(e){var r,s;const{prevDroppingShapeId:n}=this;if(this.handleDrag(this.editor.inputs.currentPagePoint,e),n){const i=this.editor.getShape(n);if(!i)return;(s=(r=this.editor.getShapeUtil(i)).onDropShapesOver)==null||s.call(r,i,e)}}clear(){this.prevDroppingShapeId=null,this.droppingNodeTimer!==null&&clearInterval(this.droppingNodeTimer),this.droppingNodeTimer=null,this.editor.setHintingShapes([]),this.first=!0}}class uA extends ae{constructor(){super(...arguments),this.info={},this.selectionSnapshot={},this.snapshot={},this.markId="",this.isCloning=!1,this.isCreating=!1,this.onCreate=()=>{},this.dragAndDropManager=new $ne(this.editor),this.onEnter=e=>{const{isCreating:n=!1,onCreate:r=()=>{}}=e;if(this.info=e,this.parent.setCurrentToolIdMask(e.onInteractionEnd),this.isCreating=n,this.onCreate=r,n?this.markId=`creating:${this.editor.getOnlySelectedShape().id}`:(this.markId="translating",this.editor.mark(this.markId)),this.isCloning=!1,this.info=e,this.editor.setCursor({type:"move",rotation:0}),this.selectionSnapshot=R4(this.editor),!this.isCreating&&this.editor.inputs.altKey){this.startCloning();return}this.snapshot=this.selectionSnapshot,this.handleStart(),this.updateShapes()},this.onExit=()=>{this.parent.setCurrentToolIdMask(void 0),this.selectionSnapshot={},this.snapshot={},this.editor.snaps.clear(),this.editor.updateInstanceState({cursor:{type:"default",rotation:0}},{ephemeral:!0}),this.dragAndDropManager.clear()},this.onTick=()=>{this.dragAndDropManager.updateDroppingNode(this.snapshot.movingShapes,this.updateParentTransforms),MS(this.editor)},this.onPointerMove=()=>{this.updateShapes()},this.onKeyDown=()=>{if(this.editor.inputs.altKey&&!this.isCloning){this.startCloning();return}this.updateShapes()},this.onKeyUp=()=>{if(!this.editor.inputs.altKey&&this.isCloning){this.stopCloning();return}this.updateShapes()},this.onPointerUp=()=>{this.complete()},this.onComplete=()=>{this.complete()},this.onCancel=()=>{this.cancel()},this.updateParentTransforms=()=>{const{editor:e,snapshot:{shapeSnapshots:n}}=this;n.forEach(r=>{const s=e.getShape(r.shape.id);if(!s)return null;const i=zr(s.parentId)?null:he.Inverse(e.getShapePageTransform(s.parentId));r.parentTransform=i})}}startCloning(){this.isCreating||(this.isCloning=!0,this.reset(),this.markId="translating",this.editor.mark(this.markId),this.editor.duplicateShapes(Array.from(this.editor.getSelectedShapeIds())),this.snapshot=R4(this.editor),this.handleStart(),this.updateShapes())}stopCloning(){this.isCloning=!1,this.snapshot=this.selectionSnapshot,this.reset(),this.markId="translating",this.editor.mark(this.markId),this.updateShapes()}reset(){this.editor.bailToMark(this.markId)}complete(){var e;this.updateShapes(),this.dragAndDropManager.dropShapes(this.snapshot.movingShapes),this.handleEnd(),this.editor.getInstanceState().isToolLocked&&this.info.onInteractionEnd?this.editor.setCurrentTool(this.info.onInteractionEnd):this.isCreating?(e=this.onCreate)==null||e.call(this,this.editor.getOnlySelectedShape()):this.parent.transition("idle")}cancel(){this.reset(),this.info.onInteractionEnd?this.editor.setCurrentTool(this.info.onInteractionEnd):this.parent.transition("idle",this.info)}handleStart(){const{movingShapes:e}=this.snapshot,n=[];e.forEach(r=>{var o;const s=this.editor.getShapeUtil(r),i=(o=s.onTranslateStart)==null?void 0:o.call(s,r);i&&n.push(i)}),n.length>0&&this.editor.updateShapes(n),this.editor.setHoveredShape(null)}handleEnd(){const{movingShapes:e}=this.snapshot,n=[];e.forEach(r=>{var a;const s=this.editor.getShape(r.id),i=this.editor.getShapeUtil(r),o=(a=i.onTranslateEnd)==null?void 0:a.call(i,r,s);o&&n.push(o)}),n.length>0&&this.editor.updateShapes(n)}handleChange(){const{movingShapes:e}=this.snapshot,n=[];e.forEach(r=>{var a;const s=this.editor.getShape(r.id),i=this.editor.getShapeUtil(r),o=(a=i.onTranslate)==null?void 0:a.call(i,r,s);o&&n.push(o)}),n.length>0&&this.editor.updateShapes(n)}updateShapes(){const{snapshot:e}=this;this.dragAndDropManager.updateDroppingNode(e.movingShapes,this.updateParentTransforms),One({editor:this.editor,shapeSnapshots:e.shapeSnapshots,averagePagePoint:e.averagePagePoint,initialSelectionPageBounds:e.initialPageBounds,initialSelectionSnapPoints:e.initialSnapPoints}),this.handleChange()}}uA.id="translating";function R4(t){const e=[],n=[],r=ke(t.getSelectedShapeIds().map(i=>{const o=t.getShape(i);if(!o)return null;e.push(o);const a=t.getShapePageTransform(i).point();if(!a)return null;n.push(a);const l=$o.isId(o.parentId)?null:he.Inverse(t.getShapePageTransform(o.parentId));return{shape:o,pagePoint:a,parentTransform:l}}));let s=[];if(t.getSelectedShapeIds().length===1)s=t.snaps.getSnapPointsCache().get(t.getSelectedShapeIds()[0]);else{const i=t.getSelectionPageBounds();i&&(s=i.snapPoints.map((o,a)=>({id:"selection:"+a,x:o.x,y:o.y})))}return{averagePagePoint:I.Average(n),movingShapes:e,shapeSnapshots:r,initialPageBounds:t.getSelectionPageBounds(),initialSnapPoints:s}}function One({editor:t,shapeSnapshots:e,averagePagePoint:n,initialSelectionPageBounds:r,initialSelectionSnapPoints:s}){const{inputs:i}=t,o=t.getInstanceState().isGridMode,a=t.getDocumentSettings().gridSize,l=I.Sub(i.currentPagePoint,i.originPagePoint),c=t.inputs.shiftKey?Math.abs(l.x)<Math.abs(l.y)?"x":"y":null;if(c==="x"?l.x=0:c==="y"&&(l.y=0),t.snaps.clear(),(t.user.getIsSnapMode()?!i.ctrlKey:i.ctrlKey)&&t.inputs.pointerVelocity.len()<.5){const{nudge:p}=t.snaps.snapTranslate({dragDelta:l,initialSelectionPageBounds:r,lockedAxis:c,initialSelectionSnapPoints:s});l.add(p)}const h=I.Add(n,l);o&&!i.ctrlKey&&h.snapToGrid(a);const u=I.Sub(h,n);t.updateShapes(ke(e.map(({shape:p,pagePoint:y,parentTransform:m})=>{const w=I.Add(y,u),S=m?he.applyToPoint(m,w):w;return{id:p.id,type:p.type,x:S.x,y:S.y}})),{squashing:!0})}class S1 extends ae{constructor(){super(...arguments),this.onExit=()=>{this.editor.getCurrentPageState().editingShapeId&&this.editor.setEditingShape(null)}}}S1.id="select";S1.initial="idle";S1.children=()=>[w1,Jz,nA,rA,lA,uA,Xz,hA,sA,aA,Qz,tA,cA,dA,oA,iA,eA];let pA=class extends ae{constructor(){super(...arguments),this.info={},this.onEnter=e=>{this.info=e},this.onPointerDown=()=>{this.parent.transition("pointing",this.info)}}};pA.id="idle";let fA=class extends ae{constructor(){super(...arguments),this.info={},this.onEnter=e=>{this.info=e},this.onPointerUp=()=>{this.complete()},this.onPointerMove=()=>{this.editor.inputs.isDragging&&this.parent.transition("zoom_brushing",this.info)},this.onCancel=()=>{this.cancel()}}complete(){const{currentScreenPoint:e}=this.editor.inputs;this.editor.inputs.altKey?this.editor.zoomOut(e,{duration:220}):this.editor.zoomIn(e,{duration:220}),this.parent.transition("idle",this.info)}cancel(){this.parent.transition("idle",this.info)}};fA.id="pointing";class gA extends ae{constructor(){super(...arguments),this.info={},this.zoomBrush=new fe,this.onEnter=e=>{this.info=e,this.update()},this.onExit=()=>{this.editor.updateInstanceState({zoomBrush:null})},this.onPointerMove=()=>{this.update()},this.onPointerUp=()=>{this.complete()},this.onCancel=()=>{this.cancel()}}update(){const{inputs:{originPagePoint:e,currentPagePoint:n}}=this.editor;this.zoomBrush.setTo(fe.FromPoints([e,n])),this.editor.updateInstanceState({zoomBrush:this.zoomBrush.toJson()})}cancel(){this.parent.transition("idle",this.info)}complete(){const{zoomBrush:e}=this,n=8/this.editor.getZoomLevel();if(e.width<n&&e.height<n){const r=this.editor.inputs.currentScreenPoint;this.editor.inputs.altKey?this.editor.zoomOut(r,{duration:220}):this.editor.zoomIn(r,{duration:220})}else{const r=this.editor.inputs.altKey?this.editor.getZoomLevel()/2:void 0;this.editor.zoomToBounds(e,r,{duration:220})}this.parent.transition("idle",this.info)}}gA.id="zoom_brushing";class b1 extends ae{constructor(){super(...arguments),this.info={},this.onEnter=e=>{this.info=e,this.parent.setCurrentToolIdMask(e.onInteractionEnd),this.updateCursor()},this.onExit=()=>{this.parent.setCurrentToolIdMask(void 0),this.editor.updateInstanceState({zoomBrush:null,cursor:{type:"default",rotation:0}},{ephemeral:!0}),this.parent.setCurrentToolIdMask(void 0)},this.onKeyDown=()=>{this.updateCursor()},this.onKeyUp=e=>{this.updateCursor(),e.code==="KeyZ"&&this.complete()},this.onInterrupt=()=>{this.complete()}}complete(){this.info.onInteractionEnd&&this.info.onInteractionEnd!=="select"?this.editor.setCurrentTool(this.info.onInteractionEnd,this.info):this.parent.transition("select")}updateCursor(){this.editor.inputs.altKey?this.editor.updateInstanceState({cursor:{type:"zoom-out",rotation:0}},{ephemeral:!0}):this.editor.updateInstanceState({cursor:{type:"zoom-in",rotation:0}},{ephemeral:!0})}}b1.id="zoom";b1.initial="idle";b1.children=()=>[pA,gA,fA];const mA=[m1,y1,x1,b1,S1];function re(){return re=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},re.apply(null,arguments)}var yA={exports:{}},xs={},xA={exports:{}},wA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,K){var W=O.length;O.push(K);e:for(;0<W;){var G=W-1>>>1,J=O[G];if(0<s(J,K))O[G]=K,O[W]=J,W=G;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var K=O[0],W=O.pop();if(W!==K){O[0]=W;e:for(var G=0,J=O.length,ye=J>>>1;G<ye;){var Le=2*(G+1)-1,ne=O[Le],ve=Le+1,Ie=O[ve];if(0>s(ne,W))ve<J&&0>s(Ie,ne)?(O[G]=Ie,O[ve]=W,G=ve):(O[G]=ne,O[Le]=W,G=Le);else if(ve<J&&0>s(Ie,W))O[G]=Ie,O[ve]=W,G=ve;else break e}}return K}function s(O,K){var W=O.sortIndex-K.sortIndex;return W!==0?W:O.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,u=3,p=!1,y=!1,m=!1,w=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(O){for(var K=n(c);K!==null;){if(K.callback===null)r(c);else if(K.startTime<=O)r(c),K.sortIndex=K.expirationTime,e(l,K);else break;K=n(c)}}function x(O){if(m=!1,g(O),!y)if(n(l)!==null)y=!0,D(k);else{var K=n(c);K!==null&&X(x,K.startTime-O)}}function k(O,K){y=!1,m&&(m=!1,S(E),E=-1),p=!0;var W=u;try{for(g(K),h=n(l);h!==null&&(!(h.expirationTime>K)||O&&!A());){var G=h.callback;if(typeof G=="function"){h.callback=null,u=h.priorityLevel;var J=G(h.expirationTime<=K);K=t.unstable_now(),typeof J=="function"?h.callback=J:h===n(l)&&r(l),g(K)}else r(l);h=n(l)}if(h!==null)var ye=!0;else{var Le=n(c);Le!==null&&X(x,Le.startTime-K),ye=!1}return ye}finally{h=null,u=W,p=!1}}var C=!1,_=null,E=-1,z=5,P=-1;function A(){return!(t.unstable_now()-P<z)}function N(){if(_!==null){var O=t.unstable_now();P=O;var K=!0;try{K=_(!0,O)}finally{K?L():(C=!1,_=null)}}else C=!1}var L;if(typeof b=="function")L=function(){b(N)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,q=M.port2;M.port1.onmessage=N,L=function(){q.postMessage(null)}}else L=function(){w(N,0)};function D(O){_=O,C||(C=!0,L())}function X(O,K){E=w(function(){O(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){y||p||(y=!0,D(k))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return u},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(O){switch(u){case 1:case 2:case 3:var K=3;break;default:K=u}var W=u;u=K;try{return O()}finally{u=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,K){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var W=u;u=O;try{return K()}finally{u=W}},t.unstable_scheduleCallback=function(O,K,W){var G=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?G+W:G):W=G,O){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=W+J,O={id:d++,callback:K,priorityLevel:O,startTime:W,expirationTime:J,sortIndex:-1},W>G?(O.sortIndex=W,e(c,O),n(l)===null&&O===n(c)&&(m?(S(E),E=-1):m=!0,X(x,W-G))):(O.sortIndex=J,e(l,O),y||p||(y=!0,D(k))),O},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(O){var K=u;return function(){var W=u;u=K;try{return O.apply(this,arguments)}finally{u=W}}}})(wA);xA.exports=wA;var Dne=xA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qne=v,gs=Dne;function ee(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var SA=new Set,Pp={};function Cc(t,e){ch(t,e),ch(t+"Capture",e)}function ch(t,e){for(Pp[t]=e,t=0;t<e.length;t++)SA.add(e[t])}var Do=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sw=Object.prototype.hasOwnProperty,Bne=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$4={},O4={};function Fne(t){return Sw.call(O4,t)?!0:Sw.call($4,t)?!1:Bne.test(t)?O4[t]=!0:($4[t]=!0,!1)}function Kne(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Wne(t,e,n,r){if(e===null||typeof e>"u"||Kne(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function _r(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Kn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Kn[t]=new _r(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Kn[e]=new _r(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Kn[t]=new _r(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Kn[t]=new _r(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Kn[t]=new _r(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Kn[t]=new _r(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Kn[t]=new _r(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Kn[t]=new _r(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Kn[t]=new _r(t,5,!1,t.toLowerCase(),null,!1,!1)});var u9=/[\-:]([a-z])/g;function p9(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(u9,p9);Kn[e]=new _r(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(u9,p9);Kn[e]=new _r(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(u9,p9);Kn[e]=new _r(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Kn[t]=new _r(t,1,!1,t.toLowerCase(),null,!1,!1)});Kn.xlinkHref=new _r("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Kn[t]=new _r(t,1,!1,t.toLowerCase(),null,!0,!0)});function f9(t,e,n,r){var s=Kn.hasOwnProperty(e)?Kn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Wne(e,n,s,r)&&(n=null),r||s===null?Fne(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Go=qne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ag=Symbol.for("react.element"),Cd=Symbol.for("react.portal"),_d=Symbol.for("react.fragment"),g9=Symbol.for("react.strict_mode"),bw=Symbol.for("react.profiler"),bA=Symbol.for("react.provider"),vA=Symbol.for("react.context"),m9=Symbol.for("react.forward_ref"),vw=Symbol.for("react.suspense"),kw=Symbol.for("react.suspense_list"),y9=Symbol.for("react.memo"),ya=Symbol.for("react.lazy"),kA=Symbol.for("react.offscreen"),D4=Symbol.iterator;function lu(t){return t===null||typeof t!="object"?null:(t=D4&&t[D4]||t["@@iterator"],typeof t=="function"?t:null)}var Qt=Object.assign,vx;function Ou(t){if(vx===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);vx=e&&e[1]||""}return`
`+vx+t}var kx=!1;function Cx(t,e){if(!t||kx)return"";kx=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{kx=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ou(t):""}function Une(t){switch(t.tag){case 5:return Ou(t.type);case 16:return Ou("Lazy");case 13:return Ou("Suspense");case 19:return Ou("SuspenseList");case 0:case 2:case 15:return t=Cx(t.type,!1),t;case 11:return t=Cx(t.type.render,!1),t;case 1:return t=Cx(t.type,!0),t;default:return""}}function Cw(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _d:return"Fragment";case Cd:return"Portal";case bw:return"Profiler";case g9:return"StrictMode";case vw:return"Suspense";case kw:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case vA:return(t.displayName||"Context")+".Consumer";case bA:return(t._context.displayName||"Context")+".Provider";case m9:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case y9:return e=t.displayName||null,e!==null?e:Cw(t.type)||"Memo";case ya:e=t._payload,t=t._init;try{return Cw(t(e))}catch{}}return null}function Vne(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cw(e);case 8:return e===g9?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Fa(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function CA(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Xne(t){var e=CA(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ng(t){t._valueTracker||(t._valueTracker=Xne(t))}function _A(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=CA(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Nm(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function _w(t,e){var n=e.checked;return Qt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function q4(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Fa(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function EA(t,e){e=e.checked,e!=null&&f9(t,"checked",e,!1)}function Ew(t,e){EA(t,e);var n=Fa(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Iw(t,e.type,n):e.hasOwnProperty("defaultValue")&&Iw(t,e.type,Fa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function B4(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Iw(t,e,n){(e!=="number"||Nm(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Du=Array.isArray;function Ud(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Fa(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Pw(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ee(91));return Qt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function F4(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ee(92));if(Du(n)){if(1<n.length)throw Error(ee(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Fa(n)}}function IA(t,e){var n=Fa(e.value),r=Fa(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function K4(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function PA(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zw(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?PA(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Tg,zA=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Tg=Tg||document.createElement("div"),Tg.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Tg.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function zp(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Qu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Yne=["Webkit","ms","Moz","O"];Object.keys(Qu).forEach(function(t){Yne.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Qu[e]=Qu[t]})});function AA(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Qu.hasOwnProperty(t)&&Qu[t]?(""+e).trim():e+"px"}function NA(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=AA(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var Hne=Qt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Aw(t,e){if(e){if(Hne[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ee(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ee(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ee(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ee(62))}}function Nw(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tw=null;function x9(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Lw=null,Vd=null,Xd=null;function W4(t){if(t=Mf(t)){if(typeof Lw!="function")throw Error(ee(280));var e=t.stateNode;e&&(e=E1(e),Lw(t.stateNode,t.type,e))}}function TA(t){Vd?Xd?Xd.push(t):Xd=[t]:Vd=t}function LA(){if(Vd){var t=Vd,e=Xd;if(Xd=Vd=null,W4(t),e)for(t=0;t<e.length;t++)W4(e[t])}}function MA(t,e){return t(e)}function jA(){}var _x=!1;function RA(t,e,n){if(_x)return t(e,n);_x=!0;try{return MA(t,e,n)}finally{_x=!1,(Vd!==null||Xd!==null)&&(jA(),LA())}}function Ap(t,e){var n=t.stateNode;if(n===null)return null;var r=E1(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ee(231,e,typeof n));return n}var Mw=!1;if(Do)try{var cu={};Object.defineProperty(cu,"passive",{get:function(){Mw=!0}}),window.addEventListener("test",cu,cu),window.removeEventListener("test",cu,cu)}catch{Mw=!1}function Gne(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Ju=!1,Tm=null,Lm=!1,jw=null,Zne={onError:function(t){Ju=!0,Tm=t}};function Qne(t,e,n,r,s,i,o,a,l){Ju=!1,Tm=null,Gne.apply(Zne,arguments)}function Jne(t,e,n,r,s,i,o,a,l){if(Qne.apply(this,arguments),Ju){if(Ju){var c=Tm;Ju=!1,Tm=null}else throw Error(ee(198));Lm||(Lm=!0,jw=c)}}function _c(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function $A(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function U4(t){if(_c(t)!==t)throw Error(ee(188))}function ere(t){var e=t.alternate;if(!e){if(e=_c(t),e===null)throw Error(ee(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return U4(s),t;if(i===r)return U4(s),e;i=i.sibling}throw Error(ee(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(ee(189))}}if(n.alternate!==r)throw Error(ee(190))}if(n.tag!==3)throw Error(ee(188));return n.stateNode.current===n?t:e}function OA(t){return t=ere(t),t!==null?DA(t):null}function DA(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=DA(t);if(e!==null)return e;t=t.sibling}return null}var qA=gs.unstable_scheduleCallback,V4=gs.unstable_cancelCallback,tre=gs.unstable_shouldYield,nre=gs.unstable_requestPaint,an=gs.unstable_now,rre=gs.unstable_getCurrentPriorityLevel,w9=gs.unstable_ImmediatePriority,BA=gs.unstable_UserBlockingPriority,Mm=gs.unstable_NormalPriority,sre=gs.unstable_LowPriority,FA=gs.unstable_IdlePriority,v1=null,Xi=null;function ire(t){if(Xi&&typeof Xi.onCommitFiberRoot=="function")try{Xi.onCommitFiberRoot(v1,t,void 0,(t.current.flags&128)===128)}catch{}}var ui=Math.clz32?Math.clz32:lre,ore=Math.log,are=Math.LN2;function lre(t){return t>>>=0,t===0?32:31-(ore(t)/are|0)|0}var Lg=64,Mg=4194304;function qu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function jm(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=qu(a):(i&=o,i!==0&&(r=qu(i)))}else o=n&~s,o!==0?r=qu(o):i!==0&&(r=qu(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ui(e),s=1<<n,r|=t[n],e&=~s;return r}function cre(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dre(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-ui(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=cre(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Rw(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function KA(){var t=Lg;return Lg<<=1,!(Lg&4194240)&&(Lg=64),t}function Ex(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Tf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ui(e),t[e]=n}function hre(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-ui(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function S9(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ui(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var lt=0;function WA(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var UA,b9,VA,XA,YA,$w=!1,jg=[],Ta=null,La=null,Ma=null,Np=new Map,Tp=new Map,Sa=[],ure="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function X4(t,e){switch(t){case"focusin":case"focusout":Ta=null;break;case"dragenter":case"dragleave":La=null;break;case"mouseover":case"mouseout":Ma=null;break;case"pointerover":case"pointerout":Np.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tp.delete(e.pointerId)}}function du(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Mf(e),e!==null&&b9(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function pre(t,e,n,r,s){switch(e){case"focusin":return Ta=du(Ta,t,e,n,r,s),!0;case"dragenter":return La=du(La,t,e,n,r,s),!0;case"mouseover":return Ma=du(Ma,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Np.set(i,du(Np.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Tp.set(i,du(Tp.get(i)||null,t,e,n,r,s)),!0}return!1}function HA(t){var e=Ol(t.target);if(e!==null){var n=_c(e);if(n!==null){if(e=n.tag,e===13){if(e=$A(n),e!==null){t.blockedOn=e,YA(t.priority,function(){VA(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function A0(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ow(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Tw=r,n.target.dispatchEvent(r),Tw=null}else return e=Mf(n),e!==null&&b9(e),t.blockedOn=n,!1;e.shift()}return!0}function Y4(t,e,n){A0(t)&&n.delete(e)}function fre(){$w=!1,Ta!==null&&A0(Ta)&&(Ta=null),La!==null&&A0(La)&&(La=null),Ma!==null&&A0(Ma)&&(Ma=null),Np.forEach(Y4),Tp.forEach(Y4)}function hu(t,e){t.blockedOn===e&&(t.blockedOn=null,$w||($w=!0,gs.unstable_scheduleCallback(gs.unstable_NormalPriority,fre)))}function Lp(t){function e(s){return hu(s,t)}if(0<jg.length){hu(jg[0],t);for(var n=1;n<jg.length;n++){var r=jg[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ta!==null&&hu(Ta,t),La!==null&&hu(La,t),Ma!==null&&hu(Ma,t),Np.forEach(e),Tp.forEach(e),n=0;n<Sa.length;n++)r=Sa[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Sa.length&&(n=Sa[0],n.blockedOn===null);)HA(n),n.blockedOn===null&&Sa.shift()}var Yd=Go.ReactCurrentBatchConfig,Rm=!0;function gre(t,e,n,r){var s=lt,i=Yd.transition;Yd.transition=null;try{lt=1,v9(t,e,n,r)}finally{lt=s,Yd.transition=i}}function mre(t,e,n,r){var s=lt,i=Yd.transition;Yd.transition=null;try{lt=4,v9(t,e,n,r)}finally{lt=s,Yd.transition=i}}function v9(t,e,n,r){if(Rm){var s=Ow(t,e,n,r);if(s===null)Rx(t,e,r,$m,n),X4(t,r);else if(pre(s,t,e,n,r))r.stopPropagation();else if(X4(t,r),e&4&&-1<ure.indexOf(t)){for(;s!==null;){var i=Mf(s);if(i!==null&&UA(i),i=Ow(t,e,n,r),i===null&&Rx(t,e,r,$m,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Rx(t,e,r,null,n)}}var $m=null;function Ow(t,e,n,r){if($m=null,t=x9(r),t=Ol(t),t!==null)if(e=_c(t),e===null)t=null;else if(n=e.tag,n===13){if(t=$A(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return $m=t,null}function GA(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rre()){case w9:return 1;case BA:return 4;case Mm:case sre:return 16;case FA:return 536870912;default:return 16}default:return 16}}var Ia=null,k9=null,N0=null;function ZA(){if(N0)return N0;var t,e=k9,n=e.length,r,s="value"in Ia?Ia.value:Ia.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return N0=s.slice(t,1<r?1-r:void 0)}function T0(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Rg(){return!0}function H4(){return!1}function ws(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Rg:H4,this.isPropagationStopped=H4,this}return Qt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Rg)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Rg)},persist:function(){},isPersistent:Rg}),e}var Lh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},C9=ws(Lh),Lf=Qt({},Lh,{view:0,detail:0}),yre=ws(Lf),Ix,Px,uu,k1=Qt({},Lf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_9,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==uu&&(uu&&t.type==="mousemove"?(Ix=t.screenX-uu.screenX,Px=t.screenY-uu.screenY):Px=Ix=0,uu=t),Ix)},movementY:function(t){return"movementY"in t?t.movementY:Px}}),G4=ws(k1),xre=Qt({},k1,{dataTransfer:0}),wre=ws(xre),Sre=Qt({},Lf,{relatedTarget:0}),zx=ws(Sre),bre=Qt({},Lh,{animationName:0,elapsedTime:0,pseudoElement:0}),vre=ws(bre),kre=Qt({},Lh,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Cre=ws(kre),_re=Qt({},Lh,{data:0}),Z4=ws(_re),Ere={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ire={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pre={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zre(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Pre[t])?!!e[t]:!1}function _9(){return zre}var Are=Qt({},Lf,{key:function(t){if(t.key){var e=Ere[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=T0(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ire[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_9,charCode:function(t){return t.type==="keypress"?T0(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?T0(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Nre=ws(Are),Tre=Qt({},k1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Q4=ws(Tre),Lre=Qt({},Lf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_9}),Mre=ws(Lre),jre=Qt({},Lh,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rre=ws(jre),$re=Qt({},k1,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ore=ws($re),Dre=[9,13,27,32],E9=Do&&"CompositionEvent"in window,ep=null;Do&&"documentMode"in document&&(ep=document.documentMode);var qre=Do&&"TextEvent"in window&&!ep,QA=Do&&(!E9||ep&&8<ep&&11>=ep),J4=String.fromCharCode(32),e8=!1;function JA(t,e){switch(t){case"keyup":return Dre.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eN(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ed=!1;function Bre(t,e){switch(t){case"compositionend":return eN(e);case"keypress":return e.which!==32?null:(e8=!0,J4);case"textInput":return t=e.data,t===J4&&e8?null:t;default:return null}}function Fre(t,e){if(Ed)return t==="compositionend"||!E9&&JA(t,e)?(t=ZA(),N0=k9=Ia=null,Ed=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return QA&&e.locale!=="ko"?null:e.data;default:return null}}var Kre={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function t8(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Kre[t.type]:e==="textarea"}function tN(t,e,n,r){TA(r),e=Om(e,"onChange"),0<e.length&&(n=new C9("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var tp=null,Mp=null;function Wre(t){uN(t,0)}function C1(t){var e=zd(t);if(_A(e))return t}function Ure(t,e){if(t==="change")return e}var nN=!1;if(Do){var Ax;if(Do){var Nx="oninput"in document;if(!Nx){var n8=document.createElement("div");n8.setAttribute("oninput","return;"),Nx=typeof n8.oninput=="function"}Ax=Nx}else Ax=!1;nN=Ax&&(!document.documentMode||9<document.documentMode)}function r8(){tp&&(tp.detachEvent("onpropertychange",rN),Mp=tp=null)}function rN(t){if(t.propertyName==="value"&&C1(Mp)){var e=[];tN(e,Mp,t,x9(t)),RA(Wre,e)}}function Vre(t,e,n){t==="focusin"?(r8(),tp=e,Mp=n,tp.attachEvent("onpropertychange",rN)):t==="focusout"&&r8()}function Xre(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return C1(Mp)}function Yre(t,e){if(t==="click")return C1(e)}function Hre(t,e){if(t==="input"||t==="change")return C1(e)}function Gre(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var xi=typeof Object.is=="function"?Object.is:Gre;function jp(t,e){if(xi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Sw.call(e,s)||!xi(t[s],e[s]))return!1}return!0}function s8(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function i8(t,e){var n=s8(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=s8(n)}}function sN(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?sN(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function iN(){for(var t=window,e=Nm();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Nm(t.document)}return e}function I9(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Zre(t){var e=iN(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&sN(n.ownerDocument.documentElement,n)){if(r!==null&&I9(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=i8(n,i);var o=i8(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Qre=Do&&"documentMode"in document&&11>=document.documentMode,Id=null,Dw=null,np=null,qw=!1;function o8(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;qw||Id==null||Id!==Nm(r)||(r=Id,"selectionStart"in r&&I9(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),np&&jp(np,r)||(np=r,r=Om(Dw,"onSelect"),0<r.length&&(e=new C9("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Id)))}function $g(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Pd={animationend:$g("Animation","AnimationEnd"),animationiteration:$g("Animation","AnimationIteration"),animationstart:$g("Animation","AnimationStart"),transitionend:$g("Transition","TransitionEnd")},Tx={},oN={};Do&&(oN=document.createElement("div").style,"AnimationEvent"in window||(delete Pd.animationend.animation,delete Pd.animationiteration.animation,delete Pd.animationstart.animation),"TransitionEvent"in window||delete Pd.transitionend.transition);function _1(t){if(Tx[t])return Tx[t];if(!Pd[t])return t;var e=Pd[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in oN)return Tx[t]=e[n];return t}var aN=_1("animationend"),lN=_1("animationiteration"),cN=_1("animationstart"),dN=_1("transitionend"),hN=new Map,a8="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function tl(t,e){hN.set(t,e),Cc(e,[t])}for(var Lx=0;Lx<a8.length;Lx++){var Mx=a8[Lx],Jre=Mx.toLowerCase(),ese=Mx[0].toUpperCase()+Mx.slice(1);tl(Jre,"on"+ese)}tl(aN,"onAnimationEnd");tl(lN,"onAnimationIteration");tl(cN,"onAnimationStart");tl("dblclick","onDoubleClick");tl("focusin","onFocus");tl("focusout","onBlur");tl(dN,"onTransitionEnd");ch("onMouseEnter",["mouseout","mouseover"]);ch("onMouseLeave",["mouseout","mouseover"]);ch("onPointerEnter",["pointerout","pointerover"]);ch("onPointerLeave",["pointerout","pointerover"]);Cc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tse=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bu));function l8(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Jne(r,e,void 0,t),t.currentTarget=null}function uN(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;l8(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;l8(s,a,c),i=l}}}if(Lm)throw t=jw,Lm=!1,jw=null,t}function It(t,e){var n=e[Uw];n===void 0&&(n=e[Uw]=new Set);var r=t+"__bubble";n.has(r)||(pN(e,t,2,!1),n.add(r))}function jx(t,e,n){var r=0;e&&(r|=4),pN(n,t,r,e)}var Og="_reactListening"+Math.random().toString(36).slice(2);function Rp(t){if(!t[Og]){t[Og]=!0,SA.forEach(function(n){n!=="selectionchange"&&(tse.has(n)||jx(n,!1,t),jx(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Og]||(e[Og]=!0,jx("selectionchange",!1,e))}}function pN(t,e,n,r){switch(GA(e)){case 1:var s=gre;break;case 4:s=mre;break;default:s=v9}n=s.bind(null,e,n,t),s=void 0,!Mw||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Rx(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Ol(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}RA(function(){var c=i,d=x9(n),h=[];e:{var u=hN.get(t);if(u!==void 0){var p=C9,y=t;switch(t){case"keypress":if(T0(n)===0)break e;case"keydown":case"keyup":p=Nre;break;case"focusin":y="focus",p=zx;break;case"focusout":y="blur",p=zx;break;case"beforeblur":case"afterblur":p=zx;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=G4;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=wre;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Mre;break;case aN:case lN:case cN:p=vre;break;case dN:p=Rre;break;case"scroll":p=yre;break;case"wheel":p=Ore;break;case"copy":case"cut":case"paste":p=Cre;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Q4}var m=(e&4)!==0,w=!m&&t==="scroll",S=m?u!==null?u+"Capture":null:u;m=[];for(var b=c,g;b!==null;){g=b;var x=g.stateNode;if(g.tag===5&&x!==null&&(g=x,S!==null&&(x=Ap(b,S),x!=null&&m.push($p(b,x,g)))),w)break;b=b.return}0<m.length&&(u=new p(u,y,null,n,d),h.push({event:u,listeners:m}))}}if(!(e&7)){e:{if(u=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",u&&n!==Tw&&(y=n.relatedTarget||n.fromElement)&&(Ol(y)||y[qo]))break e;if((p||u)&&(u=d.window===d?d:(u=d.ownerDocument)?u.defaultView||u.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=c,y=y?Ol(y):null,y!==null&&(w=_c(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=c),p!==y)){if(m=G4,x="onMouseLeave",S="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(m=Q4,x="onPointerLeave",S="onPointerEnter",b="pointer"),w=p==null?u:zd(p),g=y==null?u:zd(y),u=new m(x,b+"leave",p,n,d),u.target=w,u.relatedTarget=g,x=null,Ol(d)===c&&(m=new m(S,b+"enter",y,n,d),m.target=g,m.relatedTarget=w,x=m),w=x,p&&y)t:{for(m=p,S=y,b=0,g=m;g;g=Gc(g))b++;for(g=0,x=S;x;x=Gc(x))g++;for(;0<b-g;)m=Gc(m),b--;for(;0<g-b;)S=Gc(S),g--;for(;b--;){if(m===S||S!==null&&m===S.alternate)break t;m=Gc(m),S=Gc(S)}m=null}else m=null;p!==null&&c8(h,u,p,m,!1),y!==null&&w!==null&&c8(h,w,y,m,!0)}}e:{if(u=c?zd(c):window,p=u.nodeName&&u.nodeName.toLowerCase(),p==="select"||p==="input"&&u.type==="file")var k=Ure;else if(t8(u))if(nN)k=Hre;else{k=Xre;var C=Vre}else(p=u.nodeName)&&p.toLowerCase()==="input"&&(u.type==="checkbox"||u.type==="radio")&&(k=Yre);if(k&&(k=k(t,c))){tN(h,k,n,d);break e}C&&C(t,u,c),t==="focusout"&&(C=u._wrapperState)&&C.controlled&&u.type==="number"&&Iw(u,"number",u.value)}switch(C=c?zd(c):window,t){case"focusin":(t8(C)||C.contentEditable==="true")&&(Id=C,Dw=c,np=null);break;case"focusout":np=Dw=Id=null;break;case"mousedown":qw=!0;break;case"contextmenu":case"mouseup":case"dragend":qw=!1,o8(h,n,d);break;case"selectionchange":if(Qre)break;case"keydown":case"keyup":o8(h,n,d)}var _;if(E9)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Ed?JA(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(QA&&n.locale!=="ko"&&(Ed||E!=="onCompositionStart"?E==="onCompositionEnd"&&Ed&&(_=ZA()):(Ia=d,k9="value"in Ia?Ia.value:Ia.textContent,Ed=!0)),C=Om(c,E),0<C.length&&(E=new Z4(E,t,null,n,d),h.push({event:E,listeners:C}),_?E.data=_:(_=eN(n),_!==null&&(E.data=_)))),(_=qre?Bre(t,n):Fre(t,n))&&(c=Om(c,"onBeforeInput"),0<c.length&&(d=new Z4("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=_))}uN(h,e)})}function $p(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Om(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ap(t,n),i!=null&&r.unshift($p(t,i,s)),i=Ap(t,e),i!=null&&r.push($p(t,i,s))),t=t.return}return r}function Gc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function c8(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Ap(n,i),l!=null&&o.unshift($p(n,l,a))):s||(l=Ap(n,i),l!=null&&o.push($p(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var nse=/\r\n?/g,rse=/\u0000|\uFFFD/g;function d8(t){return(typeof t=="string"?t:""+t).replace(nse,`
`).replace(rse,"")}function Dg(t,e,n){if(e=d8(e),d8(t)!==e&&n)throw Error(ee(425))}function Dm(){}var Bw=null,Fw=null;function Kw(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ww=typeof setTimeout=="function"?setTimeout:void 0,sse=typeof clearTimeout=="function"?clearTimeout:void 0,h8=typeof Promise=="function"?Promise:void 0,ise=typeof queueMicrotask=="function"?queueMicrotask:typeof h8<"u"?function(t){return h8.resolve(null).then(t).catch(ose)}:Ww;function ose(t){setTimeout(function(){throw t})}function $x(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Lp(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Lp(e)}function ja(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function u8(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Mh=Math.random().toString(36).slice(2),Oi="__reactFiber$"+Mh,Op="__reactProps$"+Mh,qo="__reactContainer$"+Mh,Uw="__reactEvents$"+Mh,ase="__reactListeners$"+Mh,lse="__reactHandles$"+Mh;function Ol(t){var e=t[Oi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[qo]||n[Oi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=u8(t);t!==null;){if(n=t[Oi])return n;t=u8(t)}return e}t=n,n=t.parentNode}return null}function Mf(t){return t=t[Oi]||t[qo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function zd(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ee(33))}function E1(t){return t[Op]||null}var Vw=[],Ad=-1;function nl(t){return{current:t}}function Rt(t){0>Ad||(t.current=Vw[Ad],Vw[Ad]=null,Ad--)}function St(t,e){Ad++,Vw[Ad]=t.current,t.current=e}var Ka={},fr=nl(Ka),Rr=nl(!1),ac=Ka;function dh(t,e){var n=t.type.contextTypes;if(!n)return Ka;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function $r(t){return t=t.childContextTypes,t!=null}function qm(){Rt(Rr),Rt(fr)}function p8(t,e,n){if(fr.current!==Ka)throw Error(ee(168));St(fr,e),St(Rr,n)}function fN(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(ee(108,Vne(t)||"Unknown",s));return Qt({},n,r)}function Bm(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ka,ac=fr.current,St(fr,t),St(Rr,Rr.current),!0}function f8(t,e,n){var r=t.stateNode;if(!r)throw Error(ee(169));n?(t=fN(t,e,ac),r.__reactInternalMemoizedMergedChildContext=t,Rt(Rr),Rt(fr),St(fr,t)):Rt(Rr),St(Rr,n)}var Co=null,I1=!1,Ox=!1;function gN(t){Co===null?Co=[t]:Co.push(t)}function cse(t){I1=!0,gN(t)}function rl(){if(!Ox&&Co!==null){Ox=!0;var t=0,e=lt;try{var n=Co;for(lt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Co=null,I1=!1}catch(s){throw Co!==null&&(Co=Co.slice(t+1)),qA(w9,rl),s}finally{lt=e,Ox=!1}}return null}var Nd=[],Td=0,Fm=null,Km=0,Ls=[],Ms=0,lc=null,Po=1,zo="";function Il(t,e){Nd[Td++]=Km,Nd[Td++]=Fm,Fm=t,Km=e}function mN(t,e,n){Ls[Ms++]=Po,Ls[Ms++]=zo,Ls[Ms++]=lc,lc=t;var r=Po;t=zo;var s=32-ui(r)-1;r&=~(1<<s),n+=1;var i=32-ui(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Po=1<<32-ui(e)+s|n<<s|r,zo=i+t}else Po=1<<i|n<<s|r,zo=t}function P9(t){t.return!==null&&(Il(t,1),mN(t,1,0))}function z9(t){for(;t===Fm;)Fm=Nd[--Td],Nd[Td]=null,Km=Nd[--Td],Nd[Td]=null;for(;t===lc;)lc=Ls[--Ms],Ls[Ms]=null,zo=Ls[--Ms],Ls[Ms]=null,Po=Ls[--Ms],Ls[Ms]=null}var ps=null,us=null,qt=!1,ii=null;function yN(t,e){var n=$s(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function g8(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ps=t,us=ja(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ps=t,us=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=lc!==null?{id:Po,overflow:zo}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=$s(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ps=t,us=null,!0):!1;default:return!1}}function Xw(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Yw(t){if(qt){var e=us;if(e){var n=e;if(!g8(t,e)){if(Xw(t))throw Error(ee(418));e=ja(n.nextSibling);var r=ps;e&&g8(t,e)?yN(r,n):(t.flags=t.flags&-4097|2,qt=!1,ps=t)}}else{if(Xw(t))throw Error(ee(418));t.flags=t.flags&-4097|2,qt=!1,ps=t}}}function m8(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ps=t}function qg(t){if(t!==ps)return!1;if(!qt)return m8(t),qt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Kw(t.type,t.memoizedProps)),e&&(e=us)){if(Xw(t))throw xN(),Error(ee(418));for(;e;)yN(t,e),e=ja(e.nextSibling)}if(m8(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ee(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){us=ja(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}us=null}}else us=ps?ja(t.stateNode.nextSibling):null;return!0}function xN(){for(var t=us;t;)t=ja(t.nextSibling)}function hh(){us=ps=null,qt=!1}function A9(t){ii===null?ii=[t]:ii.push(t)}var dse=Go.ReactCurrentBatchConfig;function pu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ee(309));var r=n.stateNode}if(!r)throw Error(ee(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(ee(284));if(!n._owner)throw Error(ee(290,t))}return t}function Bg(t,e){throw t=Object.prototype.toString.call(e),Error(ee(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function y8(t){var e=t._init;return e(t._payload)}function wN(t){function e(S,b){if(t){var g=S.deletions;g===null?(S.deletions=[b],S.flags|=16):g.push(b)}}function n(S,b){if(!t)return null;for(;b!==null;)e(S,b),b=b.sibling;return null}function r(S,b){for(S=new Map;b!==null;)b.key!==null?S.set(b.key,b):S.set(b.index,b),b=b.sibling;return S}function s(S,b){return S=Da(S,b),S.index=0,S.sibling=null,S}function i(S,b,g){return S.index=g,t?(g=S.alternate,g!==null?(g=g.index,g<b?(S.flags|=2,b):g):(S.flags|=2,b)):(S.flags|=1048576,b)}function o(S){return t&&S.alternate===null&&(S.flags|=2),S}function a(S,b,g,x){return b===null||b.tag!==6?(b=Ux(g,S.mode,x),b.return=S,b):(b=s(b,g),b.return=S,b)}function l(S,b,g,x){var k=g.type;return k===_d?d(S,b,g.props.children,x,g.key):b!==null&&(b.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===ya&&y8(k)===b.type)?(x=s(b,g.props),x.ref=pu(S,b,g),x.return=S,x):(x=D0(g.type,g.key,g.props,null,S.mode,x),x.ref=pu(S,b,g),x.return=S,x)}function c(S,b,g,x){return b===null||b.tag!==4||b.stateNode.containerInfo!==g.containerInfo||b.stateNode.implementation!==g.implementation?(b=Vx(g,S.mode,x),b.return=S,b):(b=s(b,g.children||[]),b.return=S,b)}function d(S,b,g,x,k){return b===null||b.tag!==7?(b=nc(g,S.mode,x,k),b.return=S,b):(b=s(b,g),b.return=S,b)}function h(S,b,g){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Ux(""+b,S.mode,g),b.return=S,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ag:return g=D0(b.type,b.key,b.props,null,S.mode,g),g.ref=pu(S,null,b),g.return=S,g;case Cd:return b=Vx(b,S.mode,g),b.return=S,b;case ya:var x=b._init;return h(S,x(b._payload),g)}if(Du(b)||lu(b))return b=nc(b,S.mode,g,null),b.return=S,b;Bg(S,b)}return null}function u(S,b,g,x){var k=b!==null?b.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return k!==null?null:a(S,b,""+g,x);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ag:return g.key===k?l(S,b,g,x):null;case Cd:return g.key===k?c(S,b,g,x):null;case ya:return k=g._init,u(S,b,k(g._payload),x)}if(Du(g)||lu(g))return k!==null?null:d(S,b,g,x,null);Bg(S,g)}return null}function p(S,b,g,x,k){if(typeof x=="string"&&x!==""||typeof x=="number")return S=S.get(g)||null,a(b,S,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ag:return S=S.get(x.key===null?g:x.key)||null,l(b,S,x,k);case Cd:return S=S.get(x.key===null?g:x.key)||null,c(b,S,x,k);case ya:var C=x._init;return p(S,b,g,C(x._payload),k)}if(Du(x)||lu(x))return S=S.get(g)||null,d(b,S,x,k,null);Bg(b,x)}return null}function y(S,b,g,x){for(var k=null,C=null,_=b,E=b=0,z=null;_!==null&&E<g.length;E++){_.index>E?(z=_,_=null):z=_.sibling;var P=u(S,_,g[E],x);if(P===null){_===null&&(_=z);break}t&&_&&P.alternate===null&&e(S,_),b=i(P,b,E),C===null?k=P:C.sibling=P,C=P,_=z}if(E===g.length)return n(S,_),qt&&Il(S,E),k;if(_===null){for(;E<g.length;E++)_=h(S,g[E],x),_!==null&&(b=i(_,b,E),C===null?k=_:C.sibling=_,C=_);return qt&&Il(S,E),k}for(_=r(S,_);E<g.length;E++)z=p(_,S,E,g[E],x),z!==null&&(t&&z.alternate!==null&&_.delete(z.key===null?E:z.key),b=i(z,b,E),C===null?k=z:C.sibling=z,C=z);return t&&_.forEach(function(A){return e(S,A)}),qt&&Il(S,E),k}function m(S,b,g,x){var k=lu(g);if(typeof k!="function")throw Error(ee(150));if(g=k.call(g),g==null)throw Error(ee(151));for(var C=k=null,_=b,E=b=0,z=null,P=g.next();_!==null&&!P.done;E++,P=g.next()){_.index>E?(z=_,_=null):z=_.sibling;var A=u(S,_,P.value,x);if(A===null){_===null&&(_=z);break}t&&_&&A.alternate===null&&e(S,_),b=i(A,b,E),C===null?k=A:C.sibling=A,C=A,_=z}if(P.done)return n(S,_),qt&&Il(S,E),k;if(_===null){for(;!P.done;E++,P=g.next())P=h(S,P.value,x),P!==null&&(b=i(P,b,E),C===null?k=P:C.sibling=P,C=P);return qt&&Il(S,E),k}for(_=r(S,_);!P.done;E++,P=g.next())P=p(_,S,E,P.value,x),P!==null&&(t&&P.alternate!==null&&_.delete(P.key===null?E:P.key),b=i(P,b,E),C===null?k=P:C.sibling=P,C=P);return t&&_.forEach(function(N){return e(S,N)}),qt&&Il(S,E),k}function w(S,b,g,x){if(typeof g=="object"&&g!==null&&g.type===_d&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Ag:e:{for(var k=g.key,C=b;C!==null;){if(C.key===k){if(k=g.type,k===_d){if(C.tag===7){n(S,C.sibling),b=s(C,g.props.children),b.return=S,S=b;break e}}else if(C.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===ya&&y8(k)===C.type){n(S,C.sibling),b=s(C,g.props),b.ref=pu(S,C,g),b.return=S,S=b;break e}n(S,C);break}else e(S,C);C=C.sibling}g.type===_d?(b=nc(g.props.children,S.mode,x,g.key),b.return=S,S=b):(x=D0(g.type,g.key,g.props,null,S.mode,x),x.ref=pu(S,b,g),x.return=S,S=x)}return o(S);case Cd:e:{for(C=g.key;b!==null;){if(b.key===C)if(b.tag===4&&b.stateNode.containerInfo===g.containerInfo&&b.stateNode.implementation===g.implementation){n(S,b.sibling),b=s(b,g.children||[]),b.return=S,S=b;break e}else{n(S,b);break}else e(S,b);b=b.sibling}b=Vx(g,S.mode,x),b.return=S,S=b}return o(S);case ya:return C=g._init,w(S,b,C(g._payload),x)}if(Du(g))return y(S,b,g,x);if(lu(g))return m(S,b,g,x);Bg(S,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,b!==null&&b.tag===6?(n(S,b.sibling),b=s(b,g),b.return=S,S=b):(n(S,b),b=Ux(g,S.mode,x),b.return=S,S=b),o(S)):n(S,b)}return w}var uh=wN(!0),SN=wN(!1),Wm=nl(null),Um=null,Ld=null,N9=null;function T9(){N9=Ld=Um=null}function L9(t){var e=Wm.current;Rt(Wm),t._currentValue=e}function Hw(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Hd(t,e){Um=t,N9=Ld=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Mr=!0),t.firstContext=null)}function Fs(t){var e=t._currentValue;if(N9!==t)if(t={context:t,memoizedValue:e,next:null},Ld===null){if(Um===null)throw Error(ee(308));Ld=t,Um.dependencies={lanes:0,firstContext:t}}else Ld=Ld.next=t;return e}var Dl=null;function M9(t){Dl===null?Dl=[t]:Dl.push(t)}function bN(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,M9(e)):(n.next=s.next,s.next=n),e.interleaved=n,Bo(t,r)}function Bo(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var xa=!1;function j9(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vN(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Lo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ra(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Xe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Bo(t,n)}return s=r.interleaved,s===null?(e.next=e,M9(r)):(e.next=s.next,s.next=e),r.interleaved=e,Bo(t,n)}function L0(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,S9(t,n)}}function x8(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Vm(t,e,n,r){var s=t.updateQueue;xa=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=c=l=null,a=i;do{var u=a.lane,p=a.eventTime;if((r&u)===u){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,m=a;switch(u=e,p=n,m.tag){case 1:if(y=m.payload,typeof y=="function"){h=y.call(p,h,u);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=m.payload,u=typeof y=="function"?y.call(p,h,u):y,u==null)break e;h=Qt({},h,u);break e;case 2:xa=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,u=s.effects,u===null?s.effects=[a]:u.push(a))}else p={eventTime:p,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=p,l=h):d=d.next=p,o|=u;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;u=a,a=u.next,u.next=null,s.lastBaseUpdate=u,s.shared.pending=null}}while(1);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);dc|=o,t.lanes=o,t.memoizedState=h}}function w8(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(ee(191,s));s.call(r)}}}var jf={},Yi=nl(jf),Dp=nl(jf),qp=nl(jf);function ql(t){if(t===jf)throw Error(ee(174));return t}function R9(t,e){switch(St(qp,e),St(Dp,t),St(Yi,jf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:zw(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=zw(e,t)}Rt(Yi),St(Yi,e)}function ph(){Rt(Yi),Rt(Dp),Rt(qp)}function kN(t){ql(qp.current);var e=ql(Yi.current),n=zw(e,t.type);e!==n&&(St(Dp,t),St(Yi,n))}function $9(t){Dp.current===t&&(Rt(Yi),Rt(Dp))}var Xt=nl(0);function Xm(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Dx=[];function O9(){for(var t=0;t<Dx.length;t++)Dx[t]._workInProgressVersionPrimary=null;Dx.length=0}var M0=Go.ReactCurrentDispatcher,qx=Go.ReactCurrentBatchConfig,cc=0,Zt=null,un=null,xn=null,Ym=!1,rp=!1,Bp=0,hse=0;function Xn(){throw Error(ee(321))}function D9(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!xi(t[n],e[n]))return!1;return!0}function q9(t,e,n,r,s,i){if(cc=i,Zt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,M0.current=t===null||t.memoizedState===null?gse:mse,t=n(r,s),rp){i=0;do{if(rp=!1,Bp=0,25<=i)throw Error(ee(301));i+=1,xn=un=null,e.updateQueue=null,M0.current=yse,t=n(r,s)}while(rp)}if(M0.current=Hm,e=un!==null&&un.next!==null,cc=0,xn=un=Zt=null,Ym=!1,e)throw Error(ee(300));return t}function B9(){var t=Bp!==0;return Bp=0,t}function zi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xn===null?Zt.memoizedState=xn=t:xn=xn.next=t,xn}function Ks(){if(un===null){var t=Zt.alternate;t=t!==null?t.memoizedState:null}else t=un.next;var e=xn===null?Zt.memoizedState:xn.next;if(e!==null)xn=e,un=t;else{if(t===null)throw Error(ee(310));un=t,t={memoizedState:un.memoizedState,baseState:un.baseState,baseQueue:un.baseQueue,queue:un.queue,next:null},xn===null?Zt.memoizedState=xn=t:xn=xn.next=t}return xn}function Fp(t,e){return typeof e=="function"?e(t):e}function Bx(t){var e=Ks(),n=e.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=t;var r=un,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((cc&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Zt.lanes|=d,dc|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,xi(r,e.memoizedState)||(Mr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Zt.lanes|=i,dc|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Fx(t){var e=Ks(),n=e.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);xi(i,e.memoizedState)||(Mr=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function CN(){}function _N(t,e){var n=Zt,r=Ks(),s=e(),i=!xi(r.memoizedState,s);if(i&&(r.memoizedState=s,Mr=!0),r=r.queue,F9(PN.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||xn!==null&&xn.memoizedState.tag&1){if(n.flags|=2048,Kp(9,IN.bind(null,n,r,s,e),void 0,null),Sn===null)throw Error(ee(349));cc&30||EN(n,e,s)}return s}function EN(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Zt.updateQueue,e===null?(e={lastEffect:null,stores:null},Zt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function IN(t,e,n,r){e.value=n,e.getSnapshot=r,zN(e)&&AN(t)}function PN(t,e,n){return n(function(){zN(e)&&AN(t)})}function zN(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!xi(t,n)}catch{return!0}}function AN(t){var e=Bo(t,1);e!==null&&pi(e,t,1,-1)}function S8(t){var e=zi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fp,lastRenderedState:t},e.queue=t,t=t.dispatch=fse.bind(null,Zt,t),[e.memoizedState,t]}function Kp(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Zt.updateQueue,e===null?(e={lastEffect:null,stores:null},Zt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function NN(){return Ks().memoizedState}function j0(t,e,n,r){var s=zi();Zt.flags|=t,s.memoizedState=Kp(1|e,n,void 0,r===void 0?null:r)}function P1(t,e,n,r){var s=Ks();r=r===void 0?null:r;var i=void 0;if(un!==null){var o=un.memoizedState;if(i=o.destroy,r!==null&&D9(r,o.deps)){s.memoizedState=Kp(e,n,i,r);return}}Zt.flags|=t,s.memoizedState=Kp(1|e,n,i,r)}function b8(t,e){return j0(8390656,8,t,e)}function F9(t,e){return P1(2048,8,t,e)}function TN(t,e){return P1(4,2,t,e)}function LN(t,e){return P1(4,4,t,e)}function MN(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function jN(t,e,n){return n=n!=null?n.concat([t]):null,P1(4,4,MN.bind(null,e,t),n)}function K9(){}function RN(t,e){var n=Ks();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&D9(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function $N(t,e){var n=Ks();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&D9(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ON(t,e,n){return cc&21?(xi(n,e)||(n=KA(),Zt.lanes|=n,dc|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Mr=!0),t.memoizedState=n)}function use(t,e){var n=lt;lt=n!==0&&4>n?n:4,t(!0);var r=qx.transition;qx.transition={};try{t(!1),e()}finally{lt=n,qx.transition=r}}function DN(){return Ks().memoizedState}function pse(t,e,n){var r=Oa(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},qN(t))BN(e,n);else if(n=bN(t,e,n,r),n!==null){var s=br();pi(n,t,r,s),FN(n,e,r)}}function fse(t,e,n){var r=Oa(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(qN(t))BN(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,xi(a,o)){var l=e.interleaved;l===null?(s.next=s,M9(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=bN(t,e,s,r),n!==null&&(s=br(),pi(n,t,r,s),FN(n,e,r))}}function qN(t){var e=t.alternate;return t===Zt||e!==null&&e===Zt}function BN(t,e){rp=Ym=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function FN(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,S9(t,n)}}var Hm={readContext:Fs,useCallback:Xn,useContext:Xn,useEffect:Xn,useImperativeHandle:Xn,useInsertionEffect:Xn,useLayoutEffect:Xn,useMemo:Xn,useReducer:Xn,useRef:Xn,useState:Xn,useDebugValue:Xn,useDeferredValue:Xn,useTransition:Xn,useMutableSource:Xn,useSyncExternalStore:Xn,useId:Xn,unstable_isNewReconciler:!1},gse={readContext:Fs,useCallback:function(t,e){return zi().memoizedState=[t,e===void 0?null:e],t},useContext:Fs,useEffect:b8,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,j0(4194308,4,MN.bind(null,e,t),n)},useLayoutEffect:function(t,e){return j0(4194308,4,t,e)},useInsertionEffect:function(t,e){return j0(4,2,t,e)},useMemo:function(t,e){var n=zi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=zi();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=pse.bind(null,Zt,t),[r.memoizedState,t]},useRef:function(t){var e=zi();return t={current:t},e.memoizedState=t},useState:S8,useDebugValue:K9,useDeferredValue:function(t){return zi().memoizedState=t},useTransition:function(){var t=S8(!1),e=t[0];return t=use.bind(null,t[1]),zi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Zt,s=zi();if(qt){if(n===void 0)throw Error(ee(407));n=n()}else{if(n=e(),Sn===null)throw Error(ee(349));cc&30||EN(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,b8(PN.bind(null,r,i,t),[t]),r.flags|=2048,Kp(9,IN.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=zi(),e=Sn.identifierPrefix;if(qt){var n=zo,r=Po;n=(r&~(1<<32-ui(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Bp++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=hse++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},mse={readContext:Fs,useCallback:RN,useContext:Fs,useEffect:F9,useImperativeHandle:jN,useInsertionEffect:TN,useLayoutEffect:LN,useMemo:$N,useReducer:Bx,useRef:NN,useState:function(){return Bx(Fp)},useDebugValue:K9,useDeferredValue:function(t){var e=Ks();return ON(e,un.memoizedState,t)},useTransition:function(){var t=Bx(Fp)[0],e=Ks().memoizedState;return[t,e]},useMutableSource:CN,useSyncExternalStore:_N,useId:DN,unstable_isNewReconciler:!1},yse={readContext:Fs,useCallback:RN,useContext:Fs,useEffect:F9,useImperativeHandle:jN,useInsertionEffect:TN,useLayoutEffect:LN,useMemo:$N,useReducer:Fx,useRef:NN,useState:function(){return Fx(Fp)},useDebugValue:K9,useDeferredValue:function(t){var e=Ks();return un===null?e.memoizedState=t:ON(e,un.memoizedState,t)},useTransition:function(){var t=Fx(Fp)[0],e=Ks().memoizedState;return[t,e]},useMutableSource:CN,useSyncExternalStore:_N,useId:DN,unstable_isNewReconciler:!1};function Zs(t,e){if(t&&t.defaultProps){e=Qt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Gw(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Qt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var z1={isMounted:function(t){return(t=t._reactInternals)?_c(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=br(),s=Oa(t),i=Lo(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ra(t,i,s),e!==null&&(pi(e,t,s,r),L0(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=br(),s=Oa(t),i=Lo(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ra(t,i,s),e!==null&&(pi(e,t,s,r),L0(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=br(),r=Oa(t),s=Lo(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ra(t,s,r),e!==null&&(pi(e,t,r,n),L0(e,t,r))}};function v8(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!jp(n,r)||!jp(s,i):!0}function KN(t,e,n){var r=!1,s=Ka,i=e.contextType;return typeof i=="object"&&i!==null?i=Fs(i):(s=$r(e)?ac:fr.current,r=e.contextTypes,i=(r=r!=null)?dh(t,s):Ka),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=z1,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function k8(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&z1.enqueueReplaceState(e,e.state,null)}function Zw(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},j9(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Fs(i):(i=$r(e)?ac:fr.current,s.context=dh(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Gw(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&z1.enqueueReplaceState(s,s.state,null),Vm(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function fh(t,e){try{var n="",r=e;do n+=Une(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Kx(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Qw(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var xse=typeof WeakMap=="function"?WeakMap:Map;function WN(t,e,n){n=Lo(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Zm||(Zm=!0,l3=r),Qw(t,e)},n}function UN(t,e,n){n=Lo(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Qw(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Qw(t,e),typeof r!="function"&&($a===null?$a=new Set([this]):$a.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function C8(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new xse;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Tse.bind(null,t,e,n),e.then(t,t))}function _8(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function E8(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Lo(-1,1),e.tag=2,Ra(n,e,1))),n.lanes|=1),t)}var wse=Go.ReactCurrentOwner,Mr=!1;function xr(t,e,n,r){e.child=t===null?SN(e,null,n,r):uh(e,t.child,n,r)}function I8(t,e,n,r,s){n=n.render;var i=e.ref;return Hd(e,s),r=q9(t,e,n,r,i,s),n=B9(),t!==null&&!Mr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Fo(t,e,s)):(qt&&n&&P9(e),e.flags|=1,xr(t,e,r,s),e.child)}function P8(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Z9(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,VN(t,e,i,r,s)):(t=D0(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:jp,n(o,r)&&t.ref===e.ref)return Fo(t,e,s)}return e.flags|=1,t=Da(i,r),t.ref=e.ref,t.return=e,e.child=t}function VN(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(jp(i,r)&&t.ref===e.ref)if(Mr=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Mr=!0);else return e.lanes=t.lanes,Fo(t,e,s)}return Jw(t,e,n,r,s)}function XN(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},St(jd,Zr),Zr|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,St(jd,Zr),Zr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,St(jd,Zr),Zr|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,St(jd,Zr),Zr|=r;return xr(t,e,s,n),e.child}function YN(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Jw(t,e,n,r,s){var i=$r(n)?ac:fr.current;return i=dh(e,i),Hd(e,s),n=q9(t,e,n,r,i,s),r=B9(),t!==null&&!Mr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Fo(t,e,s)):(qt&&r&&P9(e),e.flags|=1,xr(t,e,n,s),e.child)}function z8(t,e,n,r,s){if($r(n)){var i=!0;Bm(e)}else i=!1;if(Hd(e,s),e.stateNode===null)R0(t,e),KN(e,n,r),Zw(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Fs(c):(c=$r(n)?ac:fr.current,c=dh(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&k8(e,o,r,c),xa=!1;var u=e.memoizedState;o.state=u,Vm(e,r,o,s),l=e.memoizedState,a!==r||u!==l||Rr.current||xa?(typeof d=="function"&&(Gw(e,n,d,r),l=e.memoizedState),(a=xa||v8(e,n,a,r,u,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,vN(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Zs(e.type,a),o.props=c,h=e.pendingProps,u=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Fs(l):(l=$r(n)?ac:fr.current,l=dh(e,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||u!==l)&&k8(e,o,r,l),xa=!1,u=e.memoizedState,o.state=u,Vm(e,r,o,s);var y=e.memoizedState;a!==h||u!==y||Rr.current||xa?(typeof p=="function"&&(Gw(e,n,p,r),y=e.memoizedState),(c=xa||v8(e,n,c,r,u,y,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&u===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&u===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&u===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&u===t.memoizedState||(e.flags|=1024),r=!1)}return e3(t,e,n,r,i,s)}function e3(t,e,n,r,s,i){YN(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&f8(e,n,!1),Fo(t,e,i);r=e.stateNode,wse.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=uh(e,t.child,null,i),e.child=uh(e,null,a,i)):xr(t,e,a,i),e.memoizedState=r.state,s&&f8(e,n,!0),e.child}function HN(t){var e=t.stateNode;e.pendingContext?p8(t,e.pendingContext,e.pendingContext!==e.context):e.context&&p8(t,e.context,!1),R9(t,e.containerInfo)}function A8(t,e,n,r,s){return hh(),A9(s),e.flags|=256,xr(t,e,n,r),e.child}var t3={dehydrated:null,treeContext:null,retryLane:0};function n3(t){return{baseLanes:t,cachePool:null,transitions:null}}function GN(t,e,n){var r=e.pendingProps,s=Xt.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),St(Xt,s&1),t===null)return Yw(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=T1(o,r,0,null),t=nc(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=n3(n),e.memoizedState=t3,t):W9(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Sse(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Da(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Da(a,i):(i=nc(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?n3(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=t3,r}return i=t.child,t=i.sibling,r=Da(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function W9(t,e){return e=T1({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Fg(t,e,n,r){return r!==null&&A9(r),uh(e,t.child,null,n),t=W9(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Sse(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Kx(Error(ee(422))),Fg(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=T1({mode:"visible",children:r.children},s,0,null),i=nc(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&uh(e,t.child,null,o),e.child.memoizedState=n3(o),e.memoizedState=t3,i);if(!(e.mode&1))return Fg(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(ee(419)),r=Kx(i,r,void 0),Fg(t,e,o,r)}if(a=(o&t.childLanes)!==0,Mr||a){if(r=Sn,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Bo(t,s),pi(r,t,s,-1))}return G9(),r=Kx(Error(ee(421))),Fg(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Lse.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,us=ja(s.nextSibling),ps=e,qt=!0,ii=null,t!==null&&(Ls[Ms++]=Po,Ls[Ms++]=zo,Ls[Ms++]=lc,Po=t.id,zo=t.overflow,lc=e),e=W9(e,r.children),e.flags|=4096,e)}function N8(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Hw(t.return,e,n)}function Wx(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function ZN(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(xr(t,e,r.children,n),r=Xt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&N8(t,n,e);else if(t.tag===19)N8(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(St(Xt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Xm(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Wx(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Xm(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Wx(e,!0,n,null,i);break;case"together":Wx(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function R0(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Fo(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),dc|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ee(153));if(e.child!==null){for(t=e.child,n=Da(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Da(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function bse(t,e,n){switch(e.tag){case 3:HN(e),hh();break;case 5:kN(e);break;case 1:$r(e.type)&&Bm(e);break;case 4:R9(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;St(Wm,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(St(Xt,Xt.current&1),e.flags|=128,null):n&e.child.childLanes?GN(t,e,n):(St(Xt,Xt.current&1),t=Fo(t,e,n),t!==null?t.sibling:null);St(Xt,Xt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return ZN(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),St(Xt,Xt.current),r)break;return null;case 22:case 23:return e.lanes=0,XN(t,e,n)}return Fo(t,e,n)}var QN,r3,JN,eT;QN=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};r3=function(){};JN=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,ql(Yi.current);var i=null;switch(n){case"input":s=_w(t,s),r=_w(t,r),i=[];break;case"select":s=Qt({},s,{value:void 0}),r=Qt({},r,{value:void 0}),i=[];break;case"textarea":s=Pw(t,s),r=Pw(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Dm)}Aw(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Pp.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Pp.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&It("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};eT=function(t,e,n,r){n!==r&&(e.flags|=4)};function fu(t,e){if(!qt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Yn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function vse(t,e,n){var r=e.pendingProps;switch(z9(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yn(e),null;case 1:return $r(e.type)&&qm(),Yn(e),null;case 3:return r=e.stateNode,ph(),Rt(Rr),Rt(fr),O9(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(qg(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ii!==null&&(h3(ii),ii=null))),r3(t,e),Yn(e),null;case 5:$9(e);var s=ql(qp.current);if(n=e.type,t!==null&&e.stateNode!=null)JN(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ee(166));return Yn(e),null}if(t=ql(Yi.current),qg(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Oi]=e,r[Op]=i,t=(e.mode&1)!==0,n){case"dialog":It("cancel",r),It("close",r);break;case"iframe":case"object":case"embed":It("load",r);break;case"video":case"audio":for(s=0;s<Bu.length;s++)It(Bu[s],r);break;case"source":It("error",r);break;case"img":case"image":case"link":It("error",r),It("load",r);break;case"details":It("toggle",r);break;case"input":q4(r,i),It("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},It("invalid",r);break;case"textarea":F4(r,i),It("invalid",r)}Aw(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Dg(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Dg(r.textContent,a,t),s=["children",""+a]):Pp.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&It("scroll",r)}switch(n){case"input":Ng(r),B4(r,i,!0);break;case"textarea":Ng(r),K4(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Dm)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=PA(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Oi]=e,t[Op]=r,QN(t,e,!1,!1),e.stateNode=t;e:{switch(o=Nw(n,r),n){case"dialog":It("cancel",t),It("close",t),s=r;break;case"iframe":case"object":case"embed":It("load",t),s=r;break;case"video":case"audio":for(s=0;s<Bu.length;s++)It(Bu[s],t);s=r;break;case"source":It("error",t),s=r;break;case"img":case"image":case"link":It("error",t),It("load",t),s=r;break;case"details":It("toggle",t),s=r;break;case"input":q4(t,r),s=_w(t,r),It("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Qt({},r,{value:void 0}),It("invalid",t);break;case"textarea":F4(t,r),s=Pw(t,r),It("invalid",t);break;default:s=r}Aw(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?NA(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&zA(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&zp(t,l):typeof l=="number"&&zp(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Pp.hasOwnProperty(i)?l!=null&&i==="onScroll"&&It("scroll",t):l!=null&&f9(t,i,l,o))}switch(n){case"input":Ng(t),B4(t,r,!1);break;case"textarea":Ng(t),K4(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Fa(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Ud(t,!!r.multiple,i,!1):r.defaultValue!=null&&Ud(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Dm)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Yn(e),null;case 6:if(t&&e.stateNode!=null)eT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ee(166));if(n=ql(qp.current),ql(Yi.current),qg(e)){if(r=e.stateNode,n=e.memoizedProps,r[Oi]=e,(i=r.nodeValue!==n)&&(t=ps,t!==null))switch(t.tag){case 3:Dg(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Dg(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Oi]=e,e.stateNode=r}return Yn(e),null;case 13:if(Rt(Xt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(qt&&us!==null&&e.mode&1&&!(e.flags&128))xN(),hh(),e.flags|=98560,i=!1;else if(i=qg(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(ee(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ee(317));i[Oi]=e}else hh(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Yn(e),i=!1}else ii!==null&&(h3(ii),ii=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Xt.current&1?fn===0&&(fn=3):G9())),e.updateQueue!==null&&(e.flags|=4),Yn(e),null);case 4:return ph(),r3(t,e),t===null&&Rp(e.stateNode.containerInfo),Yn(e),null;case 10:return L9(e.type._context),Yn(e),null;case 17:return $r(e.type)&&qm(),Yn(e),null;case 19:if(Rt(Xt),i=e.memoizedState,i===null)return Yn(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)fu(i,!1);else{if(fn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Xm(t),o!==null){for(e.flags|=128,fu(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return St(Xt,Xt.current&1|2),e.child}t=t.sibling}i.tail!==null&&an()>gh&&(e.flags|=128,r=!0,fu(i,!1),e.lanes=4194304)}else{if(!r)if(t=Xm(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),fu(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!qt)return Yn(e),null}else 2*an()-i.renderingStartTime>gh&&n!==1073741824&&(e.flags|=128,r=!0,fu(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=an(),e.sibling=null,n=Xt.current,St(Xt,r?n&1|2:n&1),e):(Yn(e),null);case 22:case 23:return H9(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Zr&1073741824&&(Yn(e),e.subtreeFlags&6&&(e.flags|=8192)):Yn(e),null;case 24:return null;case 25:return null}throw Error(ee(156,e.tag))}function kse(t,e){switch(z9(e),e.tag){case 1:return $r(e.type)&&qm(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ph(),Rt(Rr),Rt(fr),O9(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return $9(e),null;case 13:if(Rt(Xt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ee(340));hh()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Rt(Xt),null;case 4:return ph(),null;case 10:return L9(e.type._context),null;case 22:case 23:return H9(),null;case 24:return null;default:return null}}var Kg=!1,nr=!1,Cse=typeof WeakSet=="function"?WeakSet:Set,ce=null;function Md(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){tn(t,e,r)}else n.current=null}function s3(t,e,n){try{n()}catch(r){tn(t,e,r)}}var T8=!1;function _se(t,e){if(Bw=Rm,t=iN(),I9(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,u=null;t:for(;;){for(var p;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)u=h,h=p;for(;;){if(h===t)break t;if(u===n&&++c===s&&(a=o),u===i&&++d===r&&(l=o),(p=h.nextSibling)!==null)break;h=u,u=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Fw={focusedElem:t,selectionRange:n},Rm=!1,ce=e;ce!==null;)if(e=ce,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ce=t;else for(;ce!==null;){e=ce;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var m=y.memoizedProps,w=y.memoizedState,S=e.stateNode,b=S.getSnapshotBeforeUpdate(e.elementType===e.type?m:Zs(e.type,m),w);S.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ee(163))}}catch(x){tn(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,ce=t;break}ce=e.return}return y=T8,T8=!1,y}function sp(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&s3(e,n,i)}s=s.next}while(s!==r)}}function A1(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function i3(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function tT(t){var e=t.alternate;e!==null&&(t.alternate=null,tT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Oi],delete e[Op],delete e[Uw],delete e[ase],delete e[lse])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function nT(t){return t.tag===5||t.tag===3||t.tag===4}function L8(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||nT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function o3(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Dm));else if(r!==4&&(t=t.child,t!==null))for(o3(t,e,n),t=t.sibling;t!==null;)o3(t,e,n),t=t.sibling}function a3(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(a3(t,e,n),t=t.sibling;t!==null;)a3(t,e,n),t=t.sibling}var An=null,ei=!1;function ua(t,e,n){for(n=n.child;n!==null;)rT(t,e,n),n=n.sibling}function rT(t,e,n){if(Xi&&typeof Xi.onCommitFiberUnmount=="function")try{Xi.onCommitFiberUnmount(v1,n)}catch{}switch(n.tag){case 5:nr||Md(n,e);case 6:var r=An,s=ei;An=null,ua(t,e,n),An=r,ei=s,An!==null&&(ei?(t=An,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):An.removeChild(n.stateNode));break;case 18:An!==null&&(ei?(t=An,n=n.stateNode,t.nodeType===8?$x(t.parentNode,n):t.nodeType===1&&$x(t,n),Lp(t)):$x(An,n.stateNode));break;case 4:r=An,s=ei,An=n.stateNode.containerInfo,ei=!0,ua(t,e,n),An=r,ei=s;break;case 0:case 11:case 14:case 15:if(!nr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&s3(n,e,o),s=s.next}while(s!==r)}ua(t,e,n);break;case 1:if(!nr&&(Md(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){tn(n,e,a)}ua(t,e,n);break;case 21:ua(t,e,n);break;case 22:n.mode&1?(nr=(r=nr)||n.memoizedState!==null,ua(t,e,n),nr=r):ua(t,e,n);break;default:ua(t,e,n)}}function M8(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Cse),e.forEach(function(r){var s=Mse.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Gs(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:An=a.stateNode,ei=!1;break e;case 3:An=a.stateNode.containerInfo,ei=!0;break e;case 4:An=a.stateNode.containerInfo,ei=!0;break e}a=a.return}if(An===null)throw Error(ee(160));rT(i,o,s),An=null,ei=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){tn(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)sT(e,t),e=e.sibling}function sT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Gs(e,t),Ii(t),r&4){try{sp(3,t,t.return),A1(3,t)}catch(m){tn(t,t.return,m)}try{sp(5,t,t.return)}catch(m){tn(t,t.return,m)}}break;case 1:Gs(e,t),Ii(t),r&512&&n!==null&&Md(n,n.return);break;case 5:if(Gs(e,t),Ii(t),r&512&&n!==null&&Md(n,n.return),t.flags&32){var s=t.stateNode;try{zp(s,"")}catch(m){tn(t,t.return,m)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&EA(s,i),Nw(a,o);var c=Nw(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?NA(s,h):d==="dangerouslySetInnerHTML"?zA(s,h):d==="children"?zp(s,h):f9(s,d,h,c)}switch(a){case"input":Ew(s,i);break;case"textarea":IA(s,i);break;case"select":var u=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Ud(s,!!i.multiple,p,!1):u!==!!i.multiple&&(i.defaultValue!=null?Ud(s,!!i.multiple,i.defaultValue,!0):Ud(s,!!i.multiple,i.multiple?[]:"",!1))}s[Op]=i}catch(m){tn(t,t.return,m)}}break;case 6:if(Gs(e,t),Ii(t),r&4){if(t.stateNode===null)throw Error(ee(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(m){tn(t,t.return,m)}}break;case 3:if(Gs(e,t),Ii(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Lp(e.containerInfo)}catch(m){tn(t,t.return,m)}break;case 4:Gs(e,t),Ii(t);break;case 13:Gs(e,t),Ii(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(X9=an())),r&4&&M8(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(nr=(c=nr)||d,Gs(e,t),nr=c):Gs(e,t),Ii(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(ce=t,d=t.child;d!==null;){for(h=ce=d;ce!==null;){switch(u=ce,p=u.child,u.tag){case 0:case 11:case 14:case 15:sp(4,u,u.return);break;case 1:Md(u,u.return);var y=u.stateNode;if(typeof y.componentWillUnmount=="function"){r=u,n=u.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(m){tn(r,n,m)}}break;case 5:Md(u,u.return);break;case 22:if(u.memoizedState!==null){R8(h);continue}}p!==null?(p.return=u,ce=p):R8(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=AA("display",o))}catch(m){tn(t,t.return,m)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(m){tn(t,t.return,m)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Gs(e,t),Ii(t),r&4&&M8(t);break;case 21:break;default:Gs(e,t),Ii(t)}}function Ii(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(nT(n)){var r=n;break e}n=n.return}throw Error(ee(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(zp(s,""),r.flags&=-33);var i=L8(t);a3(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=L8(t);o3(t,a,o);break;default:throw Error(ee(161))}}catch(l){tn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Ese(t,e,n){ce=t,iT(t)}function iT(t,e,n){for(var r=(t.mode&1)!==0;ce!==null;){var s=ce,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Kg;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||nr;a=Kg;var c=nr;if(Kg=o,(nr=l)&&!c)for(ce=s;ce!==null;)o=ce,l=o.child,o.tag===22&&o.memoizedState!==null?$8(s):l!==null?(l.return=o,ce=l):$8(s);for(;i!==null;)ce=i,iT(i),i=i.sibling;ce=s,Kg=a,nr=c}j8(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ce=i):j8(t)}}function j8(t){for(;ce!==null;){var e=ce;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:nr||A1(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!nr)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Zs(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&w8(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}w8(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Lp(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ee(163))}nr||e.flags&512&&i3(e)}catch(u){tn(e,e.return,u)}}if(e===t){ce=null;break}if(n=e.sibling,n!==null){n.return=e.return,ce=n;break}ce=e.return}}function R8(t){for(;ce!==null;){var e=ce;if(e===t){ce=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ce=n;break}ce=e.return}}function $8(t){for(;ce!==null;){var e=ce;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{A1(4,e)}catch(l){tn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){tn(e,s,l)}}var i=e.return;try{i3(e)}catch(l){tn(e,i,l)}break;case 5:var o=e.return;try{i3(e)}catch(l){tn(e,o,l)}}}catch(l){tn(e,e.return,l)}if(e===t){ce=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ce=a;break}ce=e.return}}var Ise=Math.ceil,Gm=Go.ReactCurrentDispatcher,U9=Go.ReactCurrentOwner,qs=Go.ReactCurrentBatchConfig,Xe=0,Sn=null,dn=null,Bn=0,Zr=0,jd=nl(0),fn=0,Wp=null,dc=0,N1=0,V9=0,ip=null,Tr=null,X9=0,gh=1/0,So=null,Zm=!1,l3=null,$a=null,Wg=!1,Pa=null,Qm=0,op=0,c3=null,$0=-1,O0=0;function br(){return Xe&6?an():$0!==-1?$0:$0=an()}function Oa(t){return t.mode&1?Xe&2&&Bn!==0?Bn&-Bn:dse.transition!==null?(O0===0&&(O0=KA()),O0):(t=lt,t!==0||(t=window.event,t=t===void 0?16:GA(t.type)),t):1}function pi(t,e,n,r){if(50<op)throw op=0,c3=null,Error(ee(185));Tf(t,n,r),(!(Xe&2)||t!==Sn)&&(t===Sn&&(!(Xe&2)&&(N1|=n),fn===4&&ba(t,Bn)),Or(t,r),n===1&&Xe===0&&!(e.mode&1)&&(gh=an()+500,I1&&rl()))}function Or(t,e){var n=t.callbackNode;dre(t,e);var r=jm(t,t===Sn?Bn:0);if(r===0)n!==null&&V4(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&V4(n),e===1)t.tag===0?cse(O8.bind(null,t)):gN(O8.bind(null,t)),ise(function(){!(Xe&6)&&rl()}),n=null;else{switch(WA(r)){case 1:n=w9;break;case 4:n=BA;break;case 16:n=Mm;break;case 536870912:n=FA;break;default:n=Mm}n=pT(n,oT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function oT(t,e){if($0=-1,O0=0,Xe&6)throw Error(ee(327));var n=t.callbackNode;if(Gd()&&t.callbackNode!==n)return null;var r=jm(t,t===Sn?Bn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Jm(t,r);else{e=r;var s=Xe;Xe|=2;var i=lT();(Sn!==t||Bn!==e)&&(So=null,gh=an()+500,tc(t,e));do try{Ase();break}catch(a){aT(t,a)}while(1);T9(),Gm.current=i,Xe=s,dn!==null?e=0:(Sn=null,Bn=0,e=fn)}if(e!==0){if(e===2&&(s=Rw(t),s!==0&&(r=s,e=d3(t,s))),e===1)throw n=Wp,tc(t,0),ba(t,r),Or(t,an()),n;if(e===6)ba(t,r);else{if(s=t.current.alternate,!(r&30)&&!Pse(s)&&(e=Jm(t,r),e===2&&(i=Rw(t),i!==0&&(r=i,e=d3(t,i))),e===1))throw n=Wp,tc(t,0),ba(t,r),Or(t,an()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(ee(345));case 2:Pl(t,Tr,So);break;case 3:if(ba(t,r),(r&130023424)===r&&(e=X9+500-an(),10<e)){if(jm(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){br(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Ww(Pl.bind(null,t,Tr,So),e);break}Pl(t,Tr,So);break;case 4:if(ba(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-ui(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=an()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ise(r/1960))-r,10<r){t.timeoutHandle=Ww(Pl.bind(null,t,Tr,So),r);break}Pl(t,Tr,So);break;case 5:Pl(t,Tr,So);break;default:throw Error(ee(329))}}}return Or(t,an()),t.callbackNode===n?oT.bind(null,t):null}function d3(t,e){var n=ip;return t.current.memoizedState.isDehydrated&&(tc(t,e).flags|=256),t=Jm(t,e),t!==2&&(e=Tr,Tr=n,e!==null&&h3(e)),t}function h3(t){Tr===null?Tr=t:Tr.push.apply(Tr,t)}function Pse(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!xi(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ba(t,e){for(e&=~V9,e&=~N1,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ui(e),r=1<<n;t[n]=-1,e&=~r}}function O8(t){if(Xe&6)throw Error(ee(327));Gd();var e=jm(t,0);if(!(e&1))return Or(t,an()),null;var n=Jm(t,e);if(t.tag!==0&&n===2){var r=Rw(t);r!==0&&(e=r,n=d3(t,r))}if(n===1)throw n=Wp,tc(t,0),ba(t,e),Or(t,an()),n;if(n===6)throw Error(ee(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Pl(t,Tr,So),Or(t,an()),null}function Y9(t,e){var n=Xe;Xe|=1;try{return t(e)}finally{Xe=n,Xe===0&&(gh=an()+500,I1&&rl())}}function hc(t){Pa!==null&&Pa.tag===0&&!(Xe&6)&&Gd();var e=Xe;Xe|=1;var n=qs.transition,r=lt;try{if(qs.transition=null,lt=1,t)return t()}finally{lt=r,qs.transition=n,Xe=e,!(Xe&6)&&rl()}}function H9(){Zr=jd.current,Rt(jd)}function tc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,sse(n)),dn!==null)for(n=dn.return;n!==null;){var r=n;switch(z9(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&qm();break;case 3:ph(),Rt(Rr),Rt(fr),O9();break;case 5:$9(r);break;case 4:ph();break;case 13:Rt(Xt);break;case 19:Rt(Xt);break;case 10:L9(r.type._context);break;case 22:case 23:H9()}n=n.return}if(Sn=t,dn=t=Da(t.current,null),Bn=Zr=e,fn=0,Wp=null,V9=N1=dc=0,Tr=ip=null,Dl!==null){for(e=0;e<Dl.length;e++)if(n=Dl[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Dl=null}return t}function aT(t,e){do{var n=dn;try{if(T9(),M0.current=Hm,Ym){for(var r=Zt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ym=!1}if(cc=0,xn=un=Zt=null,rp=!1,Bp=0,U9.current=null,n===null||n.return===null){fn=1,Wp=e,dn=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Bn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var u=d.alternate;u?(d.updateQueue=u.updateQueue,d.memoizedState=u.memoizedState,d.lanes=u.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=_8(o);if(p!==null){p.flags&=-257,E8(p,o,a,i,e),p.mode&1&&C8(i,c,e),e=p,l=c;var y=e.updateQueue;if(y===null){var m=new Set;m.add(l),e.updateQueue=m}else y.add(l);break e}else{if(!(e&1)){C8(i,c,e),G9();break e}l=Error(ee(426))}}else if(qt&&a.mode&1){var w=_8(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),E8(w,o,a,i,e),A9(fh(l,a));break e}}i=l=fh(l,a),fn!==4&&(fn=2),ip===null?ip=[i]:ip.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var S=WN(i,l,e);x8(i,S);break e;case 1:a=l;var b=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&($a===null||!$a.has(g)))){i.flags|=65536,e&=-e,i.lanes|=e;var x=UN(i,a,e);x8(i,x);break e}}i=i.return}while(i!==null)}dT(n)}catch(k){e=k,dn===n&&n!==null&&(dn=n=n.return);continue}break}while(1)}function lT(){var t=Gm.current;return Gm.current=Hm,t===null?Hm:t}function G9(){(fn===0||fn===3||fn===2)&&(fn=4),Sn===null||!(dc&268435455)&&!(N1&268435455)||ba(Sn,Bn)}function Jm(t,e){var n=Xe;Xe|=2;var r=lT();(Sn!==t||Bn!==e)&&(So=null,tc(t,e));do try{zse();break}catch(s){aT(t,s)}while(1);if(T9(),Xe=n,Gm.current=r,dn!==null)throw Error(ee(261));return Sn=null,Bn=0,fn}function zse(){for(;dn!==null;)cT(dn)}function Ase(){for(;dn!==null&&!tre();)cT(dn)}function cT(t){var e=uT(t.alternate,t,Zr);t.memoizedProps=t.pendingProps,e===null?dT(t):dn=e,U9.current=null}function dT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=kse(n,e),n!==null){n.flags&=32767,dn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{fn=6,dn=null;return}}else if(n=vse(n,e,Zr),n!==null){dn=n;return}if(e=e.sibling,e!==null){dn=e;return}dn=e=t}while(e!==null);fn===0&&(fn=5)}function Pl(t,e,n){var r=lt,s=qs.transition;try{qs.transition=null,lt=1,Nse(t,e,n,r)}finally{qs.transition=s,lt=r}return null}function Nse(t,e,n,r){do Gd();while(Pa!==null);if(Xe&6)throw Error(ee(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ee(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(hre(t,i),t===Sn&&(dn=Sn=null,Bn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Wg||(Wg=!0,pT(Mm,function(){return Gd(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=qs.transition,qs.transition=null;var o=lt;lt=1;var a=Xe;Xe|=4,U9.current=null,_se(t,n),sT(n,t),Zre(Fw),Rm=!!Bw,Fw=Bw=null,t.current=n,Ese(n),nre(),Xe=a,lt=o,qs.transition=i}else t.current=n;if(Wg&&(Wg=!1,Pa=t,Qm=s),i=t.pendingLanes,i===0&&($a=null),ire(n.stateNode),Or(t,an()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Zm)throw Zm=!1,t=l3,l3=null,t;return Qm&1&&t.tag!==0&&Gd(),i=t.pendingLanes,i&1?t===c3?op++:(op=0,c3=t):op=0,rl(),null}function Gd(){if(Pa!==null){var t=WA(Qm),e=qs.transition,n=lt;try{if(qs.transition=null,lt=16>t?16:t,Pa===null)var r=!1;else{if(t=Pa,Pa=null,Qm=0,Xe&6)throw Error(ee(331));var s=Xe;for(Xe|=4,ce=t.current;ce!==null;){var i=ce,o=i.child;if(ce.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ce=c;ce!==null;){var d=ce;switch(d.tag){case 0:case 11:case 15:sp(8,d,i)}var h=d.child;if(h!==null)h.return=d,ce=h;else for(;ce!==null;){d=ce;var u=d.sibling,p=d.return;if(tT(d),d===c){ce=null;break}if(u!==null){u.return=p,ce=u;break}ce=p}}}var y=i.alternate;if(y!==null){var m=y.child;if(m!==null){y.child=null;do{var w=m.sibling;m.sibling=null,m=w}while(m!==null)}}ce=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ce=o;else e:for(;ce!==null;){if(i=ce,i.flags&2048)switch(i.tag){case 0:case 11:case 15:sp(9,i,i.return)}var S=i.sibling;if(S!==null){S.return=i.return,ce=S;break e}ce=i.return}}var b=t.current;for(ce=b;ce!==null;){o=ce;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,ce=g;else e:for(o=b;ce!==null;){if(a=ce,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:A1(9,a)}}catch(k){tn(a,a.return,k)}if(a===o){ce=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,ce=x;break e}ce=a.return}}if(Xe=s,rl(),Xi&&typeof Xi.onPostCommitFiberRoot=="function")try{Xi.onPostCommitFiberRoot(v1,t)}catch{}r=!0}return r}finally{lt=n,qs.transition=e}}return!1}function D8(t,e,n){e=fh(n,e),e=WN(t,e,1),t=Ra(t,e,1),e=br(),t!==null&&(Tf(t,1,e),Or(t,e))}function tn(t,e,n){if(t.tag===3)D8(t,t,n);else for(;e!==null;){if(e.tag===3){D8(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&($a===null||!$a.has(r))){t=fh(n,t),t=UN(e,t,1),e=Ra(e,t,1),t=br(),e!==null&&(Tf(e,1,t),Or(e,t));break}}e=e.return}}function Tse(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=br(),t.pingedLanes|=t.suspendedLanes&n,Sn===t&&(Bn&n)===n&&(fn===4||fn===3&&(Bn&130023424)===Bn&&500>an()-X9?tc(t,0):V9|=n),Or(t,e)}function hT(t,e){e===0&&(t.mode&1?(e=Mg,Mg<<=1,!(Mg&130023424)&&(Mg=4194304)):e=1);var n=br();t=Bo(t,e),t!==null&&(Tf(t,e,n),Or(t,n))}function Lse(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),hT(t,n)}function Mse(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ee(314))}r!==null&&r.delete(e),hT(t,n)}var uT;uT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Rr.current)Mr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Mr=!1,bse(t,e,n);Mr=!!(t.flags&131072)}else Mr=!1,qt&&e.flags&1048576&&mN(e,Km,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;R0(t,e),t=e.pendingProps;var s=dh(e,fr.current);Hd(e,n),s=q9(null,e,r,t,s,n);var i=B9();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,$r(r)?(i=!0,Bm(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,j9(e),s.updater=z1,e.stateNode=s,s._reactInternals=e,Zw(e,r,t,n),e=e3(null,e,r,!0,i,n)):(e.tag=0,qt&&i&&P9(e),xr(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(R0(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Rse(r),t=Zs(r,t),s){case 0:e=Jw(null,e,r,t,n);break e;case 1:e=z8(null,e,r,t,n);break e;case 11:e=I8(null,e,r,t,n);break e;case 14:e=P8(null,e,r,Zs(r.type,t),n);break e}throw Error(ee(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Zs(r,s),Jw(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Zs(r,s),z8(t,e,r,s,n);case 3:e:{if(HN(e),t===null)throw Error(ee(387));r=e.pendingProps,i=e.memoizedState,s=i.element,vN(t,e),Vm(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=fh(Error(ee(423)),e),e=A8(t,e,r,n,s);break e}else if(r!==s){s=fh(Error(ee(424)),e),e=A8(t,e,r,n,s);break e}else for(us=ja(e.stateNode.containerInfo.firstChild),ps=e,qt=!0,ii=null,n=SN(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(hh(),r===s){e=Fo(t,e,n);break e}xr(t,e,r,n)}e=e.child}return e;case 5:return kN(e),t===null&&Yw(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Kw(r,s)?o=null:i!==null&&Kw(r,i)&&(e.flags|=32),YN(t,e),xr(t,e,o,n),e.child;case 6:return t===null&&Yw(e),null;case 13:return GN(t,e,n);case 4:return R9(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=uh(e,null,r,n):xr(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Zs(r,s),I8(t,e,r,s,n);case 7:return xr(t,e,e.pendingProps,n),e.child;case 8:return xr(t,e,e.pendingProps.children,n),e.child;case 12:return xr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,St(Wm,r._currentValue),r._currentValue=o,i!==null)if(xi(i.value,o)){if(i.children===s.children&&!Rr.current){e=Fo(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Lo(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Hw(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ee(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Hw(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}xr(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Hd(e,n),s=Fs(s),r=r(s),e.flags|=1,xr(t,e,r,n),e.child;case 14:return r=e.type,s=Zs(r,e.pendingProps),s=Zs(r.type,s),P8(t,e,r,s,n);case 15:return VN(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Zs(r,s),R0(t,e),e.tag=1,$r(r)?(t=!0,Bm(e)):t=!1,Hd(e,n),KN(e,r,s),Zw(e,r,s,n),e3(null,e,r,!0,t,n);case 19:return ZN(t,e,n);case 22:return XN(t,e,n)}throw Error(ee(156,e.tag))};function pT(t,e){return qA(t,e)}function jse(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $s(t,e,n,r){return new jse(t,e,n,r)}function Z9(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Rse(t){if(typeof t=="function")return Z9(t)?1:0;if(t!=null){if(t=t.$$typeof,t===m9)return 11;if(t===y9)return 14}return 2}function Da(t,e){var n=t.alternate;return n===null?(n=$s(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function D0(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Z9(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case _d:return nc(n.children,s,i,e);case g9:o=8,s|=8;break;case bw:return t=$s(12,n,e,s|2),t.elementType=bw,t.lanes=i,t;case vw:return t=$s(13,n,e,s),t.elementType=vw,t.lanes=i,t;case kw:return t=$s(19,n,e,s),t.elementType=kw,t.lanes=i,t;case kA:return T1(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case bA:o=10;break e;case vA:o=9;break e;case m9:o=11;break e;case y9:o=14;break e;case ya:o=16,r=null;break e}throw Error(ee(130,t==null?t:typeof t,""))}return e=$s(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function nc(t,e,n,r){return t=$s(7,t,r,e),t.lanes=n,t}function T1(t,e,n,r){return t=$s(22,t,r,e),t.elementType=kA,t.lanes=n,t.stateNode={isHidden:!1},t}function Ux(t,e,n){return t=$s(6,t,null,e),t.lanes=n,t}function Vx(t,e,n){return e=$s(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function $se(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ex(0),this.expirationTimes=Ex(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ex(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Q9(t,e,n,r,s,i,o,a,l){return t=new $se(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=$s(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},j9(i),t}function Ose(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Cd,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function fT(t){if(!t)return Ka;t=t._reactInternals;e:{if(_c(t)!==t||t.tag!==1)throw Error(ee(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if($r(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ee(171))}if(t.tag===1){var n=t.type;if($r(n))return fN(t,n,e)}return e}function gT(t,e,n,r,s,i,o,a,l){return t=Q9(n,r,!0,t,s,i,o,a,l),t.context=fT(null),n=t.current,r=br(),s=Oa(n),i=Lo(r,s),i.callback=e??null,Ra(n,i,s),t.current.lanes=s,Tf(t,s,r),Or(t,r),t}function L1(t,e,n,r){var s=e.current,i=br(),o=Oa(s);return n=fT(n),e.context===null?e.context=n:e.pendingContext=n,e=Lo(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ra(s,e,o),t!==null&&(pi(t,s,o,i),L0(t,s,o)),o}function ey(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function q8(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function J9(t,e){q8(t,e),(t=t.alternate)&&q8(t,e)}function Dse(){return null}var mT=typeof reportError=="function"?reportError:function(t){console.error(t)};function eb(t){this._internalRoot=t}M1.prototype.render=eb.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ee(409));L1(t,e,null,null)};M1.prototype.unmount=eb.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;hc(function(){L1(null,t,null,null)}),e[qo]=null}};function M1(t){this._internalRoot=t}M1.prototype.unstable_scheduleHydration=function(t){if(t){var e=XA();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Sa.length&&e!==0&&e<Sa[n].priority;n++);Sa.splice(n,0,t),n===0&&HA(t)}};function tb(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function j1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function B8(){}function qse(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=ey(o);i.call(c)}}var o=gT(e,r,t,0,null,!1,!1,"",B8);return t._reactRootContainer=o,t[qo]=o.current,Rp(t.nodeType===8?t.parentNode:t),hc(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=ey(l);a.call(c)}}var l=Q9(t,0,!1,null,null,!1,!1,"",B8);return t._reactRootContainer=l,t[qo]=l.current,Rp(t.nodeType===8?t.parentNode:t),hc(function(){L1(e,l,n,r)}),l}function R1(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=ey(o);a.call(l)}}L1(e,o,t,s)}else o=qse(n,e,t,s,r);return ey(o)}UA=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=qu(e.pendingLanes);n!==0&&(S9(e,n|1),Or(e,an()),!(Xe&6)&&(gh=an()+500,rl()))}break;case 13:hc(function(){var r=Bo(t,1);if(r!==null){var s=br();pi(r,t,1,s)}}),J9(t,1)}};b9=function(t){if(t.tag===13){var e=Bo(t,134217728);if(e!==null){var n=br();pi(e,t,134217728,n)}J9(t,134217728)}};VA=function(t){if(t.tag===13){var e=Oa(t),n=Bo(t,e);if(n!==null){var r=br();pi(n,t,e,r)}J9(t,e)}};XA=function(){return lt};YA=function(t,e){var n=lt;try{return lt=t,e()}finally{lt=n}};Lw=function(t,e,n){switch(e){case"input":if(Ew(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=E1(r);if(!s)throw Error(ee(90));_A(r),Ew(r,s)}}}break;case"textarea":IA(t,n);break;case"select":e=n.value,e!=null&&Ud(t,!!n.multiple,e,!1)}};MA=Y9;jA=hc;var Bse={usingClientEntryPoint:!1,Events:[Mf,zd,E1,TA,LA,Y9]},gu={findFiberByHostInstance:Ol,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Fse={bundleType:gu.bundleType,version:gu.version,rendererPackageName:gu.rendererPackageName,rendererConfig:gu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Go.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=OA(t),t===null?null:t.stateNode},findFiberByHostInstance:gu.findFiberByHostInstance||Dse,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ug=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ug.isDisabled&&Ug.supportsFiber)try{v1=Ug.inject(Fse),Xi=Ug}catch{}}xs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bse;xs.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tb(e))throw Error(ee(200));return Ose(t,e,null,n)};xs.createRoot=function(t,e){if(!tb(t))throw Error(ee(299));var n=!1,r="",s=mT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Q9(t,1,!1,null,null,n,!1,r,s),t[qo]=e.current,Rp(t.nodeType===8?t.parentNode:t),new eb(e)};xs.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ee(188)):(t=Object.keys(t).join(","),Error(ee(268,t)));return t=OA(e),t=t===null?null:t.stateNode,t};xs.flushSync=function(t){return hc(t)};xs.hydrate=function(t,e,n){if(!j1(e))throw Error(ee(200));return R1(null,t,e,!0,n)};xs.hydrateRoot=function(t,e,n){if(!tb(t))throw Error(ee(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=mT;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=gT(e,null,t,1,n??null,s,!1,i,o),t[qo]=e.current,Rp(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new M1(e)};xs.render=function(t,e,n){if(!j1(e))throw Error(ee(200));return R1(null,t,e,!1,n)};xs.unmountComponentAtNode=function(t){if(!j1(t))throw Error(ee(40));return t._reactRootContainer?(hc(function(){R1(null,null,t,!1,function(){t._reactRootContainer=null,t[qo]=null})}),!0):!1};xs.unstable_batchedUpdates=Y9;xs.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!j1(n))throw Error(ee(200));if(t==null||t._reactInternals===void 0)throw Error(ee(38));return R1(t,e,n,!1,r)};xs.version="18.3.1-next-f1338f8080-20240426";function yT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yT)}catch(t){console.error(t)}}yT(),yA.exports=xs;var Ec=yA.exports;const xT=yc(Ec),Kse=g_({__proto__:null,default:xT},[Ec]);function pe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function Wse(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function $1(...t){return e=>t.forEach(n=>Wse(n,e))}function kt(...t){return v.useCallback($1(...t),t)}function uo(t,e=[]){let n=[];function r(i,o){const a=v.createContext(o),l=n.length;n=[...n,o];function c(h){const{scope:u,children:p,...y}=h,m=(u==null?void 0:u[t][l])||a,w=v.useMemo(()=>y,Object.values(y));return v.createElement(m.Provider,{value:w},p)}function d(h,u){const p=(u==null?void 0:u[t][l])||a,y=v.useContext(p);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,d]}const s=()=>{const i=n.map(o=>v.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,Use(s,...e)]}function Use(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}const uc=v.forwardRef((t,e)=>{const{children:n,...r}=t,s=v.Children.toArray(n),i=s.find(Xse);if(i){const o=i.props.children,a=s.map(l=>l===i?v.Children.count(o)>1?v.Children.only(null):v.isValidElement(o)?o.props.children:null:l);return v.createElement(u3,re({},r,{ref:e}),v.isValidElement(o)?v.cloneElement(o,void 0,a):null)}return v.createElement(u3,re({},r,{ref:e}),n)});uc.displayName="Slot";const u3=v.forwardRef((t,e)=>{const{children:n,...r}=t;return v.isValidElement(n)?v.cloneElement(n,{...Yse(r,n.props),ref:e?$1(e,n.ref):n.ref}):v.Children.count(n)>1?v.Children.only(null):null});u3.displayName="SlotClone";const Vse=({children:t})=>v.createElement(v.Fragment,null,t);function Xse(t){return v.isValidElement(t)&&t.type===Vse}function Yse(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function O1(t){const e=t+"CollectionProvider",[n,r]=uo(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:y,children:m}=p,w=ie.useRef(null),S=ie.useRef(new Map).current;return ie.createElement(s,{scope:y,itemMap:S,collectionRef:w},m)},a=t+"CollectionSlot",l=ie.forwardRef((p,y)=>{const{scope:m,children:w}=p,S=i(a,m),b=kt(y,S.collectionRef);return ie.createElement(uc,{ref:b},w)}),c=t+"CollectionItemSlot",d="data-radix-collection-item",h=ie.forwardRef((p,y)=>{const{scope:m,children:w,...S}=p,b=ie.useRef(null),g=kt(y,b),x=i(c,m);return ie.useEffect(()=>(x.itemMap.set(b,{ref:b,...S}),()=>void x.itemMap.delete(b))),ie.createElement(uc,{[d]:"",ref:g},w)});function u(p){const y=i(t+"CollectionConsumer",p);return ie.useCallback(()=>{const w=y.collectionRef.current;if(!w)return[];const S=Array.from(w.querySelectorAll(`[${d}]`));return Array.from(y.itemMap.values()).sort((x,k)=>S.indexOf(x.ref.current)-S.indexOf(k.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:l,ItemSlot:h},u,r]}const Hse=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],mt=Hse.reduce((t,e)=>{const n=v.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?uc:e;return v.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),v.createElement(a,re({},o,{ref:s}))});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function nb(t,e){t&&Ec.flushSync(()=>t.dispatchEvent(e))}function gr(t){const e=v.useRef(t);return v.useEffect(()=>{e.current=t}),v.useMemo(()=>(...n)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...n)},[])}function Gse(t,e=globalThis==null?void 0:globalThis.document){const n=gr(t);v.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r),()=>e.removeEventListener("keydown",r)},[n,e])}const p3="dismissableLayer.update",Zse="dismissableLayer.pointerDownOutside",Qse="dismissableLayer.focusOutside";let F8;const wT=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),D1=v.forwardRef((t,e)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:a,onDismiss:l,...c}=t,d=v.useContext(wT),[h,u]=v.useState(null),p=(n=h==null?void 0:h.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,y]=v.useState({}),m=kt(e,E=>u(E)),w=Array.from(d.layers),[S]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),b=w.indexOf(S),g=h?w.indexOf(h):-1,x=d.layersWithOutsidePointerEventsDisabled.size>0,k=g>=b,C=eie(E=>{const z=E.target,P=[...d.branches].some(A=>A.contains(z));!k||P||(i==null||i(E),a==null||a(E),E.defaultPrevented||l==null||l())},p),_=tie(E=>{const z=E.target;[...d.branches].some(A=>A.contains(z))||(o==null||o(E),a==null||a(E),E.defaultPrevented||l==null||l())},p);return Gse(E=>{g===d.layers.size-1&&(s==null||s(E),!E.defaultPrevented&&l&&(E.preventDefault(),l()))},p),v.useEffect(()=>{if(h)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(F8=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),K8(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=F8)}},[h,p,r,d]),v.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),K8())},[h,d]),v.useEffect(()=>{const E=()=>y({});return document.addEventListener(p3,E),()=>document.removeEventListener(p3,E)},[]),v.createElement(mt.div,re({},c,{ref:m,style:{pointerEvents:x?k?"auto":"none":void 0,...t.style},onFocusCapture:pe(t.onFocusCapture,_.onFocusCapture),onBlurCapture:pe(t.onBlurCapture,_.onBlurCapture),onPointerDownCapture:pe(t.onPointerDownCapture,C.onPointerDownCapture)}))}),Jse=v.forwardRef((t,e)=>{const n=v.useContext(wT),r=v.useRef(null),s=kt(e,r);return v.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),v.createElement(mt.div,re({},t,{ref:s}))});function eie(t,e=globalThis==null?void 0:globalThis.document){const n=gr(t),r=v.useRef(!1),s=v.useRef(()=>{});return v.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let d=function(){ST(Zse,n,c,{discrete:!0})};var l=d;const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=d,e.addEventListener("click",s.current,{once:!0})):d()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function tie(t,e=globalThis==null?void 0:globalThis.document){const n=gr(t),r=v.useRef(!1);return v.useEffect(()=>{const s=i=>{i.target&&!r.current&&ST(Qse,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function K8(){const t=new CustomEvent(p3);document.dispatchEvent(t)}function ST(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?nb(s,i):s.dispatchEvent(i)}const nie=D1,rie=Jse,q1=v.forwardRef((t,e)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...s}=t;return r?xT.createPortal(v.createElement(mt.div,re({},s,{ref:e})),r):null}),pc=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{};function sie(t,e){return v.useReducer((n,r)=>{const s=e[n][r];return s??n},t)}const bi=t=>{const{present:e,children:n}=t,r=iie(e),s=typeof n=="function"?n({present:r.isPresent}):v.Children.only(n),i=kt(r.ref,s.ref);return typeof n=="function"||r.isPresent?v.cloneElement(s,{ref:i}):null};bi.displayName="Presence";function iie(t){const[e,n]=v.useState(),r=v.useRef({}),s=v.useRef(t),i=v.useRef("none"),o=t?"mounted":"unmounted",[a,l]=sie(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const c=Vg(r.current);i.current=a==="mounted"?c:"none"},[a]),pc(()=>{const c=r.current,d=s.current;if(d!==t){const u=i.current,p=Vg(c);t?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&u!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),pc(()=>{if(e){const c=h=>{const p=Vg(r.current).includes(h.animationName);h.target===e&&p&&Ec.flushSync(()=>l("ANIMATION_END"))},d=h=>{h.target===e&&(i.current=Vg(r.current))};return e.addEventListener("animationstart",d),e.addEventListener("animationcancel",c),e.addEventListener("animationend",c),()=>{e.removeEventListener("animationstart",d),e.removeEventListener("animationcancel",c),e.removeEventListener("animationend",c)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:v.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Vg(t){return(t==null?void 0:t.animationName)||"none"}function sl({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=oie({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=gr(n),l=v.useCallback(c=>{if(i){const h=typeof c=="function"?c(t):c;h!==t&&a(h)}else s(c)},[i,t,s,a]);return[o,l]}function oie({defaultProp:t,onChange:e}){const n=v.useState(t),[r]=n,s=v.useRef(r),i=gr(e);return v.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}const bT=v.forwardRef((t,e)=>v.createElement(mt.span,re({},t,{ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}))),vT="ToastProvider",[rb,aie,lie]=O1("Toast"),[kT,Xwe]=uo("Toast",[lie]),[cie,B1]=kT(vT),CT=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=v.useState(null),[c,d]=v.useState(0),h=v.useRef(!1),u=v.useRef(!1);return v.createElement(rb.Provider,{scope:e},v.createElement(cie,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:v.useCallback(()=>d(p=>p+1),[]),onToastRemove:v.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:u},o))};CT.propTypes={label(t){if(t.label&&typeof t.label=="string"&&!t.label.trim()){const e=`Invalid prop \`label\` supplied to \`${vT}\`. Expected non-empty \`string\`.`;return new Error(e)}return null}};const die="ToastViewport",hie=["F8"],f3="toast.viewportPause",g3="toast.viewportResume",uie=v.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=hie,label:s="Notifications ({hotkey})",...i}=t,o=B1(die,n),a=aie(n),l=v.useRef(null),c=v.useRef(null),d=v.useRef(null),h=v.useRef(null),u=kt(e,h,o.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=o.toastCount>0;v.useEffect(()=>{const w=S=>{var b;r.every(x=>S[x]||S.code===x)&&((b=h.current)===null||b===void 0||b.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),v.useEffect(()=>{const w=l.current,S=h.current;if(y&&w&&S){const b=()=>{if(!o.isClosePausedRef.current){const C=new CustomEvent(f3);S.dispatchEvent(C),o.isClosePausedRef.current=!0}},g=()=>{if(o.isClosePausedRef.current){const C=new CustomEvent(g3);S.dispatchEvent(C),o.isClosePausedRef.current=!1}},x=C=>{!w.contains(C.relatedTarget)&&g()},k=()=>{w.contains(document.activeElement)||g()};return w.addEventListener("focusin",b),w.addEventListener("focusout",x),w.addEventListener("pointermove",b),w.addEventListener("pointerleave",k),window.addEventListener("blur",b),window.addEventListener("focus",g),()=>{w.removeEventListener("focusin",b),w.removeEventListener("focusout",x),w.removeEventListener("pointermove",b),w.removeEventListener("pointerleave",k),window.removeEventListener("blur",b),window.removeEventListener("focus",g)}}},[y,o.isClosePausedRef]);const m=v.useCallback(({tabbingDirection:w})=>{const b=a().map(g=>{const x=g.ref.current,k=[x,...Pie(x)];return w==="forwards"?k:k.reverse()});return(w==="forwards"?b.reverse():b).flat()},[a]);return v.useEffect(()=>{const w=h.current;if(w){const S=b=>{const g=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!g){const E=document.activeElement,z=b.shiftKey;if(b.target===w&&z){var k;(k=c.current)===null||k===void 0||k.focus();return}const N=m({tabbingDirection:z?"backwards":"forwards"}),L=N.findIndex(M=>M===E);if(Xx(N.slice(L+1)))b.preventDefault();else{var C,_;z?(C=c.current)===null||C===void 0||C.focus():(_=d.current)===null||_===void 0||_.focus()}}};return w.addEventListener("keydown",S),()=>w.removeEventListener("keydown",S)}},[a,m]),v.createElement(rie,{ref:l,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:y?void 0:"none"}},y&&v.createElement(W8,{ref:c,onFocusFromOutsideViewport:()=>{const w=m({tabbingDirection:"forwards"});Xx(w)}}),v.createElement(rb.Slot,{scope:n},v.createElement(mt.ol,re({tabIndex:-1},i,{ref:u}))),y&&v.createElement(W8,{ref:d,onFocusFromOutsideViewport:()=>{const w=m({tabbingDirection:"backwards"});Xx(w)}}))}),pie="ToastFocusProxy",W8=v.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=B1(pie,n);return v.createElement(bT,re({"aria-hidden":!0,tabIndex:0},s,{ref:e,style:{position:"fixed"},onFocus:o=>{var a;const l=o.relatedTarget;!((a=i.viewport)!==null&&a!==void 0&&a.contains(l))&&r()}}))}),F1="Toast",fie="toast.swipeStart",gie="toast.swipeMove",mie="toast.swipeCancel",yie="toast.swipeEnd",xie=v.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,l]=sl({prop:r,defaultProp:s,onChange:i});return v.createElement(bi,{present:n||a},v.createElement(_T,re({open:a},o,{ref:e,onClose:()=>l(!1),onPause:gr(t.onPause),onResume:gr(t.onResume),onSwipeStart:pe(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:pe(t.onSwipeMove,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:pe(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:pe(t.onSwipeEnd,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})))}),[wie,Sie]=kT(F1,{onClose(){}}),_T=v.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:u,onSwipeEnd:p,...y}=t,m=B1(F1,n),[w,S]=v.useState(null),b=kt(e,M=>S(M)),g=v.useRef(null),x=v.useRef(null),k=s||m.duration,C=v.useRef(0),_=v.useRef(k),E=v.useRef(0),{onToastAdd:z,onToastRemove:P}=m,A=gr(()=>{var M;(w==null?void 0:w.contains(document.activeElement))&&((M=m.viewport)===null||M===void 0||M.focus()),o()}),N=v.useCallback(M=>{!M||M===1/0||(window.clearTimeout(E.current),C.current=new Date().getTime(),E.current=window.setTimeout(A,M))},[A]);v.useEffect(()=>{const M=m.viewport;if(M){const q=()=>{N(_.current),c==null||c()},D=()=>{const X=new Date().getTime()-C.current;_.current=_.current-X,window.clearTimeout(E.current),l==null||l()};return M.addEventListener(f3,D),M.addEventListener(g3,q),()=>{M.removeEventListener(f3,D),M.removeEventListener(g3,q)}}},[m.viewport,k,l,c,N]),v.useEffect(()=>{i&&!m.isClosePausedRef.current&&N(k)},[i,k,m.isClosePausedRef,N]),v.useEffect(()=>(z(),()=>P()),[z,P]);const L=v.useMemo(()=>w?zT(w):null,[w]);return m.viewport?v.createElement(v.Fragment,null,L&&v.createElement(bie,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0},L),v.createElement(wie,{scope:n,onClose:A},Ec.createPortal(v.createElement(rb.ItemSlot,{scope:n},v.createElement(nie,{asChild:!0,onEscapeKeyDown:pe(a,()=>{m.isFocusedToastEscapeKeyDownRef.current||A(),m.isFocusedToastEscapeKeyDownRef.current=!1})},v.createElement(mt.li,re({role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":m.swipeDirection},y,{ref:b,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:pe(t.onKeyDown,M=>{M.key==="Escape"&&(a==null||a(M.nativeEvent),M.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,A()))}),onPointerDown:pe(t.onPointerDown,M=>{M.button===0&&(g.current={x:M.clientX,y:M.clientY})}),onPointerMove:pe(t.onPointerMove,M=>{if(!g.current)return;const q=M.clientX-g.current.x,D=M.clientY-g.current.y,X=!!x.current,O=["left","right"].includes(m.swipeDirection),K=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,W=O?K(0,q):0,G=O?0:K(0,D),J=M.pointerType==="touch"?10:2,ye={x:W,y:G},Le={originalEvent:M,delta:ye};X?(x.current=ye,Xg(gie,h,Le,{discrete:!1})):U8(ye,m.swipeDirection,J)?(x.current=ye,Xg(fie,d,Le,{discrete:!1}),M.target.setPointerCapture(M.pointerId)):(Math.abs(q)>J||Math.abs(D)>J)&&(g.current=null)}),onPointerUp:pe(t.onPointerUp,M=>{const q=x.current,D=M.target;if(D.hasPointerCapture(M.pointerId)&&D.releasePointerCapture(M.pointerId),x.current=null,g.current=null,q){const X=M.currentTarget,O={originalEvent:M,delta:q};U8(q,m.swipeDirection,m.swipeThreshold)?Xg(yie,p,O,{discrete:!0}):Xg(mie,u,O,{discrete:!0}),X.addEventListener("click",K=>K.preventDefault(),{once:!0})}})})))),m.viewport))):null});_T.propTypes={type(t){if(t.type&&!["foreground","background"].includes(t.type)){const e=`Invalid prop \`type\` supplied to \`${F1}\`. Expected \`foreground | background\`.`;return new Error(e)}return null}};const bie=t=>{const{__scopeToast:e,children:n,...r}=t,s=B1(F1,e),[i,o]=v.useState(!1),[a,l]=v.useState(!1);return Eie(()=>o(!0)),v.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:v.createElement(q1,{asChild:!0},v.createElement(bT,r,i&&v.createElement(v.Fragment,null,s.label," ",n)))},vie=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return v.createElement(mt.div,re({},r,{ref:e}))}),kie=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return v.createElement(mt.div,re({},r,{ref:e}))}),Cie="ToastAction",ET=v.forwardRef((t,e)=>{const{altText:n,...r}=t;return n?v.createElement(PT,{altText:n,asChild:!0},v.createElement(IT,re({},r,{ref:e}))):null});ET.propTypes={altText(t){return t.altText?null:new Error(`Missing prop \`altText\` expected on \`${Cie}\``)}};const _ie="ToastClose",IT=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=Sie(_ie,n);return v.createElement(PT,{asChild:!0},v.createElement(mt.button,re({type:"button"},r,{ref:e,onClick:pe(t.onClick,s.onClose)})))}),PT=v.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return v.createElement(mt.div,re({"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0},s,{ref:e}))});function zT(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),Iie(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...zT(r))}}),e}function Xg(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?nb(s,i):s.dispatchEvent(i)}const U8=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function Eie(t=()=>{}){const e=gr(t);pc(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function Iie(t){return t.nodeType===t.ELEMENT_NODE}function Pie(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Xx(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}const zie=xie,Aie=vie,Nie=kie,Tie=ET,V8=IT,Bl="2.0.0-alpha.12";let ty={fonts:{draw:`https://unpkg.com/@tldraw/assets@${Bl}/fonts/Shantell_Sans-Normal-SemiBold.woff2`,serif:`https://unpkg.com/@tldraw/assets@${Bl}/fonts/IBMPlexSerif-Medium.woff2`,sansSerif:`https://unpkg.com/@tldraw/assets@${Bl}/fonts/IBMPlexSans-Medium.woff2`,monospace:`https://unpkg.com/@tldraw/assets@${Bl}/fonts/IBMPlexMono-Medium.woff2`}};function Lie(t){ty=t}function Mie(t){return v.useMemo(()=>t?{fonts:{...ty.fonts,...t==null?void 0:t.fonts}}:ty,[t])}const jie=["align-bottom-center","align-bottom-left","align-bottom-right","align-bottom","align-center-center","align-center-horizontal","align-center-left","align-center-right","align-center-vertical","align-left","align-right","align-top-center","align-top-left","align-top-right","align-top","arrow-left","arrowhead-arrow","arrowhead-bar","arrowhead-diamond","arrowhead-dot","arrowhead-none","arrowhead-square","arrowhead-triangle-inverted","arrowhead-triangle","aspect-ratio","avatar","blob","bring-forward","bring-to-front","check","checkbox-checked","checkbox-empty","chevron-down","chevron-left","chevron-right","chevron-up","chevrons-ne","chevrons-sw","clipboard-copied","clipboard-copy","code","collab","color","comment","cross-2","cross","dash-dashed","dash-dotted","dash-draw","dash-solid","discord","distribute-horizontal","distribute-vertical","dot","dots-horizontal","dots-vertical","drag-handle-dots","duplicate","edit","external-link","file","fill-none","fill-pattern","fill-semi","fill-solid","follow","following","font-draw","font-mono","font-sans","font-serif","geo-arrow-down","geo-arrow-left","geo-arrow-right","geo-arrow-up","geo-check-box","geo-cloud","geo-diamond","geo-ellipse","geo-hexagon","geo-octagon","geo-oval","geo-pentagon","geo-rectangle","geo-rhombus-2","geo-rhombus","geo-star","geo-trapezoid","geo-triangle","geo-x-box","github","group","hidden","image","info-circle","leading","link","lock-small","lock","menu","minus","mixed","pack","page","plus","question-mark-circle","question-mark","redo","reset-zoom","rotate-ccw","rotate-cw","ruler","search","send-backward","send-to-back","settings-horizontal","settings-vertical-1","settings-vertical","share-1","share-2","size-extra-large","size-large","size-medium","size-small","spline-cubic","spline-line","stack-horizontal","stack-vertical","status-offline","status-online","stretch-horizontal","stretch-vertical","text-align-center","text-align-justify","text-align-left","text-align-right","tool-arrow","tool-embed","tool-eraser","tool-frame","tool-hand","tool-highlight","tool-laser","tool-line","tool-media","tool-note","tool-pencil","tool-pointer","tool-text","trash","triangle-down","triangle-up","twitter","undo","ungroup","unlock-small","unlock","vertical-align-center","vertical-align-end","vertical-align-start","visible","warning-triangle","zoom-in","zoom-out"];let pd={...ty,icons:Object.fromEntries(jie.map(t=>[t,`https://unpkg.com/@tldraw/assets@${Bl}/icons/icon/${t}.svg`])),translations:Object.fromEntries(xp.map(t=>[t.locale,`https://unpkg.com/@tldraw/assets@${Bl}/translations/${t.locale}.json`])),embedIcons:Object.fromEntries(ih.map(t=>[t.type,`https://unpkg.com/@tldraw/assets@${Bl}/embed-icons/${t.type}.png`]))};function Rie(t){pd=t}function $ie(t){return t?{fonts:Object.assign({...pd.fonts},{...t==null?void 0:t.fonts}),icons:Object.assign({...pd.icons},{...t==null?void 0:t.icons}),embedIcons:Object.assign({...pd.embedIcons},{...t==null?void 0:t.embedIcons}),translations:Object.assign({...pd.translations},{...t==null?void 0:t.translations})}:pd}function Oie(t,e){const n=ke(e.map(s=>t.getShape(s)).filter(s=>s&&t.isShapeOfType(s,"frame")));if(!n.length)return;const r=[];t.batch(()=>{n.map(s=>{const i=t.getSortedChildIdsForParent(s.id);i.length&&(t.reparentShapes(i,s.parentId,s.index),r.push(...i))}),t.setSelectedShapes(r),t.deleteShapes(e)})}const Die=50;function qie(t,e,n={}){const r=t.getShape(e);if(!r)return;const s=t.getSortedChildIdsForParent(r.id),i=ke(s.map(p=>t.getShape(p)));if(!i.length)return;const o=fe.FromPoints(i.flatMap(p=>{const y=t.getShapeGeometry(p.id);return t.getShapeLocalTransform(p).applyToPoints(y.vertices)})),{padding:a=Die}=n,l=o.w+2*a,c=o.h+2*a,d=a-o.minX,h=a-o.minY;if(d===0&&h===0&&r.props.w===l&&r.props.h===c)return;const u=new I(d,h).rot(r.rotation);t.batch(()=>{const p=s.map(y=>{const m=t.getShape(y);return{id:m.id,type:m.type,x:m.x+d,y:m.y+h}});p.push({id:r.id,type:r.type,x:r.x-u.x,y:r.y-u.y,props:{w:l,h:c}}),t.updateShapes(p)})}const AT=v.createContext(null);function Bie({assetUrls:t,children:e}){return f.jsx(AT.Provider,{value:t,children:e})}function sb(){const t=v.useContext(AT);if(!t)throw new Error("useAssetUrls must be used within an AssetUrlsProvider");return t}const m3={"action.convert-to-bookmark":"Convert to Bookmark","action.convert-to-embed":"Convert to Embed","action.open-embed-link":"Open link","action.align-bottom":"Align bottom","action.align-center-horizontal":"Align horizontally","action.align-center-vertical":"Align vertically","action.align-center-horizontal.short":"Align H","action.align-center-vertical.short":"Align V","action.align-left":"Align left","action.align-right":"Align right","action.align-top":"Align top","action.back-to-content":"Back to content","action.bring-forward":"Bring forward","action.bring-to-front":"Bring to front","action.copy-as-json.short":"JSON","action.copy-as-json":"Copy as JSON","action.copy-as-png.short":"PNG","action.copy-as-png":"Copy as PNG","action.copy-as-svg.short":"SVG","action.copy-as-svg":"Copy as SVG","action.copy":"Copy","action.cut":"Cut","action.delete":"Delete","action.unlock-all":"Unlock all","action.distribute-horizontal":"Distribute horizontally","action.distribute-vertical":"Distribute vertically","action.distribute-horizontal.short":"Distribute H","action.distribute-vertical.short":"Distribute V","action.duplicate":"Duplicate","action.edit-link":"Edit link","action.exit-pen-mode":"Exit pen mode","action.export-as-json.short":"JSON","action.export-as-json":"Export as JSON","action.export-as-png.short":"PNG","action.export-as-png":"Export as PNG","action.export-as-svg.short":"SVG","action.export-as-svg":"Export as SVG","action.fit-frame-to-content":"Fit to content","action.flip-horizontal":"Flip horizontally","action.flip-vertical":"Flip vertically","action.flip-horizontal.short":"Flip H","action.flip-vertical.short":"Flip V","action.fork-project":"Fork this project","action.group":"Group","action.insert-embed":"Insert embed","action.insert-media":"Upload media","action.leave-shared-project":"Leave shared project","action.new-project":"New project","action.new-shared-project":"New shared project","action.open-cursor-chat":"Cursor chat","action.open-file":"Open file","action.pack":"Pack","action.paste":"Paste","action.print":"Print","action.redo":"Redo","action.remove-frame":"Remove frame","action.rotate-ccw":"Rotate counterclockwise","action.rotate-cw":"Rotate clockwise","action.save-copy":"Save a copy","action.select-all":"Select all","action.select-none":"Select none","action.send-backward":"Send backward","action.send-to-back":"Send to back","action.share-project":"Share this project","action.stack-horizontal":"Stack horizontally","action.stack-vertical":"Stack vertically","action.stack-horizontal.short":"Stack H","action.stack-vertical.short":"Stack V","action.stop-following":"Stop following","action.stretch-horizontal":"Stretch horizontally","action.stretch-vertical":"Stretch vertically","action.stretch-horizontal.short":"Stretch H","action.stretch-vertical.short":"Stretch V","action.toggle-auto-size":"Toggle auto size","action.toggle-dark-mode.menu":"Dark mode","action.toggle-dark-mode":"Toggle dark mode","action.toggle-reduce-motion.menu":"Reduce motion","action.toggle-reduce-motion":"Toggle reduce motion","action.toggle-edge-scrolling.menu":"Edge scrolling","action.toggle-edge-scrolling":"Toggle edge scrolling","action.toggle-debug-mode.menu":"Debug mode","action.toggle-debug-mode":"Toggle debug mode","action.toggle-focus-mode.menu":"Focus mode","action.toggle-focus-mode":"Toggle focus mode","action.toggle-grid.menu":"Show grid","action.toggle-grid":"Toggle grid","action.toggle-lock":"Toggle locked","action.toggle-snap-mode.menu":"Always snap","action.toggle-snap-mode":"Toggle always snap","action.toggle-tool-lock.menu":"Tool lock","action.toggle-tool-lock":"Toggle tool lock","action.toggle-transparent.context-menu":"Transparent","action.toggle-transparent.menu":"Transparent","action.toggle-transparent":"Toggle transparent background","action.undo":"Undo","action.ungroup":"Ungroup","action.zoom-in":"Zoom in","action.zoom-out":"Zoom out","action.zoom-to-100":"Zoom to 100%","action.zoom-to-fit":"Zoom to fit","action.zoom-to-selection":"Zoom to selection","color-style.black":"Black","color-style.blue":"Blue","color-style.green":"Green","color-style.grey":"Grey","color-style.light-blue":"Light blue","color-style.light-green":"Light green","color-style.light-red":"Light red","color-style.light-violet":"Light violet","color-style.orange":"Orange","color-style.red":"Red","color-style.violet":"Violet","color-style.yellow":"Yellow","fill-style.none":"None","fill-style.semi":"Semi","fill-style.solid":"Solid","fill-style.pattern":"Pattern","dash-style.dashed":"Dashed","dash-style.dotted":"Dotted","dash-style.draw":"Draw","dash-style.solid":"Solid","size-style.s":"Small","size-style.m":"Medium","size-style.l":"Large","size-style.xl":"Extra large","opacity-style.0.1":"10%","opacity-style.0.25":"25%","opacity-style.0.5":"50%","opacity-style.0.75":"75%","opacity-style.1":"100%","font-style.draw":"Draw","font-style.sans":"Sans","font-style.serif":"Serif","font-style.mono":"Mono","align-style.start":"Start","align-style.middle":"Middle","align-style.end":"End","align-style.justify":"Justify","geo-style.arrow-down":"Arrow down","geo-style.arrow-left":"Arrow left","geo-style.arrow-right":"Arrow right","geo-style.arrow-up":"Arrow up","geo-style.diamond":"Diamond","geo-style.ellipse":"Ellipse","geo-style.hexagon":"Hexagon","geo-style.octagon":"Octagon","geo-style.oval":"Oval","geo-style.cloud":"Cloud","geo-style.pentagon":"Pentagon","geo-style.rectangle":"Rectangle","geo-style.rhombus-2":"Rhombus 2","geo-style.rhombus":"Rhombus","geo-style.star":"Star","geo-style.trapezoid":"Trapezoid","geo-style.triangle":"Triangle","geo-style.x-box":"X box","geo-style.check-box":"Check box","arrowheadStart-style.none":"None","arrowheadStart-style.arrow":"Arrow","arrowheadStart-style.bar":"Bar","arrowheadStart-style.diamond":"Diamond","arrowheadStart-style.dot":"Dot","arrowheadStart-style.inverted":"Inverted","arrowheadStart-style.pipe":"Pipe","arrowheadStart-style.square":"Square","arrowheadStart-style.triangle":"Triangle","arrowheadEnd-style.none":"None","arrowheadEnd-style.arrow":"Arrow","arrowheadEnd-style.bar":"Bar","arrowheadEnd-style.diamond":"Diamond","arrowheadEnd-style.dot":"Dot","arrowheadEnd-style.inverted":"Inverted","arrowheadEnd-style.pipe":"Pipe","arrowheadEnd-style.square":"Square","arrowheadEnd-style.triangle":"Triangle","spline-style.line":"Line","spline-style.cubic":"Cubic","tool.select":"Select","tool.hand":"Hand","tool.draw":"Draw","tool.eraser":"Eraser","tool.arrow-down":"Arrow down","tool.arrow-left":"Arrow left","tool.arrow-right":"Arrow right","tool.arrow-up":"Arrow up","tool.arrow":"Arrow","tool.cloud":"Cloud","tool.diamond":"Diamond","tool.ellipse":"Ellipse","tool.hexagon":"Hexagon","tool.highlight":"Highlight","tool.line":"Line","tool.octagon":"Octagon","tool.oval":"Oval","tool.pentagon":"Pentagon","tool.rectangle":"Rectangle","tool.rhombus":"Rhombus","tool.star":"Star","tool.trapezoid":"Trapezoid","tool.triangle":"Triangle","tool.x-box":"X box","tool.check-box":"Check box","tool.asset":"Asset","tool.frame":"Frame","tool.note":"Note","tool.laser":"Laser","tool.embed":"Embed","tool.text":"Text","menu.title":"Menu","menu.copy-as":"Copy as","menu.edit":"Edit","menu.export-as":"Export as","menu.file":"File","menu.language":"Language","menu.preferences":"Preferences","menu.view":"View","context-menu.arrange":"Arrange","context-menu.copy-as":"Copy as","context-menu.export-as":"Export as","context-menu.move-to-page":"Move to page","context-menu.reorder":"Reorder","page-menu.title":"Pages","page-menu.create-new-page":"Create new page","page-menu.max-page-count-reached":"Max pages reached","page-menu.new-page-initial-name":"Page 1","page-menu.edit-start":"Edit","page-menu.edit-done":"Done","page-menu.go-to-page":"Go to page","page-menu.submenu.rename":"Rename","page-menu.submenu.duplicate-page":"Duplicate","page-menu.submenu.title":"Menu","page-menu.submenu.move-down":"Move down","page-menu.submenu.move-up":"Move up","page-menu.submenu.delete":"Delete","share-menu.title":"Share","share-menu.save-note":"Download this project to your computer as a .tldr file.","share-menu.fork-note":"Create a new shared project based on this snapshot.","share-menu.share-project":"Share this project","share-menu.default-project-name":"Shared Project","share-menu.copy-link":"Copy share link","share-menu.readonly-link":"Read-only","share-menu.create-snapshot-link":"Copy snapshot link","share-menu.snapshot-link-note":"Capture and share this project as a read-only snapshot link.","share-menu.copy-readonly-link":"Copy read-only link","share-menu.offline-note":"Create a new shared project based on your current project.","share-menu.copy-link-note":"Anyone with the link will be able to view and edit this project.","share-menu.copy-readonly-link-note":"Anyone with the link will be able to view (but not edit) this project.","share-menu.project-too-large":"Sorry, this project can't be shared because it's too large. We're working on it!","share-menu.upload-failed":"Sorry, we couldn't upload your project at the moment. Please try again or let us know if the problem persists.","status.offline":"Offline","status.online":"Online","people-menu.title":"People","people-menu.change-name":"Change name","people-menu.change-color":"Change color","people-menu.follow":"Following","people-menu.following":"Following","people-menu.leading":"Following You","people-menu.user":"(You)","people-menu.invite":"Invite others","help-menu.title":"Help and resources","help-menu.about":"About","help-menu.discord":"Discord","help-menu.github":"GitHub","help-menu.keyboard-shortcuts":"Keyboard shortcuts","help-menu.twitter":"Twitter","actions-menu.title":"Actions","edit-link-dialog.title":"Edit link","edit-link-dialog.invalid-url":"A link must be a valid URL.","edit-link-dialog.detail":"Links will open in a new tab.","edit-link-dialog.url":"URL","edit-link-dialog.clear":"Clear","edit-link-dialog.save":"Continue","edit-link-dialog.cancel":"Cancel","embed-dialog.title":"Insert embed","embed-dialog.back":"Back","embed-dialog.create":"Create","embed-dialog.cancel":"Cancel","embed-dialog.url":"URL","embed-dialog.instruction":"Paste in the site's URL to create the embed.","embed-dialog.invalid-url":"We could not create an embed from that URL.","edit-pages-dialog.move-down":"Move down","edit-pages-dialog.move-up":"Move up","shortcuts-dialog.title":"Keyboard shortcuts","shortcuts-dialog.edit":"Edit","shortcuts-dialog.file":"File","shortcuts-dialog.preferences":"Preferences","shortcuts-dialog.tools":"Tools","shortcuts-dialog.transform":"Transform","shortcuts-dialog.view":"View","shortcuts-dialog.collaboration":"Collaboration","home-project-dialog.title":"Home project","home-project-dialog.description":"This is your local home project. It's just for you!","rename-project-dialog.title":"Rename project","rename-project-dialog.cancel":"Cancel","rename-project-dialog.rename":"Rename","home-project-dialog.ok":"Ok","style-panel.title":"Styles","style-panel.align":"Align","style-panel.vertical-align":"Vertical align","style-panel.position":"Position","style-panel.arrowheads":"Arrows","style-panel.arrowhead-start":"Start","style-panel.arrowhead-end":"End","style-panel.color":"Color","style-panel.dash":"Dash","style-panel.fill":"Fill","style-panel.font":"Font","style-panel.geo":"Shape","style-panel.mixed":"Mixed","style-panel.opacity":"Opacity","style-panel.size":"Size","style-panel.spline":"Spline","tool-panel.drawing":"Drawing","tool-panel.shapes":"Shapes","tool-panel.more":"More","debug-panel.more":"More","navigation-zone.toggle-minimap":"Toggle minimap","navigation-zone.zoom":"Zoom","focus-mode.toggle-focus-mode":"Toggle focus mode","toast.close":"Close","file-system.file-open-error.title":"Could not open file","file-system.file-open-error.not-a-tldraw-file":"The file you tried to open doesn't look like a tldraw file.","file-system.file-open-error.file-format-version-too-new":"The file you tried to open is from a newer version of tldraw. Please reload the page and try again.","file-system.file-open-error.generic-corrupted-file":"The file you tried to open is corrupted.","file-system.confirm-open.title":"Overwrite current project?","file-system.confirm-open.description":"Opening a file will replace your current project and any unsaved changes will be lost. Are you sure you want to continue?","file-system.confirm-open.cancel":"Cancel","file-system.confirm-open.open":"Open file","file-system.confirm-open.dont-show-again":"Don't ask again","file-system.confirm-clear.title":"Clear current project?","file-system.confirm-clear.description":"Creating a new project will clear your current project and any unsaved changes will be lost. Are you sure you want to continue?","file-system.confirm-clear.cancel":"Cancel","file-system.confirm-clear.continue":"Continue","file-system.confirm-clear.dont-show-again":"Don't ask again","file-system.shared-document-file-open-error.title":"Could not open file","file-system.shared-document-file-open-error.description":"Opening files from shared projects is not supported.","sharing.confirm-leave.title":"Leave current project?","sharing.confirm-leave.description":"Are you sure you want to leave this shared project? You can return to it by navigating to its URL.","sharing.confirm-leave.cancel":"Cancel","sharing.confirm-leave.leave":"Leave","sharing.confirm-leave.dont-show-again":"Don't ask again","toast.error.export-fail.title":"Failed export","toast.error.export-fail.desc":"Failed to export image","toast.error.copy-fail.title":"Failed copy","toast.error.copy-fail.desc":"Failed to copy image","context.pages.new-page":"New page","vscode.file-open.desc":"We've updated this document to work with the current version of tldraw. If you'd like to keep the original version (which will work on old.tldraw.com), click below to create a backup.","vscode.file-open.open":"Continue","vscode.file-open.backup":"Backup","vscode.file-open.backup-saved":"Backup saved","vscode.file-open.backup-failed":"Backup failed: this is not a .tldr file.","vscode.file-open.dont-show-again":"Don't ask again","cursor-chat.type-to-chat":"Type to chat..."},Zc={locale:"en",label:"English",messages:m3};async function Fie(t,e){if(!(await fetch(e.translations.en)).ok)return console.warn("No main translations found."),Zc;if(t==="en")return Zc;const r=xp.find(a=>a.locale===t);if(!r)return console.warn(`No translation found for locale ${t}`),Zc;const i=await(await fetch(e.translations[r.locale])).json();if(!i)return console.warn(`No messages found for locale ${t}`),Zc;const o=[];for(const a in Zc.messages)i[a]||o.push(a);return o.length>0,{locale:t,label:r.label,messages:{...Zc.messages,...i}}}const NT=v.createContext({}),Kie=()=>v.useContext(NT),Wie=Ye(function({overrides:e,children:n}){const s=Y().user.getLocale(),i=sb(),[o,a]=v.useState(()=>e&&e.en?{locale:"en",label:"English",messages:{...m3,...e.en}}:{locale:"en",label:"English",messages:m3});return v.useEffect(()=>{let l=!1;async function c(){const d=await Fie(s,i);d&&!l&&(e&&e[s]?a({...d,messages:{...d.messages,...e[s]}}):a(d))}return c(),()=>{l=!0}},[i,s,e]),f.jsx(NT.Provider,{value:o,children:n})});function Ue(){const t=Kie();return v.useCallback(function(n){return t.messages[n]??n},[t])}function Uie(t){return f.jsx("svg",{width:16,height:16,viewBox:"0 0 16 16",...t,children:f.jsxs("g",{strokeWidth:2,fill:"none",fillRule:"evenodd",children:[f.jsx("circle",{strokeOpacity:.25,cx:8,cy:8,r:7,stroke:"currentColor"}),f.jsx("path",{strokeLinecap:"round",d:"M15 8c0-4.5-4.5-7-7-7",stroke:"currentColor",children:f.jsx("animateTransform",{attributeName:"transform",type:"rotate",from:"0 8 8",to:"360 8 8",dur:"1s",repeatCount:"indefinite"})})]})})}const Dr=v.memo(function({small:e,invertIcon:n,icon:r,color:s,className:i,...o}){const a=sb(),l=a.icons[r]??a.icons["question-mark-circle"],c=v.useRef(null);return v.useLayoutEffect(()=>{l||console.error(`Icon not found: ${r}. Add it to the assetUrls.icons object.`),c!=null&&c.current&&(c.current.style.webkitMask=`url(${l}) center 100% / 100% no-repeat`)},[c,l,r]),f.jsx("div",{...o,ref:c,className:ue("tlui-icon",{"tlui-icon__small":e},i),style:{color:s,mask:`url(${l}) center 100% / 100% no-repeat`,transform:n?"scale(-1, 1)":void 0}})}),TT=typeof window>"u"?!1:window.navigator.userAgent.toLowerCase().indexOf("mac")>-1,LT=TT?"":"Ctrl",MT=TT?"":"Alt";function Vie(t){return t.split(",")[0].split("").map(e=>{const n=e.replace(/\$/g,LT).replace(/\?/g,MT).replace(/!/g,"");return n[0].toUpperCase()+n.slice(1)})}function ro(t){return" "+t.split(",")[0].split("").map(e=>{const n=e.replace(/\$/g,LT).replace(/\?/g,MT).replace(/!/g,"");return n[0].toUpperCase()+n.slice(1)}).join("")}function K1({children:t}){return f.jsx("kbd",{className:"tlui-kbd",children:Vie(t).map((e,n)=>f.jsx("span",{children:e},n))})}const ge=v.forwardRef(function({label:e,icon:n,invertIcon:r,iconLeft:s,smallIcon:i,kbd:o,isChecked:a=!1,type:l,children:c,spinner:d,...h},u){const p=Ue(),y=e?p(e):"";return f.jsxs("button",{ref:u,draggable:!1,type:"button",...h,title:h.title??y,className:ue("tlui-button",`tlui-button__${l}`,h.className),children:[s&&f.jsx(Dr,{icon:s,className:"tlui-button__icon-left",small:!0}),c,e&&f.jsxs("span",{className:"tlui-button__label",draggable:!1,children:[y,a&&f.jsx(Dr,{icon:"check"})]}),o&&f.jsx(K1,{children:o}),n&&!d&&f.jsx(Dr,{icon:n,small:!!e||i,invertIcon:r}),d&&f.jsx(Uie,{})]})}),Xie=E_["useId".toString()]||(()=>{});let Yie=0;function Mo(t){const[e,n]=v.useState(Xie());return pc(()=>{t||n(r=>r??String(Yie++))},[t]),t||(e?`radix-${e}`:"")}const Yx="focusScope.autoFocusOnMount",Hx="focusScope.autoFocusOnUnmount",X8={bubbles:!1,cancelable:!0},ib=v.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=v.useState(null),c=gr(s),d=gr(i),h=v.useRef(null),u=kt(e,m=>l(m)),p=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(r){let b=function(C){if(p.paused||!a)return;const _=C.target;a.contains(_)?h.current=_:fa(h.current,{select:!0})},g=function(C){if(p.paused||!a)return;const _=C.relatedTarget;_!==null&&(a.contains(_)||fa(h.current,{select:!0}))},x=function(C){if(document.activeElement===document.body)for(const E of C)E.removedNodes.length>0&&fa(a)};var m=b,w=g,S=x;document.addEventListener("focusin",b),document.addEventListener("focusout",g);const k=new MutationObserver(x);return a&&k.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",g),k.disconnect()}}},[r,a,p.paused]),v.useEffect(()=>{if(a){H8.add(p);const m=document.activeElement;if(!a.contains(m)){const S=new CustomEvent(Yx,X8);a.addEventListener(Yx,c),a.dispatchEvent(S),S.defaultPrevented||(Hie(eoe(jT(a)),{select:!0}),document.activeElement===m&&fa(a))}return()=>{a.removeEventListener(Yx,c),setTimeout(()=>{const S=new CustomEvent(Hx,X8);a.addEventListener(Hx,d),a.dispatchEvent(S),S.defaultPrevented||fa(m??document.body,{select:!0}),a.removeEventListener(Hx,d),H8.remove(p)},0)}}},[a,c,d,p]);const y=v.useCallback(m=>{if(!n&&!r||p.paused)return;const w=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,S=document.activeElement;if(w&&S){const b=m.currentTarget,[g,x]=Gie(b);g&&x?!m.shiftKey&&S===x?(m.preventDefault(),n&&fa(g,{select:!0})):m.shiftKey&&S===g&&(m.preventDefault(),n&&fa(x,{select:!0})):S===b&&m.preventDefault()}},[n,r,p.paused]);return v.createElement(mt.div,re({tabIndex:-1},o,{ref:u,onKeyDown:y}))});function Hie(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(fa(r,{select:e}),document.activeElement!==n)return}function Gie(t){const e=jT(t),n=Y8(e,t),r=Y8(e.reverse(),t);return[n,r]}function jT(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Y8(t,e){for(const n of t)if(!Zie(n,{upTo:e}))return n}function Zie(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Qie(t){return t instanceof HTMLInputElement&&"select"in t}function fa(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Qie(t)&&e&&t.select()}}const H8=Jie();function Jie(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=G8(t,e),t.unshift(e)},remove(e){var n;t=G8(t,e),(n=t[0])===null||n===void 0||n.resume()}}}function G8(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function eoe(t){return t.filter(e=>e.tagName!=="A")}let Gx=0;function ob(){v.useEffect(()=>{var t,e;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=n[0])!==null&&t!==void 0?t:Z8()),document.body.insertAdjacentElement("beforeend",(e=n[1])!==null&&e!==void 0?e:Z8()),Gx++,()=>{Gx===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),Gx--}},[])}function Z8(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",t}var Di=function(){return Di=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Di.apply(this,arguments)};function RT(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function toe(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var q0="right-scroll-bar-position",B0="width-before-scroll-bar",noe="with-scroll-bars-hidden",roe="--removed-body-scroll-bar-size";function Zx(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function soe(t,e){var n=v.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var ioe=typeof window<"u"?v.useLayoutEffect:v.useEffect,Q8=new WeakMap;function ooe(t,e){var n=soe(e||null,function(r){return t.forEach(function(s){return Zx(s,r)})});return ioe(function(){var r=Q8.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Zx(a,null)}),i.forEach(function(a){s.has(a)||Zx(a,o)})}Q8.set(n,t)},[t]),n}function aoe(t){return t}function loe(t,e){e===void 0&&(e=aoe);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var d=o;o=[],d.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return s}function coe(t){t===void 0&&(t={});var e=loe(null);return e.options=Di({async:!0,ssr:!1},t),e}var $T=function(t){var e=t.sideCar,n=RT(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return v.createElement(r,Di({},n))};$T.isSideCarExport=!0;function doe(t,e){return t.useMedium(e),$T}var OT=coe(),Qx=function(){},W1=v.forwardRef(function(t,e){var n=v.useRef(null),r=v.useState({onScrollCapture:Qx,onWheelCapture:Qx,onTouchMoveCapture:Qx}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,h=t.shards,u=t.sideCar,p=t.noIsolation,y=t.inert,m=t.allowPinchZoom,w=t.as,S=w===void 0?"div":w,b=RT(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),g=u,x=ooe([n,e]),k=Di(Di({},b),s);return v.createElement(v.Fragment,null,d&&v.createElement(g,{sideCar:OT,removeScrollBar:c,shards:h,noIsolation:p,inert:y,setCallbacks:i,allowPinchZoom:!!m,lockRef:n}),o?v.cloneElement(v.Children.only(a),Di(Di({},k),{ref:x})):v.createElement(S,Di({},k,{className:l,ref:x}),a))});W1.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};W1.classNames={fullWidth:B0,zeroRight:q0};var J8,hoe=function(){if(J8)return J8;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function uoe(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=hoe();return e&&t.setAttribute("nonce",e),t}function poe(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function foe(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var goe=function(){var t=0,e=null;return{add:function(n){t==0&&(e=uoe())&&(poe(e,n),foe(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},moe=function(){var t=goe();return function(e,n){v.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},DT=function(){var t=moe(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},yoe={left:0,top:0,right:0,gap:0},Jx=function(t){return parseInt(t||"",10)||0},xoe=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Jx(n),Jx(r),Jx(s)]},woe=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return yoe;var e=xoe(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Soe=DT(),Zd="data-scroll-locked",boe=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(noe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Zd,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(q0,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(B0,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(q0," .").concat(q0,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(B0," .").concat(B0,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Zd,`] {
    `).concat(roe,": ").concat(a,`px;
  }
`)},ek=function(){var t=parseInt(document.body.getAttribute(Zd)||"0",10);return isFinite(t)?t:0},voe=function(){v.useEffect(function(){return document.body.setAttribute(Zd,(ek()+1).toString()),function(){var t=ek()-1;t<=0?document.body.removeAttribute(Zd):document.body.setAttribute(Zd,t.toString())}},[])},koe=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;voe();var i=v.useMemo(function(){return woe(s)},[s]);return v.createElement(Soe,{styles:boe(i,!e,s,n?"":"!important")})},y3=!1;if(typeof window<"u")try{var Yg=Object.defineProperty({},"passive",{get:function(){return y3=!0,!0}});window.addEventListener("test",Yg,Yg),window.removeEventListener("test",Yg,Yg)}catch{y3=!1}var Qc=y3?{passive:!1}:!1,Coe=function(t){return t.tagName==="TEXTAREA"},qT=function(t,e){var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Coe(t)&&n[e]==="visible")},_oe=function(t){return qT(t,"overflowY")},Eoe=function(t){return qT(t,"overflowX")},tk=function(t,e){var n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=BT(t,n);if(r){var s=FT(t,n),i=s[1],o=s[2];if(i>o)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},Ioe=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Poe=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},BT=function(t,e){return t==="v"?_oe(e):Eoe(e)},FT=function(t,e){return t==="v"?Ioe(e):Poe(e)},zoe=function(t,e){return t==="h"&&e==="rtl"?-1:1},Aoe=function(t,e,n,r,s){var i=zoe(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,d=o>0,h=0,u=0;do{var p=FT(t,a),y=p[0],m=p[1],w=p[2],S=m-w-i*y;(y||S)&&BT(t,a)&&(h+=S,u+=y),a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(s&&h===0||!s&&o>h)||!d&&(s&&u===0||!s&&-o>u))&&(c=!0),c},Hg=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},nk=function(t){return[t.deltaX,t.deltaY]},rk=function(t){return t&&"current"in t?t.current:t},Noe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Toe=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Loe=0,Jc=[];function Moe(t){var e=v.useRef([]),n=v.useRef([0,0]),r=v.useRef(),s=v.useState(Loe++)[0],i=v.useState(function(){return DT()})[0],o=v.useRef(t);v.useEffect(function(){o.current=t},[t]),v.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var m=toe([t.lockRef.current],(t.shards||[]).map(rk),!0).filter(Boolean);return m.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=v.useCallback(function(m,w){if("touches"in m&&m.touches.length===2)return!o.current.allowPinchZoom;var S=Hg(m),b=n.current,g="deltaX"in m?m.deltaX:b[0]-S[0],x="deltaY"in m?m.deltaY:b[1]-S[1],k,C=m.target,_=Math.abs(g)>Math.abs(x)?"h":"v";if("touches"in m&&_==="h"&&C.type==="range")return!1;var E=tk(_,C);if(!E)return!0;if(E?k=_:(k=_==="v"?"h":"v",E=tk(_,C)),!E)return!1;if(!r.current&&"changedTouches"in m&&(g||x)&&(r.current=k),!k)return!0;var z=r.current||k;return Aoe(z,w,m,z==="h"?g:x,!0)},[]),l=v.useCallback(function(m){var w=m;if(!(!Jc.length||Jc[Jc.length-1]!==i)){var S="deltaY"in w?nk(w):Hg(w),b=e.current.filter(function(k){return k.name===w.type&&k.target===w.target&&Noe(k.delta,S)})[0];if(b&&b.should){w.cancelable&&w.preventDefault();return}if(!b){var g=(o.current.shards||[]).map(rk).filter(Boolean).filter(function(k){return k.contains(w.target)}),x=g.length>0?a(w,g[0]):!o.current.noIsolation;x&&w.cancelable&&w.preventDefault()}}},[]),c=v.useCallback(function(m,w,S,b){var g={name:m,delta:w,target:S,should:b};e.current.push(g),setTimeout(function(){e.current=e.current.filter(function(x){return x!==g})},1)},[]),d=v.useCallback(function(m){n.current=Hg(m),r.current=void 0},[]),h=v.useCallback(function(m){c(m.type,nk(m),m.target,a(m,t.lockRef.current))},[]),u=v.useCallback(function(m){c(m.type,Hg(m),m.target,a(m,t.lockRef.current))},[]);v.useEffect(function(){return Jc.push(i),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:u}),document.addEventListener("wheel",l,Qc),document.addEventListener("touchmove",l,Qc),document.addEventListener("touchstart",d,Qc),function(){Jc=Jc.filter(function(m){return m!==i}),document.removeEventListener("wheel",l,Qc),document.removeEventListener("touchmove",l,Qc),document.removeEventListener("touchstart",d,Qc)}},[]);var p=t.removeScrollBar,y=t.inert;return v.createElement(v.Fragment,null,y?v.createElement(i,{styles:Toe(s)}):null,p?v.createElement(koe,{gapMode:"margin"}):null)}const joe=doe(OT,Moe);var KT=v.forwardRef(function(t,e){return v.createElement(W1,Di({},t,{ref:e,sideCar:joe}))});KT.classNames=W1.classNames;const ab=KT;var Roe=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},ed=new WeakMap,Gg=new WeakMap,Zg={},e5=0,WT=function(t){return t&&(t.host||WT(t.parentNode))},$oe=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=WT(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Ooe=function(t,e,n,r){var s=$oe(e,Array.isArray(t)?t:[t]);Zg[n]||(Zg[n]=new WeakMap);var i=Zg[n],o=[],a=new Set,l=new Set(s),c=function(h){!h||a.has(h)||(a.add(h),c(h.parentNode))};s.forEach(c);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(u){if(a.has(u))d(u);else try{var p=u.getAttribute(r),y=p!==null&&p!=="false",m=(ed.get(u)||0)+1,w=(i.get(u)||0)+1;ed.set(u,m),i.set(u,w),o.push(u),m===1&&y&&Gg.set(u,!0),w===1&&u.setAttribute(n,"true"),y||u.setAttribute(r,"true")}catch(S){console.error("aria-hidden: cannot operate on ",u,S)}})};return d(e),a.clear(),e5++,function(){o.forEach(function(h){var u=ed.get(h)-1,p=i.get(h)-1;ed.set(h,u),i.set(h,p),u||(Gg.has(h)||h.removeAttribute(r),Gg.delete(h)),p||h.removeAttribute(n)}),e5--,e5||(ed=new WeakMap,ed=new WeakMap,Gg=new WeakMap,Zg={})}},lb=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=e||Roe(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),Ooe(r,s,n,"aria-hidden")):function(){return null}};const UT="Dialog",[VT,Ywe]=uo(UT),[Doe,Zo]=VT(UT),qoe=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=v.useRef(null),l=v.useRef(null),[c=!1,d]=sl({prop:r,defaultProp:s,onChange:i});return v.createElement(Doe,{scope:e,triggerRef:a,contentRef:l,contentId:Mo(),titleId:Mo(),descriptionId:Mo(),open:c,onOpenChange:d,onOpenToggle:v.useCallback(()=>d(h=>!h),[d]),modal:o},n)},XT="DialogPortal",[Boe,YT]=VT(XT,{forceMount:void 0}),Foe=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=Zo(XT,e);return v.createElement(Boe,{scope:e,forceMount:n},v.Children.map(r,o=>v.createElement(bi,{present:n||i.open},v.createElement(q1,{asChild:!0,container:s},o))))},x3="DialogOverlay",Koe=v.forwardRef((t,e)=>{const n=YT(x3,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Zo(x3,t.__scopeDialog);return i.modal?v.createElement(bi,{present:r||i.open},v.createElement(Woe,re({},s,{ref:e}))):null}),Woe=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Zo(x3,n);return v.createElement(ab,{as:uc,allowPinchZoom:!0,shards:[s.contentRef]},v.createElement(mt.div,re({"data-state":GT(s.open)},r,{ref:e,style:{pointerEvents:"auto",...r.style}})))}),Up="DialogContent",Uoe=v.forwardRef((t,e)=>{const n=YT(Up,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Zo(Up,t.__scopeDialog);return v.createElement(bi,{present:r||i.open},i.modal?v.createElement(Voe,re({},s,{ref:e})):v.createElement(Xoe,re({},s,{ref:e})))}),Voe=v.forwardRef((t,e)=>{const n=Zo(Up,t.__scopeDialog),r=v.useRef(null),s=kt(e,n.contentRef,r);return v.useEffect(()=>{const i=r.current;if(i)return lb(i)},[]),v.createElement(HT,re({},t,{ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:pe(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)===null||o===void 0||o.focus()}),onPointerDownOutside:pe(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:pe(t.onFocusOutside,i=>i.preventDefault())}))}),Xoe=v.forwardRef((t,e)=>{const n=Zo(Up,t.__scopeDialog),r=v.useRef(!1),s=v.useRef(!1);return v.createElement(HT,re({},t,{ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o;if((o=t.onCloseAutoFocus)===null||o===void 0||o.call(t,i),!i.defaultPrevented){var a;r.current||(a=n.triggerRef.current)===null||a===void 0||a.focus(),i.preventDefault()}r.current=!1,s.current=!1},onInteractOutside:i=>{var o,a;(o=t.onInteractOutside)===null||o===void 0||o.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=i.target;((a=n.triggerRef.current)===null||a===void 0?void 0:a.contains(l))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}}))}),HT=v.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=Zo(Up,n),l=v.useRef(null),c=kt(e,l);return ob(),v.createElement(v.Fragment,null,v.createElement(ib,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i},v.createElement(D1,re({role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":GT(a.open)},o,{ref:c,onDismiss:()=>a.onOpenChange(!1)}))),!1)}),Yoe="DialogTitle",Hoe=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Zo(Yoe,n);return v.createElement(mt.h2,re({id:s.titleId},r,{ref:e}))}),Goe="DialogClose",Zoe=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Zo(Goe,n);return v.createElement(mt.button,re({type:"button"},r,{ref:e,onClick:pe(t.onClick,()=>s.onOpenChange(!1))}))});function GT(t){return t?"open":"closed"}const Qoe=qoe,Joe=Foe,eae=Koe,tae=Uoe;function U1({className:t,children:e}){return f.jsx("div",{className:ue("tlui-dialog__header",t),children:e})}function V1({className:t,children:e}){return f.jsx(Hoe,{dir:"ltr",className:ue("tlui-dialog__header__title",t),children:e})}function X1(){return f.jsx("div",{className:"tlui-dialog__header__close",children:f.jsx(Zoe,{"data-testid":"dialog.close",dir:"ltr",asChild:!0,children:f.jsx(ge,{type:"icon","aria-label":"Close",onTouchEnd:t=>t.target.click(),children:f.jsx(Dr,{small:!0,icon:"cross-2"})})})})}function Vp({className:t,children:e,style:n}){return f.jsx("div",{className:ue("tlui-dialog__body",t),style:n,children:e})}function cb({className:t,children:e}){return f.jsx("div",{className:ue("tlui-dialog__footer",t),children:e})}const db=v.forwardRef(function({className:e,label:n,icon:r,iconLeft:s,autoselect:i=!1,autofocus:o=!1,defaultValue:a,placeholder:l,onComplete:c,onValueChange:d,onCancel:h,onBlur:u,shouldManuallyMaintainScrollPositionWhenFocused:p=!1,children:y,value:m},w){const S=Y(),b=v.useRef(null);v.useImperativeHandle(w,()=>b.current);const g=Ue(),x=v.useRef(a??""),k=v.useRef(a??""),[C,_]=v.useState(!1),E=v.useCallback(N=>{_(!0);const L=N.currentTarget;k.current=L.value,requestAnimationFrame(()=>{i&&L.select()})},[i]),z=v.useCallback(N=>{const L=N.currentTarget.value;k.current=L,d==null||d(L)},[d]),P=v.useCallback(N=>{switch(N.key){case"Enter":{N.currentTarget.blur(),nn(N),c==null||c(N.currentTarget.value);break}case"Escape":{N.currentTarget.value=x.current,N.currentTarget.blur(),nn(N),h==null||h(N.currentTarget.value);break}}},[c,h]),A=v.useCallback(N=>{_(!1);const L=N.currentTarget.value;u==null||u(L)},[u]);return v.useEffect(()=>{if(!S.environment.isIos)return;const N=window.visualViewport;if(C&&p&&N){const L=()=>{var M;(M=b.current)==null||M.scrollIntoView({block:"center"})};return N.addEventListener("resize",L),N.addEventListener("scroll",L),requestAnimationFrame(()=>{var M;(M=b.current)==null||M.scrollIntoView({block:"center"})}),()=>{N.removeEventListener("resize",L),N.removeEventListener("scroll",L)}}},[S,C,p]),f.jsxs("div",{draggable:!1,className:"tlui-input__wrapper",children:[y,n&&f.jsx("label",{children:g(n)}),s&&f.jsx(Dr,{icon:s,className:"tlui-icon-left",small:!0}),f.jsx("input",{ref:b,className:ue("tlui-input",e),type:"text",defaultValue:a,onKeyUp:P,onChange:z,onFocus:E,onBlur:A,autoFocus:o,placeholder:l,value:m}),r&&f.jsx(Dr,{icon:r,small:!!n})]})});function sk(t){return U5(t)?{isValid:!0,hasProtocol:!0}:U5("https://"+t)?{isValid:!0,hasProtocol:!1}:{isValid:!1,hasProtocol:!1}}const nae=Ye(function({onClose:e}){const r=Y().getOnlySelectedShape();return r&&"url"in r.props&&typeof r.props.url=="string"?f.jsx(rae,{onClose:e,selectedShape:r}):null}),rae=Ye(function({onClose:e,selectedShape:n}){const r=Y(),s=Ue(),i=v.useRef(null);v.useEffect(()=>{requestAnimationFrame(()=>{var y;return(y=i.current)==null?void 0:y.focus()})},[]);const o=v.useRef(n.props.url),[a,l]=v.useState(()=>{const y=sk(n.props.url),m=y.isValid===!0?y.hasProtocol?n.props.url:"https://"+n.props.url:"https://";return{actual:m,safe:m,valid:!0}}),c=v.useCallback(y=>{const m=y.replace(/https?:\/\/(https?:\/\/)/,(b,g)=>g),w=sk(m),S=w.isValid===!0?w.hasProtocol?m:"https://"+m:"https://";l({actual:m,safe:S,valid:w.isValid})},[]),d=v.useCallback(()=>{const y=r.getOnlySelectedShape();y&&(r.updateShapes([{id:y.id,type:y.type,props:{url:""}}]),e())},[r,e]),h=v.useCallback(()=>{const y=r.getOnlySelectedShape();y&&(y&&"url"in y.props&&y.props.url!==a.safe&&r.updateShapes([{id:y.id,type:y.type,props:{url:a.safe}}]),e())},[r,e,a]),u=v.useCallback(()=>{e()},[e]);if(!n)return e(),null;const p=o.current&&!a.valid;return f.jsxs(f.Fragment,{children:[f.jsxs(U1,{children:[f.jsx(V1,{children:s("edit-link-dialog.title")}),f.jsx(X1,{})]}),f.jsx(Vp,{children:f.jsxs("div",{className:"tlui-edit-link-dialog",children:[f.jsx(db,{ref:i,className:"tlui-edit-link-dialog__input",label:"edit-link-dialog.url",autofocus:!0,value:a.actual,onValueChange:c,onComplete:h,onCancel:u}),f.jsx("div",{children:a.valid?s("edit-link-dialog.detail"):s("edit-link-dialog.invalid-url")})]})}),f.jsxs(cb,{className:"tlui-dialog__footer__actions",children:[f.jsx(ge,{type:"normal",onClick:u,onTouchEnd:u,children:s("edit-link-dialog.cancel")}),p?f.jsx(ge,{type:"danger",onTouchEnd:d,onClick:d,children:s("edit-link-dialog.clear")}):f.jsx(ge,{type:"primary",disabled:!a.valid,onTouchEnd:h,onClick:h,children:s("edit-link-dialog.save")})]})]})}),ZT=Ye(function({onClose:e}){const n=Y(),r=Ue(),s=sb(),[i,o]=v.useState(null),[a,l]=v.useState(""),[c,d]=v.useState(null),[h,u]=v.useState(!1),p=v.useRef(-1);return f.jsxs(f.Fragment,{children:[f.jsxs(U1,{children:[f.jsx(V1,{children:i?`${r("embed-dialog.title")}  ${i.title}`:r("embed-dialog.title")}),f.jsx(X1,{})]}),i?f.jsxs(f.Fragment,{children:[f.jsxs(Vp,{className:"tlui-embed-dialog__enter",children:[f.jsx(db,{className:"tlui-embed-dialog__input",label:"embed-dialog.url",placeholder:"http://example.com",autofocus:!0,onValueChange:y=>{l(y);const m=Io(y);d(m&&m.definition.type===i.type?m:null),u(!1),clearTimeout(p.current),p.current=setTimeout(()=>u(!m),320)}}),a===""?f.jsxs("div",{className:"tlui-embed-dialog__instruction",children:[f.jsx("span",{children:r("embed-dialog.instruction")})," ",i.instructionLink&&f.jsxs("a",{target:"_blank",rel:"noopener noreferrer",href:i.instructionLink,className:"tlui-embed-dialog__instruction__link",children:["Learn more.",f.jsx(Dr,{icon:"external-link",small:!0})]})]}):f.jsx("div",{className:"tlui-embed-dialog__warning",children:h?r("embed-dialog.invalid-url"):""})]}),f.jsxs(cb,{className:"tlui-dialog__footer__actions",children:[f.jsx(ge,{type:"normal",onClick:()=>{o(null),d(null),l("")},label:"embed-dialog.back"}),f.jsx("div",{className:"tlui-embed__spacer"}),f.jsx(ge,{type:"normal",label:"embed-dialog.cancel",onClick:e}),f.jsx(ge,{type:"primary",disabled:!c,label:"embed-dialog.create",onClick:()=>{c&&(n.putExternalContent({type:"embed",url:a,point:n.getViewportPageCenter(),embed:c.definition}),e())}})]})]}):f.jsx(f.Fragment,{children:f.jsx(Vp,{className:"tlui-embed-dialog__list",children:ih.map(y=>f.jsx(ge,{type:"menu",onClick:()=>o(y),label:y.title,children:f.jsx("div",{className:"tlui-embed-dialog__item__image",style:{backgroundImage:`url(${s.embedIcons[y.type]})`}})},y.type))})})]})});var hb={exports:{}};hb.exports;(function(t){var e=function(){var n=String.fromCharCode,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",i={};function o(l,c){if(!i[l]){i[l]={};for(var d=0;d<l.length;d++)i[l][l.charAt(d)]=d}return i[l][c]}var a={compressToBase64:function(l){if(l==null)return"";var c=a._compress(l,6,function(d){return r.charAt(d)});switch(c.length%4){default:case 0:return c;case 1:return c+"===";case 2:return c+"==";case 3:return c+"="}},decompressFromBase64:function(l){return l==null?"":l==""?null:a._decompress(l.length,32,function(c){return o(r,l.charAt(c))})},compressToUTF16:function(l){return l==null?"":a._compress(l,15,function(c){return n(c+32)})+" "},decompressFromUTF16:function(l){return l==null?"":l==""?null:a._decompress(l.length,16384,function(c){return l.charCodeAt(c)-32})},compressToUint8Array:function(l){for(var c=a.compress(l),d=new Uint8Array(c.length*2),h=0,u=c.length;h<u;h++){var p=c.charCodeAt(h);d[h*2]=p>>>8,d[h*2+1]=p%256}return d},decompressFromUint8Array:function(l){if(l==null)return a.decompress(l);for(var c=new Array(l.length/2),d=0,h=c.length;d<h;d++)c[d]=l[d*2]*256+l[d*2+1];var u=[];return c.forEach(function(p){u.push(n(p))}),a.decompress(u.join(""))},compressToEncodedURIComponent:function(l){return l==null?"":a._compress(l,6,function(c){return s.charAt(c)})},decompressFromEncodedURIComponent:function(l){return l==null?"":l==""?null:(l=l.replace(/ /g,"+"),a._decompress(l.length,32,function(c){return o(s,l.charAt(c))}))},compress:function(l){return a._compress(l,16,function(c){return n(c)})},_compress:function(l,c,d){if(l==null)return"";var h,u,p={},y={},m="",w="",S="",b=2,g=3,x=2,k=[],C=0,_=0,E;for(E=0;E<l.length;E+=1)if(m=l.charAt(E),Object.prototype.hasOwnProperty.call(p,m)||(p[m]=g++,y[m]=!0),w=S+m,Object.prototype.hasOwnProperty.call(p,w))S=w;else{if(Object.prototype.hasOwnProperty.call(y,S)){if(S.charCodeAt(0)<256){for(h=0;h<x;h++)C=C<<1,_==c-1?(_=0,k.push(d(C)),C=0):_++;for(u=S.charCodeAt(0),h=0;h<8;h++)C=C<<1|u&1,_==c-1?(_=0,k.push(d(C)),C=0):_++,u=u>>1}else{for(u=1,h=0;h<x;h++)C=C<<1|u,_==c-1?(_=0,k.push(d(C)),C=0):_++,u=0;for(u=S.charCodeAt(0),h=0;h<16;h++)C=C<<1|u&1,_==c-1?(_=0,k.push(d(C)),C=0):_++,u=u>>1}b--,b==0&&(b=Math.pow(2,x),x++),delete y[S]}else for(u=p[S],h=0;h<x;h++)C=C<<1|u&1,_==c-1?(_=0,k.push(d(C)),C=0):_++,u=u>>1;b--,b==0&&(b=Math.pow(2,x),x++),p[w]=g++,S=String(m)}if(S!==""){if(Object.prototype.hasOwnProperty.call(y,S)){if(S.charCodeAt(0)<256){for(h=0;h<x;h++)C=C<<1,_==c-1?(_=0,k.push(d(C)),C=0):_++;for(u=S.charCodeAt(0),h=0;h<8;h++)C=C<<1|u&1,_==c-1?(_=0,k.push(d(C)),C=0):_++,u=u>>1}else{for(u=1,h=0;h<x;h++)C=C<<1|u,_==c-1?(_=0,k.push(d(C)),C=0):_++,u=0;for(u=S.charCodeAt(0),h=0;h<16;h++)C=C<<1|u&1,_==c-1?(_=0,k.push(d(C)),C=0):_++,u=u>>1}b--,b==0&&(b=Math.pow(2,x),x++),delete y[S]}else for(u=p[S],h=0;h<x;h++)C=C<<1|u&1,_==c-1?(_=0,k.push(d(C)),C=0):_++,u=u>>1;b--,b==0&&(b=Math.pow(2,x),x++)}for(u=2,h=0;h<x;h++)C=C<<1|u&1,_==c-1?(_=0,k.push(d(C)),C=0):_++,u=u>>1;for(;;)if(C=C<<1,_==c-1){k.push(d(C));break}else _++;return k.join("")},decompress:function(l){return l==null?"":l==""?null:a._decompress(l.length,32768,function(c){return l.charCodeAt(c)})},_decompress:function(l,c,d){var h=[],u=4,p=4,y=3,m="",w=[],S,b,g,x,k,C,_,E={val:d(0),position:c,index:1};for(S=0;S<3;S+=1)h[S]=S;for(g=0,k=Math.pow(2,2),C=1;C!=k;)x=E.val&E.position,E.position>>=1,E.position==0&&(E.position=c,E.val=d(E.index++)),g|=(x>0?1:0)*C,C<<=1;switch(g){case 0:for(g=0,k=Math.pow(2,8),C=1;C!=k;)x=E.val&E.position,E.position>>=1,E.position==0&&(E.position=c,E.val=d(E.index++)),g|=(x>0?1:0)*C,C<<=1;_=n(g);break;case 1:for(g=0,k=Math.pow(2,16),C=1;C!=k;)x=E.val&E.position,E.position>>=1,E.position==0&&(E.position=c,E.val=d(E.index++)),g|=(x>0?1:0)*C,C<<=1;_=n(g);break;case 2:return""}for(h[3]=_,b=_,w.push(_);;){if(E.index>l)return"";for(g=0,k=Math.pow(2,y),C=1;C!=k;)x=E.val&E.position,E.position>>=1,E.position==0&&(E.position=c,E.val=d(E.index++)),g|=(x>0?1:0)*C,C<<=1;switch(_=g){case 0:for(g=0,k=Math.pow(2,8),C=1;C!=k;)x=E.val&E.position,E.position>>=1,E.position==0&&(E.position=c,E.val=d(E.index++)),g|=(x>0?1:0)*C,C<<=1;h[p++]=n(g),_=p-1,u--;break;case 1:for(g=0,k=Math.pow(2,16),C=1;C!=k;)x=E.val&E.position,E.position>>=1,E.position==0&&(E.position=c,E.val=d(E.index++)),g|=(x>0?1:0)*C,C<<=1;h[p++]=n(g),_=p-1,u--;break;case 2:return w.join("")}if(u==0&&(u=Math.pow(2,y),y++),h[_])m=h[_];else if(_===p)m=b+b.charAt(0);else return null;w.push(m),h[p++]=b+m.charAt(0),u--,b=m,u==0&&(u=Math.pow(2,y),y++)}}};return a}();t!=null?t.exports=e:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return e})})(hb);var QT=hb.exports;async function sae(t,e,n){var S,b,g;const{elements:r,files:s}=e,i={shapes:[],rootShapeIds:[],assets:[],schema:t.store.schema.serialize()},o=new Map,a=new Map,l=t.getCurrentPageId(),c=new Map,d=[],h=new Set;r.forEach(x=>{if(c.set(x.id,at()),x.boundElements!==null)for(const k of x.boundElements)k.type==="text"&&h.add(k.id)});let u="a1";for(const x of r){if(h.has(x.id))continue;const k=c.get(x.id),C={id:k,typeName:"shape",parentId:l,index:u,x:x.x,y:x.y,rotation:0,isLocked:x.locked,opacity:iae(x.opacity),meta:{}};switch(x.angle!==0&&a.set(k,x.angle),x.groupIds&&x.groupIds.length>0?o.has(x.groupIds[0])?(S=o.get(x.groupIds[0]))==null||S.push(k):o.set(x.groupIds[0],[k]):d.push(k),x.type){case"rectangle":case"ellipse":case"diamond":{let _="",E="middle";if(x.boundElements!==null){for(const P of x.boundElements)if(P.type==="text"){const A=r.find(N=>N.id===P.id);A&&(_=A.text,E=ik[A.textAlign])}}const z=x.backgroundColor==="transparent"?x.strokeColor:x.backgroundColor;i.shapes.push({...C,type:"geo",props:{geo:x.type,url:x.link??"",w:x.width,h:x.height,size:Qg[x.strokeWidth]??"draw",color:mu[z]??"black",text:_,align:E,dash:Jg(x),fill:uae(x)}});break}case"freedraw":{i.shapes.push({...C,type:"draw",props:{dash:Jg(x),size:Qg[x.strokeWidth],color:mu[x.strokeColor]??"black",segments:[{type:"free",points:x.points.map(([_,E,z=.5])=>({x:_,y:E,z}))}]}});break}case"line":{const _=x.points[0],E=x.points[x.points.length-1],z=MI(x.points.length);i.shapes.push({...C,type:"line",props:{dash:Jg(x),size:Qg[x.strokeWidth],color:mu[x.strokeColor]??"black",spline:x.roundness?"cubic":"line",handles:{start:{id:"start",type:"vertex",index:z[0],x:_[0],y:_[1]},end:{id:"end",type:"vertex",index:z[z.length-1],x:E[0],y:E[1]},...Object.fromEntries(x.points.slice(1,-1).map(([P,A],N)=>{const L=pt();return[L,{id:L,type:"vertex",index:z[N+1],x:P,y:A}]}))}}});break}case"arrow":{let _="";if(x.boundElements!==null){for(const N of x.boundElements)if(N.type==="text"){const L=r.find(M=>M.id===N.id);L&&(_=L.text)}}const E=x.points[0],z=x.points[x.points.length-1],P=c.get((b=x.startBinding)==null?void 0:b.elementId),A=c.get((g=x.endBinding)==null?void 0:g.elementId);i.shapes.push({...C,type:"arrow",props:{text:_,bend:hae(x,E,z),dash:Jg(x),size:Qg[x.strokeWidth]??"m",color:mu[x.strokeColor]??"black",start:P?{type:"binding",boundShapeId:P,normalizedAnchor:{x:.5,y:.5},isPrecise:!1,isExact:!1}:{type:"point",x:E[0],y:E[1]},end:A?{type:"binding",boundShapeId:A,normalizedAnchor:{x:.5,y:.5},isPrecise:!1,isExact:!1}:{type:"point",x:z[0],y:z[1]},arrowheadEnd:ok[x.endArrowhead]??"none",arrowheadStart:ok[x.startArrowhead]??"none"}});break}case"text":{const{size:_,scale:E}=aae(x.fontSize);i.shapes.push({...C,type:"text",props:{size:_,scale:E,font:lae[x.fontFamily]??"draw",color:mu[x.strokeColor]??"black",text:x.text,align:ik[x.textAlign]}});break}case"image":{const _=s[x.fileId];if(!_)break;const E=Rl.createId();i.assets.push({id:E,typeName:"asset",type:"image",props:{w:x.width,h:x.height,name:x.id??"Untitled",isAnimated:!1,mimeType:_.mimeType,src:_.dataURL},meta:{}}),i.shapes.push({...C,type:"image",props:{w:x.width,h:x.height,assetId:E}})}}u=vo(u)}const p=n??(t.inputs.shiftKey?t.inputs.currentPagePoint:void 0);t.mark("paste"),t.putContentOntoCurrentPage(i,{point:p,select:!1,preserveIds:!0});for(const x of o.values())if(x.length>1){t.groupShapes(x);const k=t.getShape(x[0]);k!=null&&k.parentId&&zs(k.parentId)&&d.push(k.parentId)}for(const[x,k]of a)t.select(x),t.rotateShapesBy([x],k);const y=ke(d.map(x=>t.getShape(x))),m=fe.Common(y.map(x=>t.getShapePageBounds(x))),w=t.getViewportPageBounds().center;t.updateShapes(y.map(x=>{const k={x:(x.x??0)-(m.x+m.w/2),y:(x.y??0)-(m.y+m.h/2)};return{id:x.id,type:x.type,x:w.x+k.x,y:w.y+k.y}})),t.setSelectedShapes(d)}const iae=t=>{const e=t/100;return e<.2?.1:e<.4?.25:e<.6?.5:e<.8?.75:1},Qg={1:"s",2:"m",3:"l",4:"xl"},oae={16:"s",20:"m",28:"l",36:"xl"};function aae(t){const e=oae[t];return e?{size:e,scale:1}:t<16?{size:"s",scale:t/16}:t>36?{size:"xl",scale:t/36}:{size:"m",scale:1}}const lae={1:"draw",2:"sans",3:"mono"},mu={"#ffffff":"grey","#000000":"black","#343a40":"black","#495057":"grey","#c92a2a":"red","#a61e4d":"light-red","#862e9c":"violet","#5f3dc4":"light-violet","#364fc7":"blue","#1864ab":"light-blue","#0b7285":"light-green","#087f5b":"light-green","#2b8a3e":"green","#5c940d":"light-green","#e67700":"yellow","#d9480f":"orange","#ced4da":"grey","#868e96":"grey","#fa5252":"light-red","#e64980":"red","#be4bdb":"light-violet","#7950f2":"violet","#4c6ef5":"blue","#228be6":"light-blue","#15aabf":"light-green","#12b886":"green","#40c057":"green","#82c91e":"light-green","#fab005":"yellow","#fd7e14":"orange","#212529":"grey"},cae={solid:"draw",dashed:"dashed",dotted:"dotted"},dae={"cross-hatch":"pattern",hachure:"pattern",solid:"solid"},ik={left:"start",center:"middle",right:"end"},ok={arrow:"arrow",dot:"dot",triangle:"triangle",bar:"pipe"};function hae(t,e,n){let r=0;if(t.points.length>2){const s=new I(e[0],e[1]),i=new I(n[0],n[1]),o=new I(t.points[1][0],t.points[1][1]),a=I.Sub(i,s),l=I.Per(a),c=I.Med(i,s),d=I.Sub(c,l),h=I.Add(c,l),u=I.NearestPointOnLineSegment(d,h,o,!1);r=I.Dist(u,c),I.Clockwise(u,i,c)&&(r*=-1)}return r}const Jg=t=>{let e=cae[t.strokeStyle]??"draw";return e==="draw"&&t.roughness===0&&(e="solid"),e},uae=t=>t.backgroundColor==="transparent"?"none":dae[t.fillStyle]??"solid";async function JT(t,e,n,r){const i=(await Promise.all(e.map(async o=>await(await fetch(o)).blob()))).map(o=>new File([o],"tldrawFile",{type:o.type}));t.mark("paste"),await t.putExternalContent({type:"files",files:i,point:n,ignoreParent:!1,sources:r}),e.forEach(o=>URL.revokeObjectURL(o))}function pae(t,e,n){const r=n??(t.inputs.shiftKey?t.inputs.currentPagePoint:void 0);t.mark("paste"),t.putContentOntoCurrentPage(e,{point:r,select:!0})}async function w3(t,e,n,r){var s;try{if(new URL(e).pathname.match(/\.(png|jpe?g|gif|svg|webp)$/i)&&(s=(await fetch(e,{method:"HEAD"})).headers.get("content-type"))!=null&&s.match(/^image\//)){t.mark("paste"),JT(t,[e]);return}}catch(i){i.message!=="Failed to fetch"&&console.error(i)}return t.mark("paste"),await t.putExternalContent({type:"url",point:n,url:e,sources:r})}const eL=()=>{},tL=v.createContext({});function fae({onEvent:t,children:e}){return f.jsx(tL.Provider,{value:t??eL,children:e})}function jh(){return v.useContext(tL)??eL}function gae(t){const e=document.implementation.createHTMLDocument("");return e.documentElement.innerHTML=t.trim(),e.body.textContent||e.body.innerText||""}const mae=t=>{try{const e=new URL(t);return e.protocol==="http:"||e.protocol==="https:"}catch{return!1}},yae=t=>{const e=t.split(/[\n\s]/);for(const n of e)try{const r=new URL(n);if(!(r.protocol==="http:"||r.protocol==="https:"))return}catch{return}return fI(e)},xae=t=>/^<svg/.test(t),wae=["input","select","textarea"];function F0(t){const{activeElement:e}=document;return t.getIsMenuOpen()||e&&(e.getAttribute("contenteditable")||wae.indexOf(e.tagName.toLowerCase())>-1)}async function t5(t){return new Promise((e,n)=>{const r=new FileReader;r.addEventListener("loadend",()=>{const s=r.result;e(s)}),r.addEventListener("error",()=>{n(r.error)}),r.readAsText(t)})}const Sae=t=>t.types.find(e=>e.match(/^image\//)),n5=(t,e,n,r)=>{const s=yae(e);if(s)for(const i of s)w3(t,i,n);else mae(e)?w3(t,e,n):xae(e)?(t.mark("paste"),t.putExternalContent({type:"svg-text",text:e,point:n,sources:r})):(t.mark("paste"),t.putExternalContent({type:"text",text:e,point:n,sources:r}))},bae=async(t,e,n)=>{if(t.getEditingShapeId()!==null)return;if(!e)throw Error("No clipboard data");const r=[];for(const s of Object.values(e.items))switch(s.kind){case"file":{r.push({type:"file",source:new Promise(i=>i(s.getAsFile()))});break}case"string":{s.type==="text/html"?r.push({type:"html",source:new Promise(i=>s.getAsString(i))}):s.type==="text/plain"?r.push({type:"text",source:new Promise(i=>s.getAsString(i))}):r.push({type:s.type,source:new Promise(i=>s.getAsString(i))});break}}rL(t,r,n)},nL=async(t,e,n)=>{const r=[];for(const s of e){if(Sae(s))for(const i of s.types)i.match(/^image\//)&&r.push({type:"blob",source:s.getType(i)});s.types.includes("text/html")&&r.push({type:"html",source:new Promise(i=>s.getType("text/html").then(o=>t5(o).then(i)))}),s.types.includes("text/uri-list")&&r.push({type:"url",source:new Promise(i=>s.getType("text/uri-list").then(o=>t5(o).then(i)))}),s.types.includes("text/plain")&&r.push({type:"text",source:new Promise(i=>s.getType("text/plain").then(o=>t5(o).then(i)))})}return await rL(t,r,n)};async function rL(t,e,n){const r=e.filter(i=>(i.type==="file"||i.type==="blob")&&i.source!==null);if(r.length){const o=(await Promise.all(r.map(a=>a.source))).filter(Boolean).map(a=>URL.createObjectURL(a));return await JT(t,o,n)}const s=await Promise.all(e.filter(i=>i.type!=="file").map(i=>new Promise(o=>{const a=i;if(a.type==="file"){o({type:"error",data:null,reason:"unexpected file"});return}a.source.then(l=>{var d;const c=(d=l.match(/<tldraw[^>]*>(.*)<\/tldraw>/))==null?void 0:d[1];if(c)try{const h=QT.decompressFromBase64(c);if(h===null){o({type:"error",data:h,reason:"found tldraw data comment but could not parse base64"});return}else{const u=JSON.parse(h);if(u.type!=="application/tldraw"&&o({type:"error",data:u,reason:`found tldraw data comment but JSON was of a different type: ${u.type}`}),typeof u.data=="string"){o({type:"error",data:u,reason:"found tldraw json but data was a string instead of a TLClipboardModel object"});return}o({type:"tldraw",data:u.data});return}}catch{o({type:"error",data:c,reason:"found tldraw json but data was a string instead of a TLClipboardModel object"});return}else{if(a.type==="html"){o({type:"text",data:l,subtype:"html"});return}if(a.type==="url"){o({type:"text",data:l,subtype:"url"});return}try{const h=JSON.parse(l);if(h.type==="excalidraw/clipboard"){o({type:"excalidraw",data:h});return}else{o({type:"text",data:l,subtype:"json"});return}}catch{o({type:"text",data:l,subtype:"text"});return}}o({type:"error",data:l,reason:"unhandled case"})})})));for(const i of s)if(i.type==="tldraw"){pae(t,i.data,n);return}for(const i of s)if(i.type==="excalidraw"){sae(t,i.data,n);return}for(const i of s)if(i.type==="text"&&i.subtype==="html"){const a=new DOMParser().parseFromString(i.data,"text/html").querySelector("body");if(a&&Array.from(a.children).filter(c=>c.nodeType===1).length===1&&a.firstElementChild&&a.firstElementChild.tagName==="A"&&a.firstElementChild.hasAttribute("href")&&a.firstElementChild.getAttribute("href")!==""){const c=a.firstElementChild.getAttribute("href");n5(t,c,n,s);return}if(!s.some(c=>c.type==="text"&&c.subtype!=="html")&&i.data.trim()){n5(t,gae(i.data),n,s);return}}for(const i of s)if(i.type==="text"&&i.subtype==="url"){w3(t,i.data,n,s);return}for(const i of s)if(i.type==="text"&&i.subtype==="text"&&i.data.trim()){n5(t,i.data,n,s);return}}const ny=t=>{var r;const e=t.getContentFromCurrentPage(t.getSelectedShapeIds());if(!e){navigator&&navigator.clipboard&&navigator.clipboard.writeText("");return}const n=QT.compressToBase64(JSON.stringify({type:"application/tldraw",kind:"content",data:e}));if(!(typeof navigator>"u")){const s=e.shapes.map(i=>t.isShapeOfType(i,"text")||t.isShapeOfType(i,"geo")||t.isShapeOfType(i,"arrow")?i.props.text:t.isShapeOfType(i,"bookmark")||t.isShapeOfType(i,"embed")?i.props.url:null).filter(gB);if((r=navigator.clipboard)!=null&&r.write){const i=new Blob([`<tldraw>${n}</tldraw>`],{type:"text/html"});let o=s.join(" ");o===""&&(o=" "),navigator.clipboard.write([new ClipboardItem({"text/html":i,"text/plain":new Blob([o],{type:"text/plain"})})])}else navigator.clipboard.writeText&&navigator.clipboard.writeText(`<tldraw>${n}</tldraw>`)}};function vae(){const t=Y(),e=jh(),n=v.useCallback(function(o){t.getSelectedShapeIds().length!==0&&(ny(t),e("copy",{source:o}))},[t,e]),r=v.useCallback(function(o){t.getSelectedShapeIds().length!==0&&(ny(t),t.deleteShapes(t.getSelectedShapeIds()),e("cut",{source:o}))},[t,e]),s=v.useCallback(async function(o,a,l){t.getEditingShapeId()!==null||F0(t)||(Array.isArray(o)&&o[0]instanceof ClipboardItem?(nL(t,o,l),e("paste",{source:"menu"})):navigator.clipboard.read().then(c=>{s(c,a,l)}))},[t,e]);return{copy:n,cut:r,paste:s}}function kae(){const t=Y(),e=jh(),n=Q("editor.isFocused",()=>t.getInstanceState().isFocused,[t]);v.useEffect(()=>{if(!n)return;const r=()=>{t.getSelectedShapeIds().length===0||t.getEditingShapeId()!==null||F0(t)||(ny(t),e("copy",{source:"kbd"}))};function s(){t.getSelectedShapeIds().length===0||t.getEditingShapeId()!==null||F0(t)||(ny(t),t.deleteShapes(t.getSelectedShapeIds()),e("cut",{source:"kbd"}))}let i=!1;const o=l=>{l.button===1&&(i=!0,requestAnimationFrame(()=>{i=!1}))},a=l=>{if(i){l.stopPropagation();return}t.getEditingShapeId()!==null||F0(t)||(l.clipboardData&&!t.inputs.shiftKey?bae(t,l.clipboardData):navigator.clipboard.read().then(c=>{Array.isArray(c)&&c[0]instanceof ClipboardItem&&nL(t,c,t.inputs.currentPagePoint)}),e("paste",{source:"kbd"}))};return document.addEventListener("copy",r),document.addEventListener("cut",s),document.addEventListener("paste",a),document.addEventListener("pointerup",o),()=>{document.removeEventListener("copy",r),document.removeEventListener("cut",s),document.removeEventListener("paste",a),document.removeEventListener("pointerup",o)}},[t,e,n])}async function sL(t,e,n){const{type:r,quality:s,scale:i}=n,o=+t.getAttribute("width"),a=+t.getAttribute("height");let l=o*i,c=a*i;const d=await iL(t),h=await rz();if(o>h.maxWidth&&(l=h.maxWidth,c=l/o*a),a>h.maxHeight&&(c=h.maxHeight,l=c/a*o),l*c>h.maxArea){const w=Math.sqrt(h.maxArea/(l*c));l*=w,c*=w}l=Math.floor(l),c=Math.floor(c);const u=l/o,p=await new Promise(w=>{const S=new Image;S.crossOrigin="anonymous",S.onload=async()=>{e&&await new Promise(x=>setTimeout(x,250));const b=document.createElement("canvas"),g=b.getContext("2d");b.width=l,b.height=c,g.imageSmoothingEnabled=!0,g.imageSmoothingQuality="high",g.drawImage(S,0,0,l,c),URL.revokeObjectURL(d),w(b)},S.onerror=()=>{w(null)},S.src=d});if(!p)return null;const y=await new Promise(w=>p.toBlob(S=>{(!S||wt.throwToBlob.get())&&w(null),w(S)},"image/"+r,s));if(!y)return null;const m=new DataView(await y.arrayBuffer());return $i.setPhysChunk(m,u,{type:"image/"+r})}async function iL(t){const e=t.cloneNode(!0);e.setAttribute("encoding",'UTF-8"');const n=new FileReader,r=Array.from(e.querySelectorAll("image"));for(const o of r){const a=o.getAttribute("xlink:href");if(a&&!a.startsWith("data:")){const l=await(await fetch(a)).blob(),c=await new Promise((d,h)=>{n.onload=()=>d(n.result),n.onerror=()=>h(n.error),n.readAsDataURL(l)});o.setAttribute("xlink:href",c)}}const s=new XMLSerializer().serializeToString(e);return`data:image/svg+xml;base64,${window.btoa(unescape(encodeURIComponent(s)))}`}function oL(t,e,n="svg",r={}){return t.getSvg(e!=null&&e.length?e:[...t.getCurrentPageShapeIds()],{scale:1,background:t.getInstanceState().exportBackground,...r}).then(s=>{if(!s)throw new Error("Could not construct SVG.");switch(n){case"svg":{window.navigator.clipboard&&(window.navigator.clipboard.write?window.navigator.clipboard.write([new ClipboardItem({"text/plain":new Blob([lk(s)],{type:"text/plain"})})]):ak(async()=>lk(s)));break}case"jpeg":case"png":{const i=sL(s,t.environment.isSafari,{type:n,quality:1,scale:2}).then(a=>{if(a){if(window.navigator.clipboard)return a;throw new Error("Copy not supported")}else throw new Error("Copy not possible")}),o=n==="jpeg"?"image/jpeg":"image/png";window.navigator.clipboard.write&&window.navigator.clipboard.write([new ClipboardItem({[o]:i})]).catch(a=>{a.toString().match(/^TypeError: DOMString not supported/)||console.error(a),i.then(l=>{window.navigator.clipboard.write([new ClipboardItem({[o]:l})])})});break}case"json":{const i=t.getContentFromCurrentPage(e),o=JSON.stringify(i);window.navigator.clipboard.write?window.navigator.clipboard.write([new ClipboardItem({"text/plain":new Blob([o],{type:"text/plain"})})]):ak(async()=>o);break}default:throw new Error(`Copy type ${n} not supported.`)}})}async function ak(t){var e,n;(n=(e=navigator.clipboard)==null?void 0:e.writeText)==null||n.call(e,await t())}function lk(t){const e=t.cloneNode(!0);return t.setAttribute("width",+t.getAttribute("width")+""),t.setAttribute("height",+t.getAttribute("height")+""),new XMLSerializer().serializeToString(e).replaceAll("&#10;      ","").replaceAll(/((\s|")[0-9]*\.[0-9]{2})([0-9]*)(\b|"|\))/g,"$1")}const aL=v.createContext({});function Cae({children:t}){const[e,n]=v.useState([]),r=v.useCallback(o=>{const a=o.id??pt();return n(l=>[...l.filter(c=>c.id!==o.id),{...o,id:a}]),a},[]),s=v.useCallback(o=>(n(a=>a.filter(l=>l.id!==o)),o),[]),i=v.useCallback(()=>{n(()=>[])},[]);return f.jsx(aL.Provider,{value:{toasts:e,addToast:r,removeToast:s,clearToasts:i},children:t})}function po(){const t=v.useContext(aL);if(!t)throw new Error("useToasts must be used within a ToastsProvider");return t}function _ae(){const t=Y(),{addToast:e}=po(),n=Ue();return v.useCallback((r,s="svg")=>{oL(t,r,s).catch(()=>{e({id:"copy-fail",icon:"warning-triangle",title:n("toast.error.copy-fail.title"),description:n("toast.error.copy-fail.desc")})})},[t,e,n])}const lL=v.createContext({});function Eae({children:t}){const e=Y(),n=jh(),[r,s]=v.useState([]),i=v.useCallback(c=>{const d=c.id??pt();return s(h=>[...h.filter(u=>u.id!==c.id),{...c,id:d}]),n("open-menu",{source:"dialog",id:d}),e.addOpenMenu(d),d},[e,n]),o=v.useCallback((c,d)=>(s(h=>h.map(u=>u.id===c?{...u,...d}:u)),n("open-menu",{source:"dialog",id:c}),e.addOpenMenu(c),c),[e,n]),a=v.useCallback(c=>(s(d=>d.filter(h=>{var u;return h.id===c?((u=h.onClose)==null||u.call(h),!1):!0})),n("close-menu",{source:"dialog",id:c}),e.deleteOpenMenu(c),c),[e,n]),l=v.useCallback(()=>{s(c=>(c.forEach(d=>{var h;(h=d.onClose)==null||h.call(d),n("close-menu",{source:"dialog",id:d.id}),e.deleteOpenMenu(d.id)}),[]))},[e,n]);return f.jsx(lL.Provider,{value:{dialogs:r,addDialog:i,removeDialog:a,clearDialogs:l,updateDialog:o},children:t})}function Ic(){const t=v.useContext(lL);if(!t)throw new Error("useDialogs must be used within a DialogsProvider");return t}function cL(t,e,n="png",r={}){return t.getSvg(e!=null&&e.length?e:[...t.getCurrentPageShapeIds()],r).then(s=>{if(!s)throw new Error("Could not construct SVG.");let i="shapes"+Iae();if(e.length===1){const o=t.getShape(e[0]);t.isShapeOfType(o,"frame")?i=o.props.name??"frame":i=o.id.replace(/:/,"_")}switch(n){case"svg":{iL(s).then(o=>r5(o,`${i}.svg`));return}case"webp":case"png":{sL(s,t.environment.isSafari,{type:n,quality:1,scale:2}).then(o=>{if(!o)throw Error();const a=URL.createObjectURL(o);r5(a,`${i}.${n}`),URL.revokeObjectURL(a)});return}case"json":{const o=t.getContentFromCurrentPage(e),a=new Blob([JSON.stringify(o,null,4)],{type:"application/json"}),l=URL.createObjectURL(a);r5(l,`${i||"shapes"}.json`),URL.revokeObjectURL(l);return}default:throw new Error(`Export type ${n} not supported.`)}})}function Iae(){const t=new Date,e=String(t.getFullYear()).slice(2),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0"),s=String(t.getHours()).padStart(2,"0"),i=String(t.getMinutes()).padStart(2,"0"),o=String(t.getSeconds()).padStart(2,"0");return` at ${e}-${n}-${r} ${s}.${i}.${o}`}function r5(t,e){const n=document.createElement("a");n.href=t,n.download=e,n.click()}function Pae(){const t=Y(),{addToast:e}=po(),n=Ue();return v.useCallback((r,s="png")=>{cL(t,r,s,{scale:1,background:t.getInstanceState().exportBackground}).catch(i=>{console.error(i.message),e({id:"export-fail",title:n("toast.error.export-fail.title"),description:n("toast.error.export-fail.desc")})})},[t,e,n])}function dL(){const t=Y(),e=v.useRef();return v.useEffect(()=>{const n=window.document.createElement("input");n.type="file",n.accept="image/jpeg,image/png,image/gif,image/svg+xml,video/mp4,video/quicktime",n.multiple=!0,e.current=n;async function r(s){const i=s.target.files;!i||i.length===0||(await t.putExternalContent({type:"files",files:Array.from(i),point:t.getViewportPageBounds().center,ignoreParent:!1}),n.value="")}return n.addEventListener("change",r),()=>{e.current=void 0,n.removeEventListener("change",r)}},[t]),v.useCallback(()=>{var n;(n=e.current)==null||n.click()},[e])}function zae(){const t=Y(),e=v.useRef(null),n=v.useRef(null);return v.useCallback(async function(){const s=document.createElement("div"),i=document.createElement("style"),o=(S,b)=>{S&&(S.innerHTML=""),b&&document.head.contains(b)&&document.head.removeChild(b),S&&document.body.contains(S)&&document.body.removeChild(S)};o(e.current,n.current),e.current=s,n.current=i;const a=`tl-print-surface-${pt()}`;s.className=a,i.innerHTML=`
			.${a} {
				display: none;
			}

			.${a} svg {
				max-width: 100%;
				height: 100%;
				display: block;
			}

			@media print {				  
				html, body {
					min-height: 100%;
					height: 100%;
					margin: 0;
				}

				body {
					position: relative;
				}

				body > * {
					display: none;
				}

				.tldraw__editor {
					display: none;
				}

				.${a} {
					display: block !important;
					background: white;
					min-height: 100%;
					height: 100%;
					max-width: 100%;
				}

				.${a}__item {
					padding: 10mm;
					display: flex;
					min-height: 100%;
					flex-direction: column;
					page-break-after: always;
					position: relative;
					overflow: hidden;
					height: 100%;
				}

				.${a}__item__main {
					flex: 1;
					display: flex;
					align-items: center;
					justify-content: center;
					max-height: 100%;
				}

				.${a}__item__header {
					display: none;
				}

				.${a}__item__footer {
					display: none;
					text-align: right;
				}

				.${a}__item__footer__hide {
					display: none;
				}

				
			}

		`;const l=()=>{document.head.appendChild(i),document.body.appendChild(s)},c=()=>{t.once("change-history",()=>{o(s,i)})};window.addEventListener("beforeprint",l),window.addEventListener("afterprint",c);function d(S,b,g){try{s.innerHTML+=`<div class="${a}__item">
        <div class="${a}__item__header">
          ${S.replace(/</g,"&lt;").replace(/>/g,"&gt;")}
        </div>
        <div class="${a}__item__main">
          ${g.outerHTML}
        </div>
        <div class="${a}__item__footer ${a}__item__footer__${b?"":"hide"}">
          ${b??""}
        </div>
      </div>`}catch(x){console.error(x)}}function h(){t.environment.isChromeForIos?(l(),window.print()):t.environment.isSafari?(l(),document.execCommand("print",!1)):window.print()}const u=t.getSelectedShapeIds(),p=t.getCurrentPageId(),y=t.getPages(),w={scale:1,background:!1,darkMode:!1,preserveAspectRatio:"xMidYMid meet"};if(t.getSelectedShapeIds().length>0){const S=await t.getSvg(u,w);if(S){const b=y.find(g=>g.id===p);d(`tldraw  ${b==null?void 0:b.name}`,null,S),h()}}else{const S=t.getCurrentPage(),b=await t.getSvg(t.getSortedChildIdsForParent(S.id),w);b&&(d(`tldraw  ${S.name}`,null,b),h())}window.removeEventListener("beforeprint",l),window.removeEventListener("afterprint",c)},[t])}const hL=v.createContext({});function Aae(t){return Object.fromEntries(t.map(e=>[e.id,e]))}function Nae({overrides:t,children:e}){const n=Y(),{addDialog:r,clearDialogs:s}=Ic(),{clearToasts:i}=po(),o=dL(),a=zae(),{cut:l,copy:c,paste:d}=vae(),h=_ae(),u=Pae(),p=jh(),y=v.useMemo(()=>{function m(){return n.isIn("select")||(n.complete(),n.setCurrentTool("select")),!1}function w(){return n.getSelectedShapeIds().length>0}const b=Aae([{id:"edit-link",label:"action.edit-link",icon:"link",readonlyOk:!1,onSelect(g){w()&&(m()||(p("edit-link",{source:g}),n.mark("edit-link"),r({component:nae})))}},{id:"insert-embed",label:"action.insert-embed",readonlyOk:!1,kbd:"$i",onSelect(g){p("insert-embed",{source:g}),r({component:ZT})}},{id:"insert-media",label:"action.insert-media",kbd:"$u",readonlyOk:!1,onSelect(g){p("insert-media",{source:g}),o()}},{id:"undo",label:"action.undo",icon:"undo",kbd:"$z",readonlyOk:!1,onSelect(g){p("undo",{source:g}),n.undo()}},{id:"redo",label:"action.redo",icon:"redo",kbd:"$!z",readonlyOk:!1,onSelect(g){p("redo",{source:g}),n.redo()}},{id:"export-as-svg",label:"action.export-as-svg",menuLabel:"action.export-as-svg.short",contextMenuLabel:"action.export-as-svg.short",readonlyOk:!0,onSelect(g){p("export-as",{format:"svg",source:g}),u(n.getSelectedShapeIds(),"svg")}},{id:"export-as-png",label:"action.export-as-png",menuLabel:"action.export-as-png.short",contextMenuLabel:"action.export-as-png.short",readonlyOk:!0,onSelect(g){p("export-as",{format:"png",source:g}),u(n.getSelectedShapeIds(),"png")}},{id:"export-as-json",label:"action.export-as-json",menuLabel:"action.export-as-json.short",contextMenuLabel:"action.export-as-json.short",readonlyOk:!0,onSelect(g){p("export-as",{format:"json",source:g}),u(n.getSelectedShapeIds(),"json")}},{id:"copy-as-svg",label:"action.copy-as-svg",menuLabel:"action.copy-as-svg.short",contextMenuLabel:"action.copy-as-svg.short",kbd:"$!c",readonlyOk:!0,onSelect(g){p("copy-as",{format:"svg",source:g}),h(n.getSelectedShapeIds(),"svg")}},{id:"copy-as-png",label:"action.copy-as-png",menuLabel:"action.copy-as-png.short",contextMenuLabel:"action.copy-as-png.short",readonlyOk:!0,onSelect(g){p("copy-as",{format:"png",source:g}),h(n.getSelectedShapeIds(),"png")}},{id:"copy-as-json",label:"action.copy-as-json",menuLabel:"action.copy-as-json.short",contextMenuLabel:"action.copy-as-json.short",readonlyOk:!0,onSelect(g){p("copy-as",{format:"json",source:g}),h(n.getSelectedShapeIds(),"json")}},{id:"toggle-auto-size",label:"action.toggle-auto-size",readonlyOk:!1,onSelect(g){w()&&(m()||(p("toggle-auto-size",{source:g}),n.mark("toggling auto size"),n.updateShapes(n.getSelectedShapes().filter(x=>n.isShapeOfType(x,"text")&&x.props.autoSize===!1).map(x=>({id:x.id,type:x.type,props:{...x.props,w:8,autoSize:!0}})))))}},{id:"open-embed-link",label:"action.open-embed-link",readonlyOk:!0,onSelect(g){p("open-embed-link",{source:g});const x=n.getSelectedShapeIds(),k="No embed shapes selected";if(x.length!==1){console.error(k);return}const C=n.getShape(x[0]);if(!C||!n.isShapeOfType(C,"embed")){console.error(k);return}VX(C.props.url,"_blank")}},{id:"select-zoom-tool",readonlyOk:!0,kbd:"z",onSelect(g){var x,k;if(((x=n.root.getCurrent())==null?void 0:x.id)!=="zoom"&&(p("zoom-tool",{source:g}),!(n.inputs.shiftKey||n.inputs.ctrlKey))){const C=n.root.getCurrent();C&&((k=C.getCurrent())==null?void 0:k.id)==="idle"&&n.setCurrentTool("zoom",{onInteractionEnd:C.id,maskAs:"zoom"})}}},{id:"convert-to-bookmark",label:"action.convert-to-bookmark",readonlyOk:!1,onSelect(g){w()&&(m()||n.batch(()=>{p("convert-to-bookmark",{source:g});const x=n.getSelectedShapes(),k=[],C=[];for(const _ of x){if(!_||!n.isShapeOfType(_,"embed")||!_.props.url)continue;const E=new I(_.x,_.y);E.rot(-_.rotation),E.add(new I(_.props.w/2-300/2,_.props.h/2-320/2)),E.rot(_.rotation);const z={id:at(),type:"bookmark",rotation:_.rotation,x:E.x,y:E.y,opacity:1,props:{url:_.props.url}};k.push(z),C.push(_.id)}n.mark("convert shapes to bookmark"),n.deleteShapes(C),n.createShapes(k)}))}},{id:"convert-to-embed",label:"action.convert-to-embed",readonlyOk:!1,onSelect(g){w()&&(m()||(p("convert-to-embed",{source:g}),n.batch(()=>{const x=n.getSelectedShapeIds(),k=ke(x.map(E=>n.getShape(E))),C=[],_=[];for(const E of k){if(!n.isShapeOfType(E,"bookmark"))continue;const{url:z}=E.props,P=Io(E.props.url);if(!P||!P.definition)continue;const{width:A,height:N}=P.definition,L=new I(E.x,E.y);L.rot(-E.rotation),L.add(new I(E.props.w/2-A/2,E.props.h/2-N/2)),L.rot(E.rotation);const M={id:at(),type:"embed",x:L.x,y:L.y,rotation:E.rotation,props:{url:z,w:A,h:N}};C.push(M),_.push(E.id)}n.mark("convert shapes to embed"),n.deleteShapes(_),n.createShapes(C)})))}},{id:"duplicate",kbd:"$d",label:"action.duplicate",icon:"duplicate",readonlyOk:!1,onSelect(g){if(!w()||m())return;p("duplicate-shapes",{source:g});const x=n.getSelectedShapeIds(),k=fe.Common(ke(x.map(_=>n.getShapePageBounds(_)))),C=n.getInstanceState().canMoveCamera?{x:k.width+10,y:0}:{x:16/n.getZoomLevel(),y:16/n.getZoomLevel()};n.mark("duplicate shapes"),n.duplicateShapes(x,C)}},{id:"ungroup",label:"action.ungroup",kbd:"$!g",icon:"ungroup",readonlyOk:!1,onSelect(g){w()&&(m()||(p("ungroup-shapes",{source:g}),n.mark("ungroup"),n.ungroupShapes(n.getSelectedShapeIds())))}},{id:"group",label:"action.group",kbd:"$g",icon:"group",readonlyOk:!1,onSelect(g){if(!w()||m())return;p("group-shapes",{source:g});const x=n.getOnlySelectedShape();x&&n.isShapeOfType(x,"group")?(n.mark("ungroup"),n.ungroupShapes(n.getSelectedShapeIds())):(n.mark("group"),n.groupShapes(n.getSelectedShapeIds()))}},{id:"remove-frame",label:"action.remove-frame",kbd:"$!f",readonlyOk:!1,onSelect(g){if(!w())return;p("remove-frame",{source:g});const x=n.getSelectedShapes();x.length>0&&x.every(k=>n.isShapeOfType(k,"frame"))&&(n.mark("remove-frame"),Oie(n,x.map(k=>k.id)))}},{id:"fit-frame-to-content",label:"action.fit-frame-to-content",readonlyOk:!1,onSelect(g){if(!w())return;p("fit-frame-to-content",{source:g});const x=n.getOnlySelectedShape();x&&n.isShapeOfType(x,"frame")&&(n.mark("fit-frame-to-content"),qie(n,x.id))}},{id:"align-left",label:"action.align-left",kbd:"?A",icon:"align-left",readonlyOk:!1,onSelect(g){w()&&(m()||(p("align-shapes",{operation:"left",source:g}),n.mark("align left"),n.alignShapes(n.getSelectedShapeIds(),"left")))}},{id:"align-center-horizontal",label:"action.align-center-horizontal",contextMenuLabel:"action.align-center-horizontal.short",kbd:"?H",icon:"align-center-horizontal",readonlyOk:!1,onSelect(g){w()&&(m()||(p("align-shapes",{operation:"center-horizontal",source:g}),n.mark("align center horizontal"),n.alignShapes(n.getSelectedShapeIds(),"center-horizontal")))}},{id:"align-right",label:"action.align-right",kbd:"?D",icon:"align-right",readonlyOk:!1,onSelect(g){w()&&(m()||(p("align-shapes",{operation:"right",source:g}),n.mark("align right"),n.alignShapes(n.getSelectedShapeIds(),"right")))}},{id:"align-center-vertical",label:"action.align-center-vertical",contextMenuLabel:"action.align-center-vertical.short",kbd:"?V",icon:"align-center-vertical",readonlyOk:!1,onSelect(g){w()&&(m()||(p("align-shapes",{operation:"center-vertical",source:g}),n.mark("align center vertical"),n.alignShapes(n.getSelectedShapeIds(),"center-vertical")))}},{id:"align-top",label:"action.align-top",icon:"align-top",kbd:"?W",readonlyOk:!1,onSelect(g){w()&&(m()||(p("align-shapes",{operation:"top",source:g}),n.mark("align top"),n.alignShapes(n.getSelectedShapeIds(),"top")))}},{id:"align-bottom",label:"action.align-bottom",icon:"align-bottom",kbd:"?S",readonlyOk:!1,onSelect(g){w()&&(m()||(p("align-shapes",{operation:"bottom",source:g}),n.mark("align bottom"),n.alignShapes(n.getSelectedShapeIds(),"bottom")))}},{id:"distribute-horizontal",label:"action.distribute-horizontal",contextMenuLabel:"action.distribute-horizontal.short",icon:"distribute-horizontal",kbd:"?!h",readonlyOk:!1,onSelect(g){w()&&(m()||(p("distribute-shapes",{operation:"horizontal",source:g}),n.mark("distribute horizontal"),n.distributeShapes(n.getSelectedShapeIds(),"horizontal")))}},{id:"distribute-vertical",label:"action.distribute-vertical",contextMenuLabel:"action.distribute-vertical.short",icon:"distribute-vertical",kbd:"?!V",readonlyOk:!1,onSelect(g){w()&&(m()||(p("distribute-shapes",{operation:"vertical",source:g}),n.mark("distribute vertical"),n.distributeShapes(n.getSelectedShapeIds(),"vertical")))}},{id:"stretch-horizontal",label:"action.stretch-horizontal",contextMenuLabel:"action.stretch-horizontal.short",icon:"stretch-horizontal",readonlyOk:!1,onSelect(g){w()&&(m()||(p("stretch-shapes",{operation:"horizontal",source:g}),n.mark("stretch horizontal"),n.stretchShapes(n.getSelectedShapeIds(),"horizontal")))}},{id:"stretch-vertical",label:"action.stretch-vertical",contextMenuLabel:"action.stretch-vertical.short",icon:"stretch-vertical",readonlyOk:!1,onSelect(g){w()&&(m()||(p("stretch-shapes",{operation:"vertical",source:g}),n.mark("stretch vertical"),n.stretchShapes(n.getSelectedShapeIds(),"vertical")))}},{id:"flip-horizontal",label:"action.flip-horizontal",contextMenuLabel:"action.flip-horizontal.short",kbd:"!h",readonlyOk:!1,onSelect(g){w()&&(m()||(p("flip-shapes",{operation:"horizontal",source:g}),n.mark("flip horizontal"),n.flipShapes(n.getSelectedShapeIds(),"horizontal")))}},{id:"flip-vertical",label:"action.flip-vertical",contextMenuLabel:"action.flip-vertical.short",kbd:"!v",readonlyOk:!1,onSelect(g){w()&&(m()||(p("flip-shapes",{operation:"vertical",source:g}),n.mark("flip vertical"),n.flipShapes(n.getSelectedShapeIds(),"vertical")))}},{id:"pack",label:"action.pack",icon:"pack",readonlyOk:!1,onSelect(g){w()&&(m()||(p("pack-shapes",{source:g}),n.mark("pack"),n.packShapes(n.getSelectedShapeIds(),16)))}},{id:"stack-vertical",label:"action.stack-vertical",contextMenuLabel:"action.stack-vertical.short",icon:"stack-vertical",readonlyOk:!1,onSelect(g){w()&&(m()||(p("stack-shapes",{operation:"vertical",source:g}),n.mark("stack-vertical"),n.stackShapes(n.getSelectedShapeIds(),"vertical",16)))}},{id:"stack-horizontal",label:"action.stack-horizontal",contextMenuLabel:"action.stack-horizontal.short",icon:"stack-horizontal",readonlyOk:!1,onSelect(g){w()&&(m()||(p("stack-shapes",{operation:"horizontal",source:g}),n.mark("stack-horizontal"),n.stackShapes(n.getSelectedShapeIds(),"horizontal",16)))}},{id:"bring-to-front",label:"action.bring-to-front",kbd:"]",icon:"bring-to-front",readonlyOk:!1,onSelect(g){w()&&(m()||(p("reorder-shapes",{operation:"toFront",source:g}),n.mark("bring to front"),n.bringToFront(n.getSelectedShapeIds())))}},{id:"bring-forward",label:"action.bring-forward",icon:"bring-forward",kbd:"?]",readonlyOk:!1,onSelect(g){w()&&(m()||(p("reorder-shapes",{operation:"forward",source:g}),n.mark("bring forward"),n.bringForward(n.getSelectedShapeIds())))}},{id:"send-backward",label:"action.send-backward",icon:"send-backward",kbd:"?[",readonlyOk:!1,onSelect(g){w()&&(m()||(p("reorder-shapes",{operation:"backward",source:g}),n.mark("send backward"),n.sendBackward(n.getSelectedShapeIds())))}},{id:"send-to-back",label:"action.send-to-back",icon:"send-to-back",kbd:"[",readonlyOk:!1,onSelect(g){w()&&(m()||(p("reorder-shapes",{operation:"toBack",source:g}),n.mark("send to back"),n.sendToBack(n.getSelectedShapeIds())))}},{id:"cut",label:"action.cut",kbd:"$x",readonlyOk:!1,onSelect(g){w()&&(m()||(n.mark("cut"),l(g)))}},{id:"copy",label:"action.copy",kbd:"$c",readonlyOk:!0,onSelect(g){w()&&(m()||c(g))}},{id:"paste",label:"action.paste",kbd:"$v",readonlyOk:!1,onSelect(g){var x;(x=navigator.clipboard)==null||x.read().then(k=>{d(k,g,g==="context-menu"?n.inputs.currentPagePoint:void 0)})}},{id:"select-all",label:"action.select-all",kbd:"$a",readonlyOk:!0,onSelect(g){n.batch(()=>{m()||(p("select-all-shapes",{source:g}),n.mark("select all kbd"),n.selectAll())})}},{id:"select-none",label:"action.select-none",readonlyOk:!0,onSelect(g){w()&&(m()||(p("select-none-shapes",{source:g}),n.mark("select none"),n.selectNone()))}},{id:"delete",label:"action.delete",kbd:",del,backspace",icon:"trash",readonlyOk:!1,onSelect(g){w()&&(m()||(p("delete-shapes",{source:g}),n.mark("delete"),n.deleteShapes(n.getSelectedShapeIds())))}},{id:"rotate-cw",label:"action.rotate-cw",icon:"rotate-cw",readonlyOk:!1,onSelect(g){if(!w()||m())return;p("rotate-cw",{source:g}),n.mark("rotate-cw");const x=n.getSelectionRotation()%(tt/2),k=Vu(x,0)||Vu(x,tt/2);n.rotateShapesBy(n.getSelectedShapeIds(),tt/2-(k?0:x))}},{id:"rotate-ccw",label:"action.rotate-ccw",icon:"rotate-ccw",readonlyOk:!1,onSelect(g){if(!w()||m())return;p("rotate-ccw",{source:g}),n.mark("rotate-ccw");const x=n.getSelectionRotation()%(tt/2),k=Vu(x,0);n.rotateShapesBy(n.getSelectedShapeIds(),k?-(tt/2):-x)}},{id:"zoom-in",label:"action.zoom-in",kbd:"$=,=",readonlyOk:!0,onSelect(g){p("zoom-in",{source:g}),n.zoomIn(n.getViewportScreenCenter(),{duration:Eo})}},{id:"zoom-out",label:"action.zoom-out",kbd:"$-,-",readonlyOk:!0,onSelect(g){p("zoom-out",{source:g}),n.zoomOut(n.getViewportScreenCenter(),{duration:Eo})}},{id:"zoom-to-100",label:"action.zoom-to-100",icon:"reset-zoom",kbd:"!0",readonlyOk:!0,onSelect(g){p("reset-zoom",{source:g}),n.resetZoom(n.getViewportScreenCenter(),{duration:Eo})}},{id:"zoom-to-fit",label:"action.zoom-to-fit",kbd:"!1",readonlyOk:!0,onSelect(g){p("zoom-to-fit",{source:g}),n.zoomToFit({duration:Eo})}},{id:"zoom-to-selection",label:"action.zoom-to-selection",kbd:"!2",readonlyOk:!0,onSelect(g){w()&&(m()||(p("zoom-to-selection",{source:g}),n.zoomToSelection({duration:Eo})))}},{id:"toggle-snap-mode",label:"action.toggle-snap-mode",menuLabel:"action.toggle-snap-mode.menu",readonlyOk:!1,onSelect(g){p("toggle-snap-mode",{source:g}),n.user.updateUserPreferences({isSnapMode:!n.user.getIsSnapMode()})},checkbox:!0},{id:"toggle-dark-mode",label:"action.toggle-dark-mode",menuLabel:"action.toggle-dark-mode.menu",kbd:"$/",readonlyOk:!0,onSelect(g){p("toggle-dark-mode",{source:g}),n.user.updateUserPreferences({isDarkMode:!n.user.getIsDarkMode()})},checkbox:!0},{id:"toggle-reduce-motion",label:"action.toggle-reduce-motion",menuLabel:"action.toggle-reduce-motion.menu",readonlyOk:!0,onSelect(g){p("toggle-reduce-motion",{source:g}),n.user.updateUserPreferences({animationSpeed:n.user.getAnimationSpeed()===0?1:0})},checkbox:!0},{id:"toggle-edge-scrolling",label:"action.toggle-edge-scrolling",menuLabel:"action.toggle-edge-scrolling.menu",readonlyOk:!0,onSelect(g){p("toggle-edge-scrolling",{source:g}),n.user.updateUserPreferences({edgeScrollSpeed:n.user.getEdgeScrollSpeed()===0?1:0})},checkbox:!0},{id:"toggle-transparent",label:"action.toggle-transparent",menuLabel:"action.toggle-transparent.menu",contextMenuLabel:"action.toggle-transparent.context-menu",readonlyOk:!0,onSelect(g){p("toggle-transparent",{source:g}),n.updateInstanceState({exportBackground:!n.getInstanceState().exportBackground},{ephemeral:!0})},checkbox:!0},{id:"toggle-tool-lock",label:"action.toggle-tool-lock",menuLabel:"action.toggle-tool-lock.menu",readonlyOk:!1,kbd:"q",onSelect(g){p("toggle-tool-lock",{source:g}),n.updateInstanceState({isToolLocked:!n.getInstanceState().isToolLocked})},checkbox:!0},{id:"unlock-all",label:"action.unlock-all",readonlyOk:!1,onSelect(g){p("unlock-all",{source:g});const x=[];for(const k of n.getCurrentPageShapes())k.isLocked&&x.push({id:k.id,type:k.type,isLocked:!1});x.length>0&&n.updateShapes(x)}},{id:"toggle-focus-mode",label:"action.toggle-focus-mode",menuLabel:"action.toggle-focus-mode.menu",readonlyOk:!0,kbd:"$.",checkbox:!0,onSelect(g){requestAnimationFrame(()=>{n.batch(()=>{p("toggle-focus-mode",{source:g}),s(),i(),n.updateInstanceState({isFocusMode:!n.getInstanceState().isFocusMode})})})}},{id:"toggle-grid",label:"action.toggle-grid",menuLabel:"action.toggle-grid.menu",readonlyOk:!0,kbd:"$'",onSelect(g){p("toggle-grid-mode",{source:g}),n.updateInstanceState({isGridMode:!n.getInstanceState().isGridMode})},checkbox:!0},{id:"toggle-debug-mode",label:"action.toggle-debug-mode",menuLabel:"action.toggle-debug-mode.menu",readonlyOk:!0,onSelect(g){p("toggle-debug-mode",{source:g}),n.updateInstanceState({isDebugMode:!n.getInstanceState().isDebugMode})},checkbox:!0},{id:"print",label:"action.print",kbd:"$p",readonlyOk:!0,onSelect(g){p("print",{source:g}),a()}},{id:"exit-pen-mode",label:"action.exit-pen-mode",icon:"cross-2",readonlyOk:!0,onSelect(g){p("exit-pen-mode",{source:g}),n.updateInstanceState({isPenMode:!1})}},{id:"stop-following",label:"action.stop-following",icon:"cross-2",readonlyOk:!0,onSelect(g){p("stop-following",{source:g}),n.stopFollowingUser()}},{id:"back-to-content",label:"action.back-to-content",icon:"arrow-left",readonlyOk:!0,onSelect(g){p("zoom-to-content",{source:g}),n.zoomToContent()}},{id:"toggle-lock",label:"action.toggle-lock",readonlyOk:!1,kbd:"!l",onSelect(g){n.mark("locking"),p("toggle-lock",{source:g}),n.toggleLock(n.getSelectedShapeIds())}}]);return t?t(n,b,void 0):b},[n,p,t,r,o,u,h,l,c,d,s,i,a]);return f.jsx(hL.Provider,{value:y,children:e})}function Wn(){const t=v.useContext(hL);if(!t)throw new Error("useTools must be used within a ToolProvider");return t}function Y1(t){return t.filter(e=>e!=null&&e!==!1)}function Oe(t,...e){const n=Y1(e);return n.length===0?null:{id:t,type:"group",checkbox:n.every(r=>r.type==="item"&&r.actionItem.checkbox),disabled:n.every(r=>r.disabled),readonlyOk:n.some(r=>r.readonlyOk),children:n}}function Ti(t,e,...n){const r=Y1(n);return r.length===0?null:{id:t,type:"submenu",label:e,children:r,disabled:r.every(s=>s.disabled),readonlyOk:r.some(s=>s.readonlyOk)}}function ub(t,e={}){const{readonlyOk:n=!0,disabled:r=!1}=e;return{id:t,type:"custom",disabled:r,readonlyOk:n}}function U(t,e={}){if(!t)throw Error("No action item provided to menuItem");if(!t.label)throw Error("Trying to create menu item for action item that doesn't have a label");const{checked:n=!1,disabled:r=!1}=e;return{id:t.id,type:"item",actionItem:t,disabled:r,checked:n,readonlyOk:t.readonlyOk}}function Tae(t){return t.getSelectedShapeIds().map(r=>t.getShape(r)).filter(r=>!(!r||t.isShapeOfType(r,"arrow")&&r.props.start.type==="binding"||t.isShapeOfType(r,"arrow")&&r.props.end.type==="binding"))}const uL=()=>{const t=Y();return Q("threeStackableItems",()=>Tae(t).length>2,[t])};function Lae(t){const e=t.getSelectedShapes(),n=[],r=new Map;e.forEach(i=>{i.type==="arrow"?n.push(i):r.set(i.id,i)});const s=n.filter(i=>!(i.props.start.type==="binding"&&!r.has(i.props.start.boundShapeId)||i.props.end.type==="binding"&&!r.has(i.props.end.boundShapeId)));return Array.from(r.values()).concat(s)}const pb=()=>{const t=Y();return Q("allowGroup",()=>Lae(t).length>1,[t])},fb=()=>{const t=Y();return Q("allowUngroup",()=>t.getSelectedShapeIds().some(e=>{var n;return((n=t.getShape(e))==null?void 0:n.type)==="group"}),[t])},pL=typeof window<"u"&&"navigator"in window&&!!navigator.clipboard&&!!navigator.clipboard.read,s5=[0,390,428,468,580,640,840,1023],fL=ie.createContext(0);function Mae({forceMobile:t=!1,children:e}){const n=Y(),r=Q("breakpoint",()=>{const{width:s}=n.getViewportScreenBounds(),i=t?3:s5.length-1;for(let o=0;o<i;o++)if(s>s5[o]&&s<=s5[o+1])return o;return i},[n]);return f.jsx(fL.Provider,{value:r,children:e})}function Us(){return v.useContext(fL)}function gb(){const t=Y();return Q("hasLinkShapeSelected",()=>{const e=t.getSelectedShapes();return e.length===1&&"url"in e[0].props&&e[0].type!=="embed"},[t])}const gL=ie.createContext({}),jae=({overrides:t,children:e})=>{const n=Y(),r=Wn(),s=Q("selected count",()=>n.getSelectedShapeIds().length,[n]),i=s>0,o=s>1,a=s>2,l=uL(),c=pb(),d=fb(),h=gb(),u=Us(),p=Q("zoom is 1",()=>n.getZoomLevel()===1,[n]),y=v.useMemo(()=>{const m=[U(r["align-left"],{disabled:!o}),U(r["align-center-horizontal"],{disabled:!o}),U(r["align-right"],{disabled:!o}),U(r["stretch-horizontal"],{disabled:!o}),U(r["align-top"],{disabled:!o}),U(r["align-center-vertical"],{disabled:!o}),U(r["align-bottom"],{disabled:!o}),U(r["stretch-vertical"],{disabled:!o}),U(r["distribute-horizontal"],{disabled:!a}),U(r["distribute-vertical"],{disabled:!a}),U(r["stack-horizontal"],{disabled:!l}),U(r["stack-vertical"],{disabled:!l}),U(r["send-to-back"],{disabled:!i}),U(r["send-backward"],{disabled:!i}),U(r["bring-forward"],{disabled:!i}),U(r["bring-to-front"],{disabled:!i}),u<5?U(r["zoom-to-100"],{disabled:!!p}):U(r["rotate-ccw"],{disabled:!i}),U(r["rotate-cw"],{disabled:!i}),U(r["edit-link"],{disabled:!h}),c?U(r.group,{disabled:!o}):d?U(r.ungroup):U(r.group,{disabled:!o})];return t?t(n,m,{actions:r,oneSelected:i,twoSelected:o,threeSelected:a}):m},[n,p,c,t,r,i,o,a,l,d,h,u]);return f.jsx(gL.Provider,{value:y,children:e})};function Rae(){const t=ie.useContext(gL);if(!t)throw new Error("useActionsMenuSchema must be used inside of a ActionsMenuSchemaProvider.");return t}function $ae(){const t=Y();return Q("onlyFlippableShape",()=>{const e=t.getSelectedShapes();return e.length===1&&e.every(n=>t.isShapeOfType(n,"group")||t.isShapeOfType(n,"arrow")||t.isShapeOfType(n,"line")||t.isShapeOfType(n,"draw"))},[t])}function mL(){const t=Y();return Q("showAutoSizeToggle",()=>{const e=t.getSelectedShapes();return e.length===1&&t.isShapeOfType(e[0],"text")&&e[0].props.autoSize===!1},[t])}const yL=ie.createContext({}),Oae=Ye(function({overrides:e,children:n}){var E;const r=Y(),s=Wn(),i=mL(),o=$ae(),a=r.getSelectedShapes(),l=a.length,c=l>0,d=l>1,h=l>2,u=uL(),p=Q("atLeastOneShapeOnPage",()=>r.getCurrentPageShapeIds().size>0,[]),y=Q("isTransparentBg",()=>r.getInstanceState().exportBackground,[]),m=pb(),w=fb(),S=!!((E=window.navigator.clipboard)!=null&&E.write),b=gb(),g=r.getOnlySelectedShape(),x=c&&a.every(z=>r.isShapeOfType(z,"frame")),k=g&&r.isShapeOfType(g,"frame")&&r.getSortedChildIdsForParent(g).length>0,C=g&&r.isShapeOrAncestorLocked(g),_=v.useMemo(()=>{let z=Y1([Oe("selection",i&&U(s["toggle-auto-size"]),b&&!C&&U(s["edit-link"]),c&&!C&&U(s.duplicate),m&&!C&&U(s.group),w&&!C&&U(s.ungroup),x&&!C&&U(s["remove-frame"]),k&&!C&&U(s["fit-frame-to-content"]),c&&U(s["toggle-lock"])),Oe("modify",(d||o)&&Ti("arrange","context-menu.arrange",d&&Oe("align",U(s["align-left"]),U(s["align-center-horizontal"]),U(s["align-right"]),U(s["align-top"]),U(s["align-center-vertical"]),U(s["align-bottom"])),h&&Oe("distribute",U(s["distribute-horizontal"]),U(s["distribute-vertical"])),d&&Oe("stretch",U(s["stretch-horizontal"]),U(s["stretch-vertical"])),o&&!C&&Oe("flip",U(s["flip-horizontal"]),U(s["flip-vertical"])),d&&Oe("order",U(s.pack,{disabled:!d}),u&&U(s["stack-vertical"]),u&&U(s["stack-horizontal"]))),c&&!C&&Ti("reorder","context-menu.reorder",Oe("reorder",U(s["bring-to-front"]),U(s["bring-forward"]),U(s["send-backward"]),U(s["send-to-back"]))),c&&!C&&ub("MOVE_TO_PAGE_MENU",{readonlyOk:!1})),Oe("clipboard-group",c&&!C&&U(s.cut),c&&U(s.copy),pL&&U(s.paste)),p&&Oe("conversions",Ti("copy-as","context-menu.copy-as",Oe("copy-as-group",U(s["copy-as-svg"]),S&&U(s["copy-as-png"]),U(s["copy-as-json"])),Oe("export-bg",U(s["toggle-transparent"],{checked:!y}))),Ti("export-as","context-menu.export-as",Oe("export-as-group",U(s["export-as-svg"]),U(s["export-as-png"]),U(s["export-as-json"])),Oe("export-bg,",U(s["toggle-transparent"],{checked:!y})))),p&&Oe("set-selection-group",U(s["select-all"]),c&&U(s["select-none"])),c&&!C&&Oe("delete-group",U(s.delete))]);return e&&(z=e(r,z,{actions:s,oneSelected:c,twoSelected:d,threeSelected:h,showAutoSizeToggle:i,showUngroup:w,onlyFlippableShapeSelected:o})),z},[r,e,s,c,d,h,i,o,p,u,m,w,x,k,S,b,y,C]);return f.jsx(yL.Provider,{value:_,children:n})});function xL(){const t=ie.useContext(yL);if(!t)throw new Error("useContextMenuSchema must be used inside of a TLUiContextMenuSchemaProvider.");return t}const wL=v.createContext({});function Dae({overrides:t,children:e}){const n=Y(),r=jh(),{addDialog:s}=Ic(),i=dL(),o=v.useMemo(()=>{const a=[{id:"select",label:"tool.select",icon:"tool-pointer",kbd:"v",readonlyOk:!0,onSelect(c){n.setCurrentTool("select"),r("select-tool",{source:c,id:"select"})}},{id:"hand",label:"tool.hand",icon:"tool-hand",kbd:"h",readonlyOk:!0,onSelect(c){n.setCurrentTool("hand"),r("select-tool",{source:c,id:"hand"})}},{id:"eraser",label:"tool.eraser",icon:"tool-eraser",kbd:"e",readonlyOk:!1,onSelect(c){n.setCurrentTool("eraser"),r("select-tool",{source:c,id:"eraser"})}},{id:"draw",label:"tool.draw",readonlyOk:!1,icon:"tool-pencil",kbd:"d,b,x",onSelect(c){n.setCurrentTool("draw"),r("select-tool",{source:c,id:"draw"})}},...[...Ui.values].map(c=>({id:c,label:`tool.${c}`,readonlyOk:!1,meta:{geo:c},kbd:c==="rectangle"?"r":c==="ellipse"?"o":void 0,icon:"geo-"+c,onSelect(d){n.batch(()=>{n.updateInstanceState({stylesForNextShape:{...n.getInstanceState().stylesForNextShape,[Ui.id]:c}},{ephemeral:!0}),n.setCurrentTool("geo"),r("select-tool",{source:d,id:`geo-${c}`})})}})),{id:"arrow",label:"tool.arrow",readonlyOk:!1,icon:"tool-arrow",kbd:"a",onSelect(c){n.setCurrentTool("arrow"),r("select-tool",{source:c,id:"arrow"})}},{id:"line",label:"tool.line",readonlyOk:!1,icon:"tool-line",kbd:"l",onSelect(c){n.setCurrentTool("line"),r("select-tool",{source:c,id:"line"})}},{id:"frame",label:"tool.frame",readonlyOk:!1,icon:"tool-frame",kbd:"f",onSelect(c){n.setCurrentTool("frame"),r("select-tool",{source:c,id:"frame"})}},{id:"text",label:"tool.text",readonlyOk:!1,icon:"tool-text",kbd:"t",onSelect(c){n.setCurrentTool("text"),r("select-tool",{source:c,id:"text"})}},{id:"asset",label:"tool.asset",readonlyOk:!1,icon:"tool-media",kbd:"$u",onSelect(c){i(),r("select-tool",{source:c,id:"media"})}},{id:"note",label:"tool.note",readonlyOk:!1,icon:"tool-note",kbd:"n",onSelect(c){n.setCurrentTool("note"),r("select-tool",{source:c,id:"note"})}},{id:"laser",label:"tool.laser",readonlyOk:!0,icon:"tool-laser",kbd:"k",onSelect(c){n.setCurrentTool("laser"),r("select-tool",{source:c,id:"laser"})}},{id:"embed",label:"tool.embed",readonlyOk:!1,icon:"tool-embed",onSelect(c){s({component:ZT}),r("select-tool",{source:c,id:"embed"})}}];a.push({id:"highlight",label:"tool.highlight",readonlyOk:!0,icon:"tool-highlight",kbd:"!d",onSelect(c){n.setCurrentTool("highlight"),r("select-tool",{source:c,id:"highlight"})}});const l=Object.fromEntries(a.map(c=>[c.id,c]));return t?t(n,l,{insertMedia:i}):l},[t,n,r,i,s]);return f.jsx(wL.Provider,{value:o,children:e})}function mb(){const t=v.useContext(wL);if(!t)throw new Error("useTools must be used within a ToolProvider");return t}const SL=ie.createContext({}),qae=Ye(function({overrides:e,children:n}){const r=Y(),s=mb(),i=Wn(),o=v.useMemo(()=>{const a=ke([Oe("shortcuts-dialog.tools",U(i["toggle-tool-lock"]),U(s.select),U(s.draw),U(s.eraser),U(s.hand),U(s.rectangle),U(s.ellipse),U(s.arrow),U(s.line),U(s.text),U(s.frame),U(s.note),U(s.laser)),Oe("shortcuts-dialog.file",U(i["insert-media"]),U(i.print)),Oe("shortcuts-dialog.preferences",U(i["toggle-dark-mode"]),U(i["toggle-focus-mode"]),U(i["toggle-grid"])),Oe("shortcuts-dialog.edit",U(i.undo),U(i.redo),U(i.cut),U(i.copy),U(i.paste),U(i["select-all"]),U(i.delete),U(i.duplicate),U(i["export-as-svg"]),U(i["export-as-png"])),Oe("shortcuts-dialog.view",U(i["zoom-in"]),U(i["zoom-out"]),U(i["zoom-to-100"]),U(i["zoom-to-fit"]),U(i["zoom-to-selection"])),Oe("shortcuts-dialog.transform",U(i["bring-to-front"]),U(i["bring-forward"]),U(i["send-backward"]),U(i["send-to-back"]),U(i.group),U(i.ungroup),U(i["flip-horizontal"]),U(i["flip-vertical"]),U(i["align-top"]),U(i["align-center-vertical"]),U(i["align-bottom"]),U(i["align-left"]),U(i["align-center-horizontal"]),U(i["align-right"]))]);return e?e(r,a,{tools:s,actions:i}):a},[r,e,i,s]);return f.jsx(SL.Provider,{value:o,children:n})});function Bae(){const t=ie.useContext(SL);if(!t)throw new Error("Shortcuts must be used inside of a ShortcutsProvider.");return t}const Fae=()=>{const t=Ue(),e=Ws(),n=Bae();function r(s){if(!s||e&&!s.readonlyOk)return null;switch(s.type){case"group":return f.jsxs("div",{className:"tlui-shortcuts-dialog__group",children:[f.jsx("h2",{className:"tlui-shortcuts-dialog__group__title",children:t(s.id)}),f.jsx("div",{className:"tlui-shortcuts-dialog__group__content",children:s.children.filter(i=>i&&i.type==="item"&&i.actionItem.kbd).map(r)})]},s.id);case"item":{const{id:i,label:o,shortcutsLabel:a,kbd:l}=s.actionItem;return f.jsxs("div",{className:"tlui-shortcuts-dialog__key-pair",children:[f.jsx("div",{className:"tlui-shortcuts-dialog__key-pair__key",children:t(a??o)}),f.jsx("div",{className:"tlui-shortcuts-dialog__key-pair__value",children:f.jsx(K1,{children:l})})]},i)}}}return f.jsxs(f.Fragment,{children:[f.jsxs(U1,{className:"tlui-shortcuts-dialog__header",children:[f.jsx(V1,{children:t("shortcuts-dialog.title")}),f.jsx(X1,{})]}),f.jsx(Vp,{className:"tlui-shortcuts-dialog__body",children:n.map(r)}),f.jsx("div",{className:"tlui-dialog__scrim"})]})};function bL(){const t=Y();return{languages:xp,currentLanguage:t.user.getLocale()}}const vL=ie.createContext({}),Kae=Ye(function({overrides:e,children:n}){const r=Y(),s=Wn(),i=r.getSelectedShapeIds().length,o=i>0,a=i>1,l=i>2,{languages:c,currentLanguage:d}=bL(),{addDialog:h}=Ic(),u=v.useMemo(()=>{const p=ke([Oe("top",ub("LANGUAGE_MENU",{readonlyOk:!0}),U({id:"keyboard-shortcuts",label:"help-menu.keyboard-shortcuts",readonlyOk:!0,onSelect(){h({component:Fae})}}))]);return e?e(r,p,{actions:s,currentLanguage:d,languages:c,oneSelected:o,twoSelected:a,threeSelected:l}):p},[r,e,c,s,o,a,l,d,h]);return f.jsx(vL.Provider,{value:u,children:n})});function Wae(){const t=ie.useContext(vL);if(!t)throw new Error("useHelpMenuSchema must be used inside of a helpTLUiMenuSchemaProvider.");return t}function kL(){const t=Y();return Q("useCanRedo",()=>t.getCanRedo(),[t])}function CL(){const t=Y();return Q("useCanUndo",()=>t.getCanUndo(),[t])}const _L=ie.createContext({});function Uae({overrides:t,children:e}){var D;const n=Y(),r=Wn(),i=Us()<5,o=Q("isDarkMode",()=>n.user.getIsDarkMode(),[n]),a=Q("animationSpeed",()=>n.user.getAnimationSpeed(),[n]),l=Q("edgeScrollSpeed",()=>n.user.getEdgeScrollSpeed(),[n]),c=Q("isGridMode",()=>n.getInstanceState().isGridMode,[n]),d=Q("isSnapMode",()=>n.user.getIsSnapMode(),[n]),h=Q("isToolLock",()=>n.getInstanceState().isToolLocked,[n]),u=Q("isFocusMode",()=>n.getInstanceState().isFocusMode,[n]),p=Q("isDebugMode",()=>n.getInstanceState().isDebugMode,[n]),y=Q("exportBackground",()=>n.getInstanceState().exportBackground,[n]),m=Q("emptyPage",()=>n.getCurrentPageShapeIds().size===0,[n]),w=Q("selectedCount",()=>n.getSelectedShapeIds().length,[n]),S=w===0,b=w>0,g=w>1,x=w>2,k=!!((D=window.navigator.clipboard)!=null&&D.write),C=gb(),_=mL(),E=pb(),z=fb(),P=CL(),A=kL(),N=Q("isZoomedTo100",()=>n.getZoomLevel()===1,[n]),L=Q("oneEmbedSelected",()=>{const X=n.getOnlySelectedShape();return X?!!(n.isShapeOfType(X,"embed")&&X.props.url&&!n.isShapeOrAncestorLocked(X)):!1},[]),M=Q("oneEmbeddableBookmarkSelected",()=>{const X=n.getOnlySelectedShape();return X?!!(n.isShapeOfType(X,"bookmark")&&X.props.url&&Io(X.props.url)&&!n.isShapeOrAncestorLocked(X)):!1},[]),q=v.useMemo(()=>{const X=Y1([Oe("menu",Ti("file","menu.file",Oe("print",U(r.print,{disabled:m}))),Ti("edit","menu.edit",Oe("undo-actions",U(r.undo,{disabled:!P}),U(r.redo,{disabled:!A})),Oe("clipboard-actions",U(r.cut,{disabled:S}),U(r.copy,{disabled:S}),U(r.paste,{disabled:!pL})),Oe("conversions",Ti("copy-as","menu.copy-as",Oe("copy-as-group",U(r["copy-as-svg"],{disabled:m}),U(r["copy-as-png"],{disabled:m||!k}),U(r["copy-as-json"],{disabled:m})),Oe("export-bg",U(r["toggle-transparent"],{checked:!y}))),Ti("export-as","menu.export-as",Oe("export-as-group",U(r["export-as-svg"],{disabled:m}),U(r["export-as-png"],{disabled:m}),U(r["export-as-json"],{disabled:m})),Oe("export-bg",U(r["toggle-transparent"],{checked:!y})))),Oe("set-selection-group",U(r["select-all"],{disabled:m}),U(r["select-none"],{disabled:!b})),Oe("selection",_&&U(r["toggle-auto-size"]),C&&U(r["edit-link"]),U(r.duplicate,{disabled:!b}),E&&U(r.group),z&&U(r.ungroup),U(r["unlock-all"],{disabled:m})),Oe("delete-group",U(r.delete,{disabled:!b})),Oe("embeds",L&&U(r["open-embed-link"]),L&&U(r["convert-to-bookmark"]),M&&U(r["convert-to-embed"]))),Ti("view","menu.view",Oe("view-actions",U(r["zoom-in"]),U(r["zoom-out"]),U(r["zoom-to-100"],{disabled:N}),U(r["zoom-to-fit"],{disabled:m}),U(r["zoom-to-selection"],{disabled:m||!b})))),Oe("extras",U(r["insert-embed"]),U(r["insert-media"])),Oe("preferences",Ti("preferences","menu.preferences",Oe("preferences-actions",U(r["toggle-snap-mode"],{checked:d}),U(r["toggle-tool-lock"],{checked:h}),U(r["toggle-grid"],{checked:c}),U(r["toggle-dark-mode"],{checked:o}),U(r["toggle-focus-mode"],{checked:u}),U(r["toggle-edge-scrolling"],{checked:l===1}),U(r["toggle-reduce-motion"],{checked:a===0}),U(r["toggle-debug-mode"],{checked:p}))),i&&ub("LANGUAGE_MENU",{readonlyOk:!0}))]);return t?t(n,X,{actions:r,noneSelected:S,oneSelected:b,twoSelected:g,threeSelected:x}):X},[n,t,r,b,g,x,m,i,E,z,C,k,_,S,P,A,a,o,c,d,h,u,y,p,l,N,M,L]);return f.jsx(_L.Provider,{value:q,children:e})}function Vae(){const t=ie.useContext(_L);if(!t)throw new Error("useMenuSchema must be used inside of a TLUiMenuSchemaProvider.");return t}function Qe(t){return{id:t.id,type:"item",readonlyOk:t.readonlyOk,toolItem:t}}const EL=ie.createContext([]);function Xae({overrides:t,children:e}){const n=Y(),r=mb(),s=ie.useMemo(()=>{const i=ke([Qe(r.select),Qe(r.hand),Qe(r.draw),Qe(r.eraser),Qe(r.arrow),Qe(r.text),Qe(r.note),Qe(r.asset),Qe(r.rectangle),Qe(r.ellipse),Qe(r.diamond),Qe(r.triangle),Qe(r.trapezoid),Qe(r.rhombus),Qe(r.hexagon),Qe(r.cloud),Qe(r.star),Qe(r.oval),Qe(r["x-box"]),Qe(r["check-box"]),Qe(r["arrow-left"]),Qe(r["arrow-up"]),Qe(r["arrow-down"]),Qe(r["arrow-right"]),Qe(r.line),Qe(r.highlight),Qe(r.frame),Qe(r.laser)]);return t?t(n,i,{tools:r}):i},[n,t,r]);return f.jsx(EL.Provider,{value:s,children:e})}function Yae(){const t=ie.useContext(EL);if(!t)throw new Error("useToolbarSchema must be used within a ToolbarSchemaProvider");return t}function Hae(){const{addToast:t,removeToast:e,clearToasts:n}=po(),{addDialog:r,clearDialogs:s,removeDialog:i,updateDialog:o}=Ic(),l=Us()<5,c=Ue();return v.useMemo(()=>({addToast:t,removeToast:e,clearToasts:n,addDialog:r,clearDialogs:s,removeDialog:i,updateDialog:o,msg:c,isMobile:l}),[r,t,s,n,c,i,e,o,l])}function Gae(t,e){const n={};for(const r of t)if(r.translations)for(const[s,i]of RE(r.translations)){let o=n[s];o||(o=n[s]={}),Object.assign(o,i)}return{actionsMenu:(r,s,i)=>{for(const o of t)o.actionsMenu&&(s=o.actionsMenu(r,s,{...e,...i}));return s},actions:(r,s)=>{for(const i of t)i.actions&&(s=i.actions(r,s,e));return s},contextMenu:(r,s,i)=>{for(const o of t)o.contextMenu&&(s=o.contextMenu(r,s,{...e,...i}));return s},helpMenu:(r,s,i)=>{for(const o of t)o.helpMenu&&(s=o.helpMenu(r,s,{...e,...i}));return s},menu:(r,s,i)=>{for(const o of t)o.menu&&(s=o.menu(r,s,{...e,...i}));return s},toolbar:(r,s,i)=>{for(const o of t)o.toolbar&&(s=o.toolbar(r,s,{...e,...i}));return s},keyboardShortcutsMenu:(r,s,i)=>{for(const o of t)o.keyboardShortcutsMenu&&(s=o.keyboardShortcutsMenu(r,s,{...e,...i}));return s},tools:(r,s,i)=>{for(const o of t)o.tools&&(s=o.tools(r,s,{...e,...i}));return s},translations:n}}function IL(t){return v.useMemo(()=>t,t)}function Zae(t){const e=IL(t==null?[]:Array.isArray(t)?t:[t]);return v.useMemo(()=>{const n={};for(const r of e)if(r.translations)for(const[s,i]of RE(r.translations)){let o=n[s];o||(o=n[s]={}),Object.assign(o,i)}return n},[e])}function Qae(t){const e=Hae(),n=IL(t==null?[]:Array.isArray(t)?t:[t]);return v.useMemo(()=>Gae(n,e),[n,e])}function Jae({overrides:t,assetUrls:e,onUiEvent:n,forceMobile:r,children:s}){return f.jsx(Bie,{assetUrls:$ie(e),children:f.jsx(Wie,{overrides:Zae(t),children:f.jsx(fae,{onEvent:n,children:f.jsx(Cae,{children:f.jsx(Eae,{children:f.jsx(Mae,{forceMobile:r,children:f.jsx(ele,{overrides:t,children:s})})})})})})})}function ele({overrides:t,children:e}){const n=Qae(t);return f.jsx(Nae,{overrides:n.actions,children:f.jsx(Dae,{overrides:n.tools,children:f.jsx(Xae,{overrides:n.toolbar,children:f.jsx(jae,{overrides:n.actionsMenu,children:f.jsx(qae,{overrides:n.keyboardShortcutsMenu,children:f.jsx(Oae,{overrides:n.contextMenu,children:f.jsx(Kae,{overrides:n.helpMenu,children:f.jsx(Uae,{overrides:n.menu,children:e})})})})})})})})}function tle(){const t=Y(),n=Wn()["back-to-content"],[r,s]=v.useState(!1);return v.useEffect(()=>{let i=!1;const o=setInterval(()=>{const a=t.getRenderingShapes(),l=t.getRenderingBounds(),d=a.filter(h=>h.maskedPageBounds&&l.includes(h.maskedPageBounds)).length===0&&t.getCurrentPageShapes().length>0;i!==d&&(s(d),i=d)},1e3);return()=>{clearInterval(o)}},[t]),r?f.jsx(ge,{iconLeft:n.icon,label:n.label,type:"low",onClick:()=>{n.onSelect("helper-buttons"),s(!1)}}):null}const nle=v.createContext(void 0);function yb(t){const e=v.useContext(nle);return t||e||"ltr"}const rle=["top","right","bottom","left"],Fi=Math.min,rs=Math.max,ry=Math.round,e0=Math.floor,Wa=t=>({x:t,y:t}),sle={left:"right",right:"left",bottom:"top",top:"bottom"},ile={start:"end",end:"start"};function S3(t,e,n){return rs(t,Fi(e,n))}function Ko(t,e){return typeof t=="function"?t(e):t}function Wo(t){return t.split("-")[0]}function Rh(t){return t.split("-")[1]}function xb(t){return t==="x"?"y":"x"}function wb(t){return t==="y"?"height":"width"}function $h(t){return["top","bottom"].includes(Wo(t))?"y":"x"}function Sb(t){return xb($h(t))}function ole(t,e,n){n===void 0&&(n=!1);const r=Rh(t),s=Sb(t),i=wb(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=sy(o)),[o,sy(o)]}function ale(t){const e=sy(t);return[b3(t),e,b3(e)]}function b3(t){return t.replace(/start|end/g,e=>ile[e])}function lle(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function cle(t,e,n,r){const s=Rh(t);let i=lle(Wo(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(b3)))),i}function sy(t){return t.replace(/left|right|bottom|top/g,e=>sle[e])}function dle(t){return{top:0,right:0,bottom:0,left:0,...t}}function PL(t){return typeof t!="number"?dle(t):{top:t,right:t,bottom:t,left:t}}function iy(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function ck(t,e,n){let{reference:r,floating:s}=t;const i=$h(e),o=Sb(e),a=wb(o),l=Wo(e),c=i==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,u=r[a]/2-s[a]/2;let p;switch(l){case"top":p={x:d,y:r.y-s.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:h};break;case"left":p={x:r.x-s.width,y:h};break;default:p={x:r.x,y:r.y}}switch(Rh(e)){case"start":p[o]-=u*(n&&c?-1:1);break;case"end":p[o]+=u*(n&&c?-1:1);break}return p}const hle=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:h}=ck(c,r,l),u=r,p={},y=0;for(let m=0;m<a.length;m++){const{name:w,fn:S}=a[m],{x:b,y:g,data:x,reset:k}=await S({x:d,y:h,initialPlacement:r,placement:u,strategy:s,middlewareData:p,rects:c,platform:o,elements:{reference:t,floating:e}});d=b??d,h=g??h,p={...p,[w]:{...p[w],...x}},k&&y<=50&&(y++,typeof k=="object"&&(k.placement&&(u=k.placement),k.rects&&(c=k.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):k.rects),{x:d,y:h}=ck(c,u,l)),m=-1)}return{x:d,y:h,placement:u,strategy:s,middlewareData:p}};async function Xp(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:u=!1,padding:p=0}=Ko(e,t),y=PL(p),w=a[u?h==="floating"?"reference":"floating":h],S=iy(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(w)))==null||n?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),b=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,g=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),x=await(i.isElement==null?void 0:i.isElement(g))?await(i.getScale==null?void 0:i.getScale(g))||{x:1,y:1}:{x:1,y:1},k=iy(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:b,offsetParent:g,strategy:l}):b);return{top:(S.top-k.top+y.top)/x.y,bottom:(k.bottom-S.bottom+y.bottom)/x.y,left:(S.left-k.left+y.left)/x.x,right:(k.right-S.right+y.right)/x.x}}const ule=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=Ko(t,e)||{};if(c==null)return{};const h=PL(d),u={x:n,y:r},p=Sb(s),y=wb(p),m=await o.getDimensions(c),w=p==="y",S=w?"top":"left",b=w?"bottom":"right",g=w?"clientHeight":"clientWidth",x=i.reference[y]+i.reference[p]-u[p]-i.floating[y],k=u[p]-i.reference[p],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let _=C?C[g]:0;(!_||!await(o.isElement==null?void 0:o.isElement(C)))&&(_=a.floating[g]||i.floating[y]);const E=x/2-k/2,z=_/2-m[y]/2-1,P=Fi(h[S],z),A=Fi(h[b],z),N=P,L=_-m[y]-A,M=_/2-m[y]/2+E,q=S3(N,M,L),D=!l.arrow&&Rh(s)!=null&&M!==q&&i.reference[y]/2-(M<N?P:A)-m[y]/2<0,X=D?M<N?M-N:M-L:0;return{[p]:u[p]+X,data:{[p]:q,centerOffset:M-q-X,...D&&{alignmentOffset:X}},reset:D}}}),ple=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:u,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:m=!0,...w}=Ko(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const S=Wo(s),b=Wo(a)===a,g=await(l.isRTL==null?void 0:l.isRTL(c.floating)),x=u||(b||!m?[sy(a)]:ale(a));!u&&y!=="none"&&x.push(...cle(a,m,y,g));const k=[a,...x],C=await Xp(e,w),_=[];let E=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&_.push(C[S]),h){const N=ole(s,o,g);_.push(C[N[0]],C[N[1]])}if(E=[...E,{placement:s,overflows:_}],!_.every(N=>N<=0)){var z,P;const N=(((z=i.flip)==null?void 0:z.index)||0)+1,L=k[N];if(L)return{data:{index:N,overflows:E},reset:{placement:L}};let M=(P=E.filter(q=>q.overflows[0]<=0).sort((q,D)=>q.overflows[1]-D.overflows[1])[0])==null?void 0:P.placement;if(!M)switch(p){case"bestFit":{var A;const q=(A=E.map(D=>[D.placement,D.overflows.filter(X=>X>0).reduce((X,O)=>X+O,0)]).sort((D,X)=>D[1]-X[1])[0])==null?void 0:A[0];q&&(M=q);break}case"initialPlacement":M=a;break}if(s!==M)return{reset:{placement:M}}}return{}}}};function dk(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function hk(t){return rle.some(e=>t[e]>=0)}const fle=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Ko(t,e);switch(r){case"referenceHidden":{const i=await Xp(e,{...s,elementContext:"reference"}),o=dk(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:hk(o)}}}case"escaped":{const i=await Xp(e,{...s,altBoundary:!0}),o=dk(i,n.floating);return{data:{escapedOffsets:o,escaped:hk(o)}}}default:return{}}}}};async function gle(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Wo(n),a=Rh(n),l=$h(n)==="y",c=["left","top"].includes(o)?-1:1,d=i&&l?-1:1,h=Ko(e,t);let{mainAxis:u,crossAxis:p,alignmentAxis:y}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...h};return a&&typeof y=="number"&&(p=a==="end"?y*-1:y),l?{x:p*d,y:u*c}:{x:u*c,y:p*d}}const mle=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await gle(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},yle=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:w=>{let{x:S,y:b}=w;return{x:S,y:b}}},...l}=Ko(t,e),c={x:n,y:r},d=await Xp(e,l),h=$h(Wo(s)),u=xb(h);let p=c[u],y=c[h];if(i){const w=u==="y"?"top":"left",S=u==="y"?"bottom":"right",b=p+d[w],g=p-d[S];p=S3(b,p,g)}if(o){const w=h==="y"?"top":"left",S=h==="y"?"bottom":"right",b=y+d[w],g=y-d[S];y=S3(b,y,g)}const m=a.fn({...e,[u]:p,[h]:y});return{...m,data:{x:m.x-n,y:m.y-r}}}}},xle=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Ko(t,e),d={x:n,y:r},h=$h(s),u=xb(h);let p=d[u],y=d[h];const m=Ko(a,e),w=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const g=u==="y"?"height":"width",x=i.reference[u]-i.floating[g]+w.mainAxis,k=i.reference[u]+i.reference[g]-w.mainAxis;p<x?p=x:p>k&&(p=k)}if(c){var S,b;const g=u==="y"?"width":"height",x=["top","left"].includes(Wo(s)),k=i.reference[h]-i.floating[g]+(x&&((S=o.offset)==null?void 0:S[h])||0)+(x?0:w.crossAxis),C=i.reference[h]+i.reference[g]+(x?0:((b=o.offset)==null?void 0:b[h])||0)-(x?w.crossAxis:0);y<k?y=k:y>C&&(y=C)}return{[u]:p,[h]:y}}}},wle=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:r,platform:s,elements:i}=e,{apply:o=()=>{},...a}=Ko(t,e),l=await Xp(e,a),c=Wo(n),d=Rh(n),h=$h(n)==="y",{width:u,height:p}=r.floating;let y,m;c==="top"||c==="bottom"?(y=c,m=d===(await(s.isRTL==null?void 0:s.isRTL(i.floating))?"start":"end")?"left":"right"):(m=c,y=d==="end"?"top":"bottom");const w=p-l.top-l.bottom,S=u-l.left-l.right,b=Fi(p-l[y],w),g=Fi(u-l[m],S),x=!e.middlewareData.shift;let k=b,C=g;if(h?C=d||x?Fi(g,S):S:k=d||x?Fi(b,w):w,x&&!d){const E=rs(l.left,0),z=rs(l.right,0),P=rs(l.top,0),A=rs(l.bottom,0);h?C=u-2*(E!==0||z!==0?E+z:rs(l.left,l.right)):k=p-2*(P!==0||A!==0?P+A:rs(l.top,l.bottom))}await o({...e,availableWidth:C,availableHeight:k});const _=await s.getDimensions(i.floating);return u!==_.width||p!==_.height?{reset:{rects:!0}}:{}}}};function Oh(t){return zL(t)?(t.nodeName||"").toLowerCase():"#document"}function fs(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Qo(t){var e;return(e=(zL(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function zL(t){return t instanceof Node||t instanceof fs(t).Node}function so(t){return t instanceof Element||t instanceof fs(t).Element}function io(t){return t instanceof HTMLElement||t instanceof fs(t).HTMLElement}function uk(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof fs(t).ShadowRoot}function Rf(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=wi(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function Sle(t){return["table","td","th"].includes(Oh(t))}function bb(t){const e=vb(),n=wi(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function ble(t){let e=Ua(t);for(;io(e)&&!mh(e);){if(bb(e))return e;e=Ua(e)}return null}function vb(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function mh(t){return["html","body","#document"].includes(Oh(t))}function wi(t){return fs(t).getComputedStyle(t)}function H1(t){return so(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Ua(t){if(Oh(t)==="html")return t;const e=t.assignedSlot||t.parentNode||uk(t)&&t.host||Qo(t);return uk(e)?e.host:e}function AL(t){const e=Ua(t);return mh(e)?t.ownerDocument?t.ownerDocument.body:t.body:io(e)&&Rf(e)?e:AL(e)}function Yp(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=AL(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=fs(s);return i?e.concat(o,o.visualViewport||[],Rf(s)?s:[],o.frameElement&&n?Yp(o.frameElement):[]):e.concat(s,Yp(s,[],n))}function NL(t){const e=wi(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=io(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=ry(n)!==i||ry(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function kb(t){return so(t)?t:t.contextElement}function Qd(t){const e=kb(t);if(!io(e))return Wa(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=NL(e);let o=(i?ry(n.width):n.width)/r,a=(i?ry(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const vle=Wa(0);function TL(t){const e=fs(t);return!vb()||!e.visualViewport?vle:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function kle(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==fs(t)?!1:e}function fc(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=kb(t);let o=Wa(1);e&&(r?so(r)&&(o=Qd(r)):o=Qd(t));const a=kle(i,n,r)?TL(i):Wa(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(i){const u=fs(i),p=r&&so(r)?fs(r):r;let y=u,m=y.frameElement;for(;m&&r&&p!==y;){const w=Qd(m),S=m.getBoundingClientRect(),b=wi(m),g=S.left+(m.clientLeft+parseFloat(b.paddingLeft))*w.x,x=S.top+(m.clientTop+parseFloat(b.paddingTop))*w.y;l*=w.x,c*=w.y,d*=w.x,h*=w.y,l+=g,c+=x,y=fs(m),m=y.frameElement}}return iy({width:d,height:h,x:l,y:c})}const Cle=[":popover-open",":modal"];function Cb(t){return Cle.some(e=>{try{return t.matches(e)}catch{return!1}})}function _le(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Qo(r),a=e?Cb(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=Wa(1);const d=Wa(0),h=io(r);if((h||!h&&!i)&&((Oh(r)!=="body"||Rf(o))&&(l=H1(r)),io(r))){const u=fc(r);c=Qd(r),d.x=u.x+r.clientLeft,d.y=u.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x,y:n.y*c.y-l.scrollTop*c.y+d.y}}function Ele(t){return Array.from(t.getClientRects())}function LL(t){return fc(Qo(t)).left+H1(t).scrollLeft}function Ile(t){const e=Qo(t),n=H1(t),r=t.ownerDocument.body,s=rs(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=rs(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+LL(t);const a=-n.scrollTop;return wi(r).direction==="rtl"&&(o+=rs(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function Ple(t,e){const n=fs(t),r=Qo(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=vb();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function zle(t,e){const n=fc(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=io(t)?Qd(t):Wa(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function pk(t,e,n){let r;if(e==="viewport")r=Ple(t,n);else if(e==="document")r=Ile(Qo(t));else if(so(e))r=zle(e,n);else{const s=TL(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return iy(r)}function ML(t,e){const n=Ua(t);return n===e||!so(n)||mh(n)?!1:wi(n).position==="fixed"||ML(n,e)}function Ale(t,e){const n=e.get(t);if(n)return n;let r=Yp(t,[],!1).filter(a=>so(a)&&Oh(a)!=="body"),s=null;const i=wi(t).position==="fixed";let o=i?Ua(t):t;for(;so(o)&&!mh(o);){const a=wi(o),l=bb(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Rf(o)&&!l&&ML(t,o))?r=r.filter(d=>d!==o):s=a,o=Ua(o)}return e.set(t,r),r}function Nle(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Cb(e)?[]:Ale(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,d)=>{const h=pk(e,d,s);return c.top=rs(h.top,c.top),c.right=Fi(h.right,c.right),c.bottom=Fi(h.bottom,c.bottom),c.left=rs(h.left,c.left),c},pk(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Tle(t){const{width:e,height:n}=NL(t);return{width:e,height:n}}function Lle(t,e,n){const r=io(e),s=Qo(e),i=n==="fixed",o=fc(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=Wa(0);if(r||!r&&!i)if((Oh(e)!=="body"||Rf(s))&&(a=H1(e)),r){const h=fc(e,!0,i,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else s&&(l.x=LL(s));const c=o.left+a.scrollLeft-l.x,d=o.top+a.scrollTop-l.y;return{x:c,y:d,width:o.width,height:o.height}}function i5(t){return wi(t).position==="static"}function fk(t,e){return!io(t)||wi(t).position==="fixed"?null:e?e(t):t.offsetParent}function jL(t,e){const n=fs(t);if(Cb(t))return n;if(!io(t)){let s=Ua(t);for(;s&&!mh(s);){if(so(s)&&!i5(s))return s;s=Ua(s)}return n}let r=fk(t,e);for(;r&&Sle(r)&&i5(r);)r=fk(r,e);return r&&mh(r)&&i5(r)&&!bb(r)?n:r||ble(t)||n}const Mle=async function(t){const e=this.getOffsetParent||jL,n=this.getDimensions,r=await n(t.floating);return{reference:Lle(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function jle(t){return wi(t).direction==="rtl"}const Rle={convertOffsetParentRelativeRectToViewportRelativeRect:_le,getDocumentElement:Qo,getClippingRect:Nle,getOffsetParent:jL,getElementRects:Mle,getClientRects:Ele,getDimensions:Tle,getScale:Qd,isElement:so,isRTL:jle};function $le(t,e){let n=null,r;const s=Qo(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const{left:c,top:d,width:h,height:u}=t.getBoundingClientRect();if(a||e(),!h||!u)return;const p=e0(d),y=e0(s.clientWidth-(c+h)),m=e0(s.clientHeight-(d+u)),w=e0(c),b={rootMargin:-p+"px "+-y+"px "+-m+"px "+-w+"px",threshold:rs(0,Fi(1,l))||1};let g=!0;function x(k){const C=k[0].intersectionRatio;if(C!==l){if(!g)return o();C?o(!1,C):r=setTimeout(()=>{o(!1,1e-7)},1e3)}g=!1}try{n=new IntersectionObserver(x,{...b,root:s.ownerDocument})}catch{n=new IntersectionObserver(x,b)}n.observe(t)}return o(!0),i}function Ole(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=kb(t),d=s||i?[...c?Yp(c):[],...Yp(e)]:[];d.forEach(S=>{s&&S.addEventListener("scroll",n,{passive:!0}),i&&S.addEventListener("resize",n)});const h=c&&a?$le(c,n):null;let u=-1,p=null;o&&(p=new ResizeObserver(S=>{let[b]=S;b&&b.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(u),u=requestAnimationFrame(()=>{var g;(g=p)==null||g.observe(e)})),n()}),c&&!l&&p.observe(c),p.observe(e));let y,m=l?fc(t):null;l&&w();function w(){const S=fc(t);m&&(S.x!==m.x||S.y!==m.y||S.width!==m.width||S.height!==m.height)&&n(),m=S,y=requestAnimationFrame(w)}return n(),()=>{var S;d.forEach(b=>{s&&b.removeEventListener("scroll",n),i&&b.removeEventListener("resize",n)}),h==null||h(),(S=p)==null||S.disconnect(),p=null,l&&cancelAnimationFrame(y)}}const Dle=mle,qle=yle,Ble=ple,Fle=wle,Kle=fle,gk=ule,Wle=xle,Ule=(t,e,n)=>{const r=new Map,s={platform:Rle,...n},i={...s.platform,_c:r};return hle(t,e,{...s,platform:i})};var K0=typeof document<"u"?v.useLayoutEffect:v.useEffect;function oy(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!oy(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!oy(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function RL(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function mk(t,e){const n=RL(t);return Math.round(e*n)/n}function yk(t){const e=v.useRef(t);return K0(()=>{e.current=t}),e}function Vle(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,h]=v.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[u,p]=v.useState(r);oy(u,r)||p(r);const[y,m]=v.useState(null),[w,S]=v.useState(null),b=v.useCallback(X=>{X!==C.current&&(C.current=X,m(X))},[]),g=v.useCallback(X=>{X!==_.current&&(_.current=X,S(X))},[]),x=i||y,k=o||w,C=v.useRef(null),_=v.useRef(null),E=v.useRef(d),z=l!=null,P=yk(l),A=yk(s),N=v.useCallback(()=>{if(!C.current||!_.current)return;const X={placement:e,strategy:n,middleware:u};A.current&&(X.platform=A.current),Ule(C.current,_.current,X).then(O=>{const K={...O,isPositioned:!0};L.current&&!oy(E.current,K)&&(E.current=K,Ec.flushSync(()=>{h(K)}))})},[u,e,n,A]);K0(()=>{c===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,h(X=>({...X,isPositioned:!1})))},[c]);const L=v.useRef(!1);K0(()=>(L.current=!0,()=>{L.current=!1}),[]),K0(()=>{if(x&&(C.current=x),k&&(_.current=k),x&&k){if(P.current)return P.current(x,k,N);N()}},[x,k,N,P,z]);const M=v.useMemo(()=>({reference:C,floating:_,setReference:b,setFloating:g}),[b,g]),q=v.useMemo(()=>({reference:x,floating:k}),[x,k]),D=v.useMemo(()=>{const X={position:n,left:0,top:0};if(!q.floating)return X;const O=mk(q.floating,d.x),K=mk(q.floating,d.y);return a?{...X,transform:"translate("+O+"px, "+K+"px)",...RL(q.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:O,top:K}},[n,a,q.floating,d.x,d.y]);return v.useMemo(()=>({...d,update:N,refs:M,elements:q,floatingStyles:D}),[d,N,M,q,D])}const Xle=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?gk({element:r.current,padding:s}).fn(n):{}:r?gk({element:r,padding:s}).fn(n):{}}}},Yle=(t,e)=>({...Dle(t),options:[t,e]}),Hle=(t,e)=>({...qle(t),options:[t,e]}),Gle=(t,e)=>({...Wle(t),options:[t,e]}),Zle=(t,e)=>({...Ble(t),options:[t,e]}),Qle=(t,e)=>({...Fle(t),options:[t,e]}),Jle=(t,e)=>({...Kle(t),options:[t,e]}),ece=(t,e)=>({...Xle(t),options:[t,e]});function $L(t){const[e,n]=v.useState(void 0);return pc(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}const OL="Popper",[DL,G1]=uo(OL),[tce,qL]=DL(OL),nce=t=>{const{__scopePopper:e,children:n}=t,[r,s]=v.useState(null);return v.createElement(tce,{scope:e,anchor:r,onAnchorChange:s},n)},rce="PopperAnchor",sce=v.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=qL(rce,n),o=v.useRef(null),a=kt(e,o);return v.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:v.createElement(mt.div,re({},s,{ref:a}))}),BL="PopperContent",[ice,Hwe]=DL(BL),oce=v.forwardRef((t,e)=>{var n,r,s,i,o,a,l,c;const{__scopePopper:d,side:h="bottom",sideOffset:u=0,align:p="center",alignOffset:y=0,arrowPadding:m=0,avoidCollisions:w=!0,collisionBoundary:S=[],collisionPadding:b=0,sticky:g="partial",hideWhenDetached:x=!1,updatePositionStrategy:k="optimized",onPlaced:C,..._}=t,E=qL(BL,d),[z,P]=v.useState(null),A=kt(e,Ke=>P(Ke)),[N,L]=v.useState(null),M=$L(N),q=(n=M==null?void 0:M.width)!==null&&n!==void 0?n:0,D=(r=M==null?void 0:M.height)!==null&&r!==void 0?r:0,X=h+(p!=="center"?"-"+p:""),O=typeof b=="number"?b:{top:0,right:0,bottom:0,left:0,...b},K=Array.isArray(S)?S:[S],W=K.length>0,G={padding:O,boundary:K.filter(ace),altBoundary:W},{refs:J,floatingStyles:ye,placement:Le,isPositioned:ne,middlewareData:ve}=Vle({strategy:"fixed",placement:X,whileElementsMounted:(...Ke)=>Ole(...Ke,{animationFrame:k==="always"}),elements:{reference:E.anchor},middleware:[Yle({mainAxis:u+D,alignmentAxis:y}),w&&Hle({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?Gle():void 0,...G}),w&&Zle({...G}),Qle({...G,apply:({elements:Ke,rects:He,availableWidth:bs,availableHeight:Vs})=>{const{width:ul,height:ra}=He.reference,sa=Ke.floating.style;sa.setProperty("--radix-popper-available-width",`${bs}px`),sa.setProperty("--radix-popper-available-height",`${Vs}px`),sa.setProperty("--radix-popper-anchor-width",`${ul}px`),sa.setProperty("--radix-popper-anchor-height",`${ra}px`)}}),N&&ece({element:N,padding:m}),lce({arrowWidth:q,arrowHeight:D}),x&&Jle({strategy:"referenceHidden",...G})]}),[Ie,rt]=FL(Le),Pe=gr(C);pc(()=>{ne&&(Pe==null||Pe())},[ne,Pe]);const $e=(s=ve.arrow)===null||s===void 0?void 0:s.x,Ce=(i=ve.arrow)===null||i===void 0?void 0:i.y,Je=((o=ve.arrow)===null||o===void 0?void 0:o.centerOffset)!==0,[Ct,Jt]=v.useState();return pc(()=>{z&&Jt(window.getComputedStyle(z).zIndex)},[z]),v.createElement("div",{ref:J.setFloating,"data-radix-popper-content-wrapper":"",style:{...ye,transform:ne?ye.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ct,"--radix-popper-transform-origin":[(a=ve.transformOrigin)===null||a===void 0?void 0:a.x,(l=ve.transformOrigin)===null||l===void 0?void 0:l.y].join(" ")},dir:t.dir},v.createElement(ice,{scope:d,placedSide:Ie,onArrowChange:L,arrowX:$e,arrowY:Ce,shouldHideArrow:Je},v.createElement(mt.div,re({"data-side":Ie,"data-align":rt},_,{ref:A,style:{..._.style,animation:ne?void 0:"none",opacity:(c=ve.hide)!==null&&c!==void 0&&c.referenceHidden?0:void 0}}))))});function ace(t){return t!==null}const lce=t=>({name:"transformOrigin",options:t,fn(e){var n,r,s,i,o;const{placement:a,rects:l,middlewareData:c}=e,h=((n=c.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,u=h?0:t.arrowWidth,p=h?0:t.arrowHeight,[y,m]=FL(a),w={start:"0%",center:"50%",end:"100%"}[m],S=((r=(s=c.arrow)===null||s===void 0?void 0:s.x)!==null&&r!==void 0?r:0)+u/2,b=((i=(o=c.arrow)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0)+p/2;let g="",x="";return y==="bottom"?(g=h?w:`${S}px`,x=`${-p}px`):y==="top"?(g=h?w:`${S}px`,x=`${l.floating.height+p}px`):y==="right"?(g=`${-p}px`,x=h?w:`${b}px`):y==="left"&&(g=`${l.floating.width+p}px`,x=h?w:`${b}px`),{data:{x:g,y:x}}}});function FL(t){const[e,n="center"]=t.split("-");return[e,n]}const _b=nce,KL=sce,WL=oce,o5="rovingFocusGroup.onEntryFocus",cce={bubbles:!1,cancelable:!0},Eb="RovingFocusGroup",[v3,UL,dce]=O1(Eb),[hce,VL]=uo(Eb,[dce]),[uce,pce]=hce(Eb),fce=v.forwardRef((t,e)=>v.createElement(v3.Provider,{scope:t.__scopeRovingFocusGroup},v.createElement(v3.Slot,{scope:t.__scopeRovingFocusGroup},v.createElement(gce,re({},t,{ref:e}))))),gce=v.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,...d}=t,h=v.useRef(null),u=kt(e,h),p=yb(i),[y=null,m]=sl({prop:o,defaultProp:a,onChange:l}),[w,S]=v.useState(!1),b=gr(c),g=UL(n),x=v.useRef(!1),[k,C]=v.useState(0);return v.useEffect(()=>{const _=h.current;if(_)return _.addEventListener(o5,b),()=>_.removeEventListener(o5,b)},[b]),v.createElement(uce,{scope:n,orientation:r,dir:p,loop:s,currentTabStopId:y,onItemFocus:v.useCallback(_=>m(_),[m]),onItemShiftTab:v.useCallback(()=>S(!0),[]),onFocusableItemAdd:v.useCallback(()=>C(_=>_+1),[]),onFocusableItemRemove:v.useCallback(()=>C(_=>_-1),[])},v.createElement(mt.div,re({tabIndex:w||k===0?-1:0,"data-orientation":r},d,{ref:u,style:{outline:"none",...t.style},onMouseDown:pe(t.onMouseDown,()=>{x.current=!0}),onFocus:pe(t.onFocus,_=>{const E=!x.current;if(_.target===_.currentTarget&&E&&!w){const z=new CustomEvent(o5,cce);if(_.currentTarget.dispatchEvent(z),!z.defaultPrevented){const P=g().filter(q=>q.focusable),A=P.find(q=>q.active),N=P.find(q=>q.id===y),M=[A,N,...P].filter(Boolean).map(q=>q.ref.current);XL(M)}}x.current=!1}),onBlur:pe(t.onBlur,()=>S(!1))})))}),mce="RovingFocusGroupItem",yce=v.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,a=Mo(),l=i||a,c=pce(mce,n),d=c.currentTabStopId===l,h=UL(n),{onFocusableItemAdd:u,onFocusableItemRemove:p}=c;return v.useEffect(()=>{if(r)return u(),()=>p()},[r,u,p]),v.createElement(v3.ItemSlot,{scope:n,id:l,focusable:r,active:s},v.createElement(mt.span,re({tabIndex:d?0:-1,"data-orientation":c.orientation},o,{ref:e,onMouseDown:pe(t.onMouseDown,y=>{r?c.onItemFocus(l):y.preventDefault()}),onFocus:pe(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:pe(t.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){c.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const m=Sce(y,c.orientation,c.dir);if(m!==void 0){y.preventDefault();let S=h().filter(b=>b.focusable).map(b=>b.ref.current);if(m==="last")S.reverse();else if(m==="prev"||m==="next"){m==="prev"&&S.reverse();const b=S.indexOf(y.currentTarget);S=c.loop?bce(S,b+1):S.slice(b+1)}setTimeout(()=>XL(S))}})})))}),xce={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function wce(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Sce(t,e,n){const r=wce(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return xce[r]}function XL(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function bce(t,e){return t.map((n,r)=>t[(e+r)%t.length])}const vce=fce,kce=yce,k3=["Enter"," "],Cce=["ArrowDown","PageUp","Home"],YL=["ArrowUp","PageDown","End"],_ce=[...Cce,...YL],Ece={ltr:[...k3,"ArrowRight"],rtl:[...k3,"ArrowLeft"]},Ice={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Z1="Menu",[Hp,Pce,zce]=O1(Z1),[Pc,Q1]=uo(Z1,[zce,G1,VL]),J1=G1(),HL=VL(),[GL,il]=Pc(Z1),[Ace,$f]=Pc(Z1),Nce=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=t,a=J1(e),[l,c]=v.useState(null),d=v.useRef(!1),h=gr(i),u=yb(s);return v.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),v.createElement(_b,a,v.createElement(GL,{scope:e,open:n,onOpenChange:h,content:l,onContentChange:c},v.createElement(Ace,{scope:e,onClose:v.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:u,modal:o},r)))},ZL=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=J1(n);return v.createElement(KL,re({},s,r,{ref:e}))}),QL="MenuPortal",[Tce,JL]=Pc(QL,{forceMount:void 0}),Lce=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=il(QL,e);return v.createElement(Tce,{scope:e,forceMount:n},v.createElement(bi,{present:n||i.open},v.createElement(q1,{asChild:!0,container:s},r)))},fi="MenuContent",[Mce,Ib]=Pc(fi),jce=v.forwardRef((t,e)=>{const n=JL(fi,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=il(fi,t.__scopeMenu),o=$f(fi,t.__scopeMenu);return v.createElement(Hp.Provider,{scope:t.__scopeMenu},v.createElement(bi,{present:r||i.open},v.createElement(Hp.Slot,{scope:t.__scopeMenu},o.modal?v.createElement(Rce,re({},s,{ref:e})):v.createElement($ce,re({},s,{ref:e})))))}),Rce=v.forwardRef((t,e)=>{const n=il(fi,t.__scopeMenu),r=v.useRef(null),s=kt(e,r);return v.useEffect(()=>{const i=r.current;if(i)return lb(i)},[]),v.createElement(Pb,re({},t,{ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:pe(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)}))}),$ce=v.forwardRef((t,e)=>{const n=il(fi,t.__scopeMenu);return v.createElement(Pb,re({},t,{ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)}))}),Pb=v.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:u,onDismiss:p,disableOutsideScroll:y,...m}=t,w=il(fi,n),S=$f(fi,n),b=J1(n),g=HL(n),x=Pce(n),[k,C]=v.useState(null),_=v.useRef(null),E=kt(e,_,w.onContentChange),z=v.useRef(0),P=v.useRef(""),A=v.useRef(0),N=v.useRef(null),L=v.useRef("right"),M=v.useRef(0),q=y?ab:v.Fragment,D=y?{as:uc,allowPinchZoom:!0}:void 0,X=K=>{var W,G;const J=P.current+K,ye=x().filter(Pe=>!Pe.disabled),Le=document.activeElement,ne=(W=ye.find(Pe=>Pe.ref.current===Le))===null||W===void 0?void 0:W.textValue,ve=ye.map(Pe=>Pe.textValue),Ie=Zce(ve,J,ne),rt=(G=ye.find(Pe=>Pe.textValue===Ie))===null||G===void 0?void 0:G.ref.current;(function Pe($e){P.current=$e,window.clearTimeout(z.current),$e!==""&&(z.current=window.setTimeout(()=>Pe(""),1e3))})(J),rt&&setTimeout(()=>rt.focus())};v.useEffect(()=>()=>window.clearTimeout(z.current),[]),ob();const O=v.useCallback(K=>{var W,G;return L.current===((W=N.current)===null||W===void 0?void 0:W.side)&&Jce(K,(G=N.current)===null||G===void 0?void 0:G.area)},[]);return v.createElement(Mce,{scope:n,searchRef:P,onItemEnter:v.useCallback(K=>{O(K)&&K.preventDefault()},[O]),onItemLeave:v.useCallback(K=>{var W;O(K)||((W=_.current)===null||W===void 0||W.focus(),C(null))},[O]),onTriggerLeave:v.useCallback(K=>{O(K)&&K.preventDefault()},[O]),pointerGraceTimerRef:A,onPointerGraceIntentChange:v.useCallback(K=>{N.current=K},[])},v.createElement(q,D,v.createElement(ib,{asChild:!0,trapped:s,onMountAutoFocus:pe(i,K=>{var W;K.preventDefault(),(W=_.current)===null||W===void 0||W.focus()}),onUnmountAutoFocus:o},v.createElement(D1,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:u,onDismiss:p},v.createElement(vce,re({asChild:!0},g,{dir:S.dir,orientation:"vertical",loop:r,currentTabStopId:k,onCurrentTabStopIdChange:C,onEntryFocus:pe(l,K=>{S.isUsingKeyboardRef.current||K.preventDefault()})}),v.createElement(WL,re({role:"menu","aria-orientation":"vertical","data-state":iM(w.open),"data-radix-menu-content":"",dir:S.dir},b,m,{ref:E,style:{outline:"none",...m.style},onKeyDown:pe(m.onKeyDown,K=>{const G=K.target.closest("[data-radix-menu-content]")===K.currentTarget,J=K.ctrlKey||K.altKey||K.metaKey,ye=K.key.length===1;G&&(K.key==="Tab"&&K.preventDefault(),!J&&ye&&X(K.key));const Le=_.current;if(K.target!==Le||!_ce.includes(K.key))return;K.preventDefault();const ve=x().filter(Ie=>!Ie.disabled).map(Ie=>Ie.ref.current);YL.includes(K.key)&&ve.reverse(),Hce(ve)}),onBlur:pe(t.onBlur,K=>{K.currentTarget.contains(K.target)||(window.clearTimeout(z.current),P.current="")}),onPointerMove:pe(t.onPointerMove,Gp(K=>{const W=K.target,G=M.current!==K.clientX;if(K.currentTarget.contains(W)&&G){const J=K.clientX>M.current?"right":"left";L.current=J,M.current=K.clientX}}))})))))))}),Oce=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return v.createElement(mt.div,re({role:"group"},r,{ref:e}))}),C3="MenuItem",xk="menu.itemSelect",eM=v.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=v.useRef(null),o=$f(C3,t.__scopeMenu),a=Ib(C3,t.__scopeMenu),l=kt(e,i),c=v.useRef(!1),d=()=>{const h=i.current;if(!n&&h){const u=new CustomEvent(xk,{bubbles:!0,cancelable:!0});h.addEventListener(xk,p=>r==null?void 0:r(p),{once:!0}),nb(h,u),u.defaultPrevented?c.current=!1:o.onClose()}};return v.createElement(tM,re({},s,{ref:l,disabled:n,onClick:pe(t.onClick,d),onPointerDown:h=>{var u;(u=t.onPointerDown)===null||u===void 0||u.call(t,h),c.current=!0},onPointerUp:pe(t.onPointerUp,h=>{var u;c.current||(u=h.currentTarget)===null||u===void 0||u.click()}),onKeyDown:pe(t.onKeyDown,h=>{const u=a.searchRef.current!=="";n||u&&h.key===" "||k3.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})}))}),tM=v.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,o=Ib(C3,n),a=HL(n),l=v.useRef(null),c=kt(e,l),[d,h]=v.useState(!1),[u,p]=v.useState("");return v.useEffect(()=>{const y=l.current;if(y){var m;p(((m=y.textContent)!==null&&m!==void 0?m:"").trim())}},[i.children]),v.createElement(Hp.ItemSlot,{scope:n,disabled:r,textValue:s??u},v.createElement(kce,re({asChild:!0},a,{focusable:!r}),v.createElement(mt.div,re({role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0},i,{ref:c,onPointerMove:pe(t.onPointerMove,Gp(y=>{r?o.onItemLeave(y):(o.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus())})),onPointerLeave:pe(t.onPointerLeave,Gp(y=>o.onItemLeave(y))),onFocus:pe(t.onFocus,()=>h(!0)),onBlur:pe(t.onBlur,()=>h(!1))}))))}),Dce=v.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return v.createElement(Bce,{scope:t.__scopeMenu,checked:n},v.createElement(eM,re({role:"menuitemcheckbox","aria-checked":ay(n)?"mixed":n},s,{ref:e,"data-state":oM(n),onSelect:pe(s.onSelect,()=>r==null?void 0:r(ay(n)?!0:!n),{checkForDefaultPrevented:!1})})))}),qce="MenuRadioGroup";Pc(qce,{value:void 0,onValueChange:()=>{}});const nM="MenuItemIndicator",[Bce,Fce]=Pc(nM,{checked:!1}),Kce=v.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=Fce(nM,n);return v.createElement(bi,{present:r||ay(i.checked)||i.checked===!0},v.createElement(mt.span,re({},s,{ref:e,"data-state":oM(i.checked)})))}),rM="MenuSub",[Wce,sM]=Pc(rM),Uce=t=>{const{__scopeMenu:e,children:n,open:r=!1,onOpenChange:s}=t,i=il(rM,e),o=J1(e),[a,l]=v.useState(null),[c,d]=v.useState(null),h=gr(s);return v.useEffect(()=>(i.open===!1&&h(!1),()=>h(!1)),[i.open,h]),v.createElement(_b,o,v.createElement(GL,{scope:e,open:r,onOpenChange:h,content:c,onContentChange:d},v.createElement(Wce,{scope:e,contentId:Mo(),triggerId:Mo(),trigger:a,onTriggerChange:l},n)))},t0="MenuSubTrigger",Vce=v.forwardRef((t,e)=>{const n=il(t0,t.__scopeMenu),r=$f(t0,t.__scopeMenu),s=sM(t0,t.__scopeMenu),i=Ib(t0,t.__scopeMenu),o=v.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=i,c={__scopeMenu:t.__scopeMenu},d=v.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return v.useEffect(()=>d,[d]),v.useEffect(()=>{const h=a.current;return()=>{window.clearTimeout(h),l(null)}},[a,l]),v.createElement(ZL,re({asChild:!0},c),v.createElement(tM,re({id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":iM(n.open)},t,{ref:$1(e,s.onTriggerChange),onClick:h=>{var u;(u=t.onClick)===null||u===void 0||u.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:pe(t.onPointerMove,Gp(h=>{i.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:pe(t.onPointerLeave,Gp(h=>{var u;d();const p=(u=n.content)===null||u===void 0?void 0:u.getBoundingClientRect();if(p){var y;const m=(y=n.content)===null||y===void 0?void 0:y.dataset.side,w=m==="right",S=w?-5:5,b=p[w?"left":"right"],g=p[w?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+S,y:h.clientY},{x:b,y:p.top},{x:g,y:p.top},{x:g,y:p.bottom},{x:b,y:p.bottom}],side:m}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:pe(t.onKeyDown,h=>{const u=i.searchRef.current!=="";if(!(t.disabled||u&&h.key===" ")&&Ece[r.dir].includes(h.key)){var p;n.onOpenChange(!0),(p=n.content)===null||p===void 0||p.focus(),h.preventDefault()}})})))}),Xce="MenuSubContent",Yce=v.forwardRef((t,e)=>{const n=JL(fi,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=il(fi,t.__scopeMenu),o=$f(fi,t.__scopeMenu),a=sM(Xce,t.__scopeMenu),l=v.useRef(null),c=kt(e,l);return v.createElement(Hp.Provider,{scope:t.__scopeMenu},v.createElement(bi,{present:r||i.open},v.createElement(Hp.Slot,{scope:t.__scopeMenu},v.createElement(Pb,re({id:a.contentId,"aria-labelledby":a.triggerId},s,{ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;o.isUsingKeyboardRef.current&&((h=l.current)===null||h===void 0||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:pe(t.onFocusOutside,d=>{d.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:pe(t.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:pe(t.onKeyDown,d=>{const h=d.currentTarget.contains(d.target),u=Ice[o.dir].includes(d.key);if(h&&u){var p;i.onOpenChange(!1),(p=a.trigger)===null||p===void 0||p.focus(),d.preventDefault()}})})))))});function iM(t){return t?"open":"closed"}function ay(t){return t==="indeterminate"}function oM(t){return ay(t)?"indeterminate":t?"checked":"unchecked"}function Hce(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function Gce(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function Zce(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=Gce(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function Qce(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,c=e[o].x,d=e[o].y;l>r!=d>r&&n<(c-a)*(r-l)/(d-l)+a&&(s=!s)}return s}function Jce(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return Qce(n,e)}function Gp(t){return e=>e.pointerType==="mouse"?t(e):void 0}const aM=Nce,lM=ZL,cM=Lce,dM=jce,hM=Oce,uM=eM,pM=Dce,ede=Kce,fM=Uce,gM=Vce,mM=Yce,yM="DropdownMenu",[tde,Gwe]=uo(yM,[Q1]),vi=Q1(),[nde,xM]=tde(yM),rde=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:a=!0}=t,l=vi(e),c=v.useRef(null),[d=!1,h]=sl({prop:s,defaultProp:i,onChange:o});return v.createElement(nde,{scope:e,triggerId:Mo(),triggerRef:c,contentId:Mo(),open:d,onOpenChange:h,onOpenToggle:v.useCallback(()=>h(u=>!u),[h]),modal:a},v.createElement(aM,re({},l,{open:d,onOpenChange:h,dir:r,modal:a}),n))},sde="DropdownMenuTrigger",ide=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=xM(sde,n),o=vi(n);return v.createElement(lM,re({asChild:!0},o),v.createElement(mt.button,re({type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r},s,{ref:$1(e,i.triggerRef),onPointerDown:pe(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:pe(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})))}),ode=t=>{const{__scopeDropdownMenu:e,...n}=t,r=vi(e);return v.createElement(cM,re({},r,n))},ade="DropdownMenuContent",lde=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=xM(ade,n),i=vi(n),o=v.useRef(!1);return v.createElement(dM,re({id:s.contentId,"aria-labelledby":s.triggerId},i,r,{ref:e,onCloseAutoFocus:pe(t.onCloseAutoFocus,a=>{var l;o.current||(l=s.triggerRef.current)===null||l===void 0||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:pe(t.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;(!s.modal||d)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),cde=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=vi(n);return v.createElement(hM,re({},s,r,{ref:e}))}),dde=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=vi(n);return v.createElement(uM,re({},s,r,{ref:e}))}),hde=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=vi(n);return v.createElement(pM,re({},s,r,{ref:e}))}),ude=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=vi(n);return v.createElement(ede,re({},s,r,{ref:e}))}),pde=t=>{const{__scopeDropdownMenu:e,children:n,open:r,onOpenChange:s,defaultOpen:i}=t,o=vi(e),[a=!1,l]=sl({prop:r,defaultProp:i,onChange:s});return v.createElement(fM,re({},o,{open:a,onOpenChange:l}),n)},fde=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=vi(n);return v.createElement(gM,re({},s,r,{ref:e}))}),gde=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=vi(n);return v.createElement(mM,re({},s,r,{ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),wM=rde,Zp=ide,zb=ode,SM=lde,mde=cde,fd=dde,bM=hde,yde=ude,xde=pde,wde=fde,Sde=gde;function zc(t,e){const n=Y(),r=v.useRef(!1),s=jh(),i=v.useRef(0),o=v.useCallback(l=>{const c=Date.now();c-i.current<50||(i.current=c,r.current=l,n.batch(()=>{l?(n.complete(),n.addOpenMenu(t)):n.updateInstanceState({openMenus:n.getOpenMenus().filter(d=>!d.startsWith(t))}),e==null||e(l)}))},[n,t,e]),a=Q("is menu open",()=>n.getOpenMenus().includes(t),[n,t]);return v.useEffect(()=>(r.current&&(s("open-menu",{source:"unknown",id:t}),n.addOpenMenu(t)),()=>{r.current&&(n.deleteOpenMenu(t),n.getOpenMenus().forEach(l=>{l.startsWith(t)&&(s("close-menu",{source:"unknown",id:t}),n.deleteOpenMenu(l))}),r.current=!1)}),[n,t,s]),[a,o]}function Va({id:t,children:e,modal:n=!1,debugOpen:r=!1}){const[s,i]=zc(t);return f.jsx(wM,{open:r||s,dir:"ltr",modal:n,onOpenChange:i,children:e})}function Of({children:t,"data-testid":e}){return f.jsx(Zp,{dir:"ltr","data-testid":e,asChild:!0,onTouchEnd:n=>Ge(n),children:t})}function Xa({side:t="bottom",align:e="start",sideOffset:n=8,alignOffset:r=8,children:s}){const i=bn();return f.jsx(zb,{container:i,children:f.jsx(SM,{className:"tlui-menu",align:e,sideOffset:n,side:t,alignOffset:r,collisionPadding:4,children:s})})}function Ab({id:t,children:e}){const[n,r]=zc(t);return f.jsx(xde,{open:n,onOpenChange:r,children:e})}function Nb({label:t,"data-testid":e,"data-direction":n}){return f.jsx(wde,{dir:"ltr","data-direction":n,"data-testid":e,asChild:!0,children:f.jsx(ge,{type:"menu",className:"tlui-menu__submenu__trigger",label:t,icon:"chevron-right"})})}function Tb({alignOffset:t=0,sideOffset:e=5,children:n}){const r=bn();return f.jsx(zb,{container:r,children:f.jsx(Sde,{className:"tlui-menu tlui-menu__submenu__content",alignOffset:t,sideOffset:e,collisionPadding:4,children:n})})}function jo({children:t,size:e="medium"}){return f.jsx(mde,{dir:"ltr",className:"tlui-menu__group","data-size":e,children:t})}function ss({noClose:t,...e}){return f.jsx(fd,{dir:"ltr",asChild:!0,onClick:t||e.isChecked!==void 0?Ge:void 0,children:f.jsx(ge,{...e})})}function vM({children:t,onSelect:e,...n}){return f.jsxs(bM,{dir:"ltr",className:"tlui-button tlui-button__menu tlui-button__checkbox",onSelect:r=>{e==null||e(r),Ge(r)},...n,children:[f.jsx(Dr,{small:!0,icon:n.checked?"check":"checkbox-empty"}),t]})}function bde({children:t,onSelect:e,...n}){return f.jsxs(bM,{dir:"ltr",className:"tlui-button tlui-button__menu tlui-button__checkbox",onSelect:r=>{e==null||e(r),Ge(r)},...n,children:[f.jsx("div",{className:"tlui-button__checkbox__indicator",children:f.jsx(yde,{dir:"ltr",children:f.jsx(Dr,{icon:"check",small:!0})})}),t]})}let wk=0;function vde(t,e){const n=Array(e),r=Math.floor(Math.sqrt(e));for(let s=0;s<e;s++)wk++,n[s]={id:at("box"+wk),type:"geo",x:s%r*132,y:Math.floor(s/r)*132};t.batch(()=>{t.createShapes(n).setSelectedShapes(n.map(s=>s.id))})}const kde=v.memo(function({renderDebugMenuItems:e}){const n=Ue();return f.jsxs("div",{className:"tlui-debug-panel",children:[f.jsx(Cde,{}),f.jsx(_de,{}),f.jsxs(Va,{id:"debug",children:[f.jsx(Of,{children:f.jsx(ge,{type:"icon",icon:"dots-horizontal",title:n("debug-panel.more")})}),f.jsx(Xa,{side:"top",align:"end",alignOffset:0,children:f.jsx(Ede,{renderDebugMenuItems:e})})]})]})}),Cde=Ye(function(){const e=Y();return f.jsx("div",{className:"tlui-debug-panel__current-state",children:e.getPath()})}),_de=function(){const e=Y(),n=Q("rendering shapes count",()=>e.getRenderingShapes().length,[e]);return f.jsxs("div",{children:[n," Shapes"]})},Ede=Ye(function({renderDebugMenuItems:e}){const n=Y(),{addToast:r}=po(),{addDialog:s}=Ic(),[i,o]=v.useState(!1);return f.jsxs(f.Fragment,{children:[f.jsxs(jo,{children:[f.jsx(ss,{type:"menu",onClick:()=>{r({id:pt(),title:"Something happened",description:"Hey, attend to this thing over here. It might be important!",keepOpen:!0}),r({id:pt(),title:"Something happened",description:"Hey, attend to this thing over here. It might be important!",keepOpen:!0,actions:[{label:"Primary",type:"primary",onClick:()=>{}},{label:"Normal",type:"normal",onClick:()=>{}},{label:"Danger",type:"danger",onClick:()=>{}}]}),r({id:pt(),title:"Something happened",description:"Hey, attend to this thing over here. It might be important!",keepOpen:!0,icon:"twitter",actions:[{label:"Primary",type:"primary",onClick:()=>{}},{label:"Normal",type:"normal",onClick:()=>{}},{label:"Danger",type:"danger",onClick:()=>{}}]})},label:"Show toast"}),f.jsx(ss,{type:"menu",onClick:()=>{s({component:({onClose:a})=>f.jsx(Pde,{displayDontShowAgain:!0,onCancel:()=>{a()},onContinue:()=>{a()}}),onClose:()=>{}})},label:"Show dialog"}),f.jsx(ss,{type:"menu",onClick:()=>vde(n,100),label:"Create 100 shapes"}),f.jsx(ss,{type:"menu",onClick:()=>{function a({children:u}){let p=0;if(!u.length)return 0;for(const y of[...u])p++,p+=a(y);return p}const l=n.getSelectedShapes(),c=l.length===0?n.getRenderingShapes():l,d=c.map(u=>document.getElementById(u.id).parentElement);let h=d.length;for(const u of d)h+=a(u);window.alert(`Shapes ${c.length}, DOM nodes:${h}`)},label:"Count shapes / nodes"}),(()=>{if(i)throw Error("oh no!")})(),f.jsx(ss,{type:"menu",onClick:()=>{o(!0)},label:"Throw error"}),f.jsx(ss,{type:"menu",onClick:()=>{UE()},label:"Hard reset"})]}),f.jsxs(jo,{children:[f.jsx(yu,{flag:wt.debugSvg}),f.jsx(yu,{flag:wt.forceSrgb}),f.jsx(yu,{flag:wt.debugGeometry}),f.jsx(yu,{flag:wt.hideShapes})]}),f.jsx(jo,{children:Object.values(IB).map(a=>f.jsx(yu,{flag:a},a.name))}),e==null?void 0:e()]})});function Ide({label:t,value:e,onChange:n}){return f.jsx(vM,{title:t,checked:e,onSelect:()=>n(!e),children:f.jsx("span",{className:"tlui-button__label",draggable:!1,children:t})})}const yu=Ye(function({flag:e,onChange:n}){return f.jsx(Ide,{label:e.name.replace(/([a-z0-9])([A-Z])/g,r=>`${r[0]} ${r[1].toLowerCase()}`).replace(/^[a-z]/,r=>r.toUpperCase()),value:e.get(),onChange:r=>{e.set(r),n==null||n(r)}})});function Pde({title:t="title",body:e="hello hello hello",cancel:n="Cancel",confirm:r="Continue",displayDontShowAgain:s=!1,onCancel:i,onContinue:o}){const[a,l]=v.useState(!1);return f.jsxs(f.Fragment,{children:[f.jsxs(U1,{children:[f.jsx(V1,{children:t}),f.jsx(X1,{})]}),f.jsx(Vp,{style:{maxWidth:350},children:e}),f.jsxs(cb,{className:"tlui-dialog__footer__actions",children:[s&&f.jsx(ge,{type:"normal",onClick:()=>l(!a),iconLeft:a?"check":"checkbox-empty",style:{marginRight:"auto"},children:"Don't show again"}),f.jsx(ge,{type:"normal",onClick:i,children:n}),f.jsx(ge,{type:"primary",onClick:async()=>o(),children:r})]})]})}const zde=({id:t,component:e,onClose:n})=>{const{removeDialog:r}=Ic(),s=bn(),i=v.useCallback(o=>{if(!o){if(n)try{n()}catch(a){console.warn(a)}r(t)}},[t,n,r]);return f.jsx(Qoe,{onOpenChange:i,defaultOpen:!0,children:f.jsx(Joe,{container:s,children:f.jsx(eae,{dir:"ltr",className:"tlui-dialog__overlay",children:f.jsx(tae,{dir:"ltr",className:"tlui-dialog__content",children:f.jsx(e,{onClose:()=>i(!1)})})})})})};function Ade(){const{dialogs:t}=Ic();return f.jsx(f.Fragment,{children:t.map(e=>f.jsx(zde,{...e},e.id))})}const Nde=ie.memo(Ade);function Tde(){const t=Y(),e=Q("follow",()=>t.getInstanceState().followingUserId,[t]);return e?f.jsx(Lde,{userId:e}):null}function Lde({userId:t}){const e=gI(t);return e?f.jsx("div",{className:"tlui-following-indicator",style:{borderColor:e.color}}):null}function kM(){const t=Y(),{languages:e,currentLanguage:n}=bL(),r=v.useCallback(s=>t.user.updateUserPreferences({locale:s}),[t]);return f.jsxs(Ab,{id:"help menu language",children:[f.jsx(Nb,{label:"menu.language","data-direction":"left"}),f.jsx(Tb,{sideOffset:-4,children:f.jsx(jo,{children:e.map(({locale:s,label:i})=>f.jsx(bde,{title:s,checked:s===n,onSelect:()=>r(s),children:f.jsx("span",{className:"tlui-button__label",children:i})},s))})})]})}const Mde=v.memo(function(){const e=bn(),n=Ue(),[r,s]=zc("help menu");return f.jsx("div",{className:"tlui-help-menu",children:f.jsxs(wM,{dir:"ltr",open:r,onOpenChange:s,modal:!1,children:[f.jsx(Zp,{asChild:!0,dir:"ltr",children:f.jsx(ge,{type:"help",className:"tlui-button",smallIcon:!0,title:n("help-menu.title"),icon:"question-mark"})}),f.jsx(zb,{container:e,children:f.jsx(SM,{className:"tlui-menu",side:"top",sideOffset:8,align:"end",alignOffset:0,collisionPadding:4,children:f.jsx(jde,{})})})]})})});function jde(){const t=Wae(),e=Ws();function n(r){if(!r||e&&!r.readonlyOk)return null;switch(r.type){case"custom":{if(r.id==="LANGUAGE_MENU")return f.jsx(kM,{},"item");break}case"group":return f.jsx(jo,{size:"small",children:r.children.map(n)},r.id);case"submenu":return f.jsxs(Ab,{id:`help menu ${r.id}`,children:[f.jsx(Nb,{label:r.label}),f.jsx(Tb,{children:r.children.map(n)})]},r.id);case"item":{const{id:s,kbd:i,label:o,onSelect:a,icon:l}=r.actionItem;return f.jsx(ss,{type:"menu",kbd:i,label:o,onClick:()=>a("help-menu"),iconLeft:l},s)}}}return f.jsx(f.Fragment,{children:t.map(n)})}const CM="Popover",[_M,Zwe]=uo(CM,[G1]),Lb=G1(),[Rde,Dh]=_M(CM),$de=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!1}=t,a=Lb(e),l=v.useRef(null),[c,d]=v.useState(!1),[h=!1,u]=sl({prop:r,defaultProp:s,onChange:i});return v.createElement(_b,a,v.createElement(Rde,{scope:e,contentId:Mo(),triggerRef:l,open:h,onOpenChange:u,onOpenToggle:v.useCallback(()=>u(p=>!p),[u]),hasCustomAnchor:c,onCustomAnchorAdd:v.useCallback(()=>d(!0),[]),onCustomAnchorRemove:v.useCallback(()=>d(!1),[]),modal:o},n))},Ode="PopoverTrigger",Dde=v.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Dh(Ode,n),i=Lb(n),o=kt(e,s.triggerRef),a=v.createElement(mt.button,re({type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":PM(s.open)},r,{ref:o,onClick:pe(t.onClick,s.onOpenToggle)}));return s.hasCustomAnchor?a:v.createElement(KL,re({asChild:!0},i),a)}),EM="PopoverPortal",[qde,Bde]=_M(EM,{forceMount:void 0}),Fde=t=>{const{__scopePopover:e,forceMount:n,children:r,container:s}=t,i=Dh(EM,e);return v.createElement(qde,{scope:e,forceMount:n},v.createElement(bi,{present:n||i.open},v.createElement(q1,{asChild:!0,container:s},r)))},Qp="PopoverContent",Kde=v.forwardRef((t,e)=>{const n=Bde(Qp,t.__scopePopover),{forceMount:r=n.forceMount,...s}=t,i=Dh(Qp,t.__scopePopover);return v.createElement(bi,{present:r||i.open},i.modal?v.createElement(Wde,re({},s,{ref:e})):v.createElement(Ude,re({},s,{ref:e})))}),Wde=v.forwardRef((t,e)=>{const n=Dh(Qp,t.__scopePopover),r=v.useRef(null),s=kt(e,r),i=v.useRef(!1);return v.useEffect(()=>{const o=r.current;if(o)return lb(o)},[]),v.createElement(ab,{as:uc,allowPinchZoom:!0},v.createElement(IM,re({},t,{ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:pe(t.onCloseAutoFocus,o=>{var a;o.preventDefault(),i.current||(a=n.triggerRef.current)===null||a===void 0||a.focus()}),onPointerDownOutside:pe(t.onPointerDownOutside,o=>{const a=o.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,c=a.button===2||l;i.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:pe(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})))}),Ude=v.forwardRef((t,e)=>{const n=Dh(Qp,t.__scopePopover),r=v.useRef(!1),s=v.useRef(!1);return v.createElement(IM,re({},t,{ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o;if((o=t.onCloseAutoFocus)===null||o===void 0||o.call(t,i),!i.defaultPrevented){var a;r.current||(a=n.triggerRef.current)===null||a===void 0||a.focus(),i.preventDefault()}r.current=!1,s.current=!1},onInteractOutside:i=>{var o,a;(o=t.onInteractOutside)===null||o===void 0||o.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=i.target;((a=n.triggerRef.current)===null||a===void 0?void 0:a.contains(l))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}}))}),IM=v.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:d,...h}=t,u=Dh(Qp,n),p=Lb(n);return ob(),v.createElement(ib,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i},v.createElement(D1,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>u.onOpenChange(!1)},v.createElement(WL,re({"data-state":PM(u.open),role:"dialog",id:u.contentId},p,h,{ref:e,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}}))))});function PM(t){return t?"open":"closed"}const Vde=$de,Xde=Dde,zM=Fde,AM=Kde,Mb=({id:t,children:e,onOpenChange:n,open:r})=>{const[s,i]=zc(t,n);return f.jsx(Vde,{onOpenChange:i,open:r||s,children:f.jsx("div",{className:"tlui-popover",children:e})})},jb=({children:t,disabled:e,"data-testid":n})=>f.jsx(Xde,{"data-testid":n,disabled:e,asChild:!0,dir:"ltr",children:t}),NM=({side:t,children:e,align:n="center",sideOffset:r=8,alignOffset:s=0})=>{const i=bn();return f.jsx(zM,{container:i,children:f.jsx(AM,{className:"tlui-popover__content",side:t,sideOffset:r,align:n,alignOffset:s,dir:"ltr",children:e})})},TM=v.memo(function(){const e=Ue(),n=bn(),r=Rae(),s=Ws();function i(o){if(!o||s&&!o.readonlyOk)return null;switch(o.type){case"item":{const{id:a,icon:l,label:c,kbd:d,onSelect:h}=o.actionItem;return f.jsx(ge,{"data-testid":`menu-item.${o.id}`,icon:l,type:"icon",title:c?d?`${e(c)} ${ro(d)}`:`${e(c)}`:d?`${ro(d)}`:"",onClick:()=>h("actions-menu"),disabled:o.disabled},a)}}}return f.jsxs(Mb,{id:"actions-menu",children:[f.jsx(jb,{children:f.jsx(ge,{className:"tlui-menu__trigger","data-testid":"main.action-menu",icon:"dots-vertical",title:e("actions-menu.title"),type:"icon",smallIcon:!0})}),f.jsx(zM,{container:n,children:f.jsx(AM,{className:"tlui-popover__content",side:"bottom",dir:"ltr",sideOffset:6,children:f.jsx("div",{className:"tlui-actions-menu tlui-buttons__grid",children:r.map(i)})})})]})}),LM=Ye(function(){const e=Y(),n=Wn(),r=Ue(),s=n.duplicate;return f.jsx(ge,{icon:s.icon,type:"icon",onClick:()=>s.onSelect("quick-actions"),disabled:!(e.isIn("select")&&e.getSelectedShapeIds().length>0),title:`${r(s.label)} ${ro(s.kbd)}`,smallIcon:!0})}),Yde=v.memo(function(){const e=Ue();return f.jsxs(Va,{id:"main menu",children:[f.jsx(Of,{children:f.jsx(ge,{type:"icon",className:"tlui-menu__trigger","data-testid":"main.menu",title:e("menu.title"),icon:"menu",smallIcon:!0})}),f.jsx(Xa,{alignOffset:0,sideOffset:6,children:f.jsx(Hde,{})})]})});function Hde(){const t=Y(),e=Ue(),n=Vae(),r=Us(),s=Ws();function i(o,a,l,c){if(!a)return null;switch(a.type){case"custom":return s&&!a.readonlyOk?null:a.id==="LANGUAGE_MENU"?f.jsx(kM,{},"item"):null;case"group":return s&&!a.readonlyOk?null:f.jsx(jo,{size:c<=1?"medium":r<3||(l==null?void 0:l.type)==="submenu"&&c>2?"tiny":"medium",children:a.children.map(d=>i(o,d,a,c+1))},a.id);case"submenu":return s&&!a.readonlyOk?null:f.jsxs(Ab,{id:`main menu ${l?l.id+" ":""}${a.id}`,children:[f.jsx(Nb,{label:a.label,"data-testid":`menu-item.${a.id}`}),f.jsx(Tb,{sideOffset:-4,alignOffset:-1,children:a.children.map(d=>i(o,d,a,c+1))})]},a.id);case"item":{if(s&&!a.readonlyOk)return null;const{id:d,checkbox:h,menuLabel:u,label:p,onSelect:y,kbd:m}=a.actionItem,w=u??p,S=w?e(w):void 0;return h?f.jsxs(vM,{onSelect:()=>y("menu"),title:S||"",checked:a.checked,disabled:a.disabled,children:[S&&f.jsx("span",{className:"tlui-button__label",children:S}),m&&f.jsx(K1,{children:m})]},d):f.jsx(ss,{type:"menu","data-testid":`menu-item.${a.id}`,kbd:m,label:w,onClick:()=>y("menu"),disabled:a.disabled},d)}}}return f.jsx(f.Fragment,{children:n.map(o=>i(t,o,null,0))})}const Gde=function({name:e,id:n,isCurrentPage:r}){const s=Y(),i=v.useRef(null),o=v.useCallback(l=>{s.renamePage(n,l||"New Page",{ephemeral:!0})},[s,n]),a=v.useCallback(l=>{s.mark("rename page"),s.renamePage(n,l||"New Page",{ephemeral:!1})},[s,n]);return f.jsx(db,{className:"tlui-page-menu__item__input",ref:l=>i.current=l,defaultValue:e,onValueChange:o,onComplete:a,onCancel:a,shouldManuallyMaintainScrollPositionWhenFocused:!0,autofocus:r,autoselect:!0})},_3=(t,e,n,r)=>{let s;const i=t.getPages(),o=n>r?i[r-1]:i[r],a=n>r?i[r]:i[r+1];o&&!a?s=vo(o.index):!o&&a?s=HU(i[0].index):s=Yu(o.index,a.index),s!==i[n].index&&(t.mark("moving page"),t.updatePage({id:e,index:s}))},Sk=Ye(function({index:e,listSize:n,item:r,onRename:s}){const i=Y(),o=Ue(),a=i.getPages(),l=v.useCallback(()=>{i.mark("creating page");const u=$o.createId();i.duplicatePage(r.id,u)},[i,r]),c=v.useCallback(()=>{_3(i,r.id,e,e-1)},[i,r,e]),d=v.useCallback(()=>{_3(i,r.id,e,e+1)},[i,r,e]),h=v.useCallback(()=>{i.mark("deleting page"),i.deletePage(r.id)},[i,r]);return f.jsxs(Va,{id:`page item submenu ${e}`,children:[f.jsx(Of,{children:f.jsx(ge,{type:"icon",title:o("page-menu.submenu.title"),icon:"dots-vertical"})}),f.jsxs(Xa,{alignOffset:0,children:[f.jsxs(jo,{children:[s&&f.jsx(fd,{dir:"ltr",onSelect:s,asChild:!0,children:f.jsx(ge,{type:"menu",label:"page-menu.submenu.rename"})}),f.jsx(fd,{dir:"ltr",onSelect:l,disabled:a.length>=fm,asChild:!0,children:f.jsx(ge,{type:"menu",label:"page-menu.submenu.duplicate-page"})}),e>0&&f.jsx(fd,{dir:"ltr",onSelect:c,asChild:!0,children:f.jsx(ge,{type:"menu",label:"page-menu.submenu.move-up"})}),e<n-1&&f.jsx(fd,{dir:"ltr",onSelect:d,asChild:!0,children:f.jsx(ge,{type:"menu",label:"page-menu.submenu.move-down"})})]}),n>1&&f.jsx(jo,{children:f.jsx(fd,{dir:"ltr",onSelect:h,asChild:!0,children:f.jsx(ge,{type:"menu",label:"page-menu.submenu.delete"})})})]})]})}),Zde=function(){const e=Y(),n=Ue(),r=Us(),s=v.useCallback(()=>w(!1),[]),[i,o]=zc("page-menu",s),a=36,l=v.useRef(null),c=Q("pages",()=>e.getPages(),[e]),d=Q("currentPage",()=>e.getCurrentPage(),[e]),h=Q("currentPageId",()=>e.getCurrentPageId(),[e]),u=Ws(),p=Q("maxPageCountReached",()=>e.getPages().length>=fm,[e]),y=Q("isCoarsePointer",()=>e.getInstanceState().isCoarsePointer,[e]),[m,w]=v.useState(!1),S=v.useCallback(()=>{u||w(P=>!P)},[u]),b=v.useRef({isPointing:!1,status:"idle",pointing:null,startY:0,startIndex:0,dragIndex:0}),[g,x]=v.useState(Object.fromEntries(c.map((P,A)=>[P.id,{y:A*a,offsetY:0,isSelected:!1}])));v.useLayoutEffect(()=>{x(Object.fromEntries(c.map((P,A)=>[P.id,{y:A*a,offsetY:0,isSelected:!1}])))},[a,c]),v.useEffect(()=>{i&&requestAnimationFrame(()=>{const P=document.querySelector(`[data-testid="page-menu-item-${h}"]`);if(P){const A=l.current;if(!A)return;const N=P.offsetTop,L=A.scrollTop;N<L&&A.scrollTo({top:N});const M=N+a,q=A.scrollTop+A.offsetHeight;M>q&&A.scrollTo({top:M-A.offsetHeight})}})},[a,h,i]);const k=v.useCallback(P=>{const{clientY:A,currentTarget:N}=P,{dataset:{id:L,index:M}}=N;if(!L||!M)return;const q=b.current;mf(P.currentTarget,P),q.status="pointing",q.pointing={id:L,index:+M};const X=g[L].y;q.startY=A,q.startIndex=Math.max(0,Math.min(Math.round(X/a),c.length-1))},[a,c.length,g]),C=v.useCallback(P=>{const A=b.current;if(A.status==="pointing"){const{clientY:N}=P,L=N-A.startY;Math.abs(L)>5&&(A.status="dragging")}if(A.status==="dragging"){const{clientY:N}=P,L=N-A.startY,M=g[A.pointing.id],{startIndex:q,pointing:D}=A,X=M.y+L,O=Math.max(0,Math.min(Math.round(X/a),c.length-1)),K={...g};if(K[D.id]={y:M.y,offsetY:L,isSelected:!0},O!==A.dragIndex){A.dragIndex=O;for(let W=0;W<c.length;W++){const G=c[W];if(G.id===A.pointing.id)continue;let{y:J}=K[G.id];O===q?J=W*a:O<q?O<=W&&W<q?J=(W+1)*a:J=W*a:O>q&&(O>=W&&W>q?J=(W-1)*a:J=W*a),J!==K[G.id].y&&(K[G.id]={y:J,offsetY:0,isSelected:!0})}}x(K)}},[a,c,g]),_=v.useCallback(P=>{const A=b.current;if(A.status==="dragging"){const{id:N,index:L}=A.pointing;_3(e,N,L,A.dragIndex)}yf(P.currentTarget,P),A.status="idle"},[e]),E=v.useCallback(P=>{const A=b.current;P.key==="Escape"&&(A.status==="dragging"&&x(Object.fromEntries(c.map((N,L)=>[N.id,{y:L*a,offsetY:0,isSelected:!1}]))),A.status="idle")},[a,c]),z=v.useCallback(()=>{u||e.batch(()=>{e.mark("creating page");const P=$o.createId();e.createPage({name:n("page-menu.new-page-initial-name"),id:P}),e.setCurrentPage(P),w(!0)})},[e,n,u]);return f.jsxs(Mb,{id:"pages",onOpenChange:o,open:i,children:[f.jsx(jb,{children:f.jsx(ge,{className:"tlui-page-menu__trigger tlui-menu__trigger","data-testid":"main.page-menu",icon:"chevron-down",type:"menu",title:d.name,children:f.jsx("div",{className:"tlui-page-menu__name",children:d.name})})}),f.jsx(NM,{side:"bottom",align:"start",sideOffset:6,children:f.jsxs("div",{className:"tlui-page-menu__wrapper",children:[f.jsxs("div",{className:"tlui-page-menu__header",children:[f.jsx("div",{className:"tlui-page-menu__header__title",children:n("page-menu.title")}),!u&&f.jsxs("div",{className:"tlui-buttons__horizontal",children:[f.jsx(ge,{type:"icon","data-testid":"page-menu.edit",title:n(m?"page-menu.edit-done":"page-menu.edit-start"),icon:m?"check":"edit",onClick:S}),f.jsx(ge,{type:"icon","data-testid":"page-menu.create",icon:"plus",title:n(p?"page-menu.max-page-count-reached":"page-menu.create-new-page"),disabled:p,onClick:z})]})]}),f.jsx("div",{className:"tlui-page-menu__list tlui-menu__group",style:{height:a*c.length+4},ref:l,children:c.map((P,A)=>{const N=g[P.id]??{position:A*40,offsetY:0};return m?f.jsxs("div",{"data-testid":`page-menu-item-${P.id}`,className:"tlui-page_menu__item__sortable",style:{zIndex:P.id===d.id?888:A,transform:`translate(0px, ${N.y+N.offsetY}px)`},children:[f.jsx(ge,{type:"icon",tabIndex:-1,className:"tlui-page_menu__item__sortable__handle",icon:"drag-handle-dots",onPointerDown:k,onPointerUp:_,onPointerMove:C,onKeyDown:E,"data-id":P.id,"data-index":A}),r<5&&y?f.jsx(ge,{type:"normal",className:"tlui-page-menu__item__button",onClick:()=>{const L=window.prompt("Rename page",P.name);L&&L!==P.name&&e.renamePage(P.id,L)},onDoubleClick:S,isChecked:P.id===d.id,children:f.jsx("span",{children:P.name})}):f.jsx("div",{className:"tlui-page_menu__item__sortable__title",style:{height:a},children:f.jsx(Gde,{id:P.id,name:P.name,isCurrentPage:P.id===d.id})}),!u&&f.jsx("div",{className:"tlui-page_menu__item__submenu","data-isediting":m,children:f.jsx(Sk,{index:A,item:P,listSize:c.length})})]},P.id+"_editing"):f.jsxs("div",{"data-testid":`page-menu-item-${P.id}`,className:"tlui-page-menu__item",children:[f.jsxs(ge,{type:"icon",className:"tlui-page-menu__item__button tlui-page-menu__item__button__checkbox",onClick:()=>e.setCurrentPage(P.id),onDoubleClick:S,isChecked:P.id===d.id,title:n("page-menu.go-to-page"),children:[f.jsx("div",{className:"tlui-page-menu__item__button__check",children:P.id===d.id&&f.jsx(Dr,{icon:"check"})}),f.jsx("span",{children:P.name})]}),!u&&f.jsx("div",{className:"tlui-page_menu__item__submenu",children:f.jsx(Sk,{index:A,item:P,listSize:c.length,onRename:()=>{if(e.environment.isIos){const L=window.prompt("Rename page",P.name);L&&L!==P.name&&e.renamePage(P.id,L)}else e.batch(()=>{w(!0),e.setCurrentPage(P.id)})}})})]},P.id)})})]})})]})},MM=v.memo(function(){const e=Ue(),n=kL(),s=Wn().redo;return f.jsx(ge,{"data-testid":"main.redo",icon:s.icon,type:"icon",title:`${e(s.label)} ${ro(s.kbd)}`,disabled:!n,onClick:()=>s.onSelect("quick-actions"),smallIcon:!0})}),jM=Ye(function(){const e=Y(),n=Wn(),r=Ue(),s=n.delete;return Ws()?null:f.jsx(ge,{icon:s.icon,type:"icon",onClick:()=>s.onSelect("quick-actions"),disabled:!(e.isIn("select")&&e.getSelectedShapeIds().length>0),title:`${r(s.label)} ${ro(s.kbd)}`,smallIcon:!0})}),RM=v.memo(function(){const e=Ue(),n=CL(),s=Wn().undo;return f.jsx(ge,{"data-testid":"main.undo",icon:s.icon,type:"icon",title:`${e(s.label)} ${ro(s.kbd)}`,disabled:!n,onClick:()=>s.onSelect("quick-actions"),smallIcon:!0})}),Qde=Ye(function(){const e=Y(),n=Us(),r=Ws();return f.jsx("div",{className:"tlui-menu-zone",children:f.jsxs("div",{className:"tlui-buttons__horizontal",children:[f.jsx(Yde,{}),f.jsx(Zde,{}),n>=6&&!r&&!e.isInAny("hand","zoom")&&f.jsxs(f.Fragment,{children:[f.jsx(RM,{}),f.jsx(MM,{}),f.jsx(jM,{}),f.jsx(LM,{}),f.jsx(TM,{})]})]})})});function Jde(t,e){const[n,r]=ie.useState(e);ie.useLayoutEffect(()=>{const i=localStorage.getItem(t);if(i)try{r(JSON.parse(i))}catch{console.error(`Could not restore value ${t} from local storage.`)}},[t]);const s=ie.useCallback(i=>{r(o=>{const a=typeof i=="function"?i(o):i;return localStorage.setItem(t,JSON.stringify(a)),a})},[t]);return[n,s]}class ap{constructor(e){this.editor=e,this.dpr=1,this.colors={shapeFill:"rgba(144, 144, 144, .1)",selectFill:"#2f80ed",viewportFill:"rgba(144, 144, 144, .1)"},this.id=pt(),this.cvs=null,this.pageBounds=[],this.collaborators=[],this.canvasScreenBounds=new fe,this.canvasPageBounds=new fe,this.contentPageBounds=new fe,this.contentScreenBounds=new fe,this.originPagePoint=new I,this.originPageCenter=new I,this.isInViewport=!1,this.debug=!1,this.updateContentScreenBounds=()=>{const{contentScreenBounds:n,contentPageBounds:r,canvasScreenBounds:s}=this;let{x:i,y:o,w:a,h:l}=n;if(r.w>r.h){const c=s.w/(r.w/r.h);c>s.h?(i=(s.w-s.w*(s.h/c))/2,o=0,a=s.w*(s.h/c),l=s.h):(i=0,o=(s.h-c)/2,a=s.w,l=c)}else if(r.w<r.h){const c=s.h/(r.h/r.w);i=(s.w-c)/2,o=0,a=c,l=s.h}else i=s.h/2,o=0,a=s.h,l=s.h;n.set(i,o,a,l)},this.updateCanvasPageBounds=()=>{const{canvasPageBounds:n,canvasScreenBounds:r,contentPageBounds:s,contentScreenBounds:i}=this;n.set(0,0,s.width/(i.width/r.width),s.height/(i.height/r.height)),n.center=s.center},this.getScreenPoint=(n,r)=>{const{canvasScreenBounds:s}=this,i=(n-s.minX)*this.dpr,o=(r-s.minY)*this.dpr;return{x:i,y:o}},this.getPagePoint=(n,r)=>{const{contentPageBounds:s,contentScreenBounds:i,canvasPageBounds:o}=this,{x:a,y:l}=this.getScreenPoint(n,r);return new I(o.minX+a*s.width/i.width,o.minY+l*s.height/i.height,1)},this.minimapScreenPointToPagePoint=(n,r,s=!1,i=!1)=>{const{editor:o}=this,a=o.getViewportPageBounds();let{x:l,y:c}=this.getPagePoint(n,r);if(i){const d=this.editor.getCurrentPageBounds(),h=a,u=((d==null?void 0:d.minX)??0)-h.width/2,p=((d==null?void 0:d.maxX)??0)+h.width/2,y=((d==null?void 0:d.minY)??0)-h.height/2,m=((d==null?void 0:d.maxY)??0)+h.height/2,w=Math.max(0,u+h.width-l),S=Math.max(0,-(p-h.width-l)),b=Math.max(0,y+h.height-c),g=Math.max(0,-(m-h.height-c)),x=Math.max(0,w-S),k=Math.max(0,S-w),C=Math.max(0,b-g),_=Math.max(0,g-b);x&&x>k?l+=x/2:k&&(l-=k/2),C&&C>_?c+=C/2:_&&(c-=_/2),l=cn(l,u,p),c=cn(c,y,m)}if(s){const{originPagePoint:d}=this,h=Math.abs(l-d.x),u=Math.abs(c-d.y);h>u?c=d.y:l=d.x}return new I(l,c)},this.render=()=>{const{cvs:n,pageBounds:r}=this;this.updateCanvasPageBounds();const{editor:s,canvasScreenBounds:i,canvasPageBounds:o,contentPageBounds:a,contentScreenBounds:l}=this,{width:c,height:d}=i,h=s.getSelectedShapeIds(),u=s.getViewportPageBounds();if(!n||!r)return;const p=n.getContext("2d");if(!p)throw new Error("Minimap (shapes): Could not get context");p.resetTransform(),p.globalAlpha=1,p.clearRect(0,0,c,d);const y=l.width/a.width,m=l.height/a.height;p.translate((c-l.width)/2,(d-l.height)/2),p.scale(y,m),p.translate(-a.minX,-a.minY);const w=8/y,S=8/y,b=1/y,g=1/y,x=w/4,k=S/4,C=new Path2D,_=new Path2D,{shapeFill:E,selectFill:z,viewportFill:P}=this.colors;let A;for(let D=0,X=r.length;D<X;D++)A=r[D],ap.roundedRect(h.includes(A.id)?_:C,A.minX,A.minY,A.width,A.height,cn(w,b,A.width/x),cn(S,g,A.height/k));if(p.fillStyle=E,p.fill(C),p.fillStyle=z,p.fill(_),this.debug){const D=fe.Common(r),{minX:X,minY:O,width:K,height:W}=D;p.strokeStyle="green",p.lineWidth=2/y,p.strokeRect(X+1/y,O+1/m,K-2/y,W-2/m)}{const{brush:D}=s.getInstanceState();if(D){const{x:X,y:O,w:K,h:W}=D;p.beginPath(),ap.sharpRect(p,X,O,K,W),p.closePath(),p.fillStyle=P,p.fill()}}{const{minX:D,minY:X,width:O,height:K}=u;p.beginPath();const W=12/y,G=12/y;ap.roundedRect(p,D,X,O,K,Math.min(O/4,W),Math.min(K/4,G)),p.closePath(),p.fillStyle=P,p.fill(),this.debug&&(p.strokeStyle="orange",p.strokeRect(D+1/y,X+1/m,O-2/y,K-2/m))}const N=2.5/y,L=2.5/m,M=s.getCurrentPageId();let q;for(let D=0;D<this.collaborators.length;D++)q=this.collaborators[D],q.currentPageId===M&&(p.beginPath(),p.ellipse(cn(q.cursor.x,o.minX+N,o.maxX-N),cn(q.cursor.y,o.minY+L,o.maxY-L),5/y,5/m,0,0,nt),p.fillStyle=q.color,p.fill());if(this.debug){p.lineWidth=2/y;{const{minX:D,minY:X,width:O,height:K}=a;p.strokeStyle="red",p.strokeRect(D+1/y,X+1/m,O-2/y,K-2/m)}{const{minX:D,minY:X,width:O,height:K}=o;p.strokeStyle="blue",p.strokeRect(D+1/y,X+1/m,O-2/y,K-2/m)}}}}setDpr(e){this.dpr=+e.toFixed(2)}static roundedRect(e,n,r,s,i,o,a){if(o<1&&a<1){e.rect(n,r,s,i);return}e.moveTo(n+o,r),e.lineTo(n+s-o,r),e.quadraticCurveTo(n+s,r,n+s,r+a),e.lineTo(n+s,r+i-a),e.quadraticCurveTo(n+s,r+i,n+s-o,r+i),e.lineTo(n+o,r+i),e.quadraticCurveTo(n,r+i,n,r+i-a),e.lineTo(n,r+a),e.quadraticCurveTo(n,r,n+o,r)}static sharpRect(e,n,r,s,i,o,a){e.rect(n,r,s,i)}}function ehe({shapeFill:t,selectFill:e,viewportFill:n}){const r=Y(),s=v.useRef(null),i=v.useRef(!1),o=Dy(),a=$_("dpr",()=>r.getInstanceState().devicePixelRatio,[r]),l=v.useMemo(()=>r.store.query.records("instance_presence"),[r]),c=v.useMemo(()=>new ap(r),[r]);v.useEffect(()=>{const y=requestAnimationFrame(()=>{const m=getComputedStyle(r.getContainer());c.colors={shapeFill:m.getPropertyValue(t).trim(),selectFill:m.getPropertyValue(e).trim(),viewportFill:m.getPropertyValue(n).trim()},c.render()});return()=>{cancelAnimationFrame(y)}},[r,e,t,n,c,o]);const d=v.useCallback(y=>{if(!r.getCurrentPageShapeIds().size)return;const m=c.minimapScreenPointToPagePoint(y.clientX,y.clientY,!1,!1),w=c.minimapScreenPointToPagePoint(y.clientX,y.clientY,!1,!0);c.originPagePoint.setTo(w),c.originPageCenter.setTo(r.getViewportPageBounds().center),r.centerOnPoint(m,{duration:Eo})},[r,c]),h=v.useCallback(y=>{const m=y.currentTarget;if(mf(m,y),!r.getCurrentPageShapeIds().size)return;i.current=!0,c.isInViewport=!1;const w=c.minimapScreenPointToPagePoint(y.clientX,y.clientY,!1,!1),S=c.minimapScreenPointToPagePoint(y.clientX,y.clientY,!1,!0),b=r.getViewportPageBounds();if(c.isInViewport=b.containsPoint(S),c.isInViewport)c.originPagePoint.setTo(S),c.originPageCenter.setTo(b.center);else{const x=I.Sub(b.center,b.point),k=I.Add(w,x);c.originPagePoint.setTo(k),c.originPageCenter.setTo(w),r.centerOnPoint(w,{duration:Eo})}function g(x){m&&yf(m,x),i.current=!1,document.body.removeEventListener("pointerup",g)}document.body.addEventListener("pointerup",g)},[r,c]),u=v.useCallback(y=>{const m=c.minimapScreenPointToPagePoint(y.clientX,y.clientY,y.shiftKey,!0);if(i.current){if(c.isInViewport){const g=c.originPagePoint.clone().sub(c.originPageCenter);r.centerOnPoint(I.Sub(m,g));return}r.centerOnPoint(m)}const w=c.getPagePoint(y.clientX,y.clientY),S=r.pageToScreen(w),b={type:"pointer",target:"canvas",name:"pointer_move",...Lr(y),point:S,isPen:r.getInstanceState().isPenMode};r.dispatch(b)},[r,c]),p=v.useCallback(y=>{const m=oI(y);r.dispatch({type:"wheel",name:"wheel",delta:m,point:new I(y.clientX,y.clientY),shiftKey:y.shiftKey,altKey:y.altKey,ctrlKey:y.metaKey||y.ctrlKey})},[r]);return Zl("update when dpr changes",()=>{const y=a.get();c.setDpr(y);const m=s.current,w=m.getBoundingClientRect(),S=w.width*y,b=w.height*y;m.width=S,m.height=b,c.canvasScreenBounds.set(w.x,w.y,S,b),c.cvs=s.current},[a,c]),Zl("minimap render when pagebounds or collaborators changes",()=>{const y=r.getCurrentPageShapeIds(),m=r.getCurrentPageBounds(),w=r.getViewportPageBounds();a.get(),c.contentPageBounds=m?fe.Expand(m,w):w,c.updateContentScreenBounds();const S=[];y.forEach(b=>{let g=r.getShapePageBounds(b);if(!g)return;const x=r.getShapeMask(b);if(x){const k=Q5(x,g.corners);if(!k)return;g=fe.FromPoints(k)}g&&(g.id=b,S.push(g))}),c.pageBounds=S,c.collaborators=l.get(),c.render()},[r,c]),f.jsx("div",{className:"tlui-minimap",children:f.jsx("canvas",{ref:s,className:"tlui-minimap__canvas",onDoubleClick:d,onPointerMove:u,onPointerDown:h,onWheel:p})})}const a5=Ye(function(){const e=Y(),n=Ue(),r=Us(),s=e.getZoomLevel(),i=e.getCurrentPageShapeIds().size>0,o=e.getSelectedShapeIds().length>0,a=e.getZoomLevel()===1,l=v.useCallback(()=>{e.resetZoom(e.getViewportScreenCenter(),{duration:Eo})},[e]);return f.jsxs(Va,{id:"zoom",children:[f.jsx(Of,{children:f.jsx(ge,{type:"icon",title:`${n("navigation-zone.zoom")}`,"data-testid":"minimap.zoom-menu",className:r<5?"tlui-zoom-menu__button":"tlui-zoom-menu__button__pct",onDoubleClick:l,icon:r<4?"zoom-in":void 0,children:r<4?null:f.jsxs("span",{style:{flexGrow:0,textAlign:"center"},children:[Math.floor(s*100),"%"]})})}),f.jsx(Xa,{side:"top",align:"start",alignOffset:0,children:f.jsxs(jo,{children:[f.jsx(xu,{action:"zoom-in","data-testid":"minimap.zoom-menu.zoom-in",noClose:!0}),f.jsx(xu,{action:"zoom-out","data-testid":"minimap.zoom-menu.zoom-out",noClose:!0}),f.jsx(xu,{action:"zoom-to-100","data-testid":"minimap.zoom-menu.zoom-to-100",noClose:!0,disabled:a}),f.jsx(xu,{action:"zoom-to-fit",disabled:!i,"data-testid":"minimap.zoom-menu.zoom-to-fit",noClose:!0}),f.jsx(xu,{action:"zoom-to-selection",disabled:!o,"data-testid":"minimap.zoom-menu.zoom-to-selection",noClose:!0})]})})]})});function xu(t){const{action:e,disabled:n=!1,noClose:r=!1}=t,s=Wn();return f.jsx(ss,{type:"menu",label:s[e].label,kbd:s[e].kbd,"data-testid":t["data-testid"],onClick:()=>s[e].onSelect("zoom-menu"),noClose:r,disabled:n})}const the=v.memo(function(){const e=Wn(),n=Ue(),r=Us(),[s,i]=Jde("minimap",!0),o=v.useCallback(()=>{i(a=>!a)},[i]);return r<4?null:f.jsxs("div",{className:"tlui-navigation-zone",children:[f.jsx("div",{className:"tlui-buttons__horizontal",children:r<6?f.jsx(a5,{}):s?f.jsxs(f.Fragment,{children:[f.jsx(a5,{}),f.jsx(ge,{type:"icon",icon:s?"chevrons-ne":"chevrons-sw","data-testid":"minimap.toggle",title:n("navigation-zone.toggle-minimap"),className:"tlui-navigation-zone__toggle",onClick:o})]}):f.jsxs(f.Fragment,{children:[f.jsx(ge,{type:"icon",icon:"minus","data-testid":"minimap.zoom-out",title:`${n(e["zoom-out"].label)} ${ro(e["zoom-out"].kbd)}`,onClick:()=>e["zoom-out"].onSelect("navigation-zone")}),f.jsx(a5,{}),f.jsx(ge,{type:"icon",icon:"plus","data-testid":"minimap.zoom-in",title:`${n(e["zoom-in"].label)} ${ro(e["zoom-in"].kbd)}`,onClick:()=>e["zoom-in"].onSelect("navigation-zone")}),f.jsx(ge,{type:"icon",icon:s?"chevrons-ne":"chevrons-sw","data-testid":"minimap.toggle",title:n("navigation-zone.toggle-minimap"),className:"tlui-navigation-zone__toggle",onClick:o})]})}),r>=6&&!s&&f.jsx(ehe,{viewportFill:"--color-muted-1",selectFill:"--color-selected",shapeFill:"--color-text-3"})]})}),nhe=Ye(function(){const n=Y().getInstanceState().isPenMode,r=Wn();if(!n)return null;const s=r["exit-pen-mode"];return f.jsx(ge,{type:"normal",label:s.label,iconLeft:s.icon,onClick:()=>s.onSelect("helper-buttons")})}),rhe=Ye(function(){const e=Y(),n=Wn();if(!e.getInstanceState().followingUserId)return null;const r=n["stop-following"];return f.jsx(ge,{type:"normal",label:r.label,iconLeft:r.icon,onClick:()=>r.onSelect("people-menu")})}),she=[Fn,ic,sh,to];function $M(){const t=Y();return Q("getRelevantStyles",()=>{var r;const e=new J5(t.getSharedStyles()),n=t.getSelectedShapeIds().length>0||!!((r=t.root.getCurrent())!=null&&r.shapeType);if(e.size===0&&t.isIn("select")&&t.getSelectedShapeIds().length===0)for(const s of she)e.applyValue(s,t.getStyleForNextShape(s));return e.size===0&&!n?null:{styles:e,opacity:t.getSharedOpacity()}},[t])}function ihe(t){const{uiType:e,items:n,title:r,style:s,value:i,onValueChange:o}=t,a=Y(),l=Ue(),c=v.useRef(!1),{handleButtonClick:d,handleButtonPointerDown:h,handleButtonPointerEnter:u,handleButtonPointerUp:p}=v.useMemo(()=>{const m=()=>{c.current=!1,window.removeEventListener("pointerup",m)};return{handleButtonClick:x=>{const{id:k}=x.currentTarget.dataset;i.type==="shared"&&i.value===k||(a.mark("point picker item"),o(s,k,!1))},handleButtonPointerDown:x=>{const{id:k}=x.currentTarget.dataset;a.mark("point picker item"),o(s,k,!0),c.current=!0,window.addEventListener("pointerup",m)},handleButtonPointerEnter:x=>{if(!c.current)return;const{id:k}=x.currentTarget.dataset;o(s,k,!0)},handleButtonPointerUp:x=>{const{id:k}=x.currentTarget.dataset;o(s,k,!1)}}},[i,a,o,s]),y=Q("theme",()=>pr({isDarkMode:a.user.getIsDarkMode()}),[a]);return f.jsx("div",{className:ue("tlui-buttons__grid"),children:n.map(m=>f.jsx(ge,{type:"icon","data-id":m.value,"data-testid":`style.${e}.${m.value}`,"aria-label":m.value,"data-state":i.type==="shared"&&i.value===m.value?"hinted":void 0,title:r+"  "+l(`${e}-style.${m.value}`),className:ue("tlui-button-grid__button"),style:s===Fn?{color:y[m.value].solid}:void 0,onPointerEnter:u,onPointerDown:h,onPointerUp:p,onClick:d,icon:m.icon},m.value))})}const Rd=v.memo(ihe);function OM(t,[e,n]){return Math.min(n,Math.max(e,t))}function ohe(t){const e=v.useRef({value:t,previous:t});return v.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}const DM=["PageUp","PageDown"],qM=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],BM={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Df="Slider",[E3,ahe,lhe]=O1(Df),[FM,Qwe]=uo(Df,[lhe]),[che,e2]=FM(Df),dhe=v.forwardRef((t,e)=>{const{name:n,min:r=0,max:s=100,step:i=1,orientation:o="horizontal",disabled:a=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[r],value:d,onValueChange:h=()=>{},onValueCommit:u=()=>{},inverted:p=!1,...y}=t,[m,w]=v.useState(null),S=kt(e,M=>w(M)),b=v.useRef(new Set),g=v.useRef(0),x=o==="horizontal",k=m?!!m.closest("form"):!0,C=x?hhe:uhe,[_=[],E]=sl({prop:d,defaultProp:c,onChange:M=>{var q;(q=[...b.current][g.current])===null||q===void 0||q.focus(),h(M)}}),z=v.useRef(_);function P(M){const q=bhe(_,M);L(M,q)}function A(M){L(M,g.current)}function N(){const M=z.current[g.current];_[g.current]!==M&&u(_)}function L(M,q,{commit:D}={commit:!1}){const X=_he(i),O=Ehe(Math.round((M-r)/i)*i+r,X),K=OM(O,[r,s]);E((W=[])=>{const G=whe(W,K,q);if(Che(G,l*i)){g.current=G.indexOf(K);const J=String(G)!==String(W);return J&&D&&u(G),J?G:W}else return W})}return v.createElement(che,{scope:t.__scopeSlider,disabled:a,min:r,max:s,valueIndexToChangeRef:g,thumbs:b.current,values:_,orientation:o},v.createElement(E3.Provider,{scope:t.__scopeSlider},v.createElement(E3.Slot,{scope:t.__scopeSlider},v.createElement(C,re({"aria-disabled":a,"data-disabled":a?"":void 0},y,{ref:S,onPointerDown:pe(y.onPointerDown,()=>{a||(z.current=_)}),min:r,max:s,inverted:p,onSlideStart:a?void 0:P,onSlideMove:a?void 0:A,onSlideEnd:a?void 0:N,onHomeKeyDown:()=>!a&&L(r,0,{commit:!0}),onEndKeyDown:()=>!a&&L(s,_.length-1,{commit:!0}),onStepKeyDown:({event:M,direction:q})=>{if(!a){const O=DM.includes(M.key)||M.shiftKey&&qM.includes(M.key)?10:1,K=g.current,W=_[K],G=i*O*q;L(W+G,K,{commit:!0})}}})))),k&&_.map((M,q)=>v.createElement(xhe,{key:q,name:n?n+(_.length>1?"[]":""):void 0,value:M})))}),[KM,WM]=FM(Df,{startEdge:"left",endEdge:"right",size:"width",direction:1}),hhe=v.forwardRef((t,e)=>{const{min:n,max:r,dir:s,inverted:i,onSlideStart:o,onSlideMove:a,onSlideEnd:l,onStepKeyDown:c,...d}=t,[h,u]=v.useState(null),p=kt(e,g=>u(g)),y=v.useRef(),m=yb(s),w=m==="ltr",S=w&&!i||!w&&i;function b(g){const x=y.current||h.getBoundingClientRect(),k=[0,x.width],_=Rb(k,S?[n,r]:[r,n]);return y.current=x,_(g-x.left)}return v.createElement(KM,{scope:t.__scopeSlider,startEdge:S?"left":"right",endEdge:S?"right":"left",direction:S?1:-1,size:"width"},v.createElement(UM,re({dir:m,"data-orientation":"horizontal"},d,{ref:p,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:g=>{const x=b(g.clientX);o==null||o(x)},onSlideMove:g=>{const x=b(g.clientX);a==null||a(x)},onSlideEnd:()=>{y.current=void 0,l==null||l()},onStepKeyDown:g=>{const k=BM[S?"from-left":"from-right"].includes(g.key);c==null||c({event:g,direction:k?-1:1})}})))}),uhe=v.forwardRef((t,e)=>{const{min:n,max:r,inverted:s,onSlideStart:i,onSlideMove:o,onSlideEnd:a,onStepKeyDown:l,...c}=t,d=v.useRef(null),h=kt(e,d),u=v.useRef(),p=!s;function y(m){const w=u.current||d.current.getBoundingClientRect(),S=[0,w.height],g=Rb(S,p?[r,n]:[n,r]);return u.current=w,g(m-w.top)}return v.createElement(KM,{scope:t.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1},v.createElement(UM,re({"data-orientation":"vertical"},c,{ref:h,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:m=>{const w=y(m.clientY);i==null||i(w)},onSlideMove:m=>{const w=y(m.clientY);o==null||o(w)},onSlideEnd:()=>{u.current=void 0,a==null||a()},onStepKeyDown:m=>{const S=BM[p?"from-bottom":"from-top"].includes(m.key);l==null||l({event:m,direction:S?-1:1})}})))}),UM=v.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:s,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:a,onStepKeyDown:l,...c}=t,d=e2(Df,n);return v.createElement(mt.span,re({},c,{ref:e,onKeyDown:pe(t.onKeyDown,h=>{h.key==="Home"?(o(h),h.preventDefault()):h.key==="End"?(a(h),h.preventDefault()):DM.concat(qM).includes(h.key)&&(l(h),h.preventDefault())}),onPointerDown:pe(t.onPointerDown,h=>{const u=h.target;u.setPointerCapture(h.pointerId),h.preventDefault(),d.thumbs.has(u)?u.focus():r(h)}),onPointerMove:pe(t.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&s(h)}),onPointerUp:pe(t.onPointerUp,h=>{const u=h.target;u.hasPointerCapture(h.pointerId)&&(u.releasePointerCapture(h.pointerId),i(h))})}))}),phe="SliderTrack",fhe=v.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,s=e2(phe,n);return v.createElement(mt.span,re({"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation},r,{ref:e}))}),bk="SliderRange",ghe=v.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,s=e2(bk,n),i=WM(bk,n),o=v.useRef(null),a=kt(e,o),l=s.values.length,c=s.values.map(u=>VM(u,s.min,s.max)),d=l>1?Math.min(...c):0,h=100-Math.max(...c);return v.createElement(mt.span,re({"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0},r,{ref:a,style:{...t.style,[i.startEdge]:d+"%",[i.endEdge]:h+"%"}}))}),vk="SliderThumb",mhe=v.forwardRef((t,e)=>{const n=ahe(t.__scopeSlider),[r,s]=v.useState(null),i=kt(e,a=>s(a)),o=v.useMemo(()=>r?n().findIndex(a=>a.ref.current===r):-1,[n,r]);return v.createElement(yhe,re({},t,{ref:i,index:o}))}),yhe=v.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,...s}=t,i=e2(vk,n),o=WM(vk,n),[a,l]=v.useState(null),c=kt(e,w=>l(w)),d=$L(a),h=i.values[r],u=h===void 0?0:VM(h,i.min,i.max),p=She(r,i.values.length),y=d==null?void 0:d[o.size],m=y?vhe(y,u,o.direction):0;return v.useEffect(()=>{if(a)return i.thumbs.add(a),()=>{i.thumbs.delete(a)}},[a,i.thumbs]),v.createElement("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[o.startEdge]:`calc(${u}% + ${m}px)`}},v.createElement(E3.ItemSlot,{scope:t.__scopeSlider},v.createElement(mt.span,re({role:"slider","aria-label":t["aria-label"]||p,"aria-valuemin":i.min,"aria-valuenow":h,"aria-valuemax":i.max,"aria-orientation":i.orientation,"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,tabIndex:i.disabled?void 0:0},s,{ref:c,style:h===void 0?{display:"none"}:t.style,onFocus:pe(t.onFocus,()=>{i.valueIndexToChangeRef.current=r})}))))}),xhe=t=>{const{value:e,...n}=t,r=v.useRef(null),s=ohe(e);return v.useEffect(()=>{const i=r.current,o=window.HTMLInputElement.prototype,l=Object.getOwnPropertyDescriptor(o,"value").set;if(s!==e&&l){const c=new Event("input",{bubbles:!0});l.call(i,e),i.dispatchEvent(c)}},[s,e]),v.createElement("input",re({style:{display:"none"}},n,{ref:r,defaultValue:e}))};function whe(t=[],e,n){const r=[...t];return r[n]=e,r.sort((s,i)=>s-i)}function VM(t,e,n){const i=100/(n-e)*(t-e);return OM(i,[0,100])}function She(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function bhe(t,e){if(t.length===1)return 0;const n=t.map(s=>Math.abs(s-e)),r=Math.min(...n);return n.indexOf(r)}function vhe(t,e,n){const r=t/2,i=Rb([0,50],[0,r]);return(r-i(e)*n)*n}function khe(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function Che(t,e){if(e>0){const n=khe(t);return Math.min(...n)>=e}return!0}function Rb(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function _he(t){return(String(t).split(".")[1]||"").length}function Ehe(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}const Ihe=dhe,Phe=fhe,zhe=ghe,Ahe=mhe,Nhe=v.memo(function(e){const{title:n,steps:r,value:s,label:i,onValueChange:o}=e,a=Y(),l=Ue(),c=v.useCallback(u=>{o(u[0],!0)},[o]),d=v.useCallback(()=>{a.mark("click slider")},[a]),h=v.useCallback(()=>{s&&o(s,!1)},[s,o]);return f.jsx("div",{className:"tlui-slider__container",children:f.jsxs(Ihe,{"data-testid":e["data-testid"],className:"tlui-slider","area-label":"Opacity",dir:"ltr",min:0,max:r,step:1,value:s?[s]:void 0,onPointerDown:d,onValueChange:c,onPointerUp:h,title:n+"  "+l(i),children:[f.jsx(Phe,{className:"tlui-slider__track",dir:"ltr",children:s!==null&&f.jsx(zhe,{className:"tlui-slider__range",dir:"ltr"})}),s!==null&&f.jsx(Ahe,{className:"tlui-slider__thumb",dir:"ltr"})]})})}),The=v.memo(function({label:e,uiTypeA:n,uiTypeB:r,labelA:s,labelB:i,itemsA:o,itemsB:a,styleA:l,styleB:c,valueA:d,valueB:h,onValueChange:u}){const p=Ue(),y=v.useMemo(()=>{var w;return((w=o.find(S=>d.type==="shared"&&d.value===S.value))==null?void 0:w.icon)??"mixed"},[o,d]),m=v.useMemo(()=>{var w;return((w=a.find(S=>h.type==="shared"&&h.value===S.value))==null?void 0:w.icon)??"mixed"},[a,h]);return d===void 0&&h===void 0?null:f.jsxs("div",{className:"tlui-style-panel__double-select-picker",children:[f.jsx("div",{title:p(e),className:"tlui-style-panel__double-select-picker-label",children:p(e)}),f.jsxs("div",{className:"tlui-buttons__horizontal",children:[f.jsxs(Va,{id:`style panel ${n} A`,children:[f.jsx(Zp,{asChild:!0,onTouchEnd:w=>Ge(w),children:f.jsx(ge,{type:"icon","data-testid":`style.${n}`,title:p(s)+"  "+(d===null||d.type==="mixed"?p("style-panel.mixed"):p(`${n}-style.${d.value}`)),icon:y,invertIcon:!0,smallIcon:!0})}),f.jsx(Xa,{side:"bottom",align:"end",sideOffset:0,alignOffset:-2,children:f.jsx("div",{className:"tlui-buttons__grid",children:o.map(w=>f.jsx(ss,{type:"icon",title:p(s)+"  "+p(`${n}-style.${w.value}`),"data-testid":`style.${n}.${w.value}`,icon:w.icon,onClick:()=>u(l,w.value,!1),invertIcon:!0},w.value))})})]}),f.jsxs(Va,{id:`style panel ${r}`,children:[f.jsx(Zp,{asChild:!0,onTouchEnd:w=>Ge(w),children:f.jsx(ge,{type:"icon","data-testid":`style.${r}`,title:p(i)+"  "+(h===null||h.type==="mixed"?p("style-panel.mixed"):p(`${r}-style.${h.value}`)),icon:m,smallIcon:!0})}),f.jsx(Xa,{side:"bottom",align:"end",sideOffset:0,alignOffset:-2,children:f.jsx("div",{className:"tlui-buttons__grid",children:a.map(w=>f.jsx(ss,{type:"icon",title:p(i)+"  "+p(`${r}-style.${w.value}`),"data-testid":`style.${r}.${w.value}`,icon:w.icon,onClick:()=>u(c,w.value,!1)},w.value))})})]})]})]})}),$b=v.memo(function({id:e,label:n,uiType:r,style:s,items:i,type:o,value:a,onValueChange:l}){const c=Ue(),d=v.useMemo(()=>{var h;return(h=i.find(u=>a.type==="shared"&&u.value===a.value))==null?void 0:h.icon},[i,a]);return f.jsxs(Va,{id:`style panel ${e}`,children:[f.jsx(Zp,{asChild:!0,onTouchEnd:h=>Ge(h),children:f.jsx(ge,{type:o,"data-testid":`style.${r}`,title:a.type==="mixed"?c("style-panel.mixed"):c(`${r}-style.${a.value}`),label:n,icon:d??"mixed"})}),f.jsx(Xa,{side:"left",align:"center",alignOffset:0,children:f.jsx("div",{className:"tlui-buttons__grid",children:i.map(h=>f.jsx(ss,{type:"icon","data-testid":`style.${r}.${h.value}`,title:c(`${r}-style.${h.value}`),icon:h.icon,onClick:()=>l(s,h.value,!1)},h.value))})})]})}),li={color:[{value:"black",icon:"color"},{value:"grey",icon:"color"},{value:"light-violet",icon:"color"},{value:"violet",icon:"color"},{value:"blue",icon:"color"},{value:"light-blue",icon:"color"},{value:"yellow",icon:"color"},{value:"orange",icon:"color"},{value:"green",icon:"color"},{value:"light-green",icon:"color"},{value:"light-red",icon:"color"},{value:"red",icon:"color"}],fill:[{value:"none",icon:"fill-none"},{value:"semi",icon:"fill-semi"},{value:"solid",icon:"fill-solid"},{value:"pattern",icon:"fill-pattern"}],dash:[{value:"draw",icon:"dash-draw"},{value:"dashed",icon:"dash-dashed"},{value:"dotted",icon:"dash-dotted"},{value:"solid",icon:"dash-solid"}],size:[{value:"s",icon:"size-small"},{value:"m",icon:"size-medium"},{value:"l",icon:"size-large"},{value:"xl",icon:"size-extra-large"}],font:[{value:"draw",icon:"font-draw"},{value:"sans",icon:"font-sans"},{value:"serif",icon:"font-serif"},{value:"mono",icon:"font-mono"}],horizontalAlign:[{value:"start",icon:"text-align-left"},{value:"middle",icon:"text-align-center"},{value:"end",icon:"text-align-right"}],verticalAlign:[{value:"start",icon:"vertical-align-start"},{value:"middle",icon:"vertical-align-center"},{value:"end",icon:"vertical-align-end"}],geo:[{value:"rectangle",icon:"geo-rectangle"},{value:"ellipse",icon:"geo-ellipse"},{value:"cloud",icon:"geo-cloud"},{value:"triangle",icon:"geo-triangle"},{value:"diamond",icon:"geo-diamond"},{value:"pentagon",icon:"geo-pentagon"},{value:"hexagon",icon:"geo-hexagon"},{value:"octagon",icon:"geo-octagon"},{value:"star",icon:"geo-star"},{value:"rhombus",icon:"geo-rhombus"},{value:"rhombus-2",icon:"geo-rhombus-2"},{value:"oval",icon:"geo-oval"},{value:"trapezoid",icon:"geo-trapezoid"},{value:"arrow-right",icon:"geo-arrow-right"},{value:"arrow-left",icon:"geo-arrow-left"},{value:"arrow-up",icon:"geo-arrow-up"},{value:"arrow-down",icon:"geo-arrow-down"},{value:"x-box",icon:"geo-x-box"},{value:"check-box",icon:"geo-check-box"}],arrowheadStart:[{value:"none",icon:"arrowhead-none"},{value:"arrow",icon:"arrowhead-arrow"},{value:"triangle",icon:"arrowhead-triangle"},{value:"square",icon:"arrowhead-square"},{value:"dot",icon:"arrowhead-dot"},{value:"diamond",icon:"arrowhead-diamond"},{value:"inverted",icon:"arrowhead-triangle-inverted"},{value:"bar",icon:"arrowhead-bar"}],arrowheadEnd:[{value:"none",icon:"arrowhead-none"},{value:"arrow",icon:"arrowhead-arrow"},{value:"triangle",icon:"arrowhead-triangle"},{value:"square",icon:"arrowhead-square"},{value:"dot",icon:"arrowhead-dot"},{value:"diamond",icon:"arrowhead-diamond"},{value:"inverted",icon:"arrowhead-triangle-inverted"},{value:"bar",icon:"arrowhead-bar"}],spline:[{value:"line",icon:"spline-line"},{value:"cubic",icon:"spline-cubic"}]},XM=function({isMobile:e}){const n=Y(),r=$M(),s=v.useCallback(()=>{e||n.updateInstanceState({isChangingStyle:!1})},[n,e]);if(!r)return null;const{styles:i,opacity:o}=r,a=i.get(Ui),l=i.get(sm),c=i.get(rm),d=i.get(om),h=i.get(eo),u=a===void 0,p=l===void 0&&c===void 0,y=d===void 0,m=h===void 0;return f.jsxs("div",{className:"tlui-style-panel","data-ismobile":e,onPointerLeave:s,children:[f.jsx(Lhe,{styles:i,opacity:o}),!m&&f.jsx(Mhe,{styles:i}),!(u&&p&&y)&&f.jsxs("div",{className:"tlui-style-panel__section","aria-label":"style panel styles",children:[f.jsx(jhe,{styles:i}),f.jsx($he,{styles:i}),f.jsx(Rhe,{styles:i})]})]})};function qf(){const t=Y();return ie.useMemo(()=>function(n,r,s){t.batch(()=>{t.isIn("select")&&t.setStyleForSelectedShapes(n,r,{squashing:s}),t.setStyleForNextShapes(n,r,{squashing:s}),t.updateInstanceState({isChangingStyle:!0})})},[t])}const wu=[.1,.25,.5,.75,1];function Lhe({styles:t,opacity:e}){const n=Y(),r=Ue(),s=qf(),i=ie.useCallback((u,p)=>{const y=wu[u];n.batch(()=>{n.isIn("select")&&n.setOpacityForSelectedShapes(y,{ephemeral:p}),n.setOpacityForNextShapes(y,{ephemeral:p}),n.updateInstanceState({isChangingStyle:!0})})},[n]),o=t.get(Fn),a=t.get(sh),l=t.get(ic),c=t.get(to),d=a!==void 0||l!==void 0||c!==void 0,h=e.type==="mixed"?-1:wu.indexOf(iB(wu,u=>Math.abs(u-e.value)));return f.jsxs(f.Fragment,{children:[f.jsxs("div",{tabIndex:-1,className:"tlui-style-panel__section__common","aria-label":"style panel styles",children:[o===void 0?null:f.jsx(Rd,{title:r("style-panel.color"),uiType:"color",style:Fn,items:li.color,value:o,onValueChange:s}),e===void 0?null:f.jsx(Nhe,{"data-testid":"style.opacity",value:h>=0?h:wu.length-1,label:e.type==="mixed"?"style-panel.mixed":`opacity-style.${e.value}`,onValueChange:i,steps:wu.length-1,title:r("style-panel.opacity")})]}),d&&f.jsxs("div",{className:"tlui-style-panel__section","aria-label":"style panel styles",children:[a===void 0?null:f.jsx(Rd,{title:r("style-panel.fill"),uiType:"fill",style:sh,items:li.fill,value:a,onValueChange:s}),l===void 0?null:f.jsx(Rd,{title:r("style-panel.dash"),uiType:"dash",style:ic,items:li.dash,value:l,onValueChange:s}),c===void 0?null:f.jsx(Rd,{title:r("style-panel.size"),uiType:"size",style:to,items:li.size,value:c,onValueChange:s})]})]})}function Mhe({styles:t}){const e=Ue(),n=qf(),r=t.get(eo),s=t.get(yp),i=t.get(im);return r===void 0&&s===void 0?null:f.jsxs("div",{className:"tlui-style-panel__section","aria-label":"style panel text",children:[r===void 0?null:f.jsx(Rd,{title:e("style-panel.font"),uiType:"font",style:eo,items:li.font,value:r,onValueChange:n}),s===void 0?null:f.jsxs("div",{className:"tlui-style-panel__row",children:[f.jsx(Rd,{title:e("style-panel.align"),uiType:"align",style:yp,items:li.horizontalAlign,value:s,onValueChange:n}),f.jsx("div",{className:"tlui-style-panel__row__extra-button",children:i===void 0?f.jsx(ge,{type:"icon",title:e("style-panel.vertical-align"),"data-testid":"vertical-align",icon:"vertical-align-center",disabled:!0}):f.jsx($b,{type:"icon",id:"geo-vertical-alignment",uiType:"verticalAlign",style:im,items:li.verticalAlign,value:i,onValueChange:n})})]})]})}function jhe({styles:t}){const e=qf(),n=t.get(Ui);return n===void 0?null:f.jsx($b,{id:"geo",type:"menu",label:"style-panel.geo",uiType:"geo",style:Ui,items:li.geo,value:n,onValueChange:e})}function Rhe({styles:t}){const e=qf(),n=t.get(om);return n===void 0?null:f.jsx($b,{id:"spline",type:"menu",label:"style-panel.spline",uiType:"spline",style:om,items:li.spline,value:n,onValueChange:e})}function $he({styles:t}){const e=qf(),n=t.get(sm),r=t.get(rm);return!n||!r?null:f.jsx(The,{label:"style-panel.arrowheads",uiTypeA:"arrowheadStart",styleA:rm,itemsA:li.arrowheadStart,valueA:r,uiTypeB:"arrowheadEnd",styleB:sm,itemsB:li.arrowheadEnd,valueB:n,onValueChange:e,labelA:"style-panel.arrowhead-start",labelB:"style-panel.arrowhead-end"})}function Ohe({toast:t}){const{removeToast:e}=po(),n=Ue(),r=i=>{i||e(t.id)},s=t.actions&&t.actions.length>0;return f.jsxs(zie,{onOpenChange:r,className:"tlui-toast__container",duration:t.keepOpen?1/0:5e3,children:[t.icon&&f.jsx("div",{className:"tlui-toast__icon",children:f.jsx(Dr,{icon:t.icon})}),f.jsxs("div",{className:"tlui-toast__main",children:[f.jsxs("div",{className:"tlui-toast__content",children:[t.title&&f.jsx(Aie,{className:"tlui-toast__title",children:t.title}),t.description&&f.jsx(Nie,{className:"tlui-toast__description",children:t.description})]}),t.actions&&f.jsxs("div",{className:"tlui-toast__actions",children:[t.actions.map((i,o)=>f.jsx(Tie,{altText:i.label,asChild:!0,onClick:i.onClick,children:f.jsx(ge,{type:i.type,children:i.label})},o)),f.jsx(V8,{asChild:!0,children:f.jsx(ge,{type:"normal",className:"tlui-toast__close",style:{marginLeft:"auto"},children:t.closeLabel??n("toast.close")})})]})]}),!s&&f.jsx(V8,{asChild:!0,children:f.jsx(ge,{type:"normal",className:"tlui-toast__close",children:t.closeLabel??n("toast.close")})})]})}function Dhe(){const{toasts:t}=po();return f.jsx(f.Fragment,{children:t.map(e=>f.jsx(Ohe,{toast:e},e.id))})}const qhe=v.memo(Dhe);function Bhe(){const{toasts:t}=po(),[e,n]=v.useState(!1);return v.useEffect(()=>{let r=!1;return t.length?n(!0):setTimeout(()=>{r||n(!1)},1e3),()=>{r=!0}},[t.length,n]),e?f.jsx(uie,{className:"tlui-toast__viewport"}):null}function Fhe(){const t=Y(),e=Ue(),n=$M(),r=n==null?void 0:n.styles.get(Fn),s=pr({isDarkMode:t.user.getIsDarkMode()}),i=((r==null?void 0:r.type)==="shared"?s[r.value]:s.black).solid,o=Q("isHandOrEraserToolActive",()=>t.isInAny("hand","zoom","eraser","laser"),[t]),a=v.useCallback(l=>{l||t.updateInstanceState({isChangingStyle:!1})},[t]);return f.jsxs(Mb,{id:"style menu",onOpenChange:a,children:[f.jsx(jb,{disabled:o,children:f.jsx(ge,{type:"tool","data-testid":"mobile.styles",style:{color:o?"var(--color-muted-1)":i},title:e("style-panel.title"),children:f.jsx(Dr,{icon:o?"blob":(r==null?void 0:r.type)==="mixed"?"mixed":"blob"})})}),f.jsx(NM,{side:"top",align:"end",children:f.jsx(XM,{isMobile:!0})})]})}const Khe=["select","hand","draw","eraser","text","zoom","laser","highlight"];function Whe({activeToolId:t}){const e=Y(),n=Us(),r=Ue(),s=Q("is tool locked",()=>e.getInstanceState().isToolLocked,[e]);return!t||Khe.includes(t)?null:f.jsx(ge,{type:"normal",title:r("action.toggle-tool-lock"),className:ue("tlui-toolbar__lock-button",{"tlui-toolbar__lock-button__mobile":n<5}),icon:s?"lock":"unlock",onClick:()=>e.updateInstanceState({isToolLocked:!s}),smallIcon:!0})}const Uhe=v.memo(function(){const e=Y(),n=Ue(),r=Us(),s=ie.useRef(void 0),i=Ws(),o=Yae(),a=o.find(w=>w.toolItem.id==="laser"),l=Q("current tool id",()=>e.getCurrentToolId(),[e]),c=Q("geo",()=>e.getSharedStyles().getAsKnownValue(Ui),[e]),d=!i,h=w=>w.label?`${n(w.label)} ${w.kbd?ro(w.kbd):""}`:"",u=o.find(w=>td(w.toolItem,l,c)),{itemsInPanel:p,itemsInDropdown:y,dropdownFirstItem:m}=ie.useMemo(()=>{const w=[],S=[];let b;const g=Math.min(8,5+r);for(let x=4;x<o.length;x++){const k=o[x];x<g?w.push(k):(k===u&&(b=k),S.push(k))}return b||(s.current||(s.current=S[0]),b=s.current,S.includes(b)||(b=S[0])),s.current=b,S.length<=2&&(w.push(...S),S.length=0),{itemsInPanel:w,itemsInDropdown:S,dropdownFirstItem:b}},[o,u,r]);return f.jsx("div",{className:"tlui-toolbar",children:f.jsxs("div",{className:"tlui-toolbar__inner",children:[f.jsxs("div",{className:"tlui-toolbar__left",children:[!i&&f.jsxs("div",{className:"tlui-toolbar__extras",children:[r<6&&!(l==="hand"||l==="zoom")&&f.jsxs("div",{className:"tlui-toolbar__extras__controls tlui-buttons__horizontal",children:[f.jsx(RM,{}),f.jsx(MM,{}),f.jsx(jM,{}),f.jsx(LM,{}),f.jsx(TM,{})]}),f.jsx(Whe,{activeToolId:l})]}),f.jsxs("div",{className:ue("tlui-toolbar__tools",{"tlui-toolbar__tools__mobile":r<5}),children:[o.slice(0,2).map(({toolItem:w})=>f.jsx(Su,{item:w,title:h(w),isSelected:td(w,l,c)},w.id)),i&&a&&f.jsx(Su,{item:a.toolItem,title:h(a.toolItem),isSelected:td(a.toolItem,l,c)},a.toolItem.id),d&&f.jsxs(f.Fragment,{children:[o.slice(2,4).map(({toolItem:w})=>f.jsx(Su,{item:w,title:h(w),isSelected:td(w,l,c)},w.id)),p.map(({toolItem:w})=>f.jsx(Su,{item:w,title:h(w),isSelected:td(w,l,c)},w.id)),y.length?f.jsxs(f.Fragment,{children:[f.jsx(Su,{item:m.toolItem,title:h(m.toolItem),isSelected:td(m.toolItem,l,c)},m.toolItem.id),f.jsxs(Va,{id:"toolbar overflow",modal:!1,children:[f.jsx(Of,{children:f.jsx(ge,{className:"tlui-toolbar__overflow",icon:"chevron-up",type:"tool","data-testid":"tools.more",title:n("tool-panel.more")})}),f.jsx(Xa,{side:"top",align:"center",children:f.jsx(Vhe,{toolbarItems:y})})]})]}):null]})]})]}),r<5&&!i&&f.jsx("div",{className:"tlui-toolbar__tools",children:f.jsx(Fhe,{})})]})})}),Vhe=Ye(function({toolbarItems:e}){const n=Ue();return f.jsx("div",{className:"tlui-buttons__grid",children:e.map(({toolItem:{id:r,meta:s,kbd:i,label:o,onSelect:a,icon:l}})=>f.jsx(ss,{type:"icon",className:"tlui-button-grid__button","data-testid":`tools.more.${r}`,"data-tool":r,"data-geo":(s==null?void 0:s.geo)??"","aria-label":o,onClick:()=>a("toolbar"),title:o?`${n(o)} ${i?ro(i):""}`:"",icon:l},r))})});function Su({item:t,title:e,isSelected:n}){var r;return f.jsx(ge,{type:"tool","data-testid":`tools.${t.id}`,"data-tool":t.id,"data-geo":((r=t.meta)==null?void 0:r.geo)??"","aria-label":t.label,title:e,icon:t.icon,"data-state":n?"selected":void 0,onClick:()=>t.onSelect("toolbar"),onTouchStart:s=>{Ge(s),t.onSelect("toolbar")}})}const td=(t,e,n)=>{var r,s;return(r=t.meta)!=null&&r.geo?e==="geo"&&n===((s=t.meta)==null?void 0:s.geo):e===t.id};function Xhe(){const t=Y(),{addToast:e}=po();v.useEffect(()=>{function n({name:r,count:s}){e({title:"Maximum Shapes Reached",description:`You've reached the maximum number of shapes allowed on ${r} (${s}). Please delete some shapes or move to a different page to continue.`})}return t.addListener("max-shapes",n),()=>{t.removeListener("max-shapes",n)}},[t,e])}const l5=typeof navigator<"u"?navigator.userAgent.toLowerCase().indexOf("firefox")>0:!1;function c5(t,e,n,r){t.addEventListener?t.addEventListener(e,n,r):t.attachEvent&&t.attachEvent("on".concat(e),n)}function bu(t,e,n,r){t.removeEventListener?t.removeEventListener(e,n,r):t.detachEvent&&t.detachEvent("on".concat(e),n)}function YM(t,e){const n=e.slice(0,e.length-1);for(let r=0;r<n.length;r++)n[r]=t[n[r].toLowerCase()];return n}function HM(t){typeof t!="string"&&(t=""),t=t.replace(/\s/g,"");const e=t.split(",");let n=e.lastIndexOf("");for(;n>=0;)e[n-1]+=",",e.splice(n,1),n=e.lastIndexOf("");return e}function Yhe(t,e){const n=t.length>=e.length?t:e,r=t.length>=e.length?e:t;let s=!0;for(let i=0;i<n.length;i++)r.indexOf(n[i])===-1&&(s=!1);return s}const Jp={backspace:8,"":8,tab:9,clear:12,enter:13,"":13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"":20,",":188,".":190,"/":191,"`":192,"-":l5?173:189,"=":l5?61:187,";":l5?59:186,"'":222,"[":219,"]":221,"\\":220},oo={"":16,shift:16,"":18,alt:18,option:18,"":17,ctrl:17,control:17,"":91,cmd:91,command:91},I3={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},Ln={16:!1,18:!1,17:!1,91:!1},Gt={};for(let t=1;t<20;t++)Jp["f".concat(t)]=111+t;let xt=[],lp=null,GM="all";const bo=new Map,Bf=t=>Jp[t.toLowerCase()]||oo[t.toLowerCase()]||t.toUpperCase().charCodeAt(0),Hhe=t=>Object.keys(Jp).find(e=>Jp[e]===t),Ghe=t=>Object.keys(oo).find(e=>oo[e]===t);function ZM(t){GM=t||"all"}function ef(){return GM||"all"}function Zhe(){return xt.slice(0)}function Qhe(){return xt.map(t=>Hhe(t)||Ghe(t)||String.fromCharCode(t))}function Jhe(){const t=[];return Object.keys(Gt).forEach(e=>{Gt[e].forEach(n=>{let{key:r,scope:s,mods:i,shortcut:o}=n;t.push({scope:s,shortcut:o,mods:i,keys:r.split("+").map(a=>Bf(a))})})}),t}function eue(t){const e=t.target||t.srcElement,{tagName:n}=e;let r=!0;const s=n==="INPUT"&&!["checkbox","radio","range","button","file","reset","submit","color"].includes(e.type);return(e.isContentEditable||(s||n==="TEXTAREA"||n==="SELECT")&&!e.readOnly)&&(r=!1),r}function tue(t){return typeof t=="string"&&(t=Bf(t)),xt.indexOf(t)!==-1}function nue(t,e){let n,r;t||(t=ef());for(const s in Gt)if(Object.prototype.hasOwnProperty.call(Gt,s))for(n=Gt[s],r=0;r<n.length;)n[r].scope===t?n.splice(r,1).forEach(o=>{let{element:a}=o;return Ob(a)}):r++;ef()===t&&ZM(e||"all")}function rue(t){let e=t.keyCode||t.which||t.charCode;const n=xt.indexOf(e);if(n>=0&&xt.splice(n,1),t.key&&t.key.toLowerCase()==="meta"&&xt.splice(0,xt.length),(e===93||e===224)&&(e=91),e in Ln){Ln[e]=!1;for(const r in oo)oo[r]===e&&(ci[r]=!1)}}function QM(t){if(typeof t>"u")Object.keys(Gt).forEach(s=>{Array.isArray(Gt[s])&&Gt[s].forEach(i=>n0(i)),delete Gt[s]}),Ob(null);else if(Array.isArray(t))t.forEach(s=>{s.key&&n0(s)});else if(typeof t=="object")t.key&&n0(t);else if(typeof t=="string"){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];let[s,i]=n;typeof s=="function"&&(i=s,s=""),n0({key:t,scope:s,method:i,splitKey:"+"})}}const n0=t=>{let{key:e,scope:n,method:r,splitKey:s="+"}=t;HM(e).forEach(o=>{const a=o.split(s),l=a.length,c=a[l-1],d=c==="*"?"*":Bf(c);if(!Gt[d])return;n||(n=ef());const h=l>1?YM(oo,a):[],u=[];Gt[d]=Gt[d].filter(p=>{const m=(r?p.method===r:!0)&&p.scope===n&&Yhe(p.mods,h);return m&&u.push(p.element),!m}),u.forEach(p=>Ob(p))})};function kk(t,e,n,r){if(e.element!==r)return;let s;if(e.scope===n||e.scope==="all"){s=e.mods.length>0;for(const i in Ln)Object.prototype.hasOwnProperty.call(Ln,i)&&(!Ln[i]&&e.mods.indexOf(+i)>-1||Ln[i]&&e.mods.indexOf(+i)===-1)&&(s=!1);(e.mods.length===0&&!Ln[16]&&!Ln[18]&&!Ln[17]&&!Ln[91]||s||e.shortcut==="*")&&(e.keys=[],e.keys=e.keys.concat(xt),e.method(t,e)===!1&&(t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation&&t.stopPropagation(),t.cancelBubble&&(t.cancelBubble=!0)))}}function Ck(t,e){const n=Gt["*"];let r=t.keyCode||t.which||t.charCode;if(!ci.filter.call(this,t))return;if((r===93||r===224)&&(r=91),xt.indexOf(r)===-1&&r!==229&&xt.push(r),["ctrlKey","altKey","shiftKey","metaKey"].forEach(a=>{const l=I3[a];t[a]&&xt.indexOf(l)===-1?xt.push(l):!t[a]&&xt.indexOf(l)>-1?xt.splice(xt.indexOf(l),1):a==="metaKey"&&t[a]&&xt.length===3&&(t.ctrlKey||t.shiftKey||t.altKey||(xt=xt.slice(xt.indexOf(l))))}),r in Ln){Ln[r]=!0;for(const a in oo)oo[a]===r&&(ci[a]=!0);if(!n)return}for(const a in Ln)Object.prototype.hasOwnProperty.call(Ln,a)&&(Ln[a]=t[I3[a]]);t.getModifierState&&!(t.altKey&&!t.ctrlKey)&&t.getModifierState("AltGraph")&&(xt.indexOf(17)===-1&&xt.push(17),xt.indexOf(18)===-1&&xt.push(18),Ln[17]=!0,Ln[18]=!0);const s=ef();if(n)for(let a=0;a<n.length;a++)n[a].scope===s&&(t.type==="keydown"&&n[a].keydown||t.type==="keyup"&&n[a].keyup)&&kk(t,n[a],s,e);if(!(r in Gt))return;const i=Gt[r],o=i.length;for(let a=0;a<o;a++)if((t.type==="keydown"&&i[a].keydown||t.type==="keyup"&&i[a].keyup)&&i[a].key){const l=i[a],{splitKey:c}=l,d=l.key.split(c),h=[];for(let u=0;u<d.length;u++)h.push(Bf(d[u]));h.sort().join("")===xt.sort().join("")&&kk(t,l,s,e)}}function ci(t,e,n){xt=[];const r=HM(t);let s=[],i="all",o=document,a=0,l=!1,c=!0,d="+",h=!1,u=!1;for(n===void 0&&typeof e=="function"&&(n=e),Object.prototype.toString.call(e)==="[object Object]"&&(e.scope&&(i=e.scope),e.element&&(o=e.element),e.keyup&&(l=e.keyup),e.keydown!==void 0&&(c=e.keydown),e.capture!==void 0&&(h=e.capture),typeof e.splitKey=="string"&&(d=e.splitKey),e.single===!0&&(u=!0)),typeof e=="string"&&(i=e),u&&QM(t,i);a<r.length;a++)t=r[a].split(d),s=[],t.length>1&&(s=YM(oo,t)),t=t[t.length-1],t=t==="*"?"*":Bf(t),t in Gt||(Gt[t]=[]),Gt[t].push({keyup:l,keydown:c,scope:i,mods:s,shortcut:r[a],method:n,key:r[a],splitKey:d,element:o});if(typeof o<"u"&&window){if(!bo.has(o)){const p=function(){let m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.event;return Ck(m,o)},y=function(){let m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.event;Ck(m,o),rue(m)};bo.set(o,{keydownListener:p,keyupListenr:y,capture:h}),c5(o,"keydown",p,h),c5(o,"keyup",y,h)}if(!lp){const p=()=>{xt=[]};lp={listener:p,capture:h},c5(window,"focus",p,h)}}}function sue(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"all";Object.keys(Gt).forEach(n=>{Gt[n].filter(s=>s.scope===e&&s.shortcut===t).forEach(s=>{s&&s.method&&s.method()})})}function Ob(t){const e=Object.values(Gt).flat();if(e.findIndex(r=>{let{element:s}=r;return s===t})<0){const{keydownListener:r,keyupListenr:s,capture:i}=bo.get(t)||{};r&&s&&(bu(t,"keyup",s,i),bu(t,"keydown",r,i),bo.delete(t))}if((e.length<=0||bo.size<=0)&&(Object.keys(bo).forEach(s=>{const{keydownListener:i,keyupListenr:o,capture:a}=bo.get(s)||{};i&&o&&(bu(s,"keyup",o,a),bu(s,"keydown",i,a),bo.delete(s))}),bo.clear(),Object.keys(Gt).forEach(s=>delete Gt[s]),lp)){const{listener:s,capture:i}=lp;bu(window,"focus",s,i),lp=null}}const d5={getPressedKeyString:Qhe,setScope:ZM,getScope:ef,deleteScope:nue,getPressedKeyCodes:Zhe,getAllKeyCodes:Jhe,isPressed:tue,filter:eue,trigger:sue,unbind:QM,keyMap:Jp,modifier:oo,modifierMap:I3};for(const t in d5)Object.prototype.hasOwnProperty.call(d5,t)&&(ci[t]=d5[t]);if(typeof window<"u"){const t=window.hotkeys;ci.noConflict=e=>(e&&window.hotkeys===ci&&(window.hotkeys=t),ci),window.hotkeys=ci}const _k=["copy","cut","paste","asset"];function iue(){const t=Y(),e=Ws(),n=Wn(),r=mb(),s=Q("is focused",()=>t.getInstanceState().isFocused,[t]);v.useEffect(()=>{if(!s)return;const i=t.getContainer();ci.setScope(t.store.id);const o=(l,c)=>{ci(l,{element:i,scope:t.store.id},c)},a=()=>t.getIsMenuOpen()||t.getEditingShapeId()!==null||t.getCrashingError();for(const l of Object.values(n))l.kbd&&(e&&!l.readonlyOk||_k.includes(l.id)||o(Ek(l.kbd),c=>{a()||(Ge(c),l.onSelect("kbd"))}));for(const l of Object.values(r))!l.kbd||!l.readonlyOk&&t.getInstanceState().isReadonly||_k.includes(l.id)||o(Ek(l.kbd),c=>{a()||(Ge(c),l.onSelect("kbd"))});return()=>{ci.deleteScope(t.store.id)}},[n,r,e,t,s])}function Ek(t){return oue(t).map(e=>{let n="";const r=e.split("");return r.length===1?n=r[0]:r[0]==="!"?n=`shift+${r[1]}`:r[0]==="?"?r.length===3&&r[1]==="!"?n=`alt+shift+${r[2]}`:n=`alt+${r[1]}`:r[0]==="$"?r[1]==="!"?n=`cmd+shift+${r[2]},ctrl+shift+${r[2]}`:r[1]==="?"?n=`cmd++${r[2]},ctrl+alt+${r[2]}`:n=`cmd+${r[1]},ctrl+${r[1]}`:n=e,n}).join(",")}function oue(t){typeof t!="string"&&(t=""),t=t.replace(/\s/g,"");const e=t.split(",");let n=e.lastIndexOf("");for(;n>=0;)e[n-1]+=",",e.splice(n,1),n=e.lastIndexOf("");return e}const JM=ie.memo(function({shareZone:e,topZone:n,renderDebugMenuItems:r,children:s,hideUi:i,...o}){return f.jsx(Jae,{...o,children:f.jsx(aue,{hideUi:i,shareZone:e,topZone:n,renderDebugMenuItems:r,children:s})})}),aue=ie.memo(function({children:e,hideUi:n,...r}){return f.jsxs(f.Fragment,{children:[e,n?null:f.jsx(lue,{...r})]})}),lue=ie.memo(function({shareZone:e,topZone:n,renderDebugMenuItems:r}){const s=Y(),i=Ue(),o=Us(),a=Q("isReadonlyMode",()=>s.getInstanceState().isReadonly,[s]),l=Q("focus",()=>s.getInstanceState().isFocusMode,[s]),c=Q("debug",()=>s.getInstanceState().isDebugMode,[s]);iue(),kae(),Xhe();const{"toggle-focus-mode":d}=Wn();return f.jsx(CT,{children:f.jsxs("div",{className:ue("tlui-layout",{"tlui-layout__mobile":o<5}),"data-breakpoint":o,children:[l?f.jsx("div",{className:"tlui-layout__top",children:f.jsx(ge,{type:"icon",className:"tlui-focus-button",title:`${i("focus-mode.toggle-focus-mode")}`,icon:"dot",onClick:()=>d.onSelect("menu")})}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"tlui-layout__top",children:[f.jsxs("div",{className:"tlui-layout__top__left",children:[f.jsx(Qde,{}),f.jsxs("div",{className:"tlui-helper-buttons",children:[f.jsx(nhe,{}),f.jsx(tle,{}),f.jsx(rhe,{})]})]}),f.jsx("div",{className:"tlui-layout__top__center",children:n}),f.jsxs("div",{className:"tlui-layout__top__right",children:[e,o>=5&&!a&&f.jsx("div",{className:"tlui-style-panel__wrapper",children:f.jsx(XM,{})})]})]}),f.jsxs("div",{className:"tlui-layout__bottom",children:[f.jsxs("div",{className:"tlui-layout__bottom__main",children:[f.jsx(the,{}),f.jsx(Uhe,{}),o>=4&&f.jsx(Mde,{})]}),c&&f.jsx(kde,{renderDebugMenuItems:r??null})]})]}),f.jsx(qhe,{}),f.jsx(Nde,{}),f.jsx(Bhe,{}),f.jsx(Tde,{})]})})}),ej="ContextMenu",[cue,Jwe]=uo(ej,[Q1]),fo=Q1(),[due,tj]=cue(ej),hue=t=>{const{__scopeContextMenu:e,children:n,onOpenChange:r,dir:s,modal:i=!0}=t,[o,a]=v.useState(!1),l=fo(e),c=gr(r),d=v.useCallback(h=>{a(h),c(h)},[c]);return v.createElement(due,{scope:e,open:o,onOpenChange:d,modal:i},v.createElement(aM,re({},l,{dir:s,open:o,onOpenChange:d,modal:i}),n))},uue="ContextMenuTrigger",pue=v.forwardRef((t,e)=>{const{__scopeContextMenu:n,disabled:r=!1,...s}=t,i=tj(uue,n),o=fo(n),a=v.useRef({x:0,y:0}),l=v.useRef({getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...a.current})}),c=v.useRef(0),d=v.useCallback(()=>window.clearTimeout(c.current),[]),h=u=>{a.current={x:u.clientX,y:u.clientY},i.onOpenChange(!0)};return v.useEffect(()=>d,[d]),v.useEffect(()=>void(r&&d()),[r,d]),v.createElement(v.Fragment,null,v.createElement(lM,re({},o,{virtualRef:l})),v.createElement(mt.span,re({"data-state":i.open?"open":"closed","data-disabled":r?"":void 0},s,{ref:e,style:{WebkitTouchCallout:"none",...t.style},onContextMenu:r?t.onContextMenu:pe(t.onContextMenu,u=>{d(),h(u),u.preventDefault()}),onPointerDown:r?t.onPointerDown:pe(t.onPointerDown,r0(u=>{d(),c.current=window.setTimeout(()=>h(u),700)})),onPointerMove:r?t.onPointerMove:pe(t.onPointerMove,r0(d)),onPointerCancel:r?t.onPointerCancel:pe(t.onPointerCancel,r0(d)),onPointerUp:r?t.onPointerUp:pe(t.onPointerUp,r0(d))})))}),fue=t=>{const{__scopeContextMenu:e,...n}=t,r=fo(e);return v.createElement(cM,re({},r,n))},gue="ContextMenuContent",mue=v.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,s=tj(gue,n),i=fo(n),o=v.useRef(!1);return v.createElement(dM,re({},i,r,{ref:e,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:a=>{var l;(l=t.onCloseAutoFocus)===null||l===void 0||l.call(t,a),!a.defaultPrevented&&o.current&&a.preventDefault(),o.current=!1},onInteractOutside:a=>{var l;(l=t.onInteractOutside)===null||l===void 0||l.call(t,a),!a.defaultPrevented&&!s.modal&&(o.current=!0)},style:{...t.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),yue=v.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,s=fo(n);return v.createElement(hM,re({},s,r,{ref:e}))}),xue=v.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,s=fo(n);return v.createElement(uM,re({},s,r,{ref:e}))}),wue=v.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,s=fo(n);return v.createElement(pM,re({},s,r,{ref:e}))}),Sue=t=>{const{__scopeContextMenu:e,children:n,onOpenChange:r,open:s,defaultOpen:i}=t,o=fo(e),[a,l]=sl({prop:s,defaultProp:i,onChange:r});return v.createElement(fM,re({},o,{open:a,onOpenChange:l}),n)},bue=v.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,s=fo(n);return v.createElement(gM,re({},s,r,{ref:e}))}),vue=v.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,s=fo(n);return v.createElement(mM,re({},s,r,{ref:e,style:{...t.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))});function r0(t){return e=>e.pointerType!=="mouse"?t(e):void 0}const kue=hue,Cue=pue,ly=fue,_ue=mue,P3=yue,z3=xue,Eue=wue,nj=Sue,rj=bue,sj=vue,Iue=Ye(function(){const e=Y(),n=bn(),r=e.getPages(),s=e.getCurrentPageId(),i=Ue(),{addToast:o}=po();return f.jsxs(nj,{children:[f.jsx(rj,{dir:"ltr",asChild:!0,children:f.jsx(ge,{type:"menu",label:"context-menu.move-to-page","data-testid":"menu-item.move-to-page",icon:"chevron-right"})}),f.jsx(ly,{container:n,children:f.jsxs(sj,{className:"tlui-menu",sideOffset:-4,collisionPadding:4,children:[f.jsx(P3,{dir:"ltr",className:"tlui-menu__group","data-testid":"menu-item.pages",children:r.map(a=>f.jsx(z3,{disabled:s===a.id,onSelect:()=>{e.mark("move_shapes_to_page"),e.moveShapesToPage(e.getSelectedShapeIds(),a.id);const l=e.getPage(a.id);l&&o({title:"Changed Page",description:`Moved to ${l.name}.`,actions:[{label:"Go Back",type:"primary",onClick:()=>{e.mark("change-page"),e.setCurrentPage(s)}}]})},asChild:!0,children:f.jsx(ge,{type:"menu",title:a.name,className:"tlui-context-menu__move-to-page__name",children:f.jsx("span",{className:"tlui-button__label",children:a.name})})},a.id))},"pages"),f.jsx(P3,{dir:"ltr",className:"tlui-menu__group","data-testid":"menu-item.new-page",children:f.jsx(z3,{onSelect:()=>{const a=$o.createId(),l=e.getSelectedShapeIds();e.batch(()=>{e.mark("move_shapes_to_page"),e.createPage({name:i("page-menu.new-page-initial-name"),id:a}),e.moveShapesToPage(l,a)})},asChild:!0,children:f.jsx(ge,{type:"menu",title:i("context.pages.new-page"),className:"tlui-context-menu__move-to-page__name",children:f.jsx("span",{className:"tlui-button__label",children:i("context.pages.new-page")})})},"new-page")},"new-page")]})})]})}),ij=function({children:e}){const n=Y(),r=xL(),s=v.useCallback(u=>{if(u){if(n.getInstanceState().isCoarsePointer){const p=n.getSelectedShapes(),{inputs:{currentPagePoint:y}}=n,m=n.getShapesAtPoint(y);if(!n.getSelectedShapes().length||!m.some(w=>p.includes(w))){const w=m.filter(S=>n.isShapeOrAncestorLocked(S));w.length&&n.select(...w.map(S=>S.id))}}}else{const p=n.getOnlySelectedShape();p&&n.isShapeOrAncestorLocked(p)&&n.setSelectedShapes([])}},[n]),i=bn(),[o,a]=zc("context menu",s),l=Ws(),c=r.length===0||l&&r.every(u=>!u.readonlyOk),h=!Q("isSelectToolActive",()=>n.getCurrentToolId()==="select",[n])||c;return f.jsxs(kue,{dir:"ltr",onOpenChange:a,children:[f.jsx(Cue,{onContextMenu:h?Ge:void 0,dir:"ltr",disabled:h,children:e}),f.jsx(ly,{container:i,children:f.jsx(Pue,{})})]})},Pue=v.forwardRef(function(){const e=Y(),n=Ue(),r=xL(),[s,i]=zc("context menu sub"),o=Ws(),a=Us(),l=bn(),[c,d]=v.useState(!1);function h(u,p,y,m){if(!p||o&&!p.readonlyOk)return null;switch(p.type){case"custom":{switch(p.id){case"MOVE_TO_PAGE_MENU":return f.jsx(Iue,{},p.id)}break}case"group":return f.jsx(P3,{dir:"ltr",className:ue("tlui-menu__group",{"tlui-menu__group__small":(y==null?void 0:y.type)==="submenu"}),"data-testid":`menu-item.${p.id}`,children:p.children.map(w=>h(u,w,p,m+1))},p.id);case"submenu":return f.jsxs(nj,{onOpenChange:i,children:[f.jsx(rj,{dir:"ltr",disabled:p.disabled,asChild:!0,children:f.jsx(ge,{type:"menu",label:p.label,"data-testid":`menu-item.${p.id}`,icon:"chevron-right"})}),f.jsx(ly,{container:l,children:f.jsx(sj,{className:"tlui-menu",sideOffset:-4,collisionPadding:4,children:p.children.map(w=>h(u,w,p,m+1))})})]},p.id);case"item":{if(o&&!p.readonlyOk)return null;const{id:w,checkbox:S,contextMenuLabel:b,label:g,onSelect:x,kbd:k,icon:C}=p.actionItem,_=b??g,E=_?n(_):void 0;return S?f.jsxs(Eue,{className:"tlui-button tlui-button__menu tlui-button__checkbox",dir:"ltr",disabled:p.disabled,onSelect:z=>{x("context-menu"),Ge(z)},title:E||void 0,checked:p.checked,children:[f.jsx(Dr,{small:!0,icon:p.checked?"check":"checkbox-empty"}),E&&f.jsx("span",{className:"tlui-button__label",draggable:!1,children:E}),k&&f.jsx(K1,{children:k})]},w):f.jsx(z3,{dir:"ltr",asChild:!0,children:f.jsx(ge,{type:"menu","data-testid":`menu-item.${w}`,kbd:k,label:_,disabled:p.disabled,iconLeft:a<3&&m>2?C:void 0,onClick:()=>{c?d(!1):x("context-menu")}})},w)}}}return f.jsx(ly,{container:l,children:f.jsx(_ue,{className:"tlui-menu scrollable",alignOffset:-4,collisionPadding:4,onContextMenu:Ge,children:r.map(u=>h(e,u,null,0))})})}),s0=(t,e)=>{const[n,r]=v.useState(2);return v.useEffect(()=>{const{url:s,style:i="normal",weight:o="500",display:a,featureSettings:l,stretch:c,unicodeRange:d}=e;let h=!1;r(2);const u={style:i,weight:o,display:a,featureSettings:l,stretch:c,unicodeRange:d},p=new FontFace(t,`url(${s})`,u);return p.load().then(()=>{h||(document.fonts.add(p),r(0))}).catch(y=>{h||(console.error(y),r(1))}),p.$$_url=s,p.$$_fontface=`
@font-face {
	font-family: ${p.family};
	font-stretch: ${p.stretch};
	font-weight: ${p.weight};
	font-style: ${p.style};
	src: url("${s}") format("woff2")
}`,()=>{document.fonts.delete(p),h=!0}},[t,e]),n};function zue(t){return{draw:{url:t.fonts.draw},serif:{url:t.fonts.serif},sansSerif:{url:t.fonts.sansSerif},monospace:{url:t.fonts.monospace}}}function Aue(t){const e=v.useMemo(()=>zue(t),[t]),n=[s0("tldraw_draw",e.draw),s0("tldraw_serif",e.serif),s0("tldraw_sans",e.sansSerif),s0("tldraw_mono",e.monospace)];return{error:n.some(r=>r===1),done:!n.some(r=>r===2)}}function ct(t){const{children:e,maxImageDimension:n,maxAssetSize:r,acceptedImageMimeTypes:s,acceptedVideoMimeTypes:i,onMount:o,...a}=t,l=$X(a.components??{}),c=uv(a.shapeUtils??[]),d=uv(a.tools??[]),h={initialState:"select",...a,components:v.useMemo(()=>({Scribble:Pm,CollaboratorScribble:Pm,SelectionForeground:ez,SelectionBackground:JP,Handles:GP,HoveredShapeIndicator:ZP,...l}),[l]),shapeUtils:v.useMemo(()=>[...d9,...c],[c]),tools:v.useMemo(()=>[...mA,...xz,...d],[d])},u=Mie(a.assetUrls),{done:p,error:y}=Aue(u);return y?f.jsx(IX,{children:"Could not load assets. Please refresh the page."}):p?f.jsx(VI,{...h,children:f.jsxs(JM,{...h,children:[f.jsx(ij,{children:f.jsx(jy,{})}),f.jsx(Nue,{maxImageDimension:n,maxAssetSize:r,acceptedImageMimeTypes:s,acceptedVideoMimeTypes:i,onMount:o}),e]})}):f.jsx(HI,{children:"Loading assets..."})}function Nue({maxImageDimension:t=1e3,maxAssetSize:e=10*1024*1024,acceptedImageMimeTypes:n=["image/jpeg","image/png","image/gif","image/svg+xml"],acceptedVideoMimeTypes:r=["video/mp4","video/quicktime"],onMount:s}){const i=Y(),o=Tue(a=>{const l=[];return l.push(...Lne(a)),Ste(a,{maxImageDimension:t,maxAssetSize:e,acceptedImageMimeTypes:n,acceptedVideoMimeTypes:r}),l.push(s==null?void 0:s(a)),()=>{l.forEach(c=>c==null?void 0:c())}});return v.useLayoutEffect(()=>{if(i)return o==null?void 0:o(i)},[i,o]),null}function Tue(t){const e=v.useRef();return v.useLayoutEffect(()=>{e.current=t}),v.useDebugValue(t),v.useCallback((...n)=>{const r=e.current;return ec(r,"fn does not exist"),r(...n)},[])}function Lue(){const t=Ue(),e=v.useRef(null);return f.jsxs("div",{className:ue("tlui-offline-indicator"),ref:e,children:[t("status.offline"),f.jsx(Dr,{"aria-label":"offline",icon:"status-offline",small:!0})]})}va({tldrawFileFormatVersion:vB,schema:va({schemaVersion:cg,storeVersion:cg,recordVersions:w7(_o,va({version:cg,subTypeVersions:w7(_o,cg).optional(),subTypeKey:_o.optional()}))}),records:X5(va({id:_o,typeName:_o}).allowUnknownProperties())});var oj,Ik=Ec;oj=Ik.createRoot,Ik.hydrateRoot;/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vt(){return Vt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vt.apply(this,arguments)}var sn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(sn||(sn={}));const Pk="popstate";function Mue(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return tf("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:gc(s)}return Rue(e,n,null,t)}function Be(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function yh(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function jue(){return Math.random().toString(36).substr(2,8)}function zk(t,e){return{usr:t.state,key:t.key,idx:e}}function tf(t,e,n,r){return n===void 0&&(n=null),Vt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Jo(e):e,{state:n,key:e&&e.key||r||jue()})}function gc(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Jo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Rue(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=sn.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(Vt({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=sn.Pop;let w=d(),S=w==null?null:w-c;c=w,l&&l({action:a,location:m.location,delta:S})}function u(w,S){a=sn.Push;let b=tf(m.location,w,S);n&&n(b,w),c=d()+1;let g=zk(b,c),x=m.createHref(b);try{o.pushState(g,"",x)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(x)}i&&l&&l({action:a,location:m.location,delta:1})}function p(w,S){a=sn.Replace;let b=tf(m.location,w,S);n&&n(b,w),c=d();let g=zk(b,c),x=m.createHref(b);o.replaceState(g,"",x),i&&l&&l({action:a,location:m.location,delta:0})}function y(w){let S=s.location.origin!=="null"?s.location.origin:s.location.href,b=typeof w=="string"?w:gc(w);return b=b.replace(/ $/,"%20"),Be(S,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,S)}let m={get action(){return a},get location(){return t(s,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Pk,h),l=w,()=>{s.removeEventListener(Pk,h),l=null}},createHref(w){return e(s,w)},createURL:y,encodeLocation(w){let S=y(w);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:u,replace:p,go(w){return o.go(w)}};return m}var Dt;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Dt||(Dt={}));const $ue=new Set(["lazy","caseSensitive","path","id","index","children"]);function Oue(t){return t.index===!0}function A3(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((s,i)=>{let o=[...n,i],a=typeof s.id=="string"?s.id:o.join("-");if(Be(s.index!==!0||!s.children,"Cannot specify children on an index route"),Be(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),Oue(s)){let l=Vt({},s,e(s),{id:a});return r[a]=l,l}else{let l=Vt({},s,e(s),{id:a,children:void 0});return r[a]=l,s.children&&(l.children=A3(s.children,e,o,r)),l}})}function $d(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Jo(e):e,s=qh(r.pathname||"/",n);if(s==null)return null;let i=aj(t);que(i);let o=null;for(let a=0;o==null&&a<i.length;++a){let l=Que(s);o=Hue(i[a],l)}return o}function Due(t,e){let{route:n,pathname:r,params:s}=t;return{id:n.id,pathname:r,params:s,data:e[n.id],handle:n.handle}}function aj(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Be(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Ro([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(Be(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),aj(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:Xue(c,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of lj(i.path))s(i,o,l)}),e}function lj(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=lj(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function que(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Yue(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Bue=/^:[\w-]+$/,Fue=3,Kue=2,Wue=1,Uue=10,Vue=-2,Ak=t=>t==="*";function Xue(t,e){let n=t.split("/"),r=n.length;return n.some(Ak)&&(r+=Vue),e&&(r+=Kue),n.filter(s=>!Ak(s)).reduce((s,i)=>s+(Bue.test(i)?Fue:i===""?Wue:Uue),r)}function Yue(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function Hue(t,e){let{routesMeta:n}=t,r={},s="/",i=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=s==="/"?e:e.slice(s.length)||"/",d=Gue({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!d)return null;Object.assign(r,d.params);let h=a.route;i.push({params:r,pathname:Ro([s,d.pathname]),pathnameBase:tpe(Ro([s,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(s=Ro([s,d.pathnameBase]))}return i}function Gue(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Zue(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,d,h)=>{let{paramName:u,isOptional:p}=d;if(u==="*"){let m=a[h]||"";o=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const y=a[h];return p&&!y?c[u]=void 0:c[u]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function Zue(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),yh(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function Que(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return yh(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function qh(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Jue(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Jo(t):t;return{pathname:n?n.startsWith("/")?n:epe(n,e):e,search:npe(r),hash:rpe(s)}}function epe(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function h5(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function cj(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Db(t,e){let n=cj(t);return e?n.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function qb(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Jo(t):(s=Vt({},t),Be(!s.pathname||!s.pathname.includes("?"),h5("?","pathname","search",s)),Be(!s.pathname||!s.pathname.includes("#"),h5("#","pathname","hash",s)),Be(!s.search||!s.search.includes("#"),h5("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let u=o.split("/");for(;u[0]==="..";)u.shift(),h-=1;s.pathname=u.join("/")}a=h>=0?e[h]:"/"}let l=Jue(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Ro=t=>t.join("/").replace(/\/\/+/g,"/"),tpe=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),npe=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,rpe=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Bb{constructor(e,n,r,s){s===void 0&&(s=!1),this.status=e,this.statusText=n||"",this.internal=s,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Fb(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const dj=["post","put","patch","delete"],spe=new Set(dj),ipe=["get",...dj],ope=new Set(ipe),ape=new Set([301,302,303,307,308]),lpe=new Set([307,308]),u5={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},cpe={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},vu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Kb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dpe=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),hj="remix-router-transitions";function hpe(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Be(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let s;if(t.mapRouteProperties)s=t.mapRouteProperties;else if(t.detectErrorBoundary){let F=t.detectErrorBoundary;s=V=>({hasErrorBoundary:F(V)})}else s=dpe;let i={},o=A3(t.routes,s,void 0,i),a,l=t.basename||"/",c=t.unstable_dataStrategy||gpe,d=Vt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,unstable_skipActionErrorRevalidation:!1},t.future),h=null,u=new Set,p=null,y=null,m=null,w=t.hydrationData!=null,S=$d(o,t.history.location,l),b=null;if(S==null){let F=As(404,{pathname:t.history.location.pathname}),{matches:V,route:H}=qk(o);S=V,b={[H.id]:F}}let g,x=S.some(F=>F.route.lazy),k=S.some(F=>F.route.loader);if(x)g=!1;else if(!k)g=!0;else if(d.v7_partialHydration){let F=t.hydrationData?t.hydrationData.loaderData:null,V=t.hydrationData?t.hydrationData.errors:null,H=te=>te.route.loader?typeof te.route.loader=="function"&&te.route.loader.hydrate===!0?!1:F&&F[te.route.id]!==void 0||V&&V[te.route.id]!==void 0:!0;if(V){let te=S.findIndex(oe=>V[oe.route.id]!==void 0);g=S.slice(0,te+1).every(H)}else g=S.every(H)}else g=t.hydrationData!=null;let C,_={historyAction:t.history.action,location:t.history.location,matches:S,initialized:g,navigation:u5,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||b,fetchers:new Map,blockers:new Map},E=sn.Pop,z=!1,P,A=!1,N=new Map,L=null,M=!1,q=!1,D=[],X=[],O=new Map,K=0,W=-1,G=new Map,J=new Set,ye=new Map,Le=new Map,ne=new Set,ve=new Map,Ie=new Map,rt=!1;function Pe(){if(h=t.history.listen(F=>{let{action:V,location:H,delta:te}=F;if(rt){rt=!1;return}yh(Ie.size===0||te!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let oe=Gf({currentLocation:_.location,nextLocation:H,historyAction:V});if(oe&&te!=null){rt=!0,t.history.go(te*-1),ml(oe,{state:"blocked",location:H,proceed(){ml(oe,{state:"proceeding",proceed:void 0,reset:void 0,location:H}),t.history.go(te)},reset(){let ze=new Map(_.blockers);ze.set(oe,vu),Je({blockers:ze})}});return}return He(V,H)}),n){Ipe(e,N);let F=()=>Ppe(e,N);e.addEventListener("pagehide",F),L=()=>e.removeEventListener("pagehide",F)}return _.initialized||He(sn.Pop,_.location,{initialHydration:!0}),C}function $e(){h&&h(),L&&L(),u.clear(),P&&P.abort(),_.fetchers.forEach((F,V)=>gl(V)),_.blockers.forEach((F,V)=>Vh(V))}function Ce(F){return u.add(F),()=>u.delete(F)}function Je(F,V){V===void 0&&(V={}),_=Vt({},_,F);let H=[],te=[];d.v7_fetcherPersist&&_.fetchers.forEach((oe,ze)=>{oe.state==="idle"&&(ne.has(ze)?te.push(ze):H.push(ze))}),[...u].forEach(oe=>oe(_,{deletedFetchers:te,unstable_viewTransitionOpts:V.viewTransitionOpts,unstable_flushSync:V.flushSync===!0})),d.v7_fetcherPersist&&(H.forEach(oe=>_.fetchers.delete(oe)),te.forEach(oe=>gl(oe)))}function Ct(F,V,H){var te,oe;let{flushSync:ze}=H===void 0?{}:H,xe=_.actionData!=null&&_.navigation.formMethod!=null&&ti(_.navigation.formMethod)&&_.navigation.state==="loading"&&((te=F.state)==null?void 0:te._isRedirect)!==!0,de;V.actionData?Object.keys(V.actionData).length>0?de=V.actionData:de=null:xe?de=_.actionData:de=null;let Ae=V.loaderData?Ok(_.loaderData,V.loaderData,V.matches||[],V.errors):_.loaderData,Ee=_.blockers;Ee.size>0&&(Ee=new Map(Ee),Ee.forEach((_e,yt)=>Ee.set(yt,vu)));let rn=z===!0||_.navigation.formMethod!=null&&ti(_.navigation.formMethod)&&((oe=F.state)==null?void 0:oe._isRedirect)!==!0;a&&(o=a,a=void 0),M||E===sn.Pop||(E===sn.Push?t.history.push(F,F.state):E===sn.Replace&&t.history.replace(F,F.state));let _t;if(E===sn.Pop){let _e=N.get(_.location.pathname);_e&&_e.has(F.pathname)?_t={currentLocation:_.location,nextLocation:F}:N.has(F.pathname)&&(_t={currentLocation:F,nextLocation:_.location})}else if(A){let _e=N.get(_.location.pathname);_e?_e.add(F.pathname):(_e=new Set([F.pathname]),N.set(_.location.pathname,_e)),_t={currentLocation:_.location,nextLocation:F}}Je(Vt({},V,{actionData:de,loaderData:Ae,historyAction:E,location:F,initialized:!0,navigation:u5,revalidation:"idle",restoreScrollPosition:Mc(F,V.matches||_.matches),preventScrollReset:rn,blockers:Ee}),{viewTransitionOpts:_t,flushSync:ze===!0}),E=sn.Pop,z=!1,A=!1,M=!1,q=!1,D=[],X=[]}async function Jt(F,V){if(typeof F=="number"){t.history.go(F);return}let H=N3(_.location,_.matches,l,d.v7_prependBasename,F,d.v7_relativeSplatPath,V==null?void 0:V.fromRouteId,V==null?void 0:V.relative),{path:te,submission:oe,error:ze}=Nk(d.v7_normalizeFormMethod,!1,H,V),xe=_.location,de=tf(_.location,te,V&&V.state);de=Vt({},de,t.history.encodeLocation(de));let Ae=V&&V.replace!=null?V.replace:void 0,Ee=sn.Push;Ae===!0?Ee=sn.Replace:Ae===!1||oe!=null&&ti(oe.formMethod)&&oe.formAction===_.location.pathname+_.location.search&&(Ee=sn.Replace);let rn=V&&"preventScrollReset"in V?V.preventScrollReset===!0:void 0,_t=(V&&V.unstable_flushSync)===!0,_e=Gf({currentLocation:xe,nextLocation:de,historyAction:Ee});if(_e){ml(_e,{state:"blocked",location:de,proceed(){ml(_e,{state:"proceeding",proceed:void 0,reset:void 0,location:de}),Jt(F,V)},reset(){let yt=new Map(_.blockers);yt.set(_e,vu),Je({blockers:yt})}});return}return await He(Ee,de,{submission:oe,pendingError:ze,preventScrollReset:rn,replace:V&&V.replace,enableViewTransition:V&&V.unstable_viewTransition,flushSync:_t})}function Ke(){if(Kh(),Je({revalidation:"loading"}),_.navigation.state!=="submitting"){if(_.navigation.state==="idle"){He(_.historyAction,_.location,{startUninterruptedRevalidation:!0});return}He(E||_.historyAction,_.navigation.location,{overrideNavigation:_.navigation})}}async function He(F,V,H){P&&P.abort(),P=null,E=F,M=(H&&H.startUninterruptedRevalidation)===!0,f2(_.location,_.matches),z=(H&&H.preventScrollReset)===!0,A=(H&&H.enableViewTransition)===!0;let te=a||o,oe=H&&H.overrideNavigation,ze=$d(te,V,l),xe=(H&&H.flushSync)===!0;if(!ze){let _e=As(404,{pathname:V.pathname}),{matches:yt,route:ln}=qk(te);Ys(),Ct(V,{matches:yt,loaderData:{},errors:{[ln.id]:_e}},{flushSync:xe});return}if(_.initialized&&!q&&bpe(_.location,V)&&!(H&&H.submission&&ti(H.submission.formMethod))){Ct(V,{matches:ze},{flushSync:xe});return}P=new AbortController;let de=nd(t.history,V,P.signal,H&&H.submission),Ae;if(H&&H.pendingError)Ae=[cp(ze).route.id,{type:Dt.error,error:H.pendingError}];else if(H&&H.submission&&ti(H.submission.formMethod)){let _e=await bs(de,V,H.submission,ze,{replace:H.replace,flushSync:xe});if(_e.shortCircuited)return;Ae=_e.pendingActionResult,oe=p5(V,H.submission),xe=!1,de=nd(t.history,de.url,de.signal)}let{shortCircuited:Ee,loaderData:rn,errors:_t}=await Vs(de,V,ze,oe,H&&H.submission,H&&H.fetcherSubmission,H&&H.replace,H&&H.initialHydration===!0,xe,Ae);Ee||(P=null,Ct(V,Vt({matches:ze},Dk(Ae),{loaderData:rn,errors:_t})))}async function bs(F,V,H,te,oe){oe===void 0&&(oe={}),Kh();let ze=_pe(V,H);Je({navigation:ze},{flushSync:oe.flushSync===!0});let xe,de=L3(te,V);if(!de.route.action&&!de.route.lazy)xe={type:Dt.error,error:As(405,{method:F.method,pathname:V.pathname,routeId:de.route.id})};else if(xe=(await fl("action",F,[de],te))[0],F.signal.aborted)return{shortCircuited:!0};if(Kl(xe)){let Ae;return oe&&oe.replace!=null?Ae=oe.replace:Ae=jk(xe.response.headers.get("Location"),new URL(F.url),l)===_.location.pathname+_.location.search,await pl(F,xe,{submission:H,replace:Ae}),{shortCircuited:!0}}if(Fl(xe))throw As(400,{type:"defer-action"});if(js(xe)){let Ae=cp(te,de.route.id);return(oe&&oe.replace)!==!0&&(E=sn.Push),{pendingActionResult:[Ae.route.id,xe]}}return{pendingActionResult:[de.route.id,xe]}}async function Vs(F,V,H,te,oe,ze,xe,de,Ae,Ee){let rn=te||p5(V,oe),_t=oe||ze||Kk(rn),_e=a||o,[yt,ln]=Tk(t.history,_,H,_t,V,d.v7_partialHydration&&de===!0,d.unstable_skipActionErrorRevalidation,q,D,X,ne,ye,J,_e,l,Ee);if(Ys(We=>!(H&&H.some(En=>En.route.id===We))||yt&&yt.some(En=>En.route.id===We)),W=++K,yt.length===0&&ln.length===0){let We=Hf();return Ct(V,Vt({matches:H,loaderData:{},errors:Ee&&js(Ee[1])?{[Ee[0]]:Ee[1].error}:null},Dk(Ee),We?{fetchers:new Map(_.fetchers)}:{}),{flushSync:Ae}),{shortCircuited:!0}}if(!M&&(!d.v7_partialHydration||!de)){ln.forEach(En=>{let Er=_.fetchers.get(En.key),hn=ku(void 0,Er?Er.data:void 0);_.fetchers.set(En.key,hn)});let We;Ee&&!js(Ee[1])?We={[Ee[0]]:Ee[1].data}:_.actionData&&(Object.keys(_.actionData).length===0?We=null:We=_.actionData),Je(Vt({navigation:rn},We!==void 0?{actionData:We}:{},ln.length>0?{fetchers:new Map(_.fetchers)}:{}),{flushSync:Ae})}ln.forEach(We=>{O.has(We.key)&&Xs(We.key),We.controller&&O.set(We.key,We.controller)});let xl=()=>ln.forEach(We=>Xs(We.key));P&&P.signal.addEventListener("abort",xl);let{loaderResults:_i,fetcherResults:Un}=await Yf(_.matches,H,yt,ln,F);if(F.signal.aborted)return{shortCircuited:!0};P&&P.signal.removeEventListener("abort",xl),ln.forEach(We=>O.delete(We.key));let ia=Bk([..._i,...Un]);if(ia){if(ia.idx>=yt.length){let We=ln[ia.idx-yt.length].key;J.add(We)}return await pl(F,ia.result,{replace:xe}),{shortCircuited:!0}}let{loaderData:oa,errors:ks}=$k(_,H,yt,_i,Ee,ln,Un,ve);ve.forEach((We,En)=>{We.subscribe(Er=>{(Er||We.done)&&ve.delete(En)})}),d.v7_partialHydration&&de&&_.errors&&Object.entries(_.errors).filter(We=>{let[En]=We;return!yt.some(Er=>Er.route.id===En)}).forEach(We=>{let[En,Er]=We;ks=Object.assign(ks||{},{[En]:Er})});let jc=Hf(),Rc=Uh(W),Cs=jc||Rc||ln.length>0;return Vt({loaderData:oa,errors:ks},Cs?{fetchers:new Map(_.fetchers)}:{})}function ul(F,V,H,te){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");O.has(F)&&Xs(F);let oe=(te&&te.unstable_flushSync)===!0,ze=a||o,xe=N3(_.location,_.matches,l,d.v7_prependBasename,H,d.v7_relativeSplatPath,V,te==null?void 0:te.relative),de=$d(ze,xe,l);if(!de){Ci(F,V,As(404,{pathname:xe}),{flushSync:oe});return}let{path:Ae,submission:Ee,error:rn}=Nk(d.v7_normalizeFormMethod,!0,xe,te);if(rn){Ci(F,V,rn,{flushSync:oe});return}let _t=L3(de,Ae);if(z=(te&&te.preventScrollReset)===!0,Ee&&ti(Ee.formMethod)){ra(F,V,Ae,_t,de,oe,Ee);return}ye.set(F,{routeId:V,path:Ae}),sa(F,V,Ae,_t,de,oe,Ee)}async function ra(F,V,H,te,oe,ze,xe){if(Kh(),ye.delete(F),!te.route.action&&!te.route.lazy){let hn=As(405,{method:xe.formMethod,pathname:H,routeId:V});Ci(F,V,hn,{flushSync:ze});return}let de=_.fetchers.get(F);ki(F,Epe(xe,de),{flushSync:ze});let Ae=new AbortController,Ee=nd(t.history,H,Ae.signal,xe);O.set(F,Ae);let rn=K,_e=(await fl("action",Ee,[te],oe))[0];if(Ee.signal.aborted){O.get(F)===Ae&&O.delete(F);return}if(d.v7_fetcherPersist&&ne.has(F)){if(Kl(_e)||js(_e)){ki(F,ga(void 0));return}}else{if(Kl(_e))if(O.delete(F),W>rn){ki(F,ga(void 0));return}else return J.add(F),ki(F,ku(xe)),pl(Ee,_e,{fetcherSubmission:xe});if(js(_e)){Ci(F,V,_e.error);return}}if(Fl(_e))throw As(400,{type:"defer-action"});let yt=_.navigation.location||_.location,ln=nd(t.history,yt,Ae.signal),xl=a||o,_i=_.navigation.state!=="idle"?$d(xl,_.navigation.location,l):_.matches;Be(_i,"Didn't find any matches after fetcher action");let Un=++K;G.set(F,Un);let ia=ku(xe,_e.data);_.fetchers.set(F,ia);let[oa,ks]=Tk(t.history,_,_i,xe,yt,!1,d.unstable_skipActionErrorRevalidation,q,D,X,ne,ye,J,xl,l,[te.route.id,_e]);ks.filter(hn=>hn.key!==F).forEach(hn=>{let wl=hn.key,Sl=_.fetchers.get(wl),g2=ku(void 0,Sl?Sl.data:void 0);_.fetchers.set(wl,g2),O.has(wl)&&Xs(wl),hn.controller&&O.set(wl,hn.controller)}),Je({fetchers:new Map(_.fetchers)});let jc=()=>ks.forEach(hn=>Xs(hn.key));Ae.signal.addEventListener("abort",jc);let{loaderResults:Rc,fetcherResults:Cs}=await Yf(_.matches,_i,oa,ks,ln);if(Ae.signal.aborted)return;Ae.signal.removeEventListener("abort",jc),G.delete(F),O.delete(F),ks.forEach(hn=>O.delete(hn.key));let We=Bk([...Rc,...Cs]);if(We){if(We.idx>=oa.length){let hn=ks[We.idx-oa.length].key;J.add(hn)}return pl(ln,We.result)}let{loaderData:En,errors:Er}=$k(_,_.matches,oa,Rc,void 0,ks,Cs,ve);if(_.fetchers.has(F)){let hn=ga(_e.data);_.fetchers.set(F,hn)}Uh(Un),_.navigation.state==="loading"&&Un>W?(Be(E,"Expected pending action"),P&&P.abort(),Ct(_.navigation.location,{matches:_i,loaderData:En,errors:Er,fetchers:new Map(_.fetchers)})):(Je({errors:Er,loaderData:Ok(_.loaderData,En,_i,Er),fetchers:new Map(_.fetchers)}),q=!1)}async function sa(F,V,H,te,oe,ze,xe){let de=_.fetchers.get(F);ki(F,ku(xe,de?de.data:void 0),{flushSync:ze});let Ae=new AbortController,Ee=nd(t.history,H,Ae.signal);O.set(F,Ae);let rn=K,_e=(await fl("loader",Ee,[te],oe))[0];if(Fl(_e)&&(_e=await gj(_e,Ee.signal,!0)||_e),O.get(F)===Ae&&O.delete(F),!Ee.signal.aborted){if(ne.has(F)){ki(F,ga(void 0));return}if(Kl(_e))if(W>rn){ki(F,ga(void 0));return}else{J.add(F),await pl(Ee,_e);return}if(js(_e)){Ci(F,V,_e.error);return}Be(!Fl(_e),"Unhandled fetcher deferred data"),ki(F,ga(_e.data))}}async function pl(F,V,H){let{submission:te,fetcherSubmission:oe,replace:ze}=H===void 0?{}:H;V.response.headers.has("X-Remix-Revalidate")&&(q=!0);let xe=V.response.headers.get("Location");Be(xe,"Expected a Location header on the redirect Response"),xe=jk(xe,new URL(F.url),l);let de=tf(_.location,xe,{_isRedirect:!0});if(n){let yt=!1;if(V.response.headers.has("X-Remix-Reload-Document"))yt=!0;else if(Kb.test(xe)){const ln=t.history.createURL(xe);yt=ln.origin!==e.location.origin||qh(ln.pathname,l)==null}if(yt){ze?e.location.replace(xe):e.location.assign(xe);return}}P=null;let Ae=ze===!0?sn.Replace:sn.Push,{formMethod:Ee,formAction:rn,formEncType:_t}=_.navigation;!te&&!oe&&Ee&&rn&&_t&&(te=Kk(_.navigation));let _e=te||oe;if(lpe.has(V.response.status)&&_e&&ti(_e.formMethod))await He(Ae,de,{submission:Vt({},_e,{formAction:xe}),preventScrollReset:z});else{let yt=p5(de,te);await He(Ae,de,{overrideNavigation:yt,fetcherSubmission:oe,preventScrollReset:z})}}async function fl(F,V,H,te){try{let oe=await mpe(c,F,V,H,te,i,s);return await Promise.all(oe.map((ze,xe)=>{if(vpe(ze)){let de=ze.result;return{type:Dt.redirect,response:wpe(de,V,H[xe].route.id,te,l,d.v7_relativeSplatPath)}}return xpe(ze)}))}catch(oe){return H.map(()=>({type:Dt.error,error:oe}))}}async function Yf(F,V,H,te,oe){let[ze,...xe]=await Promise.all([H.length?fl("loader",oe,H,V):[],...te.map(de=>{if(de.matches&&de.match&&de.controller){let Ae=nd(t.history,de.path,de.controller.signal);return fl("loader",Ae,[de.match],de.matches).then(Ee=>Ee[0])}else return Promise.resolve({type:Dt.error,error:As(404,{pathname:de.path})})})]);return await Promise.all([Fk(F,H,ze,ze.map(()=>oe.signal),!1,_.loaderData),Fk(F,te.map(de=>de.match),xe,te.map(de=>de.controller?de.controller.signal:null),!0)]),{loaderResults:ze,fetcherResults:xe}}function Kh(){q=!0,D.push(...Ys()),ye.forEach((F,V)=>{O.has(V)&&(X.push(V),Xs(V))})}function ki(F,V,H){H===void 0&&(H={}),_.fetchers.set(F,V),Je({fetchers:new Map(_.fetchers)},{flushSync:(H&&H.flushSync)===!0})}function Ci(F,V,H,te){te===void 0&&(te={});let oe=cp(_.matches,V);gl(F),Je({errors:{[oe.route.id]:H},fetchers:new Map(_.fetchers)},{flushSync:(te&&te.flushSync)===!0})}function Tc(F){return d.v7_fetcherPersist&&(Le.set(F,(Le.get(F)||0)+1),ne.has(F)&&ne.delete(F)),_.fetchers.get(F)||cpe}function gl(F){let V=_.fetchers.get(F);O.has(F)&&!(V&&V.state==="loading"&&G.has(F))&&Xs(F),ye.delete(F),G.delete(F),J.delete(F),ne.delete(F),_.fetchers.delete(F)}function vs(F){if(d.v7_fetcherPersist){let V=(Le.get(F)||0)-1;V<=0?(Le.delete(F),ne.add(F)):Le.set(F,V)}else gl(F);Je({fetchers:new Map(_.fetchers)})}function Xs(F){let V=O.get(F);Be(V,"Expected fetch controller: "+F),V.abort(),O.delete(F)}function Wh(F){for(let V of F){let H=Tc(V),te=ga(H.data);_.fetchers.set(V,te)}}function Hf(){let F=[],V=!1;for(let H of J){let te=_.fetchers.get(H);Be(te,"Expected fetcher: "+H),te.state==="loading"&&(J.delete(H),F.push(H),V=!0)}return Wh(F),V}function Uh(F){let V=[];for(let[H,te]of G)if(te<F){let oe=_.fetchers.get(H);Be(oe,"Expected fetcher: "+H),oe.state==="loading"&&(Xs(H),G.delete(H),V.push(H))}return Wh(V),V.length>0}function Lc(F,V){let H=_.blockers.get(F)||vu;return Ie.get(F)!==V&&Ie.set(F,V),H}function Vh(F){_.blockers.delete(F),Ie.delete(F)}function ml(F,V){let H=_.blockers.get(F)||vu;Be(H.state==="unblocked"&&V.state==="blocked"||H.state==="blocked"&&V.state==="blocked"||H.state==="blocked"&&V.state==="proceeding"||H.state==="blocked"&&V.state==="unblocked"||H.state==="proceeding"&&V.state==="unblocked","Invalid blocker state transition: "+H.state+" -> "+V.state);let te=new Map(_.blockers);te.set(F,V),Je({blockers:te})}function Gf(F){let{currentLocation:V,nextLocation:H,historyAction:te}=F;if(Ie.size===0)return;Ie.size>1&&yh(!1,"A router only supports one blocker at a time");let oe=Array.from(Ie.entries()),[ze,xe]=oe[oe.length-1],de=_.blockers.get(ze);if(!(de&&de.state==="proceeding")&&xe({currentLocation:V,nextLocation:H,historyAction:te}))return ze}function Ys(F){let V=[];return ve.forEach((H,te)=>{(!F||F(te))&&(H.cancel(),V.push(te),ve.delete(te))}),V}function Zf(F,V,H){if(p=F,m=V,y=H||null,!w&&_.navigation===u5){w=!0;let te=Mc(_.location,_.matches);te!=null&&Je({restoreScrollPosition:te})}return()=>{p=null,m=null,y=null}}function Qf(F,V){return y&&y(F,V.map(te=>Due(te,_.loaderData)))||F.key}function f2(F,V){if(p&&m){let H=Qf(F,V);p[H]=m()}}function Mc(F,V){if(p){let H=Qf(F,V),te=p[H];if(typeof te=="number")return te}return null}function yl(F){i={},a=A3(F,s,void 0,i)}return C={get basename(){return l},get future(){return d},get state(){return _},get routes(){return o},get window(){return e},initialize:Pe,subscribe:Ce,enableScrollRestoration:Zf,navigate:Jt,fetch:ul,revalidate:Ke,createHref:F=>t.history.createHref(F),encodeLocation:F=>t.history.encodeLocation(F),getFetcher:Tc,deleteFetcher:vs,dispose:$e,getBlocker:Lc,deleteBlocker:Vh,_internalFetchControllers:O,_internalActiveDeferreds:ve,_internalSetRoutes:yl},C}function upe(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function N3(t,e,n,r,s,i,o,a){let l,c;if(o){l=[];for(let h of e)if(l.push(h),h.route.id===o){c=h;break}}else l=e,c=e[e.length-1];let d=qb(s||".",Db(l,i),qh(t.pathname,n)||t.pathname,a==="path");return s==null&&(d.search=t.search,d.hash=t.hash),(s==null||s===""||s===".")&&c&&c.route.index&&!Wb(d.search)&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(d.pathname=d.pathname==="/"?n:Ro([n,d.pathname])),gc(d)}function Nk(t,e,n,r){if(!r||!upe(r))return{path:n};if(r.formMethod&&!Cpe(r.formMethod))return{path:n,error:As(405,{method:r.formMethod})};let s=()=>({path:n,error:As(400,{type:"invalid-body"})}),i=r.formMethod||"get",o=t?i.toUpperCase():i.toLowerCase(),a=pj(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!ti(o))return s();let u=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((p,y)=>{let[m,w]=y;return""+p+m+"="+w+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:u}}}else if(r.formEncType==="application/json"){if(!ti(o))return s();try{let u=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:u,text:void 0}}}catch{return s()}}}Be(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=T3(r.formData),c=r.formData;else if(r.body instanceof FormData)l=T3(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=Rk(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=Rk(l)}catch{return s()}let d={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(ti(d.formMethod))return{path:n,submission:d};let h=Jo(n);return e&&h.search&&Wb(h.search)&&l.append("index",""),h.search="?"+l,{path:gc(h),submission:d}}function ppe(t,e){let n=t;if(e){let r=t.findIndex(s=>s.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function Tk(t,e,n,r,s,i,o,a,l,c,d,h,u,p,y,m){let w=m?js(m[1])?m[1].error:m[1].data:void 0,S=t.createURL(e.location),b=t.createURL(s),g=m&&js(m[1])?m[0]:void 0,x=g?ppe(n,g):n,k=m?m[1].statusCode:void 0,C=o&&k&&k>=400,_=x.filter((z,P)=>{let{route:A}=z;if(A.lazy)return!0;if(A.loader==null)return!1;if(i)return typeof A.loader!="function"||A.loader.hydrate?!0:e.loaderData[A.id]===void 0&&(!e.errors||e.errors[A.id]===void 0);if(fpe(e.loaderData,e.matches[P],z)||l.some(M=>M===z.route.id))return!0;let N=e.matches[P],L=z;return Lk(z,Vt({currentUrl:S,currentParams:N.params,nextUrl:b,nextParams:L.params},r,{actionResult:w,unstable_actionStatus:k,defaultShouldRevalidate:C?!1:a||S.pathname+S.search===b.pathname+b.search||S.search!==b.search||uj(N,L)}))}),E=[];return h.forEach((z,P)=>{if(i||!n.some(q=>q.route.id===z.routeId)||d.has(P))return;let A=$d(p,z.path,y);if(!A){E.push({key:P,routeId:z.routeId,path:z.path,matches:null,match:null,controller:null});return}let N=e.fetchers.get(P),L=L3(A,z.path),M=!1;u.has(P)?M=!1:c.includes(P)?M=!0:N&&N.state!=="idle"&&N.data===void 0?M=a:M=Lk(L,Vt({currentUrl:S,currentParams:e.matches[e.matches.length-1].params,nextUrl:b,nextParams:n[n.length-1].params},r,{actionResult:w,unstable_actionStatus:k,defaultShouldRevalidate:C?!1:a})),M&&E.push({key:P,routeId:z.routeId,path:z.path,matches:A,match:L,controller:new AbortController})}),[_,E]}function fpe(t,e,n){let r=!e||n.route.id!==e.route.id,s=t[n.route.id]===void 0;return r||s}function uj(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Lk(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function Mk(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let s=n[t.id];Be(s,"No route found in manifest");let i={};for(let o in r){let l=s[o]!==void 0&&o!=="hasErrorBoundary";yh(!l,'Route "'+s.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!$ue.has(o)&&(i[o]=r[o])}Object.assign(s,i),Object.assign(s,Vt({},e(s),{lazy:void 0}))}function gpe(t){return Promise.all(t.matches.map(e=>e.resolve()))}async function mpe(t,e,n,r,s,i,o,a){let l=r.reduce((h,u)=>h.add(u.route.id),new Set),c=new Set,d=await t({matches:s.map(h=>{let u=l.has(h.route.id);return Vt({},h,{shouldLoad:u,resolve:y=>(c.add(h.route.id),u?ype(e,n,h,i,o,y,a):Promise.resolve({type:Dt.data,result:void 0}))})}),request:n,params:s[0].params,context:a});return s.forEach(h=>Be(c.has(h.route.id),'`match.resolve()` was not called for route id "'+h.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),d.filter((h,u)=>l.has(s[u].route.id))}async function ype(t,e,n,r,s,i,o){let a,l,c=d=>{let h,u=new Promise((m,w)=>h=w);l=()=>h(),e.signal.addEventListener("abort",l);let p=m=>typeof d!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):d({request:e,params:n.params,context:o},...m!==void 0?[m]:[]),y;return i?y=i(m=>p(m)):y=(async()=>{try{return{type:"data",result:await p()}}catch(m){return{type:"error",result:m}}})(),Promise.race([y,u])};try{let d=n.route[t];if(n.route.lazy)if(d){let h,[u]=await Promise.all([c(d).catch(p=>{h=p}),Mk(n.route,s,r)]);if(h!==void 0)throw h;a=u}else if(await Mk(n.route,s,r),d=n.route[t],d)a=await c(d);else if(t==="action"){let h=new URL(e.url),u=h.pathname+h.search;throw As(405,{method:e.method,pathname:u,routeId:n.route.id})}else return{type:Dt.data,result:void 0};else if(d)a=await c(d);else{let h=new URL(e.url),u=h.pathname+h.search;throw As(404,{pathname:u})}Be(a.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(d){return{type:Dt.error,result:d}}finally{l&&e.signal.removeEventListener("abort",l)}return a}async function xpe(t){let{result:e,type:n,status:r}=t;if(fj(e)){let o;try{let a=e.headers.get("Content-Type");a&&/\bapplication\/json\b/.test(a)?e.body==null?o=null:o=await e.json():o=await e.text()}catch(a){return{type:Dt.error,error:a}}return n===Dt.error?{type:Dt.error,error:new Bb(e.status,e.statusText,o),statusCode:e.status,headers:e.headers}:{type:Dt.data,data:o,statusCode:e.status,headers:e.headers}}if(n===Dt.error)return{type:Dt.error,error:e,statusCode:Fb(e)?e.status:r};if(kpe(e)){var s,i;return{type:Dt.deferred,deferredData:e,statusCode:(s=e.init)==null?void 0:s.status,headers:((i=e.init)==null?void 0:i.headers)&&new Headers(e.init.headers)}}return{type:Dt.data,data:e,statusCode:r}}function wpe(t,e,n,r,s,i){let o=t.headers.get("Location");if(Be(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!Kb.test(o)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);o=N3(new URL(e.url),a,s,!0,o,i),t.headers.set("Location",o)}return t}function jk(t,e,n){if(Kb.test(t)){let r=t,s=r.startsWith("//")?new URL(e.protocol+r):new URL(r),i=qh(s.pathname,n)!=null;if(s.origin===e.origin&&i)return s.pathname+s.search+s.hash}return t}function nd(t,e,n,r){let s=t.createURL(pj(e)).toString(),i={signal:n};if(r&&ti(r.formMethod)){let{formMethod:o,formEncType:a}=r;i.method=o.toUpperCase(),a==="application/json"?(i.headers=new Headers({"Content-Type":a}),i.body=JSON.stringify(r.json)):a==="text/plain"?i.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?i.body=T3(r.formData):i.body=r.formData}return new Request(s,i)}function T3(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function Rk(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function Spe(t,e,n,r,s,i){let o={},a=null,l,c=!1,d={},h=r&&js(r[1])?r[1].error:void 0;return n.forEach((u,p)=>{let y=e[p].route.id;if(Be(!Kl(u),"Cannot handle redirect results in processLoaderData"),js(u)){let m=u.error;if(h!==void 0&&(m=h,h=void 0),a=a||{},i)a[y]=m;else{let w=cp(t,y);a[w.route.id]==null&&(a[w.route.id]=m)}o[y]=void 0,c||(c=!0,l=Fb(u.error)?u.error.status:500),u.headers&&(d[y]=u.headers)}else Fl(u)?(s.set(y,u.deferredData),o[y]=u.deferredData.data,u.statusCode!=null&&u.statusCode!==200&&!c&&(l=u.statusCode),u.headers&&(d[y]=u.headers)):(o[y]=u.data,u.statusCode&&u.statusCode!==200&&!c&&(l=u.statusCode),u.headers&&(d[y]=u.headers))}),h!==void 0&&r&&(a={[r[0]]:h},o[r[0]]=void 0),{loaderData:o,errors:a,statusCode:l||200,loaderHeaders:d}}function $k(t,e,n,r,s,i,o,a){let{loaderData:l,errors:c}=Spe(e,n,r,s,a,!1);for(let d=0;d<i.length;d++){let{key:h,match:u,controller:p}=i[d];Be(o!==void 0&&o[d]!==void 0,"Did not find corresponding fetcher result");let y=o[d];if(!(p&&p.signal.aborted))if(js(y)){let m=cp(t.matches,u==null?void 0:u.route.id);c&&c[m.route.id]||(c=Vt({},c,{[m.route.id]:y.error})),t.fetchers.delete(h)}else if(Kl(y))Be(!1,"Unhandled fetcher revalidation redirect");else if(Fl(y))Be(!1,"Unhandled fetcher deferred data");else{let m=ga(y.data);t.fetchers.set(h,m)}}return{loaderData:l,errors:c}}function Ok(t,e,n,r){let s=Vt({},e);for(let i of n){let o=i.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(s[o]=e[o]):t[o]!==void 0&&i.route.loader&&(s[o]=t[o]),r&&r.hasOwnProperty(o))break}return s}function Dk(t){return t?js(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function cp(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function qk(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function As(t,e){let{pathname:n,routeId:r,method:s,type:i}=e===void 0?{}:e,o="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(o="Bad Request",s&&n&&r?a="You made a "+s+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":i==="defer-action"?a="defer() is not supported in actions":i==="invalid-body"&&(a="Unable to encode submission body")):t===403?(o="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):t===404?(o="Not Found",a='No route matches URL "'+n+'"'):t===405&&(o="Method Not Allowed",s&&n&&r?a="You made a "+s.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":s&&(a='Invalid request method "'+s.toUpperCase()+'"')),new Bb(t||500,o,new Error(a),!0)}function Bk(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(Kl(n))return{result:n,idx:e}}}function pj(t){let e=typeof t=="string"?Jo(t):t;return gc(Vt({},e,{hash:""}))}function bpe(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function vpe(t){return fj(t.result)&&ape.has(t.result.status)}function Fl(t){return t.type===Dt.deferred}function js(t){return t.type===Dt.error}function Kl(t){return(t&&t.type)===Dt.redirect}function kpe(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function fj(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function Cpe(t){return ope.has(t.toLowerCase())}function ti(t){return spe.has(t.toLowerCase())}async function Fk(t,e,n,r,s,i){for(let o=0;o<n.length;o++){let a=n[o],l=e[o];if(!l)continue;let c=t.find(h=>h.route.id===l.route.id),d=c!=null&&!uj(c,l)&&(i&&i[l.route.id])!==void 0;if(Fl(a)&&(s||d)){let h=r[o];Be(h,"Expected an AbortSignal for revalidating fetcher deferred result"),await gj(a,h,s).then(u=>{u&&(n[o]=u||n[o])})}}}async function gj(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Dt.data,data:t.deferredData.unwrappedData}}catch(s){return{type:Dt.error,error:s}}return{type:Dt.data,data:t.deferredData.data}}}function Wb(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function L3(t,e){let n=typeof e=="string"?Jo(e).search:e.search;if(t[t.length-1].route.index&&Wb(n||""))return t[t.length-1];let r=cj(t);return r[r.length-1]}function Kk(t){let{formMethod:e,formAction:n,formEncType:r,text:s,formData:i,json:o}=t;if(!(!e||!n||!r)){if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:s};if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:i,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function p5(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function _pe(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function ku(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Epe(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function ga(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Ipe(t,e){try{let n=t.sessionStorage.getItem(hj);if(n){let r=JSON.parse(n);for(let[s,i]of Object.entries(r||{}))i&&Array.isArray(i)&&e.set(s,new Set(i||[]))}}catch{}}function Ppe(t,e){if(e.size>0){let n={};for(let[r,s]of e)n[r]=[...s];try{t.sessionStorage.setItem(hj,JSON.stringify(n))}catch(r){yh(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nf(){return nf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nf.apply(this,arguments)}const t2=v.createContext(null),mj=v.createContext(null),Ac=v.createContext(null),n2=v.createContext(null),Nc=v.createContext({outlet:null,matches:[],isDataRoute:!1}),yj=v.createContext(null);function zpe(t,e){let{relative:n}=e===void 0?{}:e;Ff()||Be(!1);let{basename:r,navigator:s}=v.useContext(Ac),{hash:i,pathname:o,search:a}=wj(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Ro([r,o])),s.createHref({pathname:l,search:a,hash:i})}function Ff(){return v.useContext(n2)!=null}function r2(){return Ff()||Be(!1),v.useContext(n2).location}function xj(t){v.useContext(Ac).static||v.useLayoutEffect(t)}function Ape(){let{isDataRoute:t}=v.useContext(Nc);return t?Fpe():Npe()}function Npe(){Ff()||Be(!1);let t=v.useContext(t2),{basename:e,future:n,navigator:r}=v.useContext(Ac),{matches:s}=v.useContext(Nc),{pathname:i}=r2(),o=JSON.stringify(Db(s,n.v7_relativeSplatPath)),a=v.useRef(!1);return xj(()=>{a.current=!0}),v.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=qb(c,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Ro([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,i,t])}function wj(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=v.useContext(Ac),{matches:s}=v.useContext(Nc),{pathname:i}=r2(),o=JSON.stringify(Db(s,r.v7_relativeSplatPath));return v.useMemo(()=>qb(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function Tpe(t,e,n,r){Ff()||Be(!1);let{navigator:s}=v.useContext(Ac),{matches:i}=v.useContext(Nc),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=r2(),d;if(e){var h;let w=typeof e=="string"?Jo(e):e;l==="/"||(h=w.pathname)!=null&&h.startsWith(l)||Be(!1),d=w}else d=c;let u=d.pathname||"/",p=u;if(l!=="/"){let w=l.replace(/^\//,"").split("/");p="/"+u.replace(/^\//,"").split("/").slice(w.length).join("/")}let y=$d(t,{pathname:p}),m=$pe(y&&y.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:Ro([l,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:Ro([l,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,n,r);return e&&m?v.createElement(n2.Provider,{value:{location:nf({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:sn.Pop}},m):m}function Lpe(){let t=Bpe(),e=Fb(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),n?v.createElement("pre",{style:s},n):null,i)}const Mpe=v.createElement(Lpe,null);class jpe extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?v.createElement(Nc.Provider,{value:this.props.routeContext},v.createElement(yj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Rpe(t){let{routeContext:e,match:n,children:r}=t,s=v.useContext(t2);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(Nc.Provider,{value:e},r)}function $pe(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||Be(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:u,errors:p}=n,y=h.route.loader&&u[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||y){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,u)=>{let p,y=!1,m=null,w=null;n&&(p=a&&h.route.id?a[h.route.id]:void 0,m=h.route.errorElement||Mpe,l&&(c<0&&u===0?(Kpe("route-fallback",!1),y=!0,w=null):c===u&&(y=!0,w=h.route.hydrateFallbackElement||null)));let S=e.concat(o.slice(0,u+1)),b=()=>{let g;return p?g=m:y?g=w:h.route.Component?g=v.createElement(h.route.Component,null):h.route.element?g=h.route.element:g=d,v.createElement(Rpe,{match:h,routeContext:{outlet:d,matches:S,isDataRoute:n!=null},children:g})};return n&&(h.route.ErrorBoundary||h.route.errorElement||u===0)?v.createElement(jpe,{location:n.location,revalidation:n.revalidation,component:m,error:p,children:b(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):b()},null)}var Sj=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Sj||{}),cy=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(cy||{});function Ope(t){let e=v.useContext(t2);return e||Be(!1),e}function Dpe(t){let e=v.useContext(mj);return e||Be(!1),e}function qpe(t){let e=v.useContext(Nc);return e||Be(!1),e}function bj(t){let e=qpe(),n=e.matches[e.matches.length-1];return n.route.id||Be(!1),n.route.id}function Bpe(){var t;let e=v.useContext(yj),n=Dpe(cy.UseRouteError),r=bj(cy.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Fpe(){let{router:t}=Ope(Sj.UseNavigateStable),e=bj(cy.UseNavigateStable),n=v.useRef(!1);return xj(()=>{n.current=!0}),v.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,nf({fromRouteId:e},i)))},[t,e])}const Wk={};function Kpe(t,e,n){!e&&!Wk[t]&&(Wk[t]=!0)}function Wpe(t){let{basename:e="/",children:n=null,location:r,navigationType:s=sn.Pop,navigator:i,static:o=!1,future:a}=t;Ff()&&Be(!1);let l=e.replace(/^\/*/,"/"),c=v.useMemo(()=>({basename:l,navigator:i,static:o,future:nf({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Jo(r));let{pathname:d="/",search:h="",hash:u="",state:p=null,key:y="default"}=r,m=v.useMemo(()=>{let w=qh(d,l);return w==null?null:{location:{pathname:w,search:h,hash:u,state:p,key:y},navigationType:s}},[l,d,h,u,p,y,s]);return m==null?null:v.createElement(Ac.Provider,{value:c},v.createElement(n2.Provider,{children:n,value:m}))}new Promise(()=>{});function Upe(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:v.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:v.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:v.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rf(){return rf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rf.apply(this,arguments)}function Vpe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function Xpe(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Ype(t,e){return t.button===0&&(!e||e==="_self")&&!Xpe(t)}const Hpe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Gpe="6";try{window.__reactRouterVersion=Gpe}catch{}function Zpe(t,e){return hpe({basename:e==null?void 0:e.basename,future:rf({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:Mue({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||Qpe(),routes:t,mapRouteProperties:Upe,unstable_dataStrategy:e==null?void 0:e.unstable_dataStrategy,window:e==null?void 0:e.window}).initialize()}function Qpe(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=rf({},e,{errors:Jpe(e.errors)})),e}function Jpe(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,s]of e)if(s&&s.__type==="RouteErrorResponse")n[r]=new Bb(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let i=window[s.__subType];if(typeof i=="function")try{let o=new i(s.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let i=new Error(s.message);i.stack="",n[r]=i}}else n[r]=s;return n}const efe=v.createContext({isTransitioning:!1}),tfe=v.createContext(new Map),nfe="startTransition",Uk=E_[nfe],rfe="flushSync",Vk=Kse[rfe];function sfe(t){Uk?Uk(t):t()}function Cu(t){Vk?Vk(t):t()}class ife{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function ofe(t){let{fallbackElement:e,router:n,future:r}=t,[s,i]=v.useState(n.state),[o,a]=v.useState(),[l,c]=v.useState({isTransitioning:!1}),[d,h]=v.useState(),[u,p]=v.useState(),[y,m]=v.useState(),w=v.useRef(new Map),{v7_startTransition:S}=r||{},b=v.useCallback(_=>{S?sfe(_):_()},[S]),g=v.useCallback((_,E)=>{let{deletedFetchers:z,unstable_flushSync:P,unstable_viewTransitionOpts:A}=E;z.forEach(L=>w.current.delete(L)),_.fetchers.forEach((L,M)=>{L.data!==void 0&&w.current.set(M,L.data)});let N=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!A||N){P?Cu(()=>i(_)):b(()=>i(_));return}if(P){Cu(()=>{u&&(d&&d.resolve(),u.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:A.currentLocation,nextLocation:A.nextLocation})});let L=n.window.document.startViewTransition(()=>{Cu(()=>i(_))});L.finished.finally(()=>{Cu(()=>{h(void 0),p(void 0),a(void 0),c({isTransitioning:!1})})}),Cu(()=>p(L));return}u?(d&&d.resolve(),u.skipTransition(),m({state:_,currentLocation:A.currentLocation,nextLocation:A.nextLocation})):(a(_),c({isTransitioning:!0,flushSync:!1,currentLocation:A.currentLocation,nextLocation:A.nextLocation}))},[n.window,u,d,w,b]);v.useLayoutEffect(()=>n.subscribe(g),[n,g]),v.useEffect(()=>{l.isTransitioning&&!l.flushSync&&h(new ife)},[l]),v.useEffect(()=>{if(d&&o&&n.window){let _=o,E=d.promise,z=n.window.document.startViewTransition(async()=>{b(()=>i(_)),await E});z.finished.finally(()=>{h(void 0),p(void 0),a(void 0),c({isTransitioning:!1})}),p(z)}},[b,o,d,n.window]),v.useEffect(()=>{d&&o&&s.location.key===o.location.key&&d.resolve()},[d,u,s.location,o]),v.useEffect(()=>{!l.isTransitioning&&y&&(a(y.state),c({isTransitioning:!0,flushSync:!1,currentLocation:y.currentLocation,nextLocation:y.nextLocation}),m(void 0))},[l.isTransitioning,y]),v.useEffect(()=>{},[]);let x=v.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:_=>n.navigate(_),push:(_,E,z)=>n.navigate(_,{state:E,preventScrollReset:z==null?void 0:z.preventScrollReset}),replace:(_,E,z)=>n.navigate(_,{replace:!0,state:E,preventScrollReset:z==null?void 0:z.preventScrollReset})}),[n]),k=n.basename||"/",C=v.useMemo(()=>({router:n,navigator:x,static:!1,basename:k}),[n,x,k]);return v.createElement(v.Fragment,null,v.createElement(t2.Provider,{value:C},v.createElement(mj.Provider,{value:s},v.createElement(tfe.Provider,{value:w.current},v.createElement(efe.Provider,{value:l},v.createElement(Wpe,{basename:k,location:s.location,navigationType:s.historyAction,navigator:x,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},s.initialized||n.future.v7_partialHydration?v.createElement(afe,{routes:n.routes,future:n.future,state:s}):e))))),null)}function afe(t){let{routes:e,future:n,state:r}=t;return Tpe(e,void 0,r,n)}const lfe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",cfe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dfe=v.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:d,unstable_viewTransition:h}=e,u=Vpe(e,Hpe),{basename:p}=v.useContext(Ac),y,m=!1;if(typeof c=="string"&&cfe.test(c)&&(y=c,lfe))try{let g=new URL(window.location.href),x=c.startsWith("//")?new URL(g.protocol+c):new URL(c),k=qh(x.pathname,p);x.origin===g.origin&&k!=null?c=k+x.search+x.hash:m=!0}catch{}let w=zpe(c,{relative:s}),S=hfe(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,unstable_viewTransition:h});function b(g){r&&r(g),g.defaultPrevented||S(g)}return v.createElement("a",rf({},u,{href:y||w,onClick:m||i?r:b,ref:n,target:l}))});var Xk;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Xk||(Xk={}));var Yk;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Yk||(Yk={}));function hfe(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=Ape(),c=r2(),d=wj(t,{relative:o});return v.useCallback(h=>{if(Ype(h,n)){h.preventDefault();let u=r!==void 0?r:gc(c)===gc(d);l(t,{replace:u,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a})}},[c,l,d,r,s,n,t,i,o,a])}function ufe(){return f.jsxs("svg",{width:"722",height:"184",viewBox:"0 0 722 184",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"examples__lockup",children:[f.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 20.2198C0 9.0527 8.67154 0 19.3684 0H164.632C175.328 0 184 9.0527 184 20.2198V163.78C184 174.947 175.328 184 164.632 184H19.3684C8.67154 184 0 174.947 0 163.78V20.2198ZM108.625 52.6242C108.625 57.0709 107.105 60.8439 104.066 63.9432C101.026 67.0424 97.3253 68.5921 92.9639 68.5921C88.4704 68.5921 84.7038 67.0424 81.6641 63.9432C78.6244 60.8439 77.1045 57.0709 77.1045 52.6242C77.1045 48.1774 78.6244 44.4044 81.6641 41.3051C84.7038 38.2059 88.4704 36.6562 92.9639 36.6562C97.3253 36.6562 101.026 38.2059 104.066 41.3051C107.105 44.4044 108.625 48.1774 108.625 52.6242ZM76.9062 108.585C76.9062 104.138 78.4261 100.365 81.4658 97.2657C84.6377 94.0317 88.4704 92.4147 92.9639 92.4147C97.1931 92.4147 100.894 94.0317 104.066 97.2657C107.237 100.365 109.088 103.868 109.616 107.776C110.674 115.053 109.352 122.262 105.651 129.404C102.083 136.545 96.9288 142.003 90.1885 145.776C86.488 147.932 83.4483 147.864 81.0694 145.574C78.8226 143.418 79.4834 140.857 83.0518 137.893C85.0342 136.411 86.6862 134.524 88.0079 132.233C89.3295 129.943 90.1885 127.584 90.585 125.159C90.7172 124.081 90.2546 123.542 89.1973 123.542C86.5541 123.407 83.8447 121.925 81.0694 119.095C78.294 116.265 76.9062 112.762 76.9062 108.585Z",fill:"black"}),f.jsx("path",{d:"M349.15 149C350.25 149 350.8 148.45 350.8 147.35V124.95C350.8 122.741 349.009 120.95 346.8 120.95H343.9C343 120.95 342.3 120.7 341.8 120.2C341.4 119.8 341.2 119.2 341.2 118.4V38.15C341.2 37.05 340.65 36.5 339.55 36.5H314.3C312.091 36.5 310.3 38.2909 310.3 40.5V127.4C310.3 134.6 312.35 140 316.45 143.6C320.55 147.2 325.8 149 332.2 149H349.15Z",fill:"black"}),f.jsx("path",{d:"M297.4 124.8C297.4 122.591 295.609 120.8 293.4 120.8H282.85C279.45 120.8 277.15 120.2 275.95 119C274.45 117.6 273.7 115.35 273.7 112.25V99C273.7 96.7909 275.491 95 277.7 95H293.4C295.609 95 297.4 93.2092 297.4 91V68.6C297.4 67.5 296.85 66.95 295.75 66.95H277.7C275.491 66.95 273.7 65.1591 273.7 62.95V45.65C273.7 44.55 273.15 44 272.05 44H247.7C245.491 44 243.7 45.7909 243.7 48V62.95C243.7 65.1591 241.909 66.95 239.7 66.95H236C233.791 66.95 232 68.7409 232 70.95V93.35C232 94.45 232.55 95 233.65 95H239.7C241.909 95 243.7 96.7909 243.7 99V114.5C243.7 126.1 246.75 134.75 252.85 140.45C258.95 146.15 267.8 149 279.4 149H295.75C296.85 149 297.4 148.45 297.4 147.35V124.8Z",fill:"black"}),f.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M385.241 65.45C389.841 65.45 393.791 66.6 397.091 68.9C400.199 71.0021 402.763 73.7307 404.785 77.0858C405.139 77.6741 405.768 78.05 406.454 78.05C407.497 78.05 408.341 77.2052 408.341 76.1631V40.5C408.341 38.2909 410.132 36.5 412.341 36.5H436.691C437.791 36.5 438.341 37.05 438.341 38.15V145C438.341 147.209 436.551 149 434.341 149H409.991C408.891 149 408.341 148.45 408.341 147.35V138.341C408.341 137.269 407.473 136.4 406.401 136.4C405.741 136.4 405.128 136.738 404.759 137.285C402.205 141.08 399.349 144.185 396.191 146.6C392.791 149.2 388.541 150.5 383.441 150.5C376.541 150.5 371.091 148.15 367.091 143.45C363.091 138.75 361.091 132.45 361.091 124.55V93.05C361.091 84.45 363.141 77.7 367.241 72.8C371.441 67.9 377.441 65.45 385.241 65.45ZM392.741 122C393.841 123.2 395.791 123.8 398.591 123.8C401.42 123.8 403.907 123.458 406.051 122.774C407.495 122.314 408.341 120.893 408.341 119.378V95.6407C408.341 94.3033 407.69 93.0183 406.484 92.4394C405.539 91.9857 404.558 91.6392 403.541 91.4C401.841 90.9 400.191 90.65 398.591 90.65C393.491 90.65 390.941 93.2 390.941 98.3V116.3C390.941 119 391.541 120.9 392.741 122Z",fill:"black"}),f.jsx("path",{d:"M482.325 149C484.534 149 486.325 147.209 486.325 145V102.793C486.325 101.4 487.039 100.083 488.293 99.4756C489.524 98.8794 490.818 98.3876 492.175 98C494.275 97.3 496.625 96.95 499.225 96.95C501.125 96.95 502.925 97.1 504.625 97.4C506.297 97.6787 507.926 98.0437 509.512 98.495C509.753 98.5636 510.002 98.6 510.252 98.6C511.701 98.6 512.875 97.4259 512.875 95.9776V68.6C512.875 67.9 512.625 67.3 512.125 66.8C511.825 66.5 511.275 66.2 510.475 65.9C509.675 65.6 508.475 65.45 506.875 65.45C502.175 65.45 498.425 66.9 495.625 69.8C493.144 72.3728 491.212 76.1275 489.829 81.0641C489.609 81.8457 488.905 82.4 488.094 82.4C487.117 82.4 486.325 81.608 486.325 80.6311V68.6C486.325 67.5 485.775 66.95 484.675 66.95H459.875C457.666 66.95 455.875 68.7409 455.875 70.95V147.35C455.875 148.45 456.425 149 457.525 149H482.325Z",fill:"black"}),f.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M596.651 96.2V120.5C596.651 121.732 597.076 122.538 597.928 122.918C598.168 123.025 598.416 123.118 598.665 123.205C598.944 123.302 599.222 123.35 599.501 123.35H599.701C601.91 123.35 603.701 125.141 603.701 127.35V147.35C603.701 148.45 603.151 149 602.051 149H592.001C587.101 149 582.601 148 578.501 146C574.942 144.22 572.214 141.649 570.317 138.286C569.883 137.515 569.087 137 568.202 137C567.342 137 566.561 137.486 566.133 138.233C564.007 141.945 561.23 144.884 557.801 147.05C554.101 149.35 549.351 150.5 543.551 150.5C536.551 150.5 531.001 148.6 526.901 144.8C522.801 141 520.751 135.85 520.751 129.35V123.5C520.751 116.5 522.801 111 526.901 107C531.101 103 537.001 101 544.601 101H565.601C566.761 101 567.701 100.06 567.701 98.9C567.701 95.4 566.751 93.05 564.851 91.85C563.051 90.55 559.551 89.9 554.351 89.9C545.677 89.9 537.101 91.163 528.621 93.6889C528.376 93.762 528.121 93.8 527.864 93.8C526.421 93.8 525.251 92.6299 525.251 91.1864V71.9C525.251 71.2 525.401 70.7 525.701 70.4C526.401 69.7 528.301 68.95 531.401 68.15C534.601 67.35 538.451 66.65 542.951 66.05C547.551 65.35 552.251 65 557.051 65C570.751 65 580.751 67.5 587.051 72.5C593.451 77.4 596.651 85.3 596.651 96.2ZM553.601 128.9C557.953 128.9 562.014 127.917 565.783 125.951C567.003 125.314 567.701 124.015 567.701 122.638V119.55C567.701 117.341 565.91 115.55 563.701 115.55H553.901C552.201 115.55 550.901 116 550.001 116.9C549.201 117.9 548.801 119.1 548.801 120.5V124.1C548.801 127.3 550.401 128.9 553.601 128.9Z",fill:"black"}),f.jsx("path",{d:"M657.116 66.95C655.25 66.95 653.632 68.2401 653.218 70.0593C651.092 79.3906 649.129 88.1542 647.327 96.35C645.552 104.854 644.213 112.921 643.311 120.552C643.203 121.461 642.434 122.15 641.519 122.15C640.509 122.15 639.698 121.319 639.714 120.309C639.83 112.623 639.518 104.936 638.777 97.25C638.077 88.95 637.177 79.7 636.077 69.5C635.977 68.4 635.777 67.7 635.477 67.4C635.177 67.1 634.727 66.95 634.127 66.95H612.635C610.151 66.95 608.268 69.1898 608.69 71.6373C610.697 83.2749 612.626 94.9125 614.477 106.55C616.677 119.75 618.877 132.45 621.077 144.65C621.42 146.192 621.799 147.294 622.216 147.955C622.344 148.16 622.517 148.333 622.717 148.469C623.235 148.823 623.789 149 624.377 149H651.14C652.959 149 654.549 147.773 655.009 146.013C655.784 143.045 656.473 140.391 657.077 138.05C657.877 134.95 658.577 131.9 659.177 128.9C659.777 125.9 660.377 122.6 660.977 119C661.609 115.659 662.282 111.625 662.996 106.897C663.13 106.009 663.893 105.35 664.792 105.35C665.7 105.35 666.468 106.022 666.589 106.922C667.199 111.442 667.729 115.319 668.177 118.55C668.777 122.05 669.327 125.15 669.827 127.85C670.427 130.45 671.027 133.1 671.627 135.8C672.227 138.4 672.927 141.4 673.727 144.8C674.156 146.256 674.584 147.309 675.012 147.958C675.145 148.16 675.317 148.333 675.517 148.469C676.035 148.823 676.589 149 677.177 149H704.405C706.354 149 708.018 147.597 708.348 145.677L714.677 108.8C716.977 95.4 719.227 82.1 721.427 68.9C721.527 67.6 721.077 66.95 720.077 66.95H697.008C694.948 66.95 693.225 68.514 693.028 70.5639C692.167 79.5263 691.383 88.0217 690.677 96.05C690.028 104.399 689.723 112.489 689.762 120.322C689.767 121.328 688.955 122.15 687.949 122.15C687.026 122.15 686.253 121.455 686.146 120.539C685.238 112.745 683.848 104.732 681.977 96.5C680.077 87.7 677.977 78.4 675.677 68.6C675.377 67.5 674.777 66.95 673.877 66.95H657.116Z",fill:"black"})]})}function pfe({title:t,route:e}){return f.jsx("li",{className:"examples__list__item",children:f.jsx(dfe,{to:e,children:t})})}function ffe(){return f.jsx("div",{className:"tldraw__editor",children:f.jsx(ct,{persistenceKey:"tldraw_example"})})}function gfe(){const t=e=>{const n=at("hello");e.createShapes([{id:n,type:"geo",x:128+Math.random()*500,y:128+Math.random()*500,props:{geo:"rectangle",w:100,h:100,dash:"draw",color:"blue",size:"m"}}]);const r=e.getShape(n),s={id:n,type:"geo",props:{h:r.props.h*3,text:"hello world!"}};e.updateShapes([s]),e.select(n),e.rotateShapesBy([n],Math.PI/8),e.selectNone(),e.zoomToFit()};return f.jsx("div",{className:"tldraw__editor",children:f.jsx(ct,{persistenceKey:"api-example",onMount:t,children:f.jsx(mfe,{})})})}const mfe=()=>{const t=Y();return v.useEffect(()=>{let e=0;const n=setInterval(()=>{const r=[...t.getSelectedShapeIds()];t.selectAll(),t.setStyleForSelectedShapes(Fn,e%2?"blue":"light-blue"),t.setStyleForNextShapes(Fn,e%2?"blue":"light-blue"),t.setSelectedShapes(r),e++},1e3);return()=>{clearInterval(n)}},[t]),null};function yfe(){return f.jsx("div",{className:"tldraw__editor",children:f.jsx(ct,{acceptedImageMimeTypes:["image/jpeg"],acceptedVideoMimeTypes:[],maxImageDimension:1/0,maxAssetSize:1*1024*1024})})}function xfe(){const[t,e]=v.useState([]),n=v.useCallback(r=>{e(s=>[JSON.stringify(r,null,2),...s.slice(0,100)])},[]);return f.jsxs("div",{style:{display:"flex"},children:[f.jsx("div",{style:{width:"50vw",height:"100vh"},children:f.jsx(ct,{onMount:r=>{r.on("event",s=>n(s))}})}),f.jsx("div",{children:f.jsx("div",{style:{width:"50vw",height:"100vh",padding:8,background:"#eee",border:"none",fontFamily:"monospace",fontSize:12,borderLeft:"solid 2px #333",display:"flex",flexDirection:"column-reverse",overflow:"auto",whiteSpace:"pre-wrap"},children:t.map((r,s)=>f.jsx("div",{children:r},s))})})]})}const wfe={Brush:function({brush:e}){return f.jsx("svg",{className:"tl-overlays__item",children:f.jsx("rect",{className:"tl-brush",stroke:"red",fill:"none",width:Math.max(1,e.w),height:Math.max(1,e.h),transform:`translate(${e.x},${e.y})`})})},Scribble:({scribble:t,opacity:e,color:n})=>f.jsx("svg",{className:"tl-overlays__item",children:f.jsx("polyline",{points:t.points.map(r=>`${r.x},${r.y}`).join(" "),stroke:n??"black",opacity:e??"1",fill:"none"})}),SnapLine:null};function Sfe(){return f.jsx("div",{className:"tldraw__editor",children:f.jsx(ct,{persistenceKey:"custom-components-example",components:wfe})})}var x0;let bfe=(x0=class extends Ih{constructor(){super(...arguments);me(this,"shapeType","card");me(this,"onDoubleClick",n=>{})}},me(x0,"id","card"),me(x0,"initial","idle"),x0);const vfe=aS({currentVersion:1,migrators:{1:{up(t){const e={...t};return delete e._somePropertyToRemove,e},down(t){const e={...t};return e._somePropertyToRemove="some value",e}}}}),kfe=mr.defineEnum("myApp:weight",{defaultValue:"regular",values:["regular","bold"]}),Cfe={w:Sr,h:Sr,color:Fn,weight:kfe};var Mu;let _fe=(Mu=class extends Xo{constructor(){super(...arguments);me(this,"isAspectRatioLocked",n=>!1);me(this,"canResize",n=>!0);me(this,"canBind",n=>!0);me(this,"onResize",(n,r)=>TS(n,r))}getDefaultProps(){return{w:300,h:300,color:"black",weight:"regular"}}getGeometry(n){return new Oo({width:n.props.w,height:n.props.h,isFilled:!0})}component(n){const r=this.editor.getShapeGeometry(n).bounds,s=pr({isDarkMode:this.editor.user.getIsDarkMode()}),[i,o]=v.useState(0);return f.jsxs(yi,{id:n.id,style:{border:"1px solid black",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",pointerEvents:"all",backgroundColor:s[n.props.color].semi,fontWeight:n.props.weight,color:s[n.props.color].solid},children:[f.jsxs("h2",{children:["Clicks: ",i]}),f.jsxs("button",{onClick:()=>o(a=>a+1),onPointerDown:a=>a.stopPropagation(),children:[r.w.toFixed(),"x",r.h.toFixed()]})]})}indicator(n){return f.jsx("rect",{width:n.props.w,height:n.props.h})}},me(Mu,"type","card"),me(Mu,"props",Cfe),me(Mu,"migrations",vfe),Mu);const Efe={tools(t,e){return e.card={id:"card",icon:"color",label:"Card",kbd:"c",readonlyOk:!1,onSelect:()=>{t.setCurrentTool("card")}},e},toolbar(t,e,{tools:n}){return e.splice(4,0,Qe(n.card)),e},keyboardShortcutsMenu(t,e,{tools:n}){return e.find(s=>s.id==="shortcuts-dialog.tools").children.push(U(n.card)),e}},Ife=[_fe],Pfe=[bfe];function zfe(){return f.jsx("div",{className:"tldraw__editor",children:f.jsx(ct,{shapeUtils:Ife,tools:Pfe,overrides:Efe})})}const dp=mr.defineEnum("myApp:filter",{defaultValue:"none",values:["none","invert","grayscale","blur"]});class M3 extends ho{constructor(){super(...arguments);me(this,"isAspectRatioLocked",n=>!1);me(this,"canResize",n=>!0);me(this,"canBind",n=>!0)}getDefaultProps(){return{w:300,h:300,color:"black",filter:"none"}}component(n){const r=this.editor.getShapeGeometry(n).bounds,s=pr({isDarkMode:this.editor.user.getIsDarkMode()});return f.jsxs(yi,{id:n.id,style:{border:`4px solid ${s[n.props.color].solid}`,borderRadius:4,display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"all",filter:this.filterStyleToCss(n.props.filter),backgroundColor:s[n.props.color].semi},children:[" ",r.w.toFixed(),"x",r.h.toFixed()," "]})}indicator(n){return f.jsx("rect",{width:n.props.w,height:n.props.h})}filterStyleToCss(n){return n==="invert"?"invert(100%)":n==="grayscale"?"grayscale(100%)":n==="blur"?"blur(10px)":"none"}}me(M3,"type","card"),me(M3,"props",{w:Sr,h:Sr,color:Fn,filter:dp});class j3 extends Ih{constructor(){super(...arguments);me(this,"shapeType","card");me(this,"props",{w:Sr,h:Sr,color:Fn,filter:dp})}}me(j3,"id","card"),me(j3,"initial","idle");const Afe=Ye(function(){const e=Y(),n=e.getSharedStyles().get(dp);return n?f.jsxs("div",{style:{position:"absolute",zIndex:300,top:64,left:12},children:["filter:"," ",f.jsxs("select",{value:n.type==="mixed"?"mixed":n.value,onChange:r=>{e.batch(()=>{e.isIn("select")&&e.setStyleForSelectedShapes(dp,r.target.value),e.setStyleForNextShapes(dp,r.target.value)})},children:[f.jsx("option",{value:"mixed",disabled:!0,children:"Mixed"}),f.jsx("option",{value:"none",children:"None"}),f.jsx("option",{value:"invert",children:"Invert"}),f.jsx("option",{value:"grayscale",children:"Grayscale"}),f.jsx("option",{value:"blur",children:"Blur"})]})]}):null}),Nfe={tools(t,e){return e.card={id:"card",icon:"color",label:"Card",kbd:"c",readonlyOk:!1,onSelect:()=>{t.setCurrentTool("card")}},e},toolbar(t,e,{tools:n}){return e.splice(4,0,Qe(n.card)),e},keyboardShortcutsMenu(t,e,{tools:n}){return e.find(s=>s.id==="shortcuts-dialog.tools").children.push(U(n.card)),e}},Tfe=[M3],Lfe=[j3];function Mfe(){return f.jsx("div",{className:"tldraw__editor",children:f.jsx(ct,{persistenceKey:"custom-styles-example",shapeUtils:Tfe,tools:Lfe,overrides:Nfe,children:f.jsx(Afe,{})})})}function jfe(){return f.jsx("div",{className:"tldraw__editor",children:f.jsx(ct,{hideUi:!0,children:f.jsx(Rfe,{})})})}const Rfe=Ye(()=>{const t=Y();return v.useEffect(()=>{const e=n=>{switch(n.key){case"Delete":case"Backspace":{t.deleteShapes(t.getSelectedShapeIds());break}case"v":{t.setCurrentTool("select");break}case"e":{t.setCurrentTool("eraser");break}case"x":case"p":case"b":case"d":{t.setCurrentTool("draw");break}}};return window.addEventListener("keyup",e),()=>{window.removeEventListener("keyup",e)}}),f.jsx("div",{className:"custom-layout",children:f.jsxs("div",{className:"custom-toolbar",children:[f.jsx("button",{className:"custom-button","data-isactive":t.getCurrentToolId()==="select",onClick:()=>t.setCurrentTool("select"),children:"Select"}),f.jsx("button",{className:"custom-button","data-isactive":t.getCurrentToolId()==="draw",onClick:()=>t.setCurrentTool("draw"),children:"Pencil"}),f.jsx("button",{className:"custom-button","data-isactive":t.getCurrentToolId()==="eraser",onClick:()=>t.setCurrentTool("eraser"),children:"Eraser"})]})})});class vj extends ho{getDefaultProps(){return{message:"Error!",w:100,h:100}}component(e){throw new Error(e.props.message)}indicator(){throw new Error("Error shape indicator!")}}me(vj,"type","error");const $fe=[vj];function Ofe(){return f.jsx("div",{className:"tldraw__editor",children:f.jsx(ct,{shapeUtils:$fe,tools:[],components:{ShapeErrorFallback:({error:t})=>f.jsxs("div",{children:["Shape error! ",String(t)]})},onMount:t=>{const e={type:"error",id:at(),x:0,y:0,props:{message:"Something has gone wrong"}};t.createShapes([e]),t.zoomToFit(),t.resetZoom()}})})}const Dfe={Scribble:Pm,CollaboratorScribble:Pm,SelectionForeground:ez,SelectionBackground:JP,Handles:GP,HoveredShapeIndicator:ZP};function qfe(){return f.jsx("div",{className:"tldraw__editor",children:f.jsx(VI,{initialState:"select",shapeUtils:d9,tools:[...mA,...xz],components:Dfe,persistenceKey:"exploded-example",children:f.jsx(JM,{children:f.jsx(ij,{children:f.jsx(jy,{})})})})})}class kj extends ho{getDefaultProps(){return{type:"html",w:500,h:300,html:"<div>hello</div>"}}component(e){return f.jsx(yi,{style:{overflow:"auto"},children:f.jsx("div",{dangerouslySetInnerHTML:{__html:e.props.html}})})}indicator(e){return f.jsx("rect",{width:e.props.w,height:e.props.h})}}me(kj,"type","html");function Bfe(){const t=v.useCallback(e=>{e.registerExternalContentHandler("text",async({point:n,sources:r})=>{const s=r==null?void 0:r.find(i=>i.type==="text"&&i.subtype==="html");if(s){const i=n??e.getViewportPageCenter();e.createShape({type:"html",x:i.x-250,y:i.y-150,props:{html:s.data}})}})},[]);return f.jsx("div",{className:"tldraw__editor",children:f.jsx(ct,{autoFocus:!0,onMount:t,shapeUtils:[kj]})})}function Ffe(){return f.jsx("div",{className:"tldraw__editor",children:f.jsx(ct,{persistenceKey:"tldraw_floaty_example",children:f.jsx(Kfe,{})})})}function Kfe(){const t=Y(),e=bn();return v.useEffect(()=>{window.screenLeft||(window.screenLeft=window.screenX,window.screenTop=window.screenY);let n=window.screenLeft??window.screenX,r=window.screenTop??window.screenY;function s(){const i=window.screenLeft??window.screenX,o=window.screenTop??window.screenY;(i!==n||o!==r)&&(n=i,r=o,t.setCamera(new I(-n,-r)))}return t.on("tick",s),()=>{t.off("tick",s)}},[t,e]),null}function Wfe(){return f.jsx("div",{className:"tldraw__editor",children:f.jsx(ct,{persistenceKey:"tldraw_example",forceMobile:!0})})}function Ufe(){return f.jsx("div",{className:"tldraw__editor",children:f.jsx(ct,{persistenceKey:"hide-ui-example",hideUi:!0})})}function Vfe(){return f.jsx("div",{className:"tldraw__editor",children:f.jsx(ct,{persistenceKey:"tldraw_example",onMount:t=>{t.getInitialMetaForShape=e=>({createdBy:t.user.getId(),createdAt:Date.now(),updatedBy:t.user.getId(),updatedAt:Date.now()}),t.sideEffects.registerBeforeChangeHandler("shape",(e,n,r)=>(r!=="user"||(e.meta={...e.meta,updatedBy:t.user.getId(),updatedAt:Date.now()}),e))}})})}const s2=v.createContext({});function Xfe(){const[t,e]=v.useState("A"),n=v.useCallback(r=>{t!==r&&e(r)},[t]);return f.jsx("div",{style:{backgroundColor:"#fff",padding:32},children:f.jsxs(s2.Provider,{value:{focusedEditor:t,setFocusedEditor:n},children:[f.jsxs("h1",{children:["Focusing: ",t??"none"]}),f.jsx(Yfe,{}),f.jsx("textarea",{"data-testid":"textarea",placeholder:"type in me",style:{margin:10}}),f.jsxs("div",{style:{width:"100%",display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(420px, 1fr))",gap:64},children:[f.jsx(Hfe,{}),f.jsx(Gfe,{})]}),f.jsx("p",{children:"These two editors share the same persistence key so they will share a (locally) synchronized document."}),f.jsx(Zfe,{})]})})}function Yfe(){const{focusedEditor:t,setFocusedEditor:e}=v.useContext(s2),n=t==="A";return f.jsxs("div",{style:{padding:32},children:[f.jsx("h2",{children:"A"}),f.jsx("div",{tabIndex:-1,onFocus:()=>e("A"),style:{height:600},children:f.jsx(ct,{persistenceKey:"steve",className:"A",autoFocus:n,onMount:r=>{window.EDITOR_A=r}})})]})}function Hfe(){const{focusedEditor:t,setFocusedEditor:e}=v.useContext(s2),n=t==="B";return f.jsxs("div",{children:[f.jsx("h2",{children:"B"}),f.jsx("div",{tabIndex:-1,onFocus:()=>e("B"),style:{height:600},children:f.jsx(ct,{persistenceKey:"david",className:"B",autoFocus:n,onMount:r=>{window.EDITOR_B=r}})})]})}function Gfe(){const{focusedEditor:t,setFocusedEditor:e}=v.useContext(s2),n=t==="C";return f.jsxs("div",{children:[f.jsx("h2",{children:"C"}),f.jsx("div",{tabIndex:-1,onFocus:()=>e("C"),style:{height:600},children:f.jsx(ct,{persistenceKey:"david",className:"C",autoFocus:n,onMount:r=>{window.EDITOR_C=r}})})]})}function Zfe(){return f.jsxs("article",{style:{maxWidth:500},children:[f.jsx("h1",{children:"White Board"}),f.jsx("h2",{children:"Chapter 1: The First Strokes"}),f.jsx("p",{children:'The fluorescent lights flickered overhead as John sat hunched over his desk, his fingers tapping rhythmically on the keyboard. He was a software developer, and tonight, he had a peculiar mission. A mission that would take him deep into the labyrinthine world of web development. John had stumbled upon a new whiteboard library called "tldraw," a seemingly simple tool that promised to revolutionize collaborative drawing on the web. Little did he know that this discovery would set off a chain of events that would challenge his skills, test his perseverance, and blur the line between reality and imagination.'}),f.jsx("p",{children:'With a newfound sense of excitement, John began integrating "tldraw" into his latest project. As lines of code danced across his screen, he imagined the possibilities that lay ahead. The potential to create virtual spaces where ideas could be shared, concepts could be visualized, and teams could collaborate seamlessly from different corners of the world. It was a dream that seemed within reach, a vision of a future where creativity and technology merged into a harmonious symphony.'}),f.jsx("p",{children:"As the night wore on, John's mind became consumed with the whiteboard library. He couldn't help but marvel at its elegance and simplicity. With each stroke of his keyboard, he felt a surge of inspiration, a connection to something greater than himself. It was as if the lines of code he was writing were transforming into a digital canvas, waiting to be filled with the strokes of imagination. In that moment, John realized that he was not just building a tool, but breathing life into a new form of expression. The whiteboard was no longer just a blank slate; it had become a portal to a world where ideas could flourish and dreams could take shape."}),f.jsx("p",{children:'Little did John know, this integration of "tldraw" was only the beginning. It would lead him down a path filled with unforeseen challenges, where he would confront his own limitations and question the very nature of creation. The journey ahead would test his resolve, pushing him to the edge of his sanity. And as he embarked on this perilous adventure, he could not shake the feeling that the whiteboard held secrets far beyond his understanding. Secrets that would unfold before his eyes, one stroke at a time.'})]})}function Qfe(){const[t,e]=v.useState(0);return f.jsxs(f.Fragment,{children:[f.jsxs("div",{style:{position:"absolute",top:50,left:50,width:"fit-content",padding:12,borderRadius:8,backgroundColor:"goldenrod",zIndex:0,pointerEvents:"all",userSelect:"unset"},onPointerDown:nn,onPointerMove:nn,children:["The count is ",t,"! ",f.jsx("button",{onClick:()=>e(n=>n-1),children:"+1"})]}),f.jsxs("div",{style:{position:"absolute",top:150,left:150,width:128,padding:12,borderRadius:8,backgroundColor:"pink",zIndex:99999999,pointerEvents:"all",userSelect:"unset"},onPointerDown:nn,onPointerMove:nn,children:["The count is ",t,"! ",f.jsx("button",{onClick:()=>e(n=>n+1),children:"+1"})]})]})}const Jfe=Ye(()=>{const t=Y(),e=t.getSelectionRotatedPageBounds();if(!e)return null;const n=t.pageToScreen(e.point);return f.jsx("div",{style:{position:"absolute",top:Math.max(64,n.y-64),left:Math.max(64,n.x),padding:12,background:"#efefef"},children:"This does not scale with the zoom"})}),ege={OnTheCanvas:Qfe,InFrontOfTheCanvas:Jfe,SnapLine:null};function tge(){return f.jsx("div",{className:"tldraw__editor",children:f.jsx(ct,{persistenceKey:"things-on-the-canvas-example",components:ege})})}const Hk="example-3";function nge(){const[t]=v.useState(()=>WI({shapeUtils:d9})),[e,n]=v.useState({status:"loading"});return v.useLayoutEffect(()=>{n({status:"loading"});const r=localStorage.getItem(Hk);if(r)try{const i=JSON.parse(r);t.loadSnapshot(i),n({status:"ready"})}catch(i){n({status:"error",error:i.message})}else n({status:"ready"});const s=t.listen(aB(()=>{const i=t.getSnapshot();localStorage.setItem(Hk,JSON.stringify(i))},500));return()=>{s()}},[t]),e.status==="loading"?f.jsx("div",{className:"tldraw__editor",children:f.jsx("h2",{children:"Loading..."})}):e.status==="error"?f.jsxs("div",{className:"tldraw__editor",children:[f.jsx("h2",{children:"Error!"}),f.jsx("p",{children:e.error})]}):f.jsx("div",{className:"tldraw__editor",children:f.jsx(ct,{store:t})})}function rge(){return f.jsx("div",{className:"tldraw__editor",children:f.jsx(ct,{persistenceKey:"tldraw_example",onMount:t=>{t.updateInstanceState({isReadonly:!0})}})})}class Cj extends ae{constructor(){super(...arguments);me(this,"screenshotBox",hs("screenshot brush",new fe));me(this,"onEnter",()=>{this.update()});me(this,"onPointerMove",()=>{this.update()});me(this,"onKeyDown",()=>{this.update()});me(this,"onKeyUp",()=>{this.update()});me(this,"onPointerUp",()=>{const{editor:n}=this,r=this.screenshotBox.get(),s=n.getCurrentPageShapes().filter(i=>{const o=n.getShapeMaskedPageBounds(i);return o?r.includes(o):!1});s.length&&(n.inputs.ctrlKey?oL(n,s.map(i=>i.id),"png",{bounds:r,background:n.getInstanceState().exportBackground}):cL(n,s.map(i=>i.id),"png",{bounds:r,background:n.getInstanceState().exportBackground})),this.editor.setCurrentTool("select")});me(this,"onCancel",()=>{this.editor.setCurrentTool("select")})}update(){const{inputs:{shiftKey:n,altKey:r,originPagePoint:s,currentPagePoint:i}}=this.editor,o=fe.FromPoints([s,i]);n&&(o.w>o.h*(16/9)?o.h=o.w*(9/16):o.w=o.h*(16/9),i.x<s.x&&(o.x=s.x-o.w),i.y<s.y&&(o.y=s.y-o.h)),r&&(o.w*=2,o.h*=2,o.x=s.x-o.w/2,o.y=s.y-o.h/2),this.screenshotBox.set(o)}}me(Cj,"id","dragging");class _j extends ae{constructor(){super(...arguments);me(this,"onPointerDown",()=>{this.parent.transition("pointing")})}}me(_j,"id","idle");class Ej extends ae{constructor(){super(...arguments);me(this,"onPointerMove",()=>{this.editor.inputs.isDragging&&this.parent.transition("dragging")});me(this,"onPointerUp",()=>{this.complete()});me(this,"onCancel",()=>{this.complete()})}complete(){this.parent.transition("idle")}}me(Ej,"id","pointing");class W0 extends ae{constructor(){super(...arguments);me(this,"onEnter",()=>{this.editor.setCursor({type:"cross",rotation:0})});me(this,"onExit",()=>{this.editor.setCursor({type:"default",rotation:0})});me(this,"onInterrupt",()=>{this.complete()});me(this,"onCancel",()=>{this.complete()})}complete(){this.parent.transition("select",{})}}me(W0,"id","screenshot"),me(W0,"initial","idle"),me(W0,"children",()=>[_j,Ej,Cj]);const sge=[W0],ige={tools:(t,e)=>({...e,screenshot:{id:"screenshot",label:"Screenshot",readonlyOk:!1,icon:"tool-screenshot",kbd:"j",onSelect(){t.setCurrentTool("screenshot")}}}),toolbar:(t,e,{tools:n})=>(e.splice(4,0,Qe(n.screenshot)),e)},oge={icons:{"tool-screenshot":"/tool-screenshot.svg"}};function age(){const t=Y(),e=Q("screenshot brush",()=>{if(t.getPath()!=="screenshot.dragging")return null;const r=t.getStateDescendant("screenshot.dragging").screenshotBox.get(),s=t.getZoomLevel(),{x:i,y:o}=t.pageToScreen({x:r.x,y:r.y});return new fe(i,o,r.w*s,r.h*s)},[t]);return e?f.jsx("div",{style:{position:"absolute",top:0,left:0,transform:`translate(${e.x}px, ${e.y}px)`,width:e.w,height:e.h,border:"1px solid var(--color-text-0)",zIndex:999}}):null}const lge={InFrontOfTheCanvas:()=>f.jsx(age,{})};function cge(){return f.jsx("div",{className:"tldraw__editor",children:f.jsx(ct,{persistenceKey:"tldraw_screenshot_example",tools:sge,overrides:ige,assetUrls:oge,components:lge})})}function dge(){return f.jsx("div",{style:{width:"150vw",height:"150vh",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#fff"},children:f.jsx("div",{style:{width:"60vw",height:"80vh"},children:f.jsx(ct,{persistenceKey:"scroll-example"})})})}function hge(){return f.jsx("div",{className:"tldraw__editor",children:f.jsx(ct,{persistenceKey:"shape_meta_example",onMount:t=>{t.getInitialMetaForShape=e=>({label:`My ${e.type} shape`})},children:f.jsx(uge,{})})})}const uge=Ye(function(){const e=Y(),n=e.getOnlySelectedShape();if(!n)return null;function r(s){if(n){const{id:i,type:o,meta:a}=n;e.updateShapes([{id:i,type:o,meta:{...a,label:s.currentTarget.value}}])}}return f.jsxs("div",{style:{position:"absolute",zIndex:300,top:64,left:12},children:["shape label: ",f.jsx("input",{value:n.meta.label,onChange:r})]})}),pge={"document:document":{gridSize:10,name:"",meta:{},id:"document:document",typeName:"document"},"page:3qj9EtNgqSCW_6knX2K9_":{meta:{},id:"page:3qj9EtNgqSCW_6knX2K9_",name:"Page 1",index:"a1",typeName:"page"},"page:page2":{meta:{},id:"page:page2",name:"Page",index:"a3",typeName:"page"},"asset:imageAssetA":{type:"image",props:{w:1200,h:800,name:"",isAnimated:!1,mimeType:"png",src:""},meta:{},id:"asset:imageAssetA",typeName:"asset"},"shape:EHeAIsYe4xu1-kGxK-Tl_":{x:165.796875,y:262.39453125,rotation:0,isLocked:!1,opacity:1,meta:{},type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:-.13,y:.13,z:.5},{x:-.05,y:.27,z:.5},{x:.89,y:.27,z:.5},{x:6.72,y:.27,z:.5},{x:19.89,y:-2,z:.5},{x:33.39,y:-6.93,z:.5},{x:45.85,y:-14.57,z:.5},{x:59.59,y:-25.83,z:.5},{x:69.66,y:-38.32,z:.5},{x:74.64,y:-50.34,z:.5},{x:76.25,y:-61.21,z:.5},{x:76.23,y:-71.55,z:.5},{x:74.98,y:-79.2,z:.5},{x:70.04,y:-84.48,z:.5},{x:64,y:-88.11,z:.5},{x:58.74,y:-89.03,z:.5},{x:52.9,y:-88.88,z:.5},{x:47.43,y:-86.1,z:.5},{x:42.63,y:-80,z:.5},{x:38.77,y:-69.36,z:.5},{x:36.81,y:-51.13,z:.5},{x:36.43,y:-26.77,z:.5},{x:40.13,y:3.13,z:.5},{x:48.43,y:38.37,z:.5},{x:55.57,y:69.78,z:.5},{x:60.53,y:100.75,z:.5},{x:63.42,y:133.8,z:.5},{x:63.1,y:160.92,z:.5},{x:58.09,y:180.57,z:.5},{x:47.5,y:192.21,z:.5},{x:33.36,y:197.42,z:.5},{x:18.86,y:198.58,z:.5},{x:6.95,y:197.67,z:.5},{x:-1.21,y:194.8,z:.5},{x:-5.55,y:190.55,z:.5},{x:-6.84,y:184.29,z:.5},{x:-.86,y:173.8,z:.5},{x:17.39,y:158.11,z:.5},{x:45.72,y:137.57,z:.5},{x:76.32,y:113.69,z:.5},{x:102.73,y:87.41,z:.5},{x:120.88,y:63.27,z:.5},{x:131.73,y:39.67,z:.5},{x:137.52,y:15.89,z:.5},{x:138.82,y:-.14,z:.5},{x:137.79,y:-10.26,z:.5},{x:134.94,y:-17.39,z:.5},{x:131.56,y:-21.15,z:.5},{x:128.66,y:-22.95,z:.5},{x:126.65,y:-23.48,z:.5},{x:125.56,y:-23.35,z:.5},{x:124.66,y:-20.86,z:.5},{x:123.36,y:-9.53,z:.5},{x:120.79,y:12.29,z:.5},{x:116.39,y:41.36,z:.5},{x:112.64,y:69.82,z:.5},{x:111.43,y:96.55,z:.5},{x:111.3,y:122.02,z:.5},{x:113.43,y:138.52,z:.5},{x:119.61,y:149.46,z:.5},{x:126.6,y:156.13,z:.5},{x:134.3,y:157.33,z:.5},{x:144.39,y:154.1,z:.5},{x:155.78,y:144.19,z:.5},{x:166.99,y:129.98,z:.5},{x:176.18,y:113.52,z:.5},{x:182.1,y:96.91,z:.5},{x:184.19,y:84.67,z:.5},{x:184.39,y:75.84,z:.5},{x:183.51,y:69.13,z:.5},{x:181.32,y:65.31,z:.5},{x:178.81,y:63.84,z:.5},{x:175.82,y:63.95,z:.5},{x:172.76,y:68.43,z:.5},{x:170.66,y:80.02,z:.5},{x:169.83,y:96.5,z:.5},{x:171.36,y:115.16,z:.5},{x:175.26,y:128.82,z:.5},{x:180.67,y:136.26,z:.5},{x:187.09,y:140.58,z:.5},{x:193.12,y:140.88,z:.5},{x:199.64,y:134.48,z:.5},{x:207.02,y:120.32,z:.5},{x:213.03,y:103.6,z:.5},{x:216.17,y:90.35,z:.5},{x:217.28,y:81.68,z:.5},{x:217.74,y:76.23,z:.5},{x:217.66,y:74.24,z:.5},{x:217.05,y:74.53,z:.5},{x:215.91,y:79.41,z:.5},{x:215.21,y:90.56,z:.5},{x:215.13,y:104.09,z:.5},{x:215.88,y:113.92,z:.5},{x:218.83,y:120,z:.5},{x:223.3,y:124.19,z:.5},{x:227.71,y:125.39,z:.5},{x:232.17,y:123.21,z:.5},{x:236.51,y:115.61,z:.5},{x:240.17,y:103.63,z:.5},{x:242.44,y:92.33,z:.5},{x:243.3,y:83.07,z:.5},{x:243.52,y:76.01,z:.5},{x:243.52,y:72.19,z:.5},{x:243.35,y:70.46,z:.5},{x:243.19,y:70.11,z:.5},{x:243.9,y:71.26,z:.5},{x:249,y:75.84,z:.5},{x:260.58,y:85.07,z:.5},{x:276.09,y:98.02,z:.5},{x:291.7,y:113.78,z:.5},{x:302.66,y:132.02,z:.5},{x:307.07,y:155.19,z:.5},{x:301.63,y:180.46,z:.5},{x:279.7,y:204.16,z:.5},{x:251.84,y:221.13,z:.5},{x:227.02,y:228.63,z:.5},{x:207.41,y:230.88,z:.5},{x:195.65,y:227.65,z:.5},{x:190.99,y:216.82,z:.5},{x:200.69,y:197.52,z:.5},{x:229.42,y:170.67,z:.5},{x:272.13,y:137.71,z:.5},{x:318.65,y:101.51,z:.5},{x:352.09,y:71.88,z:.5},{x:368.29,y:50.72,z:.5},{x:374.72,y:33.76,z:.5},{x:370.11,y:22.56,z:.5},{x:352.23,y:17.24,z:.5},{x:328.26,y:16.93,z:.5},{x:308.98,y:20.41,z:.5},{x:295.36,y:25.56,z:.5},{x:287.54,y:29.66,z:.5},{x:285.12,y:33.56,z:.5}]}],color:"black",fill:"none",dash:"draw",size:"m",isComplete:!0,isClosed:!1,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"a1",id:"shape:EHeAIsYe4xu1-kGxK-Tl_",typeName:"shape"},"shape:rw3t_OBpBeheLvZIrp4Mx":{x:511.83984375,y:354.4296875,rotation:0,isLocked:!1,opacity:1,meta:{},type:"text",props:{color:"black",size:"m",w:133.484375,text:"It worked!",font:"draw",align:"middle",autoSize:!0,scale:1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"a2",id:"shape:rw3t_OBpBeheLvZIrp4Mx",typeName:"shape"},"shape:0S9cS5N4-B_1723oeZtzj":{x:544.390625,y:399.0234375,rotation:0,isLocked:!1,opacity:1,meta:{},type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5}]}],color:"black",fill:"none",dash:"draw",size:"m",isComplete:!0,isClosed:!1,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"a3",id:"shape:0S9cS5N4-B_1723oeZtzj",typeName:"shape"},"shape:NHvyJ2i5f3g27J9B3O5Zy":{x:586.1015625,y:399.0234375,rotation:0,isLocked:!1,opacity:1,meta:{},type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:.3,y:0,z:.5}]}],color:"black",fill:"none",dash:"draw",size:"m",isComplete:!0,isClosed:!1,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"a4",id:"shape:NHvyJ2i5f3g27J9B3O5Zy",typeName:"shape"},"shape:oJrNFeQHqg7REKEVCUwYv":{x:557.6875,y:405.50390625,rotation:0,isLocked:!1,opacity:1,meta:{},type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:-.27,y:0,z:.5},{x:-.53,y:.21,z:.5},{x:-.64,y:.55,z:.5},{x:-1.63,y:1.37,z:.5},{x:-3.02,y:2.95,z:.5},{x:-4.45,y:4.56,z:.5},{x:-5.67,y:5.6,z:.5},{x:-6.29,y:6.38,z:.5},{x:-6.71,y:6.99,z:.5},{x:-6.83,y:7.24,z:.5},{x:-6.66,y:7.36,z:.5},{x:-6.21,y:7.36,z:.5},{x:-5.64,y:7.36,z:.5},{x:-5.07,y:7.36,z:.5},{x:-4.51,y:7.36,z:.5},{x:-3.95,y:7.36,z:.5},{x:-3.42,y:7.36,z:.5},{x:-2.86,y:7.36,z:.5},{x:-2.35,y:7.36,z:.5},{x:-2.07,y:7.36,z:.5}]}],color:"black",fill:"none",dash:"draw",size:"m",isComplete:!0,isClosed:!1,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"a5",id:"shape:oJrNFeQHqg7REKEVCUwYv",typeName:"shape"},"shape:DrggNaYz6Rk_ieKWskDsU":{x:533.42578125,y:419.99609375,rotation:0,isLocked:!1,opacity:1,meta:{},type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:.11,y:0,z:.5},{x:1.04,y:.44,z:.5},{x:2.73,y:1.43,z:.5},{x:6.05,y:2.77,z:.5},{x:10.5,y:4.27,z:.5},{x:15.84,y:5.84,z:.5},{x:21.36,y:6.87,z:.5},{x:26.98,y:7.38,z:.5},{x:33.31,y:8.23,z:.5},{x:40.36,y:9.04,z:.5},{x:46.94,y:9.46,z:.5},{x:52,y:9.61,z:.5},{x:57.39,y:9.61,z:.5},{x:63.11,y:9.11,z:.5},{x:68.55,y:7.86,z:.5},{x:73,y:6.53,z:.5},{x:76.1,y:5.38,z:.5},{x:77.62,y:4.19,z:.5},{x:78.33,y:3.05,z:.5},{x:78.68,y:1.89,z:.5},{x:78.83,y:.77,z:.5},{x:78.96,y:-.21,z:.5},{x:79.11,y:-.96,z:.5},{x:79.39,y:-1.52,z:.5},{x:79.66,y:-1.93,z:.5},{x:79.79,y:-2.2,z:.5},{x:79.79,y:-2.44,z:.5},{x:79.79,y:-2.64,z:.5},{x:79.79,y:-2.76,z:.5}]}],color:"black",fill:"none",dash:"draw",size:"m",isComplete:!0,isClosed:!1,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"a6",id:"shape:DrggNaYz6Rk_ieKWskDsU",typeName:"shape"},"asset:-2122303015":{meta:{},type:"image",props:{name:"tldrawFile",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPIAAAB0CAYAAAC/gW9hAAAKsWlDQ1BJQ0MgUHJvZmlsZQAASImVlwdUE+kWgP+Z9JDQAhGQEnqTLhBASggtgIJ0sBGSAKGEmIKAHVlcgRVFRQTLiq6CKNgoYkMsWFgE7HWDLALKulgQFZU3wCHs7jvvvfPunH/ud27uf8uc+XPuAEDWYAuFabAyAOkCiSjM35sWExtHw/UDFHIRgD7QYXPEQkZoaDBAZFr/XT7eB9CEvmM1Eevff/+vosLliTkAQKEIJ3DFnHSETyPrA0cokgCAqkLshiskwgluR1hNhBSIsGyCk6b4wwQnTDIaP+kTEcZEWBsAPInNFiUBQDJD7LRMThIShxSAsK2AyxcgnIWwR3p6BhfhJoTNEB8hwhPx6Ql/iZP0t5gJ8phsdpKcp3qZFLwPXyxMY2f/n4/jf0t6mnQ6hwmySMmigDBEI3VBD1MzguQsSFgQMs187qT/JCdLAyKnmSNmxk0zl+0TJN+btiB4mhP5fix5HAkrYpp5Yt/waRZlhMlzJYqYjGlmi2bySlMj5fZkHksePyc5InqaM/lRC6ZZnBoeNOPDlNtF0jB5/TyBv/dMXj957+niv/TLZ8n3SpIjAuS9s2fq5wkYMzHFMfLauDwf3xmfSLm/UOItzyVMC5X789L85XZxZrh8rwR5IWf2hsqfYQo7MHSaQTiQACngAj7IADTgg2gxEII0wAbZEl6WZKIhZoYwW8RPSpbQGMhJ49FYAo71HJq9rb0DABPnduq1eE+dPI8Q9eaMbUM1AO5nxsfHz87YAjsBOBEPALF+xma2BADlfgCun+NIRZlTNvTEDQOIQAmoAU2gCwyBGbAC9sAJuAEv4AsCQQiIALFgKeCAZJAORGAFWAXWg3xQCLaAHaAc7AMHQBU4Bk6CRnAOXALXwC3QCe6BJ0AG+sBrMAw+gjEIgnAQGaJAmpAeZAxZQvYQHfKAfKFgKAyKheKhJEgASaFV0AaoECqByqH9UDV0AjoDXYJuQF3QI6gHGoTeQV9gFEyC1WAd2AS2gekwAw6CI+AlcBK8HM6B8+DNcBlcCR+FG+BL8C34HiyDX8MjyN+dAoqK0kdZoegoJioEFYdKRIlQa1AFqFJUJaoW1YxqQ91ByVBDqM9oLJqCpqGt0G7oAHQkmoNejl6DLkKXo6vQDegr6DvoHvQw+juGjNHGWGJcMSxMDCYJswKTjynFHMLUY65i7mH6MB+xWCwVa4p1xgZgY7Ep2JXYIuwebB22BduF7cWO4HA4TZwlzh0XgmPjJLh83C7cUdxFXDeuD/cJr4DXw9vj/fBxeAE+F1+KP4K/gO/G9+PHCMoEY4IrIYTAJWQTigkHCc2E24Q+whhRhWhKdCdGEFOI64llxFriVeJT4nsFBQUDBReFhQp8hXUKZQrHFa4r9Ch8JqmSLEhM0mKSlLSZdJjUQnpEek8mk03IXuQ4soS8mVxNvkx+Tv6kSFG0VmQpchXXKlYoNih2K75RIigZKzGUlirlKJUqnVK6rTSkTFA2UWYqs5XXKFcon1F+oDyiQlGxUwlRSVcpUjmickNlQBWnaqLqq8pVzVM9oHpZtZeCohhSmBQOZQPlIOUqpU8Nq2aqxlJLUStUO6bWoTasrqo+Vz1KPUu9Qv28uoyKoppQWdQ0ajH1JPU+9cssnVmMWbxZm2bVzuqeNaoxW8NLg6dRoFGncU/jiyZN01czVXOrZqPmMy20loXWQq0VWnu1rmoNzVab7TabM7tg9snZj7VhbQvtMO2V2ge027VHdHR1/HWEOrt0LusM6VJ1vXRTdLfrXtAd1KPoeejx9bbrXdR7RVOnMWhptDLaFdqwvrZ+gL5Uf79+h/6YgalBpEGuQZ3BM0OiId0w0XC7YavhsJGe0XyjVUY1Ro+NCcZ042TjncZtxqMmpibRJhtNGk0GTDVMWaY5pjWmT83IZp5my80qze6aY83p5qnme8w7LWALR4tkiwqL25awpZMl33KPZdcczByXOYI5lXMeWJGsGFaZVjVWPdZU62DrXOtG6zc2RjZxNltt2my+2zraptketH1ip2oXaJdr12z3zt7CnmNfYX/Xgezg57DWocnh7VzLuby5e+c+dKQ4znfc6Njq+M3J2UnkVOs06GzkHO+82/kBXY0eSi+iX3fBuHi7rHU55/LZ1clV4nrS9U83K7dUtyNuA/NM5/HmHZzX627gznbf7y7zoHnEe/zsIfPU92R7Vnq+8DL04nod8upnmDNSGEcZb7xtvUXe9d6jTFfmamaLD8rH36fAp8NX1TfSt9z3uZ+BX5Jfjd+wv6P/Sv+WAExAUMDWgAcsHRaHVc0aDnQOXB14JYgUFB5UHvQi2CJYFNw8H54fOH/b/KcLjBcIFjSGgBBWyLaQZ6GmoctDzy7ELgxdWLHwZZhd2KqwtnBK+LLwI+EfI7wjiiOeRJpFSiNbo5SiFkdVR41G+0SXRMtibGJWx9yK1YrlxzbF4eKi4g7FjSzyXbRjUd9ix8X5i+8vMV2SteTGUq2laUvPL1Naxl52Kh4THx1/JP4rO4RdyR5JYCXsThjmMDk7Oa+5Xtzt3EGeO6+E15/onliSOJDknrQtaTDZM7k0eYjP5Jfz36YEpOxLGU0NST2cOp4WnVaXjk+PTz8jUBWkCq5k6GZkZXQJLYX5Qtly1+U7lg+LgkSHxJB4ibhJooYMSO1SM+kP0p5Mj8yKzE8rolacylLJEmS1Z1tkb8ruz/HL+WUleiVnZesq/VXrV/WsZqzevwZak7Cmda3h2ry1fev811WtJ65PXf9rrm1uSe6HDdEbmvN08tbl9f7g/0NNvmK+KP/BRreN+35E/8j/sWOTw6Zdm74XcAtuFtoWlhZ+LeIU3fzJ7qeyn8Y3J27uKHYq3rsFu0Ww5f5Wz61VJSolOSW92+Zva9hO216w/cOOZTtulM4t3beTuFO6U1YWXNa0y2jXll1fy5PL71V4V9Tt1t69affoHu6e7r1ee2v36ewr3PflZ/7PD/f772+oNKksPYA9kHng5cGog22/0H+pPqR1qPDQt8OCw7KqsKor1c7V1Ue0jxTXwDXSmsGji492HvM51lRrVbu/jlpXeBwclx5/dSL+xP2TQSdbT9FP1Z42Pr27nlJf0AA1ZDcMNyY3yppim7rOBJ5pbXZrrj9rffbwOf1zFefVzxdfIF7IuzB+MefiSIuwZehS0qXe1mWtTy7HXL57ZeGVjqtBV69f87t2uY3RdvG6+/VzN1xvnLlJv9l4y+lWQ7tje/2vjr/Wdzh1NNx2vt3U6dLZ3DWv60K3Z/elOz53rt1l3b11b8G9rvuR9x8+WPxA9pD7cOBR2qO3jzMfjz1Z9xTztOCZ8rPS59rPK38z/61O5iQ73+PT0/4i/MWTXk7v69/Fv3/ty3tJflnar9dfPWA/cG7Qb7Dz1aJXfa+Fr8eG8v9Q+WP3G7M3p//0+rN9OGa4763o7fi7ovea7w9/mPuhdSR05PnH9I9jowWfND9VfaZ/bvsS/aV/bMVX3Neyb+bfmr8HfX86nj4+LmSL2JOjAApZcGIiAO8OA0COBYCCzBDERVNz9aRAU98CkwT+E0/N3pPiBEAtoibGI2YLAMeRZbIOACUvACZGowgvADs4yNf0DDw5r08IFvlyqXW9OKqf/nxONfinTM3yf6n7nxrIo/5N/wvqIQ1oPGOfkQAAAIplWElmTU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAIdpAAQAAAABAAAATgAAAAAAAACQAAAAAQAAAJAAAAABAAOShgAHAAAAEgAAAHigAgAEAAAAAQAAAPKgAwAEAAAAAQAAAHQAAAAAQVNDSUkAAABTY3JlZW5zaG90ufUwPwAAAAlwSFlzAAAWJQAAFiUBSVIk8AAAAdZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDYuMC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iPgogICAgICAgICA8ZXhpZjpQaXhlbFlEaW1lbnNpb24+MTE2PC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjI0MjwvZXhpZjpQaXhlbFhEaW1lbnNpb24+CiAgICAgICAgIDxleGlmOlVzZXJDb21tZW50PlNjcmVlbnNob3Q8L2V4aWY6VXNlckNvbW1lbnQ+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgquVEKwAAAAHGlET1QAAAACAAAAAAAAADoAAAAoAAAAOgAAADoAAA9bG3y9EwAADydJREFUeAHsXQl0FEUTLtTgLwIiUVBOBUI4AgkkEOQKAsoVEAM8UYGAHPqr+CuCCnhwBeXSJ8gVLsOpCF4ERFCIIdxHoiTBHAgJCQo+DsUTVP75hvQy29Mzu7Ob4M6m6z3o6e7qmp7q/aa7q6onZYjosvKPwsJbIqG0g/vUVP4nNSA1YB8NlFG6KoFsn/GSPZUaEGpAAlmoFlkoNWAvDUgg22u8ZG+lBoQakEAWqkUWSg3YSwMSyPYaL9lbqQGhBiSQhWqRhVID9tKABLK9xkv2VmpAqAEJZKFaZKHUgL00IIFsr/GSvZUaEGpAAlmoFlkoNWAvDUgg22u8ZG+lBoQakEAWqkUWSg3YSwMSyPYaL9lbDzQQWL8N1YseTYHBrdXWOYkzr6QbZnggzTebSCD75rjIXhWTBiJHfeQAMC/yTNYu2vvmg3yxLfN+DeTXJkyg7j2ihQOTkZ5Ojw0ZLKyzWpickkI33vgfYbMF8+fRsqVLhXWysGQ1ENRzDAUpM7EZYXbO8YOZ2a+B/OmGRGrR8so5a34wf/nlFwqqW4cv9ih/8odTVKYMVKmnFcsT6IUxY/QVsqRYNQDQaqlyUGvDmVjLh2u21MY12p3N2WU7cEsgY/S8JAlkLxXoRXN+/+uFKF1TO83WtgFyQEAAtY+Koq5du1LLyEiqWbMWDRkcS18lJekGgBXIGZlpwj9Td5bO3j753lkxdCZ7p7diSry9TwP51ltvpQXxiygkJIRwzS9fRz79FK374ANDJUkgG6rGLyq6LzxV4s9hF4OYTwO5UaNG9OX2JMPBkkA2VI3fV1yL2Zgp0Q5LbAlkNlpepHKP7IXyPGxq5lbyUKRhMwlkQ9W4VyFnZPf0VBq55IzsPOpyRnbWh0c5OSN7pDavGhUnkLEPZlFfok7JGVmkFRdlL770EoWFNVO5yleoQBEREYYtjh07RnnHjzvVx8cvpO3btqll3hq7HurfXwko6UFNmzSlKlWr0nXXXUcXL16k/Lw8mjdvLq1ZvVq9T+H3P6h1Th0pyqxcsZzGjHYOSpgxcybVqFFTx/7HH3+olnhW8eiAgfS/Z5+lKlWqKAEnN9L4cWNp6ZIlrNopbdCgAY0dP56CgupTYOXKVO7mm+mGG26gy5cvq//Onz9PGRkZlPxVEi2Kj6c///zTqT0yr7z6GmEVJKKVK1fQxsREXdXESZOofv1gXfnhw4dpatwUXXmP6GgaoDyXiBIV+auU+7hDxQVkBlIzeXYwePncjLzvwEHFtaT/kbszuOB5Z84cipsyWWX3FMgA7Np166hNm7amt/3u6FGK7tGd0jOPWAJy7nfH6GYFaDwBdNXuqEo33XQTJSXvoFq1ajmxLFm8mF4eP86p7IEHetPLr76qvBhqOJWbZfAymjxpIi1etMiJLXHTZxQeHu5UxjL79++nXtE9WNaRGr3ELl26RLVqVHfwsYsNGzcZvpwPHjxI0d27MVbD1Ax0ho0EFQzErMpMLs/L2vhKKoHMjcQtlSrRF19ucxsYP3z/PVUODKSyZctykq5kRTOyKyBvS/qKGjZsqJPHA/n1N6bR4CFDdHzuFvB9e+K/TxLCWkV0/vw5ahjsPPO2bduOPli/XsSult3XuROlKzOzlrKyc6jiLbdoixzXE5V7I6TVjIrLyCUCpivZvjwzSyBzv5oPP/qY7ml95ZQMV+VRlgcLhJgBefq0aYTthYi0QB6thH0+P9o5LFHUxqwMK4DOHe+lzMxMlQ2++sxvs4RNwFuzejX6+++/HfXYIgwYOMiR5y/mz5tHkyZOcBTjZZd3osCR5y8aNQimc+fO8cWOvNmM6WBy40IEYndl+2qAiASyZuDvuPNOOpSapgs80bBYvrQKZPyQKyt7XBExIGPVkJ6Rqe6BRXxWyk6eLKTwZldsEmgHIAPQIuobE0M7d6Y4qnbu3kN16hjHq+MF0eneDg7+zvfdRytWrnLktRd4bgDZjNwFm5nxSjSruisXfRO1N+vztarzOSBPnhJHYUU/rHLlyhkaX6AgLGsLCgsdurr8zz80atRzlJuTo5ZZ3SO/u3w5denS1SFPdHE0N5ewXwy8LZCiojoYLqlZWytAZm2MUgZkzMSYkY3o9OnTNPalF2nrli1KP2+j99euFRqkWPs6d9Wm33//Xc0uS1iuhsGyOm3Kz7AnCk+avkywF69d8+re/Y1p0yl28GCtSMf15s2baUis8ewORnciudhsixjsyOc/dMjHhQiEVkDMhG16vCq79JnU54Cs1cy19iMbGW5Yn/gf8p3VqlHyjhQqX748Y9GlJQHkuKmvG+6NsfTtENWeYIhjVEGx/mfl5BquNPr16UMpKTtUdliVFy9Zypo6pQcOHKCeinEPBG8CDFeuqF3bNo4X6xfbtlPjxo2FTYYNfUxoFdcyuwIyAzFrw4OZB6AnIIZsXg6737+ZSiAXaR+WcljMjQizXGiTEF113379aM47c3XlrMBTIGNPClfTxo2JdEBZATCCNdgTMjMywU00Z/ZsVez1119PmGn5uHZU/qS4sBoE11f5psRNpaHDhqnXZv+99eYswr4fdPTYccIqiyfR/pvnQd6VMQo8/B6WgZkv9xTE/MsC9/QFkkAuGoWu3brRsncTDMdk1swZNHPGDGH98fwTqp9XVOkJkC9dukjdlFNe+PiBp4TVTGSrVhQaGkbByt6zadNQQxfZJ598TE+MGOG41Z59+6l27dqOPLvQAg4fU4DPWkuo518AaWmp1K1LF6pYsaK6KtDys+s8xS/fqmULljVMGSgNGYoqeNDy/J6CGHIkkHltupG/lkvrZ58bZWgtRlcf6NWT9u3dK+z13v0HdD5fxugJkOGCgSvGXUKwyMhnnqF7O3aienXrUgUFNDygzGQhgOaRh/s7WMzcWg/160vJycmUX1BIOFqqpR9//JFuv/12bZG698YePCamD82dP9+pjmXeXbZM3dOzvFnqzqyM9kZgdvdlIOqDaI8t4vs3yuSMXKT1uYqrJKZPX8MxCGnUkM6cOSOsNwuksArkfxSD3d21a6kRZMKbaQqrV69BU+LiCNZgRHF5SjyQQ5o0oa1ffCkUh5fMOiVYBr52nmCMEy23I5o3p7HjxlGfvmL9ivzNvGxt3t0ZlQezNyD21ZmY6UUCuUgTCStW0P33d2F60aWwvsIKK6K169ZTu3btRFVkFciiwAuR4PEvv0JPjxwpqrJcxgMZAuDvFQW5HDp0iPbs3k1PPvWU032wrA4OqkfZuVeNbIwBe/D+/R+mOspqgSfess3XG+Wtzsz+DGLoSAK56JcCt9ew4cONfjcUpQA1O1scLGEUiQVhVoEMa3Ob1vcY9gMVcOHAleOKfv7pJ8pV5KWlptLAQYN0S2HWXgTkTYo7qFmz5ozFkZ49e5by8o7r6vLz8ymyRQSlfXOYqipx6VqC7zkiooXQjpCaeoi6K/YAq+TurAy5mJl5V5SV+/nykpo9h62B/OILY2h5QgJ7Fl1qxY88KDaWpk0XG7MgeMTwYbTh009190DB14fT1YMNokqrQN6/bx/16in+8ieTf1gJBrlN8Q8bEWSMGDFc9bMznowj3xoGmoiAjNkesz5PMMSdPXtOB9ZVq1bS6FGjaP7ChdS7t/MnZgsKCgxDXhEXj/h4q2QFyFZl8/wSyLxGLOZdGbtcfaHSCpBd+UXhZ4W/lSfMPpiFjMgqkHfv2kUxD/Y2EkfwCYuWr6wBVg1YPfAkMk4xHhGQA5X4cRwGERGWw/yyGy8fvEA6de5MK1etdmqGfT8OoojIzPYg4mdlEshME1dSn56RETKZmva1c481ORzFa9K4EV24cEFTevXSCpBx4ui743lXG3NX+DE2DWmsM3jFL1pMPXv14rivZosbyM0Vw9HGzzZfvQF3tXXrFho0YIBTKT5YiIgtI0ravp0e7v+QrvpIVhZVqiQO19Qya086AbDwQxsBV9vOXXuAtg279mbPy2S4m/q6oQvP4dNARgfNDu2jHrPDnj171GAFHA3ELI1wP5AVIIP/m/QMnfsE5Yx+/fVX1Q0F/y5cL5MmTzGMsGJtihvI9YKCaEfKTiZel6KP9erc7ShHoAv28GbRZ9jDIo6aJ1cGQMZ/5MgR6tghimXJVQw2Y9yy5XOKHTiQZS2n7hq8LAvmGvDWb67aJ7I+D2QsI7GcdJe8OY+Mkzw40eOK/vrrL0IElDu+2uIGMvrmKpQULzd8/ODU6VMUGdnKpWvKyOCEs84LlI8QuKLZb79Nr0+Nc7AhhPSxoUMdeaMLBKEgGMVTuhazsh1mY+jP54EsMp6YDbw3QIZcqy8Os76griSALLIMu+qHWT0/ozJerDrghnL1wkJUFqKzGDUNDaXPt2xlWWEKdxVcep6GnDKhJblXtguIoQufBzL2rlnKaaaAgLJs7ExTb4HsynotujmWpkZfExEZ5IzOI0O2K2MXeKI6dKD33l+LS7cJ9gREgIkIp8iahYWKqtT4c7Mvtvz2229U9+67dG3zFUu12ZidOHGCWkaE69p5WgBAsz/3wmS4+rtPjA9WafyZGLRnlKv8TSg7fJie9dfngYyOIlBjkXKAgLeUsofQpt4CGbIQgTR7zjtuGWwQXlhYWCB01UBWSQAZcs2OBKJeSwidREQWvsklIq2xiq+frsSXDxwUyxc78ghbRfgqT4gMQ4SYEYn0YsTrabk7s7WdZl0zPdgCyHgAHKZPUCyvzcObm77ptfu1VavXUMdOnYTPrz3JI2IIDQuj1WveM/S9wuI6aeJE9QN8jzzyKM166y2RGPVUEf8ROrOTSCKrs1CwUghXD144Rh8iwF7+c8Xw97jiU27Xvj2tee99I1Hq97VEy1wEhSA4xIheU74XFr9wga7a1ZlpBIFgb17SZGYQs4N/2F392AbI2gfCFyO7dO2mBkXgaxZfp6VRdk42ZSpficTsU5yE5SgA0759FAWUDaCTimtlr2IlZ+d3i/NenspqrPxJHfjBsTfF3vPCzz8T9r3rlZho7ad5PJVv93aYmUFsqQ0A223p7GoMbAlkVw8l66UGSpsGJJBL24jL5/VLDUgg++WwyocqbRqQQC5tIy6f1y81IIHsl8MqH6q0aUACubSNuHxev9SABLJfDqt8qNKmAQnk0jbi8nn9UgMSyH45rPKhSpsGJJBL24jL5/VLDUgg++WwyocqbRr4PwAAAP//xq33/QAADoNJREFU7VwHexbFFj5ICyWUEEgooiC9BYgURapIC6Hb6CCIoIjtll9wn3tVpDdBUBSRErogiiCIBaSFDiIBBClJIJTQ0TvvCWedbDZfME8Sv9VzniffzszOzs6+u+/MmXPOJB8R/Wb+qGF0Uxxo1/atfNQfRUAR8A8C+UxXlcj+eV/aU0XAEwElsicsWqgI+AsBJbK/3pf2VhHwRECJ7AmLFioC/kJAieyv96W9VQQ8EVAie8KihYqAvxBQIvvrfWlvFQFPBJTInrBooSLgLwSUyP56X9pbRcATASWyJyzehZ27dqPaderxyfkffUCnfznlXfEeS2N79KLqNWpx7aWLF1DC0Z/u8UqtpgikR0CJnB6PgLmefZ6mKlUf4jpK5IBQ6ck8RsD3RA4JCaGQkCJ09epVunnzRrbgKxcRSbVq1zUkrUrL4hbRxYspnu0okT1h0cIgQMB3RK5QsRI1in6Y7q/8ABP4vvvuSwfj1aupdPTIEdqze9c9q75PPdufKt1fmdv5cM4sSkw8l65NySiRBQk9BhsCviHyAw9WoU5dYqlY8eLpMLx18yZdv36dChUuTIXNny2XL12iZUsWUuI5b2JKXSWyIKFHvyIQ9ETOly8fPdaqLTVp1pwx/vXXX+ng/n20c8c2Onf2DP32G2/ecvAvX6Ei1a3fgOrUrU8FChTg8k1ffUnbtm5x6rgTSmQ3Ipr3GwJBT2TbUnz8WAKtXBZn1sI3s8S5aLFiFNu9F1WsdD/XXb1yOR08sM+5rkjRolSoYCHOdzX1IiIjOb0sbiElJyU59VKNqn771i3OZ0e1LlMmnCIrVKASJUrSuXNn6cTxYwQtAoL71qiZudUa12Agu3YN6/+0a7Cer2iWFwUKFqQftnzH7dg/xYuHUkT58lSqZCkKKVKEoJVgqYA/eQ67PjScAvkL8IB46dJF+5STLlSoEBUpUpTz6Af64yW4d/78+fnU5cuXCIOuSt4gENRErlOvPqvTgGLLd9/QN19v/MOodOvZh6pVr8HXvf/eDDqfnMxpuzxQoyD20Z+OcJU/QuTQ0BKEQUjW3vY9zp09S3GL5lObdu0dd5bb/RRmBoDBzz3Pl21cv47id+2g2B69Hav57du3aeI7bzrNlipVmlqb9h6qVt0psxOoD80kfueOdFrMy6/909Fcpk0eT9eM0dAtHTrFUL0GUVx89swZmjd3trsKwVaBtsRmMX3yBGOATM1QTwtyB4GgJXIxM6MOHzmaP4xjCUdpyaJPHATwsTSKbkL1GzSkEiVLmhniGh358RDtNQYurIef6NiFCpoZCx/ujRs3aOjwkby2PrB/L61ZtYLbyU0ig1T9Bg3NsGZ3HsAkMKCcOf0LYbCCZEVkPCeeWcQmcliZMtRvwBAqaGZOW1BHlhdSvnnTV7T1+28lS/bgBGyAkVtGjHo5nW1i4ri3Mszu0Hye7juAL025cIFmz5zmbkbzuYhA0BK5+aOP0aOPtSJ8jO9OncgGLcGhr/loI4366BaocquWLyGQFDJjygRKTU2levWjqEPnGFb1pk58h9XU0mFlqKhRryHtO3SiMuFlOf3lF2spybJaJyclOve2P/pAfuSBQ4ZReNly3B5+dmzbSocPHaSrpi8RkeWpVdvHKTQ01DmPRCAiHzqwn2rWrsP1oSofP55Av5w6aQaueC6z8QBea9esohPHjrEKDLX4kRYtKbpJM66Ln5nTJhNUXwhmWsy4ENzn05XLOC0/oSVK0PAXXpIsH919RWGLVm2oWfNH+fz2H7bQxg1fclp/8gaBoCXyCy+NMUQrRrt2bKf169Y6aOBjwUcDgZq3edMGJhpmtkaNH+Zy/NgzFtaTL415nWf3FUsXm9n7sFMPiZw0dtWoVZu6duvptL9qxVI6fPCAk0cCM+czfQdS2XK/k91NDlu1lot3bv+Bvlq/Lp1qXDosjIYMe0Gq0GerV9L+vXucvCR69H6Kqj5UjbNffLaa3XPIAGNgDYH2MmXCWE7LT4OGjXmgQ/7y5cs8AMXv3E4Y8GwZMHiY8zyfzJvLA419XtO5i0BQEtn+iG2/btlyETRg8HOMCD6q92ZMSWdQsWcmqNgfvj/LQU9mScwUmDFsyUki93ryGXqwSlVu/uTPJ2jh/I/sWznpchER1H9Q2rOgMCsiZ9YWjFVVqqRFm926fYtnVecmVsK2N7hnTCw9SpUuzbVnvzuNUlIuOFeKFgJ1OTHxLIeUQiuYOX2yUwfLmNGv/oPz0IomjP1fusHGqaiJXEMgKImMMEh8QPgoxr/9X+fh27XvSA0bR3MeBMHHbQtm5LbtO3DR3j3x9PmaT53TMiO5Z3hUyEkiv/LGvx2Dz+IFH7OV2umEK2HPYlkRefGC+aatBFcL955FAM2Tz/TjC3468iMtX7LIubhl63aOe2/Dus/ZtYeTsJiPef1f/Dxw9yUaIx2WKBBZtiAt7wtpGAZhIFTJWwSCksggK0iLWXfmtEkOIjLjXjfGramTxjnlksD6s9/AIZy1P0gUxHTrQTVr1aHdu3bSus/XyCV8zCkiFy4cQi+Oec1pe+rEcUbtv+bk3YlOMbHs70Z5VkR+583/uC/3zGNNXPmBBwluKmg2YUb1LmlcUbYhDJszcD8R+N6f7T+Is3DxxS2cz+nI8hWo74DBnEYZbAcjXkxTw7EO37dnN5+zB1gMnhhEVfIWgaAkcouWranZIy14DWy7OsRVkpmaiTUgZl7Igo8/pFMnf3bQhEUVllWs7bDGsyWniAwD2pBhI5ymsyKfGPRwQSAiZzZwOTcyCRA3uklTHqzEBWSft9NuIuOcYGurxvIecB7q8p07d9jwBQMYvAQrlsbhFD03YhQPFkir2wko5L0EJZEbRzehNo8/wcEMshbDjDL6lTcYIfsjsiGTWRdlk8ePTbeJQlwoXtbmnCIy1plYb4pkRWRY5UFmSCAiYyacO+f39b60L0d7RpQyrGnh3kpOTqIL589zcAis8xAvInfr2dv422vy+Xlz55hB9LSxR6QZsLBdE7hBHn+iI0U1iuaglknj3+ZAkZGjX+Fz6nZiGP6Un6AkMgI44EJyr5Fl/QnXCyyjthQ3Rp/njb8TgsgpfGQiZY0raMCQYZxFuURWyfmcIrI92KDt6cb9BZdTZtKla3eqVacunw5EZJtI7rYQg977qWedYiwdxJLvFJqEvUb2InLtuvWoc0w3vuTbzZtou3GZycC52fI92+thDC7hxm3XJbY7X7dt6/fGd7/evq2m8wiBoCSybdGdM2uGmVGSGQ64WeBugXwwe6YJpUzkNIwyMcblI+GOcD1NGveWYzkVS3JmM0ZOERmdERUVaYST/nj4EJKeYluLs0vkmFiz9r/rYw5kaGpoDIHt7hoC3QE26By2go56+VXu55nTp03QyDeOPx6EFd86AkzwjBAMGPC/5+Q/W+CG9ecPIxCURAYx4ffFDGdbmbFnWEZ/PCkMM9g4AZUQBMdsBDIjxhizw7GEBGPlbuyojDDY4Bq39Hm6LxuIUL7mUxPdtG+vuwrnxRWDTGZWZDtiDAMNBhwvQegmBhCR7BJZ1v5oJ9DmEHuwgu0ANgS3DBo63AmM2W1CQuFDdms3uEaMjogbh10AwS3uwdPdtuZzF4GgJDIeua1ZIyMkER+IHdnVvmNnahDVKAMqCHmcO2cmtWzdNl0Uk1T8euMGz00GOG/HEgea1ewNHHa4p9wDR9vghjziwxEnbgs2dCCkEkYjkewSuWPnrrzbC+0g8AQBKG6xfcg4l1m8tL1mh4ENA6KXPQKGSBjCEEAiW0fdLi13HzSfuwgELZFtw5F7BoG7BDMv1LqkxESjvh5kww62NCKKq4b5P1j1oxpScTNTIDAEu4QC/X8t2/8MuDEoYKcU1Ej4T1OvXOG30LT5I7ylUl4J+oUZHh8z6l26eJFPyYwl9bAmBfERSBFpXGTNTcgkrrGJkF0iY8smyCyCUNDDB/fTKWNHgNspqlFjVn3te2W2xIDlu7+JEbfFK1LMXvpIXa96ck6PuY9A0BIZj24TZ0/8Lvb/uvcf5wREiEwaOfrVDBsM0La9+wlbH2H99nLvIEYZscoQqJrYNIHwx8wEPvLvv/2aN3igTnaJjGUIBg7Zhul1PxgNsc5FdBv67jYi2tfAwGX7nDMz2Nm2AFw/bZLZOZXJ9ka7fU3nDgJBTWQ8sr1+hRtladwCwoySleCDRfgiZsF7EcxG3Xs9mWEzg01ktANfNGKp3f+pxCYy6mH3VjvjqpH/kokyEcR6r129iipVrkzde/bh4kWfzKOfTxyXKhwyKa6sQFZrXIBAlFZt2rEW4jRwN4HnX71qOfvUR5nBCuoyxMt6j3I8G+LFIe5QTC68+wOsZMsk3sucWdPt05rOYwSCnsjYqI6wS3tdDKvq7vgd5uM8SVfMLp5bZuM/6mEPcFh4uFEl6zKB7pj19RSz2wkz0L0KtgvinwFgA/1FE3N85UqaWu2+HveC+o81PDbki/rtrof1cHh4OWMVDuEoL2zw99rz674uO3ncA9FccMWhXykpKWaZ8Ps/SchOm3qNPxAIeiILjFWrVTfBCJ0yzJhy3uuIdeEC429OSkpzU3nV0TJF4K+AgG+ILGAjnjrKuEXw3zSh3orVFOdhaU1NvWIMX6dp397dGTZVSBt6VAT+agj4jsheLwDWZaiSKorA3xWBvwSR/64vT59bERAElMiChB4VAR8joET28cvTrisCgoASWZDQoyLgYwSUyD5+edp1RUAQUCILEnpUBHyMgBLZxy9Pu64ICAJKZEFCj4qAjxFQIvv45WnXFQFBQIksSOhREfAxAkpkH7887boiIAgokQUJPSoCPkZAiezjl6ddVwQEASWyIKFHRcDHCCiRffzytOuKgCCgRBYk9KgI+BgBJbKPX552XREQBJTIgoQeFQEfI6BE9vHL064rAoKAElmQ0KMi4GMElMg+fnnadUVAEPg/Ozet4kLk2xYAAAAASUVORK5CYII=",w:121,h:58,mimeType:"image/png",isAnimated:!1},id:"asset:-2122303015",typeName:"asset"},"shape:o_2EMovbM7LMmTV9n7Pxt":{x:476.55859375,y:459.5078125,rotation:0,isLocked:!1,opacity:1,meta:{},type:"image",props:{w:121,h:58,assetId:"asset:-2122303015",playing:!0,url:"",crop:null},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"a7",id:"shape:o_2EMovbM7LMmTV9n7Pxt",typeName:"shape"},"shape:W25cQBiKtpEgJQAWccWrs":{x:413.796875,y:391.796875,rotation:0,isLocked:!1,opacity:1,meta:{},type:"text",props:{color:"black",size:"m",w:152.609375,text:"page 2 crew",font:"draw",align:"middle",autoSize:!0,scale:1},parentId:"page:page2",index:"a1",id:"shape:W25cQBiKtpEgJQAWccWrs",typeName:"shape"},"shape:XNOJzB586-5whTtAYC6M_":{x:496.5859375,y:410.23046875,rotation:0,isLocked:!1,opacity:1,meta:{},type:"arrow",parentId:"page:page2",index:"a4",props:{dash:"draw",size:"m",fill:"none",color:"black",labelColor:"black",bend:0,start:{type:"binding",boundShapeId:"shape:W25cQBiKtpEgJQAWccWrs",normalizedAnchor:{x:.5,y:.5},isExact:!1},end:{type:"binding",boundShapeId:"shape:EL15Akq9Nx9_NPdglsqgG",normalizedAnchor:{x:.5,y:.5},isExact:!1},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},id:"shape:XNOJzB586-5whTtAYC6M_",typeName:"shape"},"shape:EL15Akq9Nx9_NPdglsqgG":{x:448.4184995968317,y:519.76171875,rotation:0,isLocked:!1,opacity:1,meta:{},type:"geo",props:{w:83.33559924570821,h:80.22879950084786,geo:"cloud",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:page2",index:"a3",id:"shape:EL15Akq9Nx9_NPdglsqgG",typeName:"shape"},"shape:eDog8u-JyLF-5AsQruvyM":{x:471.9453125,y:552.609375,rotation:0,isLocked:!1,opacity:1,meta:{},type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5}]}],color:"black",fill:"none",dash:"draw",size:"m",isComplete:!0,isClosed:!1,isPen:!1},parentId:"page:page2",index:"a5",id:"shape:eDog8u-JyLF-5AsQruvyM",typeName:"shape"},"shape:KEjUdOIrvizOLzPSVy7ia":{x:507.15625,y:552.609375,rotation:0,isLocked:!1,opacity:1,meta:{},type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:.13,y:0,z:.5}]}],color:"black",fill:"none",dash:"draw",size:"m",isComplete:!0,isClosed:!1,isPen:!1},parentId:"page:page2",index:"a6",id:"shape:KEjUdOIrvizOLzPSVy7ia",typeName:"shape"},"shape:9mTeZ081zvz7RULyU3iwv":{x:481.96484375,y:564.5234375,rotation:0,isLocked:!1,opacity:1,meta:{},type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:.12,y:0,z:.5},{x:.35,y:0,z:.5},{x:.92,y:0,z:.5},{x:2.15,y:-.14,z:.5},{x:3.6,y:.05,z:.5},{x:5.12,y:.54,z:.5},{x:6.6,y:.88,z:.5},{x:8.29,y:1.04,z:.5},{x:10.45,y:1.04,z:.5},{x:12.27,y:1.04,z:.5},{x:13.35,y:1,z:.5},{x:14.04,y:.81,z:.5},{x:14.57,y:.2,z:.5},{x:14.82,y:-.55,z:.5},{x:14.85,y:-1.27,z:.5},{x:14.97,y:-1.87,z:.5},{x:15.06,y:-2.09,z:.5},{x:15.06,y:-2.25,z:.5},{x:15.06,y:-2.74,z:.5}]}],color:"black",fill:"none",dash:"draw",size:"m",isComplete:!0,isClosed:!1,isPen:!1},parentId:"page:page2",index:"a7",id:"shape:9mTeZ081zvz7RULyU3iwv",typeName:"shape"},"shape:v37oWIZEkIqKGdGZghrfA":{x:-1838.9140660856651,y:7604.549881178025,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:v37oWIZEkIqKGdGZghrfA",type:"note",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"a8",props:{color:"black",size:"s",text:"Sticky note",font:"draw",align:"start",verticalAlign:"start",growY:0,url:""},typeName:"shape"},"shape:O-pU2_ggUM64ZWU1r7oEB":{x:-1624.6911969546622,y:7604.549881178025,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:O-pU2_ggUM64ZWU1r7oEB",type:"note",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"a9",props:{color:"grey",size:"s",text:"Sticky note",font:"draw",align:"middle",verticalAlign:"start",growY:0,url:""},typeName:"shape"},"shape:Db4p1ma1mBBGp46eN64w1":{x:-1410.4683278236594,y:7604.549881178025,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Db4p1ma1mBBGp46eN64w1",type:"note",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aA",props:{color:"light-violet",size:"s",text:"Sticky note",font:"draw",align:"end",verticalAlign:"start",growY:0,url:""},typeName:"shape"},"shape:WDS44YHks5BXIyPHQQJ0R":{x:-1838.9140660856651,y:7813.403435567038,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:WDS44YHks5BXIyPHQQJ0R",type:"note",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"a8V",props:{color:"black",size:"s",text:"Sticky note",font:"draw",align:"start",verticalAlign:"middle",growY:0,url:""},typeName:"shape"},"shape:UDQEf9jgTpNzI3CfOyG1R":{x:-1624.6911969546622,y:7813.403435567038,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:UDQEf9jgTpNzI3CfOyG1R",type:"note",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"a9V",props:{color:"grey",size:"s",text:"Sticky note",font:"draw",align:"middle",verticalAlign:"middle",growY:0,url:""},typeName:"shape"},"shape:jTgf4aMkA3yUUQjqZ1Esg":{x:-1410.4683278236594,y:7813.403435567038,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:jTgf4aMkA3yUUQjqZ1Esg",type:"note",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aB",props:{color:"light-violet",size:"s",text:"Sticky note",font:"draw",align:"end",verticalAlign:"middle",growY:0,url:""},typeName:"shape"},"shape:dpCjCMsd1fav6Fq0nWxxN":{x:-1838.9140660856651,y:8023.6423279395285,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:dpCjCMsd1fav6Fq0nWxxN",type:"note",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"a8l",props:{color:"black",size:"s",text:"Sticky note",font:"draw",align:"start",verticalAlign:"end",growY:0,url:""},typeName:"shape"},"shape:bzp3tr2VD3-XFJuyzl4LG":{x:-1624.6911969546622,y:8023.6423279395285,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:bzp3tr2VD3-XFJuyzl4LG",type:"note",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"a9l",props:{color:"grey",size:"s",text:"Sticky note",font:"draw",align:"middle",verticalAlign:"end",growY:0,url:""},typeName:"shape"},"shape:dgFDz6VnCOj59T5GZmM8I":{x:-1410.4683278236594,y:8023.6423279395285,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:dgFDz6VnCOj59T5GZmM8I",type:"note",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aC",props:{color:"light-violet",size:"s",text:"Sticky note",font:"draw",align:"end",verticalAlign:"end",growY:0,url:""},typeName:"shape"},"shape:r_8EdkdPAkGazaReo3UQM":{x:-1196.2454586926567,y:7604.549881178025,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:r_8EdkdPAkGazaReo3UQM",type:"note",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"a8G",props:{color:"violet",size:"m",text:"Sticky note",font:"draw",align:"start",verticalAlign:"start",growY:0,url:""},typeName:"shape"},"shape:FE4rMcHsBATODJGlmGggN":{x:-1196.2454586926567,y:7813.403435567038,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:FE4rMcHsBATODJGlmGggN",type:"note",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"a8d",props:{color:"violet",size:"m",text:"Sticky note",font:"draw",align:"start",verticalAlign:"middle",growY:0,url:""},typeName:"shape"},"shape:aOl46rKwMP2CvXVaZVy0t":{x:-1196.2454586926567,y:8023.6423279395285,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:aOl46rKwMP2CvXVaZVy0t",type:"note",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"a8t",props:{color:"violet",size:"m",text:"Sticky note",font:"draw",align:"start",verticalAlign:"end",growY:0,url:""},typeName:"shape"},"shape:xGsZcSEb-eQyVcD7E3pBq":{x:-982.022589561654,y:7604.549881178025,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:xGsZcSEb-eQyVcD7E3pBq",type:"note",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"a9G",props:{color:"blue",size:"m",text:"Sticky note",font:"draw",align:"middle",verticalAlign:"start",growY:0,url:""},typeName:"shape"},"shape:TVn_nW2-fSrgqTf9d7QEn":{x:-982.022589561654,y:7813.403435567038,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:TVn_nW2-fSrgqTf9d7QEn",type:"note",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"a9d",props:{color:"blue",size:"m",text:"Sticky note",font:"draw",align:"middle",verticalAlign:"middle",growY:0,url:""},typeName:"shape"},"shape:z1SAUTRV8b_6AyT3rqEE3":{x:-982.022589561654,y:8023.6423279395285,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:z1SAUTRV8b_6AyT3rqEE3",type:"note",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"a9t",props:{color:"blue",size:"m",text:"Sticky note",font:"draw",align:"middle",verticalAlign:"end",growY:0,url:""},typeName:"shape"},"shape:fcKJybwVMa3XfwuZnNGhG":{x:-767.7997204306512,y:7604.549881178025,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:fcKJybwVMa3XfwuZnNGhG",type:"note",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aAV",props:{color:"light-blue",size:"m",text:"Sticky note",font:"draw",align:"end",verticalAlign:"start",growY:0,url:""},typeName:"shape"},"shape:ydx11LNtZV7x0cb32nA9g":{x:-767.7997204306512,y:7813.403435567038,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ydx11LNtZV7x0cb32nA9g",type:"note",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aBV",props:{color:"light-blue",size:"m",text:"Sticky note",font:"draw",align:"end",verticalAlign:"middle",growY:0,url:""},typeName:"shape"},"shape:125gTSb1JtEqiHRnytqnZ":{x:-767.7997204306512,y:8023.6423279395285,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:125gTSb1JtEqiHRnytqnZ",type:"note",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aD",props:{color:"light-blue",size:"m",text:"Sticky note",font:"draw",align:"end",verticalAlign:"end",growY:0,url:""},typeName:"shape"},"shape:VNznAJwAoRLvDTD7vFO8w":{x:-553.5768512996483,y:7604.549881178025,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:VNznAJwAoRLvDTD7vFO8w",type:"note",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"a8O",props:{color:"yellow",size:"l",text:"Sticky note",font:"draw",align:"start",verticalAlign:"start",growY:0,url:""},typeName:"shape"},"shape:MRUayz0sC3jFIbBOWV_5s":{x:-553.5768512996483,y:7813.403435567038,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:MRUayz0sC3jFIbBOWV_5s",type:"note",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"a8h",props:{color:"yellow",size:"l",text:"Sticky note",font:"draw",align:"start",verticalAlign:"middle",growY:0,url:""},typeName:"shape"},"shape:ZtYO6CBivoWvNy79Rh-zT":{x:-553.5768512996483,y:8023.6423279395285,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ZtYO6CBivoWvNy79Rh-zT",type:"note",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"a8x",props:{color:"yellow",size:"l",text:"Sticky note",font:"draw",align:"start",verticalAlign:"end",growY:0,url:""},typeName:"shape"},"shape:COnl317kfUp6dJd7xhfXY":{x:-339.35398216864564,y:7604.549881178025,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:COnl317kfUp6dJd7xhfXY",type:"note",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"a9O",props:{color:"orange",size:"l",text:"Sticky note",font:"draw",align:"middle",verticalAlign:"start",growY:0,url:""},typeName:"shape"},"shape:aw9nV-ewq8iioGZqGMGQV":{x:-339.35398216864564,y:7813.403435567038,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:aw9nV-ewq8iioGZqGMGQV",type:"note",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"a9h",props:{color:"orange",size:"l",text:"Sticky note",font:"draw",align:"middle",verticalAlign:"middle",growY:0,url:""},typeName:"shape"},"shape:6D1qvd4nHRtCAXVZdhaYU":{x:-339.35398216864564,y:8023.6423279395285,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:6D1qvd4nHRtCAXVZdhaYU",type:"note",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"a9x",props:{color:"orange",size:"l",text:"Sticky note",font:"draw",align:"middle",verticalAlign:"end",growY:0,url:""},typeName:"shape"},"shape:YqkJCgfMRka-CQaMkzBVf":{x:-125.13111303764299,y:7604.549881178025,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:YqkJCgfMRka-CQaMkzBVf",type:"note",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aAl",props:{color:"green",size:"l",text:"Sticky note",font:"draw",align:"end",verticalAlign:"start",growY:0,url:""},typeName:"shape"},"shape:gaR2bbGFa1YDKnt1evH1p":{x:-125.13111303764299,y:7813.403435567038,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:gaR2bbGFa1YDKnt1evH1p",type:"note",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aBl",props:{color:"green",size:"l",text:"Sticky note",font:"draw",align:"end",verticalAlign:"middle",growY:0,url:""},typeName:"shape"},"shape:hA__THRSe75eJR1wBMrg3":{x:-125.13111303764299,y:8023.6423279395285,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:hA__THRSe75eJR1wBMrg3",type:"note",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aE",props:{color:"green",size:"l",text:"Sticky note",font:"draw",align:"end",verticalAlign:"end",growY:0,url:""},typeName:"shape"},"shape:xve9FUlVoYepJAPJ_zIOs":{x:89.09175609335989,y:7604.549881178025,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:xve9FUlVoYepJAPJ_zIOs",type:"note",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"a8S",props:{color:"light-green",size:"xl",text:"Sticky note",font:"draw",align:"start",verticalAlign:"start",growY:0,url:""},typeName:"shape"},"shape:aD1P1eAkCMTNX8yHQlodJ":{x:89.09175609335989,y:7813.403435567038,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:aD1P1eAkCMTNX8yHQlodJ",type:"note",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"a8j",props:{color:"light-green",size:"xl",text:"Sticky note",font:"draw",align:"start",verticalAlign:"middle",growY:0,url:""},typeName:"shape"},"shape:bgt1lyKEZhyHSEs_M2LGY":{x:89.09175609335989,y:8023.6423279395285,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:bgt1lyKEZhyHSEs_M2LGY",type:"note",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"a8z",props:{color:"light-green",size:"xl",text:"Sticky note",font:"draw",align:"start",verticalAlign:"end",growY:0,url:""},typeName:"shape"},"shape:yLLyULpv9npz3LkaB06B5":{x:303.31462522436277,y:7604.549881178025,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:yLLyULpv9npz3LkaB06B5",type:"note",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"a9S",props:{color:"light-red",size:"xl",text:"Sticky note",font:"draw",align:"middle",verticalAlign:"start",growY:0,url:""},typeName:"shape"},"shape:doBNMKxkygcuV97zErC-G":{x:303.31462522436277,y:7813.403435567038,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:doBNMKxkygcuV97zErC-G",type:"note",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"a9j",props:{color:"light-red",size:"xl",text:"Sticky note",font:"draw",align:"middle",verticalAlign:"middle",growY:0,url:""},typeName:"shape"},"shape:jwAfEXnooGCD8rq56Up8l":{x:303.31462522436277,y:8023.6423279395285,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:jwAfEXnooGCD8rq56Up8l",type:"note",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"a9z",props:{color:"light-red",size:"xl",text:"Sticky note",font:"draw",align:"middle",verticalAlign:"end",growY:0,url:""},typeName:"shape"},"shape:t6eRtjdirUdF57OR86MB6":{x:517.5374943553652,y:7604.549881178025,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:t6eRtjdirUdF57OR86MB6",type:"note",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aAt",props:{color:"red",size:"xl",text:"Sticky note",font:"draw",align:"end",verticalAlign:"start",growY:0,url:""},typeName:"shape"},"shape:0kdXpX9RoqxnZ5a_WKjrl":{x:517.5374943553652,y:7813.403435567038,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:0kdXpX9RoqxnZ5a_WKjrl",type:"note",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aBt",props:{color:"red",size:"xl",text:"Sticky note",font:"draw",align:"end",verticalAlign:"middle",growY:0,url:""},typeName:"shape"},"shape:rih8sUJ5RdLq3erx3V3cy":{x:517.5374943553652,y:8023.6423279395285,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:rih8sUJ5RdLq3erx3V3cy",type:"note",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aF",props:{color:"red",size:"xl",text:"Sticky note",font:"draw",align:"end",verticalAlign:"end",growY:0,url:""},typeName:"shape"},"shape:XYHwYMObc4GBNzeUkEPIm":{x:-259.0812996416322,y:1415.1839298200061,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:XYHwYMObc4GBNzeUkEPIm",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aGV",props:{dash:"draw",size:"s",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.06220257987061,y:92.54213910199667}}},typeName:"shape"},"shape:YZbcyoc6eVXgRqXmpyd7x":{x:-259.0812996416322,y:1428.272063943046,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:YZbcyoc6eVXgRqXmpyd7x",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHG",props:{dash:"draw",size:"s",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.25867110324572,y:68.89093276824845}}},typeName:"shape"},"shape:CT3GcujN92TvVvij28qoj":{x:-259.0812996416322,y:1434.7440241266677,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:CT3GcujN92TvVvij28qoj",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHl",props:{dash:"draw",size:"s",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:229.08509912361876,y:50.006204081018716}}},typeName:"shape"},"shape:0SweYa0DRsVCbxOi2E1CT":{x:-259.0812996416322,y:1422.8007706363828,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:0SweYa0DRsVCbxOi2E1CT",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aJ",props:{dash:"draw",size:"s",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.6332710878141,y:54.58592500103621}}},typeName:"shape"},"shape:kgYsiWwB4OCLyrHPRlaex":{x:290.69396489540804,y:1415.1839298200061,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:kgYsiWwB4OCLyrHPRlaex",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aGl",props:{dash:"draw",size:"s",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.06220257987061,y:92.54213910199667}}},typeName:"shape"},"shape:p84ZWa7fxpwU7bzQN-EZJ":{x:290.69396489540804,y:1428.272063943046,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:p84ZWa7fxpwU7bzQN-EZJ",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHO",props:{dash:"draw",size:"s",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.25867110324572,y:68.89093276824845}}},typeName:"shape"},"shape:H64ci4TCzpMhea1EqGKil":{x:290.69396489540804,y:1434.7440241266677,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:H64ci4TCzpMhea1EqGKil",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHt",props:{dash:"draw",size:"s",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:229.08509912361876,y:50.006204081018716}}},typeName:"shape"},"shape:RURApB6z-X6Oq9xKl95gB":{x:290.69396489540804,y:1422.8007706363828,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:RURApB6z-X6Oq9xKl95gB",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aK",props:{dash:"draw",size:"s",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.6332710878141,y:54.58592500103621}}},typeName:"shape"},"shape:BYpKYw_wdGF4ZFGrOKbLN":{x:823.6985627854997,y:1460.028085528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:BYpKYw_wdGF4ZFGrOKbLN",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aL",typeName:"shape"},"shape:ZxXu3NiB0PiYYCz-za2VO":{x:912.8193315569235,y:1460.028085528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ZxXu3NiB0PiYYCz-za2VO",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aM",typeName:"shape"},"shape:OzAtgAddOWowkpoaDLIrf":{x:1001.9401003283474,y:1460.028085528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:OzAtgAddOWowkpoaDLIrf",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aN",typeName:"shape"},"shape:LDo0u1PDMsgiCF8gxycR4":{x:1091.0608690997713,y:1460.028085528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:LDo0u1PDMsgiCF8gxycR4",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aO",typeName:"shape"},"shape:gFuDFYVxJ44FnVm3vfjli":{x:823.6985627854997,y:1528.1976019957335,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:gFuDFYVxJ44FnVm3vfjli",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"ellipse",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLV",typeName:"shape"},"shape:e3o6Hn4SI6_QbjqKIR_uK":{x:912.8193315569235,y:1528.1976019957335,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:e3o6Hn4SI6_QbjqKIR_uK",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"ellipse",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMV",typeName:"shape"},"shape:XAKnXzlIjbZ9OJ89cLtKt":{x:1001.9401003283474,y:1528.1976019957335,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:XAKnXzlIjbZ9OJ89cLtKt",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"ellipse",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNV",typeName:"shape"},"shape:Er1KUbOqGKmxKmDvfkUy9":{x:1091.0608690997713,y:1528.1976019957335,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Er1KUbOqGKmxKmDvfkUy9",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"ellipse",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aP",typeName:"shape"},"shape:5yqSo2aF6YQoUpzMbCtmI":{x:823.6985627854997,y:1599.6764292733824,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:5yqSo2aF6YQoUpzMbCtmI",type:"geo",props:{w:64.60315211307564,h:48.96301770717472,geo:"cloud",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLl",typeName:"shape"},"shape:_9u-7i3pSrNFQpjMvgxnK":{x:912.8193315569235,y:1599.6764292733824,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:_9u-7i3pSrNFQpjMvgxnK",type:"geo",props:{w:63.360892260497934,h:49.195177683622035,geo:"cloud",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMl",typeName:"shape"},"shape:Lw3XxAeVoKWWIuN41bNO5":{x:1001.9401003283474,y:1599.6764292733824,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Lw3XxAeVoKWWIuN41bNO5",type:"geo",props:{w:66.87337465809267,h:48.97377021353676,geo:"cloud",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNl",typeName:"shape"},"shape:86ciiHNEAXWTfs4sI90EO":{x:1091.0608690997713,y:1599.6764292733824,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:86ciiHNEAXWTfs4sI90EO",type:"geo",props:{w:63.49092845281507,h:49.70805530562984,geo:"cloud",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aQ",typeName:"shape"},"shape:Qpm0UTzjK2PIkUHYsi2Oe":{x:823.6985627854997,y:1670.7265893476233,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Qpm0UTzjK2PIkUHYsi2Oe",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"triangle",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLt",typeName:"shape"},"shape:lutVFtOQ45zqqANxN1hiC":{x:912.8193315569235,y:1670.7265893476233,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:lutVFtOQ45zqqANxN1hiC",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"triangle",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMt",typeName:"shape"},"shape:KTUJa0PJFFMVyu1nOovLu":{x:1001.9401003283474,y:1670.7265893476233,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:KTUJa0PJFFMVyu1nOovLu",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"triangle",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNt",typeName:"shape"},"shape:nJIGf0tfWnHa-owYw2fRU":{x:1091.0608690997713,y:1670.7265893476233,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:nJIGf0tfWnHa-owYw2fRU",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"triangle",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aR",typeName:"shape"},"shape:3-wg1Br2LxCNMSJJ02tSq":{x:823.6985627854997,y:1734.9980920453017,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:3-wg1Br2LxCNMSJJ02tSq",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"diamond",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLx",typeName:"shape"},"shape:R3RhaTZNFyQzu4jf7Jvvt":{x:912.8193315569235,y:1734.9980920453017,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:R3RhaTZNFyQzu4jf7Jvvt",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"diamond",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMx",typeName:"shape"},"shape:rhdHcIgGglkF7nlHB-rhE":{x:1001.9401003283474,y:1734.9980920453017,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:rhdHcIgGglkF7nlHB-rhE",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"diamond",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNx",typeName:"shape"},"shape:e9LV-mNHaAYsyH1QJIb8-":{x:1091.0608690997713,y:1734.9980920453017,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:e9LV-mNHaAYsyH1QJIb8-",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"diamond",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aS",typeName:"shape"},"shape:tYT10zYg7tmVG0LlZPHrH":{x:823.6985627854997,y:1800.675623170159,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:tYT10zYg7tmVG0LlZPHrH",type:"geo",props:{w:70.54441039901512,h:45.97415461845719,geo:"pentagon",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLz",typeName:"shape"},"shape:2qfJEHxMioLhHR_D9kJ-V":{x:912.8193315569235,y:1800.675623170159,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:2qfJEHxMioLhHR_D9kJ-V",type:"geo",props:{w:70.54441039901512,h:45.97415461845719,geo:"pentagon",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMz",typeName:"shape"},"shape:s46l-S7TZu7LaM4kfTNdv":{x:1001.9401003283474,y:1800.675623170159,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:s46l-S7TZu7LaM4kfTNdv",type:"geo",props:{w:70.54441039901512,h:45.97415461845719,geo:"pentagon",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNz",typeName:"shape"},"shape:AeoWQNTktqBRVnKjjGWzf":{x:1091.0608690997713,y:1800.675623170159,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:AeoWQNTktqBRVnKjjGWzf",type:"geo",props:{w:70.54441039901512,h:45.97415461845719,geo:"pentagon",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aT",typeName:"shape"},"shape:4jF89wMBcCC4SEsFMYBnw":{x:823.6985627854997,y:1868.2450055527247,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:4jF89wMBcCC4SEsFMYBnw",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"octagon",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzV",typeName:"shape"},"shape:OAbt17v6BJp9Wy7K5XNEw":{x:912.8193315569235,y:1868.2450055527247,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:OAbt17v6BJp9Wy7K5XNEw",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"octagon",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzV",typeName:"shape"},"shape:i8WBghktMV3E7muMq2BMa":{x:1001.9401003283474,y:1868.2450055527247,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:i8WBghktMV3E7muMq2BMa",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"octagon",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzV",typeName:"shape"},"shape:5X_0oyFgn-0xdbVzf9dQL":{x:1091.0608690997713,y:1868.2450055527247,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:5X_0oyFgn-0xdbVzf9dQL",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"octagon",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aU",typeName:"shape"},"shape:Bw_mCrIjnSYkWeNEaVLOa":{x:823.6985627854997,y:1948.034261013782,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Bw_mCrIjnSYkWeNEaVLOa",type:"geo",props:{w:73.99709959984733,h:50.3642957335091,geo:"star",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzl",typeName:"shape"},"shape:6uXqMQgPTcJOkVqq80Fy5":{x:912.8193315569235,y:1948.034261013782,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:6uXqMQgPTcJOkVqq80Fy5",type:"geo",props:{w:73.99709959984733,h:50.3642957335091,geo:"star",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzl",typeName:"shape"},"shape:i4-F9C_rXM9w73Cb7t5Yf":{x:1001.9401003283474,y:1948.034261013782,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:i4-F9C_rXM9w73Cb7t5Yf",type:"geo",props:{w:73.99709959984733,h:50.3642957335091,geo:"star",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzl",typeName:"shape"},"shape:NODIGBp7sItyIclTVs2MX":{x:1091.0608690997713,y:1948.034261013782,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:NODIGBp7sItyIclTVs2MX",type:"geo",props:{w:73.99709959984733,h:50.3642957335091,geo:"star",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aV",typeName:"shape"},"shape:naaKpT_x8CNRfknhuEHrN":{x:823.6985627854997,y:2034.1230369035825,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:naaKpT_x8CNRfknhuEHrN",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rhombus",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzt",typeName:"shape"},"shape:PFfcfu0J0WJnVI4gaDCzp":{x:912.8193315569235,y:2034.1230369035825,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:PFfcfu0J0WJnVI4gaDCzp",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rhombus",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzt",typeName:"shape"},"shape:sSoa5eu21LrlE5OHyh3CJ":{x:1001.9401003283474,y:2034.1230369035825,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:sSoa5eu21LrlE5OHyh3CJ",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rhombus",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzt",typeName:"shape"},"shape:hckqOoB31RLqlCGwK1N3W":{x:1091.0608690997713,y:2034.1230369035825,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:hckqOoB31RLqlCGwK1N3W",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rhombus",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aW",typeName:"shape"},"shape:gHhgq4dbeRbzYxpd9Q8pw":{x:823.6985627854997,y:2116.1813707613474,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:gHhgq4dbeRbzYxpd9Q8pw",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rhombus-2",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzx",typeName:"shape"},"shape:eOvFnOp60bE_zLVtHkaEi":{x:912.8193315569235,y:2116.1813707613474,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:eOvFnOp60bE_zLVtHkaEi",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rhombus-2",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzx",typeName:"shape"},"shape:F42WcYz3JA3SvvphoqBPu":{x:1001.9401003283474,y:2116.1813707613474,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:F42WcYz3JA3SvvphoqBPu",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rhombus-2",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzx",typeName:"shape"},"shape:X3Hi7PRM9xLAsB0k39X54":{x:1091.0608690997713,y:2116.1813707613474,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:X3Hi7PRM9xLAsB0k39X54",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rhombus-2",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aX",typeName:"shape"},"shape:urv5_Al5-8pSyytBTSdwb":{x:823.6985627854997,y:2204.772592799054,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:urv5_Al5-8pSyytBTSdwb",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"oval",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzz",typeName:"shape"},"shape:uObXPxkdJK8N_INULJvqE":{x:912.8193315569235,y:2204.772592799054,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:uObXPxkdJK8N_INULJvqE",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"oval",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzz",typeName:"shape"},"shape:RsyjF7JSpd3LecEB8LFeB":{x:1001.9401003283474,y:2204.772592799054,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:RsyjF7JSpd3LecEB8LFeB",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"oval",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzz",typeName:"shape"},"shape:IXPN77UQF3QsM2FDGzVDZ":{x:1091.0608690997713,y:2204.772592799054,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:IXPN77UQF3QsM2FDGzVDZ",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"oval",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aY",typeName:"shape"},"shape:tNEsjnyrNkj2v7P7WYpd7":{x:823.6985627854997,y:2282.8186016329173,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:tNEsjnyrNkj2v7P7WYpd7",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"trapezoid",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzzV",typeName:"shape"},"shape:LCh3auqSs9OMybGRZtXxc":{x:912.8193315569235,y:2282.8186016329173,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:LCh3auqSs9OMybGRZtXxc",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"trapezoid",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzzV",typeName:"shape"},"shape:3akbwGbXnwNwvodsNAsdx":{x:1001.9401003283474,y:2282.8186016329173,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:3akbwGbXnwNwvodsNAsdx",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"trapezoid",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzzV",typeName:"shape"},"shape:xlG3fbMLnBRCeWcVJLM7K":{x:1091.0608690997713,y:2282.8186016329173,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:xlG3fbMLnBRCeWcVJLM7K",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"trapezoid",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aZ",typeName:"shape"},"shape:jm7qjuxxJXMC0szVGXGLC":{x:823.6985627854997,y:2357.2066503310307,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:jm7qjuxxJXMC0szVGXGLC",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-right",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzzl",typeName:"shape"},"shape:NPR5axf5kknV3z_4qZF3I":{x:912.8193315569235,y:2357.2066503310307,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:NPR5axf5kknV3z_4qZF3I",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-right",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzzl",typeName:"shape"},"shape:M9-eiXU3DWX7z5MzTqsxf":{x:1001.9401003283474,y:2357.2066503310307,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:M9-eiXU3DWX7z5MzTqsxf",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-right",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzzl",typeName:"shape"},"shape:5WsB9gJoFgwM3f_9Kh8Jb":{x:1091.0608690997713,y:2357.2066503310307,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:5WsB9gJoFgwM3f_9Kh8Jb",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-right",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aa",typeName:"shape"},"shape:lLMYqCEPtX59eqPK5XS0o":{x:823.6985627854997,y:2425.1475442898836,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:lLMYqCEPtX59eqPK5XS0o",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-left",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzzt",typeName:"shape"},"shape:wkJRUp6MByo-e1FOt3FYT":{x:912.8193315569235,y:2425.1475442898836,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:wkJRUp6MByo-e1FOt3FYT",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-left",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzzt",typeName:"shape"},"shape:WZXEyEv2Px0qRae0nfH4z":{x:1001.9401003283474,y:2425.1475442898836,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:WZXEyEv2Px0qRae0nfH4z",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-left",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzzt",typeName:"shape"},"shape:ERktfGMKZ99SrSSRKxLBo":{x:1091.0608690997713,y:2425.1475442898836,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ERktfGMKZ99SrSSRKxLBo",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-left",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"ab",typeName:"shape"},"shape:-QJKz5re6OCkh3IGIYBd8":{x:823.6985627854997,y:2495.4889745878227,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:-QJKz5re6OCkh3IGIYBd8",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-up",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzzx",typeName:"shape"},"shape:Ver_5mCE0q2x4ddFCLkiQ":{x:912.8193315569235,y:2495.4889745878227,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Ver_5mCE0q2x4ddFCLkiQ",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-up",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzzx",typeName:"shape"},"shape:gkCwf-QX4yBBH4gFHvBu8":{x:1001.9401003283474,y:2495.4889745878227,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:gkCwf-QX4yBBH4gFHvBu8",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-up",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzzx",typeName:"shape"},"shape:IRUNLqwJJImk2TqXzk0Ci":{x:1091.0608690997713,y:2495.4889745878227,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:IRUNLqwJJImk2TqXzk0Ci",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-up",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"ac",typeName:"shape"},"shape:SAFffahXJMFAkgnai654g":{x:823.6985627854997,y:2567.5507892621063,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:SAFffahXJMFAkgnai654g",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-down",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzzz",typeName:"shape"},"shape:mI9GX_tadBui5MKh6pjV7":{x:912.8193315569235,y:2567.5507892621063,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:mI9GX_tadBui5MKh6pjV7",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-down",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzzz",typeName:"shape"},"shape:nGUnQPXCf5ZKvNAoNRgJ1":{x:1001.9401003283474,y:2567.5507892621063,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:nGUnQPXCf5ZKvNAoNRgJ1",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-down",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzzz",typeName:"shape"},"shape:pjmikwygQvTyPmNb0KQns":{x:1091.0608690997713,y:2567.5507892621063,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:pjmikwygQvTyPmNb0KQns",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-down",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"ad",typeName:"shape"},"shape:6e-hwHJaa2i-kJZ5o-Vcy":{x:823.6985627854997,y:2637.989384126151,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:6e-hwHJaa2i-kJZ5o-Vcy",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"x-box",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzzzV",typeName:"shape"},"shape:MSPSpgPWuucj-kmFiqw8_":{x:912.8193315569235,y:2637.989384126151,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:MSPSpgPWuucj-kmFiqw8_",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"x-box",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzzzV",typeName:"shape"},"shape:CTrzl5W0-5Sm4v2qU7vNZ":{x:1001.9401003283474,y:2637.989384126151,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:CTrzl5W0-5Sm4v2qU7vNZ",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"x-box",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzzzV",typeName:"shape"},"shape:del80gloLFmnJwxWejbA0":{x:1091.0608690997713,y:2637.989384126151,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:del80gloLFmnJwxWejbA0",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"x-box",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"ae",typeName:"shape"},"shape:PIjb_uR3o4-nLgSEaU-7Y":{x:823.6985627854997,y:2717.6643283329663,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:PIjb_uR3o4-nLgSEaU-7Y",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"check-box",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzzzl",typeName:"shape"},"shape:icahIIqiD9ZEYszIsqdpm":{x:912.8193315569235,y:2717.6643283329663,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:icahIIqiD9ZEYszIsqdpm",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"check-box",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzzzl",typeName:"shape"},"shape:lvS61blTMwxmElcnnQmi3":{x:1001.9401003283474,y:2717.6643283329663,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:lvS61blTMwxmElcnnQmi3",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"check-box",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzzzl",typeName:"shape"},"shape:y6dmCO4q0kfiQbxF4Splx":{x:1091.0608690997713,y:2717.6643283329663,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:y6dmCO4q0kfiQbxF4Splx",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"check-box",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"af",typeName:"shape"},"shape:1oXkJZTXBu6k68qLzQ78c":{x:1196.4032148861895,y:1460.028085528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:1oXkJZTXBu6k68qLzQ78c",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLG",typeName:"shape"},"shape:FZkVUJdt8keiW_OLaJxfU":{x:1196.4032148861895,y:1528.1976019957335,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:FZkVUJdt8keiW_OLaJxfU",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"ellipse",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLd",typeName:"shape"},"shape:SxDaJBrawTiN4g_utJW7f":{x:1196.4032148861895,y:1599.6764292733824,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:SxDaJBrawTiN4g_utJW7f",type:"geo",props:{w:67.3168793579456,h:49.19954602239783,geo:"cloud",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLp",typeName:"shape"},"shape:mAqnC7yT6bvM2mnvJENjs":{x:1196.4032148861895,y:1670.7265893476233,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:mAqnC7yT6bvM2mnvJENjs",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"triangle",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLv",typeName:"shape"},"shape:cBZQe0jhdpW9Uf4u2-Fcp":{x:1196.4032148861895,y:1734.9980920453017,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:cBZQe0jhdpW9Uf4u2-Fcp",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"diamond",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLy",typeName:"shape"},"shape:GX6I3zpEo442rrz9DVqPd":{x:1196.4032148861895,y:1800.675623170159,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:GX6I3zpEo442rrz9DVqPd",type:"geo",props:{w:70.54441039901512,h:45.97415461845719,geo:"pentagon",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzG",typeName:"shape"},"shape:uEhVmgmzl9Wmdk9mJUkUi":{x:1196.4032148861895,y:1868.2450055527247,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:uEhVmgmzl9Wmdk9mJUkUi",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"octagon",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzd",typeName:"shape"},"shape:ah_aAe_6qOOv4U4bRZt4_":{x:1196.4032148861895,y:1948.034261013782,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ah_aAe_6qOOv4U4bRZt4_",type:"geo",props:{w:73.99709959984733,h:50.3642957335091,geo:"star",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzp",typeName:"shape"},"shape:MxYRNGLBf-sooqq3VlOhe":{x:1196.4032148861895,y:2034.1230369035825,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:MxYRNGLBf-sooqq3VlOhe",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rhombus",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzv",typeName:"shape"},"shape:OYm-xIXhdPiVaJmeSTW-K":{x:1196.4032148861895,y:2116.1813707613474,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:OYm-xIXhdPiVaJmeSTW-K",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rhombus-2",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzy",typeName:"shape"},"shape:5m-jWfRoCOddUaecKP1U6":{x:1196.4032148861895,y:2204.772592799054,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:5m-jWfRoCOddUaecKP1U6",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"oval",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzzG",typeName:"shape"},"shape:2cwtrCTsxVRYsnRQQX8d0":{x:1196.4032148861895,y:2282.8186016329173,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:2cwtrCTsxVRYsnRQQX8d0",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"trapezoid",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzzd",typeName:"shape"},"shape:CYdKc2Nk8VuXh8WafQuGZ":{x:1196.4032148861895,y:2357.2066503310307,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:CYdKc2Nk8VuXh8WafQuGZ",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-right",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzzp",typeName:"shape"},"shape:4y-eOtOlige-PqHB-lUVU":{x:1196.4032148861895,y:2425.1475442898836,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:4y-eOtOlige-PqHB-lUVU",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-left",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzzv",typeName:"shape"},"shape:E0TZXUk-Bf1HCm5pTUesF":{x:1196.4032148861895,y:2495.4889745878227,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:E0TZXUk-Bf1HCm5pTUesF",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-up",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzzy",typeName:"shape"},"shape:341KK0o1C2fcjxxazD3m4":{x:1196.4032148861895,y:2567.5507892621063,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:341KK0o1C2fcjxxazD3m4",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-down",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzzzG",typeName:"shape"},"shape:LvyAxcJm29m01MXeuIE53":{x:1196.4032148861895,y:2637.989384126151,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:LvyAxcJm29m01MXeuIE53",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"x-box",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzzzd",typeName:"shape"},"shape:aQcXASbcLMVhegdC_h_OC":{x:1196.4032148861895,y:2717.6643283329663,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:aQcXASbcLMVhegdC_h_OC",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"check-box",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzzzt",typeName:"shape"},"shape:UE4MSA7UZyhH3PfZGPthk":{x:1285.5239836576134,y:1460.028085528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:UE4MSA7UZyhH3PfZGPthk",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMG",typeName:"shape"},"shape:PJGqz1Vt2iqU4kkH_qYL7":{x:1285.5239836576134,y:1528.1976019957335,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:PJGqz1Vt2iqU4kkH_qYL7",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"ellipse",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMd",typeName:"shape"},"shape:YqcfN6B5IT4Oe-wiaLEvz":{x:1285.5239836576134,y:1599.6764292733824,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:YqcfN6B5IT4Oe-wiaLEvz",type:"geo",props:{w:64.68249228556668,h:48.56478826797975,geo:"cloud",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMp",typeName:"shape"},"shape:aN26Nd3nONH6SunhTqtVI":{x:1285.5239836576134,y:1670.7265893476233,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:aN26Nd3nONH6SunhTqtVI",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"triangle",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMv",typeName:"shape"},"shape:ey8xUxT6ndTcT6siTiOyJ":{x:1285.5239836576134,y:1734.9980920453017,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ey8xUxT6ndTcT6siTiOyJ",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"diamond",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMy",typeName:"shape"},"shape:lwxhS7BegHmVbEQuhAZpj":{x:1285.5239836576134,y:1800.675623170159,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:lwxhS7BegHmVbEQuhAZpj",type:"geo",props:{w:70.54441039901512,h:45.97415461845719,geo:"pentagon",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzG",typeName:"shape"},"shape:ehJ91CqRM1kJmDP3GGkOQ":{x:1285.5239836576134,y:1868.2450055527247,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ehJ91CqRM1kJmDP3GGkOQ",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"octagon",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzd",typeName:"shape"},"shape:PKoPjMRH18z6bRgBMhHZ0":{x:1285.5239836576134,y:1948.034261013782,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:PKoPjMRH18z6bRgBMhHZ0",type:"geo",props:{w:73.99709959984733,h:50.3642957335091,geo:"star",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzp",typeName:"shape"},"shape:A1ZoC5j2vo5prTSR5Fjq7":{x:1285.5239836576134,y:2034.1230369035825,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:A1ZoC5j2vo5prTSR5Fjq7",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rhombus",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzv",typeName:"shape"},"shape:CgOTKWLte2HPzk5Z1tuXX":{x:1285.5239836576134,y:2116.1813707613474,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:CgOTKWLte2HPzk5Z1tuXX",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rhombus-2",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzy",typeName:"shape"},"shape:DlBaPkhcuZtLGkD4mBKKb":{x:1285.5239836576134,y:2204.772592799054,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:DlBaPkhcuZtLGkD4mBKKb",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"oval",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzzG",typeName:"shape"},"shape:xBKqHebyl3rmZ84eLFiVM":{x:1285.5239836576134,y:2282.8186016329173,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:xBKqHebyl3rmZ84eLFiVM",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"trapezoid",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzzd",typeName:"shape"},"shape:STAsbdMhQZZ46l00_GfJk":{x:1285.5239836576134,y:2357.2066503310307,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:STAsbdMhQZZ46l00_GfJk",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-right",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzzp",typeName:"shape"},"shape:1uIcYIKqJX7rpqnwE-IAO":{x:1285.5239836576134,y:2425.1475442898836,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:1uIcYIKqJX7rpqnwE-IAO",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-left",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzzv",typeName:"shape"},"shape:SI5cE5bcTGgdrkENBIXIp":{x:1285.5239836576134,y:2495.4889745878227,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:SI5cE5bcTGgdrkENBIXIp",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-up",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzzy",typeName:"shape"},"shape:XCnEXHx5ZCDYY36z1mAKn":{x:1285.5239836576134,y:2567.5507892621063,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:XCnEXHx5ZCDYY36z1mAKn",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-down",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzzzG",typeName:"shape"},"shape:gA59cWPIhaxfYgVSZEpI2":{x:1285.5239836576134,y:2637.989384126151,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:gA59cWPIhaxfYgVSZEpI2",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"x-box",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzzzd",typeName:"shape"},"shape:xgp1w6StuF2IF8a7KudGD":{x:1285.5239836576134,y:2717.6643283329663,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:xgp1w6StuF2IF8a7KudGD",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"check-box",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzzzt",typeName:"shape"},"shape:KFQ90Ee9KzwttHBr6Zz3e":{x:1374.6447524290375,y:1460.028085528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:KFQ90Ee9KzwttHBr6Zz3e",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNG",typeName:"shape"},"shape:-MZFlBbxkIqit-CkqJCbO":{x:1374.6447524290375,y:1528.1976019957335,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:-MZFlBbxkIqit-CkqJCbO",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"ellipse",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNd",typeName:"shape"},"shape:277yra8wJLpHxt4YD4Om7":{x:1374.6447524290375,y:1599.6764292733824,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:277yra8wJLpHxt4YD4Om7",type:"geo",props:{w:65.3245382384166,h:49.504203150109475,geo:"cloud",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNp",typeName:"shape"},"shape:rR_aJMTx4VY7hW1lPjJfj":{x:1374.6447524290375,y:1670.7265893476233,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:rR_aJMTx4VY7hW1lPjJfj",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"triangle",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNv",typeName:"shape"},"shape:yOy8ClYZQXmgIWGNzmLsc":{x:1374.6447524290375,y:1734.9980920453017,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:yOy8ClYZQXmgIWGNzmLsc",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"diamond",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNy",typeName:"shape"},"shape:lKFCbMpJA8TBcgFGRvFck":{x:1374.6447524290375,y:1800.675623170159,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:lKFCbMpJA8TBcgFGRvFck",type:"geo",props:{w:70.54441039901512,h:45.97415461845719,geo:"pentagon",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzG",typeName:"shape"},"shape:zY1nzV7uRkb6bGiebFdr2":{x:1374.6447524290375,y:1868.2450055527247,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:zY1nzV7uRkb6bGiebFdr2",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"octagon",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzd",typeName:"shape"},"shape:_gJQ5_ee9f4cCnvsuxZlI":{x:1374.6447524290375,y:1948.034261013782,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:_gJQ5_ee9f4cCnvsuxZlI",type:"geo",props:{w:73.99709959984733,h:50.3642957335091,geo:"star",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzp",typeName:"shape"},"shape:YVL9imFCMQBQmi0hqnHMX":{x:1374.6447524290375,y:2034.1230369035825,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:YVL9imFCMQBQmi0hqnHMX",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rhombus",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzv",typeName:"shape"},"shape:w1ONN_7Pg8O8cbjm2fJvX":{x:1374.6447524290375,y:2116.1813707613474,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:w1ONN_7Pg8O8cbjm2fJvX",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rhombus-2",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzy",typeName:"shape"},"shape:MIs7fuLYb-01zMrlxme2o":{x:1374.6447524290375,y:2204.772592799054,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:MIs7fuLYb-01zMrlxme2o",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"oval",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzzG",typeName:"shape"},"shape:xg7e1pP7SF9w64raAO9CG":{x:1374.6447524290375,y:2282.8186016329173,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:xg7e1pP7SF9w64raAO9CG",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"trapezoid",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzzd",typeName:"shape"},"shape:c3Pa71ISn5Z_eDHTVsv8i":{x:1374.6447524290375,y:2357.2066503310307,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:c3Pa71ISn5Z_eDHTVsv8i",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-right",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzzp",typeName:"shape"},"shape:JXCi81N4Wh_0NGg1CRWEk":{x:1374.6447524290375,y:2425.1475442898836,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:JXCi81N4Wh_0NGg1CRWEk",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-left",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzzv",typeName:"shape"},"shape:crRC5tbyjf4jdTxprFjBj":{x:1374.6447524290375,y:2495.4889745878227,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:crRC5tbyjf4jdTxprFjBj",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-up",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzzy",typeName:"shape"},"shape:5-h1aQEN5eTGaa1GqIprC":{x:1374.6447524290375,y:2567.5507892621063,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:5-h1aQEN5eTGaa1GqIprC",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-down",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzzzG",typeName:"shape"},"shape:9sCl0jqCVDzyW9IfBBc0t":{x:1374.6447524290375,y:2637.989384126151,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:9sCl0jqCVDzyW9IfBBc0t",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"x-box",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzzzd",typeName:"shape"},"shape:V9cH8uW4JB3TesjeoJkH1":{x:1374.6447524290375,y:2717.6643283329663,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:V9cH8uW4JB3TesjeoJkH1",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"check-box",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzzzt",typeName:"shape"},"shape:jhSKufM533fTtf0Vj0dFN":{x:1463.765521200461,y:1460.028085528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:jhSKufM533fTtf0Vj0dFN",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOV",typeName:"shape"},"shape:bqmLwnUaaBjGpuNjCIobW":{x:1463.765521200461,y:1528.1976019957335,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:bqmLwnUaaBjGpuNjCIobW",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"ellipse",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aPV",typeName:"shape"},"shape:2gUhec7QbRL4BgPY3TN6l":{x:1463.765521200461,y:1599.6764292733824,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:2gUhec7QbRL4BgPY3TN6l",type:"geo",props:{w:65.47184270113989,h:49.024036721840154,geo:"cloud",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aQV",typeName:"shape"},"shape:FohledeFDn3DNO7XJliJP":{x:1463.765521200461,y:1670.7265893476233,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:FohledeFDn3DNO7XJliJP",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"triangle",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aRV",typeName:"shape"},"shape:19w7nFCvX6I-BGi4atfgZ":{x:1463.765521200461,y:1734.9980920453017,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:19w7nFCvX6I-BGi4atfgZ",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"diamond",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aSV",typeName:"shape"},"shape:_E2A8_Kl8WIgar6CUL2WM":{x:1463.765521200461,y:1800.675623170159,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:_E2A8_Kl8WIgar6CUL2WM",type:"geo",props:{w:70.54441039901512,h:45.97415461845719,geo:"pentagon",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aTV",typeName:"shape"},"shape:HsF0U9HP2d90OO77QwESt":{x:1463.765521200461,y:1868.2450055527247,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:HsF0U9HP2d90OO77QwESt",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"octagon",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aUV",typeName:"shape"},"shape:YRksXusA2vqBlaOQ6K5bh":{x:1463.765521200461,y:1948.034261013782,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:YRksXusA2vqBlaOQ6K5bh",type:"geo",props:{w:73.99709959984733,h:50.3642957335091,geo:"star",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aVV",typeName:"shape"},"shape:x7apFQYRcGnfrhAqKZqsP":{x:1463.765521200461,y:2034.1230369035825,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:x7apFQYRcGnfrhAqKZqsP",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rhombus",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aWV",typeName:"shape"},"shape:sHCjdKnaKmNl3FvfFz1KT":{x:1463.765521200461,y:2116.1813707613474,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:sHCjdKnaKmNl3FvfFz1KT",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rhombus-2",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aXV",typeName:"shape"},"shape:h56_UR95jl1_etngN18S5":{x:1463.765521200461,y:2204.772592799054,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:h56_UR95jl1_etngN18S5",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"oval",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aYV",typeName:"shape"},"shape:yaYT8WE2cFoCtuUOEbzeM":{x:1463.765521200461,y:2282.8186016329173,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:yaYT8WE2cFoCtuUOEbzeM",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"trapezoid",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aZV",typeName:"shape"},"shape:RJZp-6r5uLfKm4AZAiLDj":{x:1463.765521200461,y:2357.2066503310307,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:RJZp-6r5uLfKm4AZAiLDj",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-right",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aaV",typeName:"shape"},"shape:aAlTUiq7vHJ_qZyjJ6KxP":{x:1463.765521200461,y:2425.1475442898836,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:aAlTUiq7vHJ_qZyjJ6KxP",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-left",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"abV",typeName:"shape"},"shape:FFQTHIKrcKTM6fx8EvnoF":{x:1463.765521200461,y:2495.4889745878227,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:FFQTHIKrcKTM6fx8EvnoF",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-up",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"acV",typeName:"shape"},"shape:HDI4Lz225PgnK9mlDH4ED":{x:1463.765521200461,y:2567.5507892621063,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:HDI4Lz225PgnK9mlDH4ED",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-down",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"adV",typeName:"shape"},"shape:mVXX1ml29irr2GMIj_4q0":{x:1463.765521200461,y:2637.989384126151,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:mVXX1ml29irr2GMIj_4q0",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"x-box",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aeV",typeName:"shape"},"shape:KYgp4XTV57mdLccSMFyP5":{x:1463.765521200461,y:2717.6643283329663,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:KYgp4XTV57mdLccSMFyP5",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"check-box",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"ag",typeName:"shape"},"shape:R9bE1rM_WGSYveeEjAzB9":{x:1560.3144357716753,y:1460.028085528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:R9bE1rM_WGSYveeEjAzB9",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLO",typeName:"shape"},"shape:pes9dnU4b2ll98TCnzyiU":{x:1560.3144357716753,y:1528.1976019957335,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:pes9dnU4b2ll98TCnzyiU",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"ellipse",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLh",typeName:"shape"},"shape:M3BPFaH9HdBtx29DsyfkR":{x:1560.3144357716753,y:1599.6764292733824,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:M3BPFaH9HdBtx29DsyfkR",type:"geo",props:{w:65.2476608600241,h:48.87909787377132,geo:"cloud",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLr",typeName:"shape"},"shape:xpH1phcJHxX6ZKQ3zprr4":{x:1560.3144357716753,y:1670.7265893476233,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:xpH1phcJHxX6ZKQ3zprr4",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"triangle",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLw",typeName:"shape"},"shape:uOtEWORaAgXlJpXmtVGBx":{x:1560.3144357716753,y:1734.9980920453017,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:uOtEWORaAgXlJpXmtVGBx",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"diamond",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLyV",typeName:"shape"},"shape:nmDg4kN4VZPb3gIjcyv2c":{x:1560.3144357716753,y:1800.675623170159,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:nmDg4kN4VZPb3gIjcyv2c",type:"geo",props:{w:70.54441039901512,h:45.97415461845719,geo:"pentagon",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzO",typeName:"shape"},"shape:QUIdqIvQ0yYjo8i4piNic":{x:1560.3144357716753,y:1868.2450055527247,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:QUIdqIvQ0yYjo8i4piNic",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"octagon",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzh",typeName:"shape"},"shape:R_Q5tbabJ0XVCWuakwweo":{x:1560.3144357716753,y:1948.034261013782,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:R_Q5tbabJ0XVCWuakwweo",type:"geo",props:{w:73.99709959984733,h:50.3642957335091,geo:"star",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzr",typeName:"shape"},"shape:HhmxadNG8XyntX139TTnS":{x:1560.3144357716753,y:2034.1230369035825,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:HhmxadNG8XyntX139TTnS",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rhombus",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzw",typeName:"shape"},"shape:posotZsotVBVPCQmBwkxh":{x:1560.3144357716753,y:2116.1813707613474,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:posotZsotVBVPCQmBwkxh",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rhombus-2",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzyV",typeName:"shape"},"shape:Hol50ZRVzcjg8TO3rNzSr":{x:1560.3144357716753,y:2204.772592799054,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Hol50ZRVzcjg8TO3rNzSr",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"oval",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzzO",typeName:"shape"},"shape:mFHLdcE6fsxDZ9af_9NcH":{x:1560.3144357716753,y:2282.8186016329173,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:mFHLdcE6fsxDZ9af_9NcH",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"trapezoid",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzzh",typeName:"shape"},"shape:EudekAKXeq95pZ4bI_AGB":{x:1560.3144357716753,y:2357.2066503310307,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:EudekAKXeq95pZ4bI_AGB",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-right",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzzr",typeName:"shape"},"shape:vkpyMIrR35V_Bs35ek_yN":{x:1560.3144357716753,y:2425.1475442898836,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:vkpyMIrR35V_Bs35ek_yN",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-left",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzzw",typeName:"shape"},"shape:37kBnikj58zY53hLEPci9":{x:1560.3144357716753,y:2495.4889745878227,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:37kBnikj58zY53hLEPci9",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-up",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzzyV",typeName:"shape"},"shape:7DY-z3VW2A-o_awpfw18l":{x:1560.3144357716753,y:2567.5507892621063,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:7DY-z3VW2A-o_awpfw18l",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-down",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzzzO",typeName:"shape"},"shape:ucPapMRL27E05KNxYqNm3":{x:1560.3144357716753,y:2637.989384126151,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ucPapMRL27E05KNxYqNm3",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"x-box",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzzzh",typeName:"shape"},"shape:LgnV8mWoG4CpVdMtw9wP8":{x:1560.3144357716753,y:2717.6643283329663,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:LgnV8mWoG4CpVdMtw9wP8",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"check-box",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzzzx",typeName:"shape"},"shape:HJoCzqSWtSzkRhVzXe28w":{x:1649.4352045430992,y:1460.028085528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:HJoCzqSWtSzkRhVzXe28w",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMO",typeName:"shape"},"shape:Rkje867llqH__PBCz7twa":{x:1649.4352045430992,y:1528.1976019957335,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Rkje867llqH__PBCz7twa",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"ellipse",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMh",typeName:"shape"},"shape:90wHAwmkiCM2bH3uzoZfA":{x:1649.4352045430992,y:1599.6764292733824,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:90wHAwmkiCM2bH3uzoZfA",type:"geo",props:{w:65.51261552568276,h:49.754420611227125,geo:"cloud",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMr",typeName:"shape"},"shape:7fKYRvJZ-EUsXopoj1sZ7":{x:1649.4352045430992,y:1670.7265893476233,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:7fKYRvJZ-EUsXopoj1sZ7",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"triangle",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMw",typeName:"shape"},"shape:_WDUybr2fL2oT5rOK8x2Q":{x:1649.4352045430992,y:1734.9980920453017,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:_WDUybr2fL2oT5rOK8x2Q",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"diamond",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMyV",typeName:"shape"},"shape:MuUtW1ATPWX_KxLg1xVAJ":{x:1649.4352045430992,y:1800.675623170159,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:MuUtW1ATPWX_KxLg1xVAJ",type:"geo",props:{w:70.54441039901512,h:45.97415461845719,geo:"pentagon",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzO",typeName:"shape"},"shape:EUHUVWf5p_JPpukKlJQBb":{x:1649.4352045430992,y:1868.2450055527247,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:EUHUVWf5p_JPpukKlJQBb",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"octagon",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzh",typeName:"shape"},"shape:ZePu9RH5G4orkMStSnPpy":{x:1649.4352045430992,y:1948.034261013782,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ZePu9RH5G4orkMStSnPpy",type:"geo",props:{w:73.99709959984733,h:50.3642957335091,geo:"star",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzr",typeName:"shape"},"shape:-pVgiRoWU1q-TdarwWydN":{x:1649.4352045430992,y:2034.1230369035825,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:-pVgiRoWU1q-TdarwWydN",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rhombus",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzw",typeName:"shape"},"shape:Oi8N6NiO_CKao16Z-Fq-v":{x:1649.4352045430992,y:2116.1813707613474,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Oi8N6NiO_CKao16Z-Fq-v",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rhombus-2",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzyV",typeName:"shape"},"shape:jErR2z230TJ02ypz7BPDd":{x:1649.4352045430992,y:2204.772592799054,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:jErR2z230TJ02ypz7BPDd",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"oval",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzzO",typeName:"shape"},"shape:GK7T2DJx5yefiAx0bNjbc":{x:1649.4352045430992,y:2282.8186016329173,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:GK7T2DJx5yefiAx0bNjbc",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"trapezoid",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzzh",typeName:"shape"},"shape:yw4lk9zkBI4RjGVhi8X2K":{x:1649.4352045430992,y:2357.2066503310307,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:yw4lk9zkBI4RjGVhi8X2K",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-right",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzzr",typeName:"shape"},"shape:fVDWmlta7rpw_vNYDzzvg":{x:1649.4352045430992,y:2425.1475442898836,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:fVDWmlta7rpw_vNYDzzvg",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-left",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzzw",typeName:"shape"},"shape:cCCO2Q0uuOmMdEa4xzojx":{x:1649.4352045430992,y:2495.4889745878227,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:cCCO2Q0uuOmMdEa4xzojx",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-up",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzzyV",typeName:"shape"},"shape:FIz0r8sT8wb82tM3ATk1r":{x:1649.4352045430992,y:2567.5507892621063,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:FIz0r8sT8wb82tM3ATk1r",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-down",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzzzO",typeName:"shape"},"shape:QSlhmX5aGhyGwGDTC_4rR":{x:1649.4352045430992,y:2637.989384126151,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:QSlhmX5aGhyGwGDTC_4rR",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"x-box",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzzzh",typeName:"shape"},"shape:B2sBH4CQXsp0zXV6LKkhM":{x:1649.4352045430992,y:2717.6643283329663,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:B2sBH4CQXsp0zXV6LKkhM",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"check-box",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzzzx",typeName:"shape"},"shape:GIV2mSyyUaWV6TBk-CjPl":{x:1738.555973314523,y:1460.028085528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:GIV2mSyyUaWV6TBk-CjPl",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNO",typeName:"shape"},"shape:ohz3yz7ZvS2xQGrIuiOjo":{x:1738.555973314523,y:1528.1976019957335,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ohz3yz7ZvS2xQGrIuiOjo",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"ellipse",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNh",typeName:"shape"},"shape:WPfVw8p4hw5zPcOqqmoTZ":{x:1738.555973314523,y:1599.6764292733824,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:WPfVw8p4hw5zPcOqqmoTZ",type:"geo",props:{w:65.60494582773022,h:48.11251020627201,geo:"cloud",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNr",typeName:"shape"},"shape:X4SR28KtrgxlR9gCvmoMp":{x:1738.555973314523,y:1670.7265893476233,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:X4SR28KtrgxlR9gCvmoMp",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"triangle",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNw",typeName:"shape"},"shape:uGFwSbIOXQxJRRiUHcGiR":{x:1738.555973314523,y:1734.9980920453017,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:uGFwSbIOXQxJRRiUHcGiR",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"diamond",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNyV",typeName:"shape"},"shape:FlFjzeNbDVJr7CTMGJiyV":{x:1738.555973314523,y:1800.675623170159,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:FlFjzeNbDVJr7CTMGJiyV",type:"geo",props:{w:70.54441039901512,h:45.97415461845719,geo:"pentagon",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzO",typeName:"shape"},"shape:j-HE-0955lzqOeIE9lWci":{x:1738.555973314523,y:1868.2450055527247,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:j-HE-0955lzqOeIE9lWci",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"octagon",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzh",typeName:"shape"},"shape:j1hw0ey3rhMQ_h4bXrMhD":{x:1738.555973314523,y:1948.034261013782,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:j1hw0ey3rhMQ_h4bXrMhD",type:"geo",props:{w:73.99709959984733,h:50.3642957335091,geo:"star",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzr",typeName:"shape"},"shape:1FkwGPfb0Jma_GSuL4JE5":{x:1738.555973314523,y:2034.1230369035825,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:1FkwGPfb0Jma_GSuL4JE5",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rhombus",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzw",typeName:"shape"},"shape:_xQ6pBNs47pUord2BkzHE":{x:1738.555973314523,y:2116.1813707613474,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:_xQ6pBNs47pUord2BkzHE",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rhombus-2",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzyV",typeName:"shape"},"shape:9AHWfjdKYFw27C81rPzCB":{x:1738.555973314523,y:2204.772592799054,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:9AHWfjdKYFw27C81rPzCB",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"oval",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzzO",typeName:"shape"},"shape:jljAhIR1FZBMwzAju6Q9R":{x:1738.555973314523,y:2282.8186016329173,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:jljAhIR1FZBMwzAju6Q9R",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"trapezoid",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzzh",typeName:"shape"},"shape:Dy8mvy5KMThGxdhTLuYVp":{x:1738.555973314523,y:2357.2066503310307,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Dy8mvy5KMThGxdhTLuYVp",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-right",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzzr",typeName:"shape"},"shape:_d7AxiFDkzsObuCH8QtOC":{x:1738.555973314523,y:2425.1475442898836,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:_d7AxiFDkzsObuCH8QtOC",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-left",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzzw",typeName:"shape"},"shape:8mdQYk8Q7kiZ7ATYe_cKm":{x:1738.555973314523,y:2495.4889745878227,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:8mdQYk8Q7kiZ7ATYe_cKm",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-up",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzzyV",typeName:"shape"},"shape:CIw409pjhaQ2KW83-8TdF":{x:1738.555973314523,y:2567.5507892621063,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:CIw409pjhaQ2KW83-8TdF",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-down",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzzzO",typeName:"shape"},"shape:sT6ux29xMyhRYk7Xx0O02":{x:1738.555973314523,y:2637.989384126151,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:sT6ux29xMyhRYk7Xx0O02",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"x-box",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzzzh",typeName:"shape"},"shape:7iAn-16ktTfbYQtaKm6ga":{x:1738.555973314523,y:2717.6643283329663,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:7iAn-16ktTfbYQtaKm6ga",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"check-box",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzzzx",typeName:"shape"},"shape:vMCgw1sVJn0yxEoWaKD4T":{x:1827.676742085947,y:1460.028085528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:vMCgw1sVJn0yxEoWaKD4T",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOl",typeName:"shape"},"shape:88RZR0MsoQbdwZ6OvP0ih":{x:1827.676742085947,y:1528.1976019957335,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:88RZR0MsoQbdwZ6OvP0ih",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"ellipse",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aPl",typeName:"shape"},"shape:AYIzp3BzcOgqMEYvzT88_":{x:1827.676742085947,y:1599.6764292733824,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:AYIzp3BzcOgqMEYvzT88_",type:"geo",props:{w:66.27363332367243,h:48.83609110121798,geo:"cloud",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aQl",typeName:"shape"},"shape:xu7LB3HlIb_z8cpc7O-Qa":{x:1827.676742085947,y:1670.7265893476233,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:xu7LB3HlIb_z8cpc7O-Qa",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"triangle",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aRl",typeName:"shape"},"shape:w7cVquzNWtlWh6OIVH32b":{x:1827.676742085947,y:1734.9980920453017,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:w7cVquzNWtlWh6OIVH32b",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"diamond",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aSl",typeName:"shape"},"shape:qMBFjrxuA6qzQVriFu_9c":{x:1827.676742085947,y:1800.675623170159,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:qMBFjrxuA6qzQVriFu_9c",type:"geo",props:{w:70.54441039901512,h:45.97415461845719,geo:"pentagon",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aTl",typeName:"shape"},"shape:A1uSGyfrXCP5uevfNMnew":{x:1827.676742085947,y:1868.2450055527247,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:A1uSGyfrXCP5uevfNMnew",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"octagon",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aUl",typeName:"shape"},"shape:faJk_QFRTaCzB4KFZYt-M":{x:1827.676742085947,y:1948.034261013782,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:faJk_QFRTaCzB4KFZYt-M",type:"geo",props:{w:73.99709959984733,h:50.3642957335091,geo:"star",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aVl",typeName:"shape"},"shape:Lj8wJjGhoYtbmxboXATyi":{x:1827.676742085947,y:2034.1230369035825,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Lj8wJjGhoYtbmxboXATyi",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rhombus",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aWl",typeName:"shape"},"shape:gDxsUW1rNThFH2RXdIuE6":{x:1827.676742085947,y:2116.1813707613474,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:gDxsUW1rNThFH2RXdIuE6",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rhombus-2",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aXl",typeName:"shape"},"shape:MBVuMxZE2_QHYxb4_RGAX":{x:1827.676742085947,y:2204.772592799054,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:MBVuMxZE2_QHYxb4_RGAX",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"oval",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aYl",typeName:"shape"},"shape:x4yq83soa-4wFvx7mCxT2":{x:1827.676742085947,y:2282.8186016329173,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:x4yq83soa-4wFvx7mCxT2",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"trapezoid",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aZl",typeName:"shape"},"shape:N7mggkvmX1BvwooPcQmYe":{x:1827.676742085947,y:2357.2066503310307,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:N7mggkvmX1BvwooPcQmYe",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-right",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aal",typeName:"shape"},"shape:c7yrA_Yk_uE87qy4MBfrJ":{x:1827.676742085947,y:2425.1475442898836,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:c7yrA_Yk_uE87qy4MBfrJ",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-left",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"abl",typeName:"shape"},"shape:IQPUYIK8BISTuSAivXLzv":{x:1827.676742085947,y:2495.4889745878227,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:IQPUYIK8BISTuSAivXLzv",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-up",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"acl",typeName:"shape"},"shape:9qa8cS5Rju9fHbthwwEaa":{x:1827.676742085947,y:2567.5507892621063,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:9qa8cS5Rju9fHbthwwEaa",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-down",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"adl",typeName:"shape"},"shape:sKMX2OqtmzClS-ewc5rsk":{x:1827.676742085947,y:2637.989384126151,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:sKMX2OqtmzClS-ewc5rsk",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"x-box",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"ael",typeName:"shape"},"shape:tgQ4GIlfUur-e9Xjb6QIo":{x:1827.676742085947,y:2717.6643283329663,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:tgQ4GIlfUur-e9Xjb6QIo",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"check-box",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"ah",typeName:"shape"},"shape:vEDS0DlC98MnziETbJcM0":{x:1941.6515409417523,y:1460.028085528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:vEDS0DlC98MnziETbJcM0",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLS",typeName:"shape"},"shape:Mrfpn2AIaxgsmUPgExkpk":{x:1941.6515409417523,y:1528.1976019957335,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Mrfpn2AIaxgsmUPgExkpk",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"ellipse",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLj",typeName:"shape"},"shape:oaNI8l5fCJ7VyWkrmRB_t":{x:1941.6515409417523,y:1599.6764292733824,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:oaNI8l5fCJ7VyWkrmRB_t",type:"geo",props:{w:65.21877815751515,h:48.26234021273327,geo:"cloud",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLs",typeName:"shape"},"shape:JAXebc7TqQCzIxzu6-QIc":{x:1941.6515409417523,y:1670.7265893476233,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:JAXebc7TqQCzIxzu6-QIc",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"triangle",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLwV",typeName:"shape"},"shape:QLi-KN5nFWTnTWZ3D8uYS":{x:1941.6515409417523,y:1734.9980920453017,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:QLi-KN5nFWTnTWZ3D8uYS",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"diamond",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLyl",typeName:"shape"},"shape:HXXYWY6frShvHSzFPY0gS":{x:1941.6515409417523,y:1800.675623170159,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:HXXYWY6frShvHSzFPY0gS",type:"geo",props:{w:70.54441039901512,h:45.97415461845719,geo:"pentagon",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzS",typeName:"shape"},"shape:Q-SJw6ErwVv4p0krNJ0eY":{x:1941.6515409417523,y:1868.2450055527247,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Q-SJw6ErwVv4p0krNJ0eY",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"octagon",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzj",typeName:"shape"},"shape:7flK1hqwFCoKfSEvVC1QP":{x:1941.6515409417523,y:1948.034261013782,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:7flK1hqwFCoKfSEvVC1QP",type:"geo",props:{w:73.99709959984733,h:50.3642957335091,geo:"star",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzs",typeName:"shape"},"shape:zZIdVY79JUmRRz_Ok2U4I":{x:1941.6515409417523,y:2034.1230369035825,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:zZIdVY79JUmRRz_Ok2U4I",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rhombus",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzwV",typeName:"shape"},"shape:ljX9eD0uA4d3xaCW2nE4r":{x:1941.6515409417523,y:2116.1813707613474,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ljX9eD0uA4d3xaCW2nE4r",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rhombus-2",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzyl",typeName:"shape"},"shape:qbqG0AwM9zILCegQgtd7e":{x:1941.6515409417523,y:2204.772592799054,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:qbqG0AwM9zILCegQgtd7e",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"oval",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzzS",typeName:"shape"},"shape:K5d0qoiNq4wo1uTT8loMX":{x:1941.6515409417523,y:2282.8186016329173,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:K5d0qoiNq4wo1uTT8loMX",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"trapezoid",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzzj",typeName:"shape"},"shape:x5DDsYqq6b2XrAufM_bXD":{x:1941.6515409417523,y:2357.2066503310307,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:x5DDsYqq6b2XrAufM_bXD",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-right",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzzs",typeName:"shape"},"shape:6l2VtIXLl47xLsm16jqJK":{x:1941.6515409417523,y:2425.1475442898836,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:6l2VtIXLl47xLsm16jqJK",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-left",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzzwV",typeName:"shape"},"shape:sCUzrPHFCNhydJTQMmlJA":{x:1941.6515409417523,y:2495.4889745878227,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:sCUzrPHFCNhydJTQMmlJA",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-up",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzzyl",typeName:"shape"},"shape:5rFhStqcuMKpO3oUAAtq9":{x:1941.6515409417523,y:2567.5507892621063,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:5rFhStqcuMKpO3oUAAtq9",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-down",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzzzS",typeName:"shape"},"shape:dQRQUE8-6L0t9701jAU1_":{x:1941.6515409417523,y:2637.989384126151,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:dQRQUE8-6L0t9701jAU1_",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"x-box",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzzzj",typeName:"shape"},"shape:MywQKLkZpW5YD5u-AWtGp":{x:1941.6515409417523,y:2717.6643283329663,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:MywQKLkZpW5YD5u-AWtGp",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"check-box",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzzzz",typeName:"shape"},"shape:qlfJiGE2CNY2bwah9p23d":{x:2030.7723097131761,y:1460.028085528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:qlfJiGE2CNY2bwah9p23d",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMS",typeName:"shape"},"shape:rxRWfxA3OQ9IPvocYmHmq":{x:2030.7723097131761,y:1528.1976019957335,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:rxRWfxA3OQ9IPvocYmHmq",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"ellipse",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMj",typeName:"shape"},"shape:KrDf6zZd9Aic3O6r4kwas":{x:2030.7723097131761,y:1599.6764292733824,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:KrDf6zZd9Aic3O6r4kwas",type:"geo",props:{w:64.02061383405258,h:49.324811118833196,geo:"cloud",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMs",typeName:"shape"},"shape:Fyy2vUyyD1DdSP4onZr-L":{x:2030.7723097131761,y:1670.7265893476233,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Fyy2vUyyD1DdSP4onZr-L",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"triangle",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMwV",typeName:"shape"},"shape:e-nT_dHOOlk7-VYqArbv6":{x:2030.7723097131761,y:1734.9980920453017,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:e-nT_dHOOlk7-VYqArbv6",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"diamond",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMyl",typeName:"shape"},"shape:W-jmW5_oSZDyzADY21A0U":{x:2030.7723097131761,y:1800.675623170159,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:W-jmW5_oSZDyzADY21A0U",type:"geo",props:{w:70.54441039901512,h:45.97415461845719,geo:"pentagon",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzS",typeName:"shape"},"shape:upsTKIDGjMkwtLIHnWXQN":{x:2030.7723097131761,y:1868.2450055527247,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:upsTKIDGjMkwtLIHnWXQN",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"octagon",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzj",typeName:"shape"},"shape:iPMqGmhRm6mRtWbNtyrsF":{x:2030.7723097131761,y:1948.034261013782,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:iPMqGmhRm6mRtWbNtyrsF",type:"geo",props:{w:73.99709959984733,h:50.3642957335091,geo:"star",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzs",typeName:"shape"},"shape:xk_xFZ64Fj5vjaSySOMv2":{x:2030.7723097131761,y:2034.1230369035825,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:xk_xFZ64Fj5vjaSySOMv2",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rhombus",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzwV",typeName:"shape"},"shape:okNk3WPgc-E3ZYjQayRGe":{x:2030.7723097131761,y:2116.1813707613474,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:okNk3WPgc-E3ZYjQayRGe",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rhombus-2",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzyl",typeName:"shape"},"shape:Cudgo35gCy0andTXwb8n-":{x:2030.7723097131761,y:2204.772592799054,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Cudgo35gCy0andTXwb8n-",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"oval",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzzS",typeName:"shape"},"shape:YBUsfEy5omzxjH39f4OFk":{x:2030.7723097131761,y:2282.8186016329173,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:YBUsfEy5omzxjH39f4OFk",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"trapezoid",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzzj",typeName:"shape"},"shape:fpI2HweEpo7aABRsMK1PY":{x:2030.7723097131761,y:2357.2066503310307,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:fpI2HweEpo7aABRsMK1PY",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-right",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzzs",typeName:"shape"},"shape:agDHj-qEZfEFG3Yo1SEQS":{x:2030.7723097131761,y:2425.1475442898836,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:agDHj-qEZfEFG3Yo1SEQS",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-left",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzzwV",typeName:"shape"},"shape:4V-jzR-TzhLa0BtfWCdgL":{x:2030.7723097131761,y:2495.4889745878227,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:4V-jzR-TzhLa0BtfWCdgL",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-up",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzzyl",typeName:"shape"},"shape:IcSGZbcjBqHW--dpIWx69":{x:2030.7723097131761,y:2567.5507892621063,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:IcSGZbcjBqHW--dpIWx69",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-down",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzzzS",typeName:"shape"},"shape:X7qy0UrSjWFpQ3bc290jF":{x:2030.7723097131761,y:2637.989384126151,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:X7qy0UrSjWFpQ3bc290jF",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"x-box",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzzzj",typeName:"shape"},"shape:rfZ86Ti1qdJjWgq2LR5cl":{x:2030.7723097131761,y:2717.6643283329663,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:rfZ86Ti1qdJjWgq2LR5cl",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"check-box",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzzzz",typeName:"shape"},"shape:oG9CYVdXBs7JZUPvczYVi":{x:2119.8930784845998,y:1460.028085528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:oG9CYVdXBs7JZUPvczYVi",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNS",typeName:"shape"},"shape:vHUXX9hRJlUEuQ2LhCLUx":{x:2119.8930784845998,y:1528.1976019957335,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:vHUXX9hRJlUEuQ2LhCLUx",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"ellipse",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNj",typeName:"shape"},"shape:P18I4toLsUXs0f_AR2Sev":{x:2119.8930784845998,y:1599.6764292733824,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:P18I4toLsUXs0f_AR2Sev",type:"geo",props:{w:66.07949931043422,h:48.97553030349153,geo:"cloud",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNs",typeName:"shape"},"shape:woJGBmOjq8gPsya8Wf66n":{x:2119.8930784845998,y:1670.7265893476233,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:woJGBmOjq8gPsya8Wf66n",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"triangle",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNwV",typeName:"shape"},"shape:bb0lQot3aixub4XifOSmw":{x:2119.8930784845998,y:1734.9980920453017,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:bb0lQot3aixub4XifOSmw",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"diamond",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNyl",typeName:"shape"},"shape:PIXsOQ33zbWv8nslilUsy":{x:2119.8930784845998,y:1800.675623170159,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:PIXsOQ33zbWv8nslilUsy",type:"geo",props:{w:70.54441039901512,h:45.97415461845719,geo:"pentagon",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzS",typeName:"shape"},"shape:6kghwby20VmVBh-opXvkB":{x:2119.8930784845998,y:1868.2450055527247,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:6kghwby20VmVBh-opXvkB",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"octagon",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzj",typeName:"shape"},"shape:4xszl_IIVojcqpEM8Vtee":{x:2119.8930784845998,y:1948.034261013782,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:4xszl_IIVojcqpEM8Vtee",type:"geo",props:{w:73.99709959984733,h:50.3642957335091,geo:"star",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzs",typeName:"shape"},"shape:voopIq_D7f0yMgqPPl9qw":{x:2119.8930784845998,y:2034.1230369035825,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:voopIq_D7f0yMgqPPl9qw",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rhombus",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzwV",typeName:"shape"},"shape:CljzoieSxbwD8F0yDT9mK":{x:2119.8930784845998,y:2116.1813707613474,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:CljzoieSxbwD8F0yDT9mK",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rhombus-2",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzyl",typeName:"shape"},"shape:ehL7MdUTSAS2gOU4xf-Bd":{x:2119.8930784845998,y:2204.772592799054,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ehL7MdUTSAS2gOU4xf-Bd",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"oval",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzzS",typeName:"shape"},"shape:N9-uqSrUC_iOhHawL1WOq":{x:2119.8930784845998,y:2282.8186016329173,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:N9-uqSrUC_iOhHawL1WOq",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"trapezoid",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzzj",typeName:"shape"},"shape:jlc7CshbEN3xkLweeKjf4":{x:2119.8930784845998,y:2357.2066503310307,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:jlc7CshbEN3xkLweeKjf4",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-right",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzzs",typeName:"shape"},"shape:93EtCOHgJsLmw8fSSxmoA":{x:2119.8930784845998,y:2425.1475442898836,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:93EtCOHgJsLmw8fSSxmoA",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-left",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzzwV",typeName:"shape"},"shape:Iop1qEu0dXNIPU2xbG_Oh":{x:2119.8930784845998,y:2495.4889745878227,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Iop1qEu0dXNIPU2xbG_Oh",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-up",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzzyl",typeName:"shape"},"shape:lMoq4hLHiBRRJc-6YNM9G":{x:2119.8930784845998,y:2567.5507892621063,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:lMoq4hLHiBRRJc-6YNM9G",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-down",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzzzS",typeName:"shape"},"shape:TJmgBv5JVHaa0-K8q0x3G":{x:2119.8930784845998,y:2637.989384126151,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:TJmgBv5JVHaa0-K8q0x3G",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"x-box",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzzzj",typeName:"shape"},"shape:4xwEaOJ9eti0m9_rZxDh1":{x:2119.8930784845998,y:2717.6643283329663,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:4xwEaOJ9eti0m9_rZxDh1",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"check-box",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzzzz",typeName:"shape"},"shape:tEyOaTcJ_uZWm1-imyBOV":{x:2209.013847256024,y:1460.028085528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:tEyOaTcJ_uZWm1-imyBOV",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOt",typeName:"shape"},"shape:M21xeUrlMSk7Ps5RvJMWl":{x:2209.013847256024,y:1528.1976019957335,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:M21xeUrlMSk7Ps5RvJMWl",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"ellipse",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aPt",typeName:"shape"},"shape:WRL5F8Z1XgGjphS857R0s":{x:2209.013847256024,y:1599.6764292733824,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:WRL5F8Z1XgGjphS857R0s",type:"geo",props:{w:67.30364394987447,h:49.57989618586922,geo:"cloud",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aQt",typeName:"shape"},"shape:vPW59CeOyjKBjK0qhP98Z":{x:2209.013847256024,y:1670.7265893476233,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:vPW59CeOyjKBjK0qhP98Z",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"triangle",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aRt",typeName:"shape"},"shape:SsW3a7zqolwwtbvCV_hUh":{x:2209.013847256024,y:1734.9980920453017,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:SsW3a7zqolwwtbvCV_hUh",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"diamond",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aSt",typeName:"shape"},"shape:e2ExX1XzaTGECMKsOzrEw":{x:2209.013847256024,y:1800.675623170159,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:e2ExX1XzaTGECMKsOzrEw",type:"geo",props:{w:70.54441039901512,h:45.97415461845719,geo:"pentagon",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aTt",typeName:"shape"},"shape:s60Cz7I6YxsF0tdoVNv8L":{x:2209.013847256024,y:1868.2450055527247,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:s60Cz7I6YxsF0tdoVNv8L",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"octagon",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aUt",typeName:"shape"},"shape:7HwujQEWFbVeKAL14X9hP":{x:2209.013847256024,y:1948.034261013782,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:7HwujQEWFbVeKAL14X9hP",type:"geo",props:{w:73.99709959984733,h:50.3642957335091,geo:"star",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aVt",typeName:"shape"},"shape:h3eMz7hwEIZcBmHcfFOJ5":{x:2209.013847256024,y:2034.1230369035825,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:h3eMz7hwEIZcBmHcfFOJ5",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rhombus",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aWt",typeName:"shape"},"shape:X_hlb1pkoLqzOLmunRagx":{x:2209.013847256024,y:2116.1813707613474,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:X_hlb1pkoLqzOLmunRagx",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rhombus-2",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aXt",typeName:"shape"},"shape:bcli4vkT5sYmRL-cbWMhd":{x:2209.013847256024,y:2204.772592799054,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:bcli4vkT5sYmRL-cbWMhd",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"oval",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aYt",typeName:"shape"},"shape:ICFzk4R6ZRmYgtelhaFgD":{x:2209.013847256024,y:2282.8186016329173,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ICFzk4R6ZRmYgtelhaFgD",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"trapezoid",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aZt",typeName:"shape"},"shape:gz-JM2AWZiivXzvSDZR3-":{x:2209.013847256024,y:2357.2066503310307,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:gz-JM2AWZiivXzvSDZR3-",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-right",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aat",typeName:"shape"},"shape:mPSb0PSm4Ax9m09MFsvRP":{x:2209.013847256024,y:2425.1475442898836,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:mPSb0PSm4Ax9m09MFsvRP",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-left",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"abt",typeName:"shape"},"shape:KHtbMMf0poLk5dV_XuOuP":{x:2209.013847256024,y:2495.4889745878227,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:KHtbMMf0poLk5dV_XuOuP",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-up",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"act",typeName:"shape"},"shape:vOu4w81N94jmF-3jEnYzo":{x:2209.013847256024,y:2567.5507892621063,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:vOu4w81N94jmF-3jEnYzo",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-down",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"adt",typeName:"shape"},"shape:o-1OsYpKNUFy0C-kymslT":{x:2209.013847256024,y:2637.989384126151,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:o-1OsYpKNUFy0C-kymslT",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"x-box",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aet",typeName:"shape"},"shape:BqwMRQs7Snju9YfkBpZUu":{x:2209.013847256024,y:2717.6643283329663,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:BqwMRQs7Snju9YfkBpZUu",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"check-box",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"ai",typeName:"shape"},"shape:23v_1pJUjfhLq58WBpcuc":{x:-259.0812996416322,y:1538.7899855213743,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:23v_1pJUjfhLq58WBpcuc",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aGd",props:{dash:"dashed",size:"s",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.06220257987061,y:92.54213910199667}}},typeName:"shape"},"shape:dfmNS0wfBE2W_hENwR6y5":{x:290.69396489540804,y:1538.7899855213743,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:dfmNS0wfBE2W_hENwR6y5",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aH",props:{dash:"dashed",size:"s",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.06220257987061,y:92.54213910199667}}},typeName:"shape"},"shape:Mb9IGvhXLInPco2BYf1o0":{x:-259.0812996416322,y:1551.8781196444143,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Mb9IGvhXLInPco2BYf1o0",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHK",props:{dash:"dashed",size:"s",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.25867110324572,y:68.89093276824845}}},typeName:"shape"},"shape:uc9K6LAgH4invmOwjfYck":{x:290.69396489540804,y:1551.8781196444143,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:uc9K6LAgH4invmOwjfYck",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHa",props:{dash:"dashed",size:"s",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.25867110324572,y:68.89093276824845}}},typeName:"shape"},"shape:NZP15gUcvyYtiKRdL9yJ2":{x:-259.0812996416322,y:1558.3500798280356,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:NZP15gUcvyYtiKRdL9yJ2",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHp",props:{dash:"dashed",size:"s",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:229.08509912361876,y:50.006204081018716}}},typeName:"shape"},"shape:aeq8WCOd2fsO0aFpoFVFx":{x:290.69396489540804,y:1558.3500798280356,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:aeq8WCOd2fsO0aFpoFVFx",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aI",props:{dash:"dashed",size:"s",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:229.08509912361876,y:50.006204081018716}}},typeName:"shape"},"shape:0r1IDMhXenLWYpGBRW8JN":{x:-259.0812996416322,y:1546.406826337751,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:0r1IDMhXenLWYpGBRW8JN",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aJV",props:{dash:"dashed",size:"s",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.6332710878141,y:54.58592500103621}}},typeName:"shape"},"shape:DWGKqJZ-ui7QB6jteegpg":{x:290.69396489540804,y:1546.406826337751,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:DWGKqJZ-ui7QB6jteegpg",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aKV",props:{dash:"dashed",size:"s",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.6332710878141,y:54.58592500103621}}},typeName:"shape"},"shape:tdmMI4HbqF1MdC6y_HhTB":{x:-259.0812996416322,y:1649.584967900862,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:tdmMI4HbqF1MdC6y_HhTB",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aGh",props:{dash:"dotted",size:"s",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.06220257987061,y:92.54213910199667}}},typeName:"shape"},"shape:vMC9If_u5na8H0zCAWwCD":{x:290.69396489540804,y:1649.584967900862,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:vMC9If_u5na8H0zCAWwCD",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aH8",props:{dash:"dotted",size:"s",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.06220257987061,y:92.54213910199667}}},typeName:"shape"},"shape:TPKS8Wz_fXUW9LarHmOth":{x:-259.0812996416322,y:1662.6731020239017,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:TPKS8Wz_fXUW9LarHmOth",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHM",props:{dash:"dotted",size:"s",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.25867110324572,y:68.89093276824845}}},typeName:"shape"},"shape:HpWU8_9_UMw5AZEQazaKD":{x:290.69396489540804,y:1662.6731020239017,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:HpWU8_9_UMw5AZEQazaKD",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHg",props:{dash:"dotted",size:"s",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.25867110324572,y:68.89093276824845}}},typeName:"shape"},"shape:OpwsQqGaond-aXtInw3bn":{x:-259.0812996416322,y:1669.1450622075233,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:OpwsQqGaond-aXtInw3bn",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHr",props:{dash:"dotted",size:"s",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:229.08509912361876,y:50.006204081018716}}},typeName:"shape"},"shape:YkDAbKruIPh0z1-FkJQyX":{x:290.69396489540804,y:1669.1450622075233,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:YkDAbKruIPh0z1-FkJQyX",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aIV",props:{dash:"dotted",size:"s",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:229.08509912361876,y:50.006204081018716}}},typeName:"shape"},"shape:bt2Oq0ihyMXF0-cxBQ2KN":{x:-259.0812996416322,y:1657.2018087172387,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:bt2Oq0ihyMXF0-cxBQ2KN",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aJl",props:{dash:"dotted",size:"s",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.6332710878141,y:54.58592500103621}}},typeName:"shape"},"shape:VR2yxPiYO34b7C3XevHJO":{x:290.69396489540804,y:1657.2018087172387,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:VR2yxPiYO34b7C3XevHJO",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aKl",props:{dash:"dotted",size:"s",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.6332710878141,y:54.58592500103621}}},typeName:"shape"},"shape:Y-2S-BR5QNRS1GuNJovVf":{x:-259.0812996416322,y:1750.832616242599,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Y-2S-BR5QNRS1GuNJovVf",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aGj",props:{dash:"solid",size:"s",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.06220257987061,y:92.54213910199667}}},typeName:"shape"},"shape:LtsPosoBlr6ljR6RCViy3":{x:290.69396489540804,y:1750.832616242599,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:LtsPosoBlr6ljR6RCViy3",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHC",props:{dash:"solid",size:"s",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.06220257987061,y:92.54213910199667}}},typeName:"shape"},"shape:3-MYNkWPxnxHKoWrIVeH8":{x:-259.0812996416322,y:1763.920750365639,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:3-MYNkWPxnxHKoWrIVeH8",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHN",props:{dash:"solid",size:"s",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.25867110324572,y:68.89093276824845}}},typeName:"shape"},"shape:_nmKz_Bg8LNnCRzvbVns5":{x:290.69396489540804,y:1763.920750365639,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:_nmKz_Bg8LNnCRzvbVns5",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHj",props:{dash:"solid",size:"s",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.25867110324572,y:68.89093276824845}}},typeName:"shape"},"shape:Pd1kc1rntoB8kDilOb9m6":{x:-259.0812996416322,y:1770.3927105492605,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Pd1kc1rntoB8kDilOb9m6",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHs",props:{dash:"solid",size:"s",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:229.08509912361876,y:50.006204081018716}}},typeName:"shape"},"shape:jrfd1Rc3NmLqNN1GZ5-F4":{x:290.69396489540804,y:1770.3927105492605,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:jrfd1Rc3NmLqNN1GZ5-F4",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aIl",props:{dash:"solid",size:"s",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:229.08509912361876,y:50.006204081018716}}},typeName:"shape"},"shape:jdk2p4hwvzLt22oGA5mLL":{x:-259.0812996416322,y:1758.449457058976,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:jdk2p4hwvzLt22oGA5mLL",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aJt",props:{dash:"solid",size:"s",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.6332710878141,y:54.58592500103621}}},typeName:"shape"},"shape:1ico__SmLmnMhKcBRbfEp":{x:290.69396489540804,y:1758.449457058976,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:1ico__SmLmnMhKcBRbfEp",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aKt",props:{dash:"solid",size:"s",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.6332710878141,y:54.58592500103621}}},typeName:"shape"},"shape:4wvUQRqICIuR7pYcMT13M":{x:-259.0812996416322,y:1915.8245610317265,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:4wvUQRqICIuR7pYcMT13M",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aGZ",props:{dash:"draw",size:"m",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.06220257987061,y:92.54213910199667}}},typeName:"shape"},"shape:mt_kBP8Vj13A2CivDs9j6":{x:-259.0812996416322,y:2039.4306167330947,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:mt_kBP8Vj13A2CivDs9j6",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aGf",props:{dash:"dashed",size:"m",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.06220257987061,y:92.54213910199667}}},typeName:"shape"},"shape:NkwwrtPxQNZBi1trRcL6x":{x:-259.0812996416322,y:2150.225599112582,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:NkwwrtPxQNZBi1trRcL6x",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aGi",props:{dash:"dotted",size:"m",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.06220257987061,y:92.54213910199667}}},typeName:"shape"},"shape:4oBwGr5pIwGCKcQ97hkns":{x:-259.0812996416322,y:2251.4732474543193,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:4oBwGr5pIwGCKcQ97hkns",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aGk",props:{dash:"solid",size:"m",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.06220257987061,y:92.54213910199667}}},typeName:"shape"},"shape:PSOORi4qaiM1tEdkXRXLL":{x:290.69396489540804,y:1915.8245610317265,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:PSOORi4qaiM1tEdkXRXLL",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aGt",props:{dash:"draw",size:"m",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.06220257987061,y:92.54213910199667}}},typeName:"shape"},"shape:c5z9FgFRVmeFVTuZ7obKI":{x:290.69396489540804,y:2039.4306167330947,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:c5z9FgFRVmeFVTuZ7obKI",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aH4",props:{dash:"dashed",size:"m",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.06220257987061,y:92.54213910199667}}},typeName:"shape"},"shape:Dfmswo5_yjX_iBe36f4JM":{x:290.69396489540804,y:2150.225599112582,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Dfmswo5_yjX_iBe36f4JM",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHA",props:{dash:"dotted",size:"m",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.06220257987061,y:92.54213910199667}}},typeName:"shape"},"shape:l4afRmFE--ZVvOVgnOuq2":{x:290.69396489540804,y:2251.4732474543193,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:l4afRmFE--ZVvOVgnOuq2",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHE",props:{dash:"solid",size:"m",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.06220257987061,y:92.54213910199667}}},typeName:"shape"},"shape:JJOQ8qxhhoc6C1XeFbl3v":{x:-259.0812996416322,y:1928.9126951547664,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:JJOQ8qxhhoc6C1XeFbl3v",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHI",props:{dash:"draw",size:"m",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.25867110324572,y:68.89093276824845}}},typeName:"shape"},"shape:E72oRy65BmXQsNea6Ho-i":{x:-259.0812996416322,y:2052.518750856135,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:E72oRy65BmXQsNea6Ho-i",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHL",props:{dash:"dashed",size:"m",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.25867110324572,y:68.89093276824845}}},typeName:"shape"},"shape:Z7RA8D1HLCZwMOHiH_4LH":{x:-259.0812996416322,y:2163.313733235622,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Z7RA8D1HLCZwMOHiH_4LH",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHMV",props:{dash:"dotted",size:"m",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.25867110324572,y:68.89093276824845}}},typeName:"shape"},"shape:oKnJ2bNK8xTPIIarZlcAz":{x:-259.0812996416322,y:2264.5613815773595,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:oKnJ2bNK8xTPIIarZlcAz",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHNV",props:{dash:"solid",size:"m",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.25867110324572,y:68.89093276824845}}},typeName:"shape"},"shape:1L68BMaRq8lAt4V18bFBu":{x:290.69396489540804,y:1928.9126951547664,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:1L68BMaRq8lAt4V18bFBu",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHU",props:{dash:"draw",size:"m",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.25867110324572,y:68.89093276824845}}},typeName:"shape"},"shape:DY9u1ScZ4SjoKiF-5u4Pl":{x:290.69396489540804,y:2052.518750856135,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:DY9u1ScZ4SjoKiF-5u4Pl",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHd",props:{dash:"dashed",size:"m",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.25867110324572,y:68.89093276824845}}},typeName:"shape"},"shape:1W1pTHTZ9LOj5H6teN2nH":{x:290.69396489540804,y:2163.313733235622,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:1W1pTHTZ9LOj5H6teN2nH",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHi",props:{dash:"dotted",size:"m",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.25867110324572,y:68.89093276824845}}},typeName:"shape"},"shape:qQh_buWtkRgFbQdevaOA_":{x:290.69396489540804,y:2264.5613815773595,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:qQh_buWtkRgFbQdevaOA_",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHk",props:{dash:"solid",size:"m",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.25867110324572,y:68.89093276824845}}},typeName:"shape"},"shape:PIDfCItVApY1_2tinpCFi":{x:-259.0812996416322,y:1935.384655338388,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:PIDfCItVApY1_2tinpCFi",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHn",props:{dash:"draw",size:"m",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:229.08509912361876,y:50.006204081018716}}},typeName:"shape"},"shape:CdaCwSQJzplHfOAygQGBE":{x:-259.0812996416322,y:2058.990711039756,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:CdaCwSQJzplHfOAygQGBE",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHq",props:{dash:"dashed",size:"m",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:229.08509912361876,y:50.006204081018716}}},typeName:"shape"},"shape:OYDF3d60XSCz_02h5_ljv":{x:-259.0812996416322,y:2169.7856934192437,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:OYDF3d60XSCz_02h5_ljv",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHrV",props:{dash:"dotted",size:"m",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:229.08509912361876,y:50.006204081018716}}},typeName:"shape"},"shape:pYTJ5ZFOb3JFog29UXm70":{x:-259.0812996416322,y:2271.033341760981,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:pYTJ5ZFOb3JFog29UXm70",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHsV",props:{dash:"solid",size:"m",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:229.08509912361876,y:50.006204081018716}}},typeName:"shape"},"shape:Paub0omp9VXR5XPF3x9Xp":{x:290.69396489540804,y:1935.384655338388,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Paub0omp9VXR5XPF3x9Xp",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHx",props:{dash:"draw",size:"m",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:229.08509912361876,y:50.006204081018716}}},typeName:"shape"},"shape:Z9wYFYpTnwqOrfkb7PPZa":{x:290.69396489540804,y:2058.990711039756,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Z9wYFYpTnwqOrfkb7PPZa",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aIG",props:{dash:"dashed",size:"m",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:229.08509912361876,y:50.006204081018716}}},typeName:"shape"},"shape:MIY9zI12Co2kNwsulHzxA":{x:290.69396489540804,y:2169.7856934192437,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:MIY9zI12Co2kNwsulHzxA",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aId",props:{dash:"dotted",size:"m",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:229.08509912361876,y:50.006204081018716}}},typeName:"shape"},"shape:Iu-tj5EnOanorAUFNJU3Z":{x:290.69396489540804,y:2271.033341760981,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Iu-tj5EnOanorAUFNJU3Z",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aIt",props:{dash:"solid",size:"m",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:229.08509912361876,y:50.006204081018716}}},typeName:"shape"},"shape:acaL1KYn32HlNBLY5S1-v":{x:-259.0812996416322,y:1923.4414018481032,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:acaL1KYn32HlNBLY5S1-v",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aJG",props:{dash:"draw",size:"m",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.6332710878141,y:54.58592500103621}}},typeName:"shape"},"shape:nrCqmVWs0DzA4dovphhiI":{x:-259.0812996416322,y:2047.0474575494713,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:nrCqmVWs0DzA4dovphhiI",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aJd",props:{dash:"dashed",size:"m",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.6332710878141,y:54.58592500103621}}},typeName:"shape"},"shape:KS7zlcQGRwel6iLGBoFhk":{x:-259.0812996416322,y:2157.842439928959,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:KS7zlcQGRwel6iLGBoFhk",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aJp",props:{dash:"dotted",size:"m",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.6332710878141,y:54.58592500103621}}},typeName:"shape"},"shape:73rx9BtPRikyF__h0ZS_f":{x:-259.0812996416322,y:2259.0900882706965,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:73rx9BtPRikyF__h0ZS_f",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aJx",props:{dash:"solid",size:"m",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.6332710878141,y:54.58592500103621}}},typeName:"shape"},"shape:DFpviBzD-2Y8YVasPPFYd":{x:290.69396489540804,y:1923.4414018481032,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:DFpviBzD-2Y8YVasPPFYd",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aKG",props:{dash:"draw",size:"m",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.6332710878141,y:54.58592500103621}}},typeName:"shape"},"shape:tu4ZGKXJIxo4TC-88kVf5":{x:290.69396489540804,y:2047.0474575494713,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:tu4ZGKXJIxo4TC-88kVf5",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aKd",props:{dash:"dashed",size:"m",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.6332710878141,y:54.58592500103621}}},typeName:"shape"},"shape:XMxreDqHcH2SuOlylz7Xg":{x:290.69396489540804,y:2157.842439928959,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:XMxreDqHcH2SuOlylz7Xg",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aKp",props:{dash:"dotted",size:"m",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.6332710878141,y:54.58592500103621}}},typeName:"shape"},"shape:0o513f5lIPoTg9vEHRd43":{x:290.69396489540804,y:2259.0900882706965,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:0o513f5lIPoTg9vEHRd43",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aKx",props:{dash:"solid",size:"m",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.6332710878141,y:54.58592500103621}}},typeName:"shape"},"shape:exXAfWjCG_VI0S7VmUYNJ":{x:-259.0812996416322,y:2388.04616728611,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:exXAfWjCG_VI0S7VmUYNJ",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aGb",props:{dash:"draw",size:"l",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.06220257987061,y:92.54213910199667}}},typeName:"shape"},"shape:uRImZWG7iyPPKuQhrcWXh":{x:-259.0812996416322,y:2511.6522229874786,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:uRImZWG7iyPPKuQhrcWXh",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aGg",props:{dash:"dashed",size:"l",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.06220257987061,y:92.54213910199667}}},typeName:"shape"},"shape:xr3TQ-kGNAgJ7EIOAwNBZ":{x:-259.0812996416322,y:2622.447205366966,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:xr3TQ-kGNAgJ7EIOAwNBZ",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aGiV",props:{dash:"dotted",size:"l",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.06220257987061,y:92.54213910199667}}},typeName:"shape"},"shape:SPOku2yC_3gd1ji3kHstN":{x:-259.0812996416322,y:2723.6948537087032,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:SPOku2yC_3gd1ji3kHstN",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aGkV",props:{dash:"solid",size:"l",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.06220257987061,y:92.54213910199667}}},typeName:"shape"},"shape:lc-CpsvD2VBThNp6E9dKR":{x:290.69396489540804,y:2388.04616728611,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:lc-CpsvD2VBThNp6E9dKR",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aGx",props:{dash:"draw",size:"l",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.06220257987061,y:92.54213910199667}}},typeName:"shape"},"shape:nL_NcHlM48XFgg3qzQBgV":{x:290.69396489540804,y:2511.6522229874786,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:nL_NcHlM48XFgg3qzQBgV",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aH6",props:{dash:"dashed",size:"l",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.06220257987061,y:92.54213910199667}}},typeName:"shape"},"shape:L6lgL58GpPz-T7YX6RkVG":{x:290.69396489540804,y:2622.447205366966,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:L6lgL58GpPz-T7YX6RkVG",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHB",props:{dash:"dotted",size:"l",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.06220257987061,y:92.54213910199667}}},typeName:"shape"},"shape:R7_em_T6BtVnxgyFVSDuw":{x:290.69396489540804,y:2723.6948537087032,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:R7_em_T6BtVnxgyFVSDuw",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHF",props:{dash:"solid",size:"l",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.06220257987061,y:92.54213910199667}}},typeName:"shape"},"shape:XuHPiEuJNhSruMxm_HVye":{x:-259.0812996416322,y:2401.1343014091503,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:XuHPiEuJNhSruMxm_HVye",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHJ",props:{dash:"draw",size:"l",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.25867110324572,y:68.89093276824845}}},typeName:"shape"},"shape:bck-jIF6zUHJrLakEZ7wF":{x:-259.0812996416322,y:2524.7403571105187,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:bck-jIF6zUHJrLakEZ7wF",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHLV",props:{dash:"dashed",size:"l",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.25867110324572,y:68.89093276824845}}},typeName:"shape"},"shape:KmgKXNsoJKaRFS5f49SCl":{x:-259.0812996416322,y:2635.5353394900058,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:KmgKXNsoJKaRFS5f49SCl",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHMl",props:{dash:"dotted",size:"l",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.25867110324572,y:68.89093276824845}}},typeName:"shape"},"shape:xjJBBKOWMv032TDQKzIc2":{x:-259.0812996416322,y:2736.7829878317434,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:xjJBBKOWMv032TDQKzIc2",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHNl",props:{dash:"solid",size:"l",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.25867110324572,y:68.89093276824845}}},typeName:"shape"},"shape:y7Yq9SQ3GmPBZLcEKwY_I":{x:290.69396489540804,y:2401.1343014091503,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:y7Yq9SQ3GmPBZLcEKwY_I",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHX",props:{dash:"draw",size:"l",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.25867110324572,y:68.89093276824845}}},typeName:"shape"},"shape:AzcTJFdHFE-opT0k9Ajyt":{x:290.69396489540804,y:2524.7403571105187,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:AzcTJFdHFE-opT0k9Ajyt",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHf",props:{dash:"dashed",size:"l",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.25867110324572,y:68.89093276824845}}},typeName:"shape"},"shape:fc8IDnLOBmPlnM-s8DnCy":{x:290.69396489540804,y:2635.5353394900058,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:fc8IDnLOBmPlnM-s8DnCy",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHiV",props:{dash:"dotted",size:"l",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.25867110324572,y:68.89093276824845}}},typeName:"shape"},"shape:_9f7DhaA4vZvNrdqBPgIA":{x:290.69396489540804,y:2736.7829878317434,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:_9f7DhaA4vZvNrdqBPgIA",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHkV",props:{dash:"solid",size:"l",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.25867110324572,y:68.89093276824845}}},typeName:"shape"},"shape:JCwGGOJBneV7pmX4kgezE":{x:-259.0812996416322,y:2407.606261592772,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:JCwGGOJBneV7pmX4kgezE",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHo",props:{dash:"draw",size:"l",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:229.08509912361876,y:50.006204081018716}}},typeName:"shape"},"shape:PoYtEo_vxSLH1K-kdhB1S":{x:-259.0812996416322,y:2531.21231729414,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:PoYtEo_vxSLH1K-kdhB1S",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHqV",props:{dash:"dashed",size:"l",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:229.08509912361876,y:50.006204081018716}}},typeName:"shape"},"shape:q8TfPnbtXek-U0jH93Y8r":{x:-259.0812996416322,y:2642.0072996736276,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:q8TfPnbtXek-U0jH93Y8r",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHrl",props:{dash:"dotted",size:"l",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:229.08509912361876,y:50.006204081018716}}},typeName:"shape"},"shape:7UenujjWRt-6wBe9Sj4_4":{x:-259.0812996416322,y:2743.254948015365,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:7UenujjWRt-6wBe9Sj4_4",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHsl",props:{dash:"solid",size:"l",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:229.08509912361876,y:50.006204081018716}}},typeName:"shape"},"shape:fRsNOA4nzOuJtZrfrJLzL":{x:290.69396489540804,y:2407.606261592772,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:fRsNOA4nzOuJtZrfrJLzL",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHz",props:{dash:"draw",size:"l",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:229.08509912361876,y:50.006204081018716}}},typeName:"shape"},"shape:MlVyoZ1FBYbdbAQG3-ma3":{x:290.69396489540804,y:2531.21231729414,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:MlVyoZ1FBYbdbAQG3-ma3",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aIO",props:{dash:"dashed",size:"l",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:229.08509912361876,y:50.006204081018716}}},typeName:"shape"},"shape:UYZaAHFfNOt5eZuJRHEMY":{x:290.69396489540804,y:2642.0072996736276,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:UYZaAHFfNOt5eZuJRHEMY",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aIh",props:{dash:"dotted",size:"l",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:229.08509912361876,y:50.006204081018716}}},typeName:"shape"},"shape:vl7qbmbNU7b_UzNhf4WtE":{x:290.69396489540804,y:2743.254948015365,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:vl7qbmbNU7b_UzNhf4WtE",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aIx",props:{dash:"solid",size:"l",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:229.08509912361876,y:50.006204081018716}}},typeName:"shape"},"shape:CxKft06-uMogRscirJLUh":{x:-259.0812996416322,y:2395.663008102487,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:CxKft06-uMogRscirJLUh",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aJO",props:{dash:"draw",size:"l",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.6332710878141,y:54.58592500103621}}},typeName:"shape"},"shape:zn30yNPi_zHxuusu8SmmC":{x:-259.0812996416322,y:2519.2690638038553,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:zn30yNPi_zHxuusu8SmmC",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aJh",props:{dash:"dashed",size:"l",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.6332710878141,y:54.58592500103621}}},typeName:"shape"},"shape:j-zAXmmFRZTHdoh4ct-RQ":{x:-259.0812996416322,y:2630.0640461833427,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:j-zAXmmFRZTHdoh4ct-RQ",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aJr",props:{dash:"dotted",size:"l",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.6332710878141,y:54.58592500103621}}},typeName:"shape"},"shape:zJvmRlJW2yw2s16Wf9HE8":{x:-259.0812996416322,y:2731.3116945250804,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:zJvmRlJW2yw2s16Wf9HE8",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aJz",props:{dash:"solid",size:"l",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.6332710878141,y:54.58592500103621}}},typeName:"shape"},"shape:U31xcYtFH67KBY8pae9Zs":{x:290.69396489540804,y:2395.663008102487,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:U31xcYtFH67KBY8pae9Zs",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aKO",props:{dash:"draw",size:"l",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.6332710878141,y:54.58592500103621}}},typeName:"shape"},"shape:SDYw9mpY1IdR6rnqUGzsI":{x:290.69396489540804,y:2519.2690638038553,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:SDYw9mpY1IdR6rnqUGzsI",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aKh",props:{dash:"dashed",size:"l",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.6332710878141,y:54.58592500103621}}},typeName:"shape"},"shape:Fw8EWc3WLQRgm11RMjHzo":{x:290.69396489540804,y:2630.0640461833427,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Fw8EWc3WLQRgm11RMjHzo",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aKr",props:{dash:"dotted",size:"l",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.6332710878141,y:54.58592500103621}}},typeName:"shape"},"shape:ltMisDoGfi-xJ6XB713pW":{x:290.69396489540804,y:2731.3116945250804,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ltMisDoGfi-xJ6XB713pW",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aKz",props:{dash:"solid",size:"l",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.6332710878141,y:54.58592500103621}}},typeName:"shape"},"shape:UlAN3QtQPcf8P2PGnHtSD":{x:-259.0812996416322,y:2858.095982794634,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:UlAN3QtQPcf8P2PGnHtSD",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aGc",props:{dash:"draw",size:"xl",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.06220257987061,y:92.54213910199667}}},typeName:"shape"},"shape:W2O-_rsJbiryK1prkJyPx":{x:-259.0812996416322,y:2981.7020384960024,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:W2O-_rsJbiryK1prkJyPx",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aGgV",props:{dash:"dashed",size:"xl",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.06220257987061,y:92.54213910199667}}},typeName:"shape"},"shape:mjUubBJrGRinA84mfqaYL":{x:-259.0812996416322,y:3092.49702087549,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:mjUubBJrGRinA84mfqaYL",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aGil",props:{dash:"dotted",size:"xl",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.06220257987061,y:92.54213910199667}}},typeName:"shape"},"shape:KcVXHcJQRkjFG9D20Syci":{x:-259.0812996416322,y:3193.744669217227,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:KcVXHcJQRkjFG9D20Syci",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aGkl",props:{dash:"solid",size:"xl",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.06220257987061,y:92.54213910199667}}},typeName:"shape"},"shape:mtfJ674mgSZ8P6DWGrb6H":{x:290.69396489540804,y:2858.095982794634,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:mtfJ674mgSZ8P6DWGrb6H",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aGz",props:{dash:"draw",size:"xl",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.06220257987061,y:92.54213910199667}}},typeName:"shape"},"shape:ZdGnu-AXmvccviCDIbmYO":{x:290.69396489540804,y:2981.7020384960024,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ZdGnu-AXmvccviCDIbmYO",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aH7",props:{dash:"dashed",size:"xl",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.06220257987061,y:92.54213910199667}}},typeName:"shape"},"shape:lmrem60njAkLByK740DMM":{x:290.69396489540804,y:3092.49702087549,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:lmrem60njAkLByK740DMM",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHBV",props:{dash:"dotted",size:"xl",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.06220257987061,y:92.54213910199667}}},typeName:"shape"},"shape:bsOKsWu5KDY3nOZgmEAXZ":{x:290.69396489540804,y:3193.744669217227,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:bsOKsWu5KDY3nOZgmEAXZ",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHFV",props:{dash:"solid",size:"xl",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.06220257987061,y:92.54213910199667}}},typeName:"shape"},"shape:3uCjOWXo8id0TRO4Dyd2X":{x:-259.0812996416322,y:2871.184116917674,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:3uCjOWXo8id0TRO4Dyd2X",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHJV",props:{dash:"draw",size:"xl",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.25867110324572,y:68.89093276824845}}},typeName:"shape"},"shape:EU30MnEFJJGwDsnSUhVRw":{x:-259.0812996416322,y:2994.7901726190426,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:EU30MnEFJJGwDsnSUhVRw",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHLl",props:{dash:"dashed",size:"xl",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.25867110324572,y:68.89093276824845}}},typeName:"shape"},"shape:YWvWvrsz7VZTKZ1BH612-":{x:-259.0812996416322,y:3105.5851549985296,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:YWvWvrsz7VZTKZ1BH612-",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHMt",props:{dash:"dotted",size:"xl",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.25867110324572,y:68.89093276824845}}},typeName:"shape"},"shape:163LQaair2hAf9LsUcDbd":{x:-259.0812996416322,y:3206.832803340267,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:163LQaair2hAf9LsUcDbd",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHNt",props:{dash:"solid",size:"xl",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.25867110324572,y:68.89093276824845}}},typeName:"shape"},"shape:EnGtZ39BzVDr6bh7YjTQm":{x:290.69396489540804,y:2871.184116917674,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:EnGtZ39BzVDr6bh7YjTQm",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHZ",props:{dash:"draw",size:"xl",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.25867110324572,y:68.89093276824845}}},typeName:"shape"},"shape:XayFO5W6JkqJ_qUohjP9I":{x:290.69396489540804,y:2994.7901726190426,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:XayFO5W6JkqJ_qUohjP9I",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHfV",props:{dash:"dashed",size:"xl",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.25867110324572,y:68.89093276824845}}},typeName:"shape"},"shape:mkT_SSQffXjxNOM2GBoOY":{x:290.69396489540804,y:3105.5851549985296,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:mkT_SSQffXjxNOM2GBoOY",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHil",props:{dash:"dotted",size:"xl",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.25867110324572,y:68.89093276824845}}},typeName:"shape"},"shape:TzomE7RGZmHFOyD5eRILG":{x:290.69396489540804,y:3206.832803340267,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:TzomE7RGZmHFOyD5eRILG",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHkl",props:{dash:"solid",size:"xl",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.25867110324572,y:68.89093276824845}}},typeName:"shape"},"shape:Z2BP5cTCfTaSbomzePqOf":{x:-259.0812996416322,y:2877.656077101296,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Z2BP5cTCfTaSbomzePqOf",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHoV",props:{dash:"draw",size:"xl",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:229.08509912361876,y:50.006204081018716}}},typeName:"shape"},"shape:W1-YTs9P9ZrsMl3bv2XIY":{x:-259.0812996416322,y:3001.262132802664,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:W1-YTs9P9ZrsMl3bv2XIY",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHql",props:{dash:"dashed",size:"xl",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:229.08509912361876,y:50.006204081018716}}},typeName:"shape"},"shape:PiPC2vm5fivQ7SVCTOTgw":{x:-259.0812996416322,y:3112.0571151821514,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:PiPC2vm5fivQ7SVCTOTgw",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHrt",props:{dash:"dotted",size:"xl",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:229.08509912361876,y:50.006204081018716}}},typeName:"shape"},"shape:jKaEdWEr372_doShpFMaI":{x:-259.0812996416322,y:3213.3047635238886,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:jKaEdWEr372_doShpFMaI",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHst",props:{dash:"solid",size:"xl",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:229.08509912361876,y:50.006204081018716}}},typeName:"shape"},"shape:fodDMGi6RXvBVs5eTiu1d":{x:290.69396489540804,y:2877.656077101296,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:fodDMGi6RXvBVs5eTiu1d",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHzV",props:{dash:"draw",size:"xl",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:229.08509912361876,y:50.006204081018716}}},typeName:"shape"},"shape:jyfa5gkAvQSK1izkO1Y-U":{x:290.69396489540804,y:3001.262132802664,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:jyfa5gkAvQSK1izkO1Y-U",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aIS",props:{dash:"dashed",size:"xl",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:229.08509912361876,y:50.006204081018716}}},typeName:"shape"},"shape:upH1-bs5j5ulGfSz-wT0q":{x:290.69396489540804,y:3112.0571151821514,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:upH1-bs5j5ulGfSz-wT0q",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aIj",props:{dash:"dotted",size:"xl",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:229.08509912361876,y:50.006204081018716}}},typeName:"shape"},"shape:mTv6yAzSy1kXwGz2gUP7m":{x:290.69396489540804,y:3213.3047635238886,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:mTv6yAzSy1kXwGz2gUP7m",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aIz",props:{dash:"solid",size:"xl",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:229.08509912361876,y:50.006204081018716}}},typeName:"shape"},"shape:fxREg_eWoDWFDYQNXs1WR":{x:-259.0812996416322,y:2865.7128236110107,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:fxREg_eWoDWFDYQNXs1WR",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aJS",props:{dash:"draw",size:"xl",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.6332710878141,y:54.58592500103621}}},typeName:"shape"},"shape:_SJo4MFq8z3ZQCQ29Izlm":{x:-259.0812996416322,y:2989.318879312379,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:_SJo4MFq8z3ZQCQ29Izlm",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aJj",props:{dash:"dashed",size:"xl",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.6332710878141,y:54.58592500103621}}},typeName:"shape"},"shape:rRt0ZuAAZKOV_4GL08iC3":{x:-259.0812996416322,y:3100.1138616918665,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:rRt0ZuAAZKOV_4GL08iC3",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aJs",props:{dash:"dotted",size:"xl",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.6332710878141,y:54.58592500103621}}},typeName:"shape"},"shape:hodWY80RdDOU01-SSTxNL":{x:-259.0812996416322,y:3201.361510033604,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:hodWY80RdDOU01-SSTxNL",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aJzV",props:{dash:"solid",size:"xl",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.6332710878141,y:54.58592500103621}}},typeName:"shape"},"shape:V0oasBaMM3UPimYv0sVVz":{x:290.69396489540804,y:2865.7128236110107,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:V0oasBaMM3UPimYv0sVVz",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aKS",props:{dash:"draw",size:"xl",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.6332710878141,y:54.58592500103621}}},typeName:"shape"},"shape:-I5fA7zfEpXrFt5JcuUF2":{x:290.69396489540804,y:2989.318879312379,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:-I5fA7zfEpXrFt5JcuUF2",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aKj",props:{dash:"dashed",size:"xl",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.6332710878141,y:54.58592500103621}}},typeName:"shape"},"shape:s5-zIUIE4twTfxZcHPn3x":{x:290.69396489540804,y:3100.1138616918665,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:s5-zIUIE4twTfxZcHPn3x",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aKs",props:{dash:"dotted",size:"xl",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.6332710878141,y:54.58592500103621}}},typeName:"shape"},"shape:30VfArm8gs2fH3cHyvm7x":{x:290.69396489540804,y:3201.361510033604,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:30VfArm8gs2fH3cHyvm7x",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aKzV",props:{dash:"solid",size:"xl",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.6332710878141,y:54.58592500103621}}},typeName:"shape"},"shape:t7wtH7UpwlxvPGF2oNGDG":{x:828.3437441614171,y:2844.561653560181,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:t7wtH7UpwlxvPGF2oNGDG",type:"frame",props:{w:421.69057272075224,h:421.69057272075224,name:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aj",typeName:"shape"},"shape:dJO3dII1OgMqoTBZ55da0":{x:871.1868323189601,y:3120.731766570472,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:dJO3dII1OgMqoTBZ55da0",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"ak",props:{dash:"solid",size:"s",fill:"none",color:"black",labelColor:"black",bend:0,start:{type:"binding",boundShapeId:"shape:t7wtH7UpwlxvPGF2oNGDG",normalizedAnchor:{x:.5,y:.5},isExact:!1},end:{type:"point",x:478.28108247981413,y:-237.96098719033853},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:mqA8ycIQ9r4587zj6T7_q":{x:1192.7697762376397,y:3036.8851328803084,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:mqA8ycIQ9r4587zj6T7_q",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"anV",props:{dash:"solid",size:"s",fill:"none",color:"black",labelColor:"black",bend:0,start:{type:"binding",boundShapeId:"shape:SoRC97hcxnz7ZtjP7k47U",normalizedAnchor:{x:.5,y:.5},isExact:!1},end:{type:"binding",boundShapeId:"shape:t7wtH7UpwlxvPGF2oNGDG",normalizedAnchor:{x:.20982350982350984,y:.7445221445221445},isExact:!1},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:z8QOXwsD12C-bVn3WWZk5":{x:1154.9257504806492,y:3147.9738481914596,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:z8QOXwsD12C-bVn3WWZk5",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"am",props:{dash:"solid",size:"s",fill:"none",color:"black",labelColor:"black",bend:0,start:{type:"point",x:229.90070118495373,y:16.583968244528933},end:{type:"binding",boundShapeId:"shape:TN4SgkjwSoshfhulfjE-K",normalizedAnchor:{x:.5,y:.5},isExact:!1},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:TN4SgkjwSoshfhulfjE-K":{x:123.61445593275994,y:74.67700518577931,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:TN4SgkjwSoshfhulfjE-K",type:"geo",props:{w:85.32107625212439,h:103.22502164736125,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"shape:t7wtH7UpwlxvPGF2oNGDG",index:"a1",typeName:"shape"},"shape:SoRC97hcxnz7ZtjP7k47U":{x:1390.611883432534,y:2955.0746341566623,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:SoRC97hcxnz7ZtjP7k47U",type:"geo",props:{w:53.37482074297668,h:70.66090449320109,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"an",typeName:"shape"},"shape:xgWQM8pPdycjiT61X4lYO":{x:973.7939923213091,y:2946.059471063531,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:xgWQM8pPdycjiT61X4lYO",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"ao",props:{dash:"solid",size:"s",fill:"none",color:"black",labelColor:"black",bend:0,start:{type:"binding",boundShapeId:"shape:TN4SgkjwSoshfhulfjE-K",normalizedAnchor:{x:.5,y:.5},isExact:!1},end:{type:"binding",boundShapeId:"shape:SoRC97hcxnz7ZtjP7k47U",normalizedAnchor:{x:.5,y:.5},isExact:!1},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:U9YWfkDoIySAQ_OjgNpEP":{x:1158.4784549394685,y:3105.7205370587008,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:U9YWfkDoIySAQ_OjgNpEP",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"ajV",props:{dash:"solid",size:"s",fill:"none",color:"black",labelColor:"black",bend:0,start:{type:"binding",boundShapeId:"shape:t7wtH7UpwlxvPGF2oNGDG",normalizedAnchor:{x:.7828837828837827,y:.6193140193140187},isExact:!1},end:{type:"binding",boundShapeId:"shape:t7wtH7UpwlxvPGF2oNGDG",normalizedAnchor:{x:.2452214452214452,y:.7429903429903424},isExact:!1},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:w0dPW9ph6czk-MBzpiYnc":{x:1492.3138815502646,y:2833.4209162642646,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:w0dPW9ph6czk-MBzpiYnc",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"ap",props:{dash:"draw",size:"s",fill:"none",color:"black",labelColor:"black",bend:0,start:{type:"point",x:0,y:0},end:{type:"point",x:83.54992748745553,y:78.10670605552968},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:7BAYJzy5uGSEDYr5FGw6v":{x:1585.86380903772,y:2833.4209162642646,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:7BAYJzy5uGSEDYr5FGw6v",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aq",props:{dash:"draw",size:"m",fill:"none",color:"black",labelColor:"black",bend:0,start:{type:"point",x:0,y:0},end:{type:"point",x:83.54992748745553,y:78.10670605552968},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:OosiTC9av_DDWEEUFr5dG":{x:1679.4137365251756,y:2833.4209162642646,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:OosiTC9av_DDWEEUFr5dG",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"ar",props:{dash:"draw",size:"l",fill:"none",color:"black",labelColor:"black",bend:0,start:{type:"point",x:0,y:0},end:{type:"point",x:83.54992748745553,y:78.10670605552968},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:ePkcxQotEVwEa9XfLOwdl":{x:1772.9636640126312,y:2833.4209162642646,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ePkcxQotEVwEa9XfLOwdl",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"as",props:{dash:"draw",size:"xl",fill:"none",color:"black",labelColor:"black",bend:0,start:{type:"point",x:0,y:0},end:{type:"point",x:83.54992748745553,y:78.10670605552968},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:7boD_141j8dl6PWO28o8l":{x:1492.3138815502646,y:2941.349634009681,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:7boD_141j8dl6PWO28o8l",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"apV",props:{dash:"dashed",size:"s",fill:"none",color:"black",labelColor:"black",bend:0,start:{type:"point",x:0,y:0},end:{type:"point",x:83.54992748745553,y:78.10670605552968},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:jqYgEVOOJKV4y7lgG-6xo":{x:1585.86380903772,y:2941.349634009681,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:jqYgEVOOJKV4y7lgG-6xo",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aqV",props:{dash:"dashed",size:"m",fill:"none",color:"black",labelColor:"black",bend:0,start:{type:"point",x:0,y:0},end:{type:"point",x:83.54992748745553,y:78.10670605552968},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:pZl9ZVP2KaHn0avlNhl1q":{x:1679.4137365251756,y:2941.349634009681,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:pZl9ZVP2KaHn0avlNhl1q",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"arV",props:{dash:"dashed",size:"l",fill:"none",color:"black",labelColor:"black",bend:0,start:{type:"point",x:0,y:0},end:{type:"point",x:83.54992748745553,y:78.10670605552968},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:ysFnS7R8jXvVtDpAqrTUF":{x:1772.9636640126312,y:2941.349634009681,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ysFnS7R8jXvVtDpAqrTUF",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"at",props:{dash:"dashed",size:"xl",fill:"none",color:"black",labelColor:"black",bend:0,start:{type:"point",x:0,y:0},end:{type:"point",x:83.54992748745553,y:78.10670605552968},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:hQcn3G_KkgfwW9r_fYdBF":{x:1492.3138815502646,y:3065.1552527155027,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:hQcn3G_KkgfwW9r_fYdBF",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"apl",props:{dash:"dotted",size:"s",fill:"none",color:"black",labelColor:"black",bend:0,start:{type:"point",x:0,y:0},end:{type:"point",x:83.54992748745553,y:78.10670605552968},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:t3grIPmVf2sKDth4EXTin":{x:1585.86380903772,y:3065.1552527155027,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:t3grIPmVf2sKDth4EXTin",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aql",props:{dash:"dotted",size:"m",fill:"none",color:"black",labelColor:"black",bend:0,start:{type:"point",x:0,y:0},end:{type:"point",x:83.54992748745553,y:78.10670605552968},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:qWCi3JZsNeTHOe8Zf_OLD":{x:1679.4137365251756,y:3065.1552527155027,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:qWCi3JZsNeTHOe8Zf_OLD",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"arl",props:{dash:"dotted",size:"l",fill:"none",color:"black",labelColor:"black",bend:0,start:{type:"point",x:0,y:0},end:{type:"point",x:83.54992748745553,y:78.10670605552968},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:lIN7rfP3Jjv03XKRwu5Ez":{x:1772.9636640126312,y:3065.1552527155027,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:lIN7rfP3Jjv03XKRwu5Ez",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"au",props:{dash:"dotted",size:"xl",fill:"none",color:"black",labelColor:"black",bend:0,start:{type:"point",x:0,y:0},end:{type:"point",x:83.54992748745553,y:78.10670605552968},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:XgCnlZdUV2qobh9BvNEsJ":{x:1492.3138815502646,y:3195.219066856921,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:XgCnlZdUV2qobh9BvNEsJ",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"apt",props:{dash:"solid",size:"s",fill:"none",color:"black",labelColor:"black",bend:0,start:{type:"point",x:0,y:0},end:{type:"point",x:83.54992748745553,y:78.10670605552968},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:HDU_F3SQ_9mfzS9a1-Jmh":{x:1585.86380903772,y:3195.219066856921,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:HDU_F3SQ_9mfzS9a1-Jmh",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aqt",props:{dash:"solid",size:"m",fill:"none",color:"black",labelColor:"black",bend:0,start:{type:"point",x:0,y:0},end:{type:"point",x:83.54992748745553,y:78.10670605552968},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:7ZWdB7CeeKRBa5BXWulVb":{x:1679.4137365251756,y:3195.219066856921,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:7ZWdB7CeeKRBa5BXWulVb",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"art",props:{dash:"solid",size:"l",fill:"none",color:"black",labelColor:"black",bend:0,start:{type:"point",x:0,y:0},end:{type:"point",x:83.54992748745553,y:78.10670605552968},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:QWxiJ57fuoLklp7zCPueq":{x:1772.9636640126312,y:3195.219066856921,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:QWxiJ57fuoLklp7zCPueq",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"av",props:{dash:"solid",size:"xl",fill:"none",color:"black",labelColor:"black",bend:0,start:{type:"point",x:0,y:0},end:{type:"point",x:83.54992748745553,y:78.10670605552968},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:KZSlV3vu0n_FlWAy7WqoF":{x:1866.5135915000867,y:2833.4209162642646,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:KZSlV3vu0n_FlWAy7WqoF",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"apG",props:{dash:"draw",size:"s",fill:"none",color:"black",labelColor:"black",bend:-26.629719652615496,start:{type:"point",x:0,y:0},end:{type:"point",x:83.54992748745553,y:78.10670605552968},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:6Snmkh4xfqIlNEVKKC5np":{x:1960.0635189875422,y:2833.4209162642646,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:6Snmkh4xfqIlNEVKKC5np",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aqG",props:{dash:"draw",size:"m",fill:"none",color:"black",labelColor:"black",bend:-24.39733738946812,start:{type:"point",x:0,y:0},end:{type:"point",x:83.54992748745553,y:78.10670605552968},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:KNMxN9gAViwmhD7ItOqOP":{x:2053.6134464749975,y:2833.4209162642646,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:KNMxN9gAViwmhD7ItOqOP",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"arG",props:{dash:"draw",size:"l",fill:"none",color:"black",labelColor:"black",bend:-30.947862602826415,start:{type:"point",x:0,y:0},end:{type:"point",x:83.54992748745553,y:78.10670605552968},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:gSo5BWwKYwDM0xCYswCv4":{x:2147.163373962453,y:2833.4209162642646,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:gSo5BWwKYwDM0xCYswCv4",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"asV",props:{dash:"draw",size:"xl",fill:"none",color:"black",labelColor:"black",bend:-36.314106965932936,start:{type:"point",x:0,y:0},end:{type:"point",x:83.54992748745553,y:78.10670605552968},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:2s--gP-r2TLLnWlBeTYiO":{x:1866.5135915000867,y:2957.4960757212193,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:2s--gP-r2TLLnWlBeTYiO",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"apO",props:{dash:"dashed",size:"s",fill:"none",color:"black",labelColor:"black",bend:-26.629719652615496,start:{type:"point",x:0,y:0},end:{type:"point",x:83.54992748745553,y:78.10670605552968},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:0D-gUiTxINAtSFt94Lw6j":{x:1960.0635189875422,y:2957.4960757212193,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:0D-gUiTxINAtSFt94Lw6j",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aqO",props:{dash:"dashed",size:"m",fill:"none",color:"black",labelColor:"black",bend:-24.39733738946812,start:{type:"point",x:0,y:0},end:{type:"point",x:83.54992748745553,y:78.10670605552968},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:L2B97lymWV7C2Xvn9nFEe":{x:2053.6134464749975,y:2957.4960757212193,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:L2B97lymWV7C2Xvn9nFEe",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"arO",props:{dash:"dashed",size:"l",fill:"none",color:"black",labelColor:"black",bend:-30.947862602826415,start:{type:"point",x:0,y:0},end:{type:"point",x:83.54992748745553,y:78.10670605552968},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:YOUQLEGsZ8I0EoAoG2V3U":{x:2147.163373962453,y:2957.4960757212193,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:YOUQLEGsZ8I0EoAoG2V3U",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"asl",props:{dash:"dashed",size:"xl",fill:"none",color:"black",labelColor:"black",bend:-36.314106965932936,start:{type:"point",x:0,y:0},end:{type:"point",x:83.54992748745553,y:78.10670605552968},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:nt-L54fUsYjqUA3aw1c5g":{x:1866.5135915000867,y:3085.3015467904193,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:nt-L54fUsYjqUA3aw1c5g",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"apS",props:{dash:"dotted",size:"s",fill:"none",color:"black",labelColor:"black",bend:-26.629719652615496,start:{type:"point",x:0,y:0},end:{type:"point",x:83.54992748745553,y:78.10670605552968},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:0KFrjzDeLb2r_rMD02yHl":{x:1960.0635189875422,y:3085.3015467904193,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:0KFrjzDeLb2r_rMD02yHl",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aqS",props:{dash:"dotted",size:"m",fill:"none",color:"black",labelColor:"black",bend:-24.39733738946812,start:{type:"point",x:0,y:0},end:{type:"point",x:83.54992748745553,y:78.10670605552968},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:Wdu5SwQnH2wMlT--FQRW_":{x:2053.6134464749975,y:3085.3015467904193,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Wdu5SwQnH2wMlT--FQRW_",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"arS",props:{dash:"dotted",size:"l",fill:"none",color:"black",labelColor:"black",bend:-30.947862602826415,start:{type:"point",x:0,y:0},end:{type:"point",x:83.54992748745553,y:78.10670605552968},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:-Z7j9fWN2xufnFuJQnvuF":{x:2147.163373962453,y:3085.3015467904193,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:-Z7j9fWN2xufnFuJQnvuF",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"ast",props:{dash:"dotted",size:"xl",fill:"none",color:"black",labelColor:"black",bend:-36.314106965932936,start:{type:"point",x:0,y:0},end:{type:"point",x:83.54992748745553,y:78.10670605552968},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:SIAR9TnScvMVFTWDOSPRW":{x:1866.5135915000867,y:3205.2113258941768,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:SIAR9TnScvMVFTWDOSPRW",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"apU",props:{dash:"solid",size:"s",fill:"none",color:"black",labelColor:"black",bend:-26.629719652615496,start:{type:"point",x:0,y:0},end:{type:"point",x:83.54992748745553,y:78.10670605552968},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:oz9AhCRTXogyGlr1pnAD0":{x:1960.0635189875422,y:3205.2113258941768,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:oz9AhCRTXogyGlr1pnAD0",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aqU",props:{dash:"solid",size:"m",fill:"none",color:"black",labelColor:"black",bend:-24.39733738946812,start:{type:"point",x:0,y:0},end:{type:"point",x:83.54992748745553,y:78.10670605552968},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:KgeMeW1TAk7BTjDmCwAEW":{x:2053.6134464749975,y:3205.2113258941768,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:KgeMeW1TAk7BTjDmCwAEW",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"arU",props:{dash:"solid",size:"l",fill:"none",color:"black",labelColor:"black",bend:-30.947862602826415,start:{type:"point",x:0,y:0},end:{type:"point",x:83.54992748745553,y:78.10670605552968},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:OYBHK6WWADjnW_hzZhgHD":{x:2147.163373962453,y:3205.2113258941768,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:OYBHK6WWADjnW_hzZhgHD",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"asx",props:{dash:"solid",size:"xl",fill:"none",color:"black",labelColor:"black",bend:-36.314106965932936,start:{type:"point",x:0,y:0},end:{type:"point",x:83.54992748745553,y:78.10670605552968},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:67c6gs0hrJ2PZuTd48yNP":{x:-1856.6882858651497,y:3557.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:67c6gs0hrJ2PZuTd48yNP",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"draw",size:"s",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aL8",typeName:"shape"},"shape:p67OAG-v4s76-VwRAoM2i":{x:-1856.6882858651497,y:4567.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:p67OAG-v4s76-VwRAoM2i",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"green",labelColor:"black",fill:"semi",dash:"dashed",size:"s",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLK",typeName:"shape"},"shape:_IKMwsbh1soNMELaTOUCb":{x:-1856.6882858651497,y:5588.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:_IKMwsbh1soNMELaTOUCb",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"yellow",labelColor:"black",fill:"semi",dash:"dotted",size:"s",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLQ",typeName:"shape"},"shape:CmZBjWmatl5jcHoMw1JjD":{x:-1856.6882858651497,y:6627.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:CmZBjWmatl5jcHoMw1JjD",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"blue",labelColor:"black",fill:"semi",dash:"solid",size:"s",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLU",typeName:"shape"},"shape:aujZiBWZddmH4aSCN-K03":{x:3327.3117141348503,y:3557.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:aujZiBWZddmH4aSCN-K03",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-violet",labelColor:"black",fill:"semi",dash:"draw",size:"m",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aM8",typeName:"shape"},"shape:VKQ207QLXqHEZ4Pm5G5uQ":{x:3327.3117141348503,y:4567.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:VKQ207QLXqHEZ4Pm5G5uQ",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"dashed",size:"m",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMK",typeName:"shape"},"shape:lphR82qiBEZ79fH40sdIt":{x:3327.3117141348503,y:5588.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:lphR82qiBEZ79fH40sdIt",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"green",labelColor:"black",fill:"semi",dash:"dotted",size:"m",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMQ",typeName:"shape"},"shape:IAXRLengvSp7WXsywG286":{x:3327.3117141348503,y:6627.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:IAXRLengvSp7WXsywG286",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"yellow",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMU",typeName:"shape"},"shape:_osiSo2GfuW7zdEeHLt7z":{x:2247.3117141348503,y:3773.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:_osiSo2GfuW7zdEeHLt7z",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"blue",labelColor:"black",fill:"semi",dash:"draw",size:"l",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aN8",typeName:"shape"},"shape:oBP80zrsl5u6pgFEbOdxf":{x:2247.3117141348503,y:4783.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:oBP80zrsl5u6pgFEbOdxf",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-violet",labelColor:"black",fill:"semi",dash:"dashed",size:"l",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNK",typeName:"shape"},"shape:apfIavqlkp67_IbCjSSrV":{x:2247.3117141348503,y:5804.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:apfIavqlkp67_IbCjSSrV",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"dotted",size:"l",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNQ",typeName:"shape"},"shape:HQ09uXQSzDJOIwzwSmgDz":{x:-1640.6882858651497,y:6843.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:HQ09uXQSzDJOIwzwSmgDz",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"green",labelColor:"black",fill:"semi",dash:"solid",size:"l",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNU",typeName:"shape"},"shape:9EQfUd1YF735SpX03SbRi":{x:1167.3117141348503,y:3989.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:9EQfUd1YF735SpX03SbRi",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"yellow",labelColor:"black",fill:"semi",dash:"draw",size:"xl",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOG",typeName:"shape"},"shape:6Fyz-rz3OETlttt0qUMMF":{x:1167.3117141348503,y:4999.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:6Fyz-rz3OETlttt0qUMMF",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"blue",labelColor:"black",fill:"semi",dash:"dashed",size:"xl",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOd",typeName:"shape"},"shape:9O9_o69Y94MgcP7abkHn7":{x:1167.3117141348503,y:6020.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:9O9_o69Y94MgcP7abkHn7",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-violet",labelColor:"black",fill:"semi",dash:"dotted",size:"xl",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOp",typeName:"shape"},"shape:bRWUOrrIUGVSHNuSB9ey6":{x:3543.3117141348503,y:6843.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:bRWUOrrIUGVSHNuSB9ey6",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"xl",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOx",typeName:"shape"},"shape:UGNzs9afK19Oyi0Ula5Gf":{x:735.3117141348503,y:3557.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:UGNzs9afK19Oyi0Ula5Gf",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"blue",labelColor:"black",fill:"solid",dash:"draw",size:"s",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLC",typeName:"shape"},"shape:Gf7TvoDbnEkQctEGXlq5B":{x:735.3117141348503,y:4567.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Gf7TvoDbnEkQctEGXlq5B",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-violet",labelColor:"black",fill:"solid",dash:"dashed",size:"s",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLM",typeName:"shape"},"shape:VcHb55vP6nsaUY0nI_8-j":{x:735.3117141348503,y:5588.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:VcHb55vP6nsaUY0nI_8-j",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"dotted",size:"s",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLR",typeName:"shape"},"shape:o0WlWp1TxRHAm_4a00ZsM":{x:735.3117141348503,y:6627.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:o0WlWp1TxRHAm_4a00ZsM",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"green",labelColor:"black",fill:"solid",dash:"solid",size:"s",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLUV",typeName:"shape"},"shape:twu848MH-C2cr9E1DH0Lv":{x:-344.68828586514974,y:3773.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:twu848MH-C2cr9E1DH0Lv",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"yellow",labelColor:"black",fill:"solid",dash:"draw",size:"m",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMC",typeName:"shape"},"shape:joBOfIIhxZ0Zvmlpdmoc8":{x:-344.68828586514974,y:4783.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:joBOfIIhxZ0Zvmlpdmoc8",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"blue",labelColor:"black",fill:"solid",dash:"dashed",size:"m",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMM",typeName:"shape"},"shape:e6QBqHyqvs_V6kM_uVtrD":{x:-344.6882858651502,y:5804.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:e6QBqHyqvs_V6kM_uVtrD",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-violet",labelColor:"black",fill:"solid",dash:"dotted",size:"m",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMR",typeName:"shape"},"shape:B0wYdWFZzDBdkh5YX5sT4":{x:3759.3117141348503,y:7059.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:B0wYdWFZzDBdkh5YX5sT4",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMUV",typeName:"shape"},"shape:zFcyraOEAHsp3F7hLCuOy":{x:-1424.6882858651497,y:3989.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:zFcyraOEAHsp3F7hLCuOy",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"green",labelColor:"black",fill:"solid",dash:"draw",size:"l",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNC",typeName:"shape"},"shape:ek8SQLT8_WCmhsiaSYk5E":{x:-1424.6882858651497,y:4999.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ek8SQLT8_WCmhsiaSYk5E",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"yellow",labelColor:"black",fill:"solid",dash:"dashed",size:"l",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNM",typeName:"shape"},"shape:IE1IYcKP_Kye-oLyTNkuS":{x:-1424.6882858651497,y:6020.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:IE1IYcKP_Kye-oLyTNkuS",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"blue",labelColor:"black",fill:"solid",dash:"dotted",size:"l",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNR",typeName:"shape"},"shape:ICAZX70gmH05Bm4OmAyvQ":{x:951.3117141348503,y:6843.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ICAZX70gmH05Bm4OmAyvQ",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-violet",labelColor:"black",fill:"solid",dash:"solid",size:"l",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNUV",typeName:"shape"},"shape:rGkWPdyVaCDNeivJXFuD7":{x:3759.3117141348503,y:3989.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:rGkWPdyVaCDNeivJXFuD7",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"draw",size:"xl",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOO",typeName:"shape"},"shape:Q5ku3WnLeqg22uHZHhPxe":{x:3759.3117141348503,y:4999.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Q5ku3WnLeqg22uHZHhPxe",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"green",labelColor:"black",fill:"solid",dash:"dashed",size:"xl",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOh",typeName:"shape"},"shape:IZg-4Gc2jxsJ757-Gw5nF":{x:3759.3117141348503,y:6020.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:IZg-4Gc2jxsJ757-Gw5nF",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"yellow",labelColor:"black",fill:"solid",dash:"dotted",size:"xl",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOr",typeName:"shape"},"shape:bZtCH4LKemjO7nPUQFHV6":{x:-128.68828586514974,y:7059.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:bZtCH4LKemjO7nPUQFHV6",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"blue",labelColor:"black",fill:"solid",dash:"solid",size:"xl",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOz",typeName:"shape"},"shape:hoyfGizMtcQDy_9R-CyjD":{x:2031.3117141348503,y:3557.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:hoyfGizMtcQDy_9R-CyjD",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"yellow",labelColor:"black",fill:"pattern",dash:"draw",size:"s",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLE",typeName:"shape"},"shape:UvRJa8RIb1Sef46oo5iUL":{x:2031.3117141348503,y:4567.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:UvRJa8RIb1Sef46oo5iUL",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"blue",labelColor:"black",fill:"pattern",dash:"dashed",size:"s",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLN",typeName:"shape"},"shape:byFMxvgKNb5k7H4NvF9-F":{x:2031.3117141348503,y:5588.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:byFMxvgKNb5k7H4NvF9-F",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-violet",labelColor:"black",fill:"pattern",dash:"dotted",size:"s",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLRV",typeName:"shape"},"shape:1upDQ4E2XxPNvZloU2PVO":{x:2031.3117141348503,y:6627.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:1upDQ4E2XxPNvZloU2PVO",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"solid",size:"s",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLUl",typeName:"shape"},"shape:nq2k2iQ64SDzntIhGILbt":{x:951.3117141348503,y:3773.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:nq2k2iQ64SDzntIhGILbt",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"green",labelColor:"black",fill:"pattern",dash:"draw",size:"m",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aME",typeName:"shape"},"shape:ZHAQS7_c2AXavJyTdqpFO":{x:951.3117141348503,y:4783.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ZHAQS7_c2AXavJyTdqpFO",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"yellow",labelColor:"black",fill:"pattern",dash:"dashed",size:"m",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMN",typeName:"shape"},"shape:LMf_OSerRkpgaM0A0BP-3":{x:951.3117141348503,y:5804.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:LMf_OSerRkpgaM0A0BP-3",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"blue",labelColor:"black",fill:"pattern",dash:"dotted",size:"m",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMRV",typeName:"shape"},"shape:L8SACVLE7ya89pkbXBIYz":{x:-1208.6882858651497,y:7275.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:L8SACVLE7ya89pkbXBIYz",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-violet",labelColor:"black",fill:"pattern",dash:"solid",size:"m",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMUl",typeName:"shape"},"shape:zPrTqK4tgfM8MD9Wjb53f":{x:-128.68828586514974,y:3989.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:zPrTqK4tgfM8MD9Wjb53f",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"draw",size:"l",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNE",typeName:"shape"},"shape:hpw5YoijUtHiMl4iyvKnG":{x:-128.68828586514974,y:4999.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:hpw5YoijUtHiMl4iyvKnG",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"green",labelColor:"black",fill:"pattern",dash:"dashed",size:"l",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNN",typeName:"shape"},"shape:9Kq3_viXKYz5WY_lXBwCN":{x:-128.68828586514974,y:6020.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:9Kq3_viXKYz5WY_lXBwCN",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"yellow",labelColor:"black",fill:"pattern",dash:"dotted",size:"l",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNRV",typeName:"shape"},"shape:vGWllF25AYiseoAUT9svY":{x:2247.3117141348503,y:6843.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:vGWllF25AYiseoAUT9svY",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"blue",labelColor:"black",fill:"pattern",dash:"solid",size:"l",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNUl",typeName:"shape"},"shape:X7qBs9jHj9YpbkLStTNJM":{x:-1208.6882858651497,y:4205.020273028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:X7qBs9jHj9YpbkLStTNJM",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-violet",labelColor:"black",fill:"pattern",dash:"draw",size:"xl",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOS",typeName:"shape"},"shape:fnkhJZ0fBNCFmFzJqfeMI":{x:-1208.6882858651497,y:5215.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:fnkhJZ0fBNCFmFzJqfeMI",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"dashed",size:"xl",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOj",typeName:"shape"},"shape:iozhkZo1AcsbnS67fSrHD":{x:-1208.6882858651497,y:6236.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:iozhkZo1AcsbnS67fSrHD",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"green",labelColor:"black",fill:"pattern",dash:"dotted",size:"xl",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOs",typeName:"shape"},"shape:JA9K5onmgndLpSJmZUItO":{x:1167.3117141348503,y:7059.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:JA9K5onmgndLpSJmZUItO",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"yellow",labelColor:"black",fill:"pattern",dash:"solid",size:"xl",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOzV",typeName:"shape"},"shape:v5HLrkaxpDt9pcFikMr5k":{x:-560.6882858651497,y:3557.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:v5HLrkaxpDt9pcFikMr5k",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-violet",labelColor:"black",fill:"none",dash:"draw",size:"s",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLA",typeName:"shape"},"shape:R53yEmf7KSZQ0kyNkDi2e":{x:-560.6882858651497,y:4567.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:R53yEmf7KSZQ0kyNkDi2e",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"s",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLL",typeName:"shape"},"shape:I-6eAIxqNgfeiPtdfTdbO":{x:-560.6882858651497,y:5588.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:I-6eAIxqNgfeiPtdfTdbO",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"green",labelColor:"black",fill:"none",dash:"dotted",size:"s",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLQV",typeName:"shape"},"shape:N7wWTWt8VAI6ZTLT8V2i3":{x:-560.6882858651497,y:6627.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:N7wWTWt8VAI6ZTLT8V2i3",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"yellow",labelColor:"black",fill:"none",dash:"solid",size:"s",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLUG",typeName:"shape"},"shape:rjjAs_rY3GkWM82v3W7PQ":{x:-1640.6882858651497,y:3773.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:rjjAs_rY3GkWM82v3W7PQ",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"blue",labelColor:"black",fill:"none",dash:"draw",size:"m",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMA",typeName:"shape"},"shape:U509zGRhXAz6NEDyU-1M0":{x:-1640.6882858651497,y:4783.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:U509zGRhXAz6NEDyU-1M0",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-violet",labelColor:"black",fill:"none",dash:"dashed",size:"m",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aML",typeName:"shape"},"shape:42Ftsey4TgRU8p87DbsnY":{x:-1640.6882858651497,y:5804.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:42Ftsey4TgRU8p87DbsnY",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"m",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMQV",typeName:"shape"},"shape:g-R1Hr36dRotkol-bSQ8G":{x:2463.3117141348503,y:7059.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:g-R1Hr36dRotkol-bSQ8G",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"green",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMUG",typeName:"shape"},"shape:GCyYjDeuczxSyWAQRm4W9":{x:3543.3117141348503,y:3773.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:GCyYjDeuczxSyWAQRm4W9",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"yellow",labelColor:"black",fill:"none",dash:"draw",size:"l",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNA",typeName:"shape"},"shape:qCql-bmQ68s1f1o1XG4eD":{x:3543.3117141348503,y:4783.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:qCql-bmQ68s1f1o1XG4eD",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"blue",labelColor:"black",fill:"none",dash:"dashed",size:"l",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNL",typeName:"shape"},"shape:y8U11EFss5vv6FuQmLBKY":{x:3543.3117141348503,y:5804.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:y8U11EFss5vv6FuQmLBKY",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-violet",labelColor:"black",fill:"none",dash:"dotted",size:"l",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNQV",typeName:"shape"},"shape:aM0GI7is1Ia1L_ZrLagHE":{x:-344.68828586514974,y:6843.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:aM0GI7is1Ia1L_ZrLagHE",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"l",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNUG",typeName:"shape"},"shape:EmckmMIuUcEy61SGE9GV4":{x:2463.3117141348503,y:3989.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:EmckmMIuUcEy61SGE9GV4",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"green",labelColor:"black",fill:"none",dash:"draw",size:"xl",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOK",typeName:"shape"},"shape:7lbTMSn2xry8QjvFU_5yu":{x:2463.3117141348503,y:4999.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:7lbTMSn2xry8QjvFU_5yu",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"yellow",labelColor:"black",fill:"none",dash:"dashed",size:"xl",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOf",typeName:"shape"},"shape:Rlly989hI3lcTORTJkQp1":{x:2463.3117141348503,y:6020.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Rlly989hI3lcTORTJkQp1",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"blue",labelColor:"black",fill:"none",dash:"dotted",size:"xl",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOq",typeName:"shape"},"shape:nLagVTm_PJNdGmF7ciK3j":{x:-1424.6882858651497,y:7059.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:nLagVTm_PJNdGmF7ciK3j",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-violet",labelColor:"black",fill:"none",dash:"solid",size:"xl",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOy",typeName:"shape"},"shape:QVQoXDQIHshAhhDq8f_hJ":{x:-1208.6882858651497,y:3557.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:QVQoXDQIHshAhhDq8f_hJ",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"grey",labelColor:"black",fill:"semi",dash:"draw",size:"s",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aL9",typeName:"shape"},"shape:fjfSjRCBF6SvliDP1-q5J":{x:87.31171413485026,y:3557.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:fjfSjRCBF6SvliDP1-q5J",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"violet",labelColor:"black",fill:"none",dash:"draw",size:"s",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLB",typeName:"shape"},"shape:2JdyHz8Qh0_DErpYGnPKJ":{x:1383.3117141348503,y:3557.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:2JdyHz8Qh0_DErpYGnPKJ",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-blue",labelColor:"black",fill:"solid",dash:"draw",size:"s",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLD",typeName:"shape"},"shape:MP3B1abFin4yZt5nIw0Eg":{x:2679.3117141348503,y:3557.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:MP3B1abFin4yZt5nIw0Eg",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"orange",labelColor:"black",fill:"pattern",dash:"draw",size:"s",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLF",typeName:"shape"},"shape:IhuzMqYo88CmT4GJEx0X9":{x:-1208.6882858651497,y:4567.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:IhuzMqYo88CmT4GJEx0X9",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-green",labelColor:"black",fill:"semi",dash:"dashed",size:"s",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLKV",typeName:"shape"},"shape:6vIQ-Zi0dcwba8DIVqIL_":{x:87.31171413485026,y:4567.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:6vIQ-Zi0dcwba8DIVqIL_",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"grey",labelColor:"black",fill:"none",dash:"dashed",size:"s",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLLV",typeName:"shape"},"shape:Asj0jo8-6OblmcyXpqYs-":{x:1383.3117141348503,y:4567.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Asj0jo8-6OblmcyXpqYs-",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"violet",labelColor:"black",fill:"solid",dash:"dashed",size:"s",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLMV",typeName:"shape"},"shape:Qn_57p7YCON0Zb_eYgr9S":{x:2679.3117141348503,y:4567.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Qn_57p7YCON0Zb_eYgr9S",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-blue",labelColor:"black",fill:"pattern",dash:"dashed",size:"s",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLNV",typeName:"shape"},"shape:SIOkwa_0GsAdWkxa7Ik5R":{x:-1208.6882858651497,y:5588.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:SIOkwa_0GsAdWkxa7Ik5R",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"orange",labelColor:"black",fill:"semi",dash:"dotted",size:"s",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLQG",typeName:"shape"},"shape:Mvye4u3vAsSihMSwqI6Tx":{x:87.31171413485026,y:5588.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Mvye4u3vAsSihMSwqI6Tx",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-green",labelColor:"black",fill:"none",dash:"dotted",size:"s",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLQl",typeName:"shape"},"shape:vEelWh2__EchkKvZdqtQq":{x:1383.3117141348503,y:5588.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:vEelWh2__EchkKvZdqtQq",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"grey",labelColor:"black",fill:"solid",dash:"dotted",size:"s",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLRG",typeName:"shape"},"shape:8-7PsQpZ4-hxJKWWX2L5L":{x:2679.3117141348503,y:5588.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:8-7PsQpZ4-hxJKWWX2L5L",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"violet",labelColor:"black",fill:"pattern",dash:"dotted",size:"s",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLRl",typeName:"shape"},"shape:T63MqIgjEnMykJFRuW0CT":{x:-1208.6882858651497,y:6627.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:T63MqIgjEnMykJFRuW0CT",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-blue",labelColor:"black",fill:"semi",dash:"solid",size:"s",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLU8",typeName:"shape"},"shape:jpqPs6nTAxbAex6UPabe6":{x:87.31171413485026,y:6627.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:jpqPs6nTAxbAex6UPabe6",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"orange",labelColor:"black",fill:"none",dash:"solid",size:"s",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLUO",typeName:"shape"},"shape:3WIlSEqkw8WJa_Qq2K7-D":{x:1383.3117141348503,y:6627.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:3WIlSEqkw8WJa_Qq2K7-D",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-green",labelColor:"black",fill:"solid",dash:"solid",size:"s",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLUd",typeName:"shape"},"shape:ltqJOhhjW9czUoZ63brFr":{x:2679.3117141348503,y:6627.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ltqJOhhjW9czUoZ63brFr",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"grey",labelColor:"black",fill:"pattern",dash:"solid",size:"s",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLUt",typeName:"shape"},"shape:jkig4mctp_OFjK_MUZL6Q":{x:3975.3117141348503,y:3557.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:jkig4mctp_OFjK_MUZL6Q",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"violet",labelColor:"black",fill:"semi",dash:"draw",size:"m",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aM9",typeName:"shape"},"shape:gXklfOQf3i6tejtmwlvEe":{x:-992.6882858651497,y:3773.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:gXklfOQf3i6tejtmwlvEe",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-blue",labelColor:"black",fill:"none",dash:"draw",size:"m",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMB",typeName:"shape"},"shape:pt-d2gbSn4urWsxe1aHCw":{x:303.31171413485026,y:3773.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:pt-d2gbSn4urWsxe1aHCw",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"orange",labelColor:"black",fill:"solid",dash:"draw",size:"m",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMD",typeName:"shape"},"shape:MtZxL3kgmh2e3dtkZqG2q":{x:1599.3117141348503,y:3773.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:MtZxL3kgmh2e3dtkZqG2q",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-green",labelColor:"black",fill:"pattern",dash:"draw",size:"m",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMF",typeName:"shape"},"shape:cl8BMa9bd8hw6BYWrnONj":{x:3975.3117141348503,y:4567.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:cl8BMa9bd8hw6BYWrnONj",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"grey",labelColor:"black",fill:"semi",dash:"dashed",size:"m",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMKV",typeName:"shape"},"shape:3HvtWepvUd83ceJz8O_gh":{x:-992.6882858651497,y:4783.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:3HvtWepvUd83ceJz8O_gh",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"violet",labelColor:"black",fill:"none",dash:"dashed",size:"m",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMLV",typeName:"shape"},"shape:7NZXxv0BOLnw4bisFdJxH":{x:303.31171413485026,y:4783.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:7NZXxv0BOLnw4bisFdJxH",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-blue",labelColor:"black",fill:"solid",dash:"dashed",size:"m",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMMV",typeName:"shape"},"shape:U34JIohcCM-w0gKLOR-PO":{x:1599.3117141348503,y:4783.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:U34JIohcCM-w0gKLOR-PO",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"orange",labelColor:"black",fill:"pattern",dash:"dashed",size:"m",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMNV",typeName:"shape"},"shape:o83QRhPq8XJqOZhs-OZaQ":{x:3975.3117141348503,y:5588.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:o83QRhPq8XJqOZhs-OZaQ",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-green",labelColor:"black",fill:"semi",dash:"dotted",size:"m",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMQG",typeName:"shape"},"shape:XAsMK2ZbSgGsF20K4olO1":{x:-992.6882858651502,y:5804.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:XAsMK2ZbSgGsF20K4olO1",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"grey",labelColor:"black",fill:"none",dash:"dotted",size:"m",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMQl",typeName:"shape"},"shape:FBz6lnPmPjaNPc6k-2MRI":{x:303.31171413485026,y:5804.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:FBz6lnPmPjaNPc6k-2MRI",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"violet",labelColor:"black",fill:"solid",dash:"dotted",size:"m",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMRG",typeName:"shape"},"shape:bLUPMqSSkrRMheTijIJ4S":{x:1599.3117141348503,y:5804.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:bLUPMqSSkrRMheTijIJ4S",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-blue",labelColor:"black",fill:"pattern",dash:"dotted",size:"m",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMRl",typeName:"shape"},"shape:El4WyAvYXH8lhsqUc-aIU":{x:3975.3117141348503,y:6627.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:El4WyAvYXH8lhsqUc-aIU",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"orange",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMU8",typeName:"shape"},"shape:mwz5eXSfrDDAd7mpccOuC":{x:3111.3117141348503,y:7059.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:mwz5eXSfrDDAd7mpccOuC",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-green",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMUO",typeName:"shape"},"shape:d2ckm6j1E50DgMry384oK":{x:-1856.6882858651497,y:7275.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:d2ckm6j1E50DgMry384oK",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"grey",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMUd",typeName:"shape"},"shape:stz6chvvVwv4BGmKNWWD1":{x:-560.6882858651497,y:7275.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:stz6chvvVwv4BGmKNWWD1",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"violet",labelColor:"black",fill:"pattern",dash:"solid",size:"m",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMUt",typeName:"shape"},"shape:jfoZ-2_o71421ud8xIYcw":{x:2895.3117141348503,y:3773.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:jfoZ-2_o71421ud8xIYcw",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-blue",labelColor:"black",fill:"semi",dash:"draw",size:"l",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aN9",typeName:"shape"},"shape:iNl7c32XR-AlW43iJRVQX":{x:4191.31171413485,y:3773.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:iNl7c32XR-AlW43iJRVQX",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"orange",labelColor:"black",fill:"none",dash:"draw",size:"l",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNB",typeName:"shape"},"shape:-v_r0ub28n5F46mKZQMK5":{x:-776.6882858651497,y:3989.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:-v_r0ub28n5F46mKZQMK5",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-green",labelColor:"black",fill:"solid",dash:"draw",size:"l",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aND",typeName:"shape"},"shape:TCUiRnuBBz8HbqYg1IoBj":{x:519.3117141348503,y:3989.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:TCUiRnuBBz8HbqYg1IoBj",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"grey",labelColor:"black",fill:"pattern",dash:"draw",size:"l",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNF",typeName:"shape"},"shape:zX0q2Fl3z8FNZ7mRjPZNC":{x:2895.3117141348503,y:4783.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:zX0q2Fl3z8FNZ7mRjPZNC",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"violet",labelColor:"black",fill:"semi",dash:"dashed",size:"l",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNKV",typeName:"shape"},"shape:qM7okX9pUfcfXp4uMEjH5":{x:4191.31171413485,y:4783.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:qM7okX9pUfcfXp4uMEjH5",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-blue",labelColor:"black",fill:"none",dash:"dashed",size:"l",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNLV",typeName:"shape"},"shape:N91vBe2NwMxXmocSo0K5Y":{x:-776.6882858651497,y:4999.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:N91vBe2NwMxXmocSo0K5Y",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"orange",labelColor:"black",fill:"solid",dash:"dashed",size:"l",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNMV",typeName:"shape"},"shape:VCVbdEzYjLbzodxIyv_y3":{x:519.3117141348503,y:4999.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:VCVbdEzYjLbzodxIyv_y3",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-green",labelColor:"black",fill:"pattern",dash:"dashed",size:"l",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNNV",typeName:"shape"},"shape:J3UmLFGRLXKmBHxU1dVfG":{x:2895.3117141348503,y:5804.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:J3UmLFGRLXKmBHxU1dVfG",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"grey",labelColor:"black",fill:"semi",dash:"dotted",size:"l",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNQG",typeName:"shape"},"shape:8foUIB_uXjHoZ3G5uffPu":{x:4191.31171413485,y:5804.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:8foUIB_uXjHoZ3G5uffPu",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"violet",labelColor:"black",fill:"none",dash:"dotted",size:"l",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNQl",typeName:"shape"},"shape:cCekLjoRxAfkyh31A9EZB":{x:-776.6882858651497,y:6020.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:cCekLjoRxAfkyh31A9EZB",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-blue",labelColor:"black",fill:"solid",dash:"dotted",size:"l",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNRG",typeName:"shape"},"shape:v7h1mlotOIQkGHd0YDt8Q":{x:519.3117141348503,y:6020.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:v7h1mlotOIQkGHd0YDt8Q",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"orange",labelColor:"black",fill:"pattern",dash:"dotted",size:"l",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNRl",typeName:"shape"},"shape:FMnQdF0jyNHnAXS_M6N9C":{x:-992.6882858651497,y:6843.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:FMnQdF0jyNHnAXS_M6N9C",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-green",labelColor:"black",fill:"semi",dash:"solid",size:"l",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNU8",typeName:"shape"},"shape:qrTgLKyRNsZwH1W79uEMG":{x:303.31171413485026,y:6843.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:qrTgLKyRNsZwH1W79uEMG",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"grey",labelColor:"black",fill:"none",dash:"solid",size:"l",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNUO",typeName:"shape"},"shape:7zEkMpylOweTRvl9NxRAL":{x:1599.3117141348503,y:6843.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:7zEkMpylOweTRvl9NxRAL",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"violet",labelColor:"black",fill:"solid",dash:"solid",size:"l",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNUd",typeName:"shape"},"shape:h4KtKUK3mcSJeWZCarrCe":{x:2895.3117141348503,y:6843.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:h4KtKUK3mcSJeWZCarrCe",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-blue",labelColor:"black",fill:"pattern",dash:"solid",size:"l",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNUt",typeName:"shape"},"shape:MkJ2_PapRLvkzhr9OXsOr":{x:1815.3117141348503,y:3989.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:MkJ2_PapRLvkzhr9OXsOr",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"orange",labelColor:"black",fill:"semi",dash:"draw",size:"xl",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOI",typeName:"shape"},"shape:fo7eTBWR6zjW8qcqsJiot":{x:3111.3117141348503,y:3989.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:fo7eTBWR6zjW8qcqsJiot",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-green",labelColor:"black",fill:"none",dash:"draw",size:"xl",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOM",typeName:"shape"},"shape:DtG0eWFZQJQruQ8EIbNpg":{x:-1856.6882858651497,y:4205.020273028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:DtG0eWFZQJQruQ8EIbNpg",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"grey",labelColor:"black",fill:"solid",dash:"draw",size:"xl",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOQ",typeName:"shape"},"shape:ZfHEb3GvaMtMiC9np-n1O":{x:-560.6882858651497,y:4205.020273028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ZfHEb3GvaMtMiC9np-n1O",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"violet",labelColor:"black",fill:"pattern",dash:"draw",size:"xl",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOU",typeName:"shape"},"shape:98V54vGeLwO8GY_uCyofE":{x:1815.3117141348503,y:4999.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:98V54vGeLwO8GY_uCyofE",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-blue",labelColor:"black",fill:"semi",dash:"dashed",size:"xl",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOe",typeName:"shape"},"shape:6v09QBkm6A8pL0iVPeAJT":{x:3111.3117141348503,y:4999.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:6v09QBkm6A8pL0iVPeAJT",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"orange",labelColor:"black",fill:"none",dash:"dashed",size:"xl",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOg",typeName:"shape"},"shape:DodW95FdBSn_ZHd-tnB1A":{x:-1856.6882858651497,y:5215.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:DodW95FdBSn_ZHd-tnB1A",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-green",labelColor:"black",fill:"solid",dash:"dashed",size:"xl",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOi",typeName:"shape"},"shape:JNH_7AWmfjpzQYdvxKWFD":{x:-560.6882858651497,y:5215.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:JNH_7AWmfjpzQYdvxKWFD",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"grey",labelColor:"black",fill:"pattern",dash:"dashed",size:"xl",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOk",typeName:"shape"},"shape:dr7rUIZw41Crmg_QuHyxF":{x:1815.3117141348503,y:6020.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:dr7rUIZw41Crmg_QuHyxF",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"violet",labelColor:"black",fill:"semi",dash:"dotted",size:"xl",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOpV",typeName:"shape"},"shape:N5ZTSgI_Y5rrXjO7f4pI1":{x:3111.3117141348503,y:6020.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:N5ZTSgI_Y5rrXjO7f4pI1",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-blue",labelColor:"black",fill:"none",dash:"dotted",size:"xl",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOqV",typeName:"shape"},"shape:ww6w-wUgeWVoi6yI4N7Fe":{x:-1856.6882858651497,y:6236.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ww6w-wUgeWVoi6yI4N7Fe",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"orange",labelColor:"black",fill:"solid",dash:"dotted",size:"xl",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOrV",typeName:"shape"},"shape:MjFhnGtP55hMna8-eVY9G":{x:-560.6882858651497,y:6236.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:MjFhnGtP55hMna8-eVY9G",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-green",labelColor:"black",fill:"pattern",dash:"dotted",size:"xl",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOsV",typeName:"shape"},"shape:dYAPNJ3QCgoxBmZqLZNDQ":{x:4191.31171413485,y:6843.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:dYAPNJ3QCgoxBmZqLZNDQ",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"grey",labelColor:"black",fill:"semi",dash:"solid",size:"xl",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOxV",typeName:"shape"},"shape:X7Ng2CtUvzw-mPbv0UYjD":{x:-776.6882858651497,y:7059.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:X7Ng2CtUvzw-mPbv0UYjD",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"violet",labelColor:"black",fill:"none",dash:"solid",size:"xl",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOyV",typeName:"shape"},"shape:SunQmUjmvVtLmab8v82So":{x:519.3117141348503,y:7059.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:SunQmUjmvVtLmab8v82So",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-blue",labelColor:"black",fill:"solid",dash:"solid",size:"xl",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOzG",typeName:"shape"},"shape:tm4F2UV8qtquQMxvS-j5d":{x:1815.3117141348503,y:7059.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:tm4F2UV8qtquQMxvS-j5d",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"orange",labelColor:"black",fill:"pattern",dash:"solid",size:"xl",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOzl",typeName:"shape"},"shape:_gngEcO2LTaj75nAKxfxw":{x:-1640.6882858651497,y:3557.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:_gngEcO2LTaj75nAKxfxw",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-red",labelColor:"black",fill:"semi",dash:"draw",size:"s",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aL8V",typeName:"shape"},"shape:O8VuqHWBhHGyCdX5scloT":{x:-992.6882858651497,y:3557.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:O8VuqHWBhHGyCdX5scloT",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"red",labelColor:"black",fill:"semi",dash:"draw",size:"s",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aL9V",typeName:"shape"},"shape:BU1rnRyp0kNB86ikFUCqi":{x:-344.68828586514974,y:3557.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:BU1rnRyp0kNB86ikFUCqi",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"s",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLAV",typeName:"shape"},"shape:69awhQ_mkxxRwC-ZWCxw-":{x:303.31171413485026,y:3557.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:69awhQ_mkxxRwC-ZWCxw-",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"s",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLBV",typeName:"shape"},"shape:WPQ2nNWmt9wYLZDHoIzIe":{x:951.3117141348503,y:3557.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:WPQ2nNWmt9wYLZDHoIzIe",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"draw",size:"s",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLCV",typeName:"shape"},"shape:hqluRVAei8P7RUyBLOh8N":{x:1599.3117141348503,y:3557.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:hqluRVAei8P7RUyBLOh8N",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"draw",size:"s",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLDV",typeName:"shape"},"shape:AGur81MYWJ-4xXELa1D6y":{x:2247.3117141348503,y:3557.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:AGur81MYWJ-4xXELa1D6y",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"draw",size:"s",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLEV",typeName:"shape"},"shape:QHeG3otvF25Pdf24BjOkJ":{x:2895.3117141348503,y:3557.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:QHeG3otvF25Pdf24BjOkJ",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"draw",size:"s",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLFV",typeName:"shape"},"shape:aDiU6hs3gz4AOB7TX2ioc":{x:-1640.6882858651497,y:4567.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:aDiU6hs3gz4AOB7TX2ioc",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"dashed",size:"s",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLKG",typeName:"shape"},"shape:OK_oOaapvndZ1KPn4ZSaM":{x:-992.6882858651497,y:4567.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:OK_oOaapvndZ1KPn4ZSaM",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"dashed",size:"s",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLKl",typeName:"shape"},"shape:JNilAc7WLtJCkbWc5mnmW":{x:-344.68828586514974,y:4567.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:JNilAc7WLtJCkbWc5mnmW",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-red",labelColor:"black",fill:"none",dash:"dashed",size:"s",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLLG",typeName:"shape"},"shape:6w5ZOOsw1JB6KbEKdxSQg":{x:303.31171413485026,y:4567.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:6w5ZOOsw1JB6KbEKdxSQg",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"red",labelColor:"black",fill:"none",dash:"dashed",size:"s",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLLl",typeName:"shape"},"shape:BzeaPu93LzWfQHZU9mDXA":{x:951.3117141348503,y:4567.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:BzeaPu93LzWfQHZU9mDXA",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"dashed",size:"s",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLMG",typeName:"shape"},"shape:-wAHROtZlfIjHN8Wiu5tj":{x:1599.3117141348503,y:4567.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:-wAHROtZlfIjHN8Wiu5tj",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"dashed",size:"s",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLMl",typeName:"shape"},"shape:pg8nKPA9SxtFiGN1TG1aQ":{x:2247.3117141348503,y:4567.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:pg8nKPA9SxtFiGN1TG1aQ",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"dashed",size:"s",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLNG",typeName:"shape"},"shape:eHU8SmL5DkJtunROkf33E":{x:2895.3117141348503,y:4567.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:eHU8SmL5DkJtunROkf33E",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"dashed",size:"s",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLNl",typeName:"shape"},"shape:ne3GZXG4IrFU7nH33bMee":{x:-1640.6882858651497,y:5588.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ne3GZXG4IrFU7nH33bMee",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"dotted",size:"s",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLQ8",typeName:"shape"},"shape:0S2JMw_rIqhLzQenjBGhS":{x:-992.6882858651497,y:5588.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:0S2JMw_rIqhLzQenjBGhS",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"dotted",size:"s",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLQO",typeName:"shape"},"shape:xcoqKephk3fh7b0-qz11p":{x:-344.68828586514974,y:5588.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:xcoqKephk3fh7b0-qz11p",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"s",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLQd",typeName:"shape"},"shape:kp-LuvT09RufnR4bcIPQV":{x:303.31171413485026,y:5588.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:kp-LuvT09RufnR4bcIPQV",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"s",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLQt",typeName:"shape"},"shape:6FPQYPpr7wLh4W05JH8_z":{x:951.3117141348503,y:5588.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:6FPQYPpr7wLh4W05JH8_z",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-red",labelColor:"black",fill:"solid",dash:"dotted",size:"s",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLR8",typeName:"shape"},"shape:5xgBwKipPtJ0W0eWCgvR7":{x:1599.3117141348503,y:5588.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:5xgBwKipPtJ0W0eWCgvR7",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"red",labelColor:"black",fill:"solid",dash:"dotted",size:"s",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLRO",typeName:"shape"},"shape:gz3UUXuVLa_sRSKMeVO9Y":{x:2247.3117141348503,y:5588.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:gz3UUXuVLa_sRSKMeVO9Y",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"dotted",size:"s",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLRd",typeName:"shape"},"shape:PSSQbOEUkCNxK13O4nGYR":{x:2895.3117141348503,y:5588.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:PSSQbOEUkCNxK13O4nGYR",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"dotted",size:"s",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLRt",typeName:"shape"},"shape:hBGusilUNgunUIQtSfNZ-":{x:-1640.6882858651497,y:6627.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:hBGusilUNgunUIQtSfNZ-",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"s",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLU4",typeName:"shape"},"shape:fwiNmAFXSmAUvInUN4z3Y":{x:-992.6882858651497,y:6627.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:fwiNmAFXSmAUvInUN4z3Y",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"s",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLUC",typeName:"shape"},"shape:lKtrGu4H0DsUGOUhi6Mok":{x:-344.68828586514974,y:6627.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:lKtrGu4H0DsUGOUhi6Mok",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"s",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLUK",typeName:"shape"},"shape:4JSOwPO0DvCa-IH2Q6C0G":{x:303.31171413485026,y:6627.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:4JSOwPO0DvCa-IH2Q6C0G",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"s",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLUS",typeName:"shape"},"shape:ud7_0OnP9qMthq_DtHA1r":{x:951.3117141348503,y:6627.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ud7_0OnP9qMthq_DtHA1r",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"s",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLUZ",typeName:"shape"},"shape:XCmQE20pD3KYXIry5HWq0":{x:1599.3117141348503,y:6627.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:XCmQE20pD3KYXIry5HWq0",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"s",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLUh",typeName:"shape"},"shape:8Xi28I_w2T5aBlAJpmsf-":{x:2247.3117141348503,y:6627.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:8Xi28I_w2T5aBlAJpmsf-",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-red",labelColor:"black",fill:"pattern",dash:"solid",size:"s",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLUp",typeName:"shape"},"shape:KizUNOpiYkAbO0Brv8UPl":{x:2895.3117141348503,y:6627.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:KizUNOpiYkAbO0Brv8UPl",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"red",labelColor:"black",fill:"pattern",dash:"solid",size:"s",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLUx",typeName:"shape"},"shape:1K7r25Wg2bzCBbflZRcNs":{x:3543.3117141348503,y:3557.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:1K7r25Wg2bzCBbflZRcNs",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"draw",size:"m",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aM8V",typeName:"shape"},"shape:y8ji5rMWDBLK2LxxWbaKX":{x:4191.31171413485,y:3557.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:y8ji5rMWDBLK2LxxWbaKX",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"draw",size:"m",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aM9V",typeName:"shape"},"shape:rLgSndlpIu8bbMdDMEPKf":{x:-1424.6882858651497,y:3773.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:rLgSndlpIu8bbMdDMEPKf",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"m",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMAV",typeName:"shape"},"shape:rYD3HIoHPHIxy20O7OYPp":{x:-776.6882858651497,y:3773.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:rYD3HIoHPHIxy20O7OYPp",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"m",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMBV",typeName:"shape"},"shape:0HyzVrC39vZFOKpT7pRO9":{x:-128.68828586514974,y:3773.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:0HyzVrC39vZFOKpT7pRO9",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"draw",size:"m",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMCV",typeName:"shape"},"shape:ceOjLPEfLeTM4D74z8SWo":{x:519.3117141348503,y:3773.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ceOjLPEfLeTM4D74z8SWo",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"draw",size:"m",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMDV",typeName:"shape"},"shape:-1UOhdYpHEjEjtwEJiZXN":{x:1167.3117141348503,y:3773.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:-1UOhdYpHEjEjtwEJiZXN",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"draw",size:"m",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMEV",typeName:"shape"},"shape:i62AVFFcf5nMxIruE7Fy_":{x:1815.3117141348503,y:3773.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:i62AVFFcf5nMxIruE7Fy_",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"draw",size:"m",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMFV",typeName:"shape"},"shape:HndFZGX27buokN9D4AhWs":{x:3543.3117141348503,y:4567.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:HndFZGX27buokN9D4AhWs",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-red",labelColor:"black",fill:"semi",dash:"dashed",size:"m",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMKG",typeName:"shape"},"shape:vzY3QgS5WWBOSTbo85262":{x:4191.31171413485,y:4567.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:vzY3QgS5WWBOSTbo85262",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"red",labelColor:"black",fill:"semi",dash:"dashed",size:"m",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMKl",typeName:"shape"},"shape:rsAv4-ugOhMpVUUfkzc8K":{x:-1424.6882858651497,y:4783.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:rsAv4-ugOhMpVUUfkzc8K",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"m",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMLG",typeName:"shape"},"shape:yFCnvXVMULT_8aFJFwnx_":{x:-776.6882858651497,y:4783.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:yFCnvXVMULT_8aFJFwnx_",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"m",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMLl",typeName:"shape"},"shape:XjOtdg3M5zPJ1NXm-rRqR":{x:-128.68828586514974,y:4783.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:XjOtdg3M5zPJ1NXm-rRqR",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"dashed",size:"m",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMMG",typeName:"shape"},"shape:UlaWbpT-y84S08meImlbi":{x:519.3117141348503,y:4783.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:UlaWbpT-y84S08meImlbi",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"dashed",size:"m",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMMl",typeName:"shape"},"shape:JWT8ef3q7ehS_5RPb1Pm4":{x:1167.3117141348503,y:4783.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:JWT8ef3q7ehS_5RPb1Pm4",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"dashed",size:"m",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMNG",typeName:"shape"},"shape:4scUUFNV69vfuOVqACDxW":{x:1815.3117141348503,y:4783.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:4scUUFNV69vfuOVqACDxW",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"dashed",size:"m",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMNl",typeName:"shape"},"shape:r0YwqeMQoXxYr9JSEIVb3":{x:3543.3117141348503,y:5588.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:r0YwqeMQoXxYr9JSEIVb3",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"dotted",size:"m",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMQ8",typeName:"shape"},"shape:ZfDPuGQn12YIEfj9q0p37":{x:4191.31171413485,y:5588.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ZfDPuGQn12YIEfj9q0p37",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"dotted",size:"m",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMQO",typeName:"shape"},"shape:19NCx8ncrkNrqepzav2pA":{x:-1424.6882858651497,y:5804.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:19NCx8ncrkNrqepzav2pA",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-red",labelColor:"black",fill:"none",dash:"dotted",size:"m",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMQd",typeName:"shape"},"shape:rjUunj_JxmbEMgtul_yhB":{x:-776.6882858651502,y:5804.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:rjUunj_JxmbEMgtul_yhB",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"red",labelColor:"black",fill:"none",dash:"dotted",size:"m",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMQt",typeName:"shape"},"shape:YVSHo3daNw0Ex8ELHoyv6":{x:-128.68828586514974,y:5804.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:YVSHo3daNw0Ex8ELHoyv6",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"dotted",size:"m",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMR8",typeName:"shape"},"shape:fMYZWfUp4GcyoArrehI4Y":{x:519.3117141348503,y:5804.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:fMYZWfUp4GcyoArrehI4Y",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"dotted",size:"m",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMRO",typeName:"shape"},"shape:2WS-wD6qjRJmst1tu0fsN":{x:1167.3117141348503,y:5804.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:2WS-wD6qjRJmst1tu0fsN",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"dotted",size:"m",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMRd",typeName:"shape"},"shape:jZ9OadFKqNS_9PonxWtB6":{x:1815.3117141348503,y:5804.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:jZ9OadFKqNS_9PonxWtB6",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"dotted",size:"m",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMRt",typeName:"shape"},"shape:2NBKbGmUzxx34Ac8Bq3NV":{x:3543.3117141348503,y:6627.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:2NBKbGmUzxx34Ac8Bq3NV",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMU4",typeName:"shape"},"shape:DgIGzwgJIIbN9zUFqkN2K":{x:4191.31171413485,y:6627.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:DgIGzwgJIIbN9zUFqkN2K",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMUC",typeName:"shape"},"shape:0IAkWc2PDp3X2vM9j_GPw":{x:2679.3117141348503,y:7059.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:0IAkWc2PDp3X2vM9j_GPw",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMUK",typeName:"shape"},"shape:Veyjj5cpiSFfNvLjiQ3Lu":{x:3327.3117141348503,y:7059.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Veyjj5cpiSFfNvLjiQ3Lu",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMUS",typeName:"shape"},"shape:8vctWkI9zuOBzXZjtPn18":{x:3975.3117141348503,y:7059.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:8vctWkI9zuOBzXZjtPn18",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-red",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMUZ",typeName:"shape"},"shape:o-3UnHL3wF5gCJtmdwcp2":{x:-1640.6882858651497,y:7275.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:o-3UnHL3wF5gCJtmdwcp2",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"red",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMUh",typeName:"shape"},"shape:my-A2djR8T9upwRjfLfC6":{x:-992.6882858651497,y:7275.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:my-A2djR8T9upwRjfLfC6",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"solid",size:"m",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMUp",typeName:"shape"},"shape:LGOaxBxJpXTaOVoAqhrqF":{x:-344.68828586514974,y:7275.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:LGOaxBxJpXTaOVoAqhrqF",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"solid",size:"m",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMUx",typeName:"shape"},"shape:0RAPKf10AXTHjP1VOABqI":{x:2463.3117141348503,y:3773.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:0RAPKf10AXTHjP1VOABqI",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"draw",size:"l",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aN8V",typeName:"shape"},"shape:U7fChNA2flevjbtQf6j3R":{x:3111.3117141348503,y:3773.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:U7fChNA2flevjbtQf6j3R",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"draw",size:"l",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aN9V",typeName:"shape"},"shape:eT7CRGO-wNPHmrsP-pHP-":{x:3759.3117141348503,y:3773.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:eT7CRGO-wNPHmrsP-pHP-",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"l",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNAV",typeName:"shape"},"shape:YXJm2wQqSo5_K1aXiO9ef":{x:-1856.6882858651497,y:3989.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:YXJm2wQqSo5_K1aXiO9ef",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"l",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNBV",typeName:"shape"},"shape:Nwu0rNWKLJPrf-x_Vvazr":{x:-1208.6882858651497,y:3989.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Nwu0rNWKLJPrf-x_Vvazr",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"draw",size:"l",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNCV",typeName:"shape"},"shape:uQxWpJ1HLRaIF57hm1RWq":{x:-560.6882858651497,y:3989.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:uQxWpJ1HLRaIF57hm1RWq",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"draw",size:"l",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNDV",typeName:"shape"},"shape:yZzQ8wUjp_moYzXyFjZG7":{x:87.31171413485026,y:3989.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:yZzQ8wUjp_moYzXyFjZG7",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-red",labelColor:"black",fill:"pattern",dash:"draw",size:"l",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNEV",typeName:"shape"},"shape:66CsxctK9UNUFdEBmKWl-":{x:735.3117141348503,y:3989.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:66CsxctK9UNUFdEBmKWl-",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"red",labelColor:"black",fill:"pattern",dash:"draw",size:"l",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNFV",typeName:"shape"},"shape:VJ5plX-AqkTi4N3K0v2H9":{x:2463.3117141348503,y:4783.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:VJ5plX-AqkTi4N3K0v2H9",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"dashed",size:"l",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNKG",typeName:"shape"},"shape:iBY9plFnX-_DsWKvhDVQK":{x:3111.3117141348503,y:4783.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:iBY9plFnX-_DsWKvhDVQK",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"dashed",size:"l",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNKl",typeName:"shape"},"shape:UQOAYhl_BNGl_2C8MB5Om":{x:3759.3117141348503,y:4783.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:UQOAYhl_BNGl_2C8MB5Om",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"l",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNLG",typeName:"shape"},"shape:ap1Lj9Xf6tfqFh0oF0rEZ":{x:-1856.6882858651497,y:4999.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ap1Lj9Xf6tfqFh0oF0rEZ",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"l",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNLl",typeName:"shape"},"shape:AZrBBr5K74N_pWNKKY0Go":{x:-1208.6882858651497,y:4999.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:AZrBBr5K74N_pWNKKY0Go",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"dashed",size:"l",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNMG",typeName:"shape"},"shape:IPzNDFQL_6bf9T5zDVsYZ":{x:-560.6882858651497,y:4999.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:IPzNDFQL_6bf9T5zDVsYZ",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"dashed",size:"l",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNMl",typeName:"shape"},"shape:gST8yDebjRuRtrBRcKlwh":{x:87.31171413485026,y:4999.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:gST8yDebjRuRtrBRcKlwh",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"dashed",size:"l",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNNG",typeName:"shape"},"shape:rWlPyPyf7ZA7h8gGindl6":{x:735.3117141348503,y:4999.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:rWlPyPyf7ZA7h8gGindl6",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"dashed",size:"l",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNNl",typeName:"shape"},"shape:M_KOTa5roAnL7K4-uZQr5":{x:2463.3117141348503,y:5804.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:M_KOTa5roAnL7K4-uZQr5",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-red",labelColor:"black",fill:"semi",dash:"dotted",size:"l",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNQ8",typeName:"shape"},"shape:5PubOIwETSLeksnHVZJC0":{x:3111.3117141348503,y:5804.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:5PubOIwETSLeksnHVZJC0",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"red",labelColor:"black",fill:"semi",dash:"dotted",size:"l",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNQO",typeName:"shape"},"shape:iucqM0-geSDJte_FYRZJ8":{x:3759.3117141348503,y:5804.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:iucqM0-geSDJte_FYRZJ8",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"l",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNQd",typeName:"shape"},"shape:yQrLI5-5hhefKEza1uXKd":{x:-1856.6882858651497,y:6020.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:yQrLI5-5hhefKEza1uXKd",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"l",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNQt",typeName:"shape"},"shape:med5rfrZCIopxCgihFrC6":{x:-1208.6882858651497,y:6020.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:med5rfrZCIopxCgihFrC6",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"dotted",size:"l",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNR8",typeName:"shape"},"shape:0iIhU7AEtAIUmzBswTjGb":{x:-560.6882858651497,y:6020.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:0iIhU7AEtAIUmzBswTjGb",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"dotted",size:"l",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNRO",typeName:"shape"},"shape:N1zUhLzc88Sm77DvOnlQh":{x:87.31171413485026,y:6020.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:N1zUhLzc88Sm77DvOnlQh",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"dotted",size:"l",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNRd",typeName:"shape"},"shape:1ltAKAUVvZ0jR6rcD7mOM":{x:735.3117141348503,y:6020.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:1ltAKAUVvZ0jR6rcD7mOM",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"dotted",size:"l",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNRt",typeName:"shape"},"shape:GaOODLyvKrqarMxN_uGZW":{x:-1424.6882858651497,y:6843.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:GaOODLyvKrqarMxN_uGZW",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"l",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNU4",typeName:"shape"},"shape:7giTQ7tt44bllUfOS0Mfa":{x:-776.6882858651497,y:6843.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:7giTQ7tt44bllUfOS0Mfa",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"l",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNUC",typeName:"shape"},"shape:vvyYEBf9p39yvzGw7rYyZ":{x:-128.68828586514974,y:6843.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:vvyYEBf9p39yvzGw7rYyZ",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-red",labelColor:"black",fill:"none",dash:"solid",size:"l",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNUK",typeName:"shape"},"shape:XkkQkR0J5awFnaRWrU1Rp":{x:519.3117141348503,y:6843.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:XkkQkR0J5awFnaRWrU1Rp",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"red",labelColor:"black",fill:"none",dash:"solid",size:"l",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNUS",typeName:"shape"},"shape:ASHbHdiUcocpr6lpvpS_X":{x:1167.3117141348503,y:6843.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ASHbHdiUcocpr6lpvpS_X",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"l",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNUZ",typeName:"shape"},"shape:LRyr1viWxNIsAHH1oXGUs":{x:1815.3117141348503,y:6843.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:LRyr1viWxNIsAHH1oXGUs",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"l",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNUh",typeName:"shape"},"shape:PNsL2PSh1BOmD5UK1cveO":{x:2463.3117141348503,y:6843.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:PNsL2PSh1BOmD5UK1cveO",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"solid",size:"l",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNUp",typeName:"shape"},"shape:8pwXBp3Ln4Z5ljXbSKmJ6":{x:3111.3117141348503,y:6843.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:8pwXBp3Ln4Z5ljXbSKmJ6",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"solid",size:"l",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNUx",typeName:"shape"},"shape:tKQmpvg4RuTYj65ux5R-j":{x:1383.3117141348503,y:3989.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:tKQmpvg4RuTYj65ux5R-j",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"draw",size:"xl",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOH",typeName:"shape"},"shape:4BEmR6WWIDbKVIGXA0gd0":{x:2031.3117141348503,y:3989.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:4BEmR6WWIDbKVIGXA0gd0",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"draw",size:"xl",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOJ",typeName:"shape"},"shape:k-CA3zyPmGlidnNd6xKD8":{x:2679.3117141348503,y:3989.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:k-CA3zyPmGlidnNd6xKD8",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"xl",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOL",typeName:"shape"},"shape:9jPdK0Pdx9-528tmVQrDR":{x:3327.3117141348503,y:3989.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:9jPdK0Pdx9-528tmVQrDR",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"xl",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aON",typeName:"shape"},"shape:EmXR8lrmzVxH62pDE7rMB":{x:3975.3117141348503,y:3989.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:EmXR8lrmzVxH62pDE7rMB",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-red",labelColor:"black",fill:"solid",dash:"draw",size:"xl",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOP",typeName:"shape"},"shape:CAFGJvyatpfJySRl3iZec":{x:-1640.6882858651497,y:4205.020273028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:CAFGJvyatpfJySRl3iZec",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"red",labelColor:"black",fill:"solid",dash:"draw",size:"xl",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOR",typeName:"shape"},"shape:dx1806rcrfV7_dYULQJBA":{x:-992.6882858651497,y:4205.020273028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:dx1806rcrfV7_dYULQJBA",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"draw",size:"xl",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOT",typeName:"shape"},"shape:S_9GZI1KvBaehEbK7hSqd":{x:-344.68828586514974,y:4205.020273028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:S_9GZI1KvBaehEbK7hSqd",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"draw",size:"xl",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOUV",typeName:"shape"},"shape:tks88-AczAs3LMhCUnkm_":{x:1383.3117141348503,y:4999.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:tks88-AczAs3LMhCUnkm_",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"dashed",size:"xl",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOdV",typeName:"shape"},"shape:iykli_DM7Dg0LcE187W0O":{x:2031.3117141348503,y:4999.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:iykli_DM7Dg0LcE187W0O",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"dashed",size:"xl",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOeV",typeName:"shape"},"shape:Q_Dl6Hitz6vjeRYdgGE4n":{x:2679.3117141348503,y:4999.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Q_Dl6Hitz6vjeRYdgGE4n",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"xl",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOfV",typeName:"shape"},"shape:XTCK6KG7tnrBL5Tpee0SQ":{x:3327.3117141348503,y:4999.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:XTCK6KG7tnrBL5Tpee0SQ",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"xl",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOgV",typeName:"shape"},"shape:EuJooZ7k7xxFUsPJrgS0g":{x:3975.3117141348503,y:4999.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:EuJooZ7k7xxFUsPJrgS0g",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"dashed",size:"xl",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOhV",typeName:"shape"},"shape:0b4gDyf05xjhUeyzIlVNk":{x:-1640.6882858651497,y:5215.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:0b4gDyf05xjhUeyzIlVNk",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"dashed",size:"xl",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOiV",typeName:"shape"},"shape:tX3_evcc3iLQ-9k5VXjYO":{x:-992.6882858651497,y:5215.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:tX3_evcc3iLQ-9k5VXjYO",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-red",labelColor:"black",fill:"pattern",dash:"dashed",size:"xl",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOjV",typeName:"shape"},"shape:x5kiXOaVPUm_JO9KyI9IS":{x:-344.68828586514974,y:5215.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:x5kiXOaVPUm_JO9KyI9IS",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"red",labelColor:"black",fill:"pattern",dash:"dashed",size:"xl",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOkV",typeName:"shape"},"shape:RhPYIXLRZSPakgukVBPdv":{x:1383.3117141348503,y:6020.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:RhPYIXLRZSPakgukVBPdv",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"dotted",size:"xl",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOpG",typeName:"shape"},"shape:XrA20zYEbeJKyz81jnNnK":{x:2031.3117141348503,y:6020.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:XrA20zYEbeJKyz81jnNnK",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"dotted",size:"xl",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOpl",typeName:"shape"},"shape:W4M0cZbfaVLRBq40sNLkP":{x:2679.3117141348503,y:6020.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:W4M0cZbfaVLRBq40sNLkP",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"xl",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOqG",typeName:"shape"},"shape:MyuGnTJK82lO5Dl9Q1NVn":{x:3327.3117141348503,y:6020.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:MyuGnTJK82lO5Dl9Q1NVn",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"xl",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOql",typeName:"shape"},"shape:pDbZY1ZAHts_KOmHHQf8J":{x:3975.3117141348503,y:6020.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:pDbZY1ZAHts_KOmHHQf8J",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"dotted",size:"xl",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOrG",typeName:"shape"},"shape:uzf2t3MnpjoTrMm4tEsqV":{x:-1640.6882858651497,y:6236.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:uzf2t3MnpjoTrMm4tEsqV",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"dotted",size:"xl",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOrl",typeName:"shape"},"shape:rWIx-EvSx86j-75SqlydO":{x:-992.6882858651497,y:6236.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:rWIx-EvSx86j-75SqlydO",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"dotted",size:"xl",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOsG",typeName:"shape"},"shape:q6UMktf2T_u2MrxstFX3R":{x:-344.68828586514974,y:6236.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:q6UMktf2T_u2MrxstFX3R",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"dotted",size:"xl",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOsl",typeName:"shape"},"shape:L-Nb6CGhnZ1BDae-uUvwL":{x:3759.3117141348503,y:6843.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:L-Nb6CGhnZ1BDae-uUvwL",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-red",labelColor:"black",fill:"semi",dash:"solid",size:"xl",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOxG",typeName:"shape"},"shape:3r4gSu_Z98IB7rzErsmal":{x:-1856.6882858651497,y:7059.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:3r4gSu_Z98IB7rzErsmal",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"red",labelColor:"black",fill:"semi",dash:"solid",size:"xl",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOxl",typeName:"shape"},"shape:HOJw8Z9Jl6vXmnvuudTLe":{x:-1208.6882858651497,y:7059.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:HOJw8Z9Jl6vXmnvuudTLe",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"xl",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOyG",typeName:"shape"},"shape:h09lIyk-Z9sNyxmUreDUr":{x:-560.6882858651497,y:7059.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:h09lIyk-Z9sNyxmUreDUr",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"xl",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOyl",typeName:"shape"},"shape:hYsnTbLU7zt5D3NAJofmo":{x:87.31171413485026,y:7059.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:hYsnTbLU7zt5D3NAJofmo",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"xl",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOz8",typeName:"shape"},"shape:CZWVLx1DmUGNv-pljiGRi":{x:735.3117141348503,y:7059.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:CZWVLx1DmUGNv-pljiGRi",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"xl",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOzO",typeName:"shape"},"shape:eLAliCAVCgALxIhUu2v1v":{x:1383.3117141348503,y:7059.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:eLAliCAVCgALxIhUu2v1v",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"solid",size:"xl",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOzd",typeName:"shape"},"shape:xuKwDXTaknG6uaSvyoqfG":{x:2031.3117141348503,y:7059.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:xuKwDXTaknG6uaSvyoqfG",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"solid",size:"xl",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOzt",typeName:"shape"},"shape:iMEsy1t7nBwOmHw2EeuoK":{x:-1424.6882858651497,y:3557.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:iMEsy1t7nBwOmHw2EeuoK",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"draw",size:"s",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aL8l",typeName:"shape"},"shape:PqypMnzXhUlj2CHAqOyF5":{x:-776.6882858651497,y:3557.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:PqypMnzXhUlj2CHAqOyF5",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"draw",size:"s",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aL9l",typeName:"shape"},"shape:h36R6OURt011zAGIVQQVU":{x:-128.68828586514974,y:3557.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:h36R6OURt011zAGIVQQVU",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"s",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLAl",typeName:"shape"},"shape:O2kJm9Xmuvsm8kagRF7p-":{x:519.3117141348503,y:3557.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:O2kJm9Xmuvsm8kagRF7p-",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"s",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLBl",typeName:"shape"},"shape:5DTb3VWc5meaOXRLVO86n":{x:1167.3117141348503,y:3557.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:5DTb3VWc5meaOXRLVO86n",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"draw",size:"s",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLCl",typeName:"shape"},"shape:hBQgeEF-WUoTrobTWEjpX":{x:1815.3117141348503,y:3557.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:hBQgeEF-WUoTrobTWEjpX",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"draw",size:"s",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLDl",typeName:"shape"},"shape:CxJj3pi-jXyijokNjG6OE":{x:2463.3117141348503,y:3557.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:CxJj3pi-jXyijokNjG6OE",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"draw",size:"s",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLEl",typeName:"shape"},"shape:sBp7JyE1Xndg5NKnfUuer":{x:3111.3117141348503,y:3557.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:sBp7JyE1Xndg5NKnfUuer",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"draw",size:"s",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLFl",typeName:"shape"},"shape:nILwjDtsJyvBiA8QcyIbD":{x:-1424.6882858651497,y:4567.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:nILwjDtsJyvBiA8QcyIbD",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"dashed",size:"s",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLKO",typeName:"shape"},"shape:N7gV1rNQduNTeztJ4O9-N":{x:-776.6882858651497,y:4567.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:N7gV1rNQduNTeztJ4O9-N",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"dashed",size:"s",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLKt",typeName:"shape"},"shape:rjKAUSUWJ8wXLuup5cPKe":{x:-128.68828586514974,y:4567.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:rjKAUSUWJ8wXLuup5cPKe",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"s",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLLO",typeName:"shape"},"shape:R5aK-wpKu4B8ga1BWQHWZ":{x:519.3117141348503,y:4567.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:R5aK-wpKu4B8ga1BWQHWZ",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"s",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLLt",typeName:"shape"},"shape:TpLxTZl5SrmRqZMBCaheI":{x:1167.3117141348503,y:4567.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:TpLxTZl5SrmRqZMBCaheI",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"dashed",size:"s",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLMO",typeName:"shape"},"shape:53flWpbVZf1aas47bbmpH":{x:1815.3117141348503,y:4567.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:53flWpbVZf1aas47bbmpH",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"dashed",size:"s",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLMt",typeName:"shape"},"shape:J0tUZeC4xSEbdnCen1E3i":{x:2463.3117141348503,y:4567.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:J0tUZeC4xSEbdnCen1E3i",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"dashed",size:"s",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLNO",typeName:"shape"},"shape:LQz-Jxnm_2Xt9Wv6JjI5n":{x:3111.3117141348503,y:4567.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:LQz-Jxnm_2Xt9Wv6JjI5n",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"dashed",size:"s",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLNt",typeName:"shape"},"shape:FpbCrW7tG19D77-aLkprz":{x:-1424.6882858651497,y:5588.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:FpbCrW7tG19D77-aLkprz",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"dotted",size:"s",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLQC",typeName:"shape"},"shape:vjq_8nvBTTuZWx4z2-IPw":{x:-776.6882858651497,y:5588.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:vjq_8nvBTTuZWx4z2-IPw",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"dotted",size:"s",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLQS",typeName:"shape"},"shape:H6ZBpvUKeVHTmndFRQm-8":{x:-128.68828586514974,y:5588.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:H6ZBpvUKeVHTmndFRQm-8",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"s",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLQh",typeName:"shape"},"shape:m8cQYds5pAXsx06Q4vpiP":{x:519.3117141348503,y:5588.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:m8cQYds5pAXsx06Q4vpiP",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"s",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLQx",typeName:"shape"},"shape:bpF9NhEbmxSHPgEdOepx-":{x:1167.3117141348503,y:5588.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:bpF9NhEbmxSHPgEdOepx-",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"dotted",size:"s",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLRC",typeName:"shape"},"shape:Hehi75SDTq7VPNQGFIb02":{x:1815.3117141348503,y:5588.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Hehi75SDTq7VPNQGFIb02",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"dotted",size:"s",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLRS",typeName:"shape"},"shape:4C0Ki5uOlI_D0ehgUJgTS":{x:2463.3117141348503,y:5588.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:4C0Ki5uOlI_D0ehgUJgTS",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"dotted",size:"s",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLRh",typeName:"shape"},"shape:pRaGwo_kgCOtDejC-Vq4b":{x:3111.3117141348503,y:5588.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:pRaGwo_kgCOtDejC-Vq4b",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"dotted",size:"s",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLRx",typeName:"shape"},"shape:sRQpW8QaaPYIq-LrTI0lW":{x:-1424.6882858651497,y:6627.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:sRQpW8QaaPYIq-LrTI0lW",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"s",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLU6",typeName:"shape"},"shape:4WnqvwSafeSXsj6yG9tP-":{x:-776.6882858651497,y:6627.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:4WnqvwSafeSXsj6yG9tP-",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"s",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLUE",typeName:"shape"},"shape:lti2Nhs97NLp7KKFO6usj":{x:-128.68828586514974,y:6627.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:lti2Nhs97NLp7KKFO6usj",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"s",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLUM",typeName:"shape"},"shape:xQYu3oy8O7uZTrCzUdOUZ":{x:519.3117141348503,y:6627.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:xQYu3oy8O7uZTrCzUdOUZ",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"s",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLUU",typeName:"shape"},"shape:wr19ycPDtE3IjwJb27loQ":{x:1167.3117141348503,y:6627.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:wr19ycPDtE3IjwJb27loQ",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"s",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLUb",typeName:"shape"},"shape:c3XelNrICowevJVUhH4Uo":{x:1815.3117141348503,y:6627.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:c3XelNrICowevJVUhH4Uo",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"s",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLUj",typeName:"shape"},"shape:8iLPIOH9o6y3_s5M0diiY":{x:2463.3117141348503,y:6627.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:8iLPIOH9o6y3_s5M0diiY",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"solid",size:"s",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLUr",typeName:"shape"},"shape:WNbDgri4jp7B5RvejGz5n":{x:3111.3117141348503,y:6627.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:WNbDgri4jp7B5RvejGz5n",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"solid",size:"s",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLUz",typeName:"shape"},"shape:UfkryWuI7-k79FjsuN6Iv":{x:3759.3117141348503,y:3557.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:UfkryWuI7-k79FjsuN6Iv",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"draw",size:"m",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aM8l",typeName:"shape"},"shape:W2WkXeMUpmRF8ho0VSWBi":{x:-1856.6882858651497,y:3773.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:W2WkXeMUpmRF8ho0VSWBi",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"draw",size:"m",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aM9l",typeName:"shape"},"shape:kDM1Bkwiq_NPRnoF6HB_O":{x:-1208.6882858651497,y:3773.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:kDM1Bkwiq_NPRnoF6HB_O",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"m",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMAl",typeName:"shape"},"shape:2kUDZN2ANi0hZWkhdxKIs":{x:-560.6882858651497,y:3773.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:2kUDZN2ANi0hZWkhdxKIs",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"m",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMBl",typeName:"shape"},"shape:vRpFIm0f-9D00JPplmwec":{x:87.31171413485026,y:3773.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:vRpFIm0f-9D00JPplmwec",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"draw",size:"m",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMCl",typeName:"shape"},"shape:48HH5fjwO88ozJpeQ1ZV1":{x:735.3117141348503,y:3773.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:48HH5fjwO88ozJpeQ1ZV1",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"draw",size:"m",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMDl",typeName:"shape"},"shape:IY_R3WMj1xJR5_3IZ6J35":{x:1383.3117141348503,y:3773.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:IY_R3WMj1xJR5_3IZ6J35",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"draw",size:"m",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMEl",typeName:"shape"},"shape:0FfUt55mkpiBvhfgTb3a7":{x:2031.3117141348503,y:3773.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:0FfUt55mkpiBvhfgTb3a7",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"draw",size:"m",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMFl",typeName:"shape"},"shape:8Xn7d2cGAU6xyn75wP6aN":{x:3759.3117141348503,y:4567.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:8Xn7d2cGAU6xyn75wP6aN",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"dashed",size:"m",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMKO",typeName:"shape"},"shape:MPLAa6lLAB2ecW-Xv4jSi":{x:-1856.6882858651497,y:4783.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:MPLAa6lLAB2ecW-Xv4jSi",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"dashed",size:"m",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMKt",typeName:"shape"},"shape:nEyhGHt5ee3yp1WuSVJo2":{x:-1208.6882858651497,y:4783.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:nEyhGHt5ee3yp1WuSVJo2",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"m",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMLO",typeName:"shape"},"shape:DrKjWGFHEGgdKlRMFUD6X":{x:-560.6882858651497,y:4783.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:DrKjWGFHEGgdKlRMFUD6X",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"m",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMLt",typeName:"shape"},"shape:r6c5htwX6dg8UYOoNQF48":{x:87.31171413485026,y:4783.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:r6c5htwX6dg8UYOoNQF48",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"dashed",size:"m",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMMO",typeName:"shape"},"shape:yhqGCCX1O-SNtChDXK62J":{x:735.3117141348503,y:4783.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:yhqGCCX1O-SNtChDXK62J",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"dashed",size:"m",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMMt",typeName:"shape"},"shape:cxUZpHsWyWmlFyfIaCwPi":{x:1383.3117141348503,y:4783.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:cxUZpHsWyWmlFyfIaCwPi",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"dashed",size:"m",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMNO",typeName:"shape"},"shape:ANhF8Pn21M3wH64-JcpLI":{x:2031.3117141348503,y:4783.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ANhF8Pn21M3wH64-JcpLI",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"dashed",size:"m",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMNt",typeName:"shape"},"shape:S3C3egXganiVdmNTWSn36":{x:3759.3117141348503,y:5588.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:S3C3egXganiVdmNTWSn36",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"dotted",size:"m",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMQC",typeName:"shape"},"shape:H2e-IChsfnn_FRohJ-ygP":{x:-1856.6882858651497,y:5804.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:H2e-IChsfnn_FRohJ-ygP",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"dotted",size:"m",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMQS",typeName:"shape"},"shape:EISI_fHfbsIkhaAe511xd":{x:-1208.6882858651497,y:5804.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:EISI_fHfbsIkhaAe511xd",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"m",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMQh",typeName:"shape"},"shape:tzMuWh-n-vZv8fI8IQkMk":{x:-560.6882858651502,y:5804.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:tzMuWh-n-vZv8fI8IQkMk",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"m",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMQx",typeName:"shape"},"shape:WoLgf54ehK_uO5cBG-DId":{x:87.31171413485026,y:5804.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:WoLgf54ehK_uO5cBG-DId",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"dotted",size:"m",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMRC",typeName:"shape"},"shape:JT5btf-a0E_JbV5K46y8N":{x:735.3117141348503,y:5804.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:JT5btf-a0E_JbV5K46y8N",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"dotted",size:"m",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMRS",typeName:"shape"},"shape:ycxFgXN2fjYe3Jz-OHHNx":{x:1383.3117141348503,y:5804.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ycxFgXN2fjYe3Jz-OHHNx",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"dotted",size:"m",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMRh",typeName:"shape"},"shape:2mixRqmOOAwASOYhCEOsu":{x:2031.3117141348503,y:5804.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:2mixRqmOOAwASOYhCEOsu",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"dotted",size:"m",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMRx",typeName:"shape"},"shape:tFJv3TaDYt8O9-bHkowD6":{x:3759.3117141348503,y:6627.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:tFJv3TaDYt8O9-bHkowD6",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMU6",typeName:"shape"},"shape:7K-9y-WwPLVkDtYE7HK7k":{x:-1856.6882858651497,y:6843.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:7K-9y-WwPLVkDtYE7HK7k",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMUE",typeName:"shape"},"shape:dm46K-4Gp4iHdGbDh6mc1":{x:2895.3117141348503,y:7059.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:dm46K-4Gp4iHdGbDh6mc1",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMUM",typeName:"shape"},"shape:l703XYg6fEoyoQ1STlAZ0":{x:3543.3117141348503,y:7059.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:l703XYg6fEoyoQ1STlAZ0",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMUU",typeName:"shape"},"shape:KVbMR14v8DlynaxcTGUNR":{x:4191.31171413485,y:7059.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:KVbMR14v8DlynaxcTGUNR",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMUb",typeName:"shape"},"shape:6oQdIMOnIJ3aFwY8CEQBE":{x:-1424.6882858651497,y:7275.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:6oQdIMOnIJ3aFwY8CEQBE",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMUj",typeName:"shape"},"shape:DtwYJK5S7dhyzDyTZfBlr":{x:-776.6882858651497,y:7275.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:DtwYJK5S7dhyzDyTZfBlr",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"solid",size:"m",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMUr",typeName:"shape"},"shape:cd2qVbH1EplqNRpavYgC9":{x:-128.68828586514974,y:7275.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:cd2qVbH1EplqNRpavYgC9",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"solid",size:"m",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMUz",typeName:"shape"},"shape:NmxaEwMWJ6P8wcqMrM-1e":{x:2679.3117141348503,y:3773.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:NmxaEwMWJ6P8wcqMrM-1e",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"draw",size:"l",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aN8l",typeName:"shape"},"shape:BVPB0HdocR7W0wFNcTD3G":{x:3327.3117141348503,y:3773.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:BVPB0HdocR7W0wFNcTD3G",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"draw",size:"l",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aN9l",typeName:"shape"},"shape:1Id-NTXwnx26M2MAOAOB5":{x:3975.3117141348503,y:3773.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:1Id-NTXwnx26M2MAOAOB5",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"l",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNAl",typeName:"shape"},"shape:TVNQxFcWNlYa3eaxhD6Y_":{x:-1640.6882858651497,y:3989.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:TVNQxFcWNlYa3eaxhD6Y_",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"l",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNBl",typeName:"shape"},"shape:gN4bj2aY7rbdK4nbWJ2Ky":{x:-992.6882858651497,y:3989.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:gN4bj2aY7rbdK4nbWJ2Ky",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"draw",size:"l",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNCl",typeName:"shape"},"shape:fWcLS1d_ITYoBdxRe9tHb":{x:-344.68828586514974,y:3989.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:fWcLS1d_ITYoBdxRe9tHb",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"draw",size:"l",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNDl",typeName:"shape"},"shape:sIGWuLk4k9Oz6qUes0naj":{x:303.31171413485026,y:3989.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:sIGWuLk4k9Oz6qUes0naj",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"draw",size:"l",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNEl",typeName:"shape"},"shape:ZiMRjXj3T73rZ4Ojfdolx":{x:951.3117141348503,y:3989.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ZiMRjXj3T73rZ4Ojfdolx",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"draw",size:"l",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNFl",typeName:"shape"},"shape:tlRxv2NHGyxcSQ-2ICy5f":{x:2679.3117141348503,y:4783.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:tlRxv2NHGyxcSQ-2ICy5f",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"dashed",size:"l",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNKO",typeName:"shape"},"shape:Xy-N70tS6StK6qik0W1to":{x:3327.3117141348503,y:4783.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Xy-N70tS6StK6qik0W1to",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"dashed",size:"l",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNKt",typeName:"shape"},"shape:afnZMZGQ5SoRZ6JRWR75m":{x:3975.3117141348503,y:4783.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:afnZMZGQ5SoRZ6JRWR75m",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"l",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNLO",typeName:"shape"},"shape:DAAm7gXyNevINSWCmZEC1":{x:-1640.6882858651497,y:4999.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:DAAm7gXyNevINSWCmZEC1",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"l",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNLt",typeName:"shape"},"shape:2HfLOrcjMUAZdDoc1-Gu4":{x:-992.6882858651497,y:4999.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:2HfLOrcjMUAZdDoc1-Gu4",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"dashed",size:"l",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNMO",typeName:"shape"},"shape:AQhLY2NtoFLGlEsDPxUk7":{x:-344.68828586514974,y:4999.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:AQhLY2NtoFLGlEsDPxUk7",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"dashed",size:"l",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNMt",typeName:"shape"},"shape:bRv7l3avoZAGa3N6SBpTs":{x:303.31171413485026,y:4999.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:bRv7l3avoZAGa3N6SBpTs",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"dashed",size:"l",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNNO",typeName:"shape"},"shape:FMB3k0RcLuGeFgWRexrNW":{x:951.3117141348503,y:4999.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:FMB3k0RcLuGeFgWRexrNW",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"dashed",size:"l",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNNt",typeName:"shape"},"shape:ZzsE62xZKDFa42ItU-xGX":{x:2679.3117141348503,y:5804.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ZzsE62xZKDFa42ItU-xGX",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"dotted",size:"l",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNQC",typeName:"shape"},"shape:wHIquyahgpZltaD57D53O":{x:3327.3117141348503,y:5804.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:wHIquyahgpZltaD57D53O",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"dotted",size:"l",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNQS",typeName:"shape"},"shape:jhMaMxD5bluvf3UZLIVj7":{x:3975.3117141348503,y:5804.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:jhMaMxD5bluvf3UZLIVj7",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"l",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNQh",typeName:"shape"},"shape:Is-d--AIU0-yQjpJa5V4j":{x:-1640.6882858651497,y:6020.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Is-d--AIU0-yQjpJa5V4j",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"l",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNQx",typeName:"shape"},"shape:EaW2b9m24JKzx50oScpG1":{x:-992.6882858651497,y:6020.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:EaW2b9m24JKzx50oScpG1",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"dotted",size:"l",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNRC",typeName:"shape"},"shape:4tUhOAcHUOfM-PZn63LAl":{x:-344.68828586514974,y:6020.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:4tUhOAcHUOfM-PZn63LAl",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"dotted",size:"l",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNRS",typeName:"shape"},"shape:9e9L6qwMXQILLNX2WsjVK":{x:303.31171413485026,y:6020.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:9e9L6qwMXQILLNX2WsjVK",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"dotted",size:"l",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNRh",typeName:"shape"},"shape:iGeEqcfmKyN3X1_1bOGWy":{x:951.3117141348503,y:6020.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:iGeEqcfmKyN3X1_1bOGWy",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"dotted",size:"l",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNRx",typeName:"shape"},"shape:E8JGhdkY1Heds3vCO8sPG":{x:-1208.6882858651497,y:6843.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:E8JGhdkY1Heds3vCO8sPG",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"l",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNU6",typeName:"shape"},"shape:HD3QfjCGos3s-tetmRWsn":{x:-560.6882858651497,y:6843.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:HD3QfjCGos3s-tetmRWsn",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"l",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNUE",typeName:"shape"},"shape:a605gsGbUuGjM3V6Uwlo0":{x:87.31171413485026,y:6843.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:a605gsGbUuGjM3V6Uwlo0",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"l",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNUM",typeName:"shape"},"shape:9HTzOe_08F3R8AWXzG4a3":{x:735.3117141348503,y:6843.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:9HTzOe_08F3R8AWXzG4a3",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"l",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNUU",typeName:"shape"},"shape:6NCvjFt5dKKrxBTK4LLTO":{x:1383.3117141348503,y:6843.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:6NCvjFt5dKKrxBTK4LLTO",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"l",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNUb",typeName:"shape"},"shape:1cXZssJYCbso2mx6loPef":{x:2031.3117141348503,y:6843.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:1cXZssJYCbso2mx6loPef",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"l",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNUj",typeName:"shape"},"shape:bzC-KCsloM4uVzyNNfZ3B":{x:2679.3117141348503,y:6843.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:bzC-KCsloM4uVzyNNfZ3B",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"solid",size:"l",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNUr",typeName:"shape"},"shape:rNB1jIehPWJ1nxYQLQ-ke":{x:3327.3117141348503,y:6843.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:rNB1jIehPWJ1nxYQLQ-ke",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"solid",size:"l",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNUz",typeName:"shape"},"shape:wcJ3jqqxYzonKqbPk5rIq":{x:1599.3117141348503,y:3989.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:wcJ3jqqxYzonKqbPk5rIq",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"draw",size:"xl",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOHV",typeName:"shape"},"shape:3_tc9uzXsw4UqxmDLQQhA":{x:2247.3117141348503,y:3989.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:3_tc9uzXsw4UqxmDLQQhA",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"draw",size:"xl",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOJV",typeName:"shape"},"shape:D757kSYrio_E4vkaLKd5J":{x:2895.3117141348503,y:3989.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:D757kSYrio_E4vkaLKd5J",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"xl",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOLV",typeName:"shape"},"shape:opdSzf8xosCGLqOuCRA-d":{x:3543.3117141348503,y:3989.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:opdSzf8xosCGLqOuCRA-d",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"xl",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aONV",typeName:"shape"},"shape:pf7MRw4EEMS4ziWudXbA8":{x:4191.31171413485,y:3989.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:pf7MRw4EEMS4ziWudXbA8",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"draw",size:"xl",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOPV",typeName:"shape"},"shape:idXIw-DbkLH4-sG7VIo7n":{x:-1424.6882858651497,y:4205.020273028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:idXIw-DbkLH4-sG7VIo7n",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"draw",size:"xl",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aORV",typeName:"shape"},"shape:90Yj7bM6AznMMl6WyNfFf":{x:-776.6882858651497,y:4205.020273028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:90Yj7bM6AznMMl6WyNfFf",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"draw",size:"xl",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOTV",typeName:"shape"},"shape:lyyDa-6cFbTwF2gpZNgX5":{x:-128.68828586514974,y:4205.020273028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:lyyDa-6cFbTwF2gpZNgX5",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"draw",size:"xl",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOUl",typeName:"shape"},"shape:PhEYq6d24HiISTI-n-lFn":{x:1599.3117141348503,y:4999.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:PhEYq6d24HiISTI-n-lFn",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"dashed",size:"xl",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOdl",typeName:"shape"},"shape:gYKFnAlc4ZsWbLj6FkS0U":{x:2247.3117141348503,y:4999.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:gYKFnAlc4ZsWbLj6FkS0U",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"dashed",size:"xl",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOel",typeName:"shape"},"shape:95Nl5-cpSRzmlY6HFUf_1":{x:2895.3117141348503,y:4999.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:95Nl5-cpSRzmlY6HFUf_1",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"xl",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOfl",typeName:"shape"},"shape:VK0BcD3cGR_z3QV-Sg2bc":{x:3543.3117141348503,y:4999.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:VK0BcD3cGR_z3QV-Sg2bc",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"xl",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOgl",typeName:"shape"},"shape:JYuHXIwrKSbCn5Or8ADVP":{x:4191.31171413485,y:4999.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:JYuHXIwrKSbCn5Or8ADVP",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"dashed",size:"xl",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOhl",typeName:"shape"},"shape:KUfZ27HDgNVHpYOsgCp4m":{x:-1424.6882858651497,y:5215.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:KUfZ27HDgNVHpYOsgCp4m",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"dashed",size:"xl",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOil",typeName:"shape"},"shape:2FwBMz3DvDIacQQSso--v":{x:-776.6882858651497,y:5215.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:2FwBMz3DvDIacQQSso--v",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"dashed",size:"xl",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOjl",typeName:"shape"},"shape:VDVbk3-PzWpNrPeTkpn22":{x:-128.68828586514974,y:5215.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:VDVbk3-PzWpNrPeTkpn22",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"dashed",size:"xl",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOkl",typeName:"shape"},"shape:ZJs9j1bOAV-KqGfJimBR1":{x:1599.3117141348503,y:6020.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ZJs9j1bOAV-KqGfJimBR1",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"dotted",size:"xl",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOpO",typeName:"shape"},"shape:tjAVivm5mpDCu8W93C6Un":{x:2247.3117141348503,y:6020.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:tjAVivm5mpDCu8W93C6Un",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"dotted",size:"xl",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOpt",typeName:"shape"},"shape:gPlpsCNM-PJ9Nc6YS2ROo":{x:2895.3117141348503,y:6020.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:gPlpsCNM-PJ9Nc6YS2ROo",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"xl",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOqO",typeName:"shape"},"shape:7dW_SyKkSoEaj1jwBLtzE":{x:3543.3117141348503,y:6020.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:7dW_SyKkSoEaj1jwBLtzE",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"xl",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOqt",typeName:"shape"},"shape:Q9ufddMM8Nv2mOgBji0jg":{x:4191.31171413485,y:6020.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Q9ufddMM8Nv2mOgBji0jg",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"dotted",size:"xl",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOrO",typeName:"shape"},"shape:V98mg-v9L3fz62NHmq2SC":{x:-1424.6882858651497,y:6236.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:V98mg-v9L3fz62NHmq2SC",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"dotted",size:"xl",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOrt",typeName:"shape"},"shape:HxuCMh9T0x9zObozxdruV":{x:-776.6882858651497,y:6236.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:HxuCMh9T0x9zObozxdruV",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"dotted",size:"xl",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOsO",typeName:"shape"},"shape:imavkFmMpYh4FGQENCi-2":{x:-128.68828586514974,y:6236.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:imavkFmMpYh4FGQENCi-2",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"dotted",size:"xl",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOst",typeName:"shape"},"shape:p40AQnSEZVjtt5VBihnTQ":{x:3975.3117141348503,y:6843.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:p40AQnSEZVjtt5VBihnTQ",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"xl",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOxO",typeName:"shape"},"shape:UqEqTuRNwcMJenQ6Diyow":{x:-1640.6882858651497,y:7059.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:UqEqTuRNwcMJenQ6Diyow",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"xl",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOxt",typeName:"shape"},"shape:RtKIXffoJXvASSGVufH8F":{x:-992.6882858651497,y:7059.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:RtKIXffoJXvASSGVufH8F",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"xl",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOyO",typeName:"shape"},"shape:ziX5D2xoNB69uNeSwUOsv":{x:-344.68828586514974,y:7059.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ziX5D2xoNB69uNeSwUOsv",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"xl",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOyt",typeName:"shape"},"shape:EIdNQqbb9ZOj9d40DhYAO":{x:303.31171413485026,y:7059.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:EIdNQqbb9ZOj9d40DhYAO",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"xl",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOzC",typeName:"shape"},"shape:fGZBfxMjQo_oA-D_f-PMo":{x:951.3117141348503,y:7059.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:fGZBfxMjQo_oA-D_f-PMo",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"xl",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOzS",typeName:"shape"},"shape:HGXjbFXY5OS7a3hPB6NOx":{x:1599.3117141348503,y:7059.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:HGXjbFXY5OS7a3hPB6NOx",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"solid",size:"xl",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOzh",typeName:"shape"},"shape:jiB6Oc0H4crCCdp2yKNIp":{x:2247.3117141348503,y:7059.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:jiB6Oc0H4crCCdp2yKNIp",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"solid",size:"xl",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOzx",typeName:"shape"},"shape:E92zeAj65G8rqcyqakhb-":{x:2329.9059341913858,y:1465.533260559233,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:E92zeAj65G8rqcyqakhb-",type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:-.22,y:.23,z:.5},{x:.66,y:.46,z:.5},{x:5.05,y:.4,z:.5},{x:13.11,y:-.77,z:.5},{x:22.54,y:-3.4,z:.5},{x:30.92,y:-6.64,z:.5},{x:36.72,y:-10.32,z:.5},{x:39.12,y:-13.99,z:.5},{x:39.42,y:-17.26,z:.5},{x:38.29,y:-19.94,z:.5},{x:33.76,y:-21.69,z:.5},{x:25.82,y:-22.48,z:.5},{x:18.16,y:-22.64,z:.5},{x:12.74,y:-22.38,z:.5},{x:8.98,y:-20.16,z:.5},{x:8.19,y:-14.27,z:.5},{x:12.51,y:-4.22,z:.5},{x:18.89,y:7.38,z:.5},{x:23.71,y:18.54,z:.5},{x:26.33,y:28.93,z:.5},{x:25.65,y:39,z:.5},{x:21.14,y:47.08,z:.5},{x:14.6,y:51.59,z:.5},{x:8.09,y:54.3,z:.5},{x:3.33,y:54.96,z:.5},{x:1.46,y:52.43,z:.5},{x:2.71,y:45.19,z:.5},{x:13.83,y:33.13,z:.5},{x:35.4,y:19.51,z:.5},{x:56.33,y:8.61,z:.5},{x:73.67,y:-.36,z:.5},{x:85.3,y:-7.41,z:.5}]}],color:"black",fill:"none",dash:"draw",size:"s",isComplete:!0,isClosed:!1,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aw",typeName:"shape"},"shape:9-uE3oJexmD9ZJgBhdcih":{x:2420.7305339734053,y:1465.533260559233,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:9-uE3oJexmD9ZJgBhdcih",type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:-.22,y:.23,z:.5},{x:.66,y:.46,z:.5},{x:5.05,y:.4,z:.5},{x:13.11,y:-.77,z:.5},{x:22.54,y:-3.4,z:.5},{x:30.92,y:-6.64,z:.5},{x:36.72,y:-10.32,z:.5},{x:39.12,y:-13.99,z:.5},{x:39.42,y:-17.26,z:.5},{x:38.29,y:-19.94,z:.5},{x:33.76,y:-21.69,z:.5},{x:25.82,y:-22.48,z:.5},{x:18.16,y:-22.64,z:.5},{x:12.74,y:-22.38,z:.5},{x:8.98,y:-20.16,z:.5},{x:8.19,y:-14.27,z:.5},{x:12.51,y:-4.22,z:.5},{x:18.89,y:7.38,z:.5},{x:23.71,y:18.54,z:.5},{x:26.33,y:28.93,z:.5},{x:25.65,y:39,z:.5},{x:21.14,y:47.08,z:.5},{x:14.6,y:51.59,z:.5},{x:8.09,y:54.3,z:.5},{x:3.33,y:54.96,z:.5},{x:1.46,y:52.43,z:.5},{x:2.71,y:45.19,z:.5},{x:13.83,y:33.13,z:.5},{x:35.4,y:19.51,z:.5},{x:56.33,y:8.61,z:.5},{x:73.67,y:-.36,z:.5},{x:85.3,y:-7.41,z:.5}]}],color:"black",fill:"none",dash:"draw",size:"m",isComplete:!0,isClosed:!1,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"ax",typeName:"shape"},"shape:JVKh6nBGbvW-2XVt0OM8l":{x:2517.3871691727795,y:1465.533260559233,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:JVKh6nBGbvW-2XVt0OM8l",type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:-.22,y:.23,z:.5},{x:.66,y:.46,z:.5},{x:5.05,y:.4,z:.5},{x:13.11,y:-.77,z:.5},{x:22.54,y:-3.4,z:.5},{x:30.92,y:-6.64,z:.5},{x:36.72,y:-10.32,z:.5},{x:39.12,y:-13.99,z:.5},{x:39.42,y:-17.26,z:.5},{x:38.29,y:-19.94,z:.5},{x:33.76,y:-21.69,z:.5},{x:25.82,y:-22.48,z:.5},{x:18.16,y:-22.64,z:.5},{x:12.74,y:-22.38,z:.5},{x:8.98,y:-20.16,z:.5},{x:8.19,y:-14.27,z:.5},{x:12.51,y:-4.22,z:.5},{x:18.89,y:7.38,z:.5},{x:23.71,y:18.54,z:.5},{x:26.33,y:28.93,z:.5},{x:25.65,y:39,z:.5},{x:21.14,y:47.08,z:.5},{x:14.6,y:51.59,z:.5},{x:8.09,y:54.3,z:.5},{x:3.33,y:54.96,z:.5},{x:1.46,y:52.43,z:.5},{x:2.71,y:45.19,z:.5},{x:13.83,y:33.13,z:.5},{x:35.4,y:19.51,z:.5},{x:56.33,y:8.61,z:.5},{x:73.67,y:-.36,z:.5},{x:85.3,y:-7.41,z:.5}]}],color:"black",fill:"none",dash:"draw",size:"l",isComplete:!0,isClosed:!1,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"ay",typeName:"shape"},"shape:ighozSUdo75PFS6l7fjj5":{x:2615.4898880572136,y:1465.533260559233,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ighozSUdo75PFS6l7fjj5",type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:-.22,y:.23,z:.5},{x:.66,y:.46,z:.5},{x:5.05,y:.4,z:.5},{x:13.11,y:-.77,z:.5},{x:22.54,y:-3.4,z:.5},{x:30.92,y:-6.64,z:.5},{x:36.72,y:-10.32,z:.5},{x:39.12,y:-13.99,z:.5},{x:39.42,y:-17.26,z:.5},{x:38.29,y:-19.94,z:.5},{x:33.76,y:-21.69,z:.5},{x:25.82,y:-22.48,z:.5},{x:18.16,y:-22.64,z:.5},{x:12.74,y:-22.38,z:.5},{x:8.98,y:-20.16,z:.5},{x:8.19,y:-14.27,z:.5},{x:12.51,y:-4.22,z:.5},{x:18.89,y:7.38,z:.5},{x:23.71,y:18.54,z:.5},{x:26.33,y:28.93,z:.5},{x:25.65,y:39,z:.5},{x:21.14,y:47.08,z:.5},{x:14.6,y:51.59,z:.5},{x:8.09,y:54.3,z:.5},{x:3.33,y:54.96,z:.5},{x:1.46,y:52.43,z:.5},{x:2.71,y:45.19,z:.5},{x:13.83,y:33.13,z:.5},{x:35.4,y:19.51,z:.5},{x:56.33,y:8.61,z:.5},{x:73.67,y:-.36,z:.5},{x:85.3,y:-7.41,z:.5}]}],color:"black",fill:"none",dash:"draw",size:"xl",isComplete:!0,isClosed:!1,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"az",typeName:"shape"},"shape:p_xglRHg89YGZh1zrXRwU":{x:2329.9059341913858,y:1571.4606183805731,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:p_xglRHg89YGZh1zrXRwU",type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:-.22,y:.23,z:.5},{x:.66,y:.46,z:.5},{x:5.05,y:.4,z:.5},{x:13.11,y:-.77,z:.5},{x:22.54,y:-3.4,z:.5},{x:30.92,y:-6.64,z:.5},{x:36.72,y:-10.32,z:.5},{x:39.12,y:-13.99,z:.5},{x:39.42,y:-17.26,z:.5},{x:38.29,y:-19.94,z:.5},{x:33.76,y:-21.69,z:.5},{x:25.82,y:-22.48,z:.5},{x:18.16,y:-22.64,z:.5},{x:12.74,y:-22.38,z:.5},{x:8.98,y:-20.16,z:.5},{x:8.19,y:-14.27,z:.5},{x:12.51,y:-4.22,z:.5},{x:18.89,y:7.38,z:.5},{x:23.71,y:18.54,z:.5},{x:26.33,y:28.93,z:.5},{x:25.65,y:39,z:.5},{x:21.14,y:47.08,z:.5},{x:14.6,y:51.59,z:.5},{x:8.09,y:54.3,z:.5},{x:3.33,y:54.96,z:.5},{x:1.46,y:52.43,z:.5},{x:2.71,y:45.19,z:.5},{x:13.83,y:33.13,z:.5},{x:35.4,y:19.51,z:.5},{x:56.33,y:8.61,z:.5},{x:73.67,y:-.36,z:.5},{x:85.3,y:-7.41,z:.5}]}],color:"black",fill:"none",dash:"dashed",size:"s",isComplete:!0,isClosed:!1,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"awV",typeName:"shape"},"shape:Q3rxBLG5Z_6QDH22eeH59":{x:2420.7305339734053,y:1571.4606183805731,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Q3rxBLG5Z_6QDH22eeH59",type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:-.22,y:.23,z:.5},{x:.66,y:.46,z:.5},{x:5.05,y:.4,z:.5},{x:13.11,y:-.77,z:.5},{x:22.54,y:-3.4,z:.5},{x:30.92,y:-6.64,z:.5},{x:36.72,y:-10.32,z:.5},{x:39.12,y:-13.99,z:.5},{x:39.42,y:-17.26,z:.5},{x:38.29,y:-19.94,z:.5},{x:33.76,y:-21.69,z:.5},{x:25.82,y:-22.48,z:.5},{x:18.16,y:-22.64,z:.5},{x:12.74,y:-22.38,z:.5},{x:8.98,y:-20.16,z:.5},{x:8.19,y:-14.27,z:.5},{x:12.51,y:-4.22,z:.5},{x:18.89,y:7.38,z:.5},{x:23.71,y:18.54,z:.5},{x:26.33,y:28.93,z:.5},{x:25.65,y:39,z:.5},{x:21.14,y:47.08,z:.5},{x:14.6,y:51.59,z:.5},{x:8.09,y:54.3,z:.5},{x:3.33,y:54.96,z:.5},{x:1.46,y:52.43,z:.5},{x:2.71,y:45.19,z:.5},{x:13.83,y:33.13,z:.5},{x:35.4,y:19.51,z:.5},{x:56.33,y:8.61,z:.5},{x:73.67,y:-.36,z:.5},{x:85.3,y:-7.41,z:.5}]}],color:"black",fill:"none",dash:"dashed",size:"m",isComplete:!0,isClosed:!1,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"axV",typeName:"shape"},"shape:2_NasJS2y8tEsSEt0rvl_":{x:2517.3871691727795,y:1571.4606183805731,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:2_NasJS2y8tEsSEt0rvl_",type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:-.22,y:.23,z:.5},{x:.66,y:.46,z:.5},{x:5.05,y:.4,z:.5},{x:13.11,y:-.77,z:.5},{x:22.54,y:-3.4,z:.5},{x:30.92,y:-6.64,z:.5},{x:36.72,y:-10.32,z:.5},{x:39.12,y:-13.99,z:.5},{x:39.42,y:-17.26,z:.5},{x:38.29,y:-19.94,z:.5},{x:33.76,y:-21.69,z:.5},{x:25.82,y:-22.48,z:.5},{x:18.16,y:-22.64,z:.5},{x:12.74,y:-22.38,z:.5},{x:8.98,y:-20.16,z:.5},{x:8.19,y:-14.27,z:.5},{x:12.51,y:-4.22,z:.5},{x:18.89,y:7.38,z:.5},{x:23.71,y:18.54,z:.5},{x:26.33,y:28.93,z:.5},{x:25.65,y:39,z:.5},{x:21.14,y:47.08,z:.5},{x:14.6,y:51.59,z:.5},{x:8.09,y:54.3,z:.5},{x:3.33,y:54.96,z:.5},{x:1.46,y:52.43,z:.5},{x:2.71,y:45.19,z:.5},{x:13.83,y:33.13,z:.5},{x:35.4,y:19.51,z:.5},{x:56.33,y:8.61,z:.5},{x:73.67,y:-.36,z:.5},{x:85.3,y:-7.41,z:.5}]}],color:"black",fill:"none",dash:"dashed",size:"l",isComplete:!0,isClosed:!1,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"ayV",typeName:"shape"},"shape:ydcjp86LOdJVtKaQ6nB1s":{x:2615.4898880572136,y:1571.4606183805731,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ydcjp86LOdJVtKaQ6nB1s",type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:-.22,y:.23,z:.5},{x:.66,y:.46,z:.5},{x:5.05,y:.4,z:.5},{x:13.11,y:-.77,z:.5},{x:22.54,y:-3.4,z:.5},{x:30.92,y:-6.64,z:.5},{x:36.72,y:-10.32,z:.5},{x:39.12,y:-13.99,z:.5},{x:39.42,y:-17.26,z:.5},{x:38.29,y:-19.94,z:.5},{x:33.76,y:-21.69,z:.5},{x:25.82,y:-22.48,z:.5},{x:18.16,y:-22.64,z:.5},{x:12.74,y:-22.38,z:.5},{x:8.98,y:-20.16,z:.5},{x:8.19,y:-14.27,z:.5},{x:12.51,y:-4.22,z:.5},{x:18.89,y:7.38,z:.5},{x:23.71,y:18.54,z:.5},{x:26.33,y:28.93,z:.5},{x:25.65,y:39,z:.5},{x:21.14,y:47.08,z:.5},{x:14.6,y:51.59,z:.5},{x:8.09,y:54.3,z:.5},{x:3.33,y:54.96,z:.5},{x:1.46,y:52.43,z:.5},{x:2.71,y:45.19,z:.5},{x:13.83,y:33.13,z:.5},{x:35.4,y:19.51,z:.5},{x:56.33,y:8.61,z:.5},{x:73.67,y:-.36,z:.5},{x:85.3,y:-7.41,z:.5}]}],color:"black",fill:"none",dash:"dashed",size:"xl",isComplete:!0,isClosed:!1,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"b00",typeName:"shape"},"shape:BSlgoxhRiJx62ARe4Ihid":{x:2329.9059341913858,y:1674.2370251160928,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:BSlgoxhRiJx62ARe4Ihid",type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:-.22,y:.23,z:.5},{x:.66,y:.46,z:.5},{x:5.05,y:.4,z:.5},{x:13.11,y:-.77,z:.5},{x:22.54,y:-3.4,z:.5},{x:30.92,y:-6.64,z:.5},{x:36.72,y:-10.32,z:.5},{x:39.12,y:-13.99,z:.5},{x:39.42,y:-17.26,z:.5},{x:38.29,y:-19.94,z:.5},{x:33.76,y:-21.69,z:.5},{x:25.82,y:-22.48,z:.5},{x:18.16,y:-22.64,z:.5},{x:12.74,y:-22.38,z:.5},{x:8.98,y:-20.16,z:.5},{x:8.19,y:-14.27,z:.5},{x:12.51,y:-4.22,z:.5},{x:18.89,y:7.38,z:.5},{x:23.71,y:18.54,z:.5},{x:26.33,y:28.93,z:.5},{x:25.65,y:39,z:.5},{x:21.14,y:47.08,z:.5},{x:14.6,y:51.59,z:.5},{x:8.09,y:54.3,z:.5},{x:3.33,y:54.96,z:.5},{x:1.46,y:52.43,z:.5},{x:2.71,y:45.19,z:.5},{x:13.83,y:33.13,z:.5},{x:35.4,y:19.51,z:.5},{x:56.33,y:8.61,z:.5},{x:73.67,y:-.36,z:.5},{x:85.3,y:-7.41,z:.5}]}],color:"black",fill:"none",dash:"dotted",size:"s",isComplete:!0,isClosed:!1,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"awl",typeName:"shape"},"shape:DfIG-9msA6FsrFlgyQuFe":{x:2420.7305339734053,y:1674.2370251160928,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:DfIG-9msA6FsrFlgyQuFe",type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:-.22,y:.23,z:.5},{x:.66,y:.46,z:.5},{x:5.05,y:.4,z:.5},{x:13.11,y:-.77,z:.5},{x:22.54,y:-3.4,z:.5},{x:30.92,y:-6.64,z:.5},{x:36.72,y:-10.32,z:.5},{x:39.12,y:-13.99,z:.5},{x:39.42,y:-17.26,z:.5},{x:38.29,y:-19.94,z:.5},{x:33.76,y:-21.69,z:.5},{x:25.82,y:-22.48,z:.5},{x:18.16,y:-22.64,z:.5},{x:12.74,y:-22.38,z:.5},{x:8.98,y:-20.16,z:.5},{x:8.19,y:-14.27,z:.5},{x:12.51,y:-4.22,z:.5},{x:18.89,y:7.38,z:.5},{x:23.71,y:18.54,z:.5},{x:26.33,y:28.93,z:.5},{x:25.65,y:39,z:.5},{x:21.14,y:47.08,z:.5},{x:14.6,y:51.59,z:.5},{x:8.09,y:54.3,z:.5},{x:3.33,y:54.96,z:.5},{x:1.46,y:52.43,z:.5},{x:2.71,y:45.19,z:.5},{x:13.83,y:33.13,z:.5},{x:35.4,y:19.51,z:.5},{x:56.33,y:8.61,z:.5},{x:73.67,y:-.36,z:.5},{x:85.3,y:-7.41,z:.5}]}],color:"black",fill:"none",dash:"dotted",size:"m",isComplete:!0,isClosed:!1,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"axl",typeName:"shape"},"shape:37spm5Lt6S8ufWXCERuxB":{x:2517.3871691727795,y:1674.2370251160928,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:37spm5Lt6S8ufWXCERuxB",type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:-.22,y:.23,z:.5},{x:.66,y:.46,z:.5},{x:5.05,y:.4,z:.5},{x:13.11,y:-.77,z:.5},{x:22.54,y:-3.4,z:.5},{x:30.92,y:-6.64,z:.5},{x:36.72,y:-10.32,z:.5},{x:39.12,y:-13.99,z:.5},{x:39.42,y:-17.26,z:.5},{x:38.29,y:-19.94,z:.5},{x:33.76,y:-21.69,z:.5},{x:25.82,y:-22.48,z:.5},{x:18.16,y:-22.64,z:.5},{x:12.74,y:-22.38,z:.5},{x:8.98,y:-20.16,z:.5},{x:8.19,y:-14.27,z:.5},{x:12.51,y:-4.22,z:.5},{x:18.89,y:7.38,z:.5},{x:23.71,y:18.54,z:.5},{x:26.33,y:28.93,z:.5},{x:25.65,y:39,z:.5},{x:21.14,y:47.08,z:.5},{x:14.6,y:51.59,z:.5},{x:8.09,y:54.3,z:.5},{x:3.33,y:54.96,z:.5},{x:1.46,y:52.43,z:.5},{x:2.71,y:45.19,z:.5},{x:13.83,y:33.13,z:.5},{x:35.4,y:19.51,z:.5},{x:56.33,y:8.61,z:.5},{x:73.67,y:-.36,z:.5},{x:85.3,y:-7.41,z:.5}]}],color:"black",fill:"none",dash:"dotted",size:"l",isComplete:!0,isClosed:!1,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"ayl",typeName:"shape"},"shape:6yk1FbAKH3vDXi3H38pHq":{x:2615.4898880572136,y:1674.2370251160928,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:6yk1FbAKH3vDXi3H38pHq",type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:-.22,y:.23,z:.5},{x:.66,y:.46,z:.5},{x:5.05,y:.4,z:.5},{x:13.11,y:-.77,z:.5},{x:22.54,y:-3.4,z:.5},{x:30.92,y:-6.64,z:.5},{x:36.72,y:-10.32,z:.5},{x:39.12,y:-13.99,z:.5},{x:39.42,y:-17.26,z:.5},{x:38.29,y:-19.94,z:.5},{x:33.76,y:-21.69,z:.5},{x:25.82,y:-22.48,z:.5},{x:18.16,y:-22.64,z:.5},{x:12.74,y:-22.38,z:.5},{x:8.98,y:-20.16,z:.5},{x:8.19,y:-14.27,z:.5},{x:12.51,y:-4.22,z:.5},{x:18.89,y:7.38,z:.5},{x:23.71,y:18.54,z:.5},{x:26.33,y:28.93,z:.5},{x:25.65,y:39,z:.5},{x:21.14,y:47.08,z:.5},{x:14.6,y:51.59,z:.5},{x:8.09,y:54.3,z:.5},{x:3.33,y:54.96,z:.5},{x:1.46,y:52.43,z:.5},{x:2.71,y:45.19,z:.5},{x:13.83,y:33.13,z:.5},{x:35.4,y:19.51,z:.5},{x:56.33,y:8.61,z:.5},{x:73.67,y:-.36,z:.5},{x:85.3,y:-7.41,z:.5}]}],color:"black",fill:"none",dash:"dotted",size:"xl",isComplete:!0,isClosed:!1,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"b01",typeName:"shape"},"shape:R2Mkaotw-ROZOksPuoCoq":{x:2329.9059341913858,y:1779.132533021417,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:R2Mkaotw-ROZOksPuoCoq",type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:-.22,y:.23,z:.5},{x:.66,y:.46,z:.5},{x:5.05,y:.4,z:.5},{x:13.11,y:-.77,z:.5},{x:22.54,y:-3.4,z:.5},{x:30.92,y:-6.64,z:.5},{x:36.72,y:-10.32,z:.5},{x:39.12,y:-13.99,z:.5},{x:39.42,y:-17.26,z:.5},{x:38.29,y:-19.94,z:.5},{x:33.76,y:-21.69,z:.5},{x:25.82,y:-22.48,z:.5},{x:18.16,y:-22.64,z:.5},{x:12.74,y:-22.38,z:.5},{x:8.98,y:-20.16,z:.5},{x:8.19,y:-14.27,z:.5},{x:12.51,y:-4.22,z:.5},{x:18.89,y:7.38,z:.5},{x:23.71,y:18.54,z:.5},{x:26.33,y:28.93,z:.5},{x:25.65,y:39,z:.5},{x:21.14,y:47.08,z:.5},{x:14.6,y:51.59,z:.5},{x:8.09,y:54.3,z:.5},{x:3.33,y:54.96,z:.5},{x:1.46,y:52.43,z:.5},{x:2.71,y:45.19,z:.5},{x:13.83,y:33.13,z:.5},{x:35.4,y:19.51,z:.5},{x:56.33,y:8.61,z:.5},{x:73.67,y:-.36,z:.5},{x:85.3,y:-7.41,z:.5}]}],color:"black",fill:"none",dash:"solid",size:"s",isComplete:!0,isClosed:!1,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"awt",typeName:"shape"},"shape:4crhrHgtCGNQdXDbZrk0_":{x:2420.7305339734053,y:1779.132533021417,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:4crhrHgtCGNQdXDbZrk0_",type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:-.22,y:.23,z:.5},{x:.66,y:.46,z:.5},{x:5.05,y:.4,z:.5},{x:13.11,y:-.77,z:.5},{x:22.54,y:-3.4,z:.5},{x:30.92,y:-6.64,z:.5},{x:36.72,y:-10.32,z:.5},{x:39.12,y:-13.99,z:.5},{x:39.42,y:-17.26,z:.5},{x:38.29,y:-19.94,z:.5},{x:33.76,y:-21.69,z:.5},{x:25.82,y:-22.48,z:.5},{x:18.16,y:-22.64,z:.5},{x:12.74,y:-22.38,z:.5},{x:8.98,y:-20.16,z:.5},{x:8.19,y:-14.27,z:.5},{x:12.51,y:-4.22,z:.5},{x:18.89,y:7.38,z:.5},{x:23.71,y:18.54,z:.5},{x:26.33,y:28.93,z:.5},{x:25.65,y:39,z:.5},{x:21.14,y:47.08,z:.5},{x:14.6,y:51.59,z:.5},{x:8.09,y:54.3,z:.5},{x:3.33,y:54.96,z:.5},{x:1.46,y:52.43,z:.5},{x:2.71,y:45.19,z:.5},{x:13.83,y:33.13,z:.5},{x:35.4,y:19.51,z:.5},{x:56.33,y:8.61,z:.5},{x:73.67,y:-.36,z:.5},{x:85.3,y:-7.41,z:.5}]}],color:"black",fill:"none",dash:"solid",size:"m",isComplete:!0,isClosed:!1,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"axt",typeName:"shape"},"shape:D4ALUpOldnSXExscTCEaF":{x:2517.3871691727795,y:1779.132533021417,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:D4ALUpOldnSXExscTCEaF",type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:-.22,y:.23,z:.5},{x:.66,y:.46,z:.5},{x:5.05,y:.4,z:.5},{x:13.11,y:-.77,z:.5},{x:22.54,y:-3.4,z:.5},{x:30.92,y:-6.64,z:.5},{x:36.72,y:-10.32,z:.5},{x:39.12,y:-13.99,z:.5},{x:39.42,y:-17.26,z:.5},{x:38.29,y:-19.94,z:.5},{x:33.76,y:-21.69,z:.5},{x:25.82,y:-22.48,z:.5},{x:18.16,y:-22.64,z:.5},{x:12.74,y:-22.38,z:.5},{x:8.98,y:-20.16,z:.5},{x:8.19,y:-14.27,z:.5},{x:12.51,y:-4.22,z:.5},{x:18.89,y:7.38,z:.5},{x:23.71,y:18.54,z:.5},{x:26.33,y:28.93,z:.5},{x:25.65,y:39,z:.5},{x:21.14,y:47.08,z:.5},{x:14.6,y:51.59,z:.5},{x:8.09,y:54.3,z:.5},{x:3.33,y:54.96,z:.5},{x:1.46,y:52.43,z:.5},{x:2.71,y:45.19,z:.5},{x:13.83,y:33.13,z:.5},{x:35.4,y:19.51,z:.5},{x:56.33,y:8.61,z:.5},{x:73.67,y:-.36,z:.5},{x:85.3,y:-7.41,z:.5}]}],color:"black",fill:"none",dash:"solid",size:"l",isComplete:!0,isClosed:!1,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"ayt",typeName:"shape"},"shape:gCUK5BZjwUre0SKfyFIlT":{x:2615.4898880572136,y:1779.132533021417,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:gCUK5BZjwUre0SKfyFIlT",type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:-.22,y:.23,z:.5},{x:.66,y:.46,z:.5},{x:5.05,y:.4,z:.5},{x:13.11,y:-.77,z:.5},{x:22.54,y:-3.4,z:.5},{x:30.92,y:-6.64,z:.5},{x:36.72,y:-10.32,z:.5},{x:39.12,y:-13.99,z:.5},{x:39.42,y:-17.26,z:.5},{x:38.29,y:-19.94,z:.5},{x:33.76,y:-21.69,z:.5},{x:25.82,y:-22.48,z:.5},{x:18.16,y:-22.64,z:.5},{x:12.74,y:-22.38,z:.5},{x:8.98,y:-20.16,z:.5},{x:8.19,y:-14.27,z:.5},{x:12.51,y:-4.22,z:.5},{x:18.89,y:7.38,z:.5},{x:23.71,y:18.54,z:.5},{x:26.33,y:28.93,z:.5},{x:25.65,y:39,z:.5},{x:21.14,y:47.08,z:.5},{x:14.6,y:51.59,z:.5},{x:8.09,y:54.3,z:.5},{x:3.33,y:54.96,z:.5},{x:1.46,y:52.43,z:.5},{x:2.71,y:45.19,z:.5},{x:13.83,y:33.13,z:.5},{x:35.4,y:19.51,z:.5},{x:56.33,y:8.61,z:.5},{x:73.67,y:-.36,z:.5},{x:85.3,y:-7.41,z:.5}]}],color:"black",fill:"none",dash:"solid",size:"xl",isComplete:!0,isClosed:!1,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"b02",typeName:"shape"},"shape:prX0ec6A16p8nxA0GlwIW":{x:2371.7005741023604,y:1868.3630634213816,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:prX0ec6A16p8nxA0GlwIW",type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:-1.09,y:.55,z:.5},{x:-2.2,y:1.6,z:.5},{x:-4.7,y:4.58,z:.5},{x:-9.4,y:10.28,z:.5},{x:-15.89,y:17.94,z:.5},{x:-23.71,y:26.94,z:.5},{x:-31.63,y:37.22,z:.5},{x:-37.9,y:47.13,z:.5},{x:-41.7,y:54.97,z:.5},{x:-43.52,y:61.22,z:.5},{x:-44.22,y:67.12,z:.5},{x:-44.34,y:72.27,z:.5},{x:-43.8,y:76.56,z:.5},{x:-41.58,y:80.35,z:.5},{x:-37.96,y:83.17,z:.5},{x:-32.49,y:84.73,z:.5},{x:-23.23,y:85.21,z:.5},{x:-12,y:81.92,z:.5},{x:-1.29,y:74.63,z:.5},{x:9.2,y:66.22,z:.5},{x:19.47,y:57.14,z:.5},{x:28.07,y:47.85,z:.5},{x:34.14,y:39.18,z:.5},{x:37.97,y:31.85,z:.5},{x:40.24,y:24.85,z:.5},{x:41.52,y:18.29,z:.5},{x:41.98,y:12.72,z:.5},{x:42.06,y:6.91,z:.5},{x:41.33,y:1.17,z:.5},{x:39.74,y:-3.28,z:.5},{x:37.96,y:-6.48,z:.5},{x:35.98,y:-9.12,z:.5},{x:33.73,y:-11.14,z:.5},{x:31.44,y:-12.48,z:.5},{x:28.79,y:-13.51,z:.5},{x:25.92,y:-14.1,z:.5},{x:23.49,y:-14.23,z:.5},{x:21.01,y:-14.23,z:.5},{x:18.23,y:-14.23,z:.5},{x:15.27,y:-14.04,z:.5},{x:12.23,y:-13.53,z:.5},{x:9.61,y:-12.94,z:.5},{x:7.68,y:-12.3,z:.5},{x:6.18,y:-11.52,z:.5},{x:5.02,y:-10.78,z:.5},{x:4.03,y:-10.07,z:.5},{x:3.11,y:-9.41,z:.5},{x:2.28,y:-8.89,z:.5},{x:1.54,y:-8.46,z:.5},{x:1.05,y:-8.1,z:.5},{x:.7,y:-7.75,z:.5},{x:.43,y:-7.39,z:.5},{x:.25,y:-7.04,z:.5},{x:.12,y:-6.74,z:.5},{x:.04,y:-6.48,z:.5},{x:0,y:-6.28,z:.5},{x:.07,y:-6.21,z:.5},{x:.31,y:-6.21,z:.5}]}],color:"black",fill:"none",dash:"solid",size:"s",isComplete:!0,isClosed:!0,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"b03",typeName:"shape"},"shape:nZSvit8zimVYilSTclTPI":{x:2464.1897523970865,y:1868.3630634213816,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:nZSvit8zimVYilSTclTPI",type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:-1.09,y:.55,z:.5},{x:-2.2,y:1.6,z:.5},{x:-4.7,y:4.58,z:.5},{x:-9.4,y:10.28,z:.5},{x:-15.89,y:17.94,z:.5},{x:-23.71,y:26.94,z:.5},{x:-31.63,y:37.22,z:.5},{x:-37.9,y:47.13,z:.5},{x:-41.7,y:54.97,z:.5},{x:-43.52,y:61.22,z:.5},{x:-44.22,y:67.12,z:.5},{x:-44.34,y:72.27,z:.5},{x:-43.8,y:76.56,z:.5},{x:-41.58,y:80.35,z:.5},{x:-37.96,y:83.17,z:.5},{x:-32.49,y:84.73,z:.5},{x:-23.23,y:85.21,z:.5},{x:-12,y:81.92,z:.5},{x:-1.29,y:74.63,z:.5},{x:9.2,y:66.22,z:.5},{x:19.47,y:57.14,z:.5},{x:28.07,y:47.85,z:.5},{x:34.14,y:39.18,z:.5},{x:37.97,y:31.85,z:.5},{x:40.24,y:24.85,z:.5},{x:41.52,y:18.29,z:.5},{x:41.98,y:12.72,z:.5},{x:42.06,y:6.91,z:.5},{x:41.33,y:1.17,z:.5},{x:39.74,y:-3.28,z:.5},{x:37.96,y:-6.48,z:.5},{x:35.98,y:-9.12,z:.5},{x:33.73,y:-11.14,z:.5},{x:31.44,y:-12.48,z:.5},{x:28.79,y:-13.51,z:.5},{x:25.92,y:-14.1,z:.5},{x:23.49,y:-14.23,z:.5},{x:21.01,y:-14.23,z:.5},{x:18.23,y:-14.23,z:.5},{x:15.27,y:-14.04,z:.5},{x:12.23,y:-13.53,z:.5},{x:9.61,y:-12.94,z:.5},{x:7.68,y:-12.3,z:.5},{x:6.18,y:-11.52,z:.5},{x:5.02,y:-10.78,z:.5},{x:4.03,y:-10.07,z:.5},{x:3.11,y:-9.41,z:.5},{x:2.28,y:-8.89,z:.5},{x:1.54,y:-8.46,z:.5},{x:1.05,y:-8.1,z:.5},{x:.7,y:-7.75,z:.5},{x:.43,y:-7.39,z:.5},{x:.25,y:-7.04,z:.5},{x:.12,y:-6.74,z:.5},{x:.04,y:-6.48,z:.5},{x:0,y:-6.28,z:.5},{x:.07,y:-6.21,z:.5},{x:.31,y:-6.21,z:.5}]}],color:"black",fill:"semi",dash:"solid",size:"s",isComplete:!0,isClosed:!0,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"b04",typeName:"shape"},"shape:1hmS9Aq6LDGFlGjFOum0Z":{x:2559.0540010591035,y:1868.3630634213816,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:1hmS9Aq6LDGFlGjFOum0Z",type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:-1.09,y:.55,z:.5},{x:-2.2,y:1.6,z:.5},{x:-4.7,y:4.58,z:.5},{x:-9.4,y:10.28,z:.5},{x:-15.89,y:17.94,z:.5},{x:-23.71,y:26.94,z:.5},{x:-31.63,y:37.22,z:.5},{x:-37.9,y:47.13,z:.5},{x:-41.7,y:54.97,z:.5},{x:-43.52,y:61.22,z:.5},{x:-44.22,y:67.12,z:.5},{x:-44.34,y:72.27,z:.5},{x:-43.8,y:76.56,z:.5},{x:-41.58,y:80.35,z:.5},{x:-37.96,y:83.17,z:.5},{x:-32.49,y:84.73,z:.5},{x:-23.23,y:85.21,z:.5},{x:-12,y:81.92,z:.5},{x:-1.29,y:74.63,z:.5},{x:9.2,y:66.22,z:.5},{x:19.47,y:57.14,z:.5},{x:28.07,y:47.85,z:.5},{x:34.14,y:39.18,z:.5},{x:37.97,y:31.85,z:.5},{x:40.24,y:24.85,z:.5},{x:41.52,y:18.29,z:.5},{x:41.98,y:12.72,z:.5},{x:42.06,y:6.91,z:.5},{x:41.33,y:1.17,z:.5},{x:39.74,y:-3.28,z:.5},{x:37.96,y:-6.48,z:.5},{x:35.98,y:-9.12,z:.5},{x:33.73,y:-11.14,z:.5},{x:31.44,y:-12.48,z:.5},{x:28.79,y:-13.51,z:.5},{x:25.92,y:-14.1,z:.5},{x:23.49,y:-14.23,z:.5},{x:21.01,y:-14.23,z:.5},{x:18.23,y:-14.23,z:.5},{x:15.27,y:-14.04,z:.5},{x:12.23,y:-13.53,z:.5},{x:9.61,y:-12.94,z:.5},{x:7.68,y:-12.3,z:.5},{x:6.18,y:-11.52,z:.5},{x:5.02,y:-10.78,z:.5},{x:4.03,y:-10.07,z:.5},{x:3.11,y:-9.41,z:.5},{x:2.28,y:-8.89,z:.5},{x:1.54,y:-8.46,z:.5},{x:1.05,y:-8.1,z:.5},{x:.7,y:-7.75,z:.5},{x:.43,y:-7.39,z:.5},{x:.25,y:-7.04,z:.5},{x:.12,y:-6.74,z:.5},{x:.04,y:-6.48,z:.5},{x:0,y:-6.28,z:.5},{x:.07,y:-6.21,z:.5},{x:.31,y:-6.21,z:.5}]}],color:"black",fill:"solid",dash:"solid",size:"s",isComplete:!0,isClosed:!0,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"b05",typeName:"shape"},"shape:_-f5Yc-UEp_T47UCgwm86":{x:2655.430321132026,y:1868.3630634213816,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:_-f5Yc-UEp_T47UCgwm86",type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:-1.09,y:.55,z:.5},{x:-2.2,y:1.6,z:.5},{x:-4.7,y:4.58,z:.5},{x:-9.4,y:10.28,z:.5},{x:-15.89,y:17.94,z:.5},{x:-23.71,y:26.94,z:.5},{x:-31.63,y:37.22,z:.5},{x:-37.9,y:47.13,z:.5},{x:-41.7,y:54.97,z:.5},{x:-43.52,y:61.22,z:.5},{x:-44.22,y:67.12,z:.5},{x:-44.34,y:72.27,z:.5},{x:-43.8,y:76.56,z:.5},{x:-41.58,y:80.35,z:.5},{x:-37.96,y:83.17,z:.5},{x:-32.49,y:84.73,z:.5},{x:-23.23,y:85.21,z:.5},{x:-12,y:81.92,z:.5},{x:-1.29,y:74.63,z:.5},{x:9.2,y:66.22,z:.5},{x:19.47,y:57.14,z:.5},{x:28.07,y:47.85,z:.5},{x:34.14,y:39.18,z:.5},{x:37.97,y:31.85,z:.5},{x:40.24,y:24.85,z:.5},{x:41.52,y:18.29,z:.5},{x:41.98,y:12.72,z:.5},{x:42.06,y:6.91,z:.5},{x:41.33,y:1.17,z:.5},{x:39.74,y:-3.28,z:.5},{x:37.96,y:-6.48,z:.5},{x:35.98,y:-9.12,z:.5},{x:33.73,y:-11.14,z:.5},{x:31.44,y:-12.48,z:.5},{x:28.79,y:-13.51,z:.5},{x:25.92,y:-14.1,z:.5},{x:23.49,y:-14.23,z:.5},{x:21.01,y:-14.23,z:.5},{x:18.23,y:-14.23,z:.5},{x:15.27,y:-14.04,z:.5},{x:12.23,y:-13.53,z:.5},{x:9.61,y:-12.94,z:.5},{x:7.68,y:-12.3,z:.5},{x:6.18,y:-11.52,z:.5},{x:5.02,y:-10.78,z:.5},{x:4.03,y:-10.07,z:.5},{x:3.11,y:-9.41,z:.5},{x:2.28,y:-8.89,z:.5},{x:1.54,y:-8.46,z:.5},{x:1.05,y:-8.1,z:.5},{x:.7,y:-7.75,z:.5},{x:.43,y:-7.39,z:.5},{x:.25,y:-7.04,z:.5},{x:.12,y:-6.74,z:.5},{x:.04,y:-6.48,z:.5},{x:0,y:-6.28,z:.5},{x:.07,y:-6.21,z:.5},{x:.31,y:-6.21,z:.5}]}],color:"black",fill:"pattern",dash:"solid",size:"s",isComplete:!0,isClosed:!0,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"b06",typeName:"shape"},"shape:T_f9L7UntgXD_dgtr6NCG":{x:2371.7005741023604,y:1914.1336108884768,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:T_f9L7UntgXD_dgtr6NCG",type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:-1.09,y:.55,z:.5},{x:-2.2,y:1.6,z:.5},{x:-4.7,y:4.58,z:.5},{x:-9.4,y:10.28,z:.5},{x:-15.89,y:17.94,z:.5},{x:-23.71,y:26.94,z:.5},{x:-31.63,y:37.22,z:.5},{x:-37.9,y:47.13,z:.5},{x:-41.7,y:54.97,z:.5},{x:-43.52,y:61.22,z:.5},{x:-44.22,y:67.12,z:.5},{x:-44.34,y:72.27,z:.5},{x:-43.8,y:76.56,z:.5},{x:-41.58,y:80.35,z:.5},{x:-37.96,y:83.17,z:.5},{x:-32.49,y:84.73,z:.5},{x:-23.23,y:85.21,z:.5},{x:-12,y:81.92,z:.5},{x:-1.29,y:74.63,z:.5},{x:9.2,y:66.22,z:.5},{x:19.47,y:57.14,z:.5},{x:28.07,y:47.85,z:.5},{x:34.14,y:39.18,z:.5},{x:37.97,y:31.85,z:.5},{x:40.24,y:24.85,z:.5},{x:41.52,y:18.29,z:.5},{x:41.98,y:12.72,z:.5},{x:42.06,y:6.91,z:.5},{x:41.33,y:1.17,z:.5},{x:39.74,y:-3.28,z:.5},{x:37.96,y:-6.48,z:.5},{x:35.98,y:-9.12,z:.5},{x:33.73,y:-11.14,z:.5},{x:31.44,y:-12.48,z:.5},{x:28.79,y:-13.51,z:.5},{x:25.92,y:-14.1,z:.5},{x:23.49,y:-14.23,z:.5},{x:21.01,y:-14.23,z:.5},{x:18.23,y:-14.23,z:.5},{x:15.27,y:-14.04,z:.5},{x:12.23,y:-13.53,z:.5},{x:9.61,y:-12.94,z:.5},{x:7.68,y:-12.3,z:.5},{x:6.18,y:-11.52,z:.5},{x:5.02,y:-10.78,z:.5},{x:4.03,y:-10.07,z:.5},{x:3.11,y:-9.41,z:.5},{x:2.28,y:-8.89,z:.5},{x:1.54,y:-8.46,z:.5},{x:1.05,y:-8.1,z:.5},{x:.7,y:-7.75,z:.5},{x:.43,y:-7.39,z:.5},{x:.25,y:-7.04,z:.5},{x:.12,y:-6.74,z:.5},{x:.04,y:-6.48,z:.5},{x:0,y:-6.28,z:.5},{x:.07,y:-6.21,z:.5},{x:.31,y:-6.21,z:.5}]}],color:"black",fill:"none",dash:"solid",size:"m",isComplete:!0,isClosed:!0,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"b03V",typeName:"shape"},"shape:C1U1bxZKtLObaO858xsXk":{x:2464.1897523970865,y:1914.1336108884768,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:C1U1bxZKtLObaO858xsXk",type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:-1.09,y:.55,z:.5},{x:-2.2,y:1.6,z:.5},{x:-4.7,y:4.58,z:.5},{x:-9.4,y:10.28,z:.5},{x:-15.89,y:17.94,z:.5},{x:-23.71,y:26.94,z:.5},{x:-31.63,y:37.22,z:.5},{x:-37.9,y:47.13,z:.5},{x:-41.7,y:54.97,z:.5},{x:-43.52,y:61.22,z:.5},{x:-44.22,y:67.12,z:.5},{x:-44.34,y:72.27,z:.5},{x:-43.8,y:76.56,z:.5},{x:-41.58,y:80.35,z:.5},{x:-37.96,y:83.17,z:.5},{x:-32.49,y:84.73,z:.5},{x:-23.23,y:85.21,z:.5},{x:-12,y:81.92,z:.5},{x:-1.29,y:74.63,z:.5},{x:9.2,y:66.22,z:.5},{x:19.47,y:57.14,z:.5},{x:28.07,y:47.85,z:.5},{x:34.14,y:39.18,z:.5},{x:37.97,y:31.85,z:.5},{x:40.24,y:24.85,z:.5},{x:41.52,y:18.29,z:.5},{x:41.98,y:12.72,z:.5},{x:42.06,y:6.91,z:.5},{x:41.33,y:1.17,z:.5},{x:39.74,y:-3.28,z:.5},{x:37.96,y:-6.48,z:.5},{x:35.98,y:-9.12,z:.5},{x:33.73,y:-11.14,z:.5},{x:31.44,y:-12.48,z:.5},{x:28.79,y:-13.51,z:.5},{x:25.92,y:-14.1,z:.5},{x:23.49,y:-14.23,z:.5},{x:21.01,y:-14.23,z:.5},{x:18.23,y:-14.23,z:.5},{x:15.27,y:-14.04,z:.5},{x:12.23,y:-13.53,z:.5},{x:9.61,y:-12.94,z:.5},{x:7.68,y:-12.3,z:.5},{x:6.18,y:-11.52,z:.5},{x:5.02,y:-10.78,z:.5},{x:4.03,y:-10.07,z:.5},{x:3.11,y:-9.41,z:.5},{x:2.28,y:-8.89,z:.5},{x:1.54,y:-8.46,z:.5},{x:1.05,y:-8.1,z:.5},{x:.7,y:-7.75,z:.5},{x:.43,y:-7.39,z:.5},{x:.25,y:-7.04,z:.5},{x:.12,y:-6.74,z:.5},{x:.04,y:-6.48,z:.5},{x:0,y:-6.28,z:.5},{x:.07,y:-6.21,z:.5},{x:.31,y:-6.21,z:.5}]}],color:"black",fill:"semi",dash:"solid",size:"m",isComplete:!0,isClosed:!0,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"b04V",typeName:"shape"},"shape:YdIE_dlzusds2HX7xdyMa":{x:2559.0540010591035,y:1914.1336108884768,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:YdIE_dlzusds2HX7xdyMa",type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:-1.09,y:.55,z:.5},{x:-2.2,y:1.6,z:.5},{x:-4.7,y:4.58,z:.5},{x:-9.4,y:10.28,z:.5},{x:-15.89,y:17.94,z:.5},{x:-23.71,y:26.94,z:.5},{x:-31.63,y:37.22,z:.5},{x:-37.9,y:47.13,z:.5},{x:-41.7,y:54.97,z:.5},{x:-43.52,y:61.22,z:.5},{x:-44.22,y:67.12,z:.5},{x:-44.34,y:72.27,z:.5},{x:-43.8,y:76.56,z:.5},{x:-41.58,y:80.35,z:.5},{x:-37.96,y:83.17,z:.5},{x:-32.49,y:84.73,z:.5},{x:-23.23,y:85.21,z:.5},{x:-12,y:81.92,z:.5},{x:-1.29,y:74.63,z:.5},{x:9.2,y:66.22,z:.5},{x:19.47,y:57.14,z:.5},{x:28.07,y:47.85,z:.5},{x:34.14,y:39.18,z:.5},{x:37.97,y:31.85,z:.5},{x:40.24,y:24.85,z:.5},{x:41.52,y:18.29,z:.5},{x:41.98,y:12.72,z:.5},{x:42.06,y:6.91,z:.5},{x:41.33,y:1.17,z:.5},{x:39.74,y:-3.28,z:.5},{x:37.96,y:-6.48,z:.5},{x:35.98,y:-9.12,z:.5},{x:33.73,y:-11.14,z:.5},{x:31.44,y:-12.48,z:.5},{x:28.79,y:-13.51,z:.5},{x:25.92,y:-14.1,z:.5},{x:23.49,y:-14.23,z:.5},{x:21.01,y:-14.23,z:.5},{x:18.23,y:-14.23,z:.5},{x:15.27,y:-14.04,z:.5},{x:12.23,y:-13.53,z:.5},{x:9.61,y:-12.94,z:.5},{x:7.68,y:-12.3,z:.5},{x:6.18,y:-11.52,z:.5},{x:5.02,y:-10.78,z:.5},{x:4.03,y:-10.07,z:.5},{x:3.11,y:-9.41,z:.5},{x:2.28,y:-8.89,z:.5},{x:1.54,y:-8.46,z:.5},{x:1.05,y:-8.1,z:.5},{x:.7,y:-7.75,z:.5},{x:.43,y:-7.39,z:.5},{x:.25,y:-7.04,z:.5},{x:.12,y:-6.74,z:.5},{x:.04,y:-6.48,z:.5},{x:0,y:-6.28,z:.5},{x:.07,y:-6.21,z:.5},{x:.31,y:-6.21,z:.5}]}],color:"black",fill:"solid",dash:"solid",size:"m",isComplete:!0,isClosed:!0,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"b05V",typeName:"shape"},"shape:pHA9CQdWmeGqBkUW9lVHm":{x:2655.430321132026,y:1914.1336108884768,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:pHA9CQdWmeGqBkUW9lVHm",type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:-1.09,y:.55,z:.5},{x:-2.2,y:1.6,z:.5},{x:-4.7,y:4.58,z:.5},{x:-9.4,y:10.28,z:.5},{x:-15.89,y:17.94,z:.5},{x:-23.71,y:26.94,z:.5},{x:-31.63,y:37.22,z:.5},{x:-37.9,y:47.13,z:.5},{x:-41.7,y:54.97,z:.5},{x:-43.52,y:61.22,z:.5},{x:-44.22,y:67.12,z:.5},{x:-44.34,y:72.27,z:.5},{x:-43.8,y:76.56,z:.5},{x:-41.58,y:80.35,z:.5},{x:-37.96,y:83.17,z:.5},{x:-32.49,y:84.73,z:.5},{x:-23.23,y:85.21,z:.5},{x:-12,y:81.92,z:.5},{x:-1.29,y:74.63,z:.5},{x:9.2,y:66.22,z:.5},{x:19.47,y:57.14,z:.5},{x:28.07,y:47.85,z:.5},{x:34.14,y:39.18,z:.5},{x:37.97,y:31.85,z:.5},{x:40.24,y:24.85,z:.5},{x:41.52,y:18.29,z:.5},{x:41.98,y:12.72,z:.5},{x:42.06,y:6.91,z:.5},{x:41.33,y:1.17,z:.5},{x:39.74,y:-3.28,z:.5},{x:37.96,y:-6.48,z:.5},{x:35.98,y:-9.12,z:.5},{x:33.73,y:-11.14,z:.5},{x:31.44,y:-12.48,z:.5},{x:28.79,y:-13.51,z:.5},{x:25.92,y:-14.1,z:.5},{x:23.49,y:-14.23,z:.5},{x:21.01,y:-14.23,z:.5},{x:18.23,y:-14.23,z:.5},{x:15.27,y:-14.04,z:.5},{x:12.23,y:-13.53,z:.5},{x:9.61,y:-12.94,z:.5},{x:7.68,y:-12.3,z:.5},{x:6.18,y:-11.52,z:.5},{x:5.02,y:-10.78,z:.5},{x:4.03,y:-10.07,z:.5},{x:3.11,y:-9.41,z:.5},{x:2.28,y:-8.89,z:.5},{x:1.54,y:-8.46,z:.5},{x:1.05,y:-8.1,z:.5},{x:.7,y:-7.75,z:.5},{x:.43,y:-7.39,z:.5},{x:.25,y:-7.04,z:.5},{x:.12,y:-6.74,z:.5},{x:.04,y:-6.48,z:.5},{x:0,y:-6.28,z:.5},{x:.07,y:-6.21,z:.5},{x:.31,y:-6.21,z:.5}]}],color:"black",fill:"pattern",dash:"solid",size:"m",isComplete:!0,isClosed:!0,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"b07",typeName:"shape"},"shape:cTwbmvg0PYO6EfAykIiOa":{x:2371.7005741023604,y:1957.8232369283446,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:cTwbmvg0PYO6EfAykIiOa",type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:-1.09,y:.55,z:.5},{x:-2.2,y:1.6,z:.5},{x:-4.7,y:4.58,z:.5},{x:-9.4,y:10.28,z:.5},{x:-15.89,y:17.94,z:.5},{x:-23.71,y:26.94,z:.5},{x:-31.63,y:37.22,z:.5},{x:-37.9,y:47.13,z:.5},{x:-41.7,y:54.97,z:.5},{x:-43.52,y:61.22,z:.5},{x:-44.22,y:67.12,z:.5},{x:-44.34,y:72.27,z:.5},{x:-43.8,y:76.56,z:.5},{x:-41.58,y:80.35,z:.5},{x:-37.96,y:83.17,z:.5},{x:-32.49,y:84.73,z:.5},{x:-23.23,y:85.21,z:.5},{x:-12,y:81.92,z:.5},{x:-1.29,y:74.63,z:.5},{x:9.2,y:66.22,z:.5},{x:19.47,y:57.14,z:.5},{x:28.07,y:47.85,z:.5},{x:34.14,y:39.18,z:.5},{x:37.97,y:31.85,z:.5},{x:40.24,y:24.85,z:.5},{x:41.52,y:18.29,z:.5},{x:41.98,y:12.72,z:.5},{x:42.06,y:6.91,z:.5},{x:41.33,y:1.17,z:.5},{x:39.74,y:-3.28,z:.5},{x:37.96,y:-6.48,z:.5},{x:35.98,y:-9.12,z:.5},{x:33.73,y:-11.14,z:.5},{x:31.44,y:-12.48,z:.5},{x:28.79,y:-13.51,z:.5},{x:25.92,y:-14.1,z:.5},{x:23.49,y:-14.23,z:.5},{x:21.01,y:-14.23,z:.5},{x:18.23,y:-14.23,z:.5},{x:15.27,y:-14.04,z:.5},{x:12.23,y:-13.53,z:.5},{x:9.61,y:-12.94,z:.5},{x:7.68,y:-12.3,z:.5},{x:6.18,y:-11.52,z:.5},{x:5.02,y:-10.78,z:.5},{x:4.03,y:-10.07,z:.5},{x:3.11,y:-9.41,z:.5},{x:2.28,y:-8.89,z:.5},{x:1.54,y:-8.46,z:.5},{x:1.05,y:-8.1,z:.5},{x:.7,y:-7.75,z:.5},{x:.43,y:-7.39,z:.5},{x:.25,y:-7.04,z:.5},{x:.12,y:-6.74,z:.5},{x:.04,y:-6.48,z:.5},{x:0,y:-6.28,z:.5},{x:.07,y:-6.21,z:.5},{x:.31,y:-6.21,z:.5}]}],color:"black",fill:"none",dash:"solid",size:"l",isComplete:!0,isClosed:!0,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"b03l",typeName:"shape"},"shape:XXBAbC2nq_sFsowVIAJjs":{x:2464.1897523970865,y:1957.8232369283446,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:XXBAbC2nq_sFsowVIAJjs",type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:-1.09,y:.55,z:.5},{x:-2.2,y:1.6,z:.5},{x:-4.7,y:4.58,z:.5},{x:-9.4,y:10.28,z:.5},{x:-15.89,y:17.94,z:.5},{x:-23.71,y:26.94,z:.5},{x:-31.63,y:37.22,z:.5},{x:-37.9,y:47.13,z:.5},{x:-41.7,y:54.97,z:.5},{x:-43.52,y:61.22,z:.5},{x:-44.22,y:67.12,z:.5},{x:-44.34,y:72.27,z:.5},{x:-43.8,y:76.56,z:.5},{x:-41.58,y:80.35,z:.5},{x:-37.96,y:83.17,z:.5},{x:-32.49,y:84.73,z:.5},{x:-23.23,y:85.21,z:.5},{x:-12,y:81.92,z:.5},{x:-1.29,y:74.63,z:.5},{x:9.2,y:66.22,z:.5},{x:19.47,y:57.14,z:.5},{x:28.07,y:47.85,z:.5},{x:34.14,y:39.18,z:.5},{x:37.97,y:31.85,z:.5},{x:40.24,y:24.85,z:.5},{x:41.52,y:18.29,z:.5},{x:41.98,y:12.72,z:.5},{x:42.06,y:6.91,z:.5},{x:41.33,y:1.17,z:.5},{x:39.74,y:-3.28,z:.5},{x:37.96,y:-6.48,z:.5},{x:35.98,y:-9.12,z:.5},{x:33.73,y:-11.14,z:.5},{x:31.44,y:-12.48,z:.5},{x:28.79,y:-13.51,z:.5},{x:25.92,y:-14.1,z:.5},{x:23.49,y:-14.23,z:.5},{x:21.01,y:-14.23,z:.5},{x:18.23,y:-14.23,z:.5},{x:15.27,y:-14.04,z:.5},{x:12.23,y:-13.53,z:.5},{x:9.61,y:-12.94,z:.5},{x:7.68,y:-12.3,z:.5},{x:6.18,y:-11.52,z:.5},{x:5.02,y:-10.78,z:.5},{x:4.03,y:-10.07,z:.5},{x:3.11,y:-9.41,z:.5},{x:2.28,y:-8.89,z:.5},{x:1.54,y:-8.46,z:.5},{x:1.05,y:-8.1,z:.5},{x:.7,y:-7.75,z:.5},{x:.43,y:-7.39,z:.5},{x:.25,y:-7.04,z:.5},{x:.12,y:-6.74,z:.5},{x:.04,y:-6.48,z:.5},{x:0,y:-6.28,z:.5},{x:.07,y:-6.21,z:.5},{x:.31,y:-6.21,z:.5}]}],color:"black",fill:"semi",dash:"solid",size:"l",isComplete:!0,isClosed:!0,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"b04l",typeName:"shape"},"shape:VgY67SQ6pzJ7ppJuK5mp2":{x:2559.0540010591035,y:1957.8232369283446,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:VgY67SQ6pzJ7ppJuK5mp2",type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:-1.09,y:.55,z:.5},{x:-2.2,y:1.6,z:.5},{x:-4.7,y:4.58,z:.5},{x:-9.4,y:10.28,z:.5},{x:-15.89,y:17.94,z:.5},{x:-23.71,y:26.94,z:.5},{x:-31.63,y:37.22,z:.5},{x:-37.9,y:47.13,z:.5},{x:-41.7,y:54.97,z:.5},{x:-43.52,y:61.22,z:.5},{x:-44.22,y:67.12,z:.5},{x:-44.34,y:72.27,z:.5},{x:-43.8,y:76.56,z:.5},{x:-41.58,y:80.35,z:.5},{x:-37.96,y:83.17,z:.5},{x:-32.49,y:84.73,z:.5},{x:-23.23,y:85.21,z:.5},{x:-12,y:81.92,z:.5},{x:-1.29,y:74.63,z:.5},{x:9.2,y:66.22,z:.5},{x:19.47,y:57.14,z:.5},{x:28.07,y:47.85,z:.5},{x:34.14,y:39.18,z:.5},{x:37.97,y:31.85,z:.5},{x:40.24,y:24.85,z:.5},{x:41.52,y:18.29,z:.5},{x:41.98,y:12.72,z:.5},{x:42.06,y:6.91,z:.5},{x:41.33,y:1.17,z:.5},{x:39.74,y:-3.28,z:.5},{x:37.96,y:-6.48,z:.5},{x:35.98,y:-9.12,z:.5},{x:33.73,y:-11.14,z:.5},{x:31.44,y:-12.48,z:.5},{x:28.79,y:-13.51,z:.5},{x:25.92,y:-14.1,z:.5},{x:23.49,y:-14.23,z:.5},{x:21.01,y:-14.23,z:.5},{x:18.23,y:-14.23,z:.5},{x:15.27,y:-14.04,z:.5},{x:12.23,y:-13.53,z:.5},{x:9.61,y:-12.94,z:.5},{x:7.68,y:-12.3,z:.5},{x:6.18,y:-11.52,z:.5},{x:5.02,y:-10.78,z:.5},{x:4.03,y:-10.07,z:.5},{x:3.11,y:-9.41,z:.5},{x:2.28,y:-8.89,z:.5},{x:1.54,y:-8.46,z:.5},{x:1.05,y:-8.1,z:.5},{x:.7,y:-7.75,z:.5},{x:.43,y:-7.39,z:.5},{x:.25,y:-7.04,z:.5},{x:.12,y:-6.74,z:.5},{x:.04,y:-6.48,z:.5},{x:0,y:-6.28,z:.5},{x:.07,y:-6.21,z:.5},{x:.31,y:-6.21,z:.5}]}],color:"black",fill:"solid",dash:"solid",size:"l",isComplete:!0,isClosed:!0,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"b05l",typeName:"shape"},"shape:HE3Tbyn7cl8gyKpyrWTuB":{x:2655.430321132026,y:1957.8232369283446,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:HE3Tbyn7cl8gyKpyrWTuB",type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:-1.09,y:.55,z:.5},{x:-2.2,y:1.6,z:.5},{x:-4.7,y:4.58,z:.5},{x:-9.4,y:10.28,z:.5},{x:-15.89,y:17.94,z:.5},{x:-23.71,y:26.94,z:.5},{x:-31.63,y:37.22,z:.5},{x:-37.9,y:47.13,z:.5},{x:-41.7,y:54.97,z:.5},{x:-43.52,y:61.22,z:.5},{x:-44.22,y:67.12,z:.5},{x:-44.34,y:72.27,z:.5},{x:-43.8,y:76.56,z:.5},{x:-41.58,y:80.35,z:.5},{x:-37.96,y:83.17,z:.5},{x:-32.49,y:84.73,z:.5},{x:-23.23,y:85.21,z:.5},{x:-12,y:81.92,z:.5},{x:-1.29,y:74.63,z:.5},{x:9.2,y:66.22,z:.5},{x:19.47,y:57.14,z:.5},{x:28.07,y:47.85,z:.5},{x:34.14,y:39.18,z:.5},{x:37.97,y:31.85,z:.5},{x:40.24,y:24.85,z:.5},{x:41.52,y:18.29,z:.5},{x:41.98,y:12.72,z:.5},{x:42.06,y:6.91,z:.5},{x:41.33,y:1.17,z:.5},{x:39.74,y:-3.28,z:.5},{x:37.96,y:-6.48,z:.5},{x:35.98,y:-9.12,z:.5},{x:33.73,y:-11.14,z:.5},{x:31.44,y:-12.48,z:.5},{x:28.79,y:-13.51,z:.5},{x:25.92,y:-14.1,z:.5},{x:23.49,y:-14.23,z:.5},{x:21.01,y:-14.23,z:.5},{x:18.23,y:-14.23,z:.5},{x:15.27,y:-14.04,z:.5},{x:12.23,y:-13.53,z:.5},{x:9.61,y:-12.94,z:.5},{x:7.68,y:-12.3,z:.5},{x:6.18,y:-11.52,z:.5},{x:5.02,y:-10.78,z:.5},{x:4.03,y:-10.07,z:.5},{x:3.11,y:-9.41,z:.5},{x:2.28,y:-8.89,z:.5},{x:1.54,y:-8.46,z:.5},{x:1.05,y:-8.1,z:.5},{x:.7,y:-7.75,z:.5},{x:.43,y:-7.39,z:.5},{x:.25,y:-7.04,z:.5},{x:.12,y:-6.74,z:.5},{x:.04,y:-6.48,z:.5},{x:0,y:-6.28,z:.5},{x:.07,y:-6.21,z:.5},{x:.31,y:-6.21,z:.5}]}],color:"black",fill:"pattern",dash:"solid",size:"l",isComplete:!0,isClosed:!0,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"b08",typeName:"shape"},"shape:yv9STg2dkP41U1MLrSGNs":{x:2371.7005741023604,y:2002.7332164220306,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:yv9STg2dkP41U1MLrSGNs",type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:-1.09,y:.55,z:.5},{x:-2.2,y:1.6,z:.5},{x:-4.7,y:4.58,z:.5},{x:-9.4,y:10.28,z:.5},{x:-15.89,y:17.94,z:.5},{x:-23.71,y:26.94,z:.5},{x:-31.63,y:37.22,z:.5},{x:-37.9,y:47.13,z:.5},{x:-41.7,y:54.97,z:.5},{x:-43.52,y:61.22,z:.5},{x:-44.22,y:67.12,z:.5},{x:-44.34,y:72.27,z:.5},{x:-43.8,y:76.56,z:.5},{x:-41.58,y:80.35,z:.5},{x:-37.96,y:83.17,z:.5},{x:-32.49,y:84.73,z:.5},{x:-23.23,y:85.21,z:.5},{x:-12,y:81.92,z:.5},{x:-1.29,y:74.63,z:.5},{x:9.2,y:66.22,z:.5},{x:19.47,y:57.14,z:.5},{x:28.07,y:47.85,z:.5},{x:34.14,y:39.18,z:.5},{x:37.97,y:31.85,z:.5},{x:40.24,y:24.85,z:.5},{x:41.52,y:18.29,z:.5},{x:41.98,y:12.72,z:.5},{x:42.06,y:6.91,z:.5},{x:41.33,y:1.17,z:.5},{x:39.74,y:-3.28,z:.5},{x:37.96,y:-6.48,z:.5},{x:35.98,y:-9.12,z:.5},{x:33.73,y:-11.14,z:.5},{x:31.44,y:-12.48,z:.5},{x:28.79,y:-13.51,z:.5},{x:25.92,y:-14.1,z:.5},{x:23.49,y:-14.23,z:.5},{x:21.01,y:-14.23,z:.5},{x:18.23,y:-14.23,z:.5},{x:15.27,y:-14.04,z:.5},{x:12.23,y:-13.53,z:.5},{x:9.61,y:-12.94,z:.5},{x:7.68,y:-12.3,z:.5},{x:6.18,y:-11.52,z:.5},{x:5.02,y:-10.78,z:.5},{x:4.03,y:-10.07,z:.5},{x:3.11,y:-9.41,z:.5},{x:2.28,y:-8.89,z:.5},{x:1.54,y:-8.46,z:.5},{x:1.05,y:-8.1,z:.5},{x:.7,y:-7.75,z:.5},{x:.43,y:-7.39,z:.5},{x:.25,y:-7.04,z:.5},{x:.12,y:-6.74,z:.5},{x:.04,y:-6.48,z:.5},{x:0,y:-6.28,z:.5},{x:.07,y:-6.21,z:.5},{x:.31,y:-6.21,z:.5}]}],color:"black",fill:"none",dash:"solid",size:"xl",isComplete:!0,isClosed:!0,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"b03t",typeName:"shape"},"shape:D-P0DiUIoul0ycV4JUXLv":{x:2464.1897523970865,y:2002.7332164220306,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:D-P0DiUIoul0ycV4JUXLv",type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:-1.09,y:.55,z:.5},{x:-2.2,y:1.6,z:.5},{x:-4.7,y:4.58,z:.5},{x:-9.4,y:10.28,z:.5},{x:-15.89,y:17.94,z:.5},{x:-23.71,y:26.94,z:.5},{x:-31.63,y:37.22,z:.5},{x:-37.9,y:47.13,z:.5},{x:-41.7,y:54.97,z:.5},{x:-43.52,y:61.22,z:.5},{x:-44.22,y:67.12,z:.5},{x:-44.34,y:72.27,z:.5},{x:-43.8,y:76.56,z:.5},{x:-41.58,y:80.35,z:.5},{x:-37.96,y:83.17,z:.5},{x:-32.49,y:84.73,z:.5},{x:-23.23,y:85.21,z:.5},{x:-12,y:81.92,z:.5},{x:-1.29,y:74.63,z:.5},{x:9.2,y:66.22,z:.5},{x:19.47,y:57.14,z:.5},{x:28.07,y:47.85,z:.5},{x:34.14,y:39.18,z:.5},{x:37.97,y:31.85,z:.5},{x:40.24,y:24.85,z:.5},{x:41.52,y:18.29,z:.5},{x:41.98,y:12.72,z:.5},{x:42.06,y:6.91,z:.5},{x:41.33,y:1.17,z:.5},{x:39.74,y:-3.28,z:.5},{x:37.96,y:-6.48,z:.5},{x:35.98,y:-9.12,z:.5},{x:33.73,y:-11.14,z:.5},{x:31.44,y:-12.48,z:.5},{x:28.79,y:-13.51,z:.5},{x:25.92,y:-14.1,z:.5},{x:23.49,y:-14.23,z:.5},{x:21.01,y:-14.23,z:.5},{x:18.23,y:-14.23,z:.5},{x:15.27,y:-14.04,z:.5},{x:12.23,y:-13.53,z:.5},{x:9.61,y:-12.94,z:.5},{x:7.68,y:-12.3,z:.5},{x:6.18,y:-11.52,z:.5},{x:5.02,y:-10.78,z:.5},{x:4.03,y:-10.07,z:.5},{x:3.11,y:-9.41,z:.5},{x:2.28,y:-8.89,z:.5},{x:1.54,y:-8.46,z:.5},{x:1.05,y:-8.1,z:.5},{x:.7,y:-7.75,z:.5},{x:.43,y:-7.39,z:.5},{x:.25,y:-7.04,z:.5},{x:.12,y:-6.74,z:.5},{x:.04,y:-6.48,z:.5},{x:0,y:-6.28,z:.5},{x:.07,y:-6.21,z:.5},{x:.31,y:-6.21,z:.5}]}],color:"black",fill:"semi",dash:"solid",size:"xl",isComplete:!0,isClosed:!0,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"b04t",typeName:"shape"},"shape:VBOX4so4RrjUud7FdPjRU":{x:2559.0540010591035,y:2002.7332164220306,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:VBOX4so4RrjUud7FdPjRU",type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:-1.09,y:.55,z:.5},{x:-2.2,y:1.6,z:.5},{x:-4.7,y:4.58,z:.5},{x:-9.4,y:10.28,z:.5},{x:-15.89,y:17.94,z:.5},{x:-23.71,y:26.94,z:.5},{x:-31.63,y:37.22,z:.5},{x:-37.9,y:47.13,z:.5},{x:-41.7,y:54.97,z:.5},{x:-43.52,y:61.22,z:.5},{x:-44.22,y:67.12,z:.5},{x:-44.34,y:72.27,z:.5},{x:-43.8,y:76.56,z:.5},{x:-41.58,y:80.35,z:.5},{x:-37.96,y:83.17,z:.5},{x:-32.49,y:84.73,z:.5},{x:-23.23,y:85.21,z:.5},{x:-12,y:81.92,z:.5},{x:-1.29,y:74.63,z:.5},{x:9.2,y:66.22,z:.5},{x:19.47,y:57.14,z:.5},{x:28.07,y:47.85,z:.5},{x:34.14,y:39.18,z:.5},{x:37.97,y:31.85,z:.5},{x:40.24,y:24.85,z:.5},{x:41.52,y:18.29,z:.5},{x:41.98,y:12.72,z:.5},{x:42.06,y:6.91,z:.5},{x:41.33,y:1.17,z:.5},{x:39.74,y:-3.28,z:.5},{x:37.96,y:-6.48,z:.5},{x:35.98,y:-9.12,z:.5},{x:33.73,y:-11.14,z:.5},{x:31.44,y:-12.48,z:.5},{x:28.79,y:-13.51,z:.5},{x:25.92,y:-14.1,z:.5},{x:23.49,y:-14.23,z:.5},{x:21.01,y:-14.23,z:.5},{x:18.23,y:-14.23,z:.5},{x:15.27,y:-14.04,z:.5},{x:12.23,y:-13.53,z:.5},{x:9.61,y:-12.94,z:.5},{x:7.68,y:-12.3,z:.5},{x:6.18,y:-11.52,z:.5},{x:5.02,y:-10.78,z:.5},{x:4.03,y:-10.07,z:.5},{x:3.11,y:-9.41,z:.5},{x:2.28,y:-8.89,z:.5},{x:1.54,y:-8.46,z:.5},{x:1.05,y:-8.1,z:.5},{x:.7,y:-7.75,z:.5},{x:.43,y:-7.39,z:.5},{x:.25,y:-7.04,z:.5},{x:.12,y:-6.74,z:.5},{x:.04,y:-6.48,z:.5},{x:0,y:-6.28,z:.5},{x:.07,y:-6.21,z:.5},{x:.31,y:-6.21,z:.5}]}],color:"black",fill:"solid",dash:"solid",size:"xl",isComplete:!0,isClosed:!0,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"b05t",typeName:"shape"},"shape:IJJBtrltM_yFT87eP3oFN":{x:2655.430321132026,y:2002.7332164220306,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:IJJBtrltM_yFT87eP3oFN",type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:-1.09,y:.55,z:.5},{x:-2.2,y:1.6,z:.5},{x:-4.7,y:4.58,z:.5},{x:-9.4,y:10.28,z:.5},{x:-15.89,y:17.94,z:.5},{x:-23.71,y:26.94,z:.5},{x:-31.63,y:37.22,z:.5},{x:-37.9,y:47.13,z:.5},{x:-41.7,y:54.97,z:.5},{x:-43.52,y:61.22,z:.5},{x:-44.22,y:67.12,z:.5},{x:-44.34,y:72.27,z:.5},{x:-43.8,y:76.56,z:.5},{x:-41.58,y:80.35,z:.5},{x:-37.96,y:83.17,z:.5},{x:-32.49,y:84.73,z:.5},{x:-23.23,y:85.21,z:.5},{x:-12,y:81.92,z:.5},{x:-1.29,y:74.63,z:.5},{x:9.2,y:66.22,z:.5},{x:19.47,y:57.14,z:.5},{x:28.07,y:47.85,z:.5},{x:34.14,y:39.18,z:.5},{x:37.97,y:31.85,z:.5},{x:40.24,y:24.85,z:.5},{x:41.52,y:18.29,z:.5},{x:41.98,y:12.72,z:.5},{x:42.06,y:6.91,z:.5},{x:41.33,y:1.17,z:.5},{x:39.74,y:-3.28,z:.5},{x:37.96,y:-6.48,z:.5},{x:35.98,y:-9.12,z:.5},{x:33.73,y:-11.14,z:.5},{x:31.44,y:-12.48,z:.5},{x:28.79,y:-13.51,z:.5},{x:25.92,y:-14.1,z:.5},{x:23.49,y:-14.23,z:.5},{x:21.01,y:-14.23,z:.5},{x:18.23,y:-14.23,z:.5},{x:15.27,y:-14.04,z:.5},{x:12.23,y:-13.53,z:.5},{x:9.61,y:-12.94,z:.5},{x:7.68,y:-12.3,z:.5},{x:6.18,y:-11.52,z:.5},{x:5.02,y:-10.78,z:.5},{x:4.03,y:-10.07,z:.5},{x:3.11,y:-9.41,z:.5},{x:2.28,y:-8.89,z:.5},{x:1.54,y:-8.46,z:.5},{x:1.05,y:-8.1,z:.5},{x:.7,y:-7.75,z:.5},{x:.43,y:-7.39,z:.5},{x:.25,y:-7.04,z:.5},{x:.12,y:-6.74,z:.5},{x:.04,y:-6.48,z:.5},{x:0,y:-6.28,z:.5},{x:.07,y:-6.21,z:.5},{x:.31,y:-6.21,z:.5}]}],color:"black",fill:"pattern",dash:"solid",size:"xl",isComplete:!0,isClosed:!0,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"b09",typeName:"shape"},"shape:Y-RNZI0kCIm1cfrq380tp":{x:2320.5383081066075,y:2127.742336216381,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Y-RNZI0kCIm1cfrq380tp",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aL4",typeName:"shape"},"shape:kwqilkm_qj0bkPeIBpqN8":{x:2409.659076878031,y:2127.742336216381,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:kwqilkm_qj0bkPeIBpqN8",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aM4",typeName:"shape"},"shape:wzdreIn-lrivnrX33jfGF":{x:2498.7798456494547,y:2127.742336216381,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:wzdreIn-lrivnrX33jfGF",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aN4",typeName:"shape"},"shape:8NwS1iOlT-3S1hklDcmWc":{x:2587.900614420879,y:2127.742336216381,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:8NwS1iOlT-3S1hklDcmWc",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aO8",typeName:"shape"},"shape:k6X_klIC0tdRf50y-lVog":{x:2336.837678818715,y:2153.6216955397117,rotation:0,isLocked:!1,opacity:.5,meta:{},id:"shape:k6X_klIC0tdRf50y-lVog",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aL6",typeName:"shape"},"shape:c6QiPSwMZtSeYctltuWki":{x:2425.958447590139,y:2153.6216955397117,rotation:0,isLocked:!1,opacity:.5,meta:{},id:"shape:c6QiPSwMZtSeYctltuWki",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aM6",typeName:"shape"},"shape:BcPsqsxxb92Uyagm5dPl7":{x:2515.0792163615624,y:2153.6216955397117,rotation:0,isLocked:!1,opacity:.5,meta:{},id:"shape:BcPsqsxxb92Uyagm5dPl7",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aN6",typeName:"shape"},"shape:xJiq2X0VhJ2Ht79tNZBXb":{x:2604.1999851329865,y:2153.6216955397117,rotation:0,isLocked:!1,opacity:.5,meta:{},id:"shape:xJiq2X0VhJ2Ht79tNZBXb",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOC",typeName:"shape"},"shape:ZDRB73mj1n8QTCLyhQFu5":{x:2320.5383081066075,y:2227.9749996826504,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ZDRB73mj1n8QTCLyhQFu5",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"draw",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aL5",typeName:"shape"},"shape:2yK-kN1RVmEvNJqQCxQ37":{x:2336.837678818715,y:2253.854359005981,rotation:0,isLocked:!1,opacity:.5,meta:{},id:"shape:2yK-kN1RVmEvNJqQCxQ37",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"draw",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aL7",typeName:"shape"},"shape:1KQ5UTW3w1ZkwiPerI50z":{x:2409.659076878031,y:2227.9749996826504,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:1KQ5UTW3w1ZkwiPerI50z",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"draw",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aM5",typeName:"shape"},"shape:36ROdWhjuvfJxnGfDYaoa":{x:2425.958447590139,y:2253.854359005981,rotation:0,isLocked:!1,opacity:.5,meta:{},id:"shape:36ROdWhjuvfJxnGfDYaoa",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"draw",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aM7",typeName:"shape"},"shape:dItJmYuee0s-EvJvA6fvt":{x:2498.7798456494547,y:2227.9749996826504,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:dItJmYuee0s-EvJvA6fvt",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"draw",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aN5",typeName:"shape"},"shape:soXLUhPqG187h78lxTd0y":{x:2515.0792163615624,y:2253.854359005981,rotation:0,isLocked:!1,opacity:.5,meta:{},id:"shape:soXLUhPqG187h78lxTd0y",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"draw",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aN7",typeName:"shape"},"shape:qwD_eFzNnAawFyCtKw9EV":{x:2587.900614420879,y:2227.9749996826504,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:qwD_eFzNnAawFyCtKw9EV",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"draw",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOA",typeName:"shape"},"shape:8WttAcWOX89x-8Lr96Rnl":{x:2604.1999851329865,y:2253.854359005981,rotation:0,isLocked:!1,opacity:.5,meta:{},id:"shape:8WttAcWOX89x-8Lr96Rnl",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"draw",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOE",typeName:"shape"},"shape:R1HFhhOJuTv8yBxBAA4XQ":{x:2320.5383081066075,y:2322.176882797105,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:R1HFhhOJuTv8yBxBAA4XQ",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"draw",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aL5V",typeName:"shape"},"shape:iuDhdLZmzYYEjfxzbfUrq":{x:2336.837678818715,y:2348.056242120436,rotation:0,isLocked:!1,opacity:.5,meta:{},id:"shape:iuDhdLZmzYYEjfxzbfUrq",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"draw",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aL7V",typeName:"shape"},"shape:afM-6EiKzEIgt6_u2iYfm":{x:2409.659076878031,y:2322.176882797105,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:afM-6EiKzEIgt6_u2iYfm",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"draw",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aM5V",typeName:"shape"},"shape:FKpif8usLRjQp12ijiFrq":{x:2425.958447590139,y:2348.056242120436,rotation:0,isLocked:!1,opacity:.5,meta:{},id:"shape:FKpif8usLRjQp12ijiFrq",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"draw",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aM7V",typeName:"shape"},"shape:WaLWMiWSObHfbWdXKwG32":{x:2498.7798456494547,y:2322.176882797105,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:WaLWMiWSObHfbWdXKwG32",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"draw",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aN5V",typeName:"shape"},"shape:j51Zyx0x3n6EenJgH-kDJ":{x:2515.0792163615624,y:2348.056242120436,rotation:0,isLocked:!1,opacity:.5,meta:{},id:"shape:j51Zyx0x3n6EenJgH-kDJ",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"draw",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aN7V",typeName:"shape"},"shape:EEep7jJOTKAY7jHe1QGcO":{x:2587.900614420879,y:2322.176882797105,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:EEep7jJOTKAY7jHe1QGcO",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"draw",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOB",typeName:"shape"},"shape:RSysWIvV1RE23PbI_0Hkc":{x:2604.1999851329865,y:2348.056242120436,rotation:0,isLocked:!1,opacity:.5,meta:{},id:"shape:RSysWIvV1RE23PbI_0Hkc",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"draw",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOF",typeName:"shape"},"shape:gi9zZUKrLM6lfGWMQpT94":{x:2320.5383081066075,y:2426.4232288784715,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:gi9zZUKrLM6lfGWMQpT94",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"draw",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aL5l",typeName:"shape"},"shape:jOBLBXYXRS_yD_RUZnK0I":{x:2336.837678818715,y:2452.3025882018023,rotation:0,isLocked:!1,opacity:.5,meta:{},id:"shape:jOBLBXYXRS_yD_RUZnK0I",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"draw",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aL7l",typeName:"shape"},"shape:RGTuekk9bsd8FrjyOrUHE":{x:2409.659076878031,y:2426.4232288784715,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:RGTuekk9bsd8FrjyOrUHE",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"draw",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aM5l",typeName:"shape"},"shape:FPz0BrUt6Y4wiGD-H5yOO":{x:2425.958447590139,y:2452.3025882018023,rotation:0,isLocked:!1,opacity:.5,meta:{},id:"shape:FPz0BrUt6Y4wiGD-H5yOO",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"draw",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aM7l",typeName:"shape"},"shape:5pGNil-pTbpVTkt9wAZCu":{x:2498.7798456494547,y:2426.4232288784715,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:5pGNil-pTbpVTkt9wAZCu",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"draw",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aN5l",typeName:"shape"},"shape:Qe2Ewba_-XCDktXluipA1":{x:2515.0792163615624,y:2452.3025882018023,rotation:0,isLocked:!1,opacity:.5,meta:{},id:"shape:Qe2Ewba_-XCDktXluipA1",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"draw",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aN7l",typeName:"shape"},"shape:qUPYEpNo3ytSP0IfH5zgJ":{x:2587.900614420879,y:2426.4232288784715,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:qUPYEpNo3ytSP0IfH5zgJ",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"draw",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOBV",typeName:"shape"},"shape:RC0me0o0ZHkQ-xfNt2LK5":{x:2604.1999851329865,y:2452.3025882018023,rotation:0,isLocked:!1,opacity:.5,meta:{},id:"shape:RC0me0o0ZHkQ-xfNt2LK5",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"draw",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOFV",typeName:"shape"}},fge={schemaVersion:1,storeVersion:4,recordVersions:{asset:{version:1,subTypeKey:"type",subTypeVersions:{image:2,video:2,bookmark:0}},camera:{version:1},document:{version:2},instance:{version:20},instance_page_state:{version:4},page:{version:1},shape:{version:3,subTypeKey:"type",subTypeVersions:{group:0,text:1,bookmark:1,draw:1,geo:7,note:4,line:0,frame:0,arrow:1,highlight:0,embed:4,image:2,video:1}},instance_presence:{version:5},pointer:{version:1}}},gge={store:pge,schema:fge};function mge(){return f.jsx("div",{className:"tldraw__editor",children:f.jsx(ct,{snapshot:gge})})}function yge(){const[t,e]=v.useState(),n=v.useCallback(i=>{e(i)},[]),[r,s]=v.useState([]);return v.useEffect(()=>{if(!t)return;function i(a){s(l=>[a,...l])}const o=a=>{if(a.source==="user"){for(const l of Object.values(a.changes.added))l.typeName==="shape"&&i(`created shape (${l.type})`);for(const[l,c]of Object.values(a.changes.updated))l.typeName==="instance"&&c.typeName==="instance"&&l.currentPageId!==c.currentPageId&&i(`changed page (${l.currentPageId}, ${c.currentPageId})`);for(const l of Object.values(a.changes.removed))l.typeName==="shape"&&i(`deleted shape (${l.type})`)}};return t.on("change",o),()=>{t.off("change",o)}},[t]),f.jsxs("div",{style:{display:"flex"},children:[f.jsx("div",{style:{width:"60vw",height:"100vh"},children:f.jsx(ct,{onMount:n})}),f.jsx("div",{children:f.jsx("div",{style:{width:"40vw",height:"100vh",padding:8,background:"#eee",border:"none",fontFamily:"monospace",fontSize:12,borderLeft:"solid 2px #333",display:"flex",flexDirection:"column-reverse",overflow:"auto"},children:r.map((i,o)=>f.jsx("div",{children:i},o))})})]})}function xge(){const[t,e]=v.useState([]),n=v.useCallback((r,s)=>{e(i=>[`${r} ${JSON.stringify(s)}`,...i])},[]);return f.jsxs("div",{style:{display:"flex"},children:[f.jsx("div",{style:{width:"60vw",height:"100vh"},children:f.jsx(ct,{onUiEvent:n})}),f.jsx("div",{children:f.jsx("div",{style:{width:"40vw",height:"100vh",padding:8,background:"#eee",border:"none",fontFamily:"monospace",fontSize:12,borderLeft:"solid 2px #333",display:"flex",flexDirection:"column-reverse",overflow:"auto"},children:t.map((r,s)=>f.jsx("div",{children:r},s))})})]})}const wge="huppy da arrow",Sge=.25,Gk=100,i0="Hey, I think this is just great.";function bge(){const t=v.useRef(-1);return f.jsx("div",{className:"tldraw__editor",children:f.jsx(ct,{persistenceKey:"user-presence-example",onMount:e=>{const n=F5.create({id:F5.createId(e.store.id),currentPageId:e.getCurrentPageId(),userId:"peer-1",userName:wge,cursor:{x:0,y:0,type:"default",rotation:0},chatMessage:i0});e.store.put([n]);const r=t.current;cancelAnimationFrame(r);{let s=function(){let i=n.cursor,o=n.chatMessage;const a=Date.now();{const l=1e3/Sge,c=a%l/l;i={...n.cursor,x:150+Math.cos(c*Math.PI*2)*Gk,y:150+Math.sin(c*Math.PI*2)*Gk}}{const c=a%3e3/1e3;o=c<1?"":c>2?i0:i0.slice(0,Math.ceil((c-1)*i0.length))}e.store.put([{...n,cursor:i,chatMessage:o,lastActivityTimestamp:a}]),t.current=requestAnimationFrame(s)};t.current=requestAnimationFrame(s)}}})})}function vge(){return f.jsx("div",{className:"tldraw__editor",children:f.jsx(ct,{topZone:f.jsx(Lue,{}),shareZone:f.jsx(kge,{})})})}function kge(){return f.jsx("div",{style:{backgroundColor:"thistle",width:"100%",textAlign:"center",minWidth:"80px"},children:f.jsx("p",{children:"Share Zone"})})}window.__tldraw_ui_event={id:"NOTHING_YET"};window.__tldraw_editor_events=[];function Cge(){return f.jsx("div",{className:"tldraw__editor",children:f.jsx(ct,{onMount:t=>{t.on("event",e=>{window.__tldraw_editor_events.push(e)})},onUiEvent:(t,e)=>{window.__tldraw_ui_event={name:t,data:e}},children:f.jsx(_ge,{})})})}function _ge(){const t=Wn();return v.useEffect(()=>{window["tldraw-export"]=()=>t["export-as-svg"].onSelect("unknown")},[t]),null}function Ij(t){return t&&typeof t=="object"&&"parents"in t}function Pj(t){for(let e=0,n=t.parents.length;e<n;e++)if(t.parents[e].__unsafe__getWithoutCapture(),t.parents[e].lastChangedEpoch!==t.parentEpochs[e])return!0;return!1}const dy=(t,e)=>{if(t.children.remove(e)&&t.children.isEmpty&&Ij(t))for(let n=0,r=t.parents.length;n<r;n++)dy(t.parents[n],t)},Ub=(t,e)=>{if(t.children.add(e)&&Ij(t))for(let n=0,r=t.parents.length;n<r;n++)Ub(t.parents[n],t)};function zj(t,e){return t===e||Object.is(t,e)||!!(t&&e&&typeof t.equals=="function"&&t.equals(e))}function ol(t,e){const n=Symbol.for(`com.tldraw.state/${t}`),r=globalThis;return r[n]??(r[n]=e()),r[n]}const qa=ol("empty_array",()=>Object.freeze([])),Zk=8;let Aj=class{constructor(){this.arraySize=0,this.array=Array(Zk),this.set=null}get isEmpty(){if(this.array)return this.arraySize===0;if(this.set)return this.set.size===0;throw new Error("no set or array")}add(e){if(this.array)return this.array.indexOf(e)!==-1?!1:this.arraySize<Zk?(this.array[this.arraySize]=e,this.arraySize++,!0):(this.set=new Set(this.array),this.array=null,this.set.add(e),!0);if(this.set)return this.set.has(e)?!1:(this.set.add(e),!0);throw new Error("no set or array")}remove(e){if(this.array){const n=this.array.indexOf(e);return n===-1?!1:(this.array[n]=void 0,this.arraySize--,n!==this.arraySize&&(this.array[n]=this.array[this.arraySize],this.array[this.arraySize]=void 0),!0)}if(this.set)return this.set.has(e)?(this.set.delete(e),!0):!1;throw new Error("no set or array")}visit(e){if(this.array){for(let n=0;n<this.arraySize;n++){const r=this.array[n];typeof r<"u"&&e(r)}return}if(this.set){this.set.forEach(e);return}throw new Error("no set or array")}};const Hi=Symbol.for("com.tldraw.state/RESET_VALUE");let Nj=class{constructor(e){this.capacity=e,this.index=0,this.buffer=new Array(e)}pushEntry(e,n,r){if(r!==void 0){if(r===Hi){this.clear();return}this.buffer[this.index]=[e,n,r],this.index=(this.index+1)%this.capacity}}clear(){this.index=0,this.buffer.fill(void 0)}getChangesSince(e){const{index:n,capacity:r,buffer:s}=this;for(let i=0;i<r;i++){const o=(n-1+r-i)%r,a=s[o];if(!a)return Hi;const[l,c]=a;if(i===0&&e>=c)return[];if(l<=e&&e<c){const d=i+1,h=new Array(d);for(let u=0;u<d;u++)h[u]=s[(o+u)%r][2];return h}}return Hi}},Ege=class{constructor(e,n){this.below=e,this.child=n,this.offset=0,this.numNewParents=0}};const Tt=ol("capture",()=>({stack:null}));function Tj(t){Tt.stack=new Ege(Tt.stack,t)}function Lj(){var n;const t=Tt.stack;if(Tt.stack=t.below,t.numNewParents>0||t.offset!==t.child.parents.length){for(let r=t.offset;r<t.child.parents.length;r++){const s=t.child.parents[r];t.child.parents.indexOf(s)>=t.offset&&dy(s,t.child)}if(t.child.parents.length=t.offset,t.child.parentEpochs.length=t.offset,(n=Tt.stack)!=null&&n.maybeRemoved)for(let r=0;r<Tt.stack.maybeRemoved.length;r++){const s=Tt.stack.maybeRemoved[r];t.child.parents.indexOf(s)===-1&&dy(s,t.child)}}}function R3(t){if(Tt.stack){const e=Tt.stack.child.parents.indexOf(t);if(e<0&&(Tt.stack.numNewParents++,Tt.stack.child.isActivelyListening&&Ub(t,Tt.stack.child)),e<0||e>=Tt.stack.offset){if(e!==Tt.stack.offset&&e>0){const n=Tt.stack.child.parents[Tt.stack.offset];Tt.stack.maybeRemoved?Tt.stack.maybeRemoved.indexOf(n)===-1&&Tt.stack.maybeRemoved.push(n):Tt.stack.maybeRemoved=[n]}Tt.stack.child.parents[Tt.stack.offset]=t,Tt.stack.child.parentEpochs[Tt.stack.offset]=t.lastChangedEpoch,Tt.stack.offset++}}}const Wl=-1;let Ige=class{constructor(e,n,r){this.name=e,this.runEffect=n,this._isActivelyListening=!1,this.lastTraversedEpoch=Wl,this.lastReactedEpoch=Wl,this._scheduleCount=0,this.parentEpochs=[],this.parents=[],this.maybeExecute=()=>{this._isActivelyListening&&this.execute()},this._scheduleEffect=r==null?void 0:r.scheduleEffect}get isActivelyListening(){return this._isActivelyListening}get scheduleCount(){return this._scheduleCount}maybeScheduleEffect(){if(this._isActivelyListening&&this.lastReactedEpoch!==is()){if(this.parents.length&&!Pj(this)){this.lastReactedEpoch=is();return}this.scheduleEffect()}}scheduleEffect(){this._scheduleCount++,this._scheduleEffect?this._scheduleEffect(this.maybeExecute):this.execute()}attach(){this._isActivelyListening=!0;for(let e=0,n=this.parents.length;e<n;e++)Ub(this.parents[e],this)}detach(){this._isActivelyListening=!1;for(let e=0,n=this.parents.length;e<n;e++)dy(this.parents[e],this)}execute(){try{Tj(this);const e=this.runEffect(this.lastReactedEpoch);return this.lastReactedEpoch=is(),e}finally{Lj()}}};const Kf=ol("EffectScheduler",()=>Ige);function Wf(t,e,n){const r=new Kf(t,e,n);return r.attach(),r.scheduleEffect(),()=>{r.detach()}}let Pge=class{constructor(e){this.parent=e,this.initialAtomValues=new Map}get isRoot(){return this.parent===null}commit(){if(this.isRoot){const e=this.initialAtomValues;this.initialAtomValues=new Map,Mj(e.keys())}else this.initialAtomValues.forEach((e,n)=>{this.parent.initialAtomValues.has(n)||this.parent.initialAtomValues.set(n,e)})}abort(){ar.globalEpoch++,this.initialAtomValues.forEach((e,n)=>{var r;n.set(e),(r=n.historyBuffer)==null||r.clear()}),this.commit()}};const ar=ol("transactions",()=>({globalEpoch:Wl+1,globalIsReacting:!1,currentTransaction:null}));function is(){return ar.globalEpoch}function Mj(t){if(ar.globalIsReacting)throw new Error("cannot change atoms during reaction cycle");try{ar.globalIsReacting=!0;const e=new Set,n=r=>{r.lastTraversedEpoch!==ar.globalEpoch&&(r.lastTraversedEpoch=ar.globalEpoch,r instanceof Kf?e.add(r):r.children.visit(n))};for(const r of t)r.children.visit(n);for(const r of e)r.maybeScheduleEffect()}finally{ar.globalIsReacting=!1}}function zge(t,e){ar.currentTransaction?ar.currentTransaction.initialAtomValues.has(t)||ar.currentTransaction.initialAtomValues.set(t,e):Mj([t])}function Age(){ar.globalEpoch++}function Nge(t){const e=new Pge(ar.currentTransaction);ar.currentTransaction=e;try{let n=!1;const r=t(()=>n=!0);return n?e.abort():e.commit(),r}catch(n){throw e.abort(),n}finally{ar.currentTransaction=ar.currentTransaction.parent}}function sf(t){return ar.currentTransaction?t():Nge(t)}let Tge=class{constructor(e,n,r){this.name=e,this.current=n,this.lastChangedEpoch=is(),this.children=new Aj,this.isEqual=(r==null?void 0:r.isEqual)??null,r&&(r.historyLength&&(this.historyBuffer=new Nj(r.historyLength)),this.computeDiff=r.computeDiff)}__unsafe__getWithoutCapture(){return this.current}get(){return R3(this),this.current}set(e,n){var s,i;if(((s=this.isEqual)==null?void 0:s.call(this,this.current,e))??zj(this.current,e))return this.current;Age(),this.historyBuffer&&this.historyBuffer.pushEntry(this.lastChangedEpoch,is(),n??((i=this.computeDiff)==null?void 0:i.call(this,this.current,e,this.lastChangedEpoch,is()))??Hi),this.lastChangedEpoch=is();const r=this.current;return this.current=e,zge(this,r),e}update(e){return this.set(e(this.current))}getDiffSince(e){var n;return R3(this),e>=this.lastChangedEpoch?qa:((n=this.historyBuffer)==null?void 0:n.getChangesSince(e))??Hi}};const Lge=ol("Atom",()=>Tge);function Os(t,e,n){return new Lge(t,e,n)}let Qk=!1;function Mge(){Qk||(Qk=!0,console.warn(`Using \`@computed\` as a decorator for getters is deprecated and will be removed in the near future. Please refactor to use \`@computed\` as a decorator for methods.

// Before
@computed
get foo() {
	return 'foo'
}

// After
@computed
getFoo() {
	return 'foo'
}
`))}const $3=Symbol.for("com.tldraw.state/UNINITIALIZED"),Vb=t=>t===$3,O3=ol("WithDiff",()=>class{constructor(e,n){this.value=e,this.diff=n}});function jge(t,e){return new O3(t,e)}let Rge=class{constructor(e,n,r){this.name=e,this.derive=n,this.lastChangedEpoch=Wl,this.lastTraversedEpoch=Wl,this.lastCheckedEpoch=Wl,this.parents=[],this.parentEpochs=[],this.children=new Aj,this.state=$3,r!=null&&r.historyLength&&(this.historyBuffer=new Nj(r.historyLength)),this.computeDiff=r==null?void 0:r.computeDiff,this.isEqual=(r==null?void 0:r.isEqual)??zj}get isActivelyListening(){return!this.children.isEmpty}__unsafe__getWithoutCapture(){var n;const e=this.lastChangedEpoch===Wl;if(!e&&(this.lastCheckedEpoch===is()||!Pj(this)))return this.lastCheckedEpoch=is(),this.state;try{Tj(this);const r=this.derive(this.state,this.lastCheckedEpoch),s=r instanceof O3?r.value:r;if(this.state===$3||!this.isEqual(s,this.state)){if(this.historyBuffer&&!e){const i=r instanceof O3?r.diff:void 0;this.historyBuffer.pushEntry(this.lastChangedEpoch,is(),i??((n=this.computeDiff)==null?void 0:n.call(this,this.state,s,this.lastCheckedEpoch,is()))??Hi)}this.lastChangedEpoch=is(),this.state=s}return this.lastCheckedEpoch=is(),this.state}finally{Lj()}}get(){const e=this.__unsafe__getWithoutCapture();return R3(this),e}getDiffSince(e){var n;return this.get(),e>=this.lastChangedEpoch?qa:((n=this.historyBuffer)==null?void 0:n.getChangesSince(e))??Hi}};const Xb=ol("Computed",()=>Rge);function $ge(t={},e,n,r){const s=r.value,i=Symbol.for("__@tldraw/state__computed__"+n);return r.value=function(){let o=this[i];return o||(o=new Xb(n,s.bind(this),t),Object.defineProperty(this,i,{enumerable:!1,configurable:!1,writable:!1,value:o})),o.get()},r.value[Dge]=!0,r}function Jk(t={},e,n,r){return r.get?(Mge(),Oge(t,e,n,r)):$ge(t,e,n,r)}function Oge(t={},e,n,r){const s=r.get,i=Symbol.for("__@tldraw/state__computed__"+n);return r.get=function(){let o=this[i];return o||(o=new Xb(n,s.bind(this),t),Object.defineProperty(this,i,{enumerable:!1,configurable:!1,writable:!1,value:o})),o.get()},r}const Dge="@@__isComputedMethod__@@";function ao(){if(arguments.length===1){const t=arguments[0];return(e,n,r)=>Jk(t,e,n,r)}else return typeof arguments[0]=="string"?new Xb(arguments[0],arguments[1],arguments[2]):Jk(void 0,arguments[0],arguments[1],arguments[2])}const jj=1,qge=ol("apiVersion",()=>jj);if(qge!==jj)throw new Error("You have multiple incompatible versions of @tldraw/state in your app. Please deduplicate the package.");function i2(t,e){const n=ie.useRef(e);n.current=e;const[r,s,i]=ie.useMemo(()=>{let o=null;const a=d=>(o=d,()=>{o=null}),l=new Kf(`useStateTracking(${t})`,()=>{var d;return(d=n.current)==null?void 0:d.call(n)},{scheduleEffect(){o==null||o()}});return[l,a,()=>l.scheduleCount]},[t]);return ie.useSyncExternalStore(s,i,i),ie.useEffect(()=>(r.attach(),r.maybeScheduleEffect(),()=>{r.detach()}),[r]),r.execute()}const eC={apply(t,e,n){return i2(t.displayName??t.name??"tracked(???)",()=>t.apply(e,n))}},Bge=Symbol.for("react.memo"),Fge=Symbol.for("react.forward_ref");function ea(t){let e=null;const n=t.$$typeof;return n===Bge&&(t=t.type,e=t.compare),n===Fge?v.memo(v.forwardRef(new Proxy(t.render,eC))):v.memo(new Proxy(t,eC),e)}function Kge(){const t=arguments[0],e=arguments[1],n=arguments.length===3?void 0:arguments[2],r=arguments.length===3?arguments[2]:arguments[3];return v.useMemo(()=>ao(`useComputed(${t})`,e,n),r)}function hp(t,e,n=qa){v.useEffect(()=>{const r=new Kf(t,e);return r.attach(),r.execute(),()=>{r.detach()}},n)}function Me(){const t=arguments,e=t.length===3?t[2]:[t[0]],n=t.length===3?t[0]:`useValue(${t[0].name})`,r=v.useRef(!0);r.current=!0;const s=v.useMemo(()=>t.length===1?t[0]:ao(n,()=>{if(r.current)return t[1]();try{return t[1]()}catch{return{}}}),e);try{const{subscribe:i,getSnapshot:o}=v.useMemo(()=>({subscribe:a=>Wf(`useValue(${n})`,()=>{s.get(),a()}),getSnapshot:()=>s.get()}),[s]);return v.useSyncExternalStore(i,o,o)}finally{r.current=!1}}class U0{constructor(e){this.previousValue=e}get(){var r,s,i,o;const e=((s=(r=this.diff)==null?void 0:r.removed)==null?void 0:s.size)??0,n=((o=(i=this.diff)==null?void 0:i.added)==null?void 0:o.size)??0;if(!(e===0&&n===0))return{value:this.nextValue,diff:this.diff}}_add(e,n){var r,s;this.nextValue??(this.nextValue=new Set(this.previousValue)),this.nextValue.add(e),this.diff??(this.diff={}),n?(r=this.diff.removed)==null||r.delete(e):((s=this.diff).added??(s.added=new Set),this.diff.added.add(e))}add(e){var s,i,o;const n=this.previousValue.has(e);if(n)return((i=(s=this.diff)==null?void 0:s.removed)==null?void 0:i.has(e))?this._add(e,n):void 0;(o=this.nextValue)!=null&&o.has(e)||this._add(e,n)}_remove(e,n){var r,s;this.nextValue??(this.nextValue=new Set(this.previousValue)),this.nextValue.delete(e),this.diff??(this.diff={}),n?((r=this.diff).removed??(r.removed=new Set),this.diff.removed.add(e)):(s=this.diff.added)==null||s.delete(e)}remove(e){var s,i,o,a;const n=this.previousValue.has(e);if(!n)return((i=(s=this.diff)==null?void 0:s.added)==null?void 0:i.has(e))?this._remove(e,n):void 0;(a=(o=this.diff)==null?void 0:o.removed)!=null&&a.has(e)||this._remove(e,n)}}function tC(t){return Object.keys(t)}function Tn(t){return Object.values(t)}function Jd(t){return Object.entries(t)}function Wge(t){return Object.fromEntries(t)}function f5(t,e){const n={};let r=!1;for(const[s,i]of Jd(t))e(s,i)?n[s]=i:r=!0;return r?n:t}const Uge=()=>typeof process<"u"&&!1,hy=[],Vge=()=>{const t=hy.splice(0,hy.length);for(const e of t)e()};let g5;function Xge(){g5||(g5=requestAnimationFrame(()=>{g5=void 0,Vge()}))}function Yge(t){if(Uge())return t();hy.includes(t)||(hy.push(t),Xge())}function Rj(t){return t&&typeof t=="object"&&"parents"in t}function $j(t){for(let e=0,n=t.parents.length;e<n;e++)if(t.parents[e].__unsafe__getWithoutCapture(),t.parents[e].lastChangedEpoch!==t.parentEpochs[e])return!0;return!1}const uy=(t,e)=>{if(t.children.remove(e)&&t.children.isEmpty&&Rj(t))for(let n=0,r=t.parents.length;n<r;n++)uy(t.parents[n],t)},Yb=(t,e)=>{if(t.children.add(e)&&Rj(t))for(let n=0,r=t.parents.length;n<r;n++)Yb(t.parents[n],t)};function Oj(t,e){return t===e||Object.is(t,e)||!!(t&&e&&typeof t.equals=="function"&&t.equals(e))}function al(t,e){const n=Symbol.for(`com.tldraw.state/${t}`),r=globalThis;return r[n]??(r[n]=e()),r[n]}const Hb=al("empty_array",()=>Object.freeze([])),nC=8;let Dj=class{constructor(){this.arraySize=0,this.array=Array(nC),this.set=null}get isEmpty(){if(this.array)return this.arraySize===0;if(this.set)return this.set.size===0;throw new Error("no set or array")}add(e){if(this.array)return this.array.indexOf(e)!==-1?!1:this.arraySize<nC?(this.array[this.arraySize]=e,this.arraySize++,!0):(this.set=new Set(this.array),this.array=null,this.set.add(e),!0);if(this.set)return this.set.has(e)?!1:(this.set.add(e),!0);throw new Error("no set or array")}remove(e){if(this.array){const n=this.array.indexOf(e);return n===-1?!1:(this.array[n]=void 0,this.arraySize--,n!==this.arraySize&&(this.array[n]=this.array[this.arraySize],this.array[this.arraySize]=void 0),!0)}if(this.set)return this.set.has(e)?(this.set.delete(e),!0):!1;throw new Error("no set or array")}visit(e){if(this.array){for(let n=0;n<this.arraySize;n++){const r=this.array[n];typeof r<"u"&&e(r)}return}if(this.set){this.set.forEach(e);return}throw new Error("no set or array")}};const Gi=Symbol.for("com.tldraw.state/RESET_VALUE");let qj=class{constructor(e){this.capacity=e,this.index=0,this.buffer=new Array(e)}pushEntry(e,n,r){if(r!==void 0){if(r===Gi){this.clear();return}this.buffer[this.index]=[e,n,r],this.index=(this.index+1)%this.capacity}}clear(){this.index=0,this.buffer.fill(void 0)}getChangesSince(e){const{index:n,capacity:r,buffer:s}=this;for(let i=0;i<r;i++){const o=(n-1+r-i)%r,a=s[o];if(!a)return Gi;const[l,c]=a;if(i===0&&e>=c)return[];if(l<=e&&e<c){const d=i+1,h=new Array(d);for(let u=0;u<d;u++)h[u]=s[(o+u)%r][2];return h}}return Gi}},Hge=class{constructor(e,n){this.below=e,this.child=n,this.offset=0,this.numNewParents=0}};const Lt=al("capture",()=>({stack:null}));function Bj(t){Lt.stack=new Hge(Lt.stack,t)}function Fj(){var n;const t=Lt.stack;if(Lt.stack=t.below,t.numNewParents>0||t.offset!==t.child.parents.length){for(let r=t.offset;r<t.child.parents.length;r++){const s=t.child.parents[r];t.child.parents.indexOf(s)>=t.offset&&uy(s,t.child)}if(t.child.parents.length=t.offset,t.child.parentEpochs.length=t.offset,(n=Lt.stack)!=null&&n.maybeRemoved)for(let r=0;r<Lt.stack.maybeRemoved.length;r++){const s=Lt.stack.maybeRemoved[r];t.child.parents.indexOf(s)===-1&&uy(s,t.child)}}}function D3(t){if(Lt.stack){const e=Lt.stack.child.parents.indexOf(t);if(e<0&&(Lt.stack.numNewParents++,Lt.stack.child.isActivelyListening&&Yb(t,Lt.stack.child)),e<0||e>=Lt.stack.offset){if(e!==Lt.stack.offset&&e>0){const n=Lt.stack.child.parents[Lt.stack.offset];Lt.stack.maybeRemoved?Lt.stack.maybeRemoved.indexOf(n)===-1&&Lt.stack.maybeRemoved.push(n):Lt.stack.maybeRemoved=[n]}Lt.stack.child.parents[Lt.stack.offset]=t,Lt.stack.child.parentEpochs[Lt.stack.offset]=t.lastChangedEpoch,Lt.stack.offset++}}}const Ul=-1;let Gge=class{constructor(e,n,r){this.name=e,this.runEffect=n,this._isActivelyListening=!1,this.lastTraversedEpoch=Ul,this.lastReactedEpoch=Ul,this._scheduleCount=0,this.parentEpochs=[],this.parents=[],this.maybeExecute=()=>{this._isActivelyListening&&this.execute()},this._scheduleEffect=r==null?void 0:r.scheduleEffect}get isActivelyListening(){return this._isActivelyListening}get scheduleCount(){return this._scheduleCount}maybeScheduleEffect(){if(this._isActivelyListening&&this.lastReactedEpoch!==os()){if(this.parents.length&&!$j(this)){this.lastReactedEpoch=os();return}this.scheduleEffect()}}scheduleEffect(){this._scheduleCount++,this._scheduleEffect?this._scheduleEffect(this.maybeExecute):this.execute()}attach(){this._isActivelyListening=!0;for(let e=0,n=this.parents.length;e<n;e++)Yb(this.parents[e],this)}detach(){this._isActivelyListening=!1;for(let e=0,n=this.parents.length;e<n;e++)uy(this.parents[e],this)}execute(){try{Bj(this);const e=this.runEffect(this.lastReactedEpoch);return this.lastReactedEpoch=os(),e}finally{Fj()}}};const Kj=al("EffectScheduler",()=>Gge);function Zge(t,e,n){const r=new Kj(t,e,n);return{scheduler:r,start:s=>{const i=(s==null?void 0:s.force)??!1;r.attach(),i?r.scheduleEffect():r.maybeScheduleEffect()},stop:()=>{r.detach()}}}class Qge{constructor(e){this.parent=e,this.initialAtomValues=new Map}get isRoot(){return this.parent===null}commit(){if(this.isRoot){const e=this.initialAtomValues;this.initialAtomValues=new Map,Wj(e.keys())}else this.initialAtomValues.forEach((e,n)=>{this.parent.initialAtomValues.has(n)||this.parent.initialAtomValues.set(n,e)})}abort(){lr.globalEpoch++,this.initialAtomValues.forEach((e,n)=>{var r;n.set(e),(r=n.historyBuffer)==null||r.clear()}),this.commit()}}const lr=al("transactions",()=>({globalEpoch:Ul+1,globalIsReacting:!1,currentTransaction:null}));function os(){return lr.globalEpoch}function Wj(t){if(lr.globalIsReacting)throw new Error("cannot change atoms during reaction cycle");try{lr.globalIsReacting=!0;const e=new Set,n=r=>{r.lastTraversedEpoch!==lr.globalEpoch&&(r.lastTraversedEpoch=lr.globalEpoch,r instanceof Kj?e.add(r):r.children.visit(n))};for(const r of t)r.children.visit(n);for(const r of e)r.maybeScheduleEffect()}finally{lr.globalIsReacting=!1}}function Jge(t,e){lr.currentTransaction?lr.currentTransaction.initialAtomValues.has(t)||lr.currentTransaction.initialAtomValues.set(t,e):Wj([t])}function e0e(){lr.globalEpoch++}function t0e(t){const e=new Qge(lr.currentTransaction);lr.currentTransaction=e;try{let n=!1;const r=t(()=>n=!0);return n?e.abort():e.commit(),r}catch(n){throw e.abort(),n}finally{lr.currentTransaction=lr.currentTransaction.parent}}function rd(t){return lr.currentTransaction?t():t0e(t)}let n0e=class{constructor(e,n,r){this.name=e,this.current=n,this.lastChangedEpoch=os(),this.children=new Dj,this.isEqual=(r==null?void 0:r.isEqual)??null,r&&(r.historyLength&&(this.historyBuffer=new qj(r.historyLength)),this.computeDiff=r.computeDiff)}__unsafe__getWithoutCapture(){return this.current}get(){return D3(this),this.current}set(e,n){var s,i;if(((s=this.isEqual)==null?void 0:s.call(this,this.current,e))??Oj(this.current,e))return this.current;e0e(),this.historyBuffer&&this.historyBuffer.pushEntry(this.lastChangedEpoch,os(),n??((i=this.computeDiff)==null?void 0:i.call(this,this.current,e,this.lastChangedEpoch,os()))??Gi),this.lastChangedEpoch=os();const r=this.current;return this.current=e,Jge(this,r),e}update(e){return this.set(e(this.current))}getDiffSince(e){var n;return D3(this),e>=this.lastChangedEpoch?Hb:((n=this.historyBuffer)==null?void 0:n.getChangesSince(e))??Gi}};const r0e=al("Atom",()=>n0e);function o0(t,e,n){return new r0e(t,e,n)}let rC=!1;function s0e(){rC||(rC=!0,console.warn(`Using \`@computed\` as a decorator for getters is deprecated and will be removed in the near future. Please refactor to use \`@computed\` as a decorator for methods.

// Before
@computed
get foo() {
	return 'foo'
}

// After
@computed
getFoo() {
	return 'foo'
}
`))}const q3=Symbol.for("com.tldraw.state/UNINITIALIZED"),m5=t=>t===q3,B3=al("WithDiff",()=>class{constructor(e,n){this.value=e,this.diff=n}});function a0(t,e){return new B3(t,e)}let i0e=class{constructor(e,n,r){this.name=e,this.derive=n,this.lastChangedEpoch=Ul,this.lastTraversedEpoch=Ul,this.lastCheckedEpoch=Ul,this.parents=[],this.parentEpochs=[],this.children=new Dj,this.state=q3,r!=null&&r.historyLength&&(this.historyBuffer=new qj(r.historyLength)),this.computeDiff=r==null?void 0:r.computeDiff,this.isEqual=(r==null?void 0:r.isEqual)??Oj}get isActivelyListening(){return!this.children.isEmpty}__unsafe__getWithoutCapture(){var n;const e=this.lastChangedEpoch===Ul;if(!e&&(this.lastCheckedEpoch===os()||!$j(this)))return this.lastCheckedEpoch=os(),this.state;try{Bj(this);const r=this.derive(this.state,this.lastCheckedEpoch),s=r instanceof B3?r.value:r;if(this.state===q3||!this.isEqual(s,this.state)){if(this.historyBuffer&&!e){const i=r instanceof B3?r.diff:void 0;this.historyBuffer.pushEntry(this.lastChangedEpoch,os(),i??((n=this.computeDiff)==null?void 0:n.call(this,this.state,s,this.lastCheckedEpoch,os()))??Gi)}this.lastChangedEpoch=os(),this.state=s}return this.lastCheckedEpoch=os(),this.state}finally{Fj()}}get(){const e=this.__unsafe__getWithoutCapture();return D3(this),e}getDiffSince(e){var n;return this.get(),e>=this.lastChangedEpoch?Hb:((n=this.historyBuffer)==null?void 0:n.getChangesSince(e))??Gi}};const Gb=al("Computed",()=>i0e);function o0e(t={},e,n,r){const s=r.value,i=Symbol.for("__@tldraw/state__computed__"+n);return r.value=function(){let o=this[i];return o||(o=new Gb(n,s.bind(this),t),Object.defineProperty(this,i,{enumerable:!1,configurable:!1,writable:!1,value:o})),o.get()},r.value[l0e]=!0,r}function sC(t={},e,n,r){return r.get?(s0e(),a0e(t,e,n,r)):o0e(t,e,n,r)}function a0e(t={},e,n,r){const s=r.get,i=Symbol.for("__@tldraw/state__computed__"+n);return r.get=function(){let o=this[i];return o||(o=new Gb(n,s.bind(this),t),Object.defineProperty(this,i,{enumerable:!1,configurable:!1,writable:!1,value:o})),o.get()},r}const l0e="@@__isComputedMethod__@@";function Li(){if(arguments.length===1){const t=arguments[0];return(e,n,r)=>sC(t,e,n,r)}else return typeof arguments[0]=="string"?new Gb(arguments[0],arguments[1],arguments[2]):sC(void 0,arguments[0],arguments[1],arguments[2])}const Uj=1,c0e=al("apiVersion",()=>Uj);if(c0e!==Uj)throw new Error("You have multiple incompatible versions of @tldraw/state in your app. Please deduplicate the package.");class iC{constructor(){this.items=new WeakMap}get(e,n){return this.items.has(e)||this.items.set(e,n(e)),this.items.get(e)}}function d0e(t){if(t.length===0)return new Set;const e=t[0],n=t.slice(1),r=new Set;for(const s of e)n.every(i=>i.has(s))&&r.add(s);return r}function h0e(t,e){const n={};for(const r of e)t.has(r)||(n.added??(n.added=new Set),n.added.add(r));for(const r of t)e.has(r)||(n.removed??(n.removed=new Set),n.removed.add(r));return n.added||n.removed?n:void 0}function oC(t,e){for(const[n,r]of Object.entries(t)){const s=r,i=e[n];if("eq"in s&&i!==s.eq||"neq"in s&&i===s.neq||"gt"in s&&(typeof i!="number"||i<=s.gt))return!1}return!0}function aC(t,e,n){const r=Object.fromEntries(Object.keys(n).map(s=>[s,new Set]));for(const[s,i]of Object.entries(n))if("eq"in i){const a=t.index(e,s).get().get(i.eq);if(a)for(const l of a)r[s].add(l)}else if("neq"in i){const o=t.index(e,s);for(const[a,l]of o.get())if(a!==i.neq)for(const c of l)r[s].add(c)}else if("gt"in i){const o=t.index(e,s);for(const[a,l]of o.get())if(a>i.gt)for(const c of l)r[s].add(c)}return d0e(Object.values(r))}class u0e{constructor(e,n){this.atoms=e,this.history=n,this.indexCache=new Map,this.historyCache=new Map}filterHistory(e){if(this.historyCache.has(e))return this.historyCache.get(e);const n=Li("filterHistory:"+e,(r,s)=>{if(m5(r))return this.history.get();const i=this.history.getDiffSince(s);if(i===Gi)return this.history.get();const o={added:{},removed:{},updated:{}};let a=0,l=0,c=0;for(const d of i){for(const h of Tn(d.added))if(h.typeName===e)if(o.removed[h.id]){const u=o.removed[h.id];delete o.removed[h.id],l--,u!==h&&(o.updated[h.id]=[u,h],c++)}else o.added[h.id]=h,a++;for(const[h,u]of Tn(d.updated))u.typeName===e&&(o.added[u.id]?o.added[u.id]=u:o.updated[u.id]?o.updated[u.id]=[o.updated[u.id][0],u]:(o.updated[u.id]=[h,u],c++));for(const h of Tn(d.removed))h.typeName===e&&(o.added[h.id]?(delete o.added[h.id],a--):o.updated[h.id]?(o.removed[h.id]=o.updated[h.id][0],delete o.updated[h.id],c--,l++):(o.removed[h.id]=h,l++))}return a||l||c?a0(this.history.get(),o):r},{historyLength:100});return this.historyCache.set(e,n),n}index(e,n){const r=e+":"+n;if(this.indexCache.has(r))return this.indexCache.get(r);const s=this.__uncached_createIndex(e,n);return this.indexCache.set(r,s),s}__uncached_createIndex(e,n){const r=this.filterHistory(e),s=()=>{r.get();const i=new Map;for(const o of Tn(this.atoms.get())){const a=o.get();if(a.typeName===e){const l=a[n];i.has(l)||i.set(l,new Set),i.get(l).add(a.id)}}return i};return Li("index:"+e+":"+n,(i,o)=>{if(m5(i))return s();const a=r.getDiffSince(o);if(a===Gi)return s();const l=new Map,c=(p,y)=>{let m=l.get(p);m||(m=new U0(i.get(p)??new Set)),m.add(y),l.set(p,m)},d=(p,y)=>{let m=l.get(p);m||(m=new U0(i.get(p)??new Set)),m.remove(y),l.set(p,m)};for(const p of a){for(const y of Tn(p.added))if(y.typeName===e){const m=y[n];c(m,y.id)}for(const[y,m]of Tn(p.updated))if(m.typeName===e){const w=y[n],S=m[n];w!==S&&(d(w,m.id),c(S,m.id))}for(const y of Tn(p.removed))if(y.typeName===e){const m=y[n];d(m,y.id)}}let h,u;for(const[p,y]of l){const m=y.get();m&&(h||(h=new Map(i)),u||(u=new Map),m.value.size===0?h.delete(p):h.set(p,m.value),u.set(p,m.diff))}return h&&u?a0(h,u):i},{historyLength:100})}record(e,n=()=>({}),r="record:"+e+(n?":"+n.toString():"")){const s=this.ids(e,n,r);return Li(r,()=>{var i;for(const o of s.get())return(i=this.atoms.get()[o])==null?void 0:i.get()})}records(e,n=()=>({}),r="records:"+e+(n?":"+n.toString():"")){const s=this.ids(e,n,"ids:"+r);return Li(r,()=>[...s.get()].map(i=>{const o=this.atoms.get()[i];if(!o)throw new Error("no atom found for record id: "+i);return o.get()}))}ids(e,n=()=>({}),r="ids:"+e+(n?":"+n.toString():"")){const s=this.filterHistory(e),i=()=>{s.get();const l=n();return Object.keys(l).length===0?new Set(Tn(this.atoms.get()).flatMap(c=>{const d=c.get();return d.typeName===e?d.id:[]})):aC(this,e,l)},o=l=>{const c=i(),d=h0e(l,c);return d?a0(c,d):l},a=Li("ids_query:"+r,n,{isEqual:Y_});return Li("query:"+r,(l,c)=>{const d=a.get();if(m5(l))return i();if(c<a.lastChangedEpoch)return o(l);const h=s.getDiffSince(c);if(h===Gi)return o(l);const u=new U0(l);for(const y of h){for(const m of Tn(y.added))m.typeName===e&&oC(d,m)&&u.add(m.id);for(const[m,w]of Tn(y.updated))w.typeName===e&&(oC(d,w)?u.add(w.id):u.remove(w.id));for(const m of Tn(y.removed))m.typeName===e&&u.remove(m.id)}const p=u.get();return p?a0(p.value,p.diff):l},{historyLength:50})}exec(e,n){const r=aC(this,e,n);if(r.size===0)return Hb;const s=this.atoms.get();return[...r].map(i=>s[i].get())}}class Vj{constructor(e){this.id=Ha(),this.atoms=o0("store_atoms",{}),this.history=o0("history",0,{historyLength:1e3}),this.query=new u0e(this.atoms,this.history),this.listeners=new Set,this.historyAccumulator=new f0e,this._runCallbacks=!0,this.put=(s,i)=>{rd(()=>{const o={},a={},l=this.atoms.__unsafe__getWithoutCapture();let c=null,d,h=!1;const u=this.onBeforeCreate&&this._runCallbacks?this.onBeforeCreate:null,p=this.onBeforeChange&&this._runCallbacks?this.onBeforeChange:null,y=this.isMergingRemoteChanges?"remote":"user";for(let m=0,w=s.length;m<w;m++){d=s[m];const S=(c??l)[d.id];if(S){p&&(d=p(S.get(),d,y));const b=S.__unsafe__getWithoutCapture();d=this.schema.validateRecord(this,d,i??"updateRecord",b),S.set(d);const g=S.__unsafe__getWithoutCapture();b!==g&&(h=!0,o[d.id]=[b,g])}else u&&(d=u(d,y)),h=!0,d=this.schema.validateRecord(this,d,i??"createRecord",null),a[d.id]=d,c||(c={...l}),c[d.id]=o0("atom:"+d.id,d)}if(c&&this.atoms.set(c),!!h&&(this.updateHistory({added:a,updated:o,removed:{}}),this._runCallbacks)){const{onAfterCreate:m,onAfterChange:w}=this;m&&Object.values(a).forEach(S=>{m(S,y)}),w&&Object.values(o).forEach(([S,b])=>{w(S,b,y)})}})},this.remove=s=>{rd(()=>{const i=[],o=this.isMergingRemoteChanges?"remote":"user";if(this.onBeforeDelete&&this._runCallbacks)for(const l of s){const c=this.atoms.__unsafe__getWithoutCapture()[l];c&&this.onBeforeDelete(c.get(),o)===!1&&i.push(l)}let a;if(this.atoms.update(l=>{let c;for(const d of s)i.includes(d)||d in l&&(c||(c={...l}),a||(a={}),delete c[d],a[d]=l[d].get());return c??l}),!!a&&(this.updateHistory({added:{},updated:{},removed:a}),this.onAfterDelete&&this._runCallbacks)){let l;for(let c=0,d=s.length;c<d;c++)l=a[s[c]],l&&this.onAfterDelete(l,o)}})},this.get=s=>{var i;return(i=this.atoms.get()[s])==null?void 0:i.get()},this.unsafeGetWithoutCapture=s=>{var i;return(i=this.atoms.get()[s])==null?void 0:i.__unsafe__getWithoutCapture()},this.serialize=(s="document")=>{const i={};for(const[o,a]of Jd(this.atoms.get())){const l=a.get();(s==="all"||this.scopedTypes[s].has(l.typeName))&&(i[o]=l)}return i},this.allRecords=()=>Tn(this.atoms.get()).map(s=>s.get()),this.clear=()=>{this.remove(tC(this.atoms.get()))},this.update=(s,i)=>{const o=this.atoms.get()[s];if(!o){console.error(`Record ${s} not found. This is probably an error`);return}this.put([i(o.__unsafe__getWithoutCapture())])},this.has=s=>!!this.atoms.get()[s],this.listen=(s,i)=>{this._flushHistory();const o={onHistory:s,filters:{source:(i==null?void 0:i.source)??"all",scope:(i==null?void 0:i.scope)??"all"}};return this.listeners.add(o),this.historyReactor.scheduler.isActivelyListening||this.historyReactor.start(),()=>{this.listeners.delete(o),this.listeners.size===0&&this.historyReactor.stop()}},this.isMergingRemoteChanges=!1,this.mergeRemoteChanges=s=>{if(this.isMergingRemoteChanges)return s();try{this.isMergingRemoteChanges=!0,rd(s)}finally{this.isMergingRemoteChanges=!1}},this.createComputedCache=(s,i,o)=>{const a=new iC;return{get:l=>{const c=this.atoms.get()[l];if(c)return a.get(c,()=>{const d=o?Li(c.name+":equals",()=>c.get(),{isEqual:o}):c;return Li(s+":"+l,()=>i(d.get()))}).get()}}},this.createSelectedComputedCache=(s,i,o)=>{const a=new iC;return{get:l=>{const c=this.atoms.get()[l];if(!c)return;const d=Li(s+":"+l+":selector",()=>i(c.get()));return a.get(c,()=>Li(s+":"+l,()=>o(d.get()))).get()}}},this.getRecordType=s=>{const i=this.schema.types[s.typeName];if(!i)throw new Error(`Record type ${s.typeName} not found`);return i},this._isPossiblyCorrupted=!1;const{initialData:n,schema:r}=e;this.schema=r,this.props=e.props,n&&this.atoms.set(Wge(Jd(n).map(([s,i])=>[s,o0("atom:"+s,this.schema.validateRecord(this,i,"initialize",null))]))),this.historyReactor=Zge("Store.historyReactor",()=>{this.history.get(),this._flushHistory()},{scheduleEffect:s=>Yge(s)}),this.scopedTypes={document:new Set(Tn(this.schema.types).filter(s=>s.scope==="document").map(s=>s.typeName)),session:new Set(Tn(this.schema.types).filter(s=>s.scope==="session").map(s=>s.typeName)),presence:new Set(Tn(this.schema.types).filter(s=>s.scope==="presence").map(s=>s.typeName))}}_flushHistory(){if(this.historyAccumulator.hasChanges()){const e=this.historyAccumulator.flush();for(const{changes:n,source:r}of e){let s=null,i=null,o=null;for(const{onHistory:a,filters:l}of this.listeners)if(!(l.source!=="all"&&l.source!==r))if(l.scope!=="all")if(l.scope==="document"){if(i??(i=this.filterChangesByScope(n,"document")),!i)continue;a({changes:i,source:r})}else if(l.scope==="session"){if(s??(s=this.filterChangesByScope(n,"session")),!s)continue;a({changes:s,source:r})}else{if(o??(o=this.filterChangesByScope(n,"presence")),!o)continue;a({changes:o,source:r})}else a({changes:n,source:r})}}}filterChangesByScope(e,n){const r={added:f5(e.added,(s,i)=>this.scopedTypes[n].has(i.typeName)),updated:f5(e.updated,(s,i)=>this.scopedTypes[n].has(i[1].typeName)),removed:f5(e.removed,(s,i)=>this.scopedTypes[n].has(i.typeName))};return Object.keys(r.added).length===0&&Object.keys(r.updated).length===0&&Object.keys(r.removed).length===0?null:r}updateHistory(e){this.historyAccumulator.add({changes:e,source:this.isMergingRemoteChanges?"remote":"user"}),this.listeners.size===0&&this.historyAccumulator.clear(),this.history.set(this.history.get()+1,e)}validate(e){this.allRecords().forEach(n=>this.schema.validateRecord(this,n,e,null))}getSnapshot(e="document"){return{store:this.serialize(e),schema:this.schema.serialize()}}migrateSnapshot(e){const n=this.schema.migrateStoreSnapshot(e);if(n.type==="error")throw new Error(`Failed to migrate snapshot: ${n.reason}`);return{store:n.value,schema:this.schema.serialize()}}loadSnapshot(e){const n=this.schema.migrateStoreSnapshot(e);if(n.type==="error")throw new Error(`Failed to migrate snapshot: ${n.reason}`);rd(()=>{this.clear(),this.put(Object.values(n.value)),this.ensureStoreIsUsable()})}extractingChanges(e){const n=[],r=this.historyAccumulator.intercepting(s=>n.push(s.changes));try{return rd(e),o2(n)}finally{r()}}applyDiff(e,n=!0){const r=this._runCallbacks;try{this._runCallbacks=n,rd(()=>{const s=Tn(e.added).concat(Tn(e.updated).map(([o,a])=>a)),i=tC(e.removed);s.length&&this.put(s),i.length&&this.remove(i)})}finally{this._runCallbacks=r}}ensureStoreIsUsable(){var e;this._integrityChecker??(this._integrityChecker=this.schema.createIntegrityChecker(this)),(e=this._integrityChecker)==null||e.call(this)}markAsPossiblyCorrupted(){this._isPossiblyCorrupted=!0}isPossiblyCorrupted(){return this._isPossiblyCorrupted}}function o2(t){const e={added:{},removed:{},updated:{}};for(const n of t){for(const[r,s]of Jd(n.added))if(e.removed[r]){const i=e.removed[r];delete e.removed[r],i!==s&&(e.updated[r]=[i,s])}else e.added[r]=s;for(const[r,[s,i]]of Jd(n.updated)){if(e.added[r]){e.added[r]=i,delete e.updated[r],delete e.removed[r];continue}if(e.updated[r]){e.updated[r]=[e.updated[r][0],i],delete e.removed[r];continue}e.updated[r]=n.updated[r],delete e.removed[r]}for(const[r,s]of Jd(n.removed))e.added[r]?delete e.added[r]:e.updated[r]?(e.removed[r]=e.updated[r][0],delete e.updated[r]):e.removed[r]=s}return e}function p0e(t){const e=[];let n=t[0],r;for(let s=1,i=t.length;s<i;s++)r=t[s],n.source!==r.source?(e.push(n),n=r):n={source:n.source,changes:o2([n.changes,r.changes])};return e.push(n),e}class f0e{constructor(){this._history=[],this._interceptors=new Set}intercepting(e){return this._interceptors.add(e),()=>{this._interceptors.delete(e)}}add(e){this._history.push(e);for(const n of this._interceptors)n(e)}flush(){const e=p0e(this._history);return this._history=[],e}clear(){this._history=[]}hasChanges(){return this._history.length>0}}function Xj(t){const{currentVersion:e,firstVersion:n,migrators:r={},subTypeKey:s,subTypeMigrations:i}=t;if(typeof e=="number"&&typeof n=="number"){if(e===n)throw Error("Current version is equal to initial version.");if(e<n)throw Error("Current version is lower than initial version.")}return{firstVersion:n??0,currentVersion:e??0,migrators:r,subTypeKey:s,subTypeMigrations:i}}function Yj({value:t,migrations:e,fromVersion:n,toVersion:r}){let s=n;for(;s<r;){const i=s+1,o=e.migrators[i];if(!o)return{type:"error",reason:"target-version-too-new"};t=o.up(t),s=i}for(;s>r;){const i=s-1,o=e.migrators[s];if(!o)return{type:"error",reason:"target-version-too-old"};t=o.down(t),s=i}return{type:"success",value:t}}const g0e=(t,e)=>{if(t.schemaVersion>e.schemaVersion)return 1;if(t.schemaVersion<e.schemaVersion)return-1;if(t.storeVersion>e.storeVersion)return 1;if(t.storeVersion<e.storeVersion)return-1;for(const n of Object.keys(t.recordVersions)){const r=t.recordVersions[n],s=e.recordVersions[n];if(r.version>s.version)return 1;if(r.version<s.version)return-1;if("subTypeVersions"in r&&!("subTypeVersions"in s))return 1;if(!("subTypeVersions"in r)&&"subTypeVersions"in s)return-1;if(!(!("subTypeVersions"in r)||!("subTypeVersions"in s)))for(const i of Object.keys(r.subTypeVersions)){const o=r.subTypeVersions[i],a=s.subTypeVersions[i];if(o>a)return 1;if(o<a)return-1}}return 0};function m0e(t,e){const n=e&&t&&typeof t=="object"&&e in t?t[e]:t;throw new Error(`Unknown switch case ${n}`)}function Zb(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Hj(t,e){if(Zb(t,e))return t[e]}function y0e(t){if(!t.length)return null;let e="";for(const n of t)typeof n=="number"?e+=`.${n}`:n.startsWith("(")?e.endsWith(")")?e=`${e.slice(0,-1)}, ${n.slice(1)}`:e+=n:e+=`.${n}`;return e.startsWith(".")?e.slice(1):e}let Ft=class extends Error{constructor(e,n=[]){const r=y0e(n),s=e.split(`
`).map((i,o)=>o===0?i:`  ${i}`).join(`
`);super(n?`At ${r}: ${s}`:s),this.rawMessage=e,this.path=n,this.name="ValidationError"}};function Bh(t,e){try{return e()}catch(n){throw n instanceof Ft?new Ft(n.rawMessage,[t,...n.path]):new Ft(n.toString(),[t])}}function xh(t){if(t===null)return"null";if(Array.isArray(t))return"an array";const e=typeof t;switch(e){case"bigint":case"boolean":case"function":case"number":case"string":case"symbol":return`a ${e}`;case"object":return`an ${e}`;case"undefined":return"undefined";default:m0e(e)}}let Ss=class Gj{constructor(e){this.validationFn=e}validate(e){return this.validationFn(e)}nullable(){return _0e(this)}optional(){return Qj(this)}refine(e){return new Gj(n=>e(this.validate(n)))}check(e,n){return typeof e=="string"?this.refine(r=>(Bh(`(check ${e})`,()=>n(r)),r)):this.refine(r=>(e(r),r))}},x0e=class extends Ss{constructor(e){super(n=>{const r=k0e.validate(n);for(let s=0;s<r.length;s++)Bh(s,()=>e.validate(r[s]));return r}),this.itemValidator=e}nonEmpty(){return this.check(e=>{if(e.length===0)throw new Ft("Expected a non-empty array")})}lengthGreaterThan1(){return this.check(e=>{if(e.length<=1)throw new Ft("Expected an array with length greater than 1")})}},w0e=class F3 extends Ss{constructor(e,n=!1){super(r=>{if(typeof r!="object"||r===null)throw new Ft(`Expected object, got ${xh(r)}`);for(const[s,i]of Object.entries(e))Bh(s,()=>{i.validate(Hj(r,s))});if(!n){for(const s of Object.keys(r))if(!Zb(e,s))throw new Ft("Unexpected property",[s])}return r}),this.config=e,this.shouldAllowUnknownProperties=n}allowUnknownProperties(){return new F3(this.config,!0)}extend(e){return new F3({...this.config,...e})}};class Qb extends Ss{constructor(e,n,r){super(s=>{if(typeof s!="object"||s===null)throw new Ft(`Expected an object, got ${xh(s)}`,[]);const i=Hj(s,e);if(typeof i!="string")throw new Ft(`Expected a string for key "${e}", got ${xh(i)}`);const o=Zb(n,i)?n[i]:void 0;return o===void 0?this.unknownValueValidation(s,i):Bh(`(${e} = ${i})`,()=>o.validate(s))}),this.key=e,this.config=n,this.unknownValueValidation=r}validateUnknownVariants(e){return new Qb(this.key,this.config,e)}}class S0e extends Ss{constructor(e,n){super(r=>{if(typeof r!="object"||r===null)throw new Ft(`Expected object, got ${xh(r)}`);for(const[s,i]of Object.entries(r))Bh(s,()=>{e.validate(s),n.validate(i)});return r}),this.keyValidator=e,this.valueValidator=n}}function Jb(t){return new Ss(e=>{if(typeof e!==t)throw new Ft(`Expected ${t}, got ${xh(e)}`);return e})}const b0e=new Ss(t=>t),Ze=Jb("string"),je=Jb("number").check(t=>{if(Number.isNaN(t))throw new Ft("Expected a number, got NaN");if(!Number.isFinite(t))throw new Ft(`Expected a finite number, got ${t}`)}),v0e=je.check(t=>{if(t<0)throw new Ft(`Expected a positive number, got ${t}`)}),wh=je.check(t=>{if(t<=0)throw new Ft(`Expected a non-zero positive number, got ${t}`)}),Zj=je.check(t=>{if(!Number.isInteger(t))throw new Ft(`Expected an integer, got ${t}`)});Zj.check(t=>{if(t<0)throw new Ft(`Expected a positive integer, got ${t}`)});Zj.check(t=>{if(t<=0)throw new Ft(`Expected a non-zero positive integer, got ${t}`)});const ut=Jb("boolean");function Fr(t){return new Ss(e=>{if(e!==t)throw new Ft(`Expected ${t}, got ${JSON.stringify(e)}`);return t})}const k0e=new Ss(t=>{if(!Array.isArray(t))throw new Ft(`Expected an array, got ${xh(t)}`);return t});function Bs(t){return new x0e(t)}function vt(t){return new w0e(t)}function K3(t){return t===null||typeof t=="number"||typeof t=="string"||typeof t=="boolean"?!0:Array.isArray(t)?t.every(K3):typeof t=="object"?Object.values(t).every(K3):!1}const lo=new Ss(t=>{if(K3(t))return t;throw new Ft(`Expected json serializable value, got ${typeof t}`)});function C0e(t,e){return new S0e(t,e)}function e6(t,e){return new Qb(t,e,(n,r)=>{throw new Ft(`Expected one of ${Object.keys(e).map(s=>JSON.stringify(s)).join(" or ")}, got ${JSON.stringify(r)}`,[t])})}function ta(t,e){return new Ss(n=>{const r=n&&typeof n=="object"&&"id"in n&&typeof n.id=="string"?`${t}(id = ${n.id})`:t;return Bh(r,()=>e.validate(n))})}function Uf(t){return new Ss(e=>{if(!t.has(e)){const n=Array.from(t,r=>JSON.stringify(r)).join(" or ");throw new Ft(`Expected ${n}, got ${e}`)}return e})}function Qj(t){return new Ss(e=>{if(e!==void 0)return t.validate(e)})}function _0e(t){return new Ss(e=>e===null?null:t.validate(e))}function Jj(...t){return Uf(new Set(t))}function gi(t){return Ze.refine(e=>{if(!e.startsWith(`${t}:`))throw new Error(`${t} ID must start with "${t}:"`);return e})}const a2=gi("asset");function t6(t,e){return vt({id:a2,typeName:Fr("asset"),type:Fr(t),props:e,meta:lo})}function eR(t){return t&&typeof t=="object"&&"parents"in t}function tR(t){for(let e=0,n=t.parents.length;e<n;e++)if(t.parents[e].__unsafe__getWithoutCapture(),t.parents[e].lastChangedEpoch!==t.parentEpochs[e])return!0;return!1}const py=(t,e)=>{if(t.children.remove(e)&&t.children.isEmpty&&eR(t))for(let n=0,r=t.parents.length;n<r;n++)py(t.parents[n],t)},n6=(t,e)=>{if(t.children.add(e)&&eR(t))for(let n=0,r=t.parents.length;n<r;n++)n6(t.parents[n],t)};function nR(t,e){return t===e||Object.is(t,e)||!!(t&&e&&typeof t.equals=="function"&&t.equals(e))}function ll(t,e){const n=Symbol.for(`com.tldraw.state/${t}`),r=globalThis;return r[n]??(r[n]=e()),r[n]}const rR=ll("empty_array",()=>Object.freeze([])),lC=8;let sR=class{constructor(){this.arraySize=0,this.array=Array(lC),this.set=null}get isEmpty(){if(this.array)return this.arraySize===0;if(this.set)return this.set.size===0;throw new Error("no set or array")}add(e){if(this.array)return this.array.indexOf(e)!==-1?!1:this.arraySize<lC?(this.array[this.arraySize]=e,this.arraySize++,!0):(this.set=new Set(this.array),this.array=null,this.set.add(e),!0);if(this.set)return this.set.has(e)?!1:(this.set.add(e),!0);throw new Error("no set or array")}remove(e){if(this.array){const n=this.array.indexOf(e);return n===-1?!1:(this.array[n]=void 0,this.arraySize--,n!==this.arraySize&&(this.array[n]=this.array[this.arraySize],this.array[this.arraySize]=void 0),!0)}if(this.set)return this.set.has(e)?(this.set.delete(e),!0):!1;throw new Error("no set or array")}visit(e){if(this.array){for(let n=0;n<this.arraySize;n++){const r=this.array[n];typeof r<"u"&&e(r)}return}if(this.set){this.set.forEach(e);return}throw new Error("no set or array")}};const rc=Symbol.for("com.tldraw.state/RESET_VALUE");let iR=class{constructor(e){this.capacity=e,this.index=0,this.buffer=new Array(e)}pushEntry(e,n,r){if(r!==void 0){if(r===rc){this.clear();return}this.buffer[this.index]=[e,n,r],this.index=(this.index+1)%this.capacity}}clear(){this.index=0,this.buffer.fill(void 0)}getChangesSince(e){const{index:n,capacity:r,buffer:s}=this;for(let i=0;i<r;i++){const o=(n-1+r-i)%r,a=s[o];if(!a)return rc;const[l,c]=a;if(i===0&&e>=c)return[];if(l<=e&&e<c){const d=i+1,h=new Array(d);for(let u=0;u<d;u++)h[u]=s[(o+u)%r][2];return h}}return rc}},E0e=class{constructor(e,n){this.below=e,this.child=n,this.offset=0,this.numNewParents=0}};const Mt=ll("capture",()=>({stack:null}));function oR(t){Mt.stack=new E0e(Mt.stack,t)}function aR(){var n;const t=Mt.stack;if(Mt.stack=t.below,t.numNewParents>0||t.offset!==t.child.parents.length){for(let r=t.offset;r<t.child.parents.length;r++){const s=t.child.parents[r];t.child.parents.indexOf(s)>=t.offset&&py(s,t.child)}if(t.child.parents.length=t.offset,t.child.parentEpochs.length=t.offset,(n=Mt.stack)!=null&&n.maybeRemoved)for(let r=0;r<Mt.stack.maybeRemoved.length;r++){const s=Mt.stack.maybeRemoved[r];t.child.parents.indexOf(s)===-1&&py(s,t.child)}}}function W3(t){if(Mt.stack){const e=Mt.stack.child.parents.indexOf(t);if(e<0&&(Mt.stack.numNewParents++,Mt.stack.child.isActivelyListening&&n6(t,Mt.stack.child)),e<0||e>=Mt.stack.offset){if(e!==Mt.stack.offset&&e>0){const n=Mt.stack.child.parents[Mt.stack.offset];Mt.stack.maybeRemoved?Mt.stack.maybeRemoved.indexOf(n)===-1&&Mt.stack.maybeRemoved.push(n):Mt.stack.maybeRemoved=[n]}Mt.stack.child.parents[Mt.stack.offset]=t,Mt.stack.child.parentEpochs[Mt.stack.offset]=t.lastChangedEpoch,Mt.stack.offset++}}}const Vl=-1;let I0e=class{constructor(e,n,r){this.name=e,this.runEffect=n,this._isActivelyListening=!1,this.lastTraversedEpoch=Vl,this.lastReactedEpoch=Vl,this._scheduleCount=0,this.parentEpochs=[],this.parents=[],this.maybeExecute=()=>{this._isActivelyListening&&this.execute()},this._scheduleEffect=r==null?void 0:r.scheduleEffect}get isActivelyListening(){return this._isActivelyListening}get scheduleCount(){return this._scheduleCount}maybeScheduleEffect(){if(this._isActivelyListening&&this.lastReactedEpoch!==as()){if(this.parents.length&&!tR(this)){this.lastReactedEpoch=as();return}this.scheduleEffect()}}scheduleEffect(){this._scheduleCount++,this._scheduleEffect?this._scheduleEffect(this.maybeExecute):this.execute()}attach(){this._isActivelyListening=!0;for(let e=0,n=this.parents.length;e<n;e++)n6(this.parents[e],this)}detach(){this._isActivelyListening=!1;for(let e=0,n=this.parents.length;e<n;e++)py(this.parents[e],this)}execute(){try{oR(this);const e=this.runEffect(this.lastReactedEpoch);return this.lastReactedEpoch=as(),e}finally{aR()}}};const P0e=ll("EffectScheduler",()=>I0e),qi=ll("transactions",()=>({globalEpoch:Vl+1,globalIsReacting:!1,currentTransaction:null}));function as(){return qi.globalEpoch}function z0e(t){if(qi.globalIsReacting)throw new Error("cannot change atoms during reaction cycle");try{qi.globalIsReacting=!0;const e=new Set,n=r=>{r.lastTraversedEpoch!==qi.globalEpoch&&(r.lastTraversedEpoch=qi.globalEpoch,r instanceof P0e?e.add(r):r.children.visit(n))};for(const r of t)r.children.visit(n);for(const r of e)r.maybeScheduleEffect()}finally{qi.globalIsReacting=!1}}function A0e(t,e){qi.currentTransaction?qi.currentTransaction.initialAtomValues.has(t)||qi.currentTransaction.initialAtomValues.set(t,e):z0e([t])}function N0e(){qi.globalEpoch++}let T0e=class{constructor(e,n,r){this.name=e,this.current=n,this.lastChangedEpoch=as(),this.children=new sR,this.isEqual=(r==null?void 0:r.isEqual)??null,r&&(r.historyLength&&(this.historyBuffer=new iR(r.historyLength)),this.computeDiff=r.computeDiff)}__unsafe__getWithoutCapture(){return this.current}get(){return W3(this),this.current}set(e,n){var s,i;if(((s=this.isEqual)==null?void 0:s.call(this,this.current,e))??nR(this.current,e))return this.current;N0e(),this.historyBuffer&&this.historyBuffer.pushEntry(this.lastChangedEpoch,as(),n??((i=this.computeDiff)==null?void 0:i.call(this,this.current,e,this.lastChangedEpoch,as()))??rc),this.lastChangedEpoch=as();const r=this.current;return this.current=e,A0e(this,r),e}update(e){return this.set(e(this.current))}getDiffSince(e){var n;return W3(this),e>=this.lastChangedEpoch?rR:((n=this.historyBuffer)==null?void 0:n.getChangesSince(e))??rc}};ll("Atom",()=>T0e);const cC=Symbol.for("com.tldraw.state/UNINITIALIZED"),dC=ll("WithDiff",()=>class{constructor(e,n){this.value=e,this.diff=n}});let L0e=class{constructor(e,n,r){this.name=e,this.derive=n,this.lastChangedEpoch=Vl,this.lastTraversedEpoch=Vl,this.lastCheckedEpoch=Vl,this.parents=[],this.parentEpochs=[],this.children=new sR,this.state=cC,r!=null&&r.historyLength&&(this.historyBuffer=new iR(r.historyLength)),this.computeDiff=r==null?void 0:r.computeDiff,this.isEqual=(r==null?void 0:r.isEqual)??nR}get isActivelyListening(){return!this.children.isEmpty}__unsafe__getWithoutCapture(){var n;const e=this.lastChangedEpoch===Vl;if(!e&&(this.lastCheckedEpoch===as()||!tR(this)))return this.lastCheckedEpoch=as(),this.state;try{oR(this);const r=this.derive(this.state,this.lastCheckedEpoch),s=r instanceof dC?r.value:r;if(this.state===cC||!this.isEqual(s,this.state)){if(this.historyBuffer&&!e){const i=r instanceof dC?r.diff:void 0;this.historyBuffer.pushEntry(this.lastChangedEpoch,as(),i??((n=this.computeDiff)==null?void 0:n.call(this,this.state,s,this.lastCheckedEpoch,as()))??rc)}this.lastChangedEpoch=as(),this.state=s}return this.lastCheckedEpoch=as(),this.state}finally{aR()}}get(){const e=this.__unsafe__getWithoutCapture();return W3(this),e}getDiffSince(e){var n;return this.get(),e>=this.lastChangedEpoch?rR:((n=this.historyBuffer)==null?void 0:n.getChangesSince(e))??rc}};ll("Computed",()=>L0e);const lR=1,M0e=ll("apiVersion",()=>lR);if(M0e!==lR)throw new Error("You have multiple incompatible versions of @tldraw/state in your app. Please deduplicate the package.");function j0e(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function hC(t,e){if(j0e(t,e))return t[e]}function y5(t){return Object.values(t)}const R0e=typeof window<"u"&&window.structuredClone?window.structuredClone:t=>t&&JSON.parse(JSON.stringify(t));class r6{constructor(e,n){this.typeName=e,this.isInstance=r=>(r==null?void 0:r.typeName)===this.typeName,this.createDefaultProperties=n.createDefaultProperties,this.migrations=n.migrations,this.validator=n.validator??{validate:r=>r},this.scope=n.scope??"document"}create(e){const n={...this.createDefaultProperties(),id:this.createId()};for(const[r,s]of Object.entries(e))s!==void 0&&(n[r]=s);return n.typeName=this.typeName,n}clone(e){return{...R0e(e),id:this.createId()}}createId(e){return this.typeName+":"+(e??Ha())}createCustomId(e){return this.typeName+":"+e}parseId(e){if(!this.isId(e))throw new Error(`ID "${e}" is not a valid ID for type "${this.typeName}"`);return e.slice(this.typeName.length+1)}isId(e){if(!e)return!1;for(let n=0;n<this.typeName.length;n++)if(e[n]!==this.typeName[n])return!1;return e[this.typeName.length]===":"}withDefaultProperties(e){return new r6(this.typeName,{createDefaultProperties:e,migrations:this.migrations,validator:this.validator,scope:this.scope})}validate(e){return this.validator.validate(e)}}function na(t,e){return new r6(t,{createDefaultProperties:()=>({}),migrations:e.migrations??{currentVersion:0,firstVersion:0,migrators:{}},validator:e.validator,scope:e.scope})}function cR(t){return t&&typeof t=="object"&&"parents"in t}function dR(t){for(let e=0,n=t.parents.length;e<n;e++)if(t.parents[e].__unsafe__getWithoutCapture(),t.parents[e].lastChangedEpoch!==t.parentEpochs[e])return!0;return!1}const fy=(t,e)=>{if(t.children.remove(e)&&t.children.isEmpty&&cR(t))for(let n=0,r=t.parents.length;n<r;n++)fy(t.parents[n],t)},s6=(t,e)=>{if(t.children.add(e)&&cR(t))for(let n=0,r=t.parents.length;n<r;n++)s6(t.parents[n],t)};function hR(t,e){return t===e||Object.is(t,e)||!!(t&&e&&typeof t.equals=="function"&&t.equals(e))}function cl(t,e){const n=Symbol.for(`com.tldraw.state/${t}`),r=globalThis;return r[n]??(r[n]=e()),r[n]}const uR=cl("empty_array",()=>Object.freeze([])),uC=8;class pR{constructor(){this.arraySize=0,this.array=Array(uC),this.set=null}get isEmpty(){if(this.array)return this.arraySize===0;if(this.set)return this.set.size===0;throw new Error("no set or array")}add(e){if(this.array)return this.array.indexOf(e)!==-1?!1:this.arraySize<uC?(this.array[this.arraySize]=e,this.arraySize++,!0):(this.set=new Set(this.array),this.array=null,this.set.add(e),!0);if(this.set)return this.set.has(e)?!1:(this.set.add(e),!0);throw new Error("no set or array")}remove(e){if(this.array){const n=this.array.indexOf(e);return n===-1?!1:(this.array[n]=void 0,this.arraySize--,n!==this.arraySize&&(this.array[n]=this.array[this.arraySize],this.array[this.arraySize]=void 0),!0)}if(this.set)return this.set.has(e)?(this.set.delete(e),!0):!1;throw new Error("no set or array")}visit(e){if(this.array){for(let n=0;n<this.arraySize;n++){const r=this.array[n];typeof r<"u"&&e(r)}return}if(this.set){this.set.forEach(e);return}throw new Error("no set or array")}}const sc=Symbol.for("com.tldraw.state/RESET_VALUE");class fR{constructor(e){this.capacity=e,this.index=0,this.buffer=new Array(e)}pushEntry(e,n,r){if(r!==void 0){if(r===sc){this.clear();return}this.buffer[this.index]=[e,n,r],this.index=(this.index+1)%this.capacity}}clear(){this.index=0,this.buffer.fill(void 0)}getChangesSince(e){const{index:n,capacity:r,buffer:s}=this;for(let i=0;i<r;i++){const o=(n-1+r-i)%r,a=s[o];if(!a)return sc;const[l,c]=a;if(i===0&&e>=c)return[];if(l<=e&&e<c){const d=i+1,h=new Array(d);for(let u=0;u<d;u++)h[u]=s[(o+u)%r][2];return h}}return sc}}class $0e{constructor(e,n){this.below=e,this.child=n,this.offset=0,this.numNewParents=0}}const jt=cl("capture",()=>({stack:null}));function gR(t){jt.stack=new $0e(jt.stack,t)}function mR(){var n;const t=jt.stack;if(jt.stack=t.below,t.numNewParents>0||t.offset!==t.child.parents.length){for(let r=t.offset;r<t.child.parents.length;r++){const s=t.child.parents[r];t.child.parents.indexOf(s)>=t.offset&&fy(s,t.child)}if(t.child.parents.length=t.offset,t.child.parentEpochs.length=t.offset,(n=jt.stack)!=null&&n.maybeRemoved)for(let r=0;r<jt.stack.maybeRemoved.length;r++){const s=jt.stack.maybeRemoved[r];t.child.parents.indexOf(s)===-1&&fy(s,t.child)}}}function U3(t){if(jt.stack){const e=jt.stack.child.parents.indexOf(t);if(e<0&&(jt.stack.numNewParents++,jt.stack.child.isActivelyListening&&s6(t,jt.stack.child)),e<0||e>=jt.stack.offset){if(e!==jt.stack.offset&&e>0){const n=jt.stack.child.parents[jt.stack.offset];jt.stack.maybeRemoved?jt.stack.maybeRemoved.indexOf(n)===-1&&jt.stack.maybeRemoved.push(n):jt.stack.maybeRemoved=[n]}jt.stack.child.parents[jt.stack.offset]=t,jt.stack.child.parentEpochs[jt.stack.offset]=t.lastChangedEpoch,jt.stack.offset++}}}const Xl=-1;class O0e{constructor(e,n,r){this.name=e,this.runEffect=n,this._isActivelyListening=!1,this.lastTraversedEpoch=Xl,this.lastReactedEpoch=Xl,this._scheduleCount=0,this.parentEpochs=[],this.parents=[],this.maybeExecute=()=>{this._isActivelyListening&&this.execute()},this._scheduleEffect=r==null?void 0:r.scheduleEffect}get isActivelyListening(){return this._isActivelyListening}get scheduleCount(){return this._scheduleCount}maybeScheduleEffect(){if(this._isActivelyListening&&this.lastReactedEpoch!==ls()){if(this.parents.length&&!dR(this)){this.lastReactedEpoch=ls();return}this.scheduleEffect()}}scheduleEffect(){this._scheduleCount++,this._scheduleEffect?this._scheduleEffect(this.maybeExecute):this.execute()}attach(){this._isActivelyListening=!0;for(let e=0,n=this.parents.length;e<n;e++)s6(this.parents[e],this)}detach(){this._isActivelyListening=!1;for(let e=0,n=this.parents.length;e<n;e++)fy(this.parents[e],this)}execute(){try{gR(this);const e=this.runEffect(this.lastReactedEpoch);return this.lastReactedEpoch=ls(),e}finally{mR()}}}const D0e=cl("EffectScheduler",()=>O0e),Bi=cl("transactions",()=>({globalEpoch:Xl+1,globalIsReacting:!1,currentTransaction:null}));function ls(){return Bi.globalEpoch}function q0e(t){if(Bi.globalIsReacting)throw new Error("cannot change atoms during reaction cycle");try{Bi.globalIsReacting=!0;const e=new Set,n=r=>{r.lastTraversedEpoch!==Bi.globalEpoch&&(r.lastTraversedEpoch=Bi.globalEpoch,r instanceof D0e?e.add(r):r.children.visit(n))};for(const r of t)r.children.visit(n);for(const r of e)r.maybeScheduleEffect()}finally{Bi.globalIsReacting=!1}}function B0e(t,e){Bi.currentTransaction?Bi.currentTransaction.initialAtomValues.has(t)||Bi.currentTransaction.initialAtomValues.set(t,e):q0e([t])}function F0e(){Bi.globalEpoch++}class K0e{constructor(e,n,r){this.name=e,this.current=n,this.lastChangedEpoch=ls(),this.children=new pR,this.isEqual=(r==null?void 0:r.isEqual)??null,r&&(r.historyLength&&(this.historyBuffer=new fR(r.historyLength)),this.computeDiff=r.computeDiff)}__unsafe__getWithoutCapture(){return this.current}get(){return U3(this),this.current}set(e,n){var s,i;if(((s=this.isEqual)==null?void 0:s.call(this,this.current,e))??hR(this.current,e))return this.current;F0e(),this.historyBuffer&&this.historyBuffer.pushEntry(this.lastChangedEpoch,ls(),n??((i=this.computeDiff)==null?void 0:i.call(this,this.current,e,this.lastChangedEpoch,ls()))??sc),this.lastChangedEpoch=ls();const r=this.current;return this.current=e,B0e(this,r),e}update(e){return this.set(e(this.current))}getDiffSince(e){var n;return U3(this),e>=this.lastChangedEpoch?uR:((n=this.historyBuffer)==null?void 0:n.getChangesSince(e))??sc}}cl("Atom",()=>K0e);const pC=Symbol.for("com.tldraw.state/UNINITIALIZED"),fC=cl("WithDiff",()=>class{constructor(e,n){this.value=e,this.diff=n}});class W0e{constructor(e,n,r){this.name=e,this.derive=n,this.lastChangedEpoch=Xl,this.lastTraversedEpoch=Xl,this.lastCheckedEpoch=Xl,this.parents=[],this.parentEpochs=[],this.children=new pR,this.state=pC,r!=null&&r.historyLength&&(this.historyBuffer=new fR(r.historyLength)),this.computeDiff=r==null?void 0:r.computeDiff,this.isEqual=(r==null?void 0:r.isEqual)??hR}get isActivelyListening(){return!this.children.isEmpty}__unsafe__getWithoutCapture(){var n;const e=this.lastChangedEpoch===Xl;if(!e&&(this.lastCheckedEpoch===ls()||!dR(this)))return this.lastCheckedEpoch=ls(),this.state;try{gR(this);const r=this.derive(this.state,this.lastCheckedEpoch),s=r instanceof fC?r.value:r;if(this.state===pC||!this.isEqual(s,this.state)){if(this.historyBuffer&&!e){const i=r instanceof fC?r.diff:void 0;this.historyBuffer.pushEntry(this.lastChangedEpoch,ls(),i??((n=this.computeDiff)==null?void 0:n.call(this,this.state,s,this.lastCheckedEpoch,ls()))??sc)}this.lastChangedEpoch=ls(),this.state=s}return this.lastCheckedEpoch=ls(),this.state}finally{mR()}}get(){const e=this.__unsafe__getWithoutCapture();return U3(this),e}getDiffSince(e){var n;return this.get(),e>=this.lastChangedEpoch?uR:((n=this.historyBuffer)==null?void 0:n.getChangesSince(e))??sc}}cl("Computed",()=>W0e);const yR=1,U0e=cl("apiVersion",()=>yR);if(U0e!==yR)throw new Error("You have multiple incompatible versions of @tldraw/state in your app. Please deduplicate the package.");function V0e(t){return typeof t=="object"&&t!==null&&"id"in t&&"typeName"in t}function gt(t){const{currentVersion:e,firstVersion:n,migrators:r={},subTypeKey:s,subTypeMigrations:i}=t;if(typeof e=="number"&&typeof n=="number"){if(e===n)throw Error("Current version is equal to initial version.");if(e<n)throw Error("Current version is lower than initial version.")}return{firstVersion:n??0,currentVersion:e??0,migrators:r,subTypeKey:s,subTypeMigrations:i}}var Fu=(t=>(t.IncompatibleSubtype="incompatible-subtype",t.UnknownType="unknown-type",t.TargetVersionTooNew="target-version-too-new",t.TargetVersionTooOld="target-version-too-old",t.MigrationError="migration-error",t.UnrecognizedSubtype="unrecognized-subtype",t))(Fu||{});function l0({record:t,migrations:e,fromVersion:n,toVersion:r}){let s=n;if(!V0e(t))throw new Error("[migrateRecord] object is not a record");const{typeName:i,id:o,...a}=t;let l=a;for(;s<r;){const c=s+1,d=e.migrators[c];if(!d)return{type:"error",reason:"target-version-too-new"};l=d.up(l),s=c}for(;s>r;){const c=s-1,d=e.migrators[s];if(!d)return{type:"error",reason:"target-version-too-old"};l=d.down(l),s=c}return{type:"success",value:{...l,id:o,typeName:i}}}function X0e({value:t,migrations:e,fromVersion:n,toVersion:r}){let s=n;for(;s<r;){const i=s+1,o=e.migrators[i];if(!o)return{type:"error",reason:"target-version-too-new"};t=o.up(t),s=i}for(;s>r;){const i=s-1,o=e.migrators[s];if(!o)return{type:"error",reason:"target-version-too-old"};t=o.down(t),s=i}return{type:"success",value:t}}class i6{constructor(e,n){this.types=e,this.options=n}static create(e,n){return new i6(e,n??{})}get currentStoreVersion(){var e;return((e=this.options.snapshotMigrations)==null?void 0:e.currentVersion)??0}validateRecord(e,n,r,s){try{const i=hC(this.types,n.typeName);if(!i)throw new Error(`Missing definition for record type ${n.typeName}`);return i.validate(n)}catch(i){if(this.options.onValidationFailure)return this.options.onValidationFailure({store:e,record:n,phase:r,recordBefore:s,error:i});throw i}}migratePersistedRecord(e,n,r="up"){var h;const s=hC(this.types,e.typeName),i=n.recordVersions[e.typeName];if(!i||!s)return{type:"error",reason:Fu.UnknownType};const o=s.migrations.currentVersion,a=i.version;if(o!==a){const u=l0(r==="up"?{record:e,migrations:s.migrations,fromVersion:a,toVersion:o}:{record:e,migrations:s.migrations,fromVersion:o,toVersion:a});if(u.type==="error")return u;e=u.value}if(!s.migrations.subTypeKey)return{type:"success",value:e};const l=(h=s.migrations.subTypeMigrations)==null?void 0:h[e[s.migrations.subTypeKey]],c="subTypeVersions"in i?i.subTypeVersions[e[s.migrations.subTypeKey]]:void 0;if(l===void 0)return{type:"error",reason:Fu.UnrecognizedSubtype};if(c===void 0)return{type:"error",reason:Fu.IncompatibleSubtype};const d=l0(r==="up"?{record:e,migrations:l,fromVersion:c,toVersion:l.currentVersion}:{record:e,migrations:l,fromVersion:l.currentVersion,toVersion:c});return d.type==="error"?d:{type:"success",value:d.value}}migrateStoreSnapshot(e){let{store:n}=e;const r=this.options.snapshotMigrations;if(!r)return{type:"success",value:n};const s=r.currentVersion,i=e.schema.storeVersion??0;if(s<i)return{type:"error",reason:Fu.TargetVersionTooOld};if(s>i){const a=X0e({value:n,migrations:r,fromVersion:i,toVersion:s});if(a.type==="error")return a;n=a.value}const o=[];for(const a of y5(n)){const l=this.migratePersistedRecord(a,e.schema);if(l.type==="error")return l;l.value&&l.value!==a&&o.push(l.value)}if(o.length){n={...n};for(const a of o)n[a.id]=a}return{type:"success",value:n}}createIntegrityChecker(e){var n,r;return((r=(n=this.options).createIntegrityChecker)==null?void 0:r.call(n,e))??void 0}serialize(){var e;return{schemaVersion:1,storeVersion:((e=this.options.snapshotMigrations)==null?void 0:e.currentVersion)??0,recordVersions:Object.fromEntries(y5(this.types).map(n=>[n.typeName,n.migrations.subTypeKey&&n.migrations.subTypeMigrations?{version:n.migrations.currentVersion,subTypeKey:n.migrations.subTypeKey,subTypeVersions:n.migrations.subTypeMigrations?Object.fromEntries(Object.entries(n.migrations.subTypeMigrations).map(([r,s])=>[r,s.currentVersion])):void 0}:{version:n.migrations.currentVersion}]))}}serializeEarliestVersion(){var e;return{schemaVersion:1,storeVersion:((e=this.options.snapshotMigrations)==null?void 0:e.firstVersion)??0,recordVersions:Object.fromEntries(y5(this.types).map(n=>[n.typeName,n.migrations.subTypeKey&&n.migrations.subTypeMigrations?{version:n.migrations.firstVersion,subTypeKey:n.migrations.subTypeKey,subTypeVersions:n.migrations.subTypeMigrations?Object.fromEntries(Object.entries(n.migrations.subTypeMigrations).map(([r,s])=>[r,s.firstVersion])):void 0}:{version:n.migrations.firstVersion}]))}}}const Y0e=ta("camera",vt({typeName:Fr("camera"),id:gi("camera"),x:je,y:je,z:je,meta:lo})),gC={AddMeta:1},H0e=gt({currentVersion:gC.AddMeta,migrators:{[gC.AddMeta]:{up:t=>({...t,meta:{}}),down:({meta:t,...e})=>({...e})}}}),Jn=na("camera",{validator:Y0e,migrations:H0e,scope:"session"}).withDefaultProperties(()=>({x:0,y:0,z:1,meta:{}})),of=vt({x:je,y:je,z:je.optional()}),up=vt({x:je,y:je,w:je,h:je}),G0e=new Set(["none","default","pointer","cross","grab","rotate","grabbing","resize-edge","resize-corner","text","move","ew-resize","ns-resize","nesw-resize","nwse-resize","nesw-rotate","nwse-rotate","swne-rotate","senw-rotate","zoom-in","zoom-out"]),xR=Uf(G0e),Z0e=vt({type:xR,rotation:je}),wR=je.check(t=>{if(t<0||t>1)throw new Ft("Opacity must be between 0 and 1")}),Q0e=new Set(["accent","white","black","selection-stroke","selection-fill","laser","muted-1"]),J0e=Uf(Q0e),eme=new Set(["starting","paused","active","stopping"]),SR=vt({id:Ze,points:Bs(of),size:v0e,color:J0e,opacity:je,state:Uf(eme),delay:je,shrink:je,taper:ut}),af=gi("page"),tme=ta("page",vt({typeName:Fr("page"),id:af,name:Ze,index:Ze,meta:lo})),mC={AddMeta:1},nme=gt({currentVersion:mC.AddMeta,migrators:{[mC.AddMeta]:{up:t=>({...t,meta:{}}),down:({meta:t,...e})=>({...e})}}}),lf=na("page",{validator:tme,migrations:nme,scope:"document"}).withDefaultProperties(()=>({meta:{}}));function Hr(t){return lf.isId(t)}gi("instance");function rme(t){const e={};for(const[r,s]of t)e[r]=Qj(s);const n=ta("instance",vt({typeName:Fr("instance"),id:gi("instance"),currentPageId:af,followingUserId:Ze.nullable(),brush:up.nullable(),opacityForNextShape:wR,stylesForNextShape:vt(e),cursor:Z0e,scribbles:Bs(SR),isFocusMode:ut,isDebugMode:ut,isToolLocked:ut,exportBackground:ut,screenBounds:up,zoomBrush:up.nullable(),isPenMode:ut,isGridMode:ut,chatMessage:Ze,isChatting:ut,highlightedUserIds:Bs(Ze),canMoveCamera:ut,isFocused:ut,devicePixelRatio:je,isCoarsePointer:ut,isHoveringCanvas:ut.nullable(),openMenus:Bs(Ze),isChangingStyle:ut,isReadonly:ut,meta:lo}));return na("instance",{migrations:sme,validator:n,scope:"session"}).withDefaultProperties(()=>({followingUserId:null,opacityForNextShape:1,stylesForNextShape:{},brush:null,scribbles:[],cursor:{type:"default",rotation:0},isFocusMode:!1,exportBackground:!1,isDebugMode:!1,isToolLocked:!1,screenBounds:{x:0,y:0,w:1080,h:720},zoomBrush:null,isGridMode:!1,isPenMode:!1,chatMessage:"",isChatting:!1,highlightedUserIds:[],canMoveCamera:!0,isFocused:!1,devicePixelRatio:typeof window>"u"?1:window.devicePixelRatio,isCoarsePointer:!1,isHoveringCanvas:null,openMenus:[],isChangingStyle:!1,isReadonly:!1,meta:{}}))}const Ut={AddTransparentExportBgs:1,RemoveDialog:2,AddToolLockMode:3,RemoveExtraPropsForNextShape:4,AddLabelColor:5,AddFollowingUserId:6,RemoveAlignJustify:7,AddZoom:8,AddVerticalAlign:9,AddScribbleDelay:10,RemoveUserId:11,AddIsPenModeAndIsGridMode:12,HoistOpacity:13,AddChat:14,AddHighlightedUserIds:15,ReplacePropsForNextShapeWithStylesForNextShape:16,AddMeta:17,RemoveCursorColor:18,AddLonelyProperties:19,ReadOnlyReadonly:20,AddHoveringCanvas:21,AddScribbles:22},sme=gt({currentVersion:Ut.AddScribbles,migrators:{[Ut.AddTransparentExportBgs]:{up:t=>({...t,exportBackground:!0}),down:({exportBackground:t,...e})=>e},[Ut.RemoveDialog]:{up:({dialog:t,...e})=>e,down:t=>({...t,dialog:null})},[Ut.AddToolLockMode]:{up:t=>({...t,isToolLocked:!1}),down:({isToolLocked:t,...e})=>e},[Ut.RemoveExtraPropsForNextShape]:{up:({propsForNextShape:t,...e})=>({...e,propsForNextShape:Object.fromEntries(Object.entries(t).filter(([n])=>["color","labelColor","dash","fill","size","font","align","verticalAlign","icon","geo","arrowheadStart","arrowheadEnd","spline"].includes(n)))}),down:t=>t},[Ut.AddLabelColor]:{up:({propsForNextShape:t,...e})=>({...e,propsForNextShape:{...t,labelColor:"black"}}),down:t=>{const{labelColor:e,...n}=t.propsForNextShape;return{...t,propsForNextShape:{...n}}}},[Ut.AddFollowingUserId]:{up:t=>({...t,followingUserId:null}),down:({followingUserId:t,...e})=>e},[Ut.RemoveAlignJustify]:{up:t=>{let e=t.propsForNextShape.align;return e==="justify"&&(e="start"),{...t,propsForNextShape:{...t.propsForNextShape,align:e}}},down:t=>({...t})},[Ut.AddZoom]:{up:t=>({...t,zoomBrush:null}),down:({zoomBrush:t,...e})=>e},[Ut.AddVerticalAlign]:{up:t=>({...t,propsForNextShape:{...t.propsForNextShape,verticalAlign:"middle"}}),down:t=>{const{verticalAlign:e,...n}=t.propsForNextShape;return{...t,propsForNextShape:n}}},[Ut.AddScribbleDelay]:{up:t=>t.scribble!==null?{...t,scribble:{...t.scribble,delay:0}}:{...t},down:t=>{if(t.scribble!==null){const{delay:e,...n}=t.scribble;return{...t,scribble:n}}return{...t}}},[Ut.RemoveUserId]:{up:({userId:t,...e})=>e,down:t=>({...t,userId:"user:none"})},[Ut.AddIsPenModeAndIsGridMode]:{up:t=>({...t,isPenMode:!1,isGridMode:!1}),down:({isPenMode:t,isGridMode:e,...n})=>n},[Ut.HoistOpacity]:{up:({propsForNextShape:{opacity:t,...e},...n})=>({...n,opacityForNextShape:Number(t??"1"),propsForNextShape:e}),down:({opacityForNextShape:t,...e})=>({...e,propsForNextShape:{...e.propsForNextShape,opacity:t<.175?"0.1":t<.375?"0.25":t<.625?"0.5":t<.875?"0.75":"1"}})},[Ut.AddChat]:{up:t=>({...t,chatMessage:"",isChatting:!1}),down:({chatMessage:t,isChatting:e,...n})=>n},[Ut.AddHighlightedUserIds]:{up:t=>({...t,highlightedUserIds:[]}),down:({highlightedUserIds:t,...e})=>e},[Ut.ReplacePropsForNextShapeWithStylesForNextShape]:{up:({propsForNextShape:t,...e})=>({...e,stylesForNextShape:{}}),down:({stylesForNextShape:t,...e})=>({...e,propsForNextShape:{color:"black",labelColor:"black",dash:"draw",fill:"none",size:"m",icon:"file",font:"draw",align:"middle",verticalAlign:"middle",geo:"rectangle",arrowheadStart:"none",arrowheadEnd:"arrow",spline:"line"}})},[Ut.AddMeta]:{up:t=>({...t,meta:{}}),down:({meta:t,...e})=>({...e})},[Ut.RemoveCursorColor]:{up:t=>{const{color:e,...n}=t.cursor;return{...t,cursor:n}},down:t=>({...t,cursor:{...t.cursor,color:"black"}})},[Ut.AddLonelyProperties]:{up:t=>({...t,canMoveCamera:!0,isFocused:!1,devicePixelRatio:1,isCoarsePointer:!1,openMenus:[],isChangingStyle:!1,isReadOnly:!1}),down:({canMoveCamera:t,isFocused:e,devicePixelRatio:n,isCoarsePointer:r,openMenus:s,isChangingStyle:i,isReadOnly:o,...a})=>({...a})},[Ut.ReadOnlyReadonly]:{up:({isReadOnly:t,...e})=>({...e,isReadonly:t}),down:({isReadonly:t,...e})=>({...e,isReadOnly:t})},[Ut.AddHoveringCanvas]:{up:t=>({...t,isHoveringCanvas:null}),down:({isHoveringCanvas:t,...e})=>({...e})},[Ut.AddScribbles]:{up:({scribble:t,...e})=>({...e,scribbles:[]}),down:({scribbles:t,...e})=>({...e,scribble:null})}}}),cr="instance:instance",ime=Ze.refine(t=>{if(!t.startsWith("page:")&&!t.startsWith("shape:"))throw new Error('Parent ID must start with "page:" or "shape:"');return t}),ni=gi("shape");function ome(t,e,n){return vt({id:ni,typeName:Fr("shape"),x:je,y:je,rotation:je,index:Ze,parentId:ime,type:Fr(t),isLocked:ut,opacity:wR,props:e?vt(e):lo,meta:n?vt(n):lo})}const ame=ta("instance_page_state",vt({typeName:Fr("instance_page_state"),id:gi("instance_page_state"),pageId:af,selectedShapeIds:Bs(ni),hintingShapeIds:Bs(ni),erasingShapeIds:Bs(ni),hoveredShapeId:ni.nullable(),editingShapeId:ni.nullable(),croppingShapeId:ni.nullable(),focusedGroupId:ni.nullable(),meta:lo})),sd={AddCroppingId:1,RemoveInstanceIdAndCameraId:2,AddMeta:3,RenameProperties:4,RenamePropertiesAgain:5},lme=gt({currentVersion:sd.RenamePropertiesAgain,migrators:{[sd.AddCroppingId]:{up(t){return{...t,croppingShapeId:null}},down({croppingShapeId:t,...e}){return e}},[sd.RemoveInstanceIdAndCameraId]:{up({instanceId:t,cameraId:e,...n}){return n},down(t){return{...t,instanceId:cr,cameraId:Jn.createId("void")}}},[sd.AddMeta]:{up:t=>({...t,meta:{}}),down:({meta:t,...e})=>({...e})},[sd.RenameProperties]:{up:t=>{const{selectedShapeIds:e,hintingShapeIds:n,erasingShapeIds:r,hoveredShapeId:s,editingShapeId:i,croppingShapeId:o,focusedGroupId:a,...l}=t;return{selectedShapeIds:e,hintingShapeIds:n,erasingShapeIds:r,hoveredShapeId:s,editingShapeId:i,croppingShapeId:o,focusedGroupId:a,...l}},down:t=>{const{selectedShapeIds:e,hintingShapeIds:n,erasingShapeIds:r,hoveredShapeId:s,editingShapeId:i,croppingShapeId:o,focusedGroupId:a,...l}=t;return{selectedShapeIds:e,hintingShapeIds:n,erasingShapeIds:r,hoveredShapeId:s,editingShapeId:i,croppingShapeId:o,focusedGroupId:a,...l}}},[sd.RenamePropertiesAgain]:{up:t=>{const{selectedIds:e,hintingIds:n,erasingIds:r,hoveredId:s,editingId:i,croppingShapeId:o,croppingId:a,focusLayerId:l,...c}=t;return{...c,selectedShapeIds:e,hintingShapeIds:n,erasingShapeIds:r,hoveredShapeId:s,editingShapeId:i,croppingShapeId:o??a??null,focusedGroupId:l}},down:t=>{const{selectedShapeIds:e,hintingShapeIds:n,erasingShapeIds:r,hoveredShapeId:s,editingShapeId:i,croppingShapeId:o,focusedGroupId:a,...l}=t;return{...l,selectedIds:e,hintingIds:n,erasingIds:r,hoveredId:s,editingId:i,croppingId:o,focusLayerId:a}}}}}),er=na("instance_page_state",{migrations:lme,validator:ame,scope:"session"}).withDefaultProperties(()=>({editingShapeId:null,croppingShapeId:null,selectedShapeIds:[],hoveredShapeId:null,erasingShapeIds:[],hintingShapeIds:[],focusedGroupId:null,meta:{}})),cme=ta("pointer",vt({typeName:Fr("pointer"),id:gi("pointer"),x:je,y:je,lastActivityTimestamp:je,meta:lo})),yC={AddMeta:1},dme=gt({currentVersion:yC.AddMeta,migrators:{[yC.AddMeta]:{up:t=>({...t,meta:{}}),down:({meta:t,...e})=>({...e})}}}),o6=na("pointer",{validator:cme,migrations:dme,scope:"session"}).withDefaultProperties(()=>({x:0,y:0,lastActivityTimestamp:0,meta:{}})),gy=o6.createId("pointer"),hme=ta("instance_presence",vt({typeName:Fr("instance_presence"),id:gi("instance_presence"),userId:Ze,userName:Ze,lastActivityTimestamp:je,followingUserId:Ze.nullable(),cursor:vt({x:je,y:je,type:xR,rotation:je}),color:Ze,camera:vt({x:je,y:je,z:je}),screenBounds:up,selectedShapeIds:Bs(gi("shape")),currentPageId:gi("page"),brush:up.nullable(),scribbles:Bs(SR),chatMessage:Ze,meta:lo})),id={AddScribbleDelay:1,RemoveInstanceId:2,AddChatMessage:3,AddMeta:4,RenameSelectedShapeIds:5},ume=gt({currentVersion:id.RenameSelectedShapeIds,migrators:{[id.AddScribbleDelay]:{up:t=>t.scribble!==null?{...t,scribble:{...t.scribble,delay:0}}:{...t},down:t=>{if(t.scribble!==null){const{delay:e,...n}=t.scribble;return{...t,scribble:n}}return{...t}}},[id.RemoveInstanceId]:{up:({instanceId:t,...e})=>e,down:t=>({...t,instanceId:cr})},[id.AddChatMessage]:{up:t=>({...t,chatMessage:""}),down:({chatMessage:t,...e})=>e},[id.AddMeta]:{up:t=>({...t,meta:{}}),down:({meta:t,...e})=>({...e})},[id.RenameSelectedShapeIds]:{up:t=>{const{selectedShapeIds:e,...n}=t;return{selectedShapeIds:e,...n}},down:t=>{const{selectedShapeIds:e,...n}=t;return{selectedShapeIds:e,...n}}}}}),pme=na("instance_presence",{migrations:ume,validator:hme,scope:"presence"}).withDefaultProperties(()=>({lastActivityTimestamp:0,followingUserId:null,color:"#FF0000",camera:{x:0,y:0,z:1},cursor:{x:0,y:0,type:"default",rotation:0},screenBounds:{x:0,y:0,w:1,h:1},selectedShapeIds:[],brush:null,scribbles:[],chatMessage:"",meta:{}})),xC=new WeakMap;function fme(t,e){if(typeof t!="object"||t===null)return;let n=xC.get(t);n||(n={tags:{},extras:{}},xC.set(t,n)),e.tags&&(n.tags={...n.tags,...e.tags}),e.extras&&(n.extras={...n.extras,...e.extras})}function my(t){if(!t)return t;if(Array.isArray(t)){const e=[],n=t.length;for(let r=0;r<n;r++)e.push(my(t[r]));return e}else if(typeof t=="object"){const e=Object.keys(t),n=e.length,r={};for(let s=0;s<n;s++){const i=e[s];r[i]=my(t[i])}return r}return t}function gme(t){return Object.values(t)}function mme(t){return Object.entries(t)}function wC(t,e){const n={};for(const[r,s]of mme(t)){const i=e(r,s);n[r]=i}return n}const SC=typeof window<"u"&&window.structuredClone?window.structuredClone:t=>t&&JSON.parse(JSON.stringify(t)),yme=ta("document",vt({typeName:Fr("document"),id:Fr("document:document"),gridSize:je,name:Ze,meta:lo})),x5={AddName:1,AddMeta:2},xme=gt({currentVersion:x5.AddMeta,migrators:{[x5.AddName]:{up:t=>({...t,name:""}),down:({name:t,...e})=>e},[x5.AddMeta]:{up:t=>({...t,meta:{}}),down:({meta:t,...e})=>({...e})}}}),a6=na("document",{migrations:xme,validator:yme,scope:"document"}).withDefaultProperties(()=>({gridSize:10,name:"",meta:{}})),V3=a6.createId("document");function wme(t,e){return t.index<e.index?-1:t.index>e.index?1:0}function bC(t){t.typeName==="asset"&&("src"in t&&(t.src="<redacted>"),"src"in t.props&&(t.props.src="<redacted>"))}const Sme=({error:t,phase:e,record:n,recordBefore:r})=>{throw fme(t,{tags:{origin:"store.validateRecord",storePhase:e,isExistingValidationIssue:e==="initialize"},extras:{recordBefore:r?bC(SC(r)):void 0,recordAfter:bC(SC(n))}}),t};function bme(){return[lf.create({id:"page:page",name:"Page 1",index:"a1",meta:{}})]}function vme(t){const e=t.query.ids("page"),n=()=>{if(!t.has(V3))return t.put([a6.create({id:V3,name:t.props.defaultName})]),n();if(!t.has(gy))return t.put([o6.create({id:gy})]),n();const r=e.get();if(r.size===0)return t.put(bme()),n();const s=()=>[...r].map(l=>t.get(l)).sort(wme)[0].id,i=t.get(cr);if(i){if(!r.has(i.currentPageId))return t.put([{...i,currentPageId:s()}]),n()}else return t.put([t.schema.types.instance.create({id:cr,currentPageId:s(),exportBackground:!0})]),n();const o=new Set,a=new Set;for(const l of r){const c=er.createId(l);t.has(c)||o.add(c);const d=Jn.createId(l);t.has(d)||a.add(d)}o.size>0&&t.put([...o].map(l=>er.create({id:l,pageId:er.parseId(l)}))),a.size>0&&t.put([...a].map(l=>Jn.create({id:l})))};return n}const kme=t6("bookmark",vt({title:Ze,description:Ze,image:Ze,src:Ze.nullable()})),Cme=gt({}),_me=t6("image",vt({w:je,h:je,name:Ze,isAnimated:ut,mimeType:Ze.nullable(),src:Ze.nullable()})),w5={AddIsAnimated:1,RenameWidthHeight:2},Eme=gt({currentVersion:w5.RenameWidthHeight,migrators:{[w5.AddIsAnimated]:{up:t=>({...t,props:{...t.props,isAnimated:!1}}),down:t=>{const{isAnimated:e,...n}=t.props;return{...t,props:n}}},[w5.RenameWidthHeight]:{up:t=>{const{width:e,height:n,...r}=t.props;return{...t,props:{w:e,h:n,...r}}},down:t=>{const{w:e,h:n,...r}=t.props;return{...t,props:{width:e,height:n,...r}}}}}}),Ime=t6("video",vt({w:je,h:je,name:Ze,isAnimated:ut,mimeType:Ze.nullable(),src:Ze.nullable()})),S5={AddIsAnimated:1,RenameWidthHeight:2},Pme=gt({currentVersion:S5.RenameWidthHeight,migrators:{[S5.AddIsAnimated]:{up:t=>({...t,props:{...t.props,isAnimated:!1}}),down:t=>{const{isAnimated:e,...n}=t.props;return{...t,props:n}}},[S5.RenameWidthHeight]:{up:t=>{const{width:e,height:n,...r}=t.props;return{...t,props:{w:e,h:n,...r}}},down:t=>{const{w:e,h:n,...r}=t.props;return{...t,props:{width:e,height:n,...r}}}}}}),zme=ta("asset",e6("type",{image:_me,video:Ime,bookmark:kme})),vC={AddMeta:1},Ame=gt({subTypeKey:"type",subTypeMigrations:{image:Eme,video:Pme,bookmark:Cme},currentVersion:vC.AddMeta,migrators:{[vC.AddMeta]:{up:t=>({...t,meta:{}}),down:({meta:t,...e})=>({...e})}}}),Nme=na("asset",{migrations:Ame,validator:zme,scope:"document"}).withDefaultProperties(()=>({meta:{}}));class yr{constructor(e,n,r){this.id=e,this.defaultValue=n,this.type=r}static define(e,n){const{defaultValue:r,type:s=b0e}=n;return new yr(e,r,s)}static defineEnum(e,n){const{defaultValue:r,values:s}=n;return new Tme(e,r,s)}validate(e){return this.type.validate(e)}}class Tme extends yr{constructor(e,n,r){super(e,n,Jj(...r)),this.values=r}}const c0={AddIsLocked:1,HoistOpacity:2,AddMeta:3},b5=gt({currentVersion:c0.AddMeta,migrators:{[c0.AddIsLocked]:{up:t=>({...t,isLocked:!1}),down:t=>{const{isLocked:e,...n}=t;return{...n}}},[c0.HoistOpacity]:{up:({props:{opacity:t,...e},...n})=>({...n,opacity:Number(t??"1"),props:e}),down:({opacity:t,...e})=>({...e,props:{...e.props,opacity:t<.175?"0.1":t<.375?"0.25":t<.625?"0.5":t<.875?"0.75":"1"}})},[c0.AddMeta]:{up:t=>({...t,meta:{}}),down:({meta:t,...e})=>({...e})}}});function Yl(t){return t?t.typeName==="shape":!1}function Ai(t){return t?t.startsWith("shape:"):!1}function Hl(t){return`shape:${t??Ha()}`}function bR(t){const e=new Map;for(const[n,r]of Object.entries(t))if(r instanceof yr){if(e.has(r))throw new Error(`Duplicate style prop ${r.id}. Each style prop can only be used once within a shape.`);e.set(r,n)}return e}function Lme(t){return na("shape",{migrations:gt({currentVersion:b5.currentVersion,firstVersion:b5.firstVersion,migrators:b5.migrators,subTypeKey:"type",subTypeMigrations:wC(t,(e,n)=>n.migrations??gt({}))}),scope:"document",validator:ta("shape",e6("type",wC(t,(e,{props:n,meta:r})=>ome(e,n,r))))}).withDefaultProperties(()=>({x:0,y:0,rotation:0,isLocked:!1,opacity:1,meta:{}}))}const _u={RemoveCodeAndIconShapeTypes:1,AddInstancePresenceType:2,RemoveTLUserAndPresenceAndAddPointer:3,RemoveUserDocument:4},Mme=gt({currentVersion:_u.RemoveUserDocument,migrators:{[_u.RemoveCodeAndIconShapeTypes]:{up:t=>Object.fromEntries(Object.entries(t).filter(([e,n])=>n.typeName!=="shape"||n.type!=="icon"&&n.type!=="code")),down:t=>t},[_u.AddInstancePresenceType]:{up:t=>t,down:t=>Object.fromEntries(Object.entries(t).filter(([e,n])=>n.typeName!=="instance_presence"))},[_u.RemoveTLUserAndPresenceAndAddPointer]:{up:t=>Object.fromEntries(Object.entries(t).filter(([e,n])=>!n.typeName.match(/^(user|user_presence)$/))),down:t=>Object.fromEntries(Object.entries(t).filter(([e,n])=>n.typeName!=="pointer"))},[_u.RemoveUserDocument]:{up:t=>Object.fromEntries(Object.entries(t).filter(([e,n])=>!n.typeName.match("user_document"))),down:t=>t}}});function jme({shapes:t}){const e=new Map;for(const s of gme(t))for(const i of bR(s.props??{}).keys()){if(e.has(i.id)&&e.get(i.id)!==i)throw new Error(`Multiple StyleProp instances with the same id: ${i.id}`);e.set(i.id,i)}const n=Lme(t),r=rme(e);return i6.create({asset:Nme,camera:Jn,document:a6,instance:r,instance_page_state:er,page:lf,shape:n,instance_presence:pme,pointer:o6},{snapshotMigrations:Mme,onValidationFailure:Sme,createIntegrityChecker:vme})}const vR=["black","grey","light-violet","violet","blue","light-blue","yellow","orange","green","light-green","light-red","red"],kC={lightMode:{id:"light",text:"#000000",background:"rgb(249, 250, 251)",solid:"#fcfffe",black:{solid:"#1d1d1d",semi:"#e8e8e8",pattern:"#494949",highlight:{srgb:"#fddd00",p3:"color(display-p3 0.972 0.8705 0.05)"}},blue:{solid:"#4263eb",semi:"#dce1f8",pattern:"#6681ee",highlight:{srgb:"#10acff",p3:"color(display-p3 0.308 0.6632 0.9996)"}},green:{solid:"#099268",semi:"#d3e9e3",pattern:"#39a785",highlight:{srgb:"#00ffc8",p3:"color(display-p3 0.2536 0.984 0.7981)"}},grey:{solid:"#adb5bd",semi:"#eceef0",pattern:"#bcc3c9",highlight:{srgb:"#cbe7f1",p3:"color(display-p3 0.8163 0.9023 0.9416)"}},"light-blue":{solid:"#4dabf7",semi:"#ddedfa",pattern:"#6fbbf8",highlight:{srgb:"#00f4ff",p3:"color(display-p3 0.1512 0.9414 0.9996)"}},"light-green":{solid:"#40c057",semi:"#dbf0e0",pattern:"#65cb78",highlight:{srgb:"#65f641",p3:"color(display-p3 0.563 0.9495 0.3857)"}},"light-red":{solid:"#ff8787",semi:"#f4dadb",pattern:"#fe9e9e",highlight:{srgb:"#ff7fa3",p3:"color(display-p3 0.9988 0.5301 0.6397)"}},"light-violet":{solid:"#e599f7",semi:"#f5eafa",pattern:"#e9acf8",highlight:{srgb:"#ff88ff",p3:"color(display-p3 0.9676 0.5652 0.9999)"}},orange:{solid:"#f76707",semi:"#f8e2d4",pattern:"#f78438",highlight:{srgb:"#ffa500",p3:"color(display-p3 0.9988 0.6905 0.266)"}},red:{solid:"#e03131",semi:"#f4dadb",pattern:"#e55959",highlight:{srgb:"#ff636e",p3:"color(display-p3 0.9992 0.4376 0.45)"}},violet:{solid:"#ae3ec9",semi:"#ecdcf2",pattern:"#bd63d3",highlight:{srgb:"#c77cff",p3:"color(display-p3 0.7469 0.5089 0.9995)"}},yellow:{solid:"#ffc078",semi:"#f9f0e6",pattern:"#fecb92",highlight:{srgb:"#fddd00",p3:"color(display-p3 0.972 0.8705 0.05)"}}},darkMode:{id:"dark",text:"#f8f9fa",background:"#212529",solid:"#28292e",black:{solid:"#e1e1e1",semi:"#2c3036",pattern:"#989898",highlight:{srgb:"#d2b700",p3:"color(display-p3 0.8078 0.7225 0.0312)"}},blue:{solid:"#4156be",semi:"#262d40",pattern:"#3a4b9e",highlight:{srgb:"#0079d2",p3:"color(display-p3 0.0032 0.4655 0.7991)"}},green:{solid:"#3b7b5e",semi:"#253231",pattern:"#366a53",highlight:{srgb:"#009774",p3:"color(display-p3 0.0085 0.582 0.4604)"}},grey:{solid:"#93989f",semi:"#33373c",pattern:"#7c8187",highlight:{srgb:"#9cb4cb",p3:"color(display-p3 0.6299 0.7012 0.7856)"}},"light-blue":{solid:"#588fc9",semi:"#2a3642",pattern:"#4d7aa9",highlight:{srgb:"#00bdc8",p3:"color(display-p3 0.0023 0.7259 0.7735)"}},"light-green":{solid:"#599f57",semi:"#2a3830",pattern:"#4e874e",highlight:{srgb:"#00a000",p3:"color(display-p3 0.2711 0.6172 0.0195)"}},"light-red":{solid:"#c67877",semi:"#3b3235",pattern:"#a56767",highlight:{srgb:"#db005b",p3:"color(display-p3 0.7849 0.0585 0.3589)"}},"light-violet":{solid:"#b583c9",semi:"#383442",pattern:"#9770a9",highlight:{srgb:"#c400c7",p3:"color(display-p3 0.7024 0.0403 0.753)"}},orange:{solid:"#bf612e",semi:"#3a2e2a",pattern:"#9f552d",highlight:{srgb:"#d07a00",p3:"color(display-p3 0.7699 0.4937 0.0085)"}},red:{solid:"#aa3c37",semi:"#36292b",pattern:"#8f3734",highlight:{srgb:"#de002c",p3:"color(display-p3 0.7978 0.0509 0.2035)"}},violet:{solid:"#873fa3",semi:"#31293c",pattern:"#763a8b",highlight:{srgb:"#9e00ee",p3:"color(display-p3 0.5651 0.0079 0.8986)"}},yellow:{solid:"#cba371",semi:"#3c3934",pattern:"#fecb92",highlight:{srgb:"#d2b700",p3:"color(display-p3 0.8078 0.7225 0.0312)"}}}};function Rme(t){return t.isDarkMode?kC.darkMode:kC.lightMode}const l6=yr.defineEnum("tldraw:color",{defaultValue:"black",values:vR});yr.defineEnum("tldraw:labelColor",{defaultValue:"black",values:vR});const kR=yr.defineEnum("tldraw:dash",{defaultValue:"draw",values:["draw","solid","dashed","dotted"]}),$me=yr.defineEnum("tldraw:fill",{defaultValue:"none",values:["none","semi","solid","pattern"]});yr.defineEnum("tldraw:font",{defaultValue:"draw",values:["draw","sans","serif","mono"]});const c6=yr.defineEnum("tldraw:size",{defaultValue:"m",values:["s","m","l","xl"]}),CR=["arrow","triangle","square","dot","pipe","diamond","inverted","bar","none"];yr.defineEnum("tldraw:arrowheadStart",{defaultValue:"none",values:CR});yr.defineEnum("tldraw:arrowheadEnd",{defaultValue:"arrow",values:CR});e6("type",{binding:vt({type:Fr("binding"),boundShapeId:ni,normalizedAnchor:of,isExact:ut,isPrecise:ut}),point:vt({type:Fr("point"),x:je,y:je})});const v5={AddLabelColor:1,AddIsPrecise:2};gt({currentVersion:v5.AddIsPrecise,migrators:{[v5.AddLabelColor]:{up:t=>({...t,props:{...t.props,labelColor:"black"}}),down:t=>{const{labelColor:e,...n}=t.props;return{...t,props:n}}},[v5.AddIsPrecise]:{up:t=>{const{start:e,end:n}=t.props;return{...t,props:{...t.props,start:e.type==="binding"?{...e,isPrecise:!(e.normalizedAnchor.x===.5&&e.normalizedAnchor.y===.5)}:e,end:n.type==="binding"?{...n,isPrecise:!(n.normalizedAnchor.x===.5&&n.normalizedAnchor.y===.5)}:n}}},down:t=>{const{start:e,end:n}=t.props,r={...e},s={...n};return r.type==="binding"&&(r.isPrecise||(r.normalizedAnchor={x:.5,y:.5}),delete r.isPrecise),s.type==="binding"&&(s.isPrecise||(s.normalizedAnchor={x:.5,y:.5}),delete s.isPrecise),{...t,props:{...t.props,start:r,end:s}}}}}});a2.nullable();const CC={NullAssetId:1};gt({currentVersion:CC.NullAssetId,migrators:{[CC.NullAssetId]:{up:t=>t.props.assetId===void 0?{...t,props:{...t.props,assetId:null}}:t,down:t=>{if(t.props.assetId===null){const{assetId:e,...n}=t.props;return{...t,props:n}}return t}}}});const _R=vt({type:Jj("free","straight"),points:Bs(of)});Bs(_R);const _C={AddInPen:1};gt({currentVersion:_C.AddInPen,migrators:{[_C.AddInPen]:{up:t=>{const{points:e}=t.props.segments[0];if(e.length===0)return{...t,props:{...t.props,isPen:!1}};let n=!(e[0].z===0||e[0].z===.5);return e[1]&&(n=n&&!(e[1].z===0||e[1].z===.5)),{...t,props:{...t.props,isPen:n}}},down:t=>{const{isPen:e,...n}=t.props;return{...t,props:{...n}}}}}});const EC=/(^\/r\/[^/]+\/?$)/,ht=t=>{try{return new URL(t)}catch{return}},IC=[{type:"tldraw",title:"tldraw",hostnames:["beta.tldraw.com","tldraw.com"],minWidth:300,minHeight:300,width:720,height:500,doesResize:!0,canUnmount:!0,toEmbedUrl:t=>{const e=ht(t);if(e&&e.pathname.match(EC))return t},fromEmbedUrl:t=>{const e=ht(t);if(e&&e.pathname.match(EC))return t}},{type:"figma",title:"Figma",hostnames:["figma.com"],width:720,height:500,doesResize:!0,canUnmount:!0,toEmbedUrl:t=>{if(t.match(/https:\/\/([\w\.-]+\.)?figma.com\/(file|proto)\/([0-9a-zA-Z]{22,128})(?:\/.*)?$/)&&!t.includes("figma.com/embed"))return`https://www.figma.com/embed?embed_host=share&url=${t}`},fromEmbedUrl:t=>{const e=ht(t);if(e&&e.pathname.match(/^\/embed\/?$/)){const n=e.searchParams.get("url");if(n)return n}}},{type:"google_maps",title:"Google Maps",hostnames:["google.*"],width:720,height:500,doesResize:!0,canUnmount:!1,toEmbedUrl:t=>{if(t.includes("/maps/")){const e=t.match(/@(.*),(.*),(.*)z/);let n;if(e){const[,r,s,i]=e;n=`https://${new URL(t).host.replace("www.","")}/maps/embed/v1/view?key=${{}.NEXT_PUBLIC_GC_API_KEY}&center=${r},${s}&zoom=${i}`}else n="";return n}},fromEmbedUrl:t=>{const e=ht(t);if(!e)return;if(e.pathname.match(/^\/maps\/embed\/v1\/view\/?$/)&&e.searchParams.has("center")&&e.searchParams.get("zoom")){const r=e.searchParams.get("zoom"),[s,i]=e.searchParams.get("center").split(",");return`https://www.google.com/maps/@${s},${i},${r}z`}}},{type:"val_town",title:"Val Town",hostnames:["val.town"],minWidth:260,minHeight:100,width:720,height:500,doesResize:!0,canUnmount:!1,toEmbedUrl:t=>{const e=ht(t),n=e&&e.pathname.match(/\/v\/([^/]+)\/?/);if(n)return`https://www.val.town/embed/${n[1]}`},fromEmbedUrl:t=>{const e=ht(t),n=e&&e.pathname.match(/\/embed\/([^/]+)\/?/);if(n)return`https://www.val.town/v/${n[1]}`}},{type:"codesandbox",title:"CodeSandbox",hostnames:["codesandbox.io"],minWidth:300,minHeight:300,width:720,height:500,doesResize:!0,canUnmount:!1,toEmbedUrl:t=>{const e=ht(t),n=e&&e.pathname.match(/\/s\/([^/]+)\/?/);if(n)return`https://codesandbox.io/embed/${n[1]}`},fromEmbedUrl:t=>{const e=ht(t),n=e&&e.pathname.match(/\/embed\/([^/]+)\/?/);if(n)return`https://codesandbox.io/s/${n[1]}`}},{type:"codepen",title:"Codepen",hostnames:["codepen.io"],minWidth:300,minHeight:300,width:520,height:400,doesResize:!0,canUnmount:!1,toEmbedUrl:t=>{const e=/https:\/\/codepen.io\/([^/]+)\/pen\/([^/]+)/,n=t.match(e);if(n){const[r,s,i]=n;return`https://codepen.io/${s}/embed/${i}`}},fromEmbedUrl:t=>{const e=/https:\/\/codepen.io\/([^/]+)\/embed\/([^/]+)/,n=t.match(e);if(n){const[r,s,i]=n;return`https://codepen.io/${s}/pen/${i}`}}},{type:"scratch",title:"Scratch",hostnames:["scratch.mit.edu"],width:520,height:400,doesResize:!1,canUnmount:!1,toEmbedUrl:t=>{const e=/https?:\/\/scratch.mit.edu\/projects\/([^/]+)/,n=t.match(e);if(n){const[r,s]=n;return`https://scratch.mit.edu/projects/embed/${s}`}},fromEmbedUrl:t=>{const e=/https:\/\/scratch.mit.edu\/projects\/embed\/([^/]+)/,n=t.match(e);if(n){const[r,s]=n;return`https://scratch.mit.edu/projects/${s}`}}},{type:"youtube",title:"YouTube",hostnames:["*.youtube.com","youtube.com","youtu.be"],width:800,height:450,doesResize:!0,canUnmount:!1,overridePermissions:{"allow-presentation":!0},isAspectRatioLocked:!0,toEmbedUrl:t=>{const e=ht(t);if(!e)return;const n=e.hostname.replace(/^www./,"");if(n==="youtu.be")return`https://www.youtube.com/embed/${e.pathname.split("/").filter(Boolean)[0]}`;if((n==="youtube.com"||n==="m.youtube.com")&&e.pathname.match(/^\/watch/))return`https://www.youtube.com/embed/${e.searchParams.get("v")}`},fromEmbedUrl:t=>{const e=ht(t);if(!e)return;if(e.hostname.replace(/^www./,"")==="youtube.com"){const r=e.pathname.match(/^\/embed\/([^/]+)\/?/);if(r)return`https://www.youtube.com/watch?v=${r[1]}`}}},{type:"google_calendar",title:"Google Calendar",hostnames:["calendar.google.*"],width:720,height:500,minWidth:460,minHeight:360,doesResize:!0,canUnmount:!1,instructionLink:"https://support.google.com/calendar/answer/41207?hl=en",toEmbedUrl:t=>{const e=ht(t),n=e==null?void 0:e.searchParams.get("cid");if(e!=null&&e.pathname.match(/\/calendar\/u\/0/)&&n){e.pathname="/calendar/embed";const r=Array.from(e.searchParams.keys());for(const s of r)e.searchParams.delete(s);return e.searchParams.set("src",n),e.href}},fromEmbedUrl:t=>{const e=ht(t),n=e==null?void 0:e.searchParams.get("src");if(e!=null&&e.pathname.match(/\/calendar\/embed/)&&n){e.pathname="/calendar/u/0";const r=Array.from(e.searchParams.keys());for(const s of r)e.searchParams.delete(s);return e.searchParams.set("cid",n),e.href}}},{type:"google_slides",title:"Google Slides",hostnames:["docs.google.*"],width:720,height:500,minWidth:460,minHeight:360,doesResize:!0,canUnmount:!1,toEmbedUrl:t=>{const e=ht(t);if(e!=null&&e.pathname.match(/^\/presentation/)&&(e!=null&&e.pathname.match(/\/pub\/?$/))){e.pathname=e.pathname.replace(/\/pub$/,"/embed");const n=Array.from(e.searchParams.keys());for(const r of n)e.searchParams.delete(r);return e.href}},fromEmbedUrl:t=>{const e=ht(t);if(e!=null&&e.pathname.match(/^\/presentation/)&&(e!=null&&e.pathname.match(/\/embed\/?$/))){e.pathname=e.pathname.replace(/\/embed$/,"/pub");const n=Array.from(e.searchParams.keys());for(const r of n)e.searchParams.delete(r);return e.href}}},{type:"github_gist",title:"GitHub Gist",hostnames:["gist.github.com"],width:720,height:500,doesResize:!0,canUnmount:!0,toEmbedUrl:t=>{const e=ht(t);if(e&&e.pathname.match(/\/([^/]+)\/([^/]+)/))return t.split("/").pop()?t:void 0},fromEmbedUrl:t=>{const e=ht(t);if(e&&e.pathname.match(/\/([^/]+)\/([^/]+)/))return t.split("/").pop()?t:void 0}},{type:"replit",title:"Replit",hostnames:["replit.com"],width:720,height:500,doesResize:!0,canUnmount:!1,toEmbedUrl:t=>{const e=ht(t);if(e&&e.pathname.match(/\/@([^/]+)\/([^/]+)/))return`${t}?embed=true`},fromEmbedUrl:t=>{const e=ht(t);if(e&&e.pathname.match(/\/@([^/]+)\/([^/]+)/)&&e.searchParams.has("embed"))return e.searchParams.delete("embed"),e.href}},{type:"felt",title:"Felt",hostnames:["felt.com"],width:720,height:500,doesResize:!0,canUnmount:!1,toEmbedUrl:t=>{const e=ht(t);if(e&&e.pathname.match(/^\/map\//))return e.origin+"/embed"+e.pathname},fromEmbedUrl:t=>{const e=ht(t);if(e&&e.pathname.match(/^\/embed\/map\//))return e.pathname=e.pathname.replace(/^\/embed/,""),e.href}},{type:"spotify",title:"Spotify",hostnames:["open.spotify.com"],width:720,height:500,minHeight:500,overrideOutlineRadius:12,doesResize:!0,canUnmount:!1,toEmbedUrl:t=>{const e=ht(t);if(e&&e.pathname.match(/^\/(artist|album)\//))return e.origin+"/embed"+e.pathname},fromEmbedUrl:t=>{const e=ht(t);if(e&&e.pathname.match(/^\/embed\/(artist|album)\//))return e.origin+e.pathname.replace(/^\/embed/,"")}},{type:"vimeo",title:"Vimeo",hostnames:["vimeo.com","player.vimeo.com"],width:640,height:360,doesResize:!0,canUnmount:!1,isAspectRatioLocked:!0,toEmbedUrl:t=>{const e=ht(t);if(e&&e.hostname==="vimeo.com"&&e.pathname.match(/^\/[0-9]+/))return"https://player.vimeo.com/video/"+e.pathname.split("/")[1]+"?title=0&byline=0"},fromEmbedUrl:t=>{const e=ht(t);if(e&&e.hostname==="player.vimeo.com"){const n=e.pathname.match(/^\/video\/([^/]+)\/?$/);if(n)return"https://vimeo.com/"+n[1]}}},{type:"excalidraw",title:"Excalidraw",hostnames:["excalidraw.com"],width:720,height:500,doesResize:!0,canUnmount:!1,isAspectRatioLocked:!0,toEmbedUrl:t=>{const e=ht(t);if(e&&e.hash.match(/#room=/))return t},fromEmbedUrl:t=>{const e=ht(t);if(e&&e.hash.match(/#room=/))return t}},{type:"observable",title:"Observable",hostnames:["observablehq.com"],width:720,height:500,doesResize:!0,canUnmount:!1,isAspectRatioLocked:!1,backgroundColor:"#fff",toEmbedUrl:t=>{const e=ht(t);if(e&&e.pathname.match(/^\/@([^/]+)\/([^/]+)\/?$/))return`${e.origin}/embed${e.pathname}?cell=*`;if(e&&e.pathname.match(/^\/d\/([^/]+)\/?$/)){const n=e.pathname.replace(/^\/d/,"");return`${e.origin}/embed${n}?cell=*`}},fromEmbedUrl:t=>{const e=ht(t);if(e&&e.pathname.match(/^\/embed\/@([^/]+)\/([^/]+)\/?$/))return`${e.origin}${e.pathname.replace("/embed","")}#cell-*`;if(e&&e.pathname.match(/^\/embed\/([^/]+)\/?$/))return`${e.origin}${e.pathname.replace("/embed","/d")}#cell-*`}}],Eu={GenOriginalUrlInEmbed:1,RemoveDoesResize:2,RemoveTmpOldUrl:3,RemovePermissionOverrides:4};gt({currentVersion:Eu.RemovePermissionOverrides,migrators:{[Eu.GenOriginalUrlInEmbed]:{up:t=>{const e=t.props.url,n=new URL(e).host.replace("www.","");let r;for(const s of IC)if(s.hostnames.includes(n))try{r=s.fromEmbedUrl(e)}catch(i){console.warn(i)}return{...t,props:{...t.props,tmpOldUrl:t.props.url,url:r??""}}},down:t=>{let e=t.props.tmpOldUrl;if(!e||e===""){const s=t.props.url,i=new URL(s).host.replace("www.","");for(const o of IC)if(o.hostnames.includes(i))try{e=o.toEmbedUrl(s)}catch(a){console.warn(a)}}const{tmpOldUrl:n,...r}=t.props;return{...t,props:{...r,url:e??""}}}},[Eu.RemoveDoesResize]:{up:t=>{const{doesResize:e,...n}=t.props;return{...t,props:{...n}}},down:t=>({...t,props:{...t.props,doesResize:!0}})},[Eu.RemoveTmpOldUrl]:{up:t=>{const{tmpOldUrl:e,...n}=t.props;return{...t,props:{...n}}},down:t=>({...t,props:{...t.props}})},[Eu.RemovePermissionOverrides]:{up:t=>{const{overridePermissions:e,...n}=t.props;return{...t,props:{...n}}},down:t=>({...t,props:{...t.props}})}}});gt({});yr.defineEnum("tldraw:horizontalAlign",{defaultValue:"middle",values:["start","middle","end","start-legacy","end-legacy","middle-legacy"]});yr.defineEnum("tldraw:verticalAlign",{defaultValue:"middle",values:["start","middle","end"]});yr.defineEnum("tldraw:geo",{defaultValue:"rectangle",values:["cloud","rectangle","ellipse","triangle","diamond","pentagon","hexagon","octagon","star","rhombus","rhombus-2","oval","trapezoid","arrow-right","arrow-left","arrow-up","arrow-down","x-box","check-box"]});const pa={AddUrlProp:1,AddLabelColor:2,RemoveJustify:3,AddCheckBox:4,AddVerticalAlign:5,MigrateLegacyAlign:6,AddCloud:7};gt({currentVersion:pa.AddCloud,migrators:{[pa.AddUrlProp]:{up:t=>({...t,props:{...t.props,url:""}}),down:t=>{const{url:e,...n}=t.props;return{...t,props:n}}},[pa.AddLabelColor]:{up:t=>({...t,props:{...t.props,labelColor:"black"}}),down:t=>{const{labelColor:e,...n}=t.props;return{...t,props:n}}},[pa.RemoveJustify]:{up:t=>{let e=t.props.align;return e==="justify"&&(e="start"),{...t,props:{...t.props,align:e}}},down:t=>({...t})},[pa.AddCheckBox]:{up:t=>({...t}),down:t=>({...t,props:{...t.props,geo:t.props.geo==="check-box"?"rectangle":t.props.geo}})},[pa.AddVerticalAlign]:{up:t=>({...t,props:{...t.props,verticalAlign:"middle"}}),down:t=>{const{verticalAlign:e,...n}=t.props;return{...t,props:n}}},[pa.MigrateLegacyAlign]:{up:t=>{let e;switch(t.props.align){case"start":e="start-legacy";break;case"end":e="end-legacy";break;default:e="middle-legacy";break}return{...t,props:{...t.props,align:e}}},down:t=>{let e;switch(t.props.align){case"start-legacy":e="start";break;case"end-legacy":e="end";break;case"middle-legacy":e="middle";break;default:e=t.props.align}return{...t,props:{...t.props,align:e}}}},[pa.AddCloud]:{up:t=>t,down:t=>{if(t.props.geo==="cloud")return{...t,props:{...t.props,geo:"rectangle"}}}}}});const Ome={},Dme=gt({});Bs(_R);gt({});const qme=vt({topLeft:of,bottomRight:of});a2.nullable(),qme.nullable();const k5={AddUrlProp:1,AddCropProp:2};gt({currentVersion:k5.AddCropProp,migrators:{[k5.AddUrlProp]:{up:t=>({...t,props:{...t.props,url:""}}),down:t=>{const{url:e,...n}=t.props;return{...t,props:n}}},[k5.AddCropProp]:{up:t=>({...t,props:{...t.props,crop:null}}),down:t=>{const{crop:e,...n}=t.props;return{...t,props:n}}}}});const Bme=new Set(["vertex","virtual","create"]),Fme=vt({id:Ze,type:Uf(Bme),canBind:ut.optional(),canSnap:ut.optional(),index:Ze,x:je,y:je}),Kme=yr.defineEnum("tldraw:spline",{defaultValue:"line",values:["cubic","line"]});C0e(Ze,Fme);const PC={AddSnapHandles:1};gt({currentVersion:PC.AddSnapHandles,migrators:{[PC.AddSnapHandles]:{up:t=>{const e=my(t.props.handles);for(const n in e)e[n].canSnap=!0;return{...t,props:{...t.props,handles:e}}},down:t=>{const e=my(t.props.handles);for(const n in e)delete e[n].canSnap;return{...t,props:{...t.props,handles:e}}}}}});const Iu={AddUrlProp:1,RemoveJustify:2,MigrateLegacyAlign:3,AddVerticalAlign:4};gt({currentVersion:Iu.AddVerticalAlign,migrators:{[Iu.AddUrlProp]:{up:t=>({...t,props:{...t.props,url:""}}),down:t=>{const{url:e,...n}=t.props;return{...t,props:n}}},[Iu.RemoveJustify]:{up:t=>{let e=t.props.align;return e==="justify"&&(e="start"),{...t,props:{...t.props,align:e}}},down:t=>({...t})},[Iu.MigrateLegacyAlign]:{up:t=>{let e;switch(t.props.align){case"start":e="start-legacy";break;case"end":e="end-legacy";break;default:e="middle-legacy";break}return{...t,props:{...t.props,align:e}}},down:t=>{let e;switch(t.props.align){case"start-legacy":e="start";break;case"end-legacy":e="end";break;case"middle-legacy":e="middle";break;default:e=t.props.align}return{...t,props:{...t.props,align:e}}}},[Iu.AddVerticalAlign]:{up:t=>({...t,props:{...t.props,verticalAlign:"middle"}}),down:t=>{const{verticalAlign:e,...n}=t.props;return{...t,props:n}}}}});const zC={RemoveJustify:1};gt({currentVersion:zC.RemoveJustify,migrators:{[zC.RemoveJustify]:{up:t=>{let e=t.props.align;return e==="justify"&&(e="start"),{...t,props:{...t.props,align:e}}},down:t=>({...t})}}});a2.nullable();const AC={AddUrlProp:1};gt({currentVersion:AC.AddUrlProp,migrators:{[AC.AddUrlProp]:{up:t=>({...t,props:{...t.props,url:""}}),down:t=>{const{url:e,...n}=t.props;return{...t,props:n}}}}});const NC=[{locale:"ar",label:""},{locale:"ca",label:"Catal"},{locale:"cs",label:"etina"},{locale:"da",label:"Danish"},{locale:"de",label:"Deutsch"},{locale:"en",label:"English"},{locale:"es",label:"Espaol"},{locale:"fa",label:""},{locale:"fi",label:"Suomi"},{locale:"fr",label:"Franais"},{locale:"gl",label:"Galego"},{locale:"he",label:""},{locale:"it",label:"Italiano"},{locale:"ja",label:""},{locale:"ko-kr",label:""},{locale:"ku",label:""},{locale:"hi-in",label:""},{locale:"hu",label:"Magyar"},{locale:"my",label:""},{locale:"ne",label:""},{locale:"no",label:"Norwegian"},{locale:"pl",label:"Polski"},{locale:"pt-br",label:"Portugus - Brasil"},{locale:"pt-pt",label:"Portugus - Europeu"},{locale:"ro",label:"Romn"},{locale:"ru",label:"Russian"},{locale:"sv",label:"Svenska"},{locale:"te",label:""},{locale:"th",label:""},{locale:"tr",label:"Trke"},{locale:"uk",label:"Ukrainian"},{locale:"vi",label:"Ting Vit"},{locale:"zh-cn",label:"Chinese - Simplified"},{locale:"zh-tw",label:" ()"}];function Wme(){const t=typeof window<"u"?window.navigator.languages??["en"]:["en"];return Ume(t)}function Ume(t){for(const e of t){const n=Vme(e);if(n)return n}return"en"}const TC={zh:"zh-cn",pt:"pt-br",ko:"ko-kr",hi:"hi-in"};function Vme(t){const e=NC.find(s=>s.locale===t.toLowerCase());if(e)return e.locale;const[n,r]=t.split(/[-_]/).map(s=>s.toLowerCase());if(r){const s=NC.find(i=>i.locale===n);if(s)return s.locale}return n in TC?TC[n]:null}function yy(t,e){const n=[];e:for(const r of t){for(const s of n)if(e?e(r,s):r===s)continue e;n.push(r)}return n}function qe(t){return t.filter(e=>e!=null)}function Xme(t){return t[t.length-1]}function ER(t){const e=(...n)=>{try{return t(...n)}catch(r){throw r instanceof Error&&Error.captureStackTrace&&Error.captureStackTrace(r,e),r}};return e}function xy(t,e){const n=e&&t&&typeof t=="object"&&e in t?t[e]:t;throw new Error(`Unknown switch case ${n}`)}const d6=ER((t,e)=>{if(!t)throw new Error(e||"Assertion Error")}),Yme=ER((t,e)=>{if(t==null)throw new Error(e??"value must be defined");return t});function Hme(t,e){let n;const r=(...s)=>(n||(n={},n.promise=new Promise((i,o)=>{n.resolve=i,n.reject=o})),clearTimeout(n.timeout),n.latestArgs=s,n.timeout=setTimeout(()=>{const i=n;n=void 0;try{i.resolve(t(...i.latestArgs))}catch(o){i.reject(o)}},e),n.promise);return r.cancel=()=>{n&&clearTimeout(n.timeout)},r}const LC=new WeakMap;function IR(t,e){if(typeof t!="object"||t===null)return;let n=LC.get(t);n||(n={tags:{},extras:{}},LC.set(t,n)),e.tags&&(n.tags={...n.tags,...e.tags}),e.extras&&(n.extras={...n.extras,...e.extras})}function wy(t,e,n,r=!1){const[s,i]=e,[o,a]=n,l=o+(t-s)/(i-s)*(a-o);return r?o<a?Math.max(Math.min(l,a),o):Math.max(Math.min(l,o),a):l}function PR(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function C5(t,e){if(PR(t,e))return t[e]}function eh(t){if(!t)return t;if(Array.isArray(t)){const e=[],n=t.length;for(let r=0;r<n;r++)e.push(eh(t[r]));return e}else if(typeof t=="object"){const e=Object.keys(t),n=e.length,r={};for(let s=0;s<n;s++){const i=e[s];r[i]=eh(t[i])}return r}return t}function Gme(t){return Object.values(t)}function Zme(t){return Object.fromEntries(t)}function Qme(t,e){if(t===e)return!0;const n=new Set(Object.keys(t)),r=new Set(Object.keys(e));if(n.size!==r.size)return!1;for(const s of n)if(!r.has(s)||!Object.is(t[s],e[s]))return!1;return!0}function Jme(t,e){return t.id>e.id?1:-1}const Ku=typeof window<"u"&&window.structuredClone?window.structuredClone:t=>t&&JSON.parse(JSON.stringify(t));function eye(t,e){const n=e&&t&&typeof t=="object"&&e in t?t[e]:t;throw new Error(`Unknown switch case ${n}`)}function zR(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function tye(t,e){if(zR(t,e))return t[e]}function nye(t){if(!t.length)return null;let e="";for(const n of t)typeof n=="number"?e+=`.${n}`:n.startsWith("(")?e.endsWith(")")?e=`${e.slice(0,-1)}, ${n.slice(1)}`:e+=n:e+=`.${n}`;return e.startsWith(".")?e.slice(1):e}class ur extends Error{constructor(e,n=[]){const r=nye(n),s=e.split(`
`).map((i,o)=>o===0?i:`  ${i}`).join(`
`);super(n?`At ${r}: ${s}`:s),this.rawMessage=e,this.path=n,this.name="ValidationError"}}function h6(t,e){try{return e()}catch(n){throw n instanceof ur?new ur(n.rawMessage,[t,...n.path]):new ur(n.toString(),[t])}}function u6(t){if(t===null)return"null";if(Array.isArray(t))return"an array";const e=typeof t;switch(e){case"bigint":case"boolean":case"function":case"number":case"string":case"symbol":return`a ${e}`;case"object":return`an ${e}`;case"undefined":return"undefined";default:eye(e)}}class dl{constructor(e){this.validationFn=e}validate(e){return this.validationFn(e)}nullable(){return oye(this)}optional(){return iye(this)}refine(e){return new dl(n=>e(this.validate(n)))}check(e,n){return typeof e=="string"?this.refine(r=>(h6(`(check ${e})`,()=>n(r)),r)):this.refine(r=>(e(r),r))}}class rye extends dl{constructor(e){super(n=>{const r=sye.validate(n);for(let s=0;s<r.length;s++)h6(s,()=>e.validate(r[s]));return r}),this.itemValidator=e}nonEmpty(){return this.check(e=>{if(e.length===0)throw new ur("Expected a non-empty array")})}lengthGreaterThan1(){return this.check(e=>{if(e.length<=1)throw new ur("Expected an array with length greater than 1")})}}class Sy extends dl{constructor(e,n=!1){super(r=>{if(typeof r!="object"||r===null)throw new ur(`Expected object, got ${u6(r)}`);for(const[s,i]of Object.entries(e))h6(s,()=>{i.validate(tye(r,s))});if(!n){for(const s of Object.keys(r))if(!zR(e,s))throw new ur("Unexpected property",[s])}return r}),this.config=e,this.shouldAllowUnknownProperties=n}allowUnknownProperties(){return new Sy(this.config,!0)}extend(e){return new Sy({...this.config,...e})}}function p6(t){return new dl(e=>{if(typeof e!==t)throw new ur(`Expected ${t}, got ${u6(e)}`);return e})}const d0=p6("string"),Ao=p6("number").check(t=>{if(Number.isNaN(t))throw new ur("Expected a number, got NaN");if(!Number.isFinite(t))throw new ur(`Expected a finite number, got ${t}`)});Ao.check(t=>{if(t<0)throw new ur(`Expected a positive number, got ${t}`)});Ao.check(t=>{if(t<=0)throw new ur(`Expected a non-zero positive number, got ${t}`)});const AR=Ao.check(t=>{if(!Number.isInteger(t))throw new ur(`Expected an integer, got ${t}`)});AR.check(t=>{if(t<0)throw new ur(`Expected a positive integer, got ${t}`)});AR.check(t=>{if(t<=0)throw new ur(`Expected a non-zero positive integer, got ${t}`)});const Al=p6("boolean"),sye=new dl(t=>{if(!Array.isArray(t))throw new ur(`Expected an array, got ${u6(t)}`);return t});function MC(t){return new rye(t)}function V0(t){return new Sy(t)}function iye(t){return new dl(e=>{if(e!==void 0)return t.validate(e)})}function oye(t){return new dl(e=>e===null?null:t.validate(e))}const pn={preventDefaultLogging:Vr("preventDefaultLogging",{defaults:{all:!1}}),pointerCaptureLogging:Vr("pointerCaptureLogging",{defaults:{all:!1}}),pointerCaptureTracking:Vr("pointerCaptureTracking",{defaults:{all:!1}}),pointerCaptureTrackingObject:Vr("pointerCaptureTrackingObject",{defaults:{all:new Map},shouldStoreForSession:!1}),elementRemovalLogging:Vr("elementRemovalLogging",{defaults:{all:!1}}),debugSvg:Vr("debugSvg",{defaults:{all:!1}}),throwToBlob:Vr("throwToBlob",{defaults:{all:!1}}),logMessages:Vr("uiLog",{defaults:{all:[]}}),resetConnectionEveryPing:Vr("resetConnectionEveryPing",{defaults:{all:!1}}),debugCursors:Vr("debugCursors",{defaults:{all:!1}}),forceSrgb:Vr("forceSrgbColors",{defaults:{all:!1}}),debugGeometry:Vr("debugGeometry",{defaults:{all:!1}}),hideShapes:Vr("hideShapes",{defaults:{all:!1}})};typeof window<"u"&&(window.tldrawLog=t=>{pn.logMessages.set(pn.logMessages.get().concat(t))});if(typeof Element<"u"){const t=Element.prototype.removeChild;Wf("element removal logging",()=>{pn.elementRemovalLogging.get()?Element.prototype.removeChild=function(e){return console.warn("[tldraw] removing child:",e),t.call(this,e)}:Element.prototype.removeChild=t})}function Vr(t,{defaults:e,shouldStoreForSession:n=!0}){return aye({name:t,defaults:e,shouldStoreForSession:n})}function aye(t){const e=cye(t),n=t.shouldStoreForSession?lye(t.name):null,r=Os(`debug:${t.name}`,n??e);return typeof window<"u"&&(t.shouldStoreForSession&&Wf(`debug:${t.name}`,()=>{const s=r.get();try{s===e?window.sessionStorage.removeItem(`tldraw_debug:${t.name}`):window.sessionStorage.setItem(`tldraw_debug:${t.name}`,JSON.stringify(s))}catch{}}),Object.defineProperty(window,`tldraw${t.name.replace(/^[a-z]/,s=>s.toUpperCase())}`,{get(){return r.get()},set(s){r.set(s)},configurable:!0})),Object.assign(r,t)}function lye(t){try{return JSON.parse((window==null?void 0:window.sessionStorage.getItem(`tldraw_debug:${t}`))??"null")}catch{return null}}function _5(t){try{return t()}catch{return null}}function cye(t){switch(_5(()=>"development")??_5(()=>({}).VERCEL_PUBLIC_TLDRAW_ENV)??_5(()=>({}).NEXT_PUBLIC_TLDRAW_ENV)??"production"){case"production":return t.defaults.production??t.defaults.all;case"preview":case"staging":return t.defaults.staging??t.defaults.all;default:return t.defaults.development??t.defaults.all}}function X3(t){if(t instanceof HTMLElement)return t;if(t.parentElement)return X3(t.parentElement);throw Error("Could not find a parent element of an HTML type!")}function yn(t){t.preventDefault(),pn.preventDefaultLogging.get()&&console.warn("preventDefault called on event:",t)}function NR(t,e){if(t.setPointerCapture(e.pointerId),pn.pointerCaptureTracking.get()){const n=pn.pointerCaptureTrackingObject.get();n.set(t,(n.get(t)??0)+1)}pn.pointerCaptureLogging.get()&&console.warn("setPointerCapture called on element:",t,e)}function TR(t,e){if(t.hasPointerCapture(e.pointerId)){if(t.releasePointerCapture(e.pointerId),pn.pointerCaptureTracking.get()){const n=pn.pointerCaptureTrackingObject.get();n.get(t)===1?n.delete(t):n.has(t)?n.set(t,n.get(t)-1):console.warn("Release without capture")}pn.pointerCaptureLogging.get()&&console.warn("releasePointerCapture called on element:",t,e)}}const LR=t=>t.stopPropagation();function Gl(t){return t.isKilled=!0,{point:{x:t.clientX,y:t.clientY,z:t.pressure},shiftKey:t.shiftKey,altKey:t.altKey,ctrlKey:t.metaKey||t.ctrlKey,pointerId:t.pointerId,button:t.button,isPen:t.pointerType==="pen"}}const f6=ie.createContext({}),Te=()=>ie.useContext(f6);function dye(){const t=Te();return v.useMemo(function(){let r,s;function i(m){if(!m.isKilled){if(m.button===2){t.dispatch({type:"pointer",target:"canvas",name:"right_click",...Gl(m)});return}m.button!==0&&m.button!==1&&m.button!==5||(NR(m.currentTarget,m),t.dispatch({type:"pointer",target:"canvas",name:"pointer_down",...Gl(m)}),t.getOpenMenus().length>0&&(t.updateInstanceState({openMenus:[]}),document.body.click(),t.getContainer().focus()))}}function o(m){m.isKilled||m.clientX===r&&m.clientY===s||(r=m.clientX,s=m.clientY,t.dispatch({type:"pointer",target:"canvas",name:"pointer_move",...Gl(m)}))}function a(m){m.isKilled||m.button!==0&&m.button!==1&&m.button!==2&&m.button!==5||(r=m.clientX,s=m.clientY,TR(m.currentTarget,m),t.dispatch({type:"pointer",target:"canvas",name:"pointer_up",...Gl(m)}))}function l(m){if(m.isKilled||t.getInstanceState().isPenMode&&m.pointerType!=="pen")return;const w=m.pointerType==="mouse"||m.pointerType==="pen";t.updateInstanceState({isHoveringCanvas:w?!0:null})}function c(m){if(m.isKilled||t.getInstanceState().isPenMode&&m.pointerType!=="pen")return;const w=m.pointerType==="mouse"||m.pointerType==="pen";t.updateInstanceState({isHoveringCanvas:w?!1:null})}function d(m){m.isKilled=!0,document.body.click(),yn(m)}function h(m){m.isKilled=!0,m.target.tagName!=="A"&&m.target.tagName!=="TEXTAREA"&&yn(m)}function u(m){yn(m)}async function p(m){var S,b;if(yn(m),!((b=(S=m.dataTransfer)==null?void 0:S.files)!=null&&b.length))return;const w=Array.from(m.dataTransfer.files);await t.putExternalContent({type:"files",files:w,point:t.screenToPage({x:m.clientX,y:m.clientY}),ignoreParent:!1})}function y(m){LR(m)}return{onPointerDown:i,onPointerMove:o,onPointerUp:a,onPointerEnter:l,onPointerLeave:c,onDragOver:u,onDrop:p,onTouchStart:d,onTouchEnd:h,onClick:y}},[t])}function hye(){const t=Te();v.useEffect(()=>{if(t.environment.isFirefox&&!t.environment.isAndroid&&!t.environment.isIos){t.updateInstanceState({isCoarsePointer:!1});return}if(window.matchMedia){const e=window.matchMedia("(pointer: coarse)"),n=()=>{t.updateInstanceState({isCoarsePointer:!!e.matches})};if(n(),e)return e.addEventListener("change",n),()=>e.removeEventListener("change",n)}},[t])}const MR=v.createContext(null);function uye({container:t,children:e}){return f.jsx(MR.Provider,{value:t,children:e})}function hl(){return Yme(v.useContext(MR),"useContainer used outside of <Tldraw />")}function pye(){const t=Te(),e=hl(),n=Me("isFocused",()=>t.getInstanceState().isFocused,[t]);v.useEffect(()=>{if(typeof matchMedia===void 0)return;let r=null;const s=()=>{r!=null&&r();const i=`(resolution: ${window.devicePixelRatio}dppx)`,o=matchMedia(i),a=l=>{l.type==="change"&&s()};o.addEventListener?o.addEventListener("change",s):o.addListener&&o.addListener(a),r=()=>{o.removeEventListener?o.removeEventListener("change",s):o.removeListener&&o.removeListener(a)},t.updateInstanceState({devicePixelRatio:window.devicePixelRatio})};return s(),()=>{r==null||r()}},[t]),v.useEffect(()=>{if(!n)return;const r=a=>{if(a.altKey&&(t.isIn("zoom")||!t.getPath().endsWith(".idle"))&&!Pu()&&yn(a),a.isKilled)return;switch(a.isKilled=!0,a.key){case"=":case"-":case"0":{if(a.metaKey||a.ctrlKey){yn(a);return}break}case"Tab":{if(Pu()||t.getIsMenuOpen())return;break}case",":{if(!Pu()&&(yn(a),!t.inputs.keys.has("Comma"))){const{x:c,y:d,z:h}=t.inputs.currentScreenPoint;t.inputs.keys.add("Comma");const u={type:"pointer",name:"pointer_down",point:{x:c,y:d,z:h},shiftKey:a.shiftKey,altKey:a.altKey,ctrlKey:a.metaKey||a.ctrlKey,pointerId:0,button:0,isPen:t.getInstanceState().isPenMode,target:"canvas"};t.dispatch(u);return}break}case"Escape":{if((t.getEditingShape()||t.getSelectedShapeIds().length>0)&&a.preventDefault(),t.getOpenMenus().length>0)return;t.inputs.keys.has("Escape")||(t.inputs.keys.add("Escape"),t.cancel(),e.focus());return}default:if(Pu()||t.getIsMenuOpen())return}const l={type:"keyboard",name:a.repeat?"key_repeat":"key_down",key:a.key,code:a.code,shiftKey:a.shiftKey,altKey:a.altKey,ctrlKey:a.metaKey||a.ctrlKey};t.dispatch(l)},s=a=>{var c;if(a.isKilled||(a.isKilled=!0,Pu()||t.getIsMenuOpen()))return;if(a.key===","&&((c=document.activeElement)!=null&&c.ELEMENT_NODE&&yn(a),t.inputs.keys.has(a.code))){const{x:d,y:h,z:u}=t.inputs.currentScreenPoint;t.inputs.keys.delete(a.code);const p={type:"pointer",name:"pointer_up",point:{x:d,y:h,z:u},shiftKey:a.shiftKey,altKey:a.altKey,ctrlKey:a.metaKey||a.ctrlKey,pointerId:0,button:0,isPen:t.getInstanceState().isPenMode,target:"canvas"};t.dispatch(p);return}const l={type:"keyboard",name:"key_up",key:a.key,code:a.code,shiftKey:a.shiftKey,altKey:a.altKey,ctrlKey:a.metaKey||a.ctrlKey};t.dispatch(l)};function i(a){var l,c;if(e.contains(a.target)){const d=a.touches[0].pageX,h=a.touches[0].radiusX||0;(d-h<10||d+h>t.getViewportScreenBounds().width-10)&&(((l=a.target)==null?void 0:l.tagName)==="BUTTON"&&((c=a.target)==null||c.click()),yn(a))}}const o=a=>{e.contains(a.target)&&(a.ctrlKey||a.metaKey)&&yn(a)};return e.addEventListener("touchstart",i,{passive:!1}),e.addEventListener("wheel",o,{passive:!1}),document.addEventListener("gesturestart",yn),document.addEventListener("gesturechange",yn),document.addEventListener("gestureend",yn),e.addEventListener("keydown",r),e.addEventListener("keyup",s),()=>{e.removeEventListener("touchstart",i),e.removeEventListener("wheel",o),document.removeEventListener("gesturestart",yn),document.removeEventListener("gesturechange",yn),document.removeEventListener("gestureend",yn),e.removeEventListener("keydown",r),e.removeEventListener("keyup",s)}},[t,e,n])}const fye=["input","select","button","textarea"];function Pu(){const{activeElement:t}=document;return!!(t&&(t.getAttribute("contenteditable")||fye.indexOf(t.tagName.toLowerCase())>-1))}const gye={error:null};class jR extends v.Component{constructor(){super(...arguments),this.state=gye}static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e){var n,r;(r=(n=this.props).onError)==null||r.call(n,e)}render(){const{error:e}=this.state;if(e!==null){const{fallback:n}=this.props;return f.jsx(n,{error:e})}return this.props.children}}function cf({children:t,fallback:e,...n}){return e===null?f.jsx(f.Fragment,{children:t}):f.jsx(jR,{fallback:e,...n,children:t})}class mye{constructor(e){this.shape=e}equals(e){var n,r,s,i,o,a;return((n=this.shape)==null?void 0:n.isLocked)===((r=e==null?void 0:e.shape)==null?void 0:r.isLocked)&&((s=this.shape)==null?void 0:s.props)===((i=e==null?void 0:e.shape)==null?void 0:i.props)&&((o=this.shape)==null?void 0:o.meta)===((a=e==null?void 0:e.shape)==null?void 0:a.meta)}}const yye=({shape:t,util:e})=>i2("Indicator:"+t.type,()=>e.indicator(t)),xye=({editor:t,id:e})=>{const n=Me("shape",()=>new mye(t.store.get(e)),[t,e]),{ShapeIndicatorErrorFallback:r}=_n();return!n.shape||n.shape.isLocked?null:f.jsx(cf,{fallback:r,onError:s=>t.annotateError(s,{origin:"react.shapeIndicator",willCrashApp:!1}),children:f.jsx(yye,{shape:n.shape,util:t.getShapeUtil(n.shape)},n.shape.id)})},wye=({id:t,className:e,color:n,opacity:r})=>{const s=Te(),i=Me("transform",()=>{const o=s.getShapePageTransform(t);return o?o.toCssString():""},[s,t]);return f.jsx("svg",{className:ue("tl-overlays__item",e),children:f.jsx("g",{className:"tl-shape-indicator",transform:i,stroke:n??"var(--color-selected)",opacity:r,children:f.jsx(xye,{editor:s,id:t})})})},l2=v.memo(wye);function Sye(){return f.jsx("div",{className:"tl-background"})}function Vf(t,e,n,r,s,i){v.useLayoutEffect(()=>{const o=t.current;if(!o||e===void 0)return;let a=`translate(${e}px, ${n}px)`;r!==void 0&&(a+=` scale(${r})`),s!==void 0&&(a+=` rotate(${s}rad)`),i&&(a+=` translate(${i.x}px, ${i.y}px)`),o.style.transform=a})}const by={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>t*(2-t),easeInOutQuad:t=>t<.5?2*t*t:-1+(4-2*t)*t,easeInCubic:t=>t*t*t,easeOutCubic:t=>--t*t*t+1,easeInOutCubic:t=>t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1,easeInQuart:t=>t*t*t*t,easeOutQuart:t=>1- --t*t*t*t,easeInOutQuart:t=>t<.5?8*t*t*t*t:1-8*--t*t*t*t,easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>1+--t*t*t*t*t,easeInOutQuint:t=>t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t,easeInSine:t=>1-Math.cos(t*Math.PI/2),easeOutSine:t=>Math.sin(t*Math.PI/2),easeInOutSine:t=>-(Math.cos(Math.PI*t)-1)/2,easeInExpo:t=>t<=0?0:Math.pow(2,10*t-10),easeOutExpo:t=>t>=1?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>t<=0?0:t>=1?1:t<.5?Math.pow(2,20*t-10)/2:(2-Math.pow(2,-20*t+10))/2};class j{constructor(e=0,n=0,r=1){this.x=e,this.y=n,this.z=r}get pressure(){return this.z}set(e=this.x,n=this.y,r=this.z){return this.x=e,this.y=n,this.z=r,this}setTo({x:e=0,y:n=0,z:r=1}){return this.x=e,this.y=n,this.z=r,this}rot(e){if(e===0)return this;const{x:n,y:r}=this,s=Math.sin(e),i=Math.cos(e);return this.x=n*i-r*s,this.y=n*s+r*i,this}rotWith(e,n){if(n===0)return this;const r=this.x-e.x,s=this.y-e.y,i=Math.sin(n),o=Math.cos(n);return this.x=e.x+(r*o-s*i),this.y=e.y+(r*i+s*o),this}clone(){const{x:e,y:n,z:r}=this;return new j(e,n,r)}sub(e){return this.x-=e.x,this.y-=e.y,this}subXY(e,n){return this.x-=e,this.y-=n,this}subScalar(e){return this.x-=e,this.y-=e,this}add(e){return this.x+=e.x,this.y+=e.y,this}addXY(e,n){return this.x+=e,this.y+=n,this}addScalar(e){return this.x+=e,this.y+=e,this}clamp(e,n){return this.x=Math.max(this.x,e),this.y=Math.max(this.y,e),n!==void 0&&(this.x=Math.min(this.x,n),this.y=Math.min(this.y,n)),this}div(e){return this.x/=e,this.y/=e,this}divV(e){return this.x/=e.x,this.y/=e.y,this}mul(e){return this.x*=e,this.y*=e,this}mulV(e){return this.x*=e.x,this.y*=e.y,this}abs(){return this.x=Math.abs(this.x),this.y=Math.abs(this.y),this}nudge(e,n){const r=j.Tan(e,this);return this.add(r.mul(n))}neg(){return this.x*=-1,this.y*=-1,this}cross(e){return this.x=this.y*e.z-this.z*e.y,this.y=this.z*e.x-this.x*e.z,this}dpr(e){return j.Dpr(this,e)}cpr(e){return j.Cpr(this,e)}len2(){return j.Len2(this)}len(){return j.Len(this)}pry(e){return j.Pry(this,e)}per(){const{x:e,y:n}=this;return this.x=n,this.y=-e,this}uni(){return j.Uni(this)}tan(e){return j.Tan(this,e)}dist(e){return j.Dist(this,e)}distanceToLineSegment(e,n){return j.DistanceToLineSegment(e,n,this)}slope(e){return j.Slope(this,e)}snapToGrid(e){return this.x=Math.round(this.x/e)*e,this.y=Math.round(this.y/e)*e,this}angle(e){return j.Angle(this,e)}toAngle(){return j.ToAngle(this)}lrp(e,n){return this.x=this.x+(e.x-this.x)*n,this.y=this.y+(e.y-this.y)*n,this}equals(e){return j.Equals(this,e)}equalsXY(e,n){return j.EqualsXY(this,e,n)}norm(){const e=this.len();return this.x=e===0?0:this.x/e,this.y=e===0?0:this.y/e,this}toFixed(){return j.ToFixed(this)}toString(){return j.ToString(j.ToFixed(this))}toJson(){return j.ToJson(this)}toArray(){return j.ToArray(this)}static Add(e,n){return new j(e.x+n.x,e.y+n.y)}static AddXY(e,n,r){return new j(e.x+n,e.y+r)}static Sub(e,n){return new j(e.x-n.x,e.y-n.y)}static SubXY(e,n,r){return new j(e.x-n,e.y-r)}static AddScalar(e,n){return new j(e.x+n,e.y+n)}static SubScalar(e,n){return new j(e.x-n,e.y-n)}static Div(e,n){return new j(e.x/n,e.y/n)}static Mul(e,n){return new j(e.x*n,e.y*n)}static DivV(e,n){return new j(e.x/n.x,e.y/n.y)}static MulV(e,n){return new j(e.x*n.x,e.y*n.y)}static Neg(e){return new j(-e.x,-e.y)}static Per(e){return new j(e.y,-e.x)}static Dist2(e,n){return j.Sub(e,n).len2()}static Abs(e){return new j(Math.abs(e.x),Math.abs(e.y))}static Dist(e,n){return Math.hypot(e.y-n.y,e.x-n.x)}static Dpr(e,n){return e.x*n.x+e.y*n.y}static Cross(e,n){return new j(e.y*n.z-e.z*n.y,e.z*n.x-e.x*n.z)}static Cpr(e,n){return e.x*n.y-n.x*e.y}static Len2(e){return e.x*e.x+e.y*e.y}static Len(e){return Math.hypot(e.x,e.y)}static Pry(e,n){return j.Dpr(e,n)/j.Len(n)}static Uni(e){return j.Div(e,j.Len(e))}static Tan(e,n){return j.Uni(j.Sub(e,n))}static Min(e,n){return new j(Math.min(e.x,n.x),Math.min(e.y,n.y))}static Max(e,n){return new j(Math.max(e.x,n.x),Math.max(e.y,n.y))}static From({x:e,y:n,z:r=1}){return new j(e,n,r)}static FromArray(e){return new j(e[0],e[1])}static Rot(e,n=0){const r=Math.sin(n),s=Math.cos(n);return new j(e.x*s-e.y*r,e.x*r+e.y*s)}static RotWith(e,n,r){const s=e.x-n.x,i=e.y-n.y,o=Math.sin(r),a=Math.cos(r);return new j(n.x+(s*a-i*o),n.y+(s*o+i*a))}static NearestPointOnLineThroughPoint(e,n,r){return j.Mul(n,j.Sub(r,e).pry(n)).add(e)}static NearestPointOnLineSegment(e,n,r,s=!0){const i=j.Tan(n,e),o=j.Add(e,j.Mul(i,j.Sub(r,e).pry(i)));if(s){if(o.x<Math.min(e.x,n.x))return j.Cast(e.x<n.x?e:n);if(o.x>Math.max(e.x,n.x))return j.Cast(e.x>n.x?e:n);if(o.y<Math.min(e.y,n.y))return j.Cast(e.y<n.y?e:n);if(o.y>Math.max(e.y,n.y))return j.Cast(e.y>n.y?e:n)}return o}static DistanceToLineThroughPoint(e,n,r){return j.Dist(r,j.NearestPointOnLineThroughPoint(e,n,r))}static DistanceToLineSegment(e,n,r,s=!0){return j.Dist(r,j.NearestPointOnLineSegment(e,n,r,s))}static Snap(e,n=1){return new j(Math.round(e.x/n)*n,Math.round(e.y/n)*n)}static Cast(e){return e instanceof j?e:j.From(e)}static Slope(e,n){return e.x===n.y?NaN:(e.y-n.y)/(e.x-n.x)}static Angle(e,n){return Math.atan2(n.y-e.y,n.x-e.x)}static Lrp(e,n,r){return j.Sub(n,e).mul(r).add(e)}static Med(e,n){return new j((e.x+n.x)/2,(e.y+n.y)/2)}static Equals(e,n){return Math.abs(e.x-n.x)<1e-4&&Math.abs(e.y-n.y)<1e-4}static EqualsXY(e,n,r){return e.x===n&&e.y===r}static Clockwise(e,n,r){return(r.x-e.x)*(n.y-e.y)-(n.x-e.x)*(r.y-e.y)<0}static Rescale(e,n){const r=j.Len(e);return new j(n*e.x/r,n*e.y/r)}static ScaleWithOrigin(e,n,r){return j.Sub(e,r).mul(n).add(r)}static ToFixed(e,n=2){return new j(+e.x.toFixed(n),+e.y.toFixed(n),+e.z.toFixed(n))}static Nudge(e,n,r){return j.Add(e,j.Tan(n,e).mul(r))}static ToString(e){return`${e.x}, ${e.y}`}static ToAngle(e){let n=Math.atan2(e.y,e.x);return n<0&&(n+=Math.PI*2),n}static FromAngle(e,n=1){return new j(Math.cos(e)*n,Math.sin(e)*n)}static ToArray(e){return[e.x,e.y,e.z]}static ToJson(e){const{x:n,y:r,z:s}=e;return{x:n,y:r,z:s}}static Average(e){const n=e.length,r=new j(0,0);for(let s=0;s<n;s++)r.add(e[s]);return r.div(n)}static Clamp(e,n,r){return r===void 0?new j(Math.min(Math.max(e.x,n)),Math.min(Math.max(e.y,n))):new j(Math.min(Math.max(e.x,n),r),Math.min(Math.max(e.y,n),r))}static PointsBetween(e,n,r=6){const s=[];for(let i=0;i<r;i++){const o=by.easeInQuad(i/(r-1)),a=j.Lrp(e,n,o);a.z=Math.min(1,.5+Math.abs(.5-bye(o))*.65),s.push(a)}return s}static SnapToGrid(e,n=8){return new j(Math.round(e.x/n)*n,Math.round(e.y/n)*n)}}const bye=t=>t<.5?2*t*t:-1+(4-2*t)*t,Zi=class Pr{constructor(e=0,n=0,r=0,s=0){this.x=0,this.y=0,this.w=0,this.h=0,this.x=e,this.y=n,this.w=r,this.h=s}get point(){return new j(this.x,this.y)}set point(e){this.x=e.x,this.y=e.y}get minX(){return this.x}set minX(e){this.x=e}get midX(){return this.x+this.w/2}get maxX(){return this.x+this.w}get minY(){return this.y}set minY(e){this.y=e}get midY(){return this.y+this.h/2}get maxY(){return this.y+this.h}get width(){return this.w}set width(e){this.w=e}get height(){return this.h}set height(e){this.h=e}get aspectRatio(){return this.width/this.height}get center(){return new j(this.midX,this.midY)}set center(e){this.minX=e.x-this.width/2,this.minY=e.y-this.height/2}get corners(){return[new j(this.minX,this.minY),new j(this.maxX,this.minY),new j(this.maxX,this.maxY),new j(this.minX,this.maxY)]}get snapPoints(){return[new j(this.minX,this.minY),new j(this.maxX,this.minY),new j(this.maxX,this.maxY),new j(this.minX,this.maxY),this.center]}get sides(){const{corners:e}=this;return[[e[0],e[1]],[e[1],e[2]],[e[2],e[3]],[e[3],e[0]]]}get size(){return new j(this.w,this.h)}toFixed(){return this.x=h0(this.x),this.y=h0(this.y),this.w=h0(this.w),this.h=h0(this.h),this}setTo(e){return this.x=e.x,this.y=e.y,this.w=e.w,this.h=e.h,this}set(e=0,n=0,r=0,s=0){return this.x=e,this.y=n,this.w=r,this.h=s,this}expand(e){const n=Math.min(this.minX,e.minX),r=Math.min(this.minY,e.minY),s=Math.max(this.maxX,e.maxX),i=Math.max(this.maxY,e.maxY);return this.x=n,this.y=r,this.w=s-n,this.h=i-r,this}expandBy(e){return this.x-=e,this.y-=e,this.w+=e*2,this.h+=e*2,this}scale(e){return this.x/=e,this.y/=e,this.w/=e,this.h/=e,this}clone(){const{x:e,y:n,w:r,h:s}=this;return new Pr(e,n,r,s)}translate(e){return this.x+=e.x,this.y+=e.y,this}snapToGrid(e){const n=Math.round(this.minX/e)*e,r=Math.round(this.minY/e)*e,s=Math.round(this.maxX/e)*e,i=Math.round(this.maxY/e)*e;this.minX=n,this.minY=r,this.width=Math.max(1,s-n),this.height=Math.max(1,i-r)}collides(e){return Pr.Collides(this,e)}contains(e){return Pr.Contains(this,e)}includes(e){return Pr.Includes(this,e)}containsPoint(e,n=0){return Pr.ContainsPoint(this,e,n)}getHandlePoint(e){switch(e){case"top_left":return new j(this.minX,this.minY);case"top_right":return new j(this.maxX,this.minY);case"bottom_left":return new j(this.minX,this.maxY);case"bottom_right":return new j(this.maxX,this.maxY);case"top":return new j(this.midX,this.minY);case"right":return new j(this.maxX,this.midY);case"bottom":return new j(this.midX,this.maxY);case"left":return new j(this.minX,this.midY)}}toJson(){return{x:this.minX,y:this.minY,w:this.w,h:this.h}}resize(e,n,r){const{minX:s,minY:i,maxX:o,maxY:a}=this;let{minX:l,minY:c,maxX:d,maxY:h}=this;switch(e){case"left":case"top_left":case"bottom_left":{l+=n;break}case"right":case"top_right":case"bottom_right":{d+=n;break}}switch(e){case"top":case"top_left":case"top_right":{c+=r;break}case"bottom":case"bottom_left":case"bottom_right":{h+=r;break}}const u=(d-l)/(o-s),p=(h-c)/(a-i),y=u<0,m=p<0;if(y){const w=d;d=l,l=w}if(m){const w=h;h=c,c=w}this.minX=l,this.minY=c,this.width=Math.abs(d-l),this.height=Math.abs(h-c)}union(e){const n=Math.min(this.minX,e.x),r=Math.min(this.minY,e.y),s=Math.max(this.maxX,e.w+e.x),i=Math.max(this.maxY,e.h+e.y);return this.x=n,this.y=r,this.width=s-n,this.height=i-r,this}static From(e){return new Pr(e.x,e.y,e.w,e.h)}static FromPoints(e){if(e.length===0)return new Pr;let n=1/0,r=1/0,s=-1/0,i=-1/0,o;for(let a=0,l=e.length;a<l;a++)o=e[a],n=Math.min(o.x,n),r=Math.min(o.y,r),s=Math.max(o.x,s),i=Math.max(o.y,i);return new Pr(n,r,s-n,i-r)}static Expand(e,n){const r=Math.min(n.minX,e.minX),s=Math.min(n.minY,e.minY),i=Math.max(n.maxX,e.maxX),o=Math.max(n.maxY,e.maxY);return new Pr(r,s,i-r,o-s)}static ExpandBy(e,n){return new Pr(e.minX-n,e.minY-n,e.width+n*2,e.height+n*2)}static Resize(e,n,r,s,i=!1){const{minX:o,minY:a,maxX:l,maxY:c}=e;let{minX:d,minY:h,maxX:u,maxY:p}=e;switch(n){case"left":case"top_left":case"bottom_left":{d+=r;break}case"right":case"top_right":case"bottom_right":{u+=r;break}}switch(n){case"top":case"top_left":case"top_right":{h+=s;break}case"bottom":case"bottom_left":case"bottom_right":{p+=s;break}}const y=(u-d)/(l-o),m=(p-h)/(c-a),w=y<0,S=m<0;if(i){const g=(l-o)/(c-a),x=Math.abs(u-d),k=Math.abs(p-h),C=x*(m<0?1:-1)*(1/g),_=k*(y<0?1:-1)*g,E=g<x/k;switch(n){case"top_left":{E?h=p+C:d=u+_;break}case"top_right":{E?h=p+C:u=d-_;break}case"bottom_right":{E?p=h-C:u=d-_;break}case"bottom_left":{E?p=h-C:d=u+_;break}case"bottom":case"top":{const z=(d+u)/2,P=k*g;d=z-P/2,u=z+P/2;break}case"left":case"right":{const z=(h+p)/2,P=x/g;h=z-P/2,p=z+P/2;break}}}if(w){const g=u;u=d,d=g}if(S){const g=p;p=h,h=g}const b=new Pr(d,h,Math.abs(u-d),Math.abs(p-h));return{box:b,scaleX:+(b.width/e.width*(y>0?1:-1)).toFixed(5),scaleY:+(b.height/e.height*(m>0?1:-1)).toFixed(5)}}equals(e){return Pr.Equals(this,e)}static Equals(e,n){return n.x===e.x&&n.y===e.y&&n.w===e.w&&n.h===e.h}zeroFix(){return this.w=Math.max(1,this.w),this.h=Math.max(1,this.h),this}static ZeroFix(e){return new Pr(e.x,e.y,Math.max(1,e.w),Math.max(1,e.h))}};Zi.Collides=(t,e)=>!(t.maxX<e.minX||t.minX>e.maxX||t.maxY<e.minY||t.minY>e.maxY);Zi.Contains=(t,e)=>t.minX<e.minX&&t.minY<e.minY&&t.maxY>e.maxY&&t.maxX>e.maxX;Zi.Includes=(t,e)=>Zi.Collides(t,e)||Zi.Contains(t,e);Zi.ContainsPoint=(t,e,n=0)=>!(e.x<t.minX-n||e.y<t.minY-n||e.x>t.maxX+n||e.y>t.maxY+n);Zi.Common=t=>{let e=1/0,n=1/0,r=-1/0,s=-1/0;for(let i=0;i<t.length;i++){const o=t[i];e=Math.min(e,o.minX),n=Math.min(n,o.minY),r=Math.max(r,o.maxX),s=Math.max(s,o.maxY)}return new Zi(e,n,r-e,s-n)};Zi.Sides=(t,e=0)=>{const{corners:n}=t;return[[n[0],n[1]],[n[1],n[2]],[n[2],n[3]],[n[3],n[0]]]};let Ve=Zi;function vye(t){switch(t){case"top":return"bottom";case"bottom":return"top";case"top_left":return"bottom_left";case"top_right":return"bottom_right";case"bottom_left":return"top_left";case"bottom_right":return"top_right";default:return t}}function kye(t){switch(t){case"left":return"right";case"right":return"left";case"top_left":return"top_right";case"top_right":return"top_left";case"bottom_left":return"bottom_right";case"bottom_right":return"bottom_left";default:return t}}function Cye(t){return t==="top_left"||t==="top_right"||t==="bottom_right"||t==="bottom_left"}function od(t){return`${Yt(t.x)},${Yt(t.y)} `}function ad(t,e){return`${Yt((t.x+e.x)/2)},${Yt((t.y+e.y)/2)} `}const Fh=Math.PI,jC=Fh/2,co=Fh*2;function Ar(t,e,n){return Math.max(e,typeof n<"u"?Math.min(t,n):t)}function h0(t,e=1e10){return t?Math.round(t*e)/e:0}function RR(t,e,n=1e-6){return Math.abs(t-e)<=n}function Y3(t){return t=t%co,t<0?t=t+co:t===0&&(t=0),t}function g6(t,e){return t=Y3(t),e=Y3(e),t>e&&(e+=co),e-t}function _ye(t,e){return co-g6(t,e)}function RC(t){return(co+t)%co}function Eye(t,e){return t===e||RR(t%(Math.PI/2)-e%(Math.PI/2),0)}function Iye(t){return t*180/Fh}function zu(t,e,n,r){return t<r&&n<e}function ri(t,e,n,r){const s=Math.max(t,n),i=Math.min(e,r);return s<=i?[s,i]:null}function $C(t,e,n){return(e.x-t.x)*(n.y-t.y)-(n.x-t.x)*(e.y-t.y)}function Sh(t,e){let n=0,r,s;for(let i=0;i<e.length;i++)r=e[i],s=e[(i+1)%e.length],r.y<=t.y?s.y>t.y&&$C(r,s,t)>0&&(n+=1):s.y<=t.y&&$C(r,s,t)<0&&(n-=1);return n!==0}function Yt(t){return+t.toFixed(4)}const OC=t=>Math.abs(t)<Number.MAX_SAFE_INTEGER,u0=({brush:t,color:e,opacity:n,className:r})=>{const s=v.useRef(null);Vf(s,t.x,t.y);const i=Yt(Math.max(1,t.w)),o=Yt(Math.max(1,t.h));return f.jsx("svg",{className:"tl-overlays__item",ref:s,children:e?f.jsxs("g",{className:"tl-brush",opacity:n,children:[f.jsx("rect",{width:i,height:o,fill:e,opacity:.75}),f.jsx("rect",{width:i,height:o,fill:"none",stroke:e,opacity:.1})]}):f.jsx("rect",{className:`tl-brush tl-brush__default ${r}`,width:i,height:o})})},Pye=({className:t,zoom:e,point:n,color:r,viewport:s,opacity:i=1})=>{const o=v.useRef(null);return Vf(o,Ar(n.x,s.minX+5/e,s.maxX-5/e),Ar(n.y,s.minY+5/e,s.maxY-5/e),1/e,j.Angle(s.center,n)),f.jsxs("svg",{ref:o,className:ue("tl-overlays__item",t),children:[f.jsx("use",{href:"#cursor_hint",color:r,strokeWidth:3,stroke:"var(--color-background)"}),f.jsx("use",{href:"#cursor_hint",color:r,opacity:i})]})},zye=({className:t,zoom:e,point:n,color:r,name:s,chatMessage:i})=>{const o=v.useRef(null);return Vf(o,n==null?void 0:n.x,n==null?void 0:n.y,1/e),n?f.jsxs("div",{ref:o,className:ue("tl-overlays__item",t),children:[f.jsx("svg",{className:"tl-cursor",children:f.jsx("use",{href:"#cursor",color:r})}),i?f.jsxs(f.Fragment,{children:[s&&f.jsx("div",{className:"tl-nametag-title",style:{color:r},children:s}),f.jsx("div",{className:"tl-nametag-chat",style:{backgroundColor:r},children:i})]}):s&&f.jsx("div",{className:"tl-nametag",style:{backgroundColor:r},children:s})]}):null},DC=v.memo(zye),$R={openWindow:(t,e)=>window.open(t,e,"noopener noreferrer"),refreshPage:()=>window.location.reload(),hardReset:async()=>{var t;return await((t=window.__tldraw__hardReset)==null?void 0:t.call(window))}};function Aye(){$R.hardReset()}function Nye(){$R.refreshPage()}const Tye="https://github.com/tldraw/tldraw/issues/new";function Lye(){}const OR=({error:t,editor:e})=>{const n=v.useRef(null),[r,s]=v.useState(!1),[i,o]=v.useState(!1),[a,l]=v.useState(!1),c=t instanceof Error?t.message:String(t),d=t instanceof Error?t.stack:null,h=Me("isDarkMode",()=>{try{if(e)return e.user.getIsDarkMode()}catch{}return null},[e]),[u,p]=v.useState(null);v.useLayoutEffect(()=>{var x;h!==null&&p(h);let b=(x=n.current)==null?void 0:x.parentElement,g=!1;for(;b;){if(b.classList.contains("tl-theme__dark")||b.classList.contains("tl-theme__light")){g=!0;break}b=b.parentElement}if(g){p(null);return}p(window.matchMedia("(prefers-color-scheme: dark)").matches)},[h]),v.useEffect(()=>{if(i){const b=setTimeout(()=>{o(!1)},2e3);return()=>clearTimeout(b)}},[i]);const y=()=>{const b=document.createElement("textarea");b.value=d??c,document.body.appendChild(b),b.select(),document.execCommand("copy"),b.remove(),o(!0)},m=()=>{Nye()},w=async()=>{Aye()},S=new URL(Tye);return S.searchParams.set("title",c),S.searchParams.set("labels","bug"),S.searchParams.set("body",`Hey, I ran into an error while using tldraw:

\`\`\`js
${d??c}
\`\`\`

My browser: ${navigator.userAgent}`),f.jsxs("div",{ref:n,className:ue("tl-container tl-error-boundary",u===null?"":u?"tl-theme__dark":"tl-theme__light"),children:[f.jsx("div",{className:"tl-error-boundary__overlay"}),e&&f.jsx(jR,{onError:Lye,fallback:()=>null,children:f.jsx(f6.Provider,{value:e,children:f.jsx("div",{className:"tl-overlay tl-error-boundary__canvas",children:f.jsx(WR,{})})})}),f.jsx("div",{className:ue("tl-modal","tl-error-boundary__content",{"tl-error-boundary__content__expanded":r&&!a}),children:a?f.jsxs(f.Fragment,{children:[f.jsx("h2",{children:"Are you sure?"}),f.jsx("p",{children:"Resetting your data will delete your drawing and cannot be undone."}),f.jsxs("div",{className:"tl-error-boundary__content__actions",children:[f.jsx("button",{onClick:()=>l(!1),children:"Cancel"}),f.jsx("button",{className:"tl-error-boundary__reset",onClick:w,children:"Reset data"})]})]}):f.jsxs(f.Fragment,{children:[f.jsx("h2",{children:"Something's gone wrong."}),f.jsxs("p",{children:["Sorry, we encountered an error. Please refresh the page to continue. If you keep seeing this error, you can ",f.jsx("a",{href:S.toString(),children:"create a GitHub issue"})," or"," ",f.jsx("a",{href:"https://discord.gg/Cq6cPsTfNy",children:"ask for help on Discord"}),"."]}),r&&f.jsxs("div",{className:"tl-error-boundary__content__error",children:[f.jsx("pre",{children:f.jsx("code",{children:d??c})}),f.jsx("button",{onClick:y,children:i?"Copied!":"Copy"})]}),f.jsxs("div",{className:"tl-error-boundary__content__actions",children:[f.jsx("button",{onClick:()=>s(!r),children:r?"Hide details":"Show details"}),f.jsxs("div",{className:"tl-error-boundary__content__actions__group",children:[f.jsx("button",{className:"tl-error-boundary__reset",onClick:()=>l(!0),children:"Reset data"}),f.jsx("button",{className:"tl-error-boundary__refresh",onClick:m,children:"Refresh Page"})]})]})]})})]})},xo=2e3,qC=40,Mye=320,ld=[.1,.25,.5,1,2,4,8],Au=.1,Nu=8,jye={isLocked:!1,wheelBehavior:"pan",panSpeed:1,zoomSpeed:1,zoomSteps:[.1,.25,.5,1,2,4,8]},Rye=.5,$ye=.1,Oye=.2,Dye=.005,qye=.05,Bye=450,Fye=200,H3=6,G3=4,Kye=32,Wye={duration:0,easing:by.easeInOutCubic},E5=.09,BC=[{min:-1,mid:.15,step:64},{min:.05,mid:.375,step:16},{min:.15,mid:1,step:4},{min:.7,mid:2.5,step:1}],Uye=6e4,DR=3e3,Vye=1200,FC={CAMERA_MOVE:-10},Xye=64,Yye=620,Hye=8,Gye=({x:t,y:e,z:n,size:r})=>f.jsxs("svg",{className:"tl-grid",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("defs",{children:BC.map(({min:s,mid:i,step:o},a)=>{const l=o*r*n,c=.5+t*n,d=.5+e*n,h=c>0?c%l:l+c%l,u=d>0?d%l:l+d%l,p=n<i?wy(n,[s,i],[0,1]):1;return f.jsx("pattern",{id:`grid-${o}`,width:l,height:l,patternUnits:"userSpaceOnUse",children:f.jsx("circle",{className:"tl-grid-dot",cx:h,cy:u,r:1,opacity:p})},`grid-pattern-${a}`)})}),BC.map(({step:s},i)=>f.jsx("rect",{width:"100%",height:"100%",fill:`url(#grid-${s})`},`grid-rect-${i}`))]}),Zye=({handle:t,isCoarse:e,className:n,zoom:r})=>{const s=(e?20:12)/r,i=(t.type==="create"&&e?3:4)/r;return f.jsxs("g",{className:ue("tl-handle",{"tl-handle__virtual":t.type==="virtual","tl-handle__create":t.type==="create"},n),children:[f.jsx("circle",{className:"tl-handle__bg",r:s}),f.jsx("circle",{className:"tl-handle__fg",r:i})]})},Qye=({children:t})=>f.jsx("svg",{className:"tl-user-handles tl-overlays__item",children:t}),Jye=({shapeId:t})=>f.jsx(l2,{className:"tl-user-indicator__hovered",id:t});function e1e(t,e=!0){const n=t.length;if(n<2)return"";let r=t[0],s=t[1];if(n===2)return`M${od(r)}L${od(s)}`;let i="";for(let o=2,a=n-1;o<a;o++)r=t[o],s=t[o+1],i+=ad(r,s);return e?`M${ad(t[0],t[1])}Q${od(t[1])}${ad(t[1],t[2])}T${i}${ad(t[n-1],t[0])}${ad(t[0],t[1])}Z`:`M${od(t[0])}Q${od(t[1])}${ad(t[1],t[2])}${t.length>3?"T":""}${i}L${od(t[n-1])}`}const KC=({scribble:t,zoom:e,color:n,opacity:r,className:s})=>t.points.length?f.jsx("svg",{className:s&&ue("tl-overlays__item",s),children:f.jsx("path",{className:"tl-scribble",d:e1e(t.points,!1),stroke:n??`var(--color-${t.color})`,fill:"none",strokeWidth:8/e,opacity:r??t.opacity})}):null,t1e=({bounds:t,rotation:e})=>{const n=v.useRef(null);return Vf(n,t.x,t.y,1,e),v.useLayoutEffect(()=>{const r=n.current;r&&(r.style.width=Yt(Math.max(1,t.width))+"px",r.style.height=Yt(Math.max(1,t.height))+"px")},[t.width,t.height]),f.jsx("div",{ref:n,className:"tl-selection__bg",draggable:!1})},n1e=({bounds:t,rotation:e})=>{const n=Te(),r=v.useRef(null),s=Me("only selected shape",()=>n.getOnlySelectedShape(),[n]),i=s?n.getShapeUtil(s).expandSelectionOutlinePx(s):0;return Vf(r,t==null?void 0:t.x,t==null?void 0:t.y,1,e,{x:-i,y:-i}),t=t.clone().expandBy(i).zeroFix(),f.jsx("svg",{ref:r,className:"tl-overlays__item tl-selection__fg","data-testid":"selection-foreground",children:f.jsx("rect",{className:ue("tl-selection__fg__outline"),width:Yt(t.width),height:Yt(t.height)})})},r1e=()=>f.jsx("div",{className:"tl-shape-error-boundary"}),s1e=()=>f.jsx("circle",{cx:4,cy:4,r:8,strokeWidth:"1",stroke:"red"});function i1e({points:t,zoom:e}){const n=2.5/e,r=t.reduce((u,p)=>Math.min(u,p.x),1/0),s=t.reduce((u,p)=>Math.max(u,p.x),-1/0),i=t.reduce((u,p)=>Math.min(u,p.y),1/0),o=t.reduce((u,p)=>Math.max(u,p.y),-1/0),a=t.some(u=>u.x===r&&u.y===i);let l,c,d,h;return a?(l=r,c=i,d=s,h=o):(l=r,c=o,d=s,h=i),f.jsxs("g",{className:"tl-snap-line",children:[f.jsx("line",{x1:l,y1:c,x2:d,y2:h}),t.map((u,p)=>f.jsx("g",{transform:`translate(${u.x},${u.y})`,children:f.jsx("path",{className:"tl-snap-point",d:`M ${-n},${-n} L ${n},${n} M ${-n},${n} L ${n},${-n}`})},p))]})}function o1e({gaps:t,direction:e,zoom:n}){const r=3.5/n;let s=[-1/0,1/0],i=null;const o=e==="horizontal";for(const l of t){if(i=ri(s[0],s[1],o?l.startEdge[0].y:l.startEdge[0].x,o?l.startEdge[1].y:l.startEdge[1].x),i)s=i;else continue;if(i=ri(s[0],s[1],o?l.endEdge[0].y:l.endEdge[0].x,o?l.endEdge[1].y:l.endEdge[1].x),i)s=i;else continue}if(s===null)return null;const a=(s[0]+s[1])/2;return f.jsx("g",{className:"tl-snap-line",children:t.map(({startEdge:l,endEdge:c},d)=>f.jsx(v.Fragment,{children:o?f.jsxs(f.Fragment,{children:[f.jsx("line",{x1:l[0].x,y1:a-2*r,x2:l[1].x,y2:a+2*r}),f.jsx("line",{x1:c[0].x,y1:a-2*r,x2:c[1].x,y2:a+2*r}),f.jsx("line",{x1:l[0].x,y1:a,x2:c[0].x,y2:a}),f.jsx("line",{x1:(l[0].x+c[0].x)/2,y1:a-r,x2:(l[0].x+c[0].x)/2,y2:a+r})]}):f.jsxs(f.Fragment,{children:[f.jsx("line",{x1:a-2*r,y1:l[0].y,x2:a+2*r,y2:l[1].y}),f.jsx("line",{x1:a-2*r,y1:c[0].y,x2:a+2*r,y2:c[1].y}),f.jsx("line",{x1:a,y1:l[0].y,x2:a,y2:c[0].y}),f.jsx("line",{x1:a-r,y1:(l[0].y+c[0].y)/2,x2:a+r,y2:(l[0].y+c[0].y)/2})]})},d))})}const a1e=({className:t,line:e,zoom:n})=>f.jsx("svg",{className:ue("tl-overlays__item",t),children:e.type==="points"?f.jsx(i1e,{...e,zoom:n}):e.type==="gaps"?f.jsx(o1e,{...e,zoom:n}):null}),l1e=()=>f.jsx("svg",{width:16,height:16,viewBox:"0 0 16 16",children:f.jsxs("g",{strokeWidth:2,fill:"none",fillRule:"evenodd",children:[f.jsx("circle",{strokeOpacity:.25,cx:8,cy:8,r:7,stroke:"var(--color-text-1)"}),f.jsx("path",{strokeLinecap:"round",d:"M15 8c0-4.5-4.5-7-7-7",stroke:"var(--color-text-1)",children:f.jsx("animateTransform",{attributeName:"transform",type:"rotate",from:"0 8 8",to:"360 8 8",dur:"1s",repeatCount:"indefinite"})})]})}),c1e=()=>null,qR=v.createContext({});function d1e({overrides:t,children:e}){return f.jsx(qR.Provider,{value:v.useMemo(()=>({Background:Sye,SvgDefs:c1e,Brush:u0,ZoomBrush:u0,ScreenshotBrush:u0,CollaboratorBrush:u0,Cursor:DC,CollaboratorCursor:DC,CollaboratorHint:Pye,CollaboratorShapeIndicator:l2,Grid:Gye,Scribble:KC,SnapLine:a1e,Handles:Qye,Handle:Zye,CollaboratorScribble:KC,ErrorFallback:OR,ShapeErrorFallback:r1e,ShapeIndicatorErrorFallback:s1e,Spinner:l1e,SelectionBackground:t1e,SelectionForeground:n1e,HoveredShapeIndicator:Jye,OnTheCanvas:null,InFrontOfTheCanvas:null,...t}),[t]),children:e})}function _n(){return v.useContext(qR)}const h1e=["textarea","input"];function u1e(t){const e=Te();v.useEffect(()=>{const n=t.current;if(!n)return;const r=s=>{var i;if(s instanceof PointerEvent&&s.pointerType==="pen"){s.isKilled=!0;const{target:o}=s;if(h1e.includes((i=o.tagName)==null?void 0:i.toLocaleLowerCase())||e.isIn("select.editing_shape"))return;yn(s)}};return n.addEventListener("touchstart",r),n.addEventListener("touchend",r),()=>{n.removeEventListener("touchstart",r),n.removeEventListener("touchend",r)}},[e,t])}const WC=10,p1e=/Mac|iPod|iPhone|iPad/.test(typeof window>"u"?"node":window.navigator.platform);function f1e(t){let{deltaY:e,deltaX:n}=t,r=0;if(t.ctrlKey||t.altKey||t.metaKey){const s=Math.sign(t.deltaY),i=Math.abs(t.deltaY);let o=e;i>WC&&(o=WC*s),r=o/100}else t.shiftKey&&!p1e&&(n=e,e=0);return{x:-n,y:-e,z:-r}}const g1e=iI([rI,nI]);let cd;const m1e=t=>cd===void 0?(cd=t,!1):t-cd>120&&t-cd<160?(cd=t,!0):(cd=t,!1);function y1e(t){const e=Te(),n=v.useMemo(()=>{let r="not sure";const s=({event:m})=>{if(!e.getInstanceState().isFocused||(r="not sure",m1e(Date.now())))return;const w=e.getEditingShapeId();if(w){const x=e.getShape(w);if(x&&e.getShapeUtil(x).canScroll(x)){const C=e.getShapePageBounds(w);if(C!=null&&C.containsPoint(e.inputs.currentPagePoint))return}}yn(m);const S=f1e(m);if(S.x===0&&S.y===0)return;const b=e.getContainer().getBoundingClientRect(),g={type:"wheel",name:"wheel",delta:S,point:new j(m.clientX,m.clientY).sub({x:b.left,y:b.top}),shiftKey:m.shiftKey,altKey:m.altKey,ctrlKey:m.metaKey||m.ctrlKey};e.dispatch(g)};let i=1,o=1,a=1,l=0;const c=new j,d=new j,h=m=>{const w=t.current;r="not sure";const{event:S,origin:b,da:g}=m;S instanceof WheelEvent||(S.target===w||w!=null&&w.contains(S.target))&&(d.x=b[0],d.y=b[1],c.x=b[0],c.y=b[1],i=g[0],o=e.getZoomLevel(),e.dispatch({type:"pinch",name:"pinch_start",point:{x:b[0],y:b[1],z:e.getZoomLevel()},delta:{x:0,y:0},shiftKey:S.shiftKey,altKey:S.altKey,ctrlKey:S.metaKey||S.ctrlKey}))},u=m=>{if(m&&(r="zooming"),r==="zooming")return;const w=Math.abs(l-i),S=j.Dist(c,d);switch(r){case"not sure":{w>24?r="zooming":S>16&&(r="panning");break}case"panning":{w>64&&(r="zooming");break}}};return{onWheel:s,onPinchStart:h,onPinchEnd:m=>{const w=t.current,{event:S,origin:b,offset:g}=m;if(S instanceof WheelEvent||!(S.target===w||w!=null&&w.contains(S.target)))return;const x=g[0];r="not sure",requestAnimationFrame(()=>{e.dispatch({type:"pinch",name:"pinch_end",point:{x:b[0],y:b[1],z:x},delta:{x:b[0],y:b[1]},shiftKey:S.shiftKey,altKey:S.altKey,ctrlKey:S.metaKey||S.ctrlKey})})},onPinch:m=>{const w=t.current,{event:S,origin:b,offset:g,da:x}=m;if(S instanceof WheelEvent||!(S.target===w||w!=null&&w.contains(S.target)))return;const k=m.type==="gesturechange"||m.type==="gestureend";l=x[0];const C=b[0]-d.x,_=b[1]-d.y;switch(d.x=b[0],d.y=b[1],u(k),r){case"zooming":{a=g[0],e.dispatch({type:"pinch",name:"pinch",point:{x:b[0],y:b[1],z:a},delta:{x:C,y:_},shiftKey:S.shiftKey,altKey:S.altKey,ctrlKey:S.metaKey||S.ctrlKey});break}case"panning":{e.dispatch({type:"pinch",name:"pinch",point:{x:b[0],y:b[1],z:o},delta:{x:C,y:_},shiftKey:S.shiftKey,altKey:S.altKey,ctrlKey:S.metaKey||S.ctrlKey});break}}}}},[e,t]);g1e(n,{target:t,eventOptions:{passive:!1},pinch:{from:()=>[e.getZoomLevel(),0],scaleBounds:()=>({from:e.getZoomLevel(),max:8,min:.05})}})}function I5(t,e,n){const r=t.getShape(e),s=t.getShapeHandles(r);return{shape:r,handle:s.find(i=>i.id===n)}}function x1e(t,e){const n=Te();return v.useMemo(()=>{const r=l=>{if(l.isKilled)return;const c=X3(l.currentTarget);NR(c,l);const{shape:d,handle:h}=I5(n,t,e);h&&n.dispatch({type:"pointer",target:"handle",handle:h,shape:d,name:"pointer_down",...Gl(l)})};let s,i;return{onPointerDown:r,onPointerMove:l=>{if(l.isKilled||l.clientX===s&&l.clientY===i)return;s=l.clientX,i=l.clientY;const{shape:c,handle:d}=I5(n,t,e);d&&n.dispatch({type:"pointer",target:"handle",handle:d,shape:c,name:"pointer_move",...Gl(l)})},onPointerUp:l=>{if(l.isKilled)return;const c=X3(l.currentTarget);TR(c,l);const{shape:d,handle:h}=I5(n,t,e);h&&n.dispatch({type:"pointer",target:"handle",handle:h,shape:d,name:"pointer_up",...Gl(l)})}}},[n,t,e])}function w1e(){const t=Te();v.useLayoutEffect(()=>{const e=lI(()=>{t.updateViewportScreenBounds()},200,{trailing:!0});t.updateViewportScreenBounds();const n=setInterval(e,1e3);return window.addEventListener("resize",e),window.addEventListener("scroll",e),()=>{clearInterval(n),window.removeEventListener("resize",e),window.removeEventListener("scroll",e)}},[t])}const gd=class Ot{constructor(e,n,r,s,i,o){this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0,this.a=e,this.b=n,this.c=r,this.d=s,this.e=i,this.f=o}equals(e){return this.a===e.a&&this.b===e.b&&this.c===e.c&&this.d===e.d&&this.e===e.e&&this.f===e.f}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0,this}multiply(e){const n=e,{a:r,b:s,c:i,d:o,e:a,f:l}=this;return this.a=r*n.a+i*n.b,this.c=r*n.c+i*n.d,this.e=r*n.e+i*n.f+a,this.b=s*n.a+o*n.b,this.d=s*n.c+o*n.d,this.f=s*n.e+o*n.f+l,this}rotate(e,n,r){return e===0?this:n===void 0?this.multiply(Ot.Rotate(e)):this.translate(n,r).multiply(Ot.Rotate(e)).translate(-n,-r)}translate(e,n){return this.multiply(Ot.Translate(e,n))}scale(e,n){return this.multiply(Ot.Scale(e,n))}invert(){const{a:e,b:n,c:r,d:s,e:i,f:o}=this,a=e*s-n*r;return this.a=s/a,this.b=n/-a,this.c=r/-a,this.d=e/a,this.e=(s*i-r*o)/-a,this.f=(n*i-e*o)/a,this}applyToPoint(e){return Ot.applyToPoint(this,e)}applyToPoints(e){return Ot.applyToPoints(this,e)}rotation(){return Ot.Rotation(this)}point(){return Ot.Point(this)}decomposed(){return Ot.Decompose(this)}toCssString(){return Ot.toCssString(this)}setTo(e){return Object.assign(this,e),this}decompose(){return Ot.Decompose(this)}clone(){return new Ot(this.a,this.b,this.c,this.d,this.e,this.f)}static Identity(){return new Ot(1,0,0,1,0,0)}static Translate(e,n){return new Ot(1,0,0,1,e,n)}static Rotate(e,n,r){if(e===0)return Ot.Identity();const s=Math.cos(e),i=Math.sin(e),o=new Ot(s,i,-i,s,0,0);return n===void 0?o:Ot.Compose(Ot.Translate(n,r),o,Ot.Translate(-n,-r))}static Multiply(e,n){return{a:e.a*n.a+e.c*n.b,c:e.a*n.c+e.c*n.d,e:e.a*n.e+e.c*n.f+e.e,b:e.b*n.a+e.d*n.b,d:e.b*n.c+e.d*n.d,f:e.b*n.e+e.d*n.f+e.f}}static Inverse(e){const n=e.a*e.d-e.b*e.c;return{a:e.d/n,b:e.b/-n,c:e.c/-n,d:e.a/n,e:(e.d*e.e-e.c*e.f)/-n,f:(e.b*e.e-e.a*e.f)/n}}static Absolute(e){const n=e.a*e.d-e.b*e.c;return{a:e.d/n,b:e.b/-n,c:e.c/-n,d:e.a/n,e:(e.d*e.e-e.c*e.f)/n,f:(e.b*e.e-e.a*e.f)/-n}}static Compose(...e){const n=Ot.Identity();for(let r=0,s=e.length;r<s;r++)n.multiply(e[r]);return n}static Point(e){return new j(e.e,e.f)}static Rotation(e){let n;if(e.a!==0||e.c!==0){const r=Math.hypot(e.a,e.c);n=Math.acos(e.a/r)*(e.c>0?-1:1)}else if(e.b!==0||e.d!==0){const r=Math.hypot(e.b,e.d);n=jC+Math.acos(e.b/r)*(e.d>0?-1:1)}else n=0;return RC(n)}static Decompose(e){let n,r,s;if(e.a!==0||e.c!==0){const i=Math.hypot(e.a,e.c);n=i,r=(e.a*e.d-e.b*e.c)/i,s=Math.acos(e.a/i)*(e.c>0?-1:1)}else if(e.b!==0||e.d!==0){const i=Math.hypot(e.b,e.d);n=(e.a*e.d-e.b*e.c)/i,r=i,s=jC+Math.acos(e.b/i)*(e.d>0?-1:1)}else n=0,r=0,s=0;return{x:e.e,y:e.f,scaleX:n,scaleY:r,rotation:RC(s)}}static Smooth(e,n=1e10){return e.a=Math.round(e.a*n)/n,e.b=Math.round(e.b*n)/n,e.c=Math.round(e.c*n)/n,e.d=Math.round(e.d*n)/n,e.e=Math.round(e.e*n)/n,e.f=Math.round(e.f*n)/n,e}static toCssString(e){return`matrix(${Yt(e.a)}, ${Yt(e.b)}, ${Yt(e.c)}, ${Yt(e.d)}, ${Yt(e.e)}, ${Yt(e.f)})`}static applyToPoint(e,n){return new j(e.a*n.x+e.c*n.y+e.e,e.b*n.x+e.d*n.y+e.f,n.z)}static applyToXY(e,n,r){return[e.a*n+e.c*r+e.e,e.b*n+e.d*r+e.f]}static applyToPoints(e,n){return n.map(r=>new j(e.a*r.x+e.c*r.y+e.e,e.b*r.x+e.d*r.y+e.f,r.z))}static applyToBounds(e,n){return new Ve(e.e+n.minX,e.f+n.minY,n.width,n.height)}static From(e){return new Ot(e.a,e.b,e.c,e.d,e.e,e.f)}static Cast(e){return e instanceof Ot?e:Ot.From(e)}};gd.Scale=(t,e,n,r)=>{const s=new gd(t,0,0,0,e,0);return n===void 0?s:gd.Compose(gd.Translate(n,r),s,gd.Translate(-n,-r))};let be=gd;function S1e(t=!0){const[e,n]=v.useState(0),r=Te();v.useEffect(()=>{if(!t)return;const s=()=>n(i=>i+1);return r.on("tick",s),()=>{r.off("tick",s)}},[r,t])}const b1e=ea(function({showStroke:e=!0,showVertices:n=!0,showClosestPointOnOutline:r=!0}){const s=Te();S1e(r);const i=s.getZoomLevel(),o=s.getRenderingShapes(),{inputs:{currentPagePoint:a}}=s;return f.jsx("svg",{style:{position:"absolute",pointerEvents:"none",zIndex:999999999,top:0,left:0,overflow:"visible"},children:o.map(l=>{const c=s.getShape(l.id);if(c.type==="group")return null;const d=s.getShapeGeometry(c),h=s.getShapePageTransform(c),u=s.getPointInShapeSpace(c,a),p=d.nearestPoint(u),y=d.distanceToPoint(u,!0),m=Math.abs(y)*i,w=y<0,{vertices:S}=d;return f.jsxs("g",{transform:h.toCssString(),strokeLinecap:"round",strokeLinejoin:"round",children:[e&&f.jsx("path",{stroke:"red",strokeWidth:"2",fill:"none",opacity:"1",d:d.toSimpleSvgPath()}),n&&S.map((b,g)=>f.jsx("circle",{cx:b.x,cy:b.y,r:"2",fill:`hsl(${wy(g,[0,S.length-1],[120,200])}, 100%, 50%)`,stroke:"black",strokeWidth:"1"},`v${g}`)),r&&m<150&&f.jsx("line",{x1:p.x,y1:p.y,x2:u.x,y2:u.y,opacity:1-m/150,stroke:w?"goldenrod":"dodgerblue",strokeWidth:"2"})]},l.id+"_outline")})})});function v1e(t){return pI(t)}function k1e(){const t=Te(),e=v.useMemo(()=>t.store.query.records("instance_presence",()=>({userId:{neq:t.user.getId()}})),[t]),n=Kge("userIds",()=>v1e(e.get().map(r=>r.userId)).sort(),{isEqual:(r,s)=>{var i;return r.join(",")===((i=s.join)==null?void 0:i.call(s,","))}},[e]);return Me(n)}function C1e(t){const e=Te(),n=v.useMemo(()=>e.store.query.records("instance_presence",()=>({userId:{eq:t}})),[e,t]);return Me(`latestPresence:${t}`,()=>n.get().slice().sort((s,i)=>i.lastActivityTimestamp-s.lastActivityTimestamp)[0],[])??null}const _1e=ea(function(){const e=k1e();return f.jsx(f.Fragment,{children:e.map(n=>f.jsx(E1e,{collaboratorId:n},n))})}),E1e=ea(function({collaboratorId:e}){const n=Te(),r=C1e(e),s=P1e(r);if(!(r&&r.currentPageId===n.getCurrentPageId()))return null;switch(s){case"inactive":{const{followingUserId:i,highlightedUserIds:o}=n.getInstanceState();if(!(i===r.userId||o.includes(r.userId)))return null;break}case"idle":{const{highlightedUserIds:i}=n.getInstanceState();if(r.followingUserId===n.user.getId()&&!(r.chatMessage||i.includes(r.userId)))return null;break}}return f.jsx(I1e,{latestPresence:r})}),I1e=ea(function({latestPresence:e}){const n=Te(),{CollaboratorBrush:r,CollaboratorScribble:s,CollaboratorCursor:i,CollaboratorHint:o,CollaboratorShapeIndicator:a}=_n(),l=n.getZoomLevel(),c=n.getViewportPageBounds(),{userId:d,chatMessage:h,brush:u,scribbles:p,selectedShapeIds:y,userName:m,cursor:w,color:S}=e,b=!(w.x<c.minX-12/l||w.y<c.minY-16/l||w.x>c.maxX-12/l||w.y>c.maxY-16/l);return f.jsxs(f.Fragment,{children:[u&&r?f.jsx(r,{className:"tl-collaborator__brush",brush:u,color:S,opacity:.1},d+"_brush"):null,b&&i?f.jsx(i,{className:"tl-collaborator__cursor",point:w,color:S,zoom:l,name:m!=="New User"?m:null,chatMessage:h},d+"_cursor"):o?f.jsx(o,{className:"tl-collaborator__cursor-hint",point:w,color:S,zoom:l,viewport:c},d+"_cursor_hint"):null,s&&p.length?f.jsx(f.Fragment,{children:p.map(g=>f.jsx(s,{className:"tl-collaborator__scribble",scribble:g,color:S,zoom:l,opacity:g.color==="laser"?.5:.1},d+"_scribble_"+g.id))}):null,a&&y.map(g=>f.jsx(a,{className:"tl-collaborator__shape-indicator",id:g,color:S,opacity:.5},d+"_"+g))]})});function UC(t){return t>Uye?"inactive":t>DR?"idle":"active"}function P1e(t){const e=v.useRef((t==null?void 0:t.lastActivityTimestamp)??-1),[n,r]=v.useState(()=>UC(Date.now()-e.current));return v.useEffect(()=>{const s=setInterval(()=>{r(UC(Date.now()-e.current))},Vye);return()=>clearInterval(s)},[]),t&&(e.current=t.lastActivityTimestamp),n}function BR(t,e){return e===0?t:BR(e,t%e)}function FR(t){const e=t.toString().split(".")[1];if(!e)return 1;const n=Math.pow(10,e.length),r=parseInt(e,10);return n/BR(r,n)}function z1e(){const t=Te(),e=hl();v.useEffect(()=>Wf("useDPRMultiple",()=>{const n=t.getInstanceState().devicePixelRatio;e.style.setProperty("--tl-dpr-multiple",FR(n).toString())}),[t,e])}const KR=ea(function({id:e,shape:n,util:r,index:s,backgroundIndex:i,opacity:o,isCulled:a}){const l=Te(),{ShapeErrorFallback:c}=_n(),d=v.useRef(null),h=v.useRef(null),u=v.useCallback((y,m)=>{var w,S;(w=d.current)==null||w.style.setProperty(y,m),(S=h.current)==null||S.style.setProperty(y,m)},[]);hp("set shape container transform position",()=>{if(!l.getShape(e))return;const m=l.getShapePageTransform(e),w=be.toCssString(m);u("transform",w)},[l,u]),hp("set shape container clip path",()=>{if(!l.getShape(e))return null;const m=l.getShapeClipPath(e);u("clip-path",m??"none")},[l,u]),hp("set shape height and width",()=>{const y=l.getShape(e);if(!y)return null;const m=l.getShapeGeometry(y).bounds,w=Math.floor(l.getInstanceState().devicePixelRatio*100)/100,S=FR(w),b=m.w%S,g=b===0?m.w:m.w+(S-b),x=m.h%S,k=x===0?m.h:m.h+(S-x);u("width",Math.max(g,S)+"px"),u("height",Math.max(k,S)+"px")},[l]),v.useLayoutEffect(()=>{var y,m;u("opacity",o+""),(y=d.current)==null||y.style.setProperty("z-index",s+""),(m=h.current)==null||m.style.setProperty("z-index",i+"")},[o,s,i,u]);const p=v.useCallback(y=>{l.annotateError(y,{origin:"react.shape",willCrashApp:!1})},[l]);return n?f.jsxs(f.Fragment,{children:[r.backgroundComponent&&f.jsx("div",{ref:h,className:"tl-shape tl-shape-background","data-shape-type":n.type,draggable:!1,children:!a&&f.jsx(cf,{fallback:c,onError:p,children:f.jsx(N1e,{shape:n,util:r})})}),f.jsx("div",{ref:d,className:"tl-shape","data-shape-type":n.type,draggable:!1,children:a?f.jsx(T1e,{shape:n}):f.jsx(cf,{fallback:c,onError:p,children:f.jsx(A1e,{shape:n,util:r})})})]}):null}),A1e=v.memo(function({shape:e,util:n}){return i2("InnerShape:"+e.type,()=>n.component(e))},(t,e)=>t.shape.props===e.shape.props&&t.shape.meta===e.shape.meta&&t.util===e.util),N1e=v.memo(function({shape:e,util:n}){return i2("InnerShape:"+e.type,()=>{var r;return(r=n.backgroundComponent)==null?void 0:r.call(n,e)})},(t,e)=>t.shape.props===e.shape.props&&t.shape.meta===e.shape.meta),T1e=v.memo(function({shape:e}){const r=Te().getShapeGeometry(e).bounds;return f.jsx("div",{className:"tl-shape__culled",style:{transform:`translate(${Yt(r.minX)}px, ${Yt(r.minY)}px)`,width:Math.max(1,Yt(r.width)),height:Math.max(1,Yt(r.height))}})},()=>!0);function WR({className:t}){const e=Te(),{Background:n,SvgDefs:r}=_n(),s=ie.useRef(null),i=ie.useRef(null),o=ie.useRef(null);w1e(),pye(),hye(),y1e(s),u1e(s),hp("position layers",()=>{const u=i.current;if(!u)return;const p=o.current;if(!p)return;const{x:y,y:m,z:w}=e.getCamera(),S=w>=1?wy(w,[1,8],[.125,.5],!0):wy(w,[.1,1],[-2,.125],!0),b=`scale(${Yt(w)}) translate(${Yt(y+S)}px,${Yt(m+S)}px)`;u.style.setProperty("transform",b),p.style.setProperty("transform",b)},[e]);const a=dye(),l=Me("shapeSvgDefs",()=>{const u=new Map;for(const p of Gme(e.shapeUtils)){if(!p)return;const y=p.getCanvasSvgDefs();for(const{key:m,component:w}of y)u.has(m)||u.set(m,f.jsx(w,{},m))}return[...u.values()]},[e]),c=Me("debug_shapes",()=>pn.hideShapes.get(),[pn]),d=Me("debug_svg",()=>pn.debugSvg.get(),[pn]),h=Me("debug_geometry",()=>pn.debugGeometry.get(),[pn]);return f.jsxs("div",{ref:s,draggable:!1,className:ue("tl-canvas",t),"data-testid":"canvas",...a,children:[n&&f.jsx(n,{}),f.jsx(L1e,{}),f.jsx(G1e,{}),f.jsx("svg",{className:"tl-svg-context",children:f.jsxs("defs",{children:[l,VC&&f.jsx(VC,{}),f.jsx(V1e,{}),f.jsx(X1e,{}),f.jsx(Y1e,{}),r&&f.jsx(r,{})]})}),f.jsxs("div",{ref:i,className:"tl-html-layer tl-shapes",draggable:!1,children:[f.jsx(J1e,{}),f.jsx(Q1e,{}),c?null:d?f.jsx(B1e,{}):f.jsx(F1e,{})]}),f.jsxs("div",{className:"tl-fixed-layer tl-overlays",children:[f.jsxs("div",{ref:o,className:"tl-html-layer",children:[h?f.jsx(b1e,{}):null,f.jsx(D1e,{}),f.jsx(j1e,{}),f.jsx(M1e,{}),f.jsx(R1e,{}),f.jsx(K1e,{}),f.jsx(W1e,{}),f.jsx(U1e,{}),f.jsx($1e,{}),f.jsx(Z1e,{}),f.jsx(_1e,{})]}),f.jsx(e2e,{})]})]})}function L1e(){const t=Te(),e=Me("gridSize",()=>t.getDocumentSettings().gridSize,[t]),{x:n,y:r,z:s}=Me("camera",()=>t.getCamera(),[t]),i=Me("isGridMode",()=>t.getInstanceState().isGridMode,[t]),{Grid:o}=_n();return o&&i?f.jsx(o,{x:n,y:r,z:s,size:e}):null}function M1e(){const t=Te(),e=Me("scribbles",()=>t.getInstanceState().scribbles,[t]),n=Me("zoomLevel",()=>t.getZoomLevel(),[t]),{Scribble:r}=_n();return r&&e.length?f.jsx(f.Fragment,{children:e.map(s=>f.jsx(r,{className:"tl-user-scribble",scribble:s,zoom:n},s.id))}):null}function j1e(){const t=Te(),e=Me("brush",()=>t.getInstanceState().brush,[t]),{Brush:n}=_n();return n&&e?f.jsx(n,{className:"tl-user-brush",brush:e}):null}function R1e(){const t=Te(),e=Me("zoomBrush",()=>t.getInstanceState().zoomBrush,[t]),{ZoomBrush:n}=_n();return n&&e?f.jsx(n,{className:"tl-user-brush tl-zoom-brush",brush:e}):null}function $1e(){const t=Te(),e=Me("snapLines",()=>t.snaps.getLines(),[t]),n=Me("zoomLevel",()=>t.getZoomLevel(),[t]),{SnapLine:r}=_n();return r&&e.length>0?f.jsx(f.Fragment,{children:e.map(s=>f.jsx(r,{className:"tl-user-snapline",line:s,zoom:n},s.id))}):null}const O1e=48;function D1e(){const t=Te(),{Handles:e}=_n(),n=Me("zoomLevel",()=>t.getZoomLevel(),[t]),r=Me("coarse pointer",()=>t.getInstanceState().isCoarsePointer,[t]),s=Me("onlySelectedShape",()=>t.getOnlySelectedShape(),[t]),i=Me("isChangingStyle",()=>t.getInstanceState().isChangingStyle,[t]),o=Me("isChangingStyle",()=>t.getInstanceState().isReadonly,[t]),a=Me("handles",()=>{const d=t.getOnlySelectedShape();if(d)return t.getShapeHandles(d)},[t]),l=Me("transform",()=>{const d=t.getOnlySelectedShape();if(d)return t.getShapePageTransform(d)},[t]);if(!e||!s||i||o||!a||!l)return null;const c=[];for(let d=0,h=a[d];d<a.length;d++,h=a[d]){if(h.type!=="vertex"){const u=a[d-1],p=a[d+1];if(u&&p&&Math.hypot(u.y-p.y,u.x-p.x)<O1e/n)continue}c.push(h)}return c.sort(d=>d.type==="vertex"?1:-1),f.jsx(e,{children:f.jsx("g",{transform:be.toCssString(l),children:c.map(d=>f.jsx(q1e,{shapeId:s.id,handle:d,zoom:n,isCoarse:r},d.id))})})}function q1e({shapeId:t,handle:e,zoom:n,isCoarse:r}){const s=x1e(t,e.id),{Handle:i}=_n();return i?f.jsx("g",{"aria-label":"handle",transform:`translate(${e.x}, ${e.y})`,...s,children:f.jsx(i,{shapeId:t,handle:e,zoom:n,isCoarse:r})}):null}function B1e(){const t=Te(),e=Me("rendering shapes",()=>t.getRenderingShapes(),[t]);return f.jsx(f.Fragment,{children:e.map(n=>f.jsxs(ie.Fragment,{children:[f.jsx(KR,{...n}),f.jsx(H1e,{id:n.id})]},n.id+"_fragment"))})}function F1e(){const t=Te(),e=Me("rendering shapes",()=>t.getRenderingShapes(),[t]);return f.jsx(f.Fragment,{children:e.map(n=>f.jsx(KR,{...n},n.id+"_shape"))})}function K1e(){const t=Te(),e=Me("selectedShapeIds",()=>t.getCurrentPageState().selectedShapeIds,[t]);return Me("should display selected ids",()=>t.isInAny("select.idle","select.brushing","select.scribble_brushing","select.editing_shape","select.pointing_shape","select.pointing_selection","select.pointing_handle")&&!t.getInstanceState().isChangingStyle,[t])?f.jsx(f.Fragment,{children:e.map(r=>f.jsx(l2,{className:"tl-user-indicator__selected",id:r},r+"_indicator"))}):null}const W1e=function(){const e=Te(),{HoveredShapeIndicator:n}=_n(),r=Me("coarse pointer",()=>e.getInstanceState().isCoarsePointer,[e]),s=Me("hovering canvas",()=>e.getInstanceState().isHoveringCanvas,[e]),i=Me("hovered id",()=>e.getCurrentPageState().hoveredShapeId,[e]);return r||!s||!i||!n?null:f.jsx(n,{shapeId:i})},U1e=ea(function(){const e=Te(),n=yy(e.getHintingShapeIds());return n.length?f.jsx(f.Fragment,{children:n.map(r=>f.jsx(l2,{className:"tl-user-indicator__hint",id:r},r+"_hinting"))}):null});function VC(){return f.jsxs("g",{id:"cursor",children:[f.jsxs("g",{fill:"rgba(0,0,0,.2)",transform:"translate(-11,-11)",children:[f.jsx("path",{d:"m12 24.4219v-16.015l11.591 11.619h-6.781l-.411.124z"}),f.jsx("path",{d:"m21.0845 25.0962-3.605 1.535-4.682-11.089 3.686-1.553z"})]}),f.jsxs("g",{fill:"white",transform:"translate(-12,-12)",children:[f.jsx("path",{d:"m12 24.4219v-16.015l11.591 11.619h-6.781l-.411.124z"}),f.jsx("path",{d:"m21.0845 25.0962-3.605 1.535-4.682-11.089 3.686-1.553z"})]}),f.jsxs("g",{fill:"currentColor",transform:"translate(-12,-12)",children:[f.jsx("path",{d:"m19.751 24.4155-1.844.774-3.1-7.374 1.841-.775z"}),f.jsx("path",{d:"m13 10.814v11.188l2.969-2.866.428-.139h4.768z"})]})]})}function V1e(){return f.jsx("path",{id:"cursor_hint",fill:"currentColor",d:"M -2,-5 2,0 -2,5 Z"})}function X1e(){return f.jsx("marker",{id:"arrowhead-dot",className:"tl-arrow-hint",refX:"3.0",refY:"3.0",orient:"0",children:f.jsx("circle",{cx:"3",cy:"3",r:"2",strokeDasharray:"100%"})})}function Y1e(){return f.jsxs("marker",{id:"arrowhead-cross",className:"tl-arrow-hint",refX:"3.0",refY:"3.0",orient:"auto",children:[f.jsx("line",{x1:"1.5",y1:"1.5",x2:"4.5",y2:"4.5",strokeDasharray:"100%"}),f.jsx("line",{x1:"1.5",y1:"4.5",x2:"4.5",y2:"1.5",strokeDasharray:"100%"})]})}const H1e=ea(function({id:e}){const n=Te(),r=n.getShape(e),[s,i]=ie.useState(""),o=(r==null?void 0:r.parentId)===n.getCurrentPageId();return ie.useEffect(()=>{if(!o)return;let a=null;const l=Wf("shape to svg",async()=>{const c=Math.random();a=c;const d=n.getShapePageBounds(e),h=await n.getSvg([e],{padding:0});h&&d&&a===c&&(h.style.setProperty("overflow","visible"),h.setAttribute("preserveAspectRatio","xMidYMin slice"),h.style.setProperty("transform",`translate(${d.x}px, ${d.y+d.h+12}px)`),h.style.setProperty("border","1px solid black"),i(h==null?void 0:h.outerHTML))});return()=>{a=null,l()}},[n,e,o]),o?f.jsx("div",{style:{paddingTop:12,position:"absolute"},children:f.jsx("div",{style:{display:"flex"},dangerouslySetInnerHTML:{__html:s}})}):null});function G1e(){const t=Me("debugging ui log",()=>pn.logMessages.get(),[pn]);return t.length?f.jsx("div",{className:"debug__ui-logger",children:t.map((e,n)=>{const r=typeof e=="string"?e:JSON.stringify(e);return f.jsx("div",{className:"debug__ui-logger__line",children:r},n)})}):null}function Z1e(){const t=Te(),e=Me("selection rotation",()=>t.getSelectionRotation(),[t]),n=Me("selection bounds",()=>t.getSelectionRotatedPageBounds(),[t]),{SelectionForeground:r}=_n();return!n||!r?null:f.jsx(r,{bounds:n,rotation:e})}function Q1e(){const t=Te(),e=Me("selection rotation",()=>t.getSelectionRotation(),[t]),n=Me("selection bounds",()=>t.getSelectionRotatedPageBounds(),[t]),{SelectionBackground:r}=_n();return!n||!r?null:f.jsx(r,{bounds:n,rotation:e})}function J1e(){const{OnTheCanvas:t}=_n();return t?f.jsx(t,{}):null}function e2e(){const{InFrontOfTheCanvas:t}=_n();return t?f.jsx(t,{}):null}const t2e=()=>f.jsx(Gxe,{children:"Connecting..."});function wn(){return Ha()}const UR="TLDRAW_USER_DATA_v3",VR=V0({id:d0,name:d0.nullable().optional(),locale:d0.nullable().optional(),color:d0.nullable().optional(),isDarkMode:Al.nullable().optional(),animationSpeed:Ao.nullable().optional(),edgeScrollSpeed:Ao.nullable().optional(),isSnapMode:Al.nullable().optional()}),Tu={AddAnimationSpeed:1,AddIsSnapMode:2,MakeFieldsNullable:3,AddEdgeScrollSpeed:4},vy=Xj({currentVersion:Tu.AddEdgeScrollSpeed,migrators:{[Tu.AddAnimationSpeed]:{up:t=>({...t,animationSpeed:1}),down:({animationSpeed:t,...e})=>e},[Tu.AddIsSnapMode]:{up:t=>({...t,isSnapMode:!1}),down:({isSnapMode:t,...e})=>e},[Tu.MakeFieldsNullable]:{up:t=>t,down:t=>({id:t.id,name:t.name??Rs.name,locale:t.locale??Rs.locale,color:t.color??Rs.color,isDarkMode:t.isDarkMode??Rs.isDarkMode,animationSpeed:t.animationSpeed??Rs.animationSpeed,isSnapMode:t.isSnapMode??Rs.isSnapMode})},[Tu.AddEdgeScrollSpeed]:{up:t=>({...t,edgeScrollSpeed:1}),down:({edgeScrollSpeed:t,...e})=>e}}}),XC=["#FF802B","#EC5E41","#F2555A","#F04F88","#E34BA9","#BD54C6","#9D5BD2","#7B66DC","#02B1CC","#11B3A3","#39B178","#55B467"];function n2e(){return XC[Math.floor(Math.random()*XC.length)]}function r2e(){var t,e;return typeof window>"u"?!1:((e=(t=window.matchMedia)==null?void 0:t.call(window,"(prefers-color-scheme: dark)"))==null?void 0:e.matches)??!1}function s2e(){var t,e;return typeof window>"u"?!1:((e=(t=window.matchMedia)==null?void 0:t.call(window,"(prefers-reduced-motion: reduce)"))==null?void 0:e.matches)??!1}const Rs=Object.freeze({name:"New User",locale:Wme(),color:n2e(),isDarkMode:!1,edgeScrollSpeed:1,animationSpeed:s2e()?0:1,isSnapMode:!1});function p0(){return{id:wn()}}function XR(t){if(t===null||typeof t!="object"||!("version"in t)||!("user"in t)||typeof t.version!="number")return p0();const e=Yj({value:t.user,fromVersion:t.version,toVersion:vy.currentVersion??0,migrations:vy});if(e.type==="error")return p0();try{VR.validate(e.value)}catch{return p0()}return e.value}function i2e(){var e;const t=typeof window>"u"?null:JSON.parse(((e=window==null?void 0:window.localStorage)==null?void 0:e.getItem(UR))||"null")??null;return XR(t)}const Xf=Os("globalUserData",i2e());function o2e(){typeof window<"u"&&window.localStorage&&window.localStorage.setItem(UR,JSON.stringify({version:vy.currentVersion,user:Xf.get()}))}function a2e(t){VR.validate(t),Xf.set(t),o2e(),c2e()}const l2e=typeof process<"u"&&!1,th=typeof BroadcastChannel<"u"&&!l2e?new BroadcastChannel("tldraw-user-sync"):null;th==null||th.addEventListener("message",t=>{const e=t.data;(e==null?void 0:e.type)===HR&&(e==null?void 0:e.origin)!==YR&&Xf.set(XR(e.data))});const YR=wn(),HR="tldraw-user-preferences-change";function c2e(){th==null||th.postMessage({type:HR,origin:YR,data:{user:Xf.get(),version:vy.currentVersion}})}function d2e(){return Xf.get()}function GR(t={}){return{derivePresenceState:t.derivePresenceState??(()=>ao("presence",()=>null)),userPreferences:t.userPreferences??ao("userPreferences",()=>d2e()),setUserPreferences:t.setUserPreferences??a2e}}function h2e({children:t,className:e="",...n}){return f.jsx("svg",{...n,className:`tl-svg-container ${e}`,children:t})}class m6{constructor(e){this.isFilled=!1,this.isClosed=!0,this.isLabel=!1,this.isSnappable=!0,this.isFilled=e.isFilled,this.isClosed=e.isClosed,this.isSnappable=e.isSnappable??!1,this.isLabel=e.isLabel??!1}hitTestPoint(e,n=0,r=!1){return this.distanceToPoint(e,r)<=n}distanceToPoint(e,n=!1){const r=e.dist(this.nearestPoint(e));return this.isClosed&&(this.isFilled||n)&&Sh(e,this.vertices)?-r:r}distanceToLineSegment(e,n){const r=this.nearestPointOnLineSegment(e,n),s=j.DistanceToLineSegment(e,n,r);return this.isClosed&&this.isFilled&&Sh(r,this.vertices)?-s:s}hitTestLineSegment(e,n,r=0){return this.distanceToLineSegment(e,n)<=r}nearestPointOnLineSegment(e,n){let r=1/0,s;for(let i=0;i<this.vertices.length;i++){const o=this.vertices[i],a=j.DistanceToLineSegment(e,n,o);a<r&&(r=a,s=o)}if(!s)throw Error("nearest point not found");return s}isPointInBounds(e,n=0){const{bounds:r}=this;return!(e.x<r.minX-n||e.y<r.minY-n||e.x>r.maxX+n||e.y>r.maxY+n)}get vertices(){return this._vertices||(this._vertices=this.getVertices()),this._vertices}getBounds(){return Ve.FromPoints(this.vertices)}get bounds(){return this._bounds||(this._bounds=this.getBounds()),this._bounds}get snapPoints(){return this._snapPoints||(this._snapPoints=this.bounds.snapPoints),this._snapPoints}get center(){return this.bounds.center}get area(){return this._area||(this._area=this.getArea()),this._area}getArea(){if(!this.isClosed)return 0;const{vertices:e}=this;let n=0;for(let r=0,s=e.length;r<s;r++){const i=e[r],o=e[(r+1)%s];n+=i.x*o.y-o.x*i.y}return n/2}toSimpleSvgPath(){let e="";const{vertices:n}=this,r=n.length;if(r===0)return e;e+=`M${n[0].x},${n[0].y}`;for(let s=1;s<r;s++)e+=`L${n[s].x},${n[s].y}`;return this.isClosed&&(e+="Z"),e}}class y6 extends m6{constructor(e){super({...e,isClosed:!0,isFilled:!1});const{children:n}=e;if(n.length===0)throw Error("Group2d must have at least one child");this.children=n}getVertices(){return this.children.filter(e=>!e.isLabel).flatMap(e=>e.vertices)}nearestPoint(e){let n=1/0,r;const{children:s}=this;if(s.length===0)throw Error("no children");for(const i of s){const o=i.nearestPoint(e),a=o.dist(e);a<n&&(n=a,r=o)}if(!r)throw Error("nearest point not found");return r}distanceToPoint(e,n=!1){return Math.min(...this.children.map((r,s)=>r.distanceToPoint(e,n||s>0)))}hitTestPoint(e,n,r){return!!this.children.filter(s=>!s.isLabel).find(s=>s.hitTestPoint(e,n,r))}hitTestLineSegment(e,n,r){return!!this.children.filter(s=>!s.isLabel).find(s=>s.hitTestLineSegment(e,n,r))}getArea(){return this.children[0].area}toSimpleSvgPath(){let e="";for(const r of this.children)e+=r.toSimpleSvgPath();const n=Ve.FromPoints(this.vertices).corners;for(let r=0,s=n.length;r<s;r++){const i=n[r],o=n[(r-1+s)%s],a=i.dist(o),l=n[(r+1)%s],c=i.dist(l),d=i.clone().lrp(o,4/a),h=i,u=i.clone().lrp(l,4/c);e+=`M${d.x},${d.y} L${h.x},${h.y} L${u.x},${u.y} `}return e}}function x6(t,e,n,r){const s=t.x-n.x,i=t.y-n.y,o=r.x-n.x,a=r.y-n.y,l=e.x-t.x,c=e.y-t.y,d=o*i-a*s,h=l*i-c*s,u=a*l-o*c;if(d===0||h===0||u===0)return null;if(u!==0){const p=d/u,y=h/u;if(0<=p&&p<=1&&0<=y&&y<=1)return j.AddXY(t,p*l,p*c)}return null}function ZR(t,e,n,r){const s=(e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y),i=2*((e.x-t.x)*(t.x-n.x)+(e.y-t.y)*(t.y-n.y)),o=n.x*n.x+n.y*n.y+t.x*t.x+t.y*t.y-2*(n.x*t.x+n.y*t.y)-r*r,a=i*i-4*s*o;if(a<0||a===0)return null;const l=Math.sqrt(a),c=(-i+l)/(2*s),d=(-i-l)/(2*s);if((c<0||c>1)&&(d<0||d>1))return null;const h=[];return 0<=c&&c<=1&&h.push(j.Lrp(t,e,c)),0<=d&&d<=1&&h.push(j.Lrp(t,e,d)),h.length===0?null:h}function u2e(t,e,n){const r=[];let s;for(let i=0,o=n.length-1;i<o;i++)s=x6(t,e,n[i],n[i+1]),s&&r.push(s);return r.length===0?null:r}function p2e(t,e,n){const r=[];let s;for(let i=1,o=n.length;i<o+1;i++)s=x6(t,e,n[i-1],n[i%n.length]),s&&r.push(s);return r.length===0?null:r}function YC(t,e,n){const r=[];let s,i,o;for(let a=0,l=n.length;a<l;a++)s=n[a],i=n[(a+1)%n.length],o=ZR(s,i,t,e),o&&r.push(...o);return r.length===0?null:r}function HC(t,e,n){const r=[];let s,i,o;for(let a=1,l=n.length;a<l;a++)s=n[a-1],i=n[a],o=ZR(s,i,t,e),o&&r.push(...o);return r.length===0?null:r}function f0(t,e,n){return(n.y-t.y)*(e.x-t.x)>(e.y-t.y)*(n.x-t.x)}function f2e(t,e,n,r){return f0(t,n,r)!==f0(e,n,r)&&f0(t,e,n)!==f0(t,e,r)}function GC(t,e){const n=[];let r,s,i,o;for(let a=0,l=t.length;a<l;a++)r=t[a],Sh(r,e)&&n.push(r);for(let a=0,l=e.length;a<l;a++)r=e[a],Sh(r,t)&&n.push(r);for(let a=0,l=t.length;a<l;a++){r=t[a],s=t[(a+1)%t.length];for(let c=0,d=e.length;c<d;c++){i=e[c],o=e[(c+1)%e.length];const h=x6(r,s,i,o);h!==null&&n.push(h)}}return n.length===0?null:g2e(n)}function g2e(t){const e=j.Average(t);return t.sort((n,r)=>j.Angle(e,n)-j.Angle(e,r))}class ZC extends m6{constructor(e){super({...e,isClosed:!1,isFilled:!1});const{start:n,end:r}=e;this.start=n,this.end=r,this.d=n.clone().sub(r),this.u=this.d.clone().uni(),this.ul=this.u.len()}get length(){return this._length?this._length:this.d.len()}midPoint(){return this.start.lrp(this.end,.5)}getVertices(){return[this.start,this.end]}nearestPoint(e){const{start:n,end:r,u:s,ul:i}=this;if(i===0)return n;const o=j.Sub(e,n).dpr(s)/i,a=n.x+s.x*o;if(a<Math.min(n.x,r.x))return n.x<r.x?n:r;if(a>Math.max(n.x,r.x))return n.x>r.x?n:r;const l=n.y+s.y*o;return l<Math.min(n.y,r.y)?n.y<r.y?n:r:l>Math.max(n.y,r.y)?n.y>r.y?n:r:new j(a,l)}hitTestLineSegment(e,n,r){return f2e(e,n,this.start,this.end)}}class QR extends m6{constructor(e){super({isClosed:!1,isFilled:!1,...e});const{points:n}=e;this.points=n}get segments(){if(!this._segments){this._segments=[];const{vertices:e}=this;for(let n=0,r=e.length-1;n<r;n++){const s=e[n],i=e[n+1];this._segments.push(new ZC({start:s,end:i}))}this.isClosed&&this._segments.push(new ZC({start:e[e.length-1],end:e[0]}))}return this._segments}get length(){return this._length||(this._length=this.segments.reduce((e,n)=>e+n.length,0)),this._length}getVertices(){return this.points}nearestPoint(e){const{segments:n}=this;let r=this.points[0],s=1/0,i,o;for(let a=0;a<n.length;a++)i=n[a].nearestPoint(e),o=i.dist(e),o<s&&(r=i,s=o);return r}hitTestLineSegment(e,n,r){return this.segments.some(s=>s.hitTestLineSegment(e,n,r))}}class JR extends QR{constructor(e){super({...e}),this.isClosed=!0}}class m2e extends JR{constructor(e){const{x:n=0,y:r=0,width:s,height:i}=e;super({...e,points:[new j(n,r),new j(n+s,r),new j(n+s,r+i),new j(n,r+i)]}),this.x=n,this.y=r,this.w=s,this.h=i}getBounds(){return new Ve(this.x,this.y,this.w,this.h)}}class y2e{constructor(e){this.editor=e,this.canSnap=()=>!0,this.canScroll=()=>!1,this.canUnmount=()=>!0,this.canBind=(n,r)=>!0,this.canEdit=()=>!1,this.canResize=()=>!0,this.canEditInReadOnly=()=>!1,this.canCrop=()=>!1,this.hideResizeHandles=()=>!1,this.hideRotateHandle=()=>!1,this.hideSelectionBoundsBg=()=>!1,this.hideSelectionBoundsFg=()=>!1,this.isAspectRatioLocked=()=>!1}providesBackgroundForChildren(e){return!1}getOutlineSegments(e){return[this.editor.getShapeGeometry(e).vertices]}canReceiveNewChildrenOfType(e,n){return!1}canDropShapes(e,n){return!1}expandSelectionOutlinePx(e){return 0}getCanvasSvgDefs(){return[]}}function x2e(t,e,n={}){const{closed:r=!1,snap:s=1,start:i="outset",end:o="outset",lengthRatio:a=2,style:l="dashed"}=n;let c=0,d=0,h=1,u=0,p=0;switch(l){case"dashed":{h=1,c=Math.min(e*a,t/4);break}case"dotted":{h=100,c=e/h;break}default:return{strokeDasharray:"none",strokeDashoffset:"none"}}return r||(i==="outset"?(t+=c/2,p+=c/2):i==="skip"&&(t-=c,p-=c),o==="outset"?t+=c/2:o==="skip"&&(t-=c)),d=Math.floor(t/c/(2*h)),d-=d%s,d<3&&l==="dashed"?t/e<5?(c=t,d=1,u=0):(c=t*.333,u=t*.333):(d=Math.max(d,3),c=t/d/(2*h),r?(p=c/2,u=(t-d*c)/d):u=(t-d*c)/Math.max(1,d-1)),{strokeDasharray:[c,u].join(" "),strokeDashoffset:p.toString()}}function QC({bounds:t,className:e}){const n=Te(),r=Me("zoom level",()=>n.getZoomLevel(),[n]);return f.jsx("g",{className:e,pointerEvents:"none",strokeLinecap:"round",strokeLinejoin:"round",children:t.sides.map((s,i)=>{const{strokeDasharray:o,strokeDashoffset:a}=x2e(s[0].dist(s[1]),1/r,{style:"dashed",lengthRatio:4});return f.jsx("line",{x1:s[0].x,y1:s[0].y,x2:s[1].x,y2:s[1].y,strokeDasharray:o,strokeDashoffset:a},i)})})}class c2 extends y2e{constructor(){super(...arguments),this.hideSelectionBoundsFg=()=>!0,this.canBind=()=>!1,this.onChildrenChange=e=>{const n=this.editor.getSortedChildIdsForParent(e.id);if(n.length===0){this.editor.getCurrentPageState().focusedGroupId===e.id&&this.editor.popFocusedGroupId(),this.editor.deleteShapes([e.id]);return}else if(n.length===1){this.editor.getCurrentPageState().focusedGroupId===e.id&&this.editor.popFocusedGroupId(),this.editor.reparentShapes(n,e.parentId),this.editor.deleteShapes([e.id]);return}}}getDefaultProps(){return{}}getGeometry(e){const n=this.editor.getSortedChildIdsForParent(e.id);return n.length===0?new m2e({width:1,height:1,isFilled:!1}):new y6({children:n.map(r=>{const s=this.editor.getShape(r),i=this.editor.getShapeGeometry(r),o=this.editor.getShapeLocalTransform(s).applyToPoints(i.vertices);return i.isClosed?new JR({points:o,isFilled:!0}):new QR({points:o})})})}component(e){const n=this.editor.getErasingShapeIds().includes(e.id),{hintingShapeIds:r}=this.editor.getCurrentPageState(),s=r.length>0&&r.some(a=>a!==e.id&&this.editor.isShapeOfType(this.editor.getShape(a),"group")),i=this.editor.getCurrentPageState().focusedGroupId!==e.id;if(!n&&(i||s))return null;const o=this.editor.getShapeGeometry(e).bounds;return f.jsx(h2e,{id:e.id,children:f.jsx(QC,{className:"tl-group",bounds:o})})}indicator(e){const n=this.editor.getShapeGeometry(e).bounds;return f.jsx(QC,{className:"",bounds:n})}}c2.type="group";c2.props=Ome;c2.migrations=Dme;const e$=[c2],w2e=new Set(e$.map(t=>t.type));function t$(t){const e=[...e$],n=new Set;for(const r of t){if(w2e.has(r.type))throw new Error(`Shape type "${r.type}" is a core shapes type and cannot be overridden`);if(n.has(r.type))throw new Error(`Shape type "${r.type}" is defined more than once`);e.push(r),n.add(r.type)}return e}function JC(t,e){if(!e)return!1;switch(t.type){case"mixed":return e.type==="mixed";case"shared":return e.type==="shared"&&t.value===e.value;default:throw xy(t)}}class S2e{constructor(e){this.map=new Map(e)}get(e){return this.map.get(e)}getAsKnownValue(e){const n=this.get(e);if(n&&n.type!=="mixed")return n.value}get size(){return this.map.size}equals(e){if(this.size!==e.size)return!1;const n=new Set;for(const[r,s]of this){if(!JC(s,e.get(r)))return!1;n.add(r)}for(const[r,s]of e)if(!n.has(r)&&!JC(s,this.get(r)))return!1;return!0}keys(){return this.map.keys()}values(){return this.map.values()}entries(){return this.map.entries()}[Symbol.iterator](){return this.map[Symbol.iterator]()}}class e_ extends S2e{set(e,n){this.map.set(e,n)}applyValue(e,n){const r=this.get(e);if(!r){this.set(e,{type:"shared",value:n});return}switch(r.type){case"mixed":return;case"shared":r.value!==n&&this.set(e,{type:"mixed"});return;default:xy(r,"type")}}}class b2e{constructor(){this.items=new WeakMap}get(e,n){return this.items.has(e)||this.items.set(e,n(e)),this.items.get(e)}access(e){return this.items.get(e)}set(e,n){this.items.set(e,n)}has(e){return this.items.has(e)}invalidate(e){this.items.delete(e)}bust(){this.items=new WeakMap}}function v2e(t,e,n){return fetch(t).then(function(r){return r.arrayBuffer()}).then(function(r){return new File([r],e,{type:n})})}function k2e(t,e){var s;let n=t;const r=new Set(e);for(;r.has(n);)n=(s=/^.*(\d+)$/.exec(n))!=null&&s[1]?n.replace(/(\d+)(?=\D?)$/,i=>(+i+1).toString()):`${n} 1`;return n}const ds="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",C2e="a0",n$="A00000000000000000000000000";function r$(t){if(t>="a"&&t<="z")return t.charCodeAt(0)-"a".charCodeAt(0)+2;if(t>="A"&&t<="Z")return"Z".charCodeAt(0)-t.charCodeAt(0)+2;throw new Error("Invalid index key head: "+t)}function s$(t){if(t.length!==r$(t.charAt(0)))throw new Error("invalid integer part of index key: "+t)}function t_(t){if(t===void 0)throw Error("n is undefined")}function n_(t){s$(t);const[e,...n]=t.split("");let r=!0;for(let s=n.length-1;r&&s>=0;s--){const i=ds.indexOf(n[s])+1;i===ds.length?n[s]="0":(n[s]=ds.charAt(i),r=!1)}if(r){if(e==="Z")return"a0";if(e==="z")return;const s=String.fromCharCode(e.charCodeAt(0)+1);return s>"a"?n.push("0"):n.pop(),s+n.join("")}else return e+n.join("")}function _2e(t){s$(t);const[e,...n]=t.split("");let r=!0;for(let s=n.length-1;r&&s>=0;s--){const i=ds.indexOf(n[s])-1;i===-1?n[s]=ds.slice(-1):(n[s]=ds.charAt(i),r=!1)}if(r){if(e==="a")return"Z"+ds.slice(-1);if(e==="A")return;const s=String.fromCharCode(e.charCodeAt(0)-1);return s<"Z"?n.push(ds.slice(-1)):n.pop(),s+n.join("")}else return e+n.join("")}function Od(t,e){if(e!==void 0&&t>=e)throw new Error(t+" >= "+e);if(t.slice(-1)==="0"||e&&e.slice(-1)==="0")throw new Error("trailing zero");if(e){let s=0;for(;(t.charAt(s)||"0")===e.charAt(s);)s++;if(s>0)return e.slice(0,s)+Od(t.slice(s),e.slice(s))}const n=t?ds.indexOf(t.charAt(0)):0,r=e!==void 0?ds.indexOf(e.charAt(0)):ds.length;if(r-n>1){const s=Math.round(.5*(n+r));return ds.charAt(s)}else return e&&e.length>1?e.slice(0,1):ds.charAt(n)+Od(t.slice(1),void 0)}function Wu(t){const e=r$(t.charAt(0));if(e>t.length)throw new Error("invalid index: "+t);return t.slice(0,e)}function r_(t){if(t===n$)throw new Error("invalid index: "+t);const e=Wu(t);if(t.slice(e.length).slice(-1)==="0")throw new Error("invalid index: "+t)}function dd(t,e){if(t!==void 0&&r_(t),e!==void 0&&r_(e),t!==void 0&&e!==void 0&&t>=e)throw new Error(t+" >= "+e);if(t===void 0&&e===void 0)return C2e;if(t===void 0){if(e===void 0)throw Error("b is undefined");const a=Wu(e),l=e.slice(a.length);if(a===n$)return a+Od("",l);if(a<e)return a;const c=_2e(a);return t_(c),c}if(e===void 0){const a=Wu(t),l=t.slice(a.length),c=n_(a);return c===void 0?a+Od(l,void 0):c}const n=Wu(t),r=t.slice(n.length),s=Wu(e),i=e.slice(s.length);if(n===s)return n+Od(r,i);const o=n_(n);return t_(o),o<e?o:n+Od(r,void 0)}function mc(t,e,n){if(n===0)return[];if(n===1)return[dd(t,e)];if(e===void 0){let i=dd(t,e);const o=[i];for(let a=0;a<n-1;a++)i=dd(i,e),o.push(i);return o}if(t===void 0){let i=dd(t,e);const o=[i];for(let a=0;a<n-1;a++)i=dd(t,i),o.push(i);return o.reverse(),o}const r=Math.floor(n/2),s=dd(t,e);return[...mc(t,s,r),s,...mc(s,e,n-r-1)]}function bh(t,e,n){return mc(t,e,n)}function P5(t,e){return mc(t,void 0,e)}function z5(t,e){return mc(t,e,1)[0]}function hd(t){return mc(t,void 0,1)[0]}function E2e(t,e="a1"){return[e,...mc(e,void 0,t)]}function Mi(t,e){return t.index<e.index?-1:t.index>e.index?1:0}function g0(t,e,n){if(n.length===0)return[];const r=new Map;for(const i of qe(n.map(o=>t.getShape(o)))){const{parentId:o}=i;r.has(o)||r.set(o,{children:qe(t.getSortedChildIdsForParent(o).map(a=>t.getShape(a))),moving:new Set}),r.get(o).moving.add(i)}const s=[];switch(e){case"toBack":{r.forEach(({moving:i,children:o})=>I2e(i,o,s));break}case"toFront":{r.forEach(({moving:i,children:o})=>P2e(i,o,s));break}case"forward":{r.forEach(({moving:i,children:o})=>z2e(i,o,s));break}case"backward":{r.forEach(({moving:i,children:o})=>A2e(i,o,s));break}}return s}function I2e(t,e,n){const r=e.length;if(t.size===r)return;let s,i;for(let o=0;o<r;o++){const a=e[o];if(t.has(a))s=a.index,t.delete(a);else{i=a.index;break}}if(t.size!==0){const o=bh(s,i,t.size);n.push(...Array.from(t.values()).sort(Mi).map((a,l)=>({...a,index:o[l]})))}}function P2e(t,e,n){const r=e.length;if(t.size===r)return;let s,i;for(let o=r-1;o>-1;o--){const a=e[o];if(t.has(a))i=a.index,t.delete(a);else{s=a.index;break}}if(t.size!==0){const o=bh(s,i,t.size);n.push(...Array.from(t.values()).sort(Mi).map((a,l)=>({...a,index:o[l]})))}}function z2e(t,e,n){var i;const r=e.length;if(t.size===r)return;let s={name:"skipping"};for(let o=0;o<r;o++){const a=t.has(e[o]);switch(s.name){case"skipping":{if(!a)continue;s={name:"selecting",selectIndex:o};break}case"selecting":{if(a)continue;const{selectIndex:l}=s;bh(e[o].index,(i=e[o+1])==null?void 0:i.index,o-l).forEach((c,d)=>n.push({...e[l+d],index:c})),s={name:"skipping"};break}}}}function A2e(t,e,n){var i;const r=e.length;if(t.size===r)return;let s={name:"skipping"};for(let o=r-1;o>-1;o--){const a=t.has(e[o]);switch(s.name){case"skipping":{if(!a)continue;s={name:"selecting",selectIndex:o};break}case"selecting":{if(a)continue;bh((i=e[o-1])==null?void 0:i.index,e[o].index,s.selectIndex-o).forEach((l,c)=>{n.push({...e[o+c+1],index:l})}),s={name:"skipping"};break}}}}function N2e({editor:t}){const e=t.getSelectedShapes(),n=t.getSelectionRotation(),r=t.getSelectionRotatedPageBounds(),{inputs:{originPagePoint:s}}=t;if(!r)return null;const i=r.center.clone().rotWith(r.point,n);return{selectionPageCenter:i,initialCursorAngle:i.angle(s),initialSelectionRotation:n,shapeSnapshots:e.map(o=>({shape:Ku(o),initialPagePoint:t.getShapePageTransform(o.id).point()}))}}function T2e({delta:t,editor:e,snapshot:n,stage:r}){const{selectionPageCenter:s,shapeSnapshots:i}=n;e.updateShapes(i.map(({shape:a,initialPagePoint:l})=>{const c=Ai(a.parentId)?e.getShapePageTransform(a.parentId):be.Identity(),d=j.RotWith(l,s,t),h=be.applyToPoint(be.Inverse(c),d),u=Y3(a.rotation+t);return{id:a.id,type:a.type,x:h.x,y:h.y,rotation:u}}));const o=[];i.forEach(({shape:a})=>{var h,u,p;const l=e.getShape(a.id);if(!l)return;const c=e.getShapeUtil(a);if(r==="start"||r==="one-off"){const y=(h=c.onRotateStart)==null?void 0:h.call(c,a);y&&o.push(y)}const d=(u=c.onRotate)==null?void 0:u.call(c,a,l);if(d&&o.push(d),r==="end"||r==="one-off"){const y=(p=c.onRotateEnd)==null?void 0:p.call(c,a,l);y&&o.push(y)}}),o.length>0&&e.updateShapes(o)}const L2e=t=>{const{store:e}=t,n=e.query.filterHistory("shape"),r=e.query.records("shape",()=>({type:{eq:"arrow"}}));function s(){const i=r.get(),o={};for(const a of i){const{start:l,end:c}=a.props;if(l.type==="binding"){const d=o[l.boundShapeId];d?d.push({arrowId:a.id,handleId:"start"}):o[l.boundShapeId]=[{arrowId:a.id,handleId:"start"}]}if(c.type==="binding"){const d=o[c.boundShapeId];d?d.push({arrowId:a.id,handleId:"end"}):o[c.boundShapeId]=[{arrowId:a.id,handleId:"end"}]}}return o}return ao("arrowBindingsIndex",(i,o)=>{if(Vb(i))return s();const a=i,l=n.getDiffSince(o);if(l===Hi)return s();let c;function d(p){c||(c={...a}),c[p]?c[p]===a[p]&&(c[p]=[...c[p]]):c[p]=[]}function h(p,y,m){d(p),c[p]=c[p].filter(w=>w.arrowId!==y||w.handleId!==m),c[p].length===0&&delete c[p]}function u(p,y,m){d(p),c[p].push({arrowId:y,handleId:m})}for(const p of l){for(const y of Object.values(p.added))if(t.isShapeOfType(y,"arrow")){const{start:m,end:w}=y.props;m.type==="binding"&&u(m.boundShapeId,y.id,"start"),w.type==="binding"&&u(w.boundShapeId,y.id,"end")}for(const[y,m]of Object.values(p.updated))if(!(!t.isShapeOfType(y,"arrow")||!t.isShapeOfType(m,"arrow")))for(const w of["start","end"]){const S=y.props[w],b=m.props[w];S.type==="binding"&&b.type==="point"?h(S.boundShapeId,y.id,w):S.type==="point"&&b.type==="binding"?u(b.boundShapeId,m.id,w):S.type==="binding"&&b.type==="binding"&&S.boundShapeId!==b.boundShapeId&&(h(S.boundShapeId,y.id,w),u(b.boundShapeId,m.id,w))}for(const y of Object.values(p.removed))if(t.isShapeOfType(y,"arrow")){const{start:m,end:w}=y.props;m.type==="binding"&&h(m.boundShapeId,y.id,"start"),w.type==="binding"&&h(w.boundShapeId,y.id,"end")}}return c??a})},M2e=t=>{const e=t.query.ids("shape");function n(){const r={},s=e.get(),i=Array(s.size);return s.forEach(o=>i.push(t.get(o))),i.sort(Mi),i.forEach(o=>{r[o.parentId]||(r[o.parentId]=[]),r[o.parentId].push(o.id)}),r}return ao("parentsToChildrenWithIndexes",(r,s)=>{if(Vb(r))return n();const i=t.history.getDiffSince(s);if(i===Hi)return n();if(i.length===0)return r;let o=null;const a=d=>{o||(o={...r}),o[d]?o[d]===r[d]&&(o[d]=[...o[d]]):o[d]=[]},l=new Set;let c;for(let d=0,h=i.length;d<h;d++){c=i[d];for(const u of Object.values(c.added))Yl(u)&&(a(u.parentId),o[u.parentId].push(u.id),l.add(o[u.parentId]));for(const[u,p]of Object.values(c.updated))if(Yl(p)&&Yl(u)){if(u.parentId!==p.parentId)a(u.parentId),a(p.parentId),o[u.parentId].splice(o[u.parentId].indexOf(p.id),1),o[p.parentId].push(p.id),l.add(o[p.parentId]);else if(u.index!==p.index){a(p.parentId);const y=o[p.parentId].indexOf(p.id);o[p.parentId][y]=p.id,l.add(o[p.parentId])}}for(const u of Object.values(c.removed))Yl(u)&&(a(u.parentId),o[u.parentId].splice(o[u.parentId].indexOf(u.id),1))}for(const d of l){const h=qe(d.map(u=>t.get(u)));h.sort(Mi),d.splice(0,d.length,...h.map(u=>u.id))}return o??r})},A5=(t,e,n)=>{for(;!Hr(n.parentId);){const r=t.get(n.parentId);if(!r)return!1;n=r}return n.parentId===e},j2e=(t,e)=>{const n=t.query.ids("shape");let r=null;function s(){const i=e();return r=i,new Set([...n.get()].filter(o=>A5(t,i,t.get(o))))}return ao("_shapeIdsInCurrentPage",(i,o)=>{if(Vb(i))return s();const a=e();if(a!==r)return s();const l=t.history.getDiffSince(o);if(l===Hi)return s();const c=new U0(i);for(const h of l){for(const u of Object.values(h.added))Yl(u)&&A5(t,a,u)&&c.add(u.id);for(const[u,p]of Object.values(h.updated))Yl(p)&&(A5(t,a,p)?c.add(p.id):c.remove(p.id));for(const u of Object.keys(h.removed))Ai(u)&&c.remove(u)}const d=c.get();return d?jge(d.value,d.diff):i})},R2e=40;class $2e{constructor(e){this.editor=e,this._clickId="",this._getClickTimeout=(n,r=wn())=>{this._clickId=r,clearTimeout(this._clickTimeout),this._clickTimeout=setTimeout(()=>{if(this._clickState===n&&this._clickId===r){switch(this._clickState){case"pendingTriple":{this.editor.dispatch({...this.lastPointerInfo,type:"click",name:"double_click",phase:"settle"});break}case"pendingQuadruple":{this.editor.dispatch({...this.lastPointerInfo,type:"click",name:"triple_click",phase:"settle"});break}case"pendingOverflow":{this.editor.dispatch({...this.lastPointerInfo,type:"click",name:"quadruple_click",phase:"settle"});break}}this._clickState="idle"}},n==="idle"||n==="pendingDouble"?Bye:Fye)},this._clickState="idle",this.lastPointerInfo={},this.transformPointerDownEvent=n=>{if(!this._clickState)return n;switch(this._clickScreenPoint=j.From(n.point),this._previousScreenPoint&&this._previousScreenPoint.dist(this._clickScreenPoint)>R2e&&(this._clickState="idle"),this._previousScreenPoint=this._clickScreenPoint,this.lastPointerInfo=n,this._clickState){case"idle":return this._clickState="pendingDouble",this._clickTimeout=this._getClickTimeout(this._clickState),n;case"pendingDouble":return this._clickState="pendingTriple",this._clickTimeout=this._getClickTimeout(this._clickState),{...n,type:"click",name:"double_click",phase:"down"};case"pendingTriple":return this._clickState="pendingQuadruple",this._clickTimeout=this._getClickTimeout(this._clickState),{...n,type:"click",name:"triple_click",phase:"down"};case"pendingQuadruple":return this._clickState="pendingOverflow",this._clickTimeout=this._getClickTimeout(this._clickState),{...n,type:"click",name:"quadruple_click",phase:"down"};case"pendingOverflow":return this._clickState="overflow",this._clickTimeout=this._getClickTimeout(this._clickState),n;default:return this._clickTimeout=this._getClickTimeout(this._clickState),n}},this.transformPointerUpEvent=n=>{if(!this._clickState)return n;switch(this._clickScreenPoint=j.From(n.point),this._clickState){case"pendingTriple":return{...this.lastPointerInfo,type:"click",name:"double_click",phase:"up"};case"pendingQuadruple":return{...this.lastPointerInfo,type:"click",name:"triple_click",phase:"up"};case"pendingOverflow":return{...this.lastPointerInfo,type:"click",name:"quadruple_click",phase:"up"};default:return n}},this.cancelDoubleClickTimeout=()=>{this._clickTimeout=clearTimeout(this._clickTimeout),this._clickState="idle"},this.handleMove=()=>{this._clickState!=="idle"&&this._clickScreenPoint&&this._clickScreenPoint.dist(this.editor.inputs.currentScreenPoint)>(this.editor.getInstanceState().isCoarsePointer?H3:G3)&&this.cancelDoubleClickTimeout()}}get clickState(){return this._clickState}}class O2e{constructor(e){this.editor=e,typeof window<"u"&&"navigator"in window?(this.isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),this.isIos=!!navigator.userAgent.match(/iPad/i)||!!navigator.userAgent.match(/iPhone/i),this.isChromeForIos=/crios.*safari/i.test(navigator.userAgent),this.isFirefox=/firefox/i.test(navigator.userAgent),this.isAndroid=/android/i.test(navigator.userAgent)):(this.isSafari=!1,this.isIos=!1,this.isChromeForIos=!1,this.isFirefox=!1,this.isAndroid=!1)}}function _l(t){if(t){let e=s_;for(;t.length;)e=e.push(t.pop());return e}return s_}class D2e{constructor(){this.length=0,this.head=null,this.tail=this}push(e){return new w6(e,this)}toArray(){return qa}[Symbol.iterator](){return{next(){return{value:void 0,done:!0}}}}}const s_=new D2e;class w6{constructor(e,n){this.head=e,this.tail=n,this.length=n.length+1}push(e){return new w6(e,this)}toArray(){return Array.from(this)}[Symbol.iterator](){let e=this;return{next(){if(e.length){const n=e.head;return e=e.tail,{value:n,done:!1}}else return{value:void 0,done:!0}}}}}class q2e{constructor(e,n){this.ctx=e,this.annotateError=n,this._undos=Os("HistoryManager.undos",_l()),this._redos=Os("HistoryManager.redos",_l()),this._batchDepth=0,this.onBatchComplete=()=>{},this._commands={},this.createCommand=(r,s,i)=>{if(this._commands[r])throw new Error(`Duplicate command: ${r}`);this._commands[r]=i;const o=(...a)=>{if(!this._batchDepth)return this.batch(()=>o(...a)),this.ctx;const l=s(...a);if(!l)return this.ctx;const{data:c,ephemeral:d,squashing:h,preservesRedoStack:u}=l;if(this.ignoringUpdates((p,y)=>(i.do(c),{undos:p,redos:y})),!d){const p=this._undos.get().head;h&&p&&p.type==="command"&&p.name===r&&p.preservesRedoStack===u?this._undos.update(y=>y.tail.push({...p,id:wn(),data:i.squash(p.data,c)})):this._undos.update(y=>y.push({type:"command",name:r,data:c,id:wn(),preservesRedoStack:u})),l.preservesRedoStack||this._redos.set(_l()),this.ctx.emit("change-history",{reason:"push"})}return this.ctx};return o},this.batch=r=>{try{this._batchDepth++,this._batchDepth===1?sf(()=>{var i,o;const s=(i=this._undos.get().head)==null?void 0:i.id;r(),s!==((o=this._undos.get().head)==null?void 0:o.id)&&this.onBatchComplete()}):r()}catch(s){throw this.annotateError(s),s}finally{this._batchDepth--}return this},this.ignoringUpdates=r=>{let s=this._undos.get(),i=this._redos.get();this._undos.set(_l()),this._redos.set(_l());try{({undos:s,redos:i}=sf(()=>r(s,i)))}finally{this._undos.set(s),this._redos.set(i)}},this._undo=({pushToRedoStack:r,toMark:s=void 0})=>(this.ignoringUpdates((i,o)=>{var a;if(i.length===0)return{undos:i,redos:o};for(;((a=i.head)==null?void 0:a.type)==="STOP";){const l=i.head;if(i=i.tail,r&&(o=o.push(l)),l.id===s)return this.ctx.emit("change-history",r?{reason:"undo"}:{reason:"bail",markId:s}),{undos:i,redos:o}}if(i.length===0)return this.ctx.emit("change-history",r?{reason:"undo"}:{reason:"bail",markId:s}),{undos:i,redos:o};for(;i.head;){const l=i.head;if(i=i.tail,r&&(o=o.push(l)),l.type==="STOP"){if(l.onUndo&&(!s||l.id===s))return this.ctx.emit("change-history",r?{reason:"undo"}:{reason:"bail",markId:s}),{undos:i,redos:o}}else this._commands[l.name].undo(l.data)}return this.ctx.emit("change-history",r?{reason:"undo"}:{reason:"bail",markId:s}),{undos:i,redos:o}}),this),this.undo=()=>(this._undo({pushToRedoStack:!0}),this),this.redo=()=>(this.ignoringUpdates((r,s)=>{var i;if(s.length===0)return{undos:r,redos:s};for(;((i=s.head)==null?void 0:i.type)==="STOP";)r=r.push(s.head),s=s.tail;if(s.length===0)return this.ctx.emit("change-history",{reason:"redo"}),{undos:r,redos:s};for(;s.head;){const o=s.head;if(r=r.push(s.head),s=s.tail,o.type==="STOP"){if(o.onRedo)break}else{const a=this._commands[o.name];a.redo?a.redo(o.data):a.do(o.data)}}return this.ctx.emit("change-history",{reason:"redo"}),{undos:r,redos:s}}),this),this.bail=()=>(this._undo({pushToRedoStack:!1}),this),this.bailToMark=r=>(this._undo({pushToRedoStack:!1,toMark:r}),this),this.mark=(r=wn(),s=!0,i=!0)=>{const o=this._undos.get().head;return o&&o.type==="STOP"&&o.id===r&&o.onUndo===s&&o.onRedo===i?o.id:(this._undos.update(a=>a.push({type:"STOP",id:r,onUndo:s,onRedo:i})),this.ctx.emit("mark-history",{id:r}),r)}}getNumUndos(){return this._undos.get().length}getNumRedos(){return this._redos.get().length}clear(){this._undos.set(_l()),this._redos.set(_l())}}class B2e{constructor(e){this.editor=e,this.scribbleItems=new Map,this.state="paused",this.addScribble=(n,r=wn())=>{const s={id:r,scribble:{id:r,size:20,color:"accent",opacity:.8,delay:0,points:[],shrink:.1,taper:!0,...n,state:"starting"},timeoutMs:0,delayRemaining:n.delay??0,prev:null,next:null};return this.scribbleItems.set(r,s),this.state==="paused"&&this.resume(),s},this.stop=n=>{const r=this.scribbleItems.get(n);if(!r)throw Error(`Scribble with id ${n} not found`);return r.delayRemaining=Math.min(r.delayRemaining,200),r.scribble.state="stopping",r},this.addPoint=(n,r,s)=>{const i=this.scribbleItems.get(n);if(!i)throw Error(`Scribble with id ${n} not found`);const{prev:o}=i,a={x:r,y:s,z:.5};return(!o||j.Dist(o,a)>=1)&&(i.next=a),i},this.tick=n=>{this.editor.batch(()=>{this.scribbleItems.forEach(r=>{if(r.scribble.state==="starting"){const{next:c,prev:d}=r;c&&c!==d&&(r.prev=c,r.scribble.points.push(c)),r.scribble.points.length>8&&(r.scribble.state="active");return}r.delayRemaining>0&&(r.delayRemaining=Math.max(0,r.delayRemaining-n)),r.timeoutMs+=n,r.timeoutMs>=16&&(r.timeoutMs=0);const{delayRemaining:s,timeoutMs:i,prev:o,next:a,scribble:l}=r;switch(l.state){case"active":{a&&a!==o?(r.prev=a,l.points.push(a),s===0&&l.points.length>8&&l.points.shift()):i===0&&(l.points.length>1?l.points.shift():r.delayRemaining=l.delay);break}case"stopping":{if(r.delayRemaining===0&&i===0){if(l.points.length===1){this.scribbleItems.delete(r.id);return}l.shrink&&(l.size=Math.max(1,l.size*(1-l.shrink))),l.points.shift()}break}}}),this.editor.updateInstanceState({scribbles:Array.from(this.scribbleItems.values()).map(({scribble:r})=>({...r,points:[...r.points]})).slice(-5)}),this.scribbleItems.size===0&&this.pause()})}}resume(){this.state="running",this.editor.addListener("tick",this.tick)}pause(){this.editor.removeListener("tick",this.tick),this.state="paused"}reset(){this.editor.updateInstanceState({scribbles:[]}),this.scribbleItems.clear(),this.pause()}}class F2e{constructor(e){this.editor=e,this._beforeCreateHandlers={},this._afterCreateHandlers={},this._beforeChangeHandlers={},this._afterChangeHandlers={},this._beforeDeleteHandlers={},this._afterDeleteHandlers={},this._batchCompleteHandlers=[],e.store.onBeforeCreate=(r,s)=>{const i=this._beforeCreateHandlers[r.typeName];if(i){let o=r;for(const a of i)o=a(o,s);return o}return r},e.store.onAfterCreate=(r,s)=>{const i=this._afterCreateHandlers[r.typeName];if(i)for(const o of i)o(r,s)},e.store.onBeforeChange=(r,s,i)=>{const o=this._beforeChangeHandlers[s.typeName];if(o){let a=s;for(const l of o)a=l(r,a,i);return a}return s};let n=0;e.store.onAfterChange=(r,s,i)=>{if(n++,n>1e3)console.error("[CleanupManager.onAfterChange] Maximum update depth exceeded, bailing out.");else{const o=this._afterChangeHandlers[s.typeName];if(o)for(const a of o)a(r,s,i)}n--},e.store.onBeforeDelete=(r,s)=>{const i=this._beforeDeleteHandlers[r.typeName];if(i){for(const o of i)if(o(r,s)===!1)return!1}},e.store.onAfterDelete=(r,s)=>{const i=this._afterDeleteHandlers[r.typeName];if(i)for(const o of i)o(r,s)},e.history.onBatchComplete=()=>{this._batchCompleteHandlers.forEach(r=>r())}}registerBeforeCreateHandler(e,n){return this._beforeCreateHandlers[e]||(this._beforeCreateHandlers[e]=[]),this._beforeCreateHandlers[e].push(n),()=>El(this._beforeCreateHandlers[e],n)}registerAfterCreateHandler(e,n){return this._afterCreateHandlers[e]||(this._afterCreateHandlers[e]=[]),this._afterCreateHandlers[e].push(n),()=>El(this._afterCreateHandlers[e],n)}registerBeforeChangeHandler(e,n){return this._beforeChangeHandlers[e]||(this._beforeChangeHandlers[e]=[]),this._beforeChangeHandlers[e].push(n),()=>El(this._beforeChangeHandlers[e],n)}registerAfterChangeHandler(e,n){return this._afterChangeHandlers[e]||(this._afterChangeHandlers[e]=[]),this._afterChangeHandlers[e].push(n),()=>El(this._afterChangeHandlers[e],n)}registerBeforeDeleteHandler(e,n){return this._beforeDeleteHandlers[e]||(this._beforeDeleteHandlers[e]=[]),this._beforeDeleteHandlers[e].push(n),()=>El(this._beforeDeleteHandlers[e],n)}registerAfterDeleteHandler(e,n){return this._afterDeleteHandlers[e]||(this._afterDeleteHandlers[e]=[]),this._afterDeleteHandlers[e].push(n),()=>El(this._afterDeleteHandlers[e],n)}registerBatchCompleteHandler(e){return this._batchCompleteHandlers.push(e),()=>El(this._batchCompleteHandlers,e)}}function El(t,e){const n=t.indexOf(e);n>=0&&t.splice(n,1)}const Se=t=>Math.round(t*10**8)/10**8;function wo(t,e,n,r,s){const i=t.filter(a=>(r==="forward"?a.startNode.id===e:a.endNode.id===e)&&Se(a.length)===Se(n)&&ri(a.breadthIntersection[0],a.breadthIntersection[1],s[0],s[1]));if(i.length===0)return[];const o=new Set;return i.forEach(a=>{const l=r==="forward"?a.endNode.id:a.startNode.id;if(!o.has(l)){o.add(l);const c=wo(t,l,n,r,ri(a.breadthIntersection[0],a.breadthIntersection[1],s[0],s[1]));i.push(...c)}}),i}function K2e(t){t.sort((e,n)=>n.gaps.length-e.gaps.length);for(let e=t.length-1;e>0;e--){const n=t[e];for(let r=e-1;r>=0;r--){const s=t[r];if(s.direction===n.direction&&n.gaps.every(i=>s.gaps.some(o=>Se(i.startEdge[0].x)===Se(o.startEdge[0].x)&&Se(i.startEdge[0].y)===Se(o.startEdge[0].y)&&Se(i.startEdge[1].x)===Se(o.startEdge[1].x)&&Se(i.startEdge[1].y)===Se(o.startEdge[1].y))&&s.gaps.some(o=>Se(i.endEdge[0].x)===Se(o.endEdge[0].x)&&Se(i.endEdge[0].y)===Se(o.endEdge[0].y)&&Se(i.endEdge[1].x)===Se(o.endEdge[1].x)&&Se(i.endEdge[1].y)===Se(o.endEdge[1].y)))){t.splice(e,1);break}}}}class W2e{constructor(e){this.editor=e,this._snapLines=Os("snapLines",void 0)}getLines(){return this._snapLines.get()??qa}clear(){this.getLines().length&&this._snapLines.set(void 0)}setLines(e){this._snapLines.set(e)}getSnapPointsCache(){const{editor:e}=this;return e.store.createComputedCache("snapPoints",n=>{const r=e.getShapePageTransform(n.id);return r?this.editor.getShapeGeometry(n).snapPoints.map((i,o)=>{const{x:a,y:l}=be.applyToPoint(r,i);return{x:a,y:l,id:`${n.id}:${o}`}}):void 0})}getSnapThreshold(){return 8/this.editor.getZoomLevel()}getSnappableShapes(){const{editor:e}=this,n=e.getRenderingBounds(),r=e.getSelectedShapeIds(),s=[],i=o=>{const a=e.getSortedChildIdsForParent(o);for(const l of a){if(r.includes(l))continue;const c=e.getShape(l);if(!c||!e.getShapeUtil(c).canSnap(c))continue;const h=e.getShapePageBounds(l);if(h&&n.includes(h)){if(e.isShapeOfType(c,"group")){i(l);continue}s.push({id:l,pageBounds:h,isClosed:e.getShapeGeometry(c).isClosed})}}};return i(this.getCurrentCommonAncestor()??e.getCurrentPageId()),s}getCurrentCommonAncestor(){return this.editor.findCommonAncestor(this.editor.getSelectedShapes())}getSnappablePoints(){const e=this.getSnapPointsCache(),n=this.getSnappableShapes(),r=[];return n.forEach(s=>{const i=e.get(s.id);i&&r.push(...i)}),r}getVisibleGaps(){const e=[],n=[];let r,s;const i=this.getSnappableShapes().sort((a,l)=>a.pageBounds.minX-l.pageBounds.minX);for(let a=0;a<i.length;a++){r=i[a];for(let l=a+1;l<i.length;l++)s=i[l],r.pageBounds.maxX<s.pageBounds.minX&&zu(r.pageBounds.minY,r.pageBounds.maxY,s.pageBounds.minY,s.pageBounds.maxY)&&e.push({startNode:r,endNode:s,startEdge:[new j(r.pageBounds.maxX,r.pageBounds.minY),new j(r.pageBounds.maxX,r.pageBounds.maxY)],endEdge:[new j(s.pageBounds.minX,s.pageBounds.minY),new j(s.pageBounds.minX,s.pageBounds.maxY)],length:s.pageBounds.minX-r.pageBounds.maxX,breadthIntersection:ri(r.pageBounds.minY,r.pageBounds.maxY,s.pageBounds.minY,s.pageBounds.maxY)})}const o=i.sort((a,l)=>a.pageBounds.minY-l.pageBounds.minY);for(let a=0;a<o.length;a++){r=o[a];for(let l=a+1;l<o.length;l++)s=o[l],r.pageBounds.maxY<s.pageBounds.minY&&zu(r.pageBounds.minX,r.pageBounds.maxX,s.pageBounds.minX,s.pageBounds.maxX)&&n.push({startNode:r,endNode:s,startEdge:[new j(r.pageBounds.minX,r.pageBounds.maxY),new j(r.pageBounds.maxX,r.pageBounds.maxY)],endEdge:[new j(s.pageBounds.minX,s.pageBounds.minY),new j(s.pageBounds.maxX,s.pageBounds.minY)],length:s.pageBounds.minY-r.pageBounds.maxY,breadthIntersection:ri(r.pageBounds.minX,r.pageBounds.maxX,s.pageBounds.minX,s.pageBounds.maxX)})}return{horizontal:e,vertical:n}}snapTranslate({lockedAxis:e,initialSelectionPageBounds:n,initialSelectionSnapPoints:r,dragDelta:s}){var w,S;const i=this.getSnapThreshold(),o=this.getSnappablePoints(),a=n.clone().translate(s),l=r.map(({x:b,y:g},x)=>({id:"selection:"+x,x:b+s.x,y:g+s.y})),c=o,d=[],h=[],u=new j(i,i);this.collectPointSnaps({minOffset:u,nearestSnapsX:d,nearestSnapsY:h,otherNodeSnapPoints:c,selectionSnapPoints:l}),this.collectGapSnaps({selectionPageBounds:a,nearestSnapsX:d,nearestSnapsY:h,minOffset:u});const p=new j(e==="x"?0:((w=d[0])==null?void 0:w.nudge)??0,e==="y"?0:((S=h[0])==null?void 0:S.nudge)??0);u.x=0,u.y=0,d.length=0,h.length=0,l.forEach(b=>{b.x+=p.x,b.y+=p.y}),a.translate(p),this.collectPointSnaps({minOffset:u,nearestSnapsX:d,nearestSnapsY:h,otherNodeSnapPoints:c,selectionSnapPoints:l}),this.collectGapSnaps({selectionPageBounds:a,nearestSnapsX:d,nearestSnapsY:h,minOffset:u});const y=this.getPointSnapLines({nearestSnapsX:d,nearestSnapsY:h}),m=this.getGapSnapLines({selectionPageBounds:a,nearestSnapsX:d,nearestSnapsY:h});return this._snapLines.set([...m,...y]),{nudge:p}}getOutlinesInPageSpace(){return this.getSnappableShapes().map(({id:e,isClosed:n})=>{const r=eh(this.editor.getShapeGeometry(e).vertices);n&&r.push(r[0]);const s=this.editor.getShapePageTransform(e);if(!s)throw Error("No page transform");return be.applyToPoints(s,r)})}getSnappingHandleDelta({handlePoint:e,additionalSegments:n}){const r=this.getSnapThreshold(),s=this.getOutlinesInPageSpace();let i=r,o=null,a,l,c,d;const h=[...s,...n];for(const u of h)for(let p=0;p<u.length-1;p++)a=u[p],l=u[p+1],c=j.NearestPointOnLineSegment(a,l,e),d=j.Dist(e,c),!isNaN(d)&&d<i&&(i=d,o=c);return o?(this._snapLines.set([{id:wn(),type:"points",points:[o]}]),j.Sub(o,e)):null}snapResize({initialSelectionPageBounds:e,dragDelta:n,handle:r,isAspectRatioLocked:s,isResizingFromCenter:i}){var _,E;const o=this.getSnapThreshold(),{box:a,scaleX:l,scaleY:c}=Ve.Resize(e,r,i?n.x*2:n.x,i?n.y*2:n.y,s);let d=r;l<0&&(d=kye(d)),c<0&&(d=vye(d)),i&&(a.center=e.center);const h=d==="top"||d==="bottom",u=d==="left"||d==="right",p=i_(d,a),y=this.getSnappablePoints(),m=[],w=[],S=new j(o,o);this.collectPointSnaps({minOffset:S,nearestSnapsX:m,nearestSnapsY:w,otherNodeSnapPoints:y,selectionSnapPoints:p});const b=new j(h?0:((_=m[0])==null?void 0:_.nudge)??0,u?0:((E=w[0])==null?void 0:E.nudge)??0);if(s&&Cye(d)&&b.len()!==0){const z=m.length&&w.length?Math.abs(b.x)<Math.abs(b.y)?"x":"y":m.length?"x":"y",P=e.aspectRatio;z==="x"?(w.length=0,b.y=b.x/P,(d==="bottom_left"||d==="top_right")&&(b.y=-b.y)):(m.length=0,b.x=b.y*P,(d==="bottom_left"||d==="top_right")&&(b.x=-b.x))}const g=j.Add(n,b),{box:x}=Ve.Resize(e,r,i?g.x*2:g.x,i?g.y*2:g.y,s);i&&(x.center=e.center);const k=i_("any",x);m.length=0,w.length=0,S.x=0,S.y=0,this.collectPointSnaps({minOffset:S,nearestSnapsX:m,nearestSnapsY:w,otherNodeSnapPoints:y,selectionSnapPoints:k});const C=this.getPointSnapLines({nearestSnapsX:m,nearestSnapsY:w});return this._snapLines.set([...C]),{nudge:b}}collectPointSnaps({selectionSnapPoints:e,otherNodeSnapPoints:n,minOffset:r,nearestSnapsX:s,nearestSnapsY:i}){for(const o of e)for(const a of n){const l=j.Sub(o,a),c=Math.abs(l.x),d=Math.abs(l.y);Se(c)<=Se(r.x)&&(Se(c)<Se(r.x)&&(s.length=0),s.push({type:"points",points:{thisPoint:o,otherPoint:a},nudge:a.x-o.x}),r.x=c),Se(d)<=Se(r.y)&&(Se(d)<Se(r.y)&&(i.length=0),i.push({type:"points",points:{thisPoint:o,otherPoint:a},nudge:a.y-o.y}),r.y=d)}}collectGapSnaps({selectionPageBounds:e,minOffset:n,nearestSnapsX:r,nearestSnapsY:s}){const{horizontal:i,vertical:o}=this.getVisibleGaps();for(const a of i){if(!zu(a.breadthIntersection[0],a.breadthIntersection[1],e.minY,e.maxY))continue;const c=a.startEdge[0].x+a.length/2-e.center.x;if(a.length>e.width&&Se(Math.abs(c))<=Se(n.x)){Se(Math.abs(c))<Se(n.x)&&(r.length=0),n.x=Math.abs(c);const S={type:"gap_center",gap:a,nudge:c},b=r.find(({type:x})=>x==="gap_center"),g=b&&ri(a.breadthIntersection[0],a.breadthIntersection[1],b.gap.breadthIntersection[0],b.gap.breadthIntersection[1]);b&&b.gap.length>a.length&&g?r[r.indexOf(b)]=S:(!b||!g)&&r.push(S)}const h=a.startNode.pageBounds.minX-a.length,u=e.maxX,p=h-u;Se(Math.abs(p))<=Se(n.x)&&(Se(Math.abs(p))<Se(n.x)&&(r.length=0),n.x=Math.abs(p),r.push({type:"gap_duplicate",gap:a,protrusionDirection:"left",nudge:p}));const y=a.endNode.pageBounds.maxX+a.length,m=e.minX,w=y-m;Se(Math.abs(w))<=Se(n.x)&&(Se(Math.abs(w))<Se(n.x)&&(r.length=0),n.x=Math.abs(w),r.push({type:"gap_duplicate",gap:a,protrusionDirection:"right",nudge:w}))}for(const a of o){if(!zu(a.breadthIntersection[0],a.breadthIntersection[1],e.minX,e.maxX))continue;const c=a.startEdge[0].y+a.length/2-e.center.y;if(a.length>e.height&&Se(Math.abs(c))<=Se(n.y)){Se(Math.abs(c))<Se(n.y)&&(s.length=0),n.y=Math.abs(c);const S={type:"gap_center",gap:a,nudge:c},b=s.find(({type:x})=>x==="gap_center"),g=b&&zu(b.gap.breadthIntersection[0],b.gap.breadthIntersection[1],a.breadthIntersection[0],a.breadthIntersection[1]);b&&b.gap.length>a.length&&g?s[s.indexOf(b)]=S:(!b||!g)&&s.push(S);continue}const h=a.startNode.pageBounds.minY-a.length,u=e.maxY,p=h-u;Se(Math.abs(p))<=Se(n.y)&&(Se(Math.abs(p))<Se(n.y)&&(s.length=0),n.y=Math.abs(p),s.push({type:"gap_duplicate",gap:a,protrusionDirection:"top",nudge:p}));const y=a.endNode.pageBounds.maxY+a.length,m=e.minY,w=y-m;Se(Math.abs(w))<=Se(n.y)&&(Se(Math.abs(w))<Se(n.y)&&(s.length=0),n.y=Math.abs(w),s.push({type:"gap_duplicate",gap:a,protrusionDirection:"bottom",nudge:w}))}}getPointSnapLines({nearestSnapsX:e,nearestSnapsY:n}){const r={},s={};if(e.length>0){for(const i of e)if(i.type==="points"){const o=Se(i.points.otherPoint.x);r[o]||(r[o]=[]),r[o].push(i.points)}}if(n.length>0){for(const i of n)if(i.type==="points"){const o=Se(i.points.otherPoint.y);s[o]||(s[o]=[]),s[o].push(i.points)}}return Object.values(r).concat(Object.values(s)).map(i=>({id:wn(),type:"points",points:yy(i.map(o=>j.From(o.otherPoint)).concat(i.map(o=>j.From(o.thisPoint))),(o,a)=>o.equals(a))}))}getGapSnapLines({selectionPageBounds:e,nearestSnapsX:n,nearestSnapsY:r}){const{vertical:s,horizontal:i}=this.getVisibleGaps(),o={top:e.sides[0],right:e.sides[1],bottom:[e.corners[3],e.corners[2]],left:[e.corners[0],e.corners[3]]},a=[];if(n.length>0)for(const l of n){if(l.type==="points")continue;const{gap:{breadthIntersection:c,startEdge:d,startNode:h,endNode:u,length:p,endEdge:y}}=l;switch(l.type){case"gap_center":{const m=(p-e.width)/2,w=ri(c[0],c[1],e.minY,e.maxY);a.push({type:"gaps",direction:"horizontal",id:wn(),gaps:[...wo(i,h.id,m,"backward",w),{startEdge:d,endEdge:o.left},{startEdge:o.right,endEdge:y},...wo(i,u.id,m,"forward",w)]});break}case"gap_duplicate":{const m=ri(c[0],c[1],e.minY,e.maxY);a.push({type:"gaps",direction:"horizontal",id:wn(),gaps:l.protrusionDirection==="left"?[{startEdge:o.right,endEdge:d.map(w=>w.clone().addXY(-h.pageBounds.width,0))},{startEdge:d,endEdge:y},...wo(i,u.id,p,"forward",m)]:[...wo(i,h.id,p,"backward",m),{startEdge:d,endEdge:y},{startEdge:y.map(w=>w.clone().addXY(l.gap.endNode.pageBounds.width,0)),endEdge:o.left}]});break}}}if(r.length>0)for(const l of r){if(l.type==="points")continue;const{gap:{breadthIntersection:c,startEdge:d,startNode:h,endNode:u,length:p,endEdge:y}}=l;switch(l.type){case"gap_center":{const m=(p-e.height)/2,w=ri(c[0],c[1],e.minX,e.maxX);a.push({type:"gaps",direction:"vertical",id:wn(),gaps:[...wo(s,h.id,m,"backward",w),{startEdge:d,endEdge:o.top},{startEdge:o.bottom,endEdge:y},...wo(s,l.gap.endNode.id,m,"forward",w)]});break}case"gap_duplicate":{const m=ri(c[0],c[1],e.minX,e.maxX);a.push({type:"gaps",direction:"vertical",id:wn(),gaps:l.protrusionDirection==="top"?[{startEdge:o.bottom,endEdge:d.map(w=>w.clone().addXY(0,-h.pageBounds.height))},{startEdge:d,endEdge:y},...wo(s,u.id,p,"forward",m)]:[...wo(s,h.id,p,"backward",m),{startEdge:d,endEdge:y},{startEdge:y.map(w=>w.clone().addXY(0,u.pageBounds.height)),endEdge:o.top}]})}break}}return K2e(a),a}}function i_(t,e){const{minX:n,maxX:r,minY:s,maxY:i}=e,o=[];switch(t){case"top":case"left":case"top_left":case"any":o.push({id:"top_left",handle:"top_left",x:n,y:s})}switch(t){case"top":case"right":case"top_right":case"any":o.push({id:"top_right",handle:"top_right",x:r,y:s})}switch(t){case"bottom":case"right":case"bottom_right":case"any":o.push({id:"bottom_right",handle:"bottom_right",x:r,y:i})}switch(t){case"bottom":case"left":case"bottom_left":case"any":o.push({id:"bottom_left",handle:"bottom_left",x:n,y:i})}return o}const U2e=/\r?\n|\r/g;function o_(t){return t.replace(U2e,`
`).split(`
`).map(e=>e||" ").join(`
`)}const V2e={start:"left","start-legacy":"left",middle:"center","middle-legacy":"center",end:"right","end-legacy":"right"},X2e=/\s/;class Y2e{constructor(e){this.editor=e,this.measureText=(n,r)=>{const s=this.getTextElement();s.setAttribute("dir","ltr"),s.style.setProperty("font-family",r.fontFamily),s.style.setProperty("font-style",r.fontStyle),s.style.setProperty("font-weight",r.fontWeight),s.style.setProperty("font-size",r.fontSize+"px"),s.style.setProperty("line-height",r.lineHeight*r.fontSize+"px"),s.style.setProperty("max-width",r.maxWidth===null?null:r.maxWidth+"px"),s.style.setProperty("min-width",r.minWidth??null),s.style.setProperty("padding",r.padding),s.textContent=o_(n);const i=s.getBoundingClientRect();return{x:0,y:0,w:i.width,h:i.height}}}getTextElement(){const e=document.querySelector(".tl-text-measure");e==null||e.remove();const n=document.createElement("div");return this.editor.getContainer().appendChild(n),n.id=`__textMeasure_${wn()}`,n.classList.add("tl-text"),n.classList.add("tl-text-measure"),n.tabIndex=-1,n}measureElementTextNodeSpans(e,{shouldTruncateToFirstLine:n=!1}={}){const r=[],s=e.getBoundingClientRect(),i=-s.left,o=-s.top,a=new Range,l=e.childNodes[0];let c=0,d=null,h=null,u=0,p=!1;for(const y of e.childNodes)if(y.nodeType===Node.TEXT_NODE)for(const m of y.textContent??""){a.setStart(l,c),a.setEnd(l,c+m.length);const w=a.getClientRects(),S=w[w.length-1],b=S.top+o,g=S.left+i,x=S.right+i,k=X2e.test(m);if(k!==h||b!==u||!d){if(d){if(n&&b!==u){p=!0;break}r.push(d)}d={box:{x:g,y:b,w:S.width,h:S.height},text:m}}else d.box.w=x-d.box.x,d.text+=m;h=k,u=b,c+=m.length}return d&&r.push(d),{spans:r,didTruncate:p}}measureTextSpans(e,n){if(e==="")return[];const r=n.overflow==="truncate-ellipsis"||n.overflow==="truncate-clip",s=this.getTextElement(),i=Math.ceil(n.width-n.padding*2);s.style.setProperty("width",`${i}px`),s.style.setProperty("height","min-content"),s.style.setProperty("dir","ltr"),s.style.setProperty("font-size",`${n.fontSize}px`),s.style.setProperty("font-family",n.fontFamily),s.style.setProperty("font-weight",n.fontWeight),s.style.setProperty("line-height",`${n.lineHeight*n.fontSize}px`),s.style.setProperty("text-align",V2e[n.textAlign]),r&&(s.style.setProperty("overflow-wrap","anywhere"),s.style.setProperty("word-break","break-all")),e=o_(e),s.textContent=e;const{spans:o,didTruncate:a}=this.measureElementTextNodeSpans(s,{shouldTruncateToFirstLine:r});if(n.overflow==="truncate-ellipsis"&&a){s.textContent="";const l=Math.ceil(this.measureElementTextNodeSpans(s).spans[0].box.w);s.style.setProperty("width",`${i-l}px`),s.textContent=e;const c=this.measureElementTextNodeSpans(s,{shouldTruncateToFirstLine:!0}).spans,d=c[c.length-1];return c.push({text:"",box:{x:Math.min(d.box.x+d.box.w,n.width-n.padding-l),y:d.box.y,w:l,h:d.box.h}}),c}return s.remove(),o}}class H2e{constructor(e){this.editor=e,this.isPaused=!0,this.last=0,this.t=0,this.start=()=>{this.isPaused=!1,cancelAnimationFrame(this.raf),this.raf=requestAnimationFrame(this.tick),this.last=Date.now()},this.tick=()=>{if(this.isPaused)return;const n=Date.now(),r=n-this.last;if(this.last=n,this.t+=r,this.editor.emit("frame",r),this.t<16){this.raf=requestAnimationFrame(this.tick);return}this.t-=16,this.updatePointerVelocity(r),this.editor.emit("tick",r),this.raf=requestAnimationFrame(this.tick)},this.dispose=()=>{this.isPaused=!0,cancelAnimationFrame(this.raf)},this.prevPoint=new j,this.updatePointerVelocity=n=>{const{prevPoint:r,editor:{inputs:{currentScreenPoint:s,pointerVelocity:i}}}=this;if(n===0)return;const o=j.Sub(s,r);this.prevPoint=s.clone();const a=o.len(),l=a?o.div(a):new j(0,0),c=i.clone().lrp(l.mul(a/n),.5);Math.abs(c.x)<.01&&(c.x=0),Math.abs(c.y)<.01&&(c.y=0),i.equals(c)||(this.editor.inputs.pointerVelocity=c)},this.editor.disposables.add(this.dispose),this.start()}}class G2e{constructor(e,n){this.user=e,this.inferDarkMode=n,this.updateUserPreferences=r=>{this.user.setUserPreferences({...this.user.userPreferences.get(),...r})}}getUserPreferences(){return{id:this.getId(),name:this.getName(),locale:this.getLocale(),color:this.getColor(),isDarkMode:this.getIsDarkMode(),animationSpeed:this.getAnimationSpeed(),isSnapMode:this.getIsSnapMode()}}getIsDarkMode(){return this.user.userPreferences.get().isDarkMode??(this.inferDarkMode?r2e():!1)}getEdgeScrollSpeed(){return this.user.userPreferences.get().edgeScrollSpeed??Rs.edgeScrollSpeed}getAnimationSpeed(){return this.user.userPreferences.get().animationSpeed??Rs.animationSpeed}getId(){return this.user.userPreferences.get().id}getName(){return this.user.userPreferences.get().name??Rs.name}getLocale(){return this.user.userPreferences.get().locale??Rs.locale}getColor(){return this.user.userPreferences.get().color??Rs.color}getIsSnapMode(){return this.user.userPreferences.get().isSnapMode??Rs.isSnapMode}}function Lu(t){return Math.abs(t.props.bend)<8}function ky(t,e){if(e.type==="point")return;const n=t.getShape(e.boundShapeId),r=t.getShapePageTransform(n),s=t.getShapeGeometry(n),i=s instanceof y6?s.children[0].vertices:s.vertices;return{shape:n,transform:r,isClosed:s.isClosed,isExact:e.isExact,didIntersect:!1,outline:i}}function a_(t,e,n,r){if(n.type==="point")return j.From(n);const s=t.getShape(n.boundShapeId);if(s){const{point:i,size:o}=t.getShapeGeometry(s).bounds,a=j.Add(i,j.MulV(n.isPrecise||r?n.normalizedAnchor:{x:.5,y:.5},o)),l=be.applyToPoint(t.getShapePageTransform(s),a);return be.applyToPoint(be.Inverse(e),l)}else return new j(0,0)}function Nl(t,e){const n=t.getShapePageTransform(e);let r,s;e.props.start.type==="binding"&&e.props.end.type==="binding"&&(r=e.props.start.boundShapeId,s=e.props.end.boundShapeId);const i=S6(t,r,s),o=a_(t,n,e.props.start,i==="double-bound"||i==="start-contains-end"),a=a_(t,n,e.props.end,i==="double-bound"||i==="end-contains-start");return{start:o,end:a}}const Dd=10,Cy=10,Z2e=10,za={s:2,m:3.5,l:5,xl:10};function S6(t,e,n){if(!e||!n)return"safe";if(e===n)return"double-bound";const r=t.getShapePageBounds(e),s=t.getShapePageBounds(n);if(r&&s){if(r.contains(s))return"start-contains-end";if(s.contains(r))return"end-contains-start"}return"safe"}function pp(t,e){const{start:n,end:r,arrowheadStart:s,arrowheadEnd:i}=e.props,o=Nl(t,e),a=o.start.clone(),l=o.end.clone(),c=j.Med(a,l);if(j.Equals(a,l))return{isStraight:!0,start:{handle:a,point:a,arrowhead:e.props.arrowheadStart},end:{handle:l,point:l,arrowhead:e.props.arrowheadEnd},middle:c,isValid:!1,length:0};const d=j.Sub(l,a).uni(),h=ky(t,n),u=ky(t,r),p=t.getShapePageTransform(e);l_(l,o.start,p,u),l_(a,o.end,p,h);let y=0,m=0,w=0,S=0,b=Dd;const g=h&&u&&h.shape===u.shape,x=h&&u?S6(t,h.shape.id,u.shape.id):"safe";x==="safe"&&h&&u&&!g&&!h.isExact&&!u.isExact&&(u.didIntersect&&!h.didIntersect?h.isClosed&&a.setTo(l.clone().add(d.clone().mul(Dd))):u.didIntersect||u.isClosed&&l.setTo(a.clone().sub(d.clone().mul(Dd))));const k=j.Sub(l,a).uni(),C=!j.Equals(k,d);g||(x!=="start-contains-end"&&h&&s!=="none"&&!h.isExact&&(w=za[e.props.size]/2+("size"in h.shape.props?za[h.shape.props.size]/2:0),y=Cy+w,b+=w),x!=="end-contains-start"&&u&&i!=="none"&&!u.isExact&&(S=za[e.props.size]/2+("size"in u.shape.props?za[u.shape.props.size]/2:0),m=Cy+S,b+=S));const _=a.clone().add(k.clone().mul(y*(C?-1:1))),E=l.clone().sub(k.clone().mul(m*(C?-1:1)));j.Dist(_,E)<b&&(y!==0&&m!==0?(y*=-1.5,m*=-1.5):y!==0?y*=-1:m!==0&&(m*=-1)),a.add(k.clone().mul(y*(C?-1:1))),l.sub(k.clone().mul(m*(C?-1:1))),C?(h&&u&&l.setTo(j.Add(a,k.clone().mul(-Dd))),c.setTo(j.Med(o.start,o.end))):c.setTo(j.Med(a,l));const P=j.Dist(a,l);return{isStraight:!0,start:{handle:o.start,point:a,arrowhead:e.props.arrowheadStart},end:{handle:o.end,point:l,arrowhead:e.props.arrowheadEnd},middle:c,isValid:P>0,length:P}}function l_(t,e,n,r){if(r===void 0||r.isExact)return;const s=be.applyToPoint(n,e),i=be.applyToPoint(n,t),o=be.applyToPoint(be.Inverse(r.transform),s),a=be.applyToPoint(be.Inverse(r.transform),i),l=r.isClosed,d=(l?p2e:u2e)(o,a,r.outline);let h;if(d!==null&&(h=d.sort((y,m)=>j.Dist(y,o)-j.Dist(m,o))[0]??(l?void 0:a)),h===void 0)return;const u=be.applyToPoint(r.transform,h),p=be.applyToPoint(be.Inverse(n),u);t.setTo(p),r.didIntersect=!0}function N5(t,e,n=0){const{arrowheadEnd:r,arrowheadStart:s}=e.props,i=e.props.bend+n;if(Math.abs(i)>Math.abs(e.props.bend*Z2e))return pp(t,e);const o=Nl(t,e),a=j.Med(o.start,o.end),l=j.Sub(o.end,o.start).uni(),c=j.Add(a,l.per().mul(-i)),d=ky(t,e.props.start),h=ky(t,e.props.end),u=o.start.clone(),p=o.end.clone(),y=c.clone();if(j.Equals(u,p))return{isStraight:!0,start:{handle:u,point:u,arrowhead:e.props.arrowheadStart},end:{handle:p,point:p,arrowhead:e.props.arrowheadEnd},middle:y,isValid:!1,length:0};const m=e.props.bend<0,w=m?g6:_ye,S=c_(u,p,y),b=j.Angle(S.center,u),g=j.Angle(S.center,p),x=w(b,g);if(S.length===0||S.size===0||!OC(S.length)||!OC(S.size))return pp(t,e);const k=u.clone(),C=p.clone(),_=y.clone(),E=t.getShapePageTransform(e);let z=0,P=0,A=Dd;if(d&&!d.isExact){const W=be.applyToPoint(E,k),G=be.applyToPoint(E,S.center),J=be.applyToPoint(E,C),ye=be.Inverse(d.transform),Le=be.applyToPoint(ye,W),ne=be.applyToPoint(ye,G),ve=be.applyToPoint(ye,J),{isClosed:Ie}=d,rt=Ie?YC:HC;let Pe,$e=rt(ne,S.radius,d.outline);if($e){const Ce=ne.angle(Le),Je=ne.angle(ve),Ct=w(Ce,Je);$e=$e.filter(Ke=>w(Ce,ne.angle(Ke))<=Ct);const Jt=Ct*.25;$e.sort(Ie?(Ke,He)=>Math.abs(w(Ce,ne.angle(Ke))-Jt)<Math.abs(w(Ce,ne.angle(He))-Jt)?-1:1:(Ke,He)=>w(Ce,ne.angle(Ke))<w(Ce,ne.angle(He))?-1:1),Pe=$e[0]??(Ie?void 0:Le)}else Pe=Ie?void 0:Le;if(Pe&&(k.setTo(t.getPointInShapeSpace(e,be.applyToPoint(d.transform,Pe))),d.didIntersect=!0,s!=="none")){const Ce=za[e.props.size]/2+("size"in d.shape.props?za[d.shape.props.size]/2:0);z=Cy+Ce,A+=Ce}}if(h&&!h.isExact){const W=be.applyToPoint(E,k),G=be.applyToPoint(E,C),J=be.applyToPoint(E,S.center),ye=be.Inverse(h.transform),Le=be.applyToPoint(ye,W),ne=be.applyToPoint(ye,J),ve=be.applyToPoint(ye,G),Ie=h.isClosed,rt=Ie?YC:HC;let Pe,$e=rt(ne,S.radius,h.outline);if($e){const Ce=ne.angle(Le),Je=ne.angle(ve),Ct=w(Ce,Je),Jt=Ct*.75;$e=$e.filter(Ke=>w(Ce,ne.angle(Ke))<=Ct),$e.sort(Ie?(Ke,He)=>Math.abs(w(Ce,ne.angle(Ke))-Jt)<Math.abs(w(Ce,ne.angle(He))-Jt)?-1:1:(Ke,He)=>w(Ce,ne.angle(Ke))<w(Ce,ne.angle(He))?-1:1),$e[0]?Pe=$e[0]:Pe=Ie?void 0:ve}else Pe=Ie?void 0:ve;if(Pe&&(C.setTo(t.getPointInShapeSpace(e,be.applyToPoint(h.transform,Pe))),h.didIntersect=!0,r!=="none")){const Ce=za[e.props.size]/2+("size"in h.shape.props?za[h.shape.props.size]/2:0);P=Cy+Ce,A+=Ce}}let N=j.Angle(S.center,k),L=j.Angle(S.center,C),M=w(N,L),q=M*S.radius;const D=k.clone(),X=C.clone();if(z!==0){const W=z/q*(m?1:-1),G=j.FromAngle(N+M*W);D.setTo(S.center).add(G.mul(S.radius))}if(P!==0){const W=P/q*(m?-1:1),G=j.FromAngle(L+M*W);X.setTo(S.center).add(G.mul(S.radius))}if(j.Dist(D,X)<A&&(z!==0&&P!==0?(z*=-1.5,P*=-1.5):z!==0?z*=-2:P!==0&&(P*=-2)),z!==0){const W=z/q*(m?1:-1),G=j.FromAngle(N+M*W);k.setTo(S.center).add(G.mul(S.radius))}if(P!==0){const W=P/q*(m?-1:1),G=j.FromAngle(L+M*W);C.setTo(S.center).add(G.mul(S.radius))}if(d&&h&&!d.isExact&&!h.isExact){N=j.Angle(S.center,k),L=j.Angle(S.center,C),M=w(N,L),q=M*S.radius;const W=S6(t,d.shape.id,h.shape.id);if(W==="double-bound"&&q<30)k.setTo(u),C.setTo(p),_.setTo(y);else if(W==="safe"&&(d&&!d.didIntersect&&k.setTo(u),h&&!h.didIntersect||w(b,N)>w(b,L))){const G=Math.min(.9,Dd/q)*(m?1:-1),J=j.FromAngle(N+M*G);C.setTo(S.center).add(J.mul(S.radius))}}Q2e(S.center,S.radius,k,C,_,x,m),k.equals(C)&&(k.setTo(_.clone().addXY(1,1)),C.setTo(_.clone().subXY(1,1))),u.setTo(k),p.setTo(C),y.setTo(_);const K=c_(u,p,y);return{isStraight:!1,start:{point:u,handle:o.start,arrowhead:e.props.arrowheadStart},end:{point:p,handle:o.end,arrowhead:e.props.arrowheadEnd},middle:y,handleArc:S,bodyArc:K,isValid:K.length!==0&&isFinite(K.center.x)&&isFinite(K.center.y)}}function c_(t,e,n){const r=-2*(t.x*(e.y-n.y)-t.y*(e.x-n.x)+e.x*n.y-n.x*e.y),s={x:((t.x*t.x+t.y*t.y)*(n.y-e.y)+(e.x*e.x+e.y*e.y)*(t.y-n.y)+(n.x*n.x+n.y*n.y)*(e.y-t.y))/r,y:((t.x*t.x+t.y*t.y)*(e.x-n.x)+(e.x*e.x+e.y*e.y)*(n.x-t.x)+(n.x*n.x+n.y*n.y)*(t.x-e.x))/r},i=j.Dist(s,t),o=+j.Clockwise(t,n,e),a=Math.hypot(t.y-e.y,t.x-e.x),l=Math.hypot(e.y-n.y,e.x-n.x),c=Math.hypot(n.y-t.y,n.x-t.x),d=Math.acos((l*l+c*c-a*a)/(2*l*c))*2,h=+(Fh>d),u=(co-d)*(o?1:-1),p=u*i;return{center:s,radius:i,size:u,length:p,largeArcFlag:h,sweepFlag:o}}function Q2e(t,e,n,r,s,i,o){const a=j.Angle(t,n),l=j.Angle(t,r);let c=g6(a,l);o||(c=co-c);const d=.5*(o?1:-1),h=j.FromAngle(a+c*d);if(s.setTo(t).add(h.mul(e)),c>i){s.rotWith(t,Fh);const u=r.clone();r.setTo(n),n.setTo(u)}}const J2e={wheel:"onWheel",pointer_down:"onPointerDown",pointer_move:"onPointerMove",pointer_up:"onPointerUp",right_click:"onRightClick",middle_click:"onMiddleClick",key_down:"onKeyDown",key_up:"onKeyUp",key_repeat:"onKeyRepeat",cancel:"onCancel",complete:"onComplete",interrupt:"onInterrupt",double_click:"onDoubleClick",triple_click:"onTripleClick",quadruple_click:"onQuadrupleClick"};class d2{constructor(e,n){this.editor=e,this.transition=(o,a={})=>{var d;const l=o.split(".");let c=this;for(let h=0;h<l.length;h++){const u=l[h],p=c.getCurrent(),y=(d=c.children)==null?void 0:d[u];if(!y)throw Error(`${c.id} - no child state exists with the id ${u}.`);if((p==null?void 0:p.id)!==y.id&&(p==null||p.exit(a,u),c._current.set(y),y.enter(a,(p==null?void 0:p.id)||"initial"),!y.getIsActive()))break;c=y}return this},this.handleEvent=o=>{var c;const a=J2e[o.name],l=this.getCurrent();(c=this[a])==null||c.call(this,o),this.getCurrent()===l&&this.getIsActive()&&(l==null||l.handleEvent(o))},this.enter=(o,a)=>{var l;if(this._isActive.set(!0),(l=this.onEnter)==null||l.call(this,o,a),this.onTick&&this.editor.on("tick",this.onTick),this.children&&this.initial&&this.getIsActive()){const c=this.children[this.initial];this._current.set(c),c.enter(o,a)}},this.exit=(o,a)=>{var l,c;this._isActive.set(!1),this.onTick&&this.editor.off("tick",this.onTick),(l=this.onExit)==null||l.call(this,o,a),this.getIsActive()||(c=this.getCurrent())==null||c.exit(o,a)},this._currentToolIdMask=Os("curent tool id mask",void 0);const{id:r,children:s,initial:i}=this.constructor;this.id=r,this._isActive=Os("toolIsActive"+this.id,!1),this._current=Os("toolState"+this.id,void 0),this._path=ao("toolPath"+this.id,()=>{const o=this.getCurrent();return this.id+(o?`.${o.getPath()}`:"")}),this.parent=n??{},this.parent?s&&i?(this.type="branch",this.initial=i,this.children=Object.fromEntries(s().map(o=>[o.id,new o(this.editor,this)])),this._current.set(this.children[this.initial])):this.type="leaf":(this.type="root",s&&i&&(this.initial=i,this.children=Object.fromEntries(s().map(o=>[o.id,new o(this.editor,this)])),this._current.set(this.children[this.initial])))}getPath(){return this._path.get()}getCurrent(){return this._current.get()}getIsActive(){return this._isActive.get()}getCurrentToolIdMask(){return this._currentToolIdMask.get()}setCurrentToolIdMask(e){this._currentToolIdMask.set(e)}}class h2 extends d2{constructor(){super(...arguments),this.onKeyDown=e=>{var n;switch(e.code){case"KeyZ":{if(!(e.shiftKey||e.ctrlKey)){const r=this.getCurrent();r&&((n=r.getCurrent())==null?void 0:n.id)==="idle"&&this.children.zoom&&this.editor.setCurrentTool("zoom",{...e,onInteractionEnd:r.id})}break}}}}}h2.id="root";h2.initial="";h2.children=()=>[];class exe extends EI.EventEmitter{constructor({store:e,user:n,shapeUtils:r,tools:s,getContainer:i,initialState:o,inferDarkMode:a}){super(),this.disposables=new Set,this._tickManager=new H2e(this),this.history=new q2e(this,g=>{this.annotateError(g,{origin:"history.batch",willCrashApp:!0}),this.crash(g)}),this._crashingError=null,this._updateInstanceState=this.history.createCommand("updateInstanceState",(g,x)=>{const k=this.store.get(this.getInstanceState().id),C={...k,...g};return{data:{prev:k,next:C},ephemeral:!1,squashing:!1,...x}},{do:({next:g})=>{this.store.put([g])},undo:({prev:g})=>{this.store.put([g])},squash({prev:g},{next:x}){return{prev:g,next:x}}}),this._isChangingStyleTimeout=-1,this.setCursor=g=>(this.updateInstanceState({cursor:{...this.getInstanceState().cursor,...g}},{ephemeral:!0}),this),this._setInstancePageState=this.history.createCommand("setInstancePageState",(g,x)=>({data:{prev:this.store.get(g.id??this.getCurrentPageState().id),partial:g},...x}),{do:({prev:g,partial:x})=>{this.store.update(g.id,k=>({...k,...x}))},undo:({prev:g})=>{this.store.update(g.id,()=>g)}}),this._setSelectedShapes=this.history.createCommand("setSelectedShapes",(g,x)=>{const{selectedShapeIds:k}=this.getCurrentPageState(),C=new Set(k);return g.length===C.size&&g.every(_=>C.has(_))?null:{data:{selectedShapeIds:g,prevSelectedShapeIds:k},preservesRedoStack:!0,...x}},{do:({selectedShapeIds:g})=>{this.store.put([{...this.getCurrentPageState(),selectedShapeIds:g}])},undo:({prevSelectedShapeIds:g})=>{this.store.put([{...this.getCurrentPageState(),selectedShapeIds:g}])},squash({prevSelectedShapeIds:g},{selectedShapeIds:x}){return{selectedShapeIds:x,prevSelectedShapeIds:g}}}),this._setFocusedGroupId=this.history.createCommand("setFocusedGroupId",g=>{const x=this.getCurrentPageState().focusedGroupId;if(x!==g)return{data:{prev:x,next:g},preservesRedoStack:!0,squashing:!0}},{do:({next:g})=>{this.store.update(this.getCurrentPageState().id,x=>({...x,focusedGroupId:g}))},undo:({prev:g})=>{this.store.update(this.getCurrentPageState().id,x=>({...x,focusedGroupId:g}))},squash({prev:g},{next:x}){return{prev:g,next:x}}}),this._cameraOptions=Os("camera options",jye),this._viewportAnimation=null,this._willSetInitialBounds=!0,this._cameraState=Os("camera state","idle"),this._cameraStateTimeoutRemaining=0,this._lastUpdateRenderingBoundsTimestamp=Date.now(),this._decayCameraStateTimeout=g=>{this._cameraStateTimeoutRemaining-=g,this._cameraStateTimeoutRemaining<=0&&(this.off("tick",this._decayCameraStateTimeout),this._cameraState.set("idle"),this.updateRenderingBounds())},this._tickCameraState=()=>{this._cameraStateTimeoutRemaining=Xye;const g=Date.now();this._cameraState.__unsafe__getWithoutCapture()==="idle"?(this._lastUpdateRenderingBoundsTimestamp=g,this._cameraState.set("moving"),this.on("tick",this._decayCameraStateTimeout)):g-this._lastUpdateRenderingBoundsTimestamp>Yye&&this.updateRenderingBounds()},this._renderingBounds=Os("rendering viewport",new Ve),this._renderingBoundsExpanded=Os("rendering viewport expanded",new Ve),this.renderingBoundsMargin=100,this._setCurrentPageId=this.history.createCommand("setCurrentPage",(g,x)=>{if(!this.store.has(g)){console.error("Tried to set the current page id to a page that doesn't exist.");return}return this.stopFollowingUser(),{data:{toId:g,fromId:this.getCurrentPageId()},squashing:!0,preservesRedoStack:!0,...x}},{do:({toId:g})=>{if(this.store.has(g)){if(!this.getPageStates().find(x=>x.pageId===g)){const x=Jn.create({id:Jn.createId(g)});this.store.put([x,er.create({id:er.createId(g),pageId:g})])}this.store.put([{...this.getInstanceState(),currentPageId:g}]),this.updateRenderingBounds()}},undo:({fromId:g})=>{this.store.has(g)&&(this.store.put([{...this.getInstanceState(),currentPageId:g}]),this.updateRenderingBounds())},squash:({fromId:g},{toId:x})=>({toId:x,fromId:g})}),this._updatePage=this.history.createCommand("updatePage",(g,x)=>{if(this.getInstanceState().isReadonly)return null;const k=this.getPage(g.id);return k?{data:{prev:k,partial:g},...x}:null},{do:({partial:g})=>{this.store.update(g.id,x=>({...x,...g}))},undo:({prev:g,partial:x})=>{this.store.update(x.id,()=>g)},squash(g,x){return{prev:{...g.prev,...x.prev},partial:x.partial}}}),this._createPage=this.history.createCommand("createPage",g=>{if(this.getInstanceState().isReadonly||this.getPages().length>=qC)return null;const x=this.getPages(),k=k2e(g.name??"Page 1",x.map(P=>P.name));let C=g.index;(!C||x.some(P=>P.index===C))&&(C=hd(x[x.length-1].index));const _=lf.create({meta:{},...g,name:k,index:C}),E=Jn.create({id:Jn.createId(_.id)}),z=er.create({id:er.createId(_.id),pageId:_.id});return{data:{newPage:_,newTabPageState:z,newCamera:E}}},{do:({newPage:g,newTabPageState:x,newCamera:k})=>{this.store.put([g,k,x])},undo:({newPage:g,newTabPageState:x,newCamera:k})=>{this.getPages().length!==1&&this.store.remove([x.id,g.id,k.id])}}),this._deletePage=this.history.createCommand("delete_page",g=>{if(this.getInstanceState().isReadonly)return null;const x=this.getPages();if(x.length===1)return null;const k=this.getPage(g),C=this.getPageStates().filter(_=>_.pageId===g);if(!k)return null;if(g===this.getCurrentPageId()){const _=x.findIndex(z=>z.id===g),E=x[_-1]??x[_+1];this.setCurrentPage(E.id)}return{data:{id:g,deletedPage:k,deletedPageStates:C}}},{do:({deletedPage:g,deletedPageStates:x})=>{const k=this.getPages();if(k.length!==1){if(g.id===this.getCurrentPageId()){const C=k.findIndex(E=>E.id===g.id),_=k[C-1]??k[C+1];this.setCurrentPage(_.id)}this.store.remove(x.map(C=>C.id)),this.store.remove([g.id]),this.updateRenderingBounds()}},undo:({deletedPage:g,deletedPageStates:x})=>{this.store.put([g]),this.store.put(x),this.updateRenderingBounds()}}),this._createAssets=this.history.createCommand("createAssets",g=>this.getInstanceState().isReadonly||g.length<=0?null:{data:{assets:g}},{do:({assets:g})=>{this.store.put(g)},undo:({assets:g})=>{this.store.remove(g.map(x=>x.id))}}),this._updateAssets=this.history.createCommand("updateAssets",g=>this.getInstanceState().isReadonly||g.length<=0?void 0:{data:{snapshots:{},assets:g}},{do:({assets:g,snapshots:x})=>{this.store.put(g.map(k=>{const C=this.store.get(k.id);return x[k.id]=C,{...C,...k}}))},undo:({snapshots:g})=>{this.store.put(Object.values(g))}}),this._deleteAssets=this.history.createCommand("deleteAssets",g=>{if(this.getInstanceState().isReadonly||g.length<=0)return;const x=qe(g.map(k=>this.store.get(k)));return{data:{ids:g,prev:x}}},{do:({ids:g})=>{this.store.remove(g)},undo:({prev:g})=>{this.store.put(g)}}),this._childIdsCache=new b2e,this._createShapes=this.history.createCommand("createShapes",g=>{if(this.getInstanceState().isReadonly||g.length<=0)return null;const x=this.getCurrentPageShapeIds();if(g.length+x.size>xo){m0(this);return}return g.length===0?null:{data:{currentPageId:this.getCurrentPageId(),partials:g.map(C=>C.id?C:{...C,id:Hl()})}}},{do:({partials:g})=>{var E,z;const x=this.getFocusedGroupId(),k=this.getCurrentPageShapesSorted();g=g.map(P=>{if(!P.parentId||!(this.store.has(P.parentId)||g.some(A=>A.id===P.parentId))){let A=this.getFocusedGroupId();for(let L=k.length-1;L>=0;L--){const M=k[L];if(this.getShapeUtil(M).canReceiveNewChildrenOfType(M,P.type)&&this.isPointInShape(M,{x:P.x??0,y:P.y??0},{margin:0,hitInside:!0})){A=M.id;break}}const N=P.parentId;if(A===P.id&&(A=x),A!==N&&(P={...P},P.parentId=A,Ai(A))){const L=this.getPointInShapeSpace(this.getShape(A),{x:P.x??0,y:P.y??0});P.x=L.x,P.y=L.y,P.rotation=-this.getShapePageTransform(A).rotation()+(P.rotation??0)}}return P});const C=new Map,_=[];for(const P of g){const A=this.getShapeUtil(P);let N=P.index;if(!N){const D=P.parentId??x;C.has(D)||C.set(D,this.getHighestIndexForParent(D)),N=C.get(D),C.set(D,hd(N))}const L=A.getDefaultProps();for(const[D,X]of this.styleProps[P.type])L[X]=this.getStyleForNextShape(D);let M=this.store.schema.types.shape.create({...P,index:N,opacity:P.opacity??this.getInstanceState().opacityForNextShape,parentId:P.parentId??x,props:"props"in P?{...L,...P.props}:L});if(M.index===void 0)throw Error("no index!");const q=(z=(E=this.getShapeUtil(M)).onBeforeCreate)==null?void 0:z.call(E,M);q&&(M=q),_.push(M)}_.forEach(P=>{P.meta={...this.getInitialMetaForShape(P),...P.meta}}),this.store.put(_)},undo:({partials:g})=>{this.store.remove(g.map(x=>x.id))}}),this.animatingShapes=new Map,this._updateShapes=this.history.createCommand("updateShapes",(g,x)=>{if(this.getInstanceState().isReadonly)return null;const k=qe(g),C=Object.fromEntries(qe(k.map(({id:z})=>this.getShape(z))).map(z=>[z.id,z]));if(k.length<=0)return null;const _=qe(k.map(z=>{const P=C[z.id];if(!P)return null;let A=null;for(const[N,L]of Object.entries(z))if(L!==void 0)switch(N){case"id":case"type":continue;default:if(L!==P[N])if(A||(A={...P}),N==="props"){const M={...P.props};for(const[q,D]of Object.entries(L))D!==void 0&&(M[q]=D);A.props=M}else if(N==="meta"){const M={...P.meta};for(const[q,D]of Object.entries(L))D!==void 0&&(M[q]=D);A.meta=M}else A[N]=L}return A??P})),E=Object.fromEntries(_.map(z=>[z.id,z]));return{data:{snapshots:C,updates:E},...x}},{do:({updates:g})=>{var k,C;const x=Object.values(g);for(let _=0;_<x.length;_++){const E=x[_],z=this.store.get(E.id);if(!z)continue;const P=(C=(k=this.getShapeUtil(E)).onBeforeUpdate)==null?void 0:C.call(k,z,E);P&&(x[_]=P)}this.store.put(x)},undo:({snapshots:g})=>{this.store.put(Object.values(g))},squash(g,x){return{snapshots:{...x.snapshots,...g.snapshots},updates:{...g.updates,...x.updates}}}}),this._deleteShapes=this.history.createCommand("delete_shapes",g=>{if(this.getInstanceState().isReadonly||g.length===0)return null;const x=[...this.getCurrentPageState().selectedShapeIds],k=new Set(g);for(const P of g)this.visitDescendants(P,A=>{k.add(A)});const C=[...k],_=this._getArrowBindingsIndex().get(),E=qe(C.flatMap(P=>{const A=this.getShape(P),N=_[P];return N&&N.length>0?N.map(({arrowId:L})=>this.getShape(L)).concat(A):A})),z=x.filter(P=>!k.has(P));return{data:{deletedIds:C,snapshots:E,prevSelectedShapeIds:x,postSelectedShapeIds:z}}},{do:({deletedIds:g,postSelectedShapeIds:x})=>{this.store.remove(g),this.store.update(this.getCurrentPageState().id,k=>({...k,selectedShapeIds:x}))},undo:({snapshots:g,prevSelectedShapeIds:x})=>{this.store.put(g),this.store.update(this.getCurrentPageState().id,k=>({...k,selectedShapeIds:x}))}}),this._selectionSharedStyles=ao("_selectionSharedStyles",()=>{const g=this.getSelectedShapes(),x=new e_;for(const k of g)this._extractSharedStyles(k,x);return x}),this.externalAssetContentHandlers={file:null,url:null},this.externalContentHandlers={text:null,files:null,embed:null,"svg-text":null,url:null},this.inputs={originPagePoint:new j,originScreenPoint:new j,previousPagePoint:new j,previousScreenPoint:new j,currentPagePoint:new j,currentScreenPoint:new j,keys:new Set,buttons:new Set,isPen:!1,shiftKey:!1,ctrlKey:!1,altKey:!1,isDragging:!1,isPointing:!1,isPinching:!1,isEditing:!1,isPanning:!1,pointerVelocity:new j},this._clickManager=new $2e(this),this._prevCursor="default",this._shiftKeyTimeout=-1,this._setShiftKeyTimeout=()=>{this.inputs.shiftKey=!1,this.dispatch({type:"keyboard",name:"key_up",key:"Shift",shiftKey:this.inputs.shiftKey,ctrlKey:this.inputs.ctrlKey,altKey:this.inputs.altKey,code:"ShiftLeft"})},this._altKeyTimeout=-1,this._setAltKeyTimeout=()=>{this.inputs.altKey=!1,this.dispatch({type:"keyboard",name:"key_up",key:"Alt",shiftKey:this.inputs.shiftKey,ctrlKey:this.inputs.ctrlKey,altKey:this.inputs.altKey,code:"AltLeft"})},this._ctrlKeyTimeout=-1,this._setCtrlKeyTimeout=()=>{this.inputs.ctrlKey=!1,this.dispatch({type:"keyboard",name:"key_up",key:"Ctrl",shiftKey:this.inputs.shiftKey,ctrlKey:this.inputs.ctrlKey,altKey:this.inputs.altKey,code:"ControlLeft"})},this._restoreToolId="select",this._pinchStart=1,this._didPinch=!1,this._selectedShapeIdsAtPointerDown=[],this.capturedPointerId=null,this.dispatch=g=>{if(this.getCrashingError())return this;const{inputs:x}=this,{type:k}=g;return this.batch(()=>{if(g.type==="misc"){(g.name==="cancel"||g.name==="complete")&&(this.inputs.isDragging=!1,this.inputs.isPanning&&(this.inputs.isPanning=!1,this.updateInstanceState({cursor:{type:this._prevCursor,rotation:0}}))),this.root.handleEvent(g);return}g.shiftKey?(clearInterval(this._shiftKeyTimeout),this._shiftKeyTimeout=-1,x.shiftKey=!0):!g.shiftKey&&x.shiftKey&&this._shiftKeyTimeout===-1&&(this._shiftKeyTimeout=setTimeout(this._setShiftKeyTimeout,150)),g.altKey?(clearInterval(this._altKeyTimeout),this._altKeyTimeout=-1,x.altKey=!0):!g.altKey&&x.altKey&&this._altKeyTimeout===-1&&(this._altKeyTimeout=setTimeout(this._setAltKeyTimeout,150)),g.ctrlKey?(clearInterval(this._ctrlKeyTimeout),this._ctrlKeyTimeout=-1,x.ctrlKey=!0):!g.ctrlKey&&x.ctrlKey&&this._ctrlKeyTimeout===-1&&(this._ctrlKeyTimeout=setTimeout(this._setCtrlKeyTimeout,150));const{originPagePoint:C,originScreenPoint:_,currentPagePoint:E,currentScreenPoint:z}=x;switch(x.isPointing||(x.isDragging=!1),k){case"pinch":{if(!this.getInstanceState().canMoveCamera)return;switch(this._updateInputsFromEvent(g),g.name){case"pinch_start":{if(x.isPinching)return;x.isEditing||(this._pinchStart=this.getCamera().z,this._selectedShapeIdsAtPointerDown.length||(this._selectedShapeIdsAtPointerDown=this.getSelectedShapeIds()),this._didPinch=!0,x.isPinching=!0,this.interrupt());return}case"pinch":{if(!x.isPinching)return;const{point:{x:P,y:A,z:N=1},delta:{x:L,y:M}}=g,{x:q,y:D,z:X}=this.getCamera(),O=Math.min(Nu,Math.max(Au,N));this.setCamera({x:q+L/X-P/X+P/O,y:D+M/X-A/X+A/O,z:O});return}case"pinch_end":{if(!x.isPinching)return this;x.isPinching=!1;const{_selectedShapeIdsAtPointerDown:P}=this;this.setSelectedShapes(this._selectedShapeIdsAtPointerDown,{squashing:!0}),this._selectedShapeIdsAtPointerDown=[],this._didPinch&&(this._didPinch=!1,requestAnimationFrame(()=>{this._didPinch||this.setSelectedShapes(P,{squashing:!0})}));return}}}case"wheel":{if(!this.getInstanceState().canMoveCamera)return;if(this._updateInputsFromEvent(g),!this.getIsMenuOpen()){if(x.ctrlKey){const{x:P,y:A}=this.inputs.currentScreenPoint,{x:N,y:L,z:M}=this.getCamera(),q=Math.min(Nu,Math.max(Au,M+(g.delta.z??0)*M));this.setCamera({x:N+(P/q-P)-(P/M-P),y:L+(A/q-A)-(A/M-A),z:q});return}this.pan(g.delta),!x.isDragging&&x.isPointing&&C.dist(E)>(this.getInstanceState().isCoarsePointer?H3:G3)/this.getZoomLevel()&&(x.isDragging=!0)}break}case"pointer":{if(x.isPinching)return;this._updateInputsFromEvent(g);const{isPen:P}=g;switch(g.name){case"pointer_down":{if(this._selectedShapeIdsAtPointerDown=this.getSelectedShapeIds(),g.button===0&&(this.capturedPointerId=g.pointerId),x.buttons.add(g.button),x.isPointing=!0,x.isDragging=!1,this.getInstanceState().isPenMode){if(!P)return}else P&&this.updateInstanceState({isPenMode:!0});if(g.button===5?(this._restoreToolId=this.getCurrentToolId(),this.complete(),this.setCurrentTool("eraser")):g.button===1&&(this.inputs.isPanning||(this._prevCursor=this.getInstanceState().cursor.type),this.inputs.isPanning=!0),this.inputs.isPanning)return this.stopCameraAnimation(),this.updateInstanceState({cursor:{type:"grabbing",rotation:0}}),this;_.setTo(z),C.setTo(E);break}case"pointer_move":{if(!P&&this.getInstanceState().isPenMode)return;if(this.inputs.isPanning&&this.inputs.isPointing){const{currentScreenPoint:A,previousScreenPoint:N}=this.inputs;this.pan(j.Sub(A,N));return}!x.isDragging&&x.isPointing&&C.dist(E)>(this.getInstanceState().isCoarsePointer?H3:G3)/this.getZoomLevel()&&(x.isDragging=!0);break}case"pointer_up":{if(x.buttons.delete(g.button),x.isPointing=!1,x.isDragging=!1,this.getIsMenuOpen()||!P&&this.getInstanceState().isPenMode)return;this.capturedPointerId===g.pointerId&&(this.capturedPointerId=null,g.button=0),x.isPanning?g.button===1?this.inputs.keys.has(" ")?(this.slideCamera({speed:Math.min(2,this.inputs.pointerVelocity.len()),direction:this.inputs.pointerVelocity,friction:E5}),this.updateInstanceState({cursor:{type:"grab",rotation:0}})):(x.isPanning=!1,this.slideCamera({speed:Math.min(2,this.inputs.pointerVelocity.len()),direction:this.inputs.pointerVelocity,friction:E5}),this.updateInstanceState({cursor:{type:this._prevCursor,rotation:0}})):g.button===0&&(this.slideCamera({speed:Math.min(2,this.inputs.pointerVelocity.len()),direction:this.inputs.pointerVelocity,friction:E5}),this.updateInstanceState({cursor:{type:"grab",rotation:0}})):g.button===5&&(this.complete(),this.setCurrentTool(this._restoreToolId));break}}break}case"keyboard":{switch(g.key==="ShiftRight"&&(g.key="ShiftLeft"),g.key==="AltRight"&&(g.key="AltLeft"),g.code==="ControlRight"&&(g.code="ControlLeft"),g.name){case"key_down":{x.keys.add(g.code),!g.ctrlKey&&g.code==="Space"&&(this.inputs.isPanning||(this._prevCursor=this.getInstanceState().cursor.type),this.inputs.isPanning=!0,this.updateInstanceState({cursor:{type:this.inputs.isPointing?"grabbing":"grab",rotation:0}}));break}case"key_up":{x.keys.delete(g.code),g.code==="Space"&&!this.inputs.buttons.has(1)&&(this.inputs.isPanning=!1,this.updateInstanceState({cursor:{type:this._prevCursor,rotation:0}}));break}}break}}if(g.type==="pointer"&&(g.button===1?g.name="middle_click":g.button===2&&(g.name="right_click"),g.isPen===this.getInstanceState().isPenMode))switch(g.name){case"pointer_down":{const P=this._clickManager.transformPointerDownEvent(g);if(g.name!==P.name){this.root.handleEvent(g),this.emit("event",g),this.root.handleEvent(P),this.emit("event",P);return}break}case"pointer_up":{const P=this._clickManager.transformPointerUpEvent(g);if(g.name!==P.name){this.root.handleEvent(g),this.emit("event",g),this.root.handleEvent(P),this.emit("event",P);return}break}case"pointer_move":{this._clickManager.handleMove();break}}this.root.handleEvent(g),this.emit("event",g)}),this},this.store=e,this.snaps=new W2e(this),this.user=new G2e(n??GR(),a??!1),this.getContainer=i??(()=>document.body),this.textMeasure=new Y2e(this);class l extends h2{}l.initial=o??"",this.root=new l(this),this.root.children={};const c=t$(r),d=new Set(Object.keys(e.schema.types.shape.migrations.subTypeMigrations));for(const g of c){if(!d.has(g.type))throw Error(`Editor and store have different shapes: "${g.type}" was passed into the editor but not the schema`);d.delete(g.type)}if(d.size>0)throw Error(`Editor and store have different shapes: "${[...d][0]}" is present in the store schema but not provided to the editor`);const h={},u={},p=new Map;for(const g of c){const x=new g(this);h[g.type]=x;const k=bR(g.props??{});u[g.type]=k;for(const C of k.keys())if(!p.has(C.id))p.set(C.id,C);else if(p.get(C.id)!==C)throw Error(`Multiple style props with id "${C.id}" in use. Style prop IDs must be unique.`)}this.shapeUtils=h,this.styleProps=u;for(const g of[...s]){if(PR(this.root.children,g.id))throw Error(`Can't override tool with id "${g.id}"`);this.root.children[g.id]=new g(this,this.root)}this.environment=new O2e(this),this.scribbles=new B2e(this);const y=new Set,m=g=>{var X;const x=this.getShape(g);if(!x)return;const{start:k,end:C}=x.props,_=k.type==="binding"?this.getShape(k.boundShapeId):void 0,E=C.type==="binding"?this.getShape(C.boundShapeId):void 0,z=this.getAncestorPageId(x);if(!z)return;let P;if(_&&E)P=this.findCommonAncestor([_,E])??z;else if(_||E){const O=(X=_||E)==null?void 0:X.parentId;O&&O===x.parentId?P=x.parentId:P=z}else return;P&&P!==x.parentId&&this.reparentShapes([g],P);const A=this.getShape(g);if(!A)throw Error("no reparented arrow");const N=this.getShapeNearestSibling(A,_),L=this.getShapeNearestSibling(A,E);let M;if(N&&L)M=N.index>L.index?N:L;else if(N&&!L)M=N;else if(L&&!N)M=L;else return;let q;const D=this.getSortedChildIdsForParent(M.parentId).map(O=>this.getShape(O)).filter(O=>O.index>M.index);if(D.length){const O=D.find(K=>K.type!=="arrow");if(A.index>M.index&&(!O||A.index<O.index))return;q=z5(M.index,D[0].index)}else q=hd(M.index);q!==A.index&&this.updateShapes([{id:g,type:"arrow",index:q}])},w=(g,x)=>{const{x:k,y:C}=Nl(this,g)[x];this.store.put([{...g,props:{...g.props,[x]:{type:"point",x:k,y:C}}}])},S=g=>{for(const x of["start","end"]){const k=g.props[x];if(k.type!=="binding")continue;const C=this.getShape(k.boundShapeId),_=this.getAncestorPageId(g)===this.getAncestorPageId(C);(!C||!_)&&w(g,x)}m(g.id)},b=(g,x)=>{let k=null;const C=g.selectedShapeIds.filter(z=>!x.has(z));C.length!==g.selectedShapeIds.length&&(k||(k={...g}),k.selectedShapeIds=C);const _=g.erasingShapeIds.filter(z=>!x.has(z));_.length!==g.erasingShapeIds.length&&(k||(k={...g}),k.erasingShapeIds=_),g.hoveredShapeId&&x.has(g.hoveredShapeId)&&(k||(k={...g}),k.hoveredShapeId=null),g.editingShapeId&&x.has(g.editingShapeId)&&(k||(k={...g}),k.editingShapeId=null);const E=g.hintingShapeIds.filter(z=>!x.has(z));return E.length!==g.hintingShapeIds.length&&(k||(k={...g}),k.hintingShapeIds=E),g.focusedGroupId&&x.has(g.focusedGroupId)&&(k||(k={...g}),k.focusedGroupId=null),k};if(this.sideEffects=new F2e(this),this.sideEffects.registerBatchCompleteHandler(()=>{var g;for(const x of y){y.delete(x);const k=this.getShape(x);if(!k)continue;const C=this.getShapeUtil(k),_=(g=C.onChildrenChange)==null?void 0:g.call(C,k);_!=null&&_.length&&this.updateShapes(_,{squashing:!0})}this.emit("update")}),this.sideEffects.registerBeforeDeleteHandler("shape",g=>{g.parentId&&Ai(g.parentId)&&y.add(g.parentId);const x=this._getArrowBindingsIndex().get()[g.id];if(x!=null&&x.length)for(const{arrowId:_,handleId:E}of x){const z=this.getShape(_);z&&w(z,E)}const k=new Set([g.id]),C=qe(this.getPageStates().map(_=>b(_,k)));C.length&&this.store.put(C)}),this.sideEffects.registerBeforeDeleteHandler("page",g=>{var _;if(this.getInstanceState().currentPageId!==g.id)return;const x=(_=this.getPages().find(E=>E.id!==g.id))==null?void 0:_.id;if(!x)return;this.store.put([{...this.getInstanceState(),currentPageId:x}]);const k=Jn.createId(g.id),C=er.createId(g.id);this.store.remove([k,C])}),this.sideEffects.registerAfterChangeHandler("shape",(g,x)=>{if(this.isShapeOfType(x,"arrow")&&S(x),g.parentId!==x.parentId){const k=C=>{const _=this._getArrowBindingsIndex().get()[C];if(_!=null&&_.length)for(const E of _)m(E.arrowId)};k(x.id),this.visitDescendants(x.id,k)}if(g.parentId!==x.parentId&&Hr(x.parentId)){const k=new Set([g.id]);this.visitDescendants(g.id,C=>{k.add(C)});for(const C of this.getPageStates()){if(C.pageId===x.parentId)continue;const _=b(C,k);_&&this.store.put([_])}}g.parentId&&Ai(g.parentId)&&y.add(g.parentId),x.parentId!==g.parentId&&Ai(x.parentId)&&y.add(x.parentId)}),this.sideEffects.registerAfterChangeHandler("instance_page_state",(g,x)=>{if((g==null?void 0:g.selectedShapeIds)!==(x==null?void 0:x.selectedShapeIds)){const k=x.selectedShapeIds.filter(_=>{var z,P;let E=(z=this.getShape(_))==null?void 0:z.parentId;for(;Ai(E);){if(x.selectedShapeIds.includes(E))return!1;E=(P=this.getShape(E))==null?void 0:P.parentId}return!0});let C=null;if(k.length>0){const _=this.findCommonAncestor(qe(k.map(E=>this.getShape(E))),E=>this.isShapeOfType(E,"group"));_&&(C=_)}else x!=null&&x.focusedGroupId&&(C=x.focusedGroupId);(k.length!==x.selectedShapeIds.length||C!==x.focusedGroupId)&&this.store.put([{...x,selectedShapeIds:k,focusedGroupId:C??null}])}}),this.sideEffects.registerAfterCreateHandler("shape",g=>{this.isShapeOfType(g,"arrow")&&S(g)}),this.sideEffects.registerAfterCreateHandler("page",g=>{const x=Jn.createId(g.id),k=er.createId(g.id);this.store.has(x)||this.store.put([Jn.create({id:x})]),this.store.has(k)||this.store.put([er.create({id:k,pageId:g.id})])}),this._currentPageShapeIds=j2e(this.store,()=>this.getCurrentPageId()),this._parentIdsToChildIds=M2e(this.store),this.disposables.add(this.store.listen(g=>{this.emit("change",g)})),this.store.ensureStoreIsUsable(),this._setInstancePageState({editingShapeId:null,hoveredShapeId:null,erasingShapeIds:[]},{ephemeral:!0}),o&&this.root.children[o]===void 0)throw Error(`No state found for initialState "${o}".`);this.root.enter(void 0,"initial"),this.getInstanceState().followingUserId&&this.stopFollowingUser(),this.updateRenderingBounds(),requestAnimationFrame(()=>{this._tickManager.start()})}dispose(){this.disposables.forEach(e=>e()),this.disposables.clear()}getShapeUtil(e){const n=typeof e=="string"?e:e.type,r=C5(this.shapeUtils,n);return d6(r,`No shape util found for type "${n}"`),r}undo(){return this.history.undo(),this}getCanUndo(){return this.history.getNumUndos()>0}redo(){return this.history.redo(),this}getCanRedo(){return this.history.getNumRedos()>0}mark(e,n,r){return this.history.mark(e,n,r),this}bail(){return this.history.bail(),this}bailToMark(e){return this.history.bailToMark(e),this}batch(e){return this.history.batch(e),this}_getArrowBindingsIndex(){return L2e(this)}getArrowsBoundTo(e){return this._getArrowBindingsIndex().get()[e]||qa}getArrowInfoCache(){return this.store.createComputedCache("arrow infoCache",e=>Lu(e)?pp(this,e):N5(this,e))}getArrowInfo(e){const n=typeof e=="string"?e:e.id;return this.getArrowInfoCache().get(n)}annotateError(e,{origin:n,willCrashApp:r,tags:s,extras:i}){const o=this.createErrorAnnotations(n,r);return IR(e,{tags:{...o.tags,...s},extras:{...o.extras,...i}}),r&&this.store.markAsPossiblyCorrupted(),this}createErrorAnnotations(e,n){try{const r=this.getEditingShapeId();return{tags:{origin:e,willCrashApp:n},extras:{activeStateNode:this.root.getPath(),selectedShapes:this.getSelectedShapes(),editingShape:r?this.getShape(r):void 0,inputs:this.inputs}}}catch{return{tags:{origin:e,willCrashApp:n},extras:{}}}}getCrashingError(){return this._crashingError}crash(e){return this._crashingError=e,this.store.markAsPossiblyCorrupted(),this.emit("crash",{error:e}),this}getPath(){return this.root.getPath().split("root.")[1]}isIn(e){const n=e.split(".").reverse();let r=this.root;for(;n.length>0;){const s=n.pop();if(!s)return!0;const i=r.getCurrent();if((i==null?void 0:i.id)===s){if(n.length===0)return!0;r=i;continue}else return!1}return!1}isInAny(...e){return e.some(n=>this.isIn(n))}setCurrentTool(e,n={}){return this.root.transition(e,n),this}getCurrentTool(){return this.root.getCurrent()}getCurrentToolId(){const e=this.getCurrentTool();return e?e.getCurrentToolIdMask()??e.id:""}getStateDescendant(e){var s;const n=e.split(".").reverse();let r=this.root;for(;n.length>0;){const i=n.pop();if(!i)return r;const o=(s=r.children)==null?void 0:s[i];if(!o)return;r=o}return r}getDocumentSettings(){return this.store.get(V3)}updateDocumentSettings(e){return this.store.put([{...this.getDocumentSettings(),...e}]),this}getInstanceState(){return this.store.get(cr)}updateInstanceState(e,n){return this._updateInstanceState(e,{ephemeral:!0,squashing:!0,...n}),e.isChangingStyle!==void 0&&(clearTimeout(this._isChangingStyleTimeout),e.isChangingStyle===!0&&(this._isChangingStyleTimeout=setTimeout(()=>{this.updateInstanceState({isChangingStyle:!1})},2e3))),this}getOpenMenus(){return this.getInstanceState().openMenus}addOpenMenu(e){const n=new Set(this.getOpenMenus());return n.has(e)||(n.add(e),this.updateInstanceState({openMenus:[...n]})),this}deleteOpenMenu(e){const n=new Set(this.getOpenMenus());return n.has(e)&&(n.delete(e),this.updateInstanceState({openMenus:[...n]})),this}getIsMenuOpen(){return this.getOpenMenus().length>0}getPageStates(){return this._getPageStatesQuery().get()}_getPageStatesQuery(){return this.store.query.records("instance_page_state")}getCurrentPageState(){return this.store.get(this._getCurrentPageStateId())}_getCurrentPageStateId(){return er.createId(this.getCurrentPageId())}updateCurrentPageState(e,n){return this._setInstancePageState(e,n),this}getSelectedShapeIds(){return this.getCurrentPageState().selectedShapeIds}getSelectedShapes(){const{selectedShapeIds:e}=this.getCurrentPageState();return qe(e.map(n=>this.store.get(n)))}setSelectedShapes(e,n){const r=e.map(s=>typeof s=="string"?s:s.id);return this._setSelectedShapes(r,n),this}isAncestorSelected(e){const n=typeof e=="string"?e:(e==null?void 0:e.id)??null,r=this.getShape(n);if(!r)return!1;const s=this.getSelectedShapeIds();return!!this.findShapeAncestor(r,i=>s.includes(i.id))}select(...e){const n=typeof e[0]=="string"?e:e.map(r=>r.id);return this.setSelectedShapes(n),this}deselect(...e){const n=typeof e[0]=="string"?e:e.map(s=>s.id),r=this.getSelectedShapeIds();return r.length>0&&n.length>0&&this.setSelectedShapes(r.filter(s=>!n.includes(s))),this}selectAll(){const e=this.getSortedChildIdsForParent(this.getCurrentPageId());return e.length<=0?this:(this.setSelectedShapes(this._getUnlockedShapeIds(e)),this)}selectNone(){return this.getSelectedShapeIds().length>0&&this.setSelectedShapes([]),this}getOnlySelectedShape(){const e=this.getSelectedShapes();return e.length===1?e[0]:null}getSelectionPageBounds(){const e=this.getCurrentPageState().selectedShapeIds;return e.length===0?null:Ve.Common(qe(e.map(n=>this.getShapePageBounds(n))))}getSelectionRotation(){const e=this.getSelectedShapeIds();if(e.length===0)return 0;if(e.length===1)return this.getShapePageTransform(this.getSelectedShapeIds()[0]).rotation();const n=e.map(r=>this.getShapePageTransform(r).rotation());return n.every(r=>Math.abs(r-n[0])<Math.PI/180)?this.getShapePageTransform(e[0]).rotation():0}getSelectionRotatedPageBounds(){const e=this.getSelectedShapeIds();if(e.length===0)return;const n=this.getSelectionRotation();if(n===0)return this.getSelectionPageBounds();if(e.length===1){const s=this.getShapeGeometry(e[0]).bounds.clone(),i=this.getShapePageTransform(e[0]);return s.point=i.applyToPoint(s.point),s}const r=Ve.FromPoints(this.getSelectedShapeIds().flatMap(s=>{const i=this.getShapePageTransform(s);return i?i.applyToPoints(this.getShapeGeometry(s).vertices):[]}).map(s=>j.Rot(s,-n)));return r.point=r.point.rot(n),r}getFocusedGroupId(){return this.getCurrentPageState().focusedGroupId??this.getCurrentPageId()}getFocusedGroup(){const e=this.getFocusedGroupId();return e?this.getShape(e):void 0}setFocusedGroup(e){const n=typeof e=="string"?e:(e==null?void 0:e.id)??null;if(n!==null){const r=this.getShape(n);if(!r)throw Error(`Editor.setFocusedGroup: Shape with id ${n} does not exist`);if(!this.isShapeOfType(r,"group"))throw Error(`Editor.setFocusedGroup: Cannot set focused group to shape of type ${r.type}`)}return n===this.getFocusedGroupId()?this:(this._setFocusedGroupId(n),this)}popFocusedGroupId(){const e=this.getFocusedGroup();if(e){const n=this.findShapeAncestor(e,r=>this.isShapeOfType(r,"group"));this.setFocusedGroup((n==null?void 0:n.id)??null),this.select(e.id)}else this.setFocusedGroup(null),this.selectNone();return this}getEditingShapeId(){return this.getCurrentPageState().editingShapeId}getEditingShape(){const e=this.getEditingShapeId();return e?this.getShape(e):void 0}setEditingShape(e){const n=typeof e=="string"?e:(e==null?void 0:e.id)??null;if(n!==this.getEditingShapeId()){if(n){const r=this.getShape(n);if(r&&this.getShapeUtil(r).canEdit(r))return this._setInstancePageState({editingShapeId:n}),this}this._setInstancePageState({editingShapeId:null})}return this}getHoveredShapeId(){return this.getCurrentPageState().hoveredShapeId}getHoveredShape(){const e=this.getHoveredShapeId();return e?this.getShape(e):void 0}setHoveredShape(e){const n=typeof e=="string"?e:(e==null?void 0:e.id)??null;return n===this.getHoveredShapeId()?this:(this.updateCurrentPageState({hoveredShapeId:n},{ephemeral:!0}),this)}getHintingShapeIds(){return this.getCurrentPageState().hintingShapeIds}getHintingShape(){const e=this.getHintingShapeIds();return qe(e.map(n=>this.getShape(n)))}setHintingShapes(e){const n=typeof e[0]=="string"?e:e.map(r=>r.id);return this.updateCurrentPageState({hintingShapeIds:yy(n)},{ephemeral:!0}),this}getErasingShapeIds(){return this.getCurrentPageState().erasingShapeIds}getErasingShapes(){const e=this.getErasingShapeIds();return qe(e.map(n=>this.getShape(n)))}setErasingShapes(e){const n=typeof e[0]=="string"?e:e.map(s=>s.id);n.sort();const r=this.getErasingShapeIds();if(n.length===r.length){for(let s=0;s<n.length;s++)if(n[s]!==r[s]){this._setInstancePageState({erasingShapeIds:n},{ephemeral:!0});break}}else this._setInstancePageState({erasingShapeIds:n},{ephemeral:!0});return this}getCroppingShapeId(){return this.getCurrentPageState().croppingShapeId}setCroppingShape(e){const n=typeof e=="string"?e:(e==null?void 0:e.id)??null;if(n!==this.getCroppingShapeId())if(!n)this.updateCurrentPageState({croppingShapeId:null});else{const r=this.getShape(n),s=this.getShapeUtil(r);r&&s.canCrop(r)&&this.updateCurrentPageState({croppingShapeId:n})}return this}getCameraId(){return Jn.createId(this.getCurrentPageId())}getBaseZoom(){const e=this.getCameraOptions();if(!e.constraints||e.constraints.baseZoom==="default")return 1;const{zx:n,zy:r}=d_(this,e);switch(e.constraints.baseZoom){case"fit-min":return Math.max(n,r);case"fit-max":return Math.min(n,r);case"fit-x":return n;case"fit-y":return r;case"fit-min-100":return Math.min(1,Math.max(n,r));case"fit-max-100":return Math.min(1,Math.min(n,r));case"fit-x-100":return Math.min(1,n);case"fit-y-100":return Math.min(1,r);default:throw xy(e.constraints.baseZoom)}}getCameraOptions(){return this._cameraOptions.get()}getCamera(){return this.store.get(this.getCameraId())}getZoomLevel(){return this.getCamera().z}getInitialZoom(){const e=this.getCameraOptions();if(!e.constraints||e.constraints.initialZoom==="default")return 1;const{zx:n,zy:r}=d_(this,e);switch(e.constraints.initialZoom){case"fit-min":return Math.max(n,r);case"fit-max":return Math.min(n,r);case"fit-x":return n;case"fit-y":return r;case"fit-min-100":return Math.min(1,Math.max(n,r));case"fit-max-100":return Math.min(1,Math.min(n,r));case"fit-x-100":return Math.min(1,n);case"fit-y-100":return Math.min(1,r);default:throw xy(e.constraints.initialZoom)}}getConstrainedCamera(e,n){const r=this.getCamera();let{x:s,y:i,z:o=r.z}=e;if(!(n!=null&&n.force)){const a=this.getCameraOptions(),l=a.zoomSteps[0],c=Xme(a.zoomSteps),d=this.getViewportScreenBounds();if(a.constraints){const{constraints:h}=a,u=Math.min(h.padding.y,d.w/2),p=Math.min(h.padding.x,d.h/2),y=Ve.From(a.constraints.bounds),m=(d.w-p*2)/y.w,w=(d.h-u*2)/y.h,S=this.getBaseZoom(),b=c*S,g=l*S;if(n!=null&&n.reset&&(o=this.getInitialZoom()),o<g||o>b){const{x:N,y:L,z:M}=r,q=-N+d.w/M/2,D=-L+d.h/M/2;o=Ar(o,g,b);const X=-N+d.w/o/2,O=-L+d.h/o/2;s=N+X-q,i=L+O-D}const x=p/o-y.x,k=u/o-y.y,C=(d.w-p*2)/o-y.w,_=(d.h-u*2)/o-y.h,E=x+C*h.origin.x,z=k+_*h.origin.y,P=typeof h.behavior=="string"?h.behavior:h.behavior.x,A=typeof h.behavior=="string"?h.behavior:h.behavior.y;if(n!=null&&n.reset)s=E,i=z;else{switch(P){case"fixed":{s=E;break}case"contain":{o<m?s=E:s=Ar(s,x+C,x);break}case"inside":{o<m?s=Ar(s,x,(d.w-p)/o-y.w):s=Ar(s,x+C,x);break}case"outside":{s=Ar(s,p/o-y.w,(d.w-p)/o);break}case"free":break;default:throw"Exhaustive switch error"}switch(A){case"fixed":{i=z;break}case"contain":{o<w?i=z:i=Ar(i,k+_,k);break}case"inside":{o<w?i=Ar(i,k,(d.h-u)/o-y.h):i=Ar(i,k+_,k);break}case"outside":{i=Ar(i,u/o-y.h,(d.h-u)/o);break}case"free":break;default:throw"Exhaustive switch error"}}}else if(o>c||o<l){const{x:h,y:u,z:p}=r;o=Ar(o,l,c),s=h+(-h+d.w/o/2)-(-h+d.w/p/2),i=u+(-u+d.h/o/2)-(-u+d.h/p/2)}}return{x:s,y:i,z:o}}_setCamera(e,n){const r=this.getCamera(),{x:s,y:i,z:o}=this.getConstrainedCamera(e,n);return r.x===e.x&&r.y===e.y&&r.z===e.z?this:(this.batch(()=>{const{currentScreenPoint:a,currentPagePoint:l}=this.inputs,{screenBounds:c}=this.store.unsafeGetWithoutCapture(cr);if(a.x/o-s!==l.x||a.y/o-i!==l.y){const d={type:"pointer",target:"canvas",name:"pointer_move",point:j.AddXY(a,c.x,c.y),pointerId:FC.CAMERA_MOVE,ctrlKey:this.inputs.ctrlKey,altKey:this.inputs.altKey,shiftKey:this.inputs.shiftKey,button:0,isPen:this.getInstanceState().isPenMode??!1};this.dispatch(d)}this._tickCameraState()}),this)}setCamera(e,n){const{isLocked:r}=this._cameraOptions.__unsafe__getWithoutCapture();if(r&&!(n!=null&&n.force))return this;this.stopCameraAnimation(),this.getInstanceState().followingUserId&&this.stopFollowingUser();const s=j.Cast(e);Number.isFinite(s.x)||(s.x=0),Number.isFinite(s.y)||(s.y=0),(s.z===void 0||!Number.isFinite(s.z))&&(e.z=this.getZoomLevel());const i=this.getConstrainedCamera(s,n);if(n!=null&&n.animation){const{width:o,height:a}=this.getViewportScreenBounds();this._animateToViewport(new Ve(-i.x,-i.y,o/i.z,a/i.z),n.animation)}else this._setCamera(i,{...n,force:!0});return this}setCameraOptions(e){var r;const n=Ku({...this._cameraOptions.__unsafe__getWithoutCapture(),...e});return((r=n.zoomSteps)==null?void 0:r.length)<1&&(n.zoomSteps=[1]),this._cameraOptions.set(n),this}centerOnPoint(e,n){if(!this.getInstanceState().canMoveCamera)return this;const{width:r,height:s}=this.getViewportPageBounds();return this.setCamera({x:-(e.x-r/2),y:-(e.y-s/2),z:this.getCamera().z},{animation:n}),this}zoomToContent(){const e=this.getSelectionPageBounds()??this.getCurrentPageBounds();return e&&this.zoomToBounds(e,Math.min(1,this.getZoomLevel()),{duration:220}),this}zoomToFit(e){if(!this.getInstanceState().canMoveCamera)return this;const n=[...this.getCurrentPageShapeIds()];if(n.length<=0)return this;const r=Ve.Common(qe(n.map(s=>this.getShapePageBounds(s))));return this.zoomToBounds(r,void 0,e),this}resetZoom(e=this.getViewportScreenCenter(),n){if(!this.getInstanceState().canMoveCamera)return this;const{x:r,y:s,z:i}=this.getCamera(),{x:o,y:a}=e;return this.setCamera({x:r+(o/1-o)-(o/i-o),y:s+(a/1-a)-(a/i-a),z:1},{animation:n}),this}zoomIn(e=this.getViewportScreenCenter(),n){if(!this.getInstanceState().canMoveCamera)return this;const{x:r,y:s,z:i}=this.getCamera();let o=Nu;for(let c=1;c<ld.length;c++){const d=ld[c-1],h=ld[c];if(!(h-i<=(h-d)/2)){o=h;break}}const{x:a,y:l}=e;return this.setCamera({x:r+(a/o-a)-(a/i-a),y:s+(l/o-l)-(l/i-l),z:o},{animation:n}),this}zoomOut(e=this.getViewportScreenCenter(),n){if(!this.getInstanceState().canMoveCamera)return this;const{x:r,y:s,z:i}=this.getCamera();let o=Au;for(let c=ld.length-1;c>0;c--){const d=ld[c-1],h=ld[c];if(!(h-i>=(h-d)/2)){o=d;break}}const{x:a,y:l}=e;return this.setCamera({x:r+(a/o-a)-(a/i-a),y:s+(l/o-l)-(l/i-l),z:o},{animation:n}),this}zoomToSelection(e){if(!this.getInstanceState().canMoveCamera)return this;const n=this.getSelectionPageBounds();return n?(this.zoomToBounds(n,Math.max(1,this.getZoomLevel()),e),this):this}panZoomIntoView(e,n){if(!this.getInstanceState().canMoveCamera)return this;if(e.length<=0)return this;const r=Ve.Common(qe(e.map(i=>this.getShapePageBounds(i)))),s=this.getViewportPageBounds();if(s.h<r.h||s.w<r.w)return this.zoomToBounds(r,this.getCamera().z,n),this;{const i=this.getViewportPageBounds().clone().expandBy(-32/this.getZoomLevel());let o=0,a=0;i.maxY<r.maxY?a=i.maxY-r.maxY:i.minY>r.minY&&(a=i.minY-r.minY),i.maxX<r.maxX?o=i.maxX-r.maxX:i.minX>r.minX&&(o=i.minX-r.minX);const l=this.getCamera();this.setCamera({x:l.x+o,y:l.y+a,z:l.z},{animation:n})}return this}zoomToBounds(e,n,r){if(!this.getInstanceState().canMoveCamera)return this;const s=this.getViewportScreenBounds(),i=Math.min(256,s.width*.28);let o=Ar(Math.min((s.width-i)/e.width,(s.height-i)/e.height),Au,Nu);return n!==void 0&&(o=Math.min(n,o)),this.setCamera({x:-e.minX+(s.width-e.width*o)/2/o,y:-e.minY+(s.height-e.height*o)/2/o,z:o},{animation:r}),this}pan(e,n){if(!this.getInstanceState().canMoveCamera)return this;const{x:r,y:s,z:i}=this.getCamera();return this.setCamera({x:r+e.x/i,y:s+e.y/i,z:i},{animation:n}),this}pageToViewport(e){const{x:n,y:r,z:s=1}=this.getCamera();return new j((e.x+n)*s,(e.y+r)*s,e.z??.5)}stopCameraAnimation(){return this.emit("stop-camera-animation"),this}_animateViewport(e){if(!this._viewportAnimation)return;const n=()=>{this.removeListener("tick",this._animateViewport),this.removeListener("stop-camera-animation",n),this._viewportAnimation=null};this.once("stop-camera-animation",n),this._viewportAnimation.elapsed+=e;const{elapsed:r,easing:s,duration:i,start:o,end:a}=this._viewportAnimation;if(r>i){this._setCamera({x:-a.x,y:-a.y,z:this.getViewportScreenBounds().width/a.width}),n();return}const l=i-r,c=s(1-l/i),d=o.minX+(a.minX-o.minX)*c,h=o.minY+(a.minY-o.minY)*c,u=o.maxX+(a.maxX-o.maxX)*c;this._setCamera({x:-d,y:-h,z:this.getViewportScreenBounds().width/(u-d)})}_animateToViewport(e,n={}){const{duration:r=0,easing:s=by.easeInOutCubic}=n,i=this.user.getAnimationSpeed(),o=this.getViewportPageBounds();return this.stopCameraAnimation(),this.getInstanceState().followingUserId&&this.stopFollowingUser(),r===0||i===0?this._setCamera({x:-e.x,y:-e.y,z:this.getViewportScreenBounds().width/e.width}):(this._viewportAnimation={elapsed:0,duration:r/i,easing:s,start:o.clone(),end:e.clone()},this.addListener("tick",this._animateViewport),this)}slideCamera(e={}){if(!this.getInstanceState().canMoveCamera)return this;if(this.stopCameraAnimation(),this.user.getAnimationSpeed()===0)return this;const{speed:r,friction:s,direction:i,speedThreshold:o=.01}=e;let a=Math.min(r,1);const l=()=>{this.removeListener("tick",c),this.removeListener("stop-camera-animation",l)};this.once("stop-camera-animation",l);const c=d=>{const{x:h,y:u,z:p}=this.getCamera(),y=j.Mul(i,a*d/p);a*=1-s,a<o?l():this._setCamera({x:h+y.x,y:u+y.y,z:p})};return this.addListener("tick",c),this}animateToUser(e){const r=[...this.store.query.records("instance_presence",()=>({userId:{eq:e}})).get()].sort((s,i)=>s.lastActivityTimestamp-i.lastActivityTimestamp).pop();return r?(this.batch(()=>{this.getInstanceState().followingUserId!==null&&this.stopFollowingUser();const s=r.currentPageId===this.getCurrentPageId();s||this.setCurrentPage(r.currentPageId);const i=s?{duration:500}:void 0;this.centerOnPoint(r.cursor,i);const{highlightedUserIds:o}=this.getInstanceState();this.updateInstanceState({highlightedUserIds:[...o,e]}),setTimeout(()=>{const a=[...this.getInstanceState().highlightedUserIds],l=a.indexOf(e);l<0||(a.splice(l,1),this.updateInstanceState({highlightedUserIds:a}))},DR)}),this):this}animateToShape(e,n=Wye){if(!this.getInstanceState().canMoveCamera)return this;const r=this.getViewportScreenBounds().clone().expandBy(-32),s=r.width/r.height,i=this.getShapePageBounds(e);if(!i)return this;const o=i.width/i.height,a=i.clone(),l=i.width/r.width;return a.width+=(r.minX+r.maxX)*l,a.height+=(r.minY+r.maxY)*l,a.x-=r.minX*l,a.y-=r.minY*l,o>s?(a.height=i.width/s,a.y-=(a.height-i.height)/2):(a.width=i.height*s,a.x-=(a.width-i.width)/2),this._animateToViewport(a,n)}updateViewportScreenBounds(e=!1){const n=this.getContainer();if(!n)return this;const r=n.getBoundingClientRect(),s=new Ve(r.left||r.x,r.top||r.y,Math.max(r.width,1),Math.max(r.height,1)),i=s.equals(this.getViewportScreenBounds()),{_willSetInitialBounds:o}=this;if(i)this._willSetInitialBounds=!1;else if(o)this._willSetInitialBounds=!1,this.updateInstanceState({screenBounds:s.toJson()},{squashing:!0,ephemeral:!0});else if(e&&!this.getInstanceState().followingUserId){const a=this.getViewportPageCenter();this.updateInstanceState({screenBounds:s.toJson()},{squashing:!0,ephemeral:!0}),this.centerOnPoint(a)}else this.updateInstanceState({screenBounds:s.toJson()},{squashing:!0,ephemeral:!0});return this._tickCameraState(),this.updateRenderingBounds(),this}getViewportScreenBounds(){const{x:e,y:n,w:r,h:s}=this.getInstanceState().screenBounds;return new Ve(e,n,r,s)}getViewportScreenCenter(){return this.getViewportScreenBounds().center}getViewportPageBounds(){const{w:e,h:n}=this.getViewportScreenBounds(),{x:r,y:s,z:i}=this.getCamera();return new Ve(-r,-s,e/i,n/i)}getViewportPageCenter(){return this.getViewportPageBounds().center}screenToPage(e){const{screenBounds:n}=this.store.unsafeGetWithoutCapture(cr),{x:r,y:s,z:i=1}=this.getCamera();return{x:(e.x-n.x)/i-r,y:(e.y-n.y)/i-s,z:e.z??.5}}pageToScreen(e){const{screenBounds:n}=this.store.unsafeGetWithoutCapture(cr),{x:r,y:s,z:i=1}=this.getCamera();return{x:(e.x+r)*i+n.x,y:(e.y+s)*i+n.y,z:e.z??.5}}startFollowingUser(e){const n=this.store.query.records("instance_presence",()=>({userId:{eq:e}})),r=this.user.getId();if(r||console.warn("You should set the userId for the current instance before following a user"),n.get().some(a=>a.followingUserId===r))return this;sf(()=>{this.stopFollowingUser(),this.updateInstanceState({followingUserId:e},{ephemeral:!0})});const s=()=>{this.removeListener("frame",o),this.removeListener("stop-following",s)};let i=!1;const o=()=>{const a=[...n.get()].sort((N,L)=>N.lastActivityTimestamp-L.lastActivityTimestamp).pop();if(!a){this.stopFollowingUser();return}const l=a.currentPageId===this.getCurrentPageId(),c=l?Rye:1;if(!l){this.stopFollowingUser(),this.setCurrentPage(a.currentPageId),this.startFollowingUser(e);return}const{center:d,width:h,height:u}=this.getViewportPageBounds(),p=Ve.From(a.screenBounds),y=p.width/a.camera.z,m=p.height/a.camera.z,w=new j(y/2-a.camera.x,m/2-a.camera.y),S=a.followingUserId===r,b=h+(y-h)*c,g=u+(m-u)*c,x=S?u/g:Math.min(h/b,u/g),k=Ar(this.getCamera().z*x,Au,Nu),C=this.getViewportScreenBounds().w/k,_=this.getViewportScreenBounds().h/k,E=w.sub(d),z=j.Add(d,j.Mul(E,c)),P=j.Sub(z,d).len(),A=Math.abs(k-this.getCamera().z);if(P<$ye&&A<Dye){i=!0;return}i&&P<Oye&&A<qye||(i=!1,this.stopCameraAnimation(),this._setCamera({x:-(z.x-C/2),y:-(z.y-_/2),z:k}))};return this.once("stop-following",s),this.addListener("frame",o),this}stopFollowingUser(){return this.updateInstanceState({followingUserId:null},{ephemeral:!0}),this.emit("stop-following"),this}getCameraState(){return this._cameraState.get()}getUnorderedRenderingShapes(e){const n=[];let r=xo*2,s=xo;const i=this.getEditingShapeId(),o=this.getSelectedShapeIds(),a=this.getErasingShapeIds(),l=this.getRenderingBoundsExpanded(),c=Number.isFinite(this.renderingBoundsMargin),d=(h,u,p)=>{const y=this.getShape(h);if(!y)return;u*=y.opacity;let m=!1,w=!1;const S=this.getShapeUtil(y),b=this.getShapeMaskedPageBounds(h);e&&(w=!p&&a.includes(h),w&&(u*=.32),m=c&&S.canUnmount(y)&&i!==h&&(b===void 0||!l.includes(b)&&!o.includes(h))),n.push({id:h,shape:y,util:S,index:r,backgroundIndex:s,opacity:u,isCulled:m,maskedPageBounds:b}),r+=1,s+=1;const g=this.getSortedChildIdsForParent(h);if(!g.length)return;let x=null;S.providesBackgroundForChildren(y)&&(x=s,s=r,r+=xo);for(const k of g)d(k,u,p||w);x!==null&&(s=x)};for(const h of this.getSortedChildIdsForParent(this.getCurrentPageId()))d(h,1,!1);return n}getRenderingShapes(){return this.getUnorderedRenderingShapes(!0).sort(Jme)}getRenderingBounds(){return this._renderingBounds.get()}getRenderingBoundsExpanded(){return this._renderingBoundsExpanded.get()}updateRenderingBounds(){const e=this.getViewportPageBounds();return e.equals(this._renderingBounds.__unsafe__getWithoutCapture())?this:(this._renderingBounds.set(e.clone()),Number.isFinite(this.renderingBoundsMargin)?this._renderingBoundsExpanded.set(e.clone().expandBy(this.renderingBoundsMargin/this.getZoomLevel())):this._renderingBoundsExpanded.set(e),this)}_getAllPagesQuery(){return this.store.query.records("page")}getPages(){return this._getAllPagesQuery().get().sort(Mi)}getCurrentPage(){return this.getPage(this.getCurrentPageId())}getCurrentPageId(){return this.getInstanceState().currentPageId}getPage(e){return this.store.get(typeof e=="string"?e:e.id)}getCurrentPageShapeIds(){return this._currentPageShapeIds.get()}getPageShapeIds(e){const n=typeof e=="string"?e:e.id,r=this.store.query.exec("shape",{parentId:{eq:n}});return this.getShapeAndDescendantIds(r.map(s=>s.id))}setCurrentPage(e,n){const r=typeof e=="string"?e:e.id;return this._setCurrentPageId(r,n),this}updatePage(e,n){return this._updatePage(e,n),this}createPage(e){return this._createPage(e),this}deletePage(e){const n=typeof e=="string"?e:e.id;return this._deletePage(n),this}duplicatePage(e,n=lf.createId()){if(this.getPages().length>=qC)return this;const r=typeof e=="string"?e:e.id,s=this.getPage(r);if(!s)return this;const i={...this.getCamera()},o=this.getContentFromCurrentPage(this.getSortedChildIdsForParent(s.id));return this.batch(()=>{var c;const a=this.getPages(),l=z5(s.index,(c=a[a.indexOf(s)+1])==null?void 0:c.index);if(this.createPage({name:s.name+" Copy",id:n,index:l}),this.setCurrentPage(n),this.setCamera(i),o)return this.putContentOntoCurrentPage(o)}),this}renamePage(e,n,r){const s=typeof e=="string"?e:e.id;return this.getInstanceState().isReadonly?this:(this.updatePage({id:s,name:n},r),this)}_getAllAssetsQuery(){return this.store.query.records("asset")}getAssets(){return this._getAllAssetsQuery().get()}createAssets(e){return this._createAssets(e),this}updateAssets(e){return this._updateAssets(e),this}deleteAssets(e){const n=typeof e[0]=="string"?e:e.map(r=>r.id);return this._deleteAssets(n),this}getAsset(e){return this.store.get(typeof e=="string"?e:e.id)}_getShapeGeometryCache(){return this.store.createComputedCache("bounds",e=>this.getShapeUtil(e).getGeometry(e),(e,n)=>e.props===n.props)}getShapeGeometry(e){return this._getShapeGeometryCache().get(typeof e=="string"?e:e.id)}_getShapeOutlineSegmentsCache(){return this.store.createComputedCache("outline-segments",e=>this.getShapeUtil(e).getOutlineSegments(e))}getShapeOutlineSegments(e){return this._getShapeOutlineSegmentsCache().get(typeof e=="string"?e:e.id)??qa}_getShapeHandlesCache(){return this.store.createComputedCache("handles",e=>{var n,r;return(r=(n=this.getShapeUtil(e)).getHandles)==null?void 0:r.call(n,e)})}getShapeHandles(e){return this._getShapeHandlesCache().get(typeof e=="string"?e:e.id)}getShapeLocalTransform(e){const n=typeof e=="string"?e:e.id,r=this.getShape(n);if(!r)throw Error("Editor.getTransform: shape not found");return be.Identity().translate(r.x,r.y).rotate(r.rotation)}_getShapePageTransformCache(){return this.store.createComputedCache("pageTransformCache",e=>{if(Hr(e.parentId))return this.getShapeLocalTransform(e);const n=this._getShapePageTransformCache().get(e.parentId)??be.Identity();return be.Compose(n,this.getShapeLocalTransform(e))})}getShapeParentTransform(e){const n=typeof e=="string"?e:e.id,r=this.getShape(n);return!r||Hr(r.parentId)?be.Identity():this._getShapePageTransformCache().get(r.parentId)??be.Identity()}getShapePageTransform(e){const n=typeof e=="string"?e:this.getShape(e).id;return this._getShapePageTransformCache().get(n)??be.Identity()}_getShapePageBoundsCache(){return this.store.createComputedCache("pageBoundsCache",e=>{const n=this._getShapePageTransformCache().get(e.id);return n?Ve.FromPoints(be.applyToPoints(n,this.getShapeGeometry(e).vertices)):new Ve})}getShapePageBounds(e){return this._getShapePageBoundsCache().get(typeof e=="string"?e:e.id)}_getShapeClipPathCache(){return this.store.createComputedCache("clipPathCache",e=>{const n=this._getShapeMaskCache().get(e.id);if(!n)return;if(n.length===0)return"polygon(0px 0px, 0px 0px, 0px 0px)";const r=this._getShapePageTransformCache().get(e.id);return r?`polygon(${be.applyToPoints(be.Inverse(r),n).map(i=>`${i.x}px ${i.y}px`).join(",")})`:void 0})}getShapeClipPath(e){return this._getShapeClipPathCache().get(typeof e=="string"?e:e.id)}_getShapeMaskCache(){return this.store.createComputedCache("pageMaskCache",e=>{if(Hr(e.parentId))return;const n=this.getShapeAncestors(e.id).filter(s=>this.isShapeOfType(s,"frame"));return n.length===0?void 0:n.map(s=>this._getShapePageTransformCache().get(s.id).applyToPoints(this.getShapeGeometry(s).vertices)).reduce((s,i)=>{if(!(i&&s))return;const o=GC(s,i);return o?o.map(j.Cast):[]})})}getShapeMask(e){return this._getShapeMaskCache().get(typeof e=="string"?e:e.id)}getShapeMaskedPageBounds(e){typeof e!="string"&&(e=e.id);const n=this._getShapePageBoundsCache().get(e);if(!n)return;const r=this._getShapeMaskCache().get(e);if(r){if(r.length===0)return;const{corners:s}=n;if(s.every((o,a)=>j.Equals(o,r[a])))return n.clone();const i=GC(r,s);return i?Ve.FromPoints(i):void 0}return n}getShapeAncestors(e,n=[]){const r=typeof e=="string"?e:e.id,s=this.getShape(r);if(!s)return n;const i=s.parentId;if(Hr(i))return n.reverse(),n;const o=this.store.get(i);return o?(n.push(o),this.getShapeAncestors(o,n)):n}findShapeAncestor(e,n){const r=typeof e=="string"?e:e.id,s=this.getShape(r);if(!s)return;const i=s.parentId;if(Hr(i))return;const o=this.getShape(i);if(o)return n(o)?o:this.findShapeAncestor(o,n)}hasAncestor(e,n){const r=typeof e=="string"?e:e==null?void 0:e.id,s=r&&this.getShape(r);return s?s.parentId===n?!0:this.hasAncestor(this.getShapeParent(s),n):!1}findCommonAncestor(e,n){var l;if(e.length===0)return;const r=typeof e[0]=="string"?e:e.map(c=>c.id),s=qe(r.map(c=>this.getShape(c)));if(s.length===1){const c=s[0].parentId;return Hr(c)?void 0:n?(l=this.findShapeAncestor(s[0],n))==null?void 0:l.id:c}const[i,...o]=s;let a=this.getShapeParent(i);for(;a;){if(n&&!n(a)){a=this.getShapeParent(a);continue}if(o.every(c=>this.hasAncestor(c,a.id)))return a.id;a=this.getShapeParent(a)}}isShapeOrAncestorLocked(e){const n=typeof e=="string"?this.getShape(e):e;return n===void 0?!1:n.isLocked?!0:this.isShapeOrAncestorLocked(this.getShapeParent(n))}getCurrentPageBounds(){let e;return this.getCurrentPageShapeIds().forEach(n=>{const r=this.getShapeMaskedPageBounds(n);r&&(e?e=e.expand(r):e=r.clone())}),e}getSelectedShapeAtPoint(e){const n=this.getSelectedShapeIds();return this.getCurrentPageShapesSorted().filter(r=>r.type!=="group"&&n.includes(r.id)).reverse().find(r=>this.isPointInShape(r,e,{hitInside:!0,margin:0}))}getShapeAtPoint(e,n={}){const r=this.getZoomLevel(),s=this.getViewportPageBounds(),{filter:i,margin:o=0,hitLabels:a=!1,hitInside:l=!1,hitFrameInside:c=!1}=n;let d=1/0,h=null,u=1/0,p=null;const y=(n.renderingOnly?this.getCurrentPageRenderingShapesSorted():this.getCurrentPageShapesSorted()).filter(m=>{if(this.isShapeOfType(m,"group"))return!1;const w=this.getShapeMask(m);return w&&!Sh(e,w)?!1:i?i(m):!0});for(let m=y.length-1;m>=0;m--){const w=y[m],S=this.getShapeGeometry(w),b=S instanceof y6,g=this.getPointInShapeSpace(w,e);if((this.isShapeOfType(w,"arrow")||this.isShapeOfType(w,"geo")&&w.props.fill==="none")&&w.props.text.trim()){for(const k of S.children)if(k.isLabel&&k.isPointInBounds(g))return w}if(this.isShapeOfType(w,"frame")){const k=S.distanceToPoint(g,l);if(Math.abs(k)<=o)return p||w;if(S.hitTestPoint(g,0,!0))return p||h||(c?w:void 0);continue}let x;if(b){let k=1/0;for(const C of S.children){if(C.isLabel&&!a)continue;const _=C.distanceToPoint(g,l);_<k&&(k=_)}x=k}else o===0&&(S.bounds.w<1||S.bounds.h<1)||S.bounds.containsPoint(g,o)?x=S.distanceToPoint(g,l):x=1/0;if(S.isClosed){if(x<=o){if(S.isFilled||b&&S.children[0].isFilled)return p||w;if(this.getShapePageBounds(w).contains(s))continue;if(Math.abs(x)<o)Math.abs(x)<u&&(u=Math.abs(x),p=w);else if(!p){const{area:k}=S;k<d&&(d=k,h=w)}}}else if(x<Hye/r)return w}return p||h||void 0}getShapesAtPoint(e,n={}){return this.getCurrentPageShapes().filter(r=>this.isPointInShape(r,e,n))}isPointInShape(e,n,r={}){const{hitInside:s=!1,margin:i=0}=r,o=typeof e=="string"?e:e.id,a=this.getShapeMask(o);return a&&!Sh(n,a)?!1:this.getShapeGeometry(o).hitTestPoint(this.getPointInShapeSpace(e,n),i,s)}getPointInShapeSpace(e,n){const r=typeof e=="string"?e:e.id;return this._getShapePageTransformCache().get(r).clone().invert().applyToPoint(n)}getPointInParentSpace(e,n){const r=typeof e=="string"?e:e.id,s=this.getShape(r);if(!s)return new j(0,0);if(Hr(s.parentId))return j.From(n);const i=this.getShapePageTransform(s.parentId);return i?i.clone().invert().applyToPoint(n):j.From(n)}getCurrentPageShapes(){return Array.from(this.getCurrentPageShapeIds(),e=>this.store.get(e))}getCurrentPageShapesSorted(){const e=new Set(this.getCurrentPageShapes().sort(Mi)),n=[];function r(s){n.push(s),e.delete(s),e.forEach(i=>{i.parentId===s.id&&r(i)})}return e.forEach(s=>{const i=this.getShape(s.parentId);Yl(i)||r(s)}),n}getCurrentPageRenderingShapesSorted(){return this.getRenderingShapes().filter(({isCulled:e})=>!e).sort((e,n)=>e.index-n.index).map(({shape:e})=>e)}isShapeOfType(e,n){return(typeof e=="string"?this.getShape(e):e).type===n}getShape(e){const n=typeof e=="string"?e:e.id;if(Ai(n))return this.store.get(n)}getShapeParent(e){const n=typeof e=="string"?e:e==null?void 0:e.id;if(!n)return;const r=this.getShape(n);if(!(r===void 0||!Ai(r.parentId)))return this.store.get(r.parentId)}getShapeNearestSibling(e,n){return n?n.parentId===e.parentId?n:this.findShapeAncestor(n,s=>s.parentId===e.parentId):void 0}isShapeInPage(e,n=this.getCurrentPageId()){const r=typeof e=="string"?e:e.id,s=this.getShape(r);if(!s)return!1;let i=!1;if(s.parentId===n)i=!0;else{let o=this.getShape(s.parentId);e:for(;o;){if(o.parentId===n){i=!0;break e}o=this.getShape(o.parentId)}}return i}getAncestorPageId(e){const n=typeof e=="string"?e:e==null?void 0:e.id,r=n&&this.getShape(n);if(r)return Hr(r.parentId)?r.parentId:this.getAncestorPageId(this.getShape(r.parentId))}reparentShapes(e,n,r){const s=typeof e[0]=="string"?e:e.map(p=>p.id);if(s.length===0)return this;const i=[],o=Hr(n)?be.Identity():this.getShapePageTransform(n),a=o.rotation();let l=[];const c=qe(this.getSortedChildIdsForParent(n).map(p=>this.getShape(p)));if(r){const p=c.find(y=>y.index===r);if(p){const y=c[c.indexOf(p)+1];y?l=bh(r,y.index,s.length):l=P5(r,s.length)}else{const y=c.sort(Mi).find(m=>m.index>r);y?l=bh(r,y.index,s.length):l=P5(r,s.length)}}else{const p=c.length&&c[c.length-1];l=p?P5(p.index,s.length):E2e(s.length)}const d=o.clone().invert(),h=qe(s.map(p=>this.getShape(p))),u=h.filter(p=>p.isLocked);u.length&&this.updateShapes(u.map(({id:p,type:y})=>({id:p,type:y,isLocked:!1})));for(let p=0;p<h.length;p++){const y=h[p],m=this.getShapePageTransform(y);if(!m)continue;const w=m.point();if(!w)continue;const S=d.applyToPoint(w),b=m.rotation()-a;i.push({id:y.id,type:y.type,parentId:n,x:S.x,y:S.y,rotation:b,index:l[p],isLocked:y.isLocked})}return this.updateShapes(i),this}getHighestIndexForParent(e){const n=typeof e=="string"?e:e.id,r=this._parentIdsToChildIds.get()[n];if(!r||r.length===0)return"a1";const s=this.getShape(r[r.length-1]);return hd(s.index)}getSortedChildIdsForParent(e){const n=typeof e=="string"?e:e.id,r=this._parentIdsToChildIds.get()[n];return r?this._childIdsCache.get(r,()=>r):qa}visitDescendants(e,n){const r=typeof e=="string"?e:e.id,s=this.getSortedChildIdsForParent(r);for(const i of s)n(i)!==!1&&this.visitDescendants(i,n);return this}getShapeAndDescendantIds(e){const n=new Set,r=[...e];for(;r.length>0;){const s=r.pop();if(!s)break;if(!n.has(s)){n.add(s);for(const i of this.getSortedChildIdsForParent(s))r.push(i)}}return n}getDroppingOverShape(e,n=[]){const r=this.getCurrentPageShapesSorted();for(let s=r.length-1;s>=0;s--){const i=r[s];if(!this.getShapeUtil(i).canDropShapes(i,n)||n.find(a=>a.id===i.id||this.hasAncestor(i,a.id)))continue;const o=this.getShapeMaskedPageBounds(i.id);if(o&&o.containsPoint(e)&&this.getShapeGeometry(i).hitTestPoint(this.getPointInShapeSpace(i,e),0,!0))return i}}getOutermostSelectableShape(e,n){const r=typeof e=="string"?e:e.id,s=this.getShape(r);let i=s,o=s;const a=this.getFocusedGroup();for(;o;){if(this.isShapeOfType(o,"group")&&(a==null?void 0:a.id)!==o.id&&!this.hasAncestor(a,o.id)&&((n==null?void 0:n(o))??!0))i=o;else if((a==null?void 0:a.id)===o.id)break;o=this.getShapeParent(o)}return i}rotateShapesBy(e,n){if((typeof e[0]=="string"?e:e.map(i=>i.id)).length<=0)return this;const s=N2e({editor:this});return s?(T2e({delta:n,snapshot:s,editor:this,stage:"one-off"}),this):this}nudgeShapes(e,n,r){var o,a;const s=typeof e[0]=="string"?e:e.map(l=>l.id);if(s.length<=0)return this;const i=[];for(const l of s){const c=this.getShape(l);if(!c)throw Error(`Could not find a shape with the id ${l}.`);const d=j.Cast(n),h=this.getShapeParentTransform(c);h&&d.rot(-h.rotation());const u=(a=(o=this.getShapeUtil(c)).onTranslateStart)==null?void 0:a.call(o,c);i.push(u?{...u,x:c.x+d.x,y:c.y+d.y}:{id:l,x:c.x+d.x,y:c.y+d.y,type:c.type})}return this.updateShapes(i,{squashing:!0,...r}),this}duplicateShapes(e,n){const r=typeof e[0]=="string"?e:e.map(c=>c.id);if(r.length<=0)return this;const s=new Set(r),i=[],o=[...r];for(;o.length>0;){const c=o.pop();if(!c)break;i.push(c),this.getSortedChildIdsForParent(c).forEach(d=>o.push(d))}i.reverse();const a=new Map(i.map(c=>[c,Hl()])),l=qe(i.map(c=>{const d=this.getShape(c);if(!d)return null;const h=a.get(c);let u=0,p=0;if(n&&s.has(c)){const k=this.getShapeParentTransform(d),C=new j(n.x,n.y).rot(-k.rotation());u=C.x,p=C.y}const y=d.parentId??this.getCurrentPageId(),m=this.getSortedChildIdsForParent(y),w=m.indexOf(d.id),S=m[w+1],b=S?this.getShape(S):null,g=b?z5(d.index,b.index):hd(d.index);let x=eh(d);if(this.isShapeOfType(d,"arrow")&&this.isShapeOfType(x,"arrow")){const k=this.getArrowInfo(d);let C,_;if(d.props.start.type==="binding"&&(C=a.get(d.props.start.boundShapeId),!C))if(k!=null&&k.isValid){const{x:z,y:P}=k.start.point;x.props.start={type:"point",x:z,y:P}}else{const{start:z}=Nl(this,d);x.props.start={type:"point",x:z.x,y:z.y}}if(d.props.end.type==="binding"&&(_=a.get(d.props.end.boundShapeId),!_))if(k!=null&&k.isValid){const{x:z,y:P}=k.end.point;x.props.end={type:"point",x:z,y:P}}else{const{end:z}=Nl(this,d);x.props.start={type:"point",x:z.x,y:z.y}}const E=Lu(x)?pp(this,x):N5(this,x);if(k!=null&&k.isValid&&(E!=null&&E.isValid)&&!Lu(d)){const z=j.Med(k.start.handle,k.end.handle),P=j.Dist(k.middle,z),A=j.Dist(E.middle,z);x.props.bend<0?x.props.bend+=A-P:x.props.bend-=A-P}x.props.start.type==="binding"&&C&&(x.props.start.boundShapeId=C),x.props.end.type==="binding"&&_&&(x.props.end.boundShapeId=_)}return x={...x,id:h,x:d.x+u,y:d.y+p,index:g},x}));return l.forEach(c=>{Ai(c.parentId)&&a.has(c.parentId)&&(c.parentId=a.get(c.parentId))}),this.history.batch(()=>{const c=l.length+this.getCurrentPageShapeIds().size>xo;c&&m0(this);const d=c?l.slice(0,xo-this.getCurrentPageShapeIds().size):l,h=d.map(u=>u.id);if(this.createShapes(d),this.setSelectedShapes(h),n!==void 0){const u=this.getSelectionPageBounds(),p=this.getViewportPageBounds();u&&!p.contains(u)&&this.centerOnPoint(u.center,{duration:Mye})}}),this}moveShapesToPage(e,n){const r=typeof e[0]=="string"?e:e.map(a=>a.id);if(r.length===0)return this;if(this.getInstanceState().isReadonly)return this;const s=this.getCurrentPageId();if(n===s)return this;if(!this.store.has(n))return this;const i=this.getContentFromCurrentPage(r);if(!i)return this;if(this.getPageShapeIds(n).size+i.shapes.length>xo)return m0(this,n),this;const o=this.getCamera().z;return this.history.batch(()=>{this.deleteShapes(r),this.setCurrentPage(n),this.setFocusedGroup(null),this.selectNone(),this.putContentOntoCurrentPage(i,{select:!0,preserveIds:!0,preservePosition:!0}),this.setCamera({...this.getCamera(),z:o}),this.centerOnPoint(this.getSelectionRotatedPageBounds().center)}),this}toggleLock(e){const n=typeof e[0]=="string"?e:e.map(o=>o.id);if(this.getInstanceState().isReadonly||n.length===0)return this;let r=!0,s=!0;const i=[];for(const o of n){const a=this.getShape(o);a&&(i.push(a),a.isLocked?s=!1:r=!1)}return this.batch(()=>{s?(this.updateShapes(i.map(o=>({id:o.id,type:o.type,isLocked:!0}))),this.setSelectedShapes([])):r?this.updateShapes(i.map(o=>({id:o.id,type:o.type,isLocked:!1}))):this.updateShapes(i.map(o=>({id:o.id,type:o.type,isLocked:!0})))}),this}sendToBack(e){const n=typeof e[0]=="string"?e:e.map(s=>s.id),r=g0(this,"toBack",n);return r&&this.updateShapes(r),this}sendBackward(e){const n=typeof e[0]=="string"?e:e.map(s=>s.id),r=g0(this,"backward",n);return r&&this.updateShapes(r),this}bringForward(e){const n=typeof e[0]=="string"?e:e.map(s=>s.id),r=g0(this,"forward",n);return r&&this.updateShapes(r),this}bringToFront(e){const n=typeof e[0]=="string"?e:e.map(s=>s.id),r=g0(this,"toFront",n);return r&&this.updateShapes(r),this}flipShapes(e,n){const r=typeof e[0]=="string"?e:e.map(o=>o.id);if(this.getInstanceState().isReadonly)return this;let s=qe(r.map(o=>this.getShape(o)));if(!s.length)return this;s=qe(s.map(o=>this.isShapeOfType(o,"group")?this.getSortedChildIdsForParent(o.id).map(a=>this.getShape(a)):o).flat());const i=Ve.Common(qe(s.map(o=>this.getShapePageBounds(o)))).center;return this.batch(()=>{for(const o of s){const a=this.getShapeGeometry(o).bounds,l=this.getShapePageTransform(o.id);l&&this.resizeShape(o.id,{x:n==="horizontal"?-1:1,y:n==="vertical"?-1:1},{initialBounds:a,initialPageTransform:l,initialShape:o,mode:"scale_shape",scaleOrigin:i,scaleAxisRotation:0})}}),this}stackShapes(e,n,r){const s=typeof e[0]=="string"?e:e.map(m=>m.id);if(this.getInstanceState().isReadonly)return this;const i=qe(s.map(m=>this.getShape(m)).filter(m=>!(!m||this.isShapeOfType(m,"arrow")&&(m.props.start.type==="binding"||m.props.end.type==="binding")))),o=i.length;if(r===0&&o<3||o<2)return this;const a=Object.fromEntries(i.map(m=>[m.id,this.getShapePageBounds(m)]));let l,c,d,h;n==="horizontal"?(l="x",c="minX",d="maxX",h="width"):(l="y",c="minY",d="maxY",h="height");let u;if(r===0){const m=[];i.sort((S,b)=>a[S.id][c]-a[b.id][c]);for(let S=0;S<o-1;S++){const b=i[S],g=i[S+1],x=a[b.id],C=a[g.id][c]-x[d],_=m.find(E=>E.gap===C);_?_.count++:m.push({gap:C,count:1})}let w=0;m.forEach(S=>{S.count>w&&(w=S.count,u=S.gap)}),w===1&&(u=Math.max(0,m.reduce((S,b)=>S+b.gap*b.count,0)/(o-1)))}else u=r;const p=[];let y=a[i[0].id][d];return i.forEach((m,w)=>{var k,C;if(w===0)return;const S={x:0,y:0};S[l]=y+u-a[m.id][l];const b=this.getShapeParent(m),g=b?j.Rot(S,-this.getShapePageTransform(b).decompose().rotation):S,x=(C=(k=this.getShapeUtil(m)).onTranslateStart)==null?void 0:C.call(k,m);p.push(x?{...x,[l]:m[l]+g[l]}:{id:m.id,type:m.type,[l]:m[l]+g[l]}),y+=a[m.id][h]+u}),this.updateShapes(p),this}packShapes(e,n){var C,_;const r=typeof e[0]=="string"?e:e.map(E=>E.id);if(this.getInstanceState().isReadonly)return this;if(r.length<2)return this;const s=qe(r.map(E=>this.getShape(E)).filter(E=>!(!E||this.isShapeOfType(E,"arrow")&&(E.props.start.type==="binding"||E.props.end.type==="binding")))),i={},o={};let a,l,c=0;for(let E=0;E<s.length;E++)a=s[E],l=this.getShapePageBounds(a),i[a.id]=l,o[a.id]=l.clone(),c+=l.width*l.height;const d=Ve.Common(qe(Object.values(i))),h=d.width;s.sort((E,z)=>i[z.id].height-i[E.id].height);const u=Math.max(Math.ceil(Math.sqrt(c/.95)),h),p=[new Ve(d.x,d.y,u,1/0)];let y=0,m=0,w,S;for(let E=0;E<s.length;E++){a=s[E],l=o[a.id];for(let z=p.length-1;z>=0;z--)if(w=p[z],!(l.width>w.width||l.height>w.height)){l.x=w.x,l.y=w.y,m=Math.max(m,l.maxY),y=Math.max(y,l.maxX),l.width===w.width&&l.height===w.height?(S=p.pop(),z<p.length&&(p[z]=S)):l.height===w.height?(w.x+=l.width+n,w.width-=l.width+n):l.width===w.width?(w.y+=l.height+n,w.height-=l.height+n):(p.push(new Ve(w.x+(l.width+n),w.y,w.width-(l.width+n),l.height)),w.y+=l.height+n,w.height-=l.height+n);break}}const b=Ve.Common(Object.values(o)),g=j.Sub(d.center,b.center);let x;const k=[];for(let E=0;E<s.length;E++){a=s[E],l=i[a.id],x=o[a.id];const z=j.Sub(x.point,l.point).add(g),P=this.getShapeParentTransform(a);P&&z.rot(-P.rotation());const A={id:a.id,type:a.type,x:a.x+z.x,y:a.y+z.y},N=(_=(C=this.getShapeUtil(a)).onTranslateStart)==null?void 0:_.call(C,{...a,...A});N?k.push({...A,...N}):k.push(A)}return k.length&&this.updateShapes(k),this}alignShapes(e,n){const r=typeof e[0]=="string"?e:e.map(l=>l.id);if(this.getInstanceState().isReadonly)return this;if(r.length<2)return this;const s=qe(r.map(l=>this.getShape(l))),i=Object.fromEntries(s.map(l=>[l.id,this.getShapePageBounds(l)])),o=Ve.Common(qe(Object.values(i))),a=[];return s.forEach(l=>{var y,m;const c=i[l.id];if(!c)return;const d={x:0,y:0};switch(n){case"top":{d.y=o.minY-c.minY;break}case"center-vertical":{d.y=o.midY-c.minY-c.height/2;break}case"bottom":{d.y=o.maxY-c.minY-c.height;break}case"left":{d.x=o.minX-c.minX;break}case"center-horizontal":{d.x=o.midX-c.minX-c.width/2;break}case"right":{d.x=o.maxX-c.minX-c.width;break}}const h=this.getShapeParent(l),u=h?j.Rot(d,-this.getShapePageTransform(h).decompose().rotation):d,p=(m=(y=this.getShapeUtil(l)).onTranslateStart)==null?void 0:m.call(y,l);a.push(p?{...p,x:l.x+u.x,y:l.y+u.y}:{id:l.id,type:l.type,x:l.x+u.x,y:l.y+u.y})}),this.updateShapes(a),this}distributeShapes(e,n){const r=typeof e[0]=="string"?e:e.map(b=>b.id);if(this.getInstanceState().isReadonly)return this;if(r.length<3)return this;const s=r.length,i=qe(r.map(b=>this.getShape(b))),o=Object.fromEntries(i.map(b=>[b.id,this.getShapePageBounds(b)]));let a,l,c,d,h;n==="horizontal"?(a="x",l="minX",c="maxX",d="midX",h="width"):(a="y",l="minY",c="maxY",d="midY",h="height");const u=[],p=i.sort((b,g)=>o[b.id][l]-o[g.id][l])[0],y=i.sort((b,g)=>o[g.id][c]-o[b.id][c])[0],m=o[p.id][d],w=(o[y.id][d]-m)/(s-1),S=m+w;return i.filter(b=>b!==p&&b!==y).sort((b,g)=>o[b.id][d]-o[g.id][d]).forEach((b,g)=>{var E,z;const x={x:0,y:0};x[a]=S+w*g-o[b.id][h]/2-o[b.id][a];const k=this.getShapeParent(b),C=k?j.Rot(x,-this.getShapePageTransform(k).rotation()):x,_=(z=(E=this.getShapeUtil(b)).onTranslateStart)==null?void 0:z.call(E,b);u.push(_?{..._,[a]:b[a]+C[a]}:{id:b.id,type:b.type,[a]:b[a]+C[a]})}),this.updateShapes(u),this}stretchShapes(e,n){const r=typeof e[0]=="string"?e:e.map(l=>l.id);if(this.getInstanceState().isReadonly)return this;if(r.length<2)return this;const s=qe(r.map(l=>this.getShape(l))),i=Object.fromEntries(r.map(l=>[l,this.getShapeGeometry(l).bounds])),o=Object.fromEntries(r.map(l=>[l,this.getShapePageBounds(l)])),a=Ve.Common(qe(Object.values(o)));switch(n){case"vertical":{this.batch(()=>{for(const l of s){if(this.getShapePageTransform(l).rotation()%co)continue;const d=i[l.id],h=o[l.id],u=new j(0,a.minY-h.minY),p=this.getShapeParentTransform(l);p&&u.rot(-p.rotation());const{x:y,y:m}=j.Add(u,l);this.updateShapes([{id:l.id,type:l.type,x:y,y:m}],{squashing:!0});const w=new j(1,a.height/h.height);this.resizeShape(l.id,w,{initialBounds:d,scaleOrigin:new j(h.center.x,a.minY),scaleAxisRotation:0})}});break}case"horizontal":{this.batch(()=>{for(const l of s){const c=i[l.id],d=o[l.id];if(this.getShapePageTransform(l).rotation()%co)continue;const u=new j(a.minX-d.minX,0),p=this.getShapeParentTransform(l);p&&u.rot(-p.rotation());const{x:y,y:m}=j.Add(u,l);this.updateShapes([{id:l.id,type:l.type,x:y,y:m}],{squashing:!0});const w=new j(a.width/d.width,1);this.resizeShape(l.id,w,{initialBounds:c,scaleOrigin:new j(a.minX,d.center.y),scaleAxisRotation:0})}});break}}return this}resizeShape(e,n,r={}){var u;const s=typeof e=="string"?e:e.id;if(this.getInstanceState().isReadonly)return this;Number.isFinite(n.x)||(n=new j(1,n.y)),Number.isFinite(n.y)||(n=new j(n.x,1));const i=r.initialShape??this.getShape(s);if(!i)return this;const o=r.scaleOrigin??((u=this.getShapePageBounds(s))==null?void 0:u.center);if(!o)return this;const a=r.initialPageTransform?be.Cast(r.initialPageTransform):this.getShapePageTransform(s);if(!a)return this;const l=a.rotation();if(l==null)return this;const c=r.scaleAxisRotation??l,d=r.initialBounds??this.getShapeGeometry(s).bounds;if(!d)return this;if(!Eye(l,c))return this._resizeUnalignedShape(s,n,{...r,initialBounds:d,scaleOrigin:o,scaleAxisRotation:c,initialPageTransform:a,initialShape:i});const h=this.getShapeUtil(i);if(h.isAspectRatioLocked(i)&&(Math.abs(n.x)>Math.abs(n.y)?n=new j(n.x,Math.sign(n.y)*Math.abs(n.x)):n=new j(Math.sign(n.x)*Math.abs(n.y),n.y)),h.onResize&&h.canResize(i)){const p=this._scalePagePoint(be.applyToPoint(a,new j(0,0)),o,n,c),y=this.getPointInParentSpace(i.id,p),m=new j(n.x,n.y),w=RR((l-c)%Math.PI,0);m.x=w?n.x:n.y,m.y=w?n.y:n.x;const S=be.applyToPoint(a,new j),{x:b,y:g}=this.getPointInParentSpace(i.id,S);this.updateShapes([{id:s,type:i.type,x:y.x,y:y.y,...h.onResize({...i,x:b,y:g},{newPoint:y,handle:r.dragHandle??"bottom_right",mode:r.mode??"scale_shape",scaleX:m.x,scaleY:m.y,initialBounds:d,initialShape:i})}],{squashing:!0})}else{const p=be.applyToPoint(a,d.center),y=this._scalePagePoint(p,o,n,c),m=this.getPointInParentSpace(i.id,p),w=this.getPointInParentSpace(i.id,y),S=j.Sub(w,m);this.updateShapes([{id:s,type:i.type,x:i.x+S.x,y:i.y+S.y}],{squashing:!0})}return this}_scalePagePoint(e,n,r,s){const i=j.RotWith(e,n,-s).sub(n),o=j.MulV(i,r);return j.Add(o,n).rotWith(n,s)}_resizeUnalignedShape(e,n,r){const{type:s}=r.initialShape,i=new j(n.x,n.y);if(Math.abs(n.x)>Math.abs(n.y)?i.x=Math.sign(n.x)*Math.abs(n.y):i.y=Math.sign(n.y)*Math.abs(n.x),this.resizeShape(e,i,{initialShape:r.initialShape,initialBounds:r.initialBounds}),Math.sign(n.x)*Math.sign(n.y)<0){let{rotation:w}=be.Decompose(r.initialPageTransform);w-=2*w,this.updateShapes([{id:e,type:s,rotation:w}],{squashing:!0})}const o=be.applyToPoint(r.initialPageTransform,r.initialBounds.center),a=this._scalePagePoint(o,r.scaleOrigin,n,r.scaleAxisRotation),l=this.getShapePageBounds(e),c=this.getShapePageTransform(e),d=l.center,h=c.point();if(!d||!h)return this;const u=j.Sub(a,d),p=j.Add(h,u),{x:y,y:m}=this.getPointInParentSpace(e,p);return this.updateShapes([{id:e,type:s,x:y,y:m}],{squashing:!0}),this}getInitialMetaForShape(e){return{}}createShape(e){return this._createShapes([e]),this}createShapes(e){if(!Array.isArray(e))throw Error("Editor.createShapes: must provide an array of shapes or shape partials");return this._createShapes(e),this}animateShape(e,n){return this.animateShapes([e],n)}animateShapes(e,n={}){const{duration:r=500,easing:s=by.linear}=n,i=wn();let o=r,a;const l=[];e.forEach(h=>{if(!h)return;const u={partial:h,values:[]},p=this.getShape(h.id);if(p){for(const y of["x","y","rotation"])h[y]!==void 0&&p[y]!==h[y]&&u.values.push({prop:y,from:p[y],to:h[y]});l.push(u),this.animatingShapes.set(p.id,i)}});let c;const d=h=>{if(o-=h,o<0){const{animatingShapes:p}=this,y=e.filter(m=>m&&p.get(m.id)===i);y.length&&this.updateShapes(y,{squashing:!1}),this.removeListener("tick",d);return}a=s(1-o/r);const{animatingShapes:u}=this;try{const p=[];for(let y=0;y<l.length;y++)c=l[y],u.get(c.partial.id)===i&&p.push({id:c.partial.id,type:c.partial.type,...c.values.reduce((m,{prop:w,from:S,to:b})=>(m[w]=S+(b-S)*a,m),{})});this._updateShapes(p,{squashing:!0})}catch{}};return this.addListener("tick",d),this}groupShapes(e,n=Hl()){var u;if(!Array.isArray(e))throw Error("Editor.groupShapes: must provide an array of shapes or shape ids");if(this.getInstanceState().isReadonly)return this;const r=typeof e[0]=="string"?e:e.map(p=>p.id);if(r.length<=1)return this;const s=qe(this._getUnlockedShapeIds(r).map(p=>this.getShape(p))),i=s.sort(Mi).map(p=>p.id),o=Ve.Common(qe(s.map(p=>this.getShapePageBounds(p)))),{x:a,y:l}=o.point,c=this.findCommonAncestor(s)??this.getCurrentPageId();if(this.getCurrentToolId()!=="select")return this;this.isIn("select.idle")||this.cancel();const d=s.filter(p=>p.parentId===c).sort(Mi),h=(u=d[d.length-1])==null?void 0:u.index;return this.batch(()=>{this.createShapes([{id:n,type:"group",parentId:c,index:h,x:a,y:l,opacity:1,props:{}}]),this.reparentShapes(i,n),this.select(n)}),this}ungroupShapes(e){const n=typeof e[0]=="string"?e:e.map(o=>o.id);if(this.getInstanceState().isReadonly)return this;if(n.length===0)return this;if(this.getCurrentToolId()!=="select")return this;this.isIn("select.idle")||this.cancel();const r=new Set,s=qe(n.map(o=>this.getShape(o))),i=[];return s.forEach(o=>{this.isShapeOfType(o,"group")?i.push(o):r.add(o.id)}),i.length===0?this:(this.batch(()=>{let o;for(let a=0,l=i.length;a<l;a++){o=i[a];const c=this.getSortedChildIdsForParent(o.id);for(let d=0,h=c.length;d<h;d++)r.add(c[d]);this.reparentShapes(c,o.parentId,o.index)}this.deleteShapes(i.map(a=>a.id)),this.select(...r)}),this)}updateShape(e,n){return this.updateShapes([e],n),this}updateShapes(e,n){let r=qe(e);return this.animatingShapes.size>0&&r.forEach(s=>this.animatingShapes.delete(s.id)),r=r.filter(s=>{const i=this.getShape(s.id);return!(!i||this.isShapeOrAncestorLocked(i)&&!Object.hasOwn(s,"isLocked"))}),this._updateShapes(r,n),this}_getUnlockedShapeIds(e){return e.filter(n=>{var r;return!((r=this.getShape(n))!=null&&r.isLocked)})}deleteShapes(e){if(!Array.isArray(e))throw Error("Editor.deleteShapes: must provide an array of shapes or shapeIds");return this._deleteShapes(this._getUnlockedShapeIds(typeof e[0]=="string"?e:e.map(n=>n.id))),this}deleteShape(e){return this.deleteShapes([typeof e=="string"?e:e.id]),this}_extractSharedStyles(e,n){if(this.isShapeOfType(e,"group")){const r=this._parentIdsToChildIds.get()[e.id];if(!r)return;for(let s=0,i=r.length;s<i;s++)this._extractSharedStyles(this.getShape(r[s]),n)}else for(const[r,s]of this.styleProps[e.type])n.applyValue(r,C5(e.props,s))}getStyleForNextShape(e){const n=this.getInstanceState().stylesForNextShape[e.id];return n===void 0?e.defaultValue:n}getShapeStyleIfExists(e,n){const r=this.styleProps[e.type].get(n);if(r!==void 0)return C5(e.props,r)}getSharedStyles(){if(this.isIn("select")&&this.getSelectedShapeIds().length>0)return this._selectionSharedStyles.get();const e=this.root.getCurrent(),n=new e_;if(!e)return n;if(e.shapeType)for(const r of this.styleProps[e.shapeType].keys())n.applyValue(r,this.getStyleForNextShape(r));return n}getSharedOpacity(){if(this.isIn("select")&&this.getSelectedShapeIds().length>0){const e=[],n=s=>{const i=this.getShape(s);if(i)if(this.isShapeOfType(i,"group"))for(const o of this.getSortedChildIdsForParent(i.id))n(o);else e.push(i)};for(const s of this.getSelectedShapeIds())n(s);let r=null;for(const s of e)if(r===null)r=s.opacity;else if(r!==s.opacity)return{type:"mixed"};if(r!==null)return{type:"shared",value:r}}return{type:"shared",value:this.getInstanceState().opacityForNextShape}}setOpacityForNextShapes(e,n){return this.updateInstanceState({opacityForNextShape:e},n),this}setOpacityForSelectedShapes(e,n){const r=this.getSelectedShapes();if(r.length>0){const s=[],i=o=>{if(this.isShapeOfType(o,"group")){const a=this.getSortedChildIdsForParent(o);for(const l of a)i(this.getShape(l))}else s.push(o)};for(const o of r)i(o);this.updateShapes(s.map(o=>({id:o.id,type:o.type,opacity:e})),n)}return this}setStyleForNextShapes(e,n,r){const s=this.getInstanceState().stylesForNextShape;return this.updateInstanceState({stylesForNextShape:{...s,[e.id]:n}},r),this}setStyleForSelectedShapes(e,n,r){const s=this.getSelectedShapes();if(s.length>0){const i=[],o=a=>{if(this.isShapeOfType(a,"group")){const l=this.getSortedChildIdsForParent(a.id);for(const c of l)o(this.getShape(c))}else{const l=this.getShapeUtil(a),c=this.styleProps[a.type].get(e);if(c){const d={id:a.id,type:a.type,props:{[c]:n}};i.push({util:l,originalShape:a,updatePartial:d})}}};for(const a of s)o(a);this.updateShapes(i.map(({updatePartial:a})=>a),r)}return this}registerExternalAssetHandler(e,n){return this.externalAssetContentHandlers[e]=n,this}async getAssetForExternalContent(e){var n,r;return await((r=(n=this.externalAssetContentHandlers)[e.type])==null?void 0:r.call(n,e))}registerExternalContentHandler(e,n){return this.externalContentHandlers[e]=n,this}async putExternalContent(e){var n,r;return(r=(n=this.externalContentHandlers)[e.type])==null?void 0:r.call(n,e)}getContentFromCurrentPage(e){const n=typeof e[0]=="string"?e:e.map(a=>a.id);if(!n||n.length===0)return;const r={};let s=yy(n.map(a=>this.getShape(a)).sort(Mi).flatMap(a=>{const l=[a];return this.visitDescendants(a.id,c=>{l.push(this.getShape(c))}),l}));s=s.map(a=>{if(r[a.id]=this.getShapePageTransform(a.id),a=Ku(a),this.isShapeOfType(a,"arrow")){const l=a.props.start.type==="binding"?a.props.start.boundShapeId:void 0,c=a.props.end.type==="binding"?a.props.end.boundShapeId:void 0,d=this.getArrowInfo(a);if(a.props.start.type==="binding"&&!s.some(u=>u.id===l))if(d!=null&&d.isValid){const{x:u,y:p}=d.start.point;a.props.start={type:"point",x:u,y:p}}else{const{start:u}=Nl(this,a);a.props.start={type:"point",x:u.x,y:u.y}}if(a.props.end.type==="binding"&&!s.some(u=>u.id===c))if(d!=null&&d.isValid){const{x:u,y:p}=d.end.point;a.props.end={type:"point",x:u,y:p}}else{const{end:u}=Nl(this,a);a.props.end={type:"point",x:u.x,y:u.y}}const h=Lu(a)?pp(this,a):N5(this,a);if(d!=null&&d.isValid&&(h!=null&&h.isValid)&&!Lu(a)){const u=j.Med(d.start.handle,d.end.handle),p=j.Dist(d.middle,u),y=j.Dist(h.middle,u);a.props.bend<0?a.props.bend+=y-p:a.props.bend-=y-p}return a}return a});const i=[];s.forEach(a=>{if(s.find(l=>l.id===a.parentId)===void 0){const l=this.getShapePageTransform(a.id),c=l.point(),d=l.rotation();a.x=c.x,a.y=c.y,a.rotation=d,a.parentId=this.getCurrentPageId(),i.push(a.id)}});const o=new Set;return s.forEach(a=>{"assetId"in a.props&&a.props.assetId!==null&&o.add(a.props.assetId)}),{shapes:s,rootShapeIds:i,schema:this.store.schema.serialize(),assets:qe(Array.from(o).map(a=>this.getAsset(a)))}}putContentOntoCurrentPage(e,n={}){if(this.getInstanceState().isReadonly)return this;if(!e.schema)throw Error(`Could not put content:
content is missing a schema.`);const{select:r=!1,preserveIds:s=!1,preservePosition:i=!1}=n;let{point:o=void 0}=n;const a=this.getCurrentPageId(),{assets:l,shapes:c,rootShapeIds:d}=e,h=new Map(c.map(x=>[x.id,Hl()]));let u=this.getCurrentPageId(),p=1/0,y=[];for(const x of this.getSelectedShapes()){if(p===0)break;const k=this.isShapeOfType(x,"frame"),C=this.getShapeAncestors(x);k&&C.push(x);const _=k?C.length+1:C.length;if(_<p)p=_,y=C,u=k?x.id:x.parentId;else if(_===p){if(y.length!==C.length)throw Error(`Ancestors: ${y.length} !== ${C.length}`);if(y.length===0){u=a;break}else{u=a;for(let E=0;E<y.length&&C[E]===y[E];E++)u=C[E].id}}}let m=!1;if(!Hr(u)){const x=this.getShape(u);if(x){if(!this.getViewportPageBounds().includes(this.getShapePageBounds(x)))u=a;else if(d.length===1){const k=c.find(C=>C.id===d[0]);this.isShapeOfType(x,"frame")&&this.isShapeOfType(k,"frame")&&k.props.w===(x==null?void 0:x.props.w)&&k.props.h===(x==null?void 0:x.props.h)&&(m=!0)}}else u=a}m||(m=h.has(u)),m&&(u=this.getShape(u).parentId);let w=this.getHighestIndexForParent(u);const S=[],b=c.map(x=>{let k;if(s)k=eh(x),h.set(x.id,x.id);else{const C=h.get(x.id);k=eh({...x,id:C})}if(d.includes(x.id)&&(k.parentId=a,S.push(k)),h.has(k.parentId)?k.parentId=h.get(x.parentId):(d.push(k.id),k.index=w,w=hd(w)),this.isShapeOfType(k,"arrow")){if(k.props.start.type==="binding"){const C=h.get(k.props.start.boundShapeId);k.props.start=C?{...k.props.start,boundShapeId:C}:{type:"point",x:0,y:0}}if(k.props.end.type==="binding"){const C=h.get(k.props.end.boundShapeId);k.props.end=C?{...k.props.end,boundShapeId:C}:{type:"point",x:0,y:0}}}return k});if(b.length+this.getCurrentPageShapeIds().size>xo)return m0(this),this;let g=[];if(l){for(let k=0;k<l.length;k++){const C=l[k],_=this.store.schema.migratePersistedRecord(C,e.schema);if(_.type==="success")l[k]=_.value;else throw Error(`Could not put content:
could not migrate content for asset:
${C.id}
${C.type}
reason:${_.reason}`)}const x=[];g=l.filter(k=>!this.store.has(k.id)).map(k=>{var C;return(k.type==="image"||k.type==="video")&&(k.props.src&&((C=k.props.src)!=null&&C.startsWith("data:image"))?(x.push(Ku(k)),k.props.src=null):x.push(Ku(k))),k}),Promise.allSettled(x.map(async k=>{const C=await v2e(k.props.src,k.props.name,k.props.mimeType??"image/png"),_=await this.getAssetForExternalContent({type:"file",file:C});return _?[k,_]:null})).then(k=>{this.updateAssets(qe(k.map(C=>C.status==="fulfilled"&&C.value?{...C.value[1],id:C.value[0].id}:void 0)))})}for(let x=0;x<b.length;x++){const k=b[x],C=this.store.schema.migratePersistedRecord(k,e.schema);if(C.type==="success")b[x]=C.value;else throw Error(`Could not put content:
could not migrate content for shape:
${k.id}, ${k.type}
reason:${C.reason}`)}return this.batch(()=>{g.length>0&&this.createAssets(g),this.createShapes(b),r&&this.select(...S.map(E=>E.id)),u!==a&&this.reparentShapes(S.map(E=>E.id),u);const x=b.map(E=>this.getShape(E.id)),k=Ve.Common(x.map(E=>this.getShapePageBounds(E)));if(o===void 0)if(Hr(u)){const E=this.getViewportPageBounds();i||E.includes(Ve.From(k))?o=k.center:o=E.center}else{const E=this.getShape(u);o=be.applyToPoint(this.getShapePageTransform(E),this.getShapeGeometry(E).bounds.center)}if(S.length===1){const E=S[0];if(this.isShapeOfType(E,"frame"))for(;this.getShapesAtPoint(o).some(z=>this.isShapeOfType(z,"frame")&&z.props.w===E.props.w&&z.props.h===E.props.h);)o.x+=k.w+16}const C=Ve.Common(qe(S.map(({id:E})=>this.getShapePageBounds(E)))).center,_=j.Sub(o,C);this.updateShapes(S.map(({id:E})=>{const z=this.getShape(E),P=this.getShapeParentTransform(E).decompose().rotation,A=j.Rot(_,-P);return{id:z.id,type:z.type,x:z.x+A.x,y:z.y+A.y}}))}),this}async getSvg(e,n={}){var x,k;const r=typeof e[0]=="string"?e:e.map(C=>C.id);if(r.length===0)return;if(!window.document)throw Error("No document");const{scale:s=1,background:i=!1,padding:o=Kye,preserveAspectRatio:a=!1}=n,l=Rme({isDarkMode:this.user.getIsDarkMode()}),c=this.getShapeAndDescendantIds(r),d=this.getUnorderedRenderingShapes(!1).filter(({id:C})=>c.has(C));let h=null;if(n.bounds)h=n.bounds;else for(const{maskedPageBounds:C}of d)C&&(h?h.union(C):h=C.clone());if(!h)return;const u=r.length===1&&this.isShapeOfType(this.getShape(r[0]),"frame")?r[0]:null;u||h.expandBy(o);const p=h.width*s,y=h.height*s,m=window.document.createElementNS("http://www.w3.org/2000/svg","svg");a&&m.setAttribute("preserveAspectRatio",a),m.setAttribute("direction","ltr"),m.setAttribute("width",p+""),m.setAttribute("height",y+""),m.setAttribute("viewBox",`${h.minX} ${h.minY} ${h.width} ${h.height}`),m.setAttribute("stroke-linecap","round"),m.setAttribute("stroke-linejoin","round"),i?u?m.style.setProperty("background",l.solid):m.style.setProperty("background-color",l.background):m.style.setProperty("background-color","transparent");try{(k=(x=document.body).focus)==null||k.call(x)}catch{}const w=window.document.createElementNS("http://www.w3.org/2000/svg","defs");m.append(w);const S=new Map,b={addExportDef:C=>{if(S.has(C.key))return;const _=(async()=>{const E=await C.getElement();if(!E)return;const z=document.createComment(`def: ${C.key}`);w.appendChild(z);for(const P of Array.isArray(E)?E:[E])w.appendChild(P)})();S.set(C.key,_)}},g=(await Promise.all(d.map(async({id:C,opacity:_,index:E,backgroundIndex:z})=>{var X,O;if(C===u)return[];const P=this.getShape(C);if(this.isShapeOfType(P,"group"))return[];const A=this.getShapeUtil(P);let N=await((X=A.toSvg)==null?void 0:X.call(A,P,b)),L=await((O=A.toBackgroundSvg)==null?void 0:O.call(A,P,b));if(N){const K=document.createElementNS("http://www.w3.org/2000/svg","g");K.appendChild(N),N=K}if(L){const K=document.createElementNS("http://www.w3.org/2000/svg","g");K.appendChild(L),L=K}if(!N&&!L){const K=this.getShapePageBounds(P),W=window.document.createElementNS("http://www.w3.org/2000/svg","rect");W.setAttribute("width",K.width+""),W.setAttribute("height",K.height+""),W.setAttribute("fill",l.solid),W.setAttribute("stroke",l.grey.pattern),W.setAttribute("stroke-width","1"),N=W}let M=this.getShapePageTransform(P).toCssString();"scale"in P.props&&P.props.scale!==1&&(M=`${M} scale(${P.props.scale}, ${P.props.scale})`),N==null||N.setAttribute("transform",M),L==null||L.setAttribute("transform",M),N==null||N.setAttribute("opacity",_+""),L==null||L.setAttribute("opacity",_+"");const q=this.getShapeMask(P.id);if(q){const K=document.createElementNS("http://www.w3.org/2000/svg","clipPath");w.appendChild(K);const W=wn();K.id=W;const G=document.createElementNS("http://www.w3.org/2000/svg","path");if(G.setAttribute("d",`M${q.map(({x:J,y:ye})=>`${J},${ye}`).join("L")}Z`),K.appendChild(G),N){const J=document.createElementNS("http://www.w3.org/2000/svg","g");J.setAttribute("clip-path",`url(#${W})`),J.appendChild(N),N=J}if(L){const J=document.createElementNS("http://www.w3.org/2000/svg","g");J.setAttribute("clip-path",`url(#${W})`),J.appendChild(L),L=J}}const D=[];return N&&D.push({zIndex:E,element:N}),L&&D.push({zIndex:z,element:L}),D}))).flat();await Promise.all(S.values());for(const{element:C}of g.sort((_,E)=>_.zIndex-E.zIndex))m.appendChild(C);return m}_updateInputsFromEvent(e){var p;const{previousScreenPoint:n,previousPagePoint:r,currentScreenPoint:s,currentPagePoint:i}=this.inputs,{screenBounds:o}=this.store.unsafeGetWithoutCapture(cr),{x:a,y:l,z:c}=e.point,{x:d,y:h,z:u}=this.getCamera();n.setTo(s),r.setTo(i),s.set(a,l),i.set((a-o.x)/u-d,(l-o.y)/u-h,c??.5),this.inputs.isPen=e.type==="pointer"&&e.isPen,e.name==="pointer_down"&&this.inputs.pointerVelocity.set(0,0),this.store.put([{id:gy,typeName:"pointer",x:i.x,y:i.y,lastActivityTimestamp:e.type==="pointer"&&e.pointerId===FC.CAMERA_MOVE?((p=this.store.get(gy))==null?void 0:p.lastActivityTimestamp)??Date.now():Date.now(),meta:{}}])}cancel(){return this.dispatch({type:"misc",name:"cancel"}),this}interrupt(){return this.dispatch({type:"misc",name:"interrupt"}),this}complete(){return this.dispatch({type:"misc",name:"complete"}),this}cancelDoubleClick(){this._clickManager.cancelDoubleClickTimeout()}}function m0(t,e=t.getCurrentPageId()){const n=t.getPage(e).name;t.emit("max-shapes",{name:n,pageId:e,count:xo})}function d_(t,e){if(!e.constraints)throw Error("Should have constraints here");const{padding:{x:n,y:r}}=e.constraints,s=t.getViewportScreenBounds(),i=Ve.From(e.constraints.bounds),o=(s.w-n*2)/i.w,a=(s.h-r*2)/i.h;return{zx:o,zy:a}}function i$(){const t=Te();return Me("isDarkMode",()=>t.user.getIsDarkMode(),[t])}const txe='<path d="m12 24.4219v-16.015l11.591 11.619h-6.781l-.411.124z" fill="white"/><path d="m21.0845 25.0962-3.605 1.535-4.682-11.089 3.686-1.553z" fill="white"/><path d="m19.751 24.4155-1.844.774-3.1-7.374 1.841-.775z" fill="black"/><path d="m13 10.814v11.188l2.969-2.866.428-.139h4.768z" fill="black"/>',nxe='<path d="m13.3315 21.3799c-.284-.359-.629-1.093-1.243-1.984-.348-.504-1.211-1.453-1.468-1.935-.223-.426-.199-.617-.146-.97.094-.628.738-1.117 1.425-1.051.519.049.959.392 1.355.716.239.195.533.574.71.788.163.196.203.277.377.509.23.307.302.459.214.121-.071-.496-.187-1.343-.355-2.092-.128-.568-.159-.657-.281-1.093-.129-.464-.195-.789-.316-1.281-.084-.348-.235-1.059-.276-1.459-.057-.547-.087-1.439.264-1.849.275-.321.906-.418 1.297-.22.512.259.803 1.003.936 1.3.239.534.387 1.151.516 1.961.164 1.031.466 2.462.476 2.763.024-.369-.068-1.146-.004-1.5.058-.321.328-.694.666-.795.286-.085.621-.116.916-.055.313.064.643.288.766.499.362.624.369 1.899.384 1.831.086-.376.071-1.229.284-1.584.14-.234.497-.445.687-.479.294-.052.655-.068.964-.008.249.049.586.345.677.487.218.344.342 1.317.379 1.658.015.141.074-.392.293-.736.406-.639 1.843-.763 1.898.639.025.654.02.624.02 1.064 0 .517-.012.828-.04 1.202-.031.4-.117 1.304-.242 1.742-.086.301-.371.978-.652 1.384 0 0-1.074 1.25-1.191 1.813-.118.562-.079.566-.102.965-.023.398.121.922.121.922s-.802.104-1.234.035c-.391-.063-.875-.841-1-1.079-.172-.328-.539-.265-.682-.023-.225.383-.709 1.07-1.051 1.113-.668.084-2.054.031-3.139.02 0 0 .185-1.011-.227-1.358-.305-.259-.83-.784-1.144-1.06z" fill="white"/><g stroke="black" stroke-linecap="round" stroke-width=".75"><path d="m13.3315 21.3799c-.284-.359-.629-1.093-1.243-1.984-.348-.504-1.211-1.453-1.468-1.935-.223-.426-.199-.617-.146-.97.094-.628.738-1.117 1.425-1.051.519.049.959.392 1.355.716.239.195.533.574.71.788.163.196.203.277.377.509.23.307.302.459.214.121-.071-.496-.187-1.343-.355-2.092-.128-.568-.159-.657-.281-1.093-.129-.464-.195-.789-.316-1.281-.084-.348-.235-1.059-.276-1.459-.057-.547-.087-1.439.264-1.849.275-.321.906-.418 1.297-.22.512.259.803 1.003.936 1.3.239.534.387 1.151.516 1.961.164 1.031.466 2.462.476 2.763.024-.369-.068-1.146-.004-1.5.058-.321.328-.694.666-.795.286-.085.621-.116.916-.055.313.064.643.288.766.499.362.624.369 1.899.384 1.831.086-.376.071-1.229.284-1.584.14-.234.497-.445.687-.479.294-.052.655-.068.964-.008.249.049.586.345.677.487.218.344.342 1.317.379 1.658.015.141.074-.392.293-.736.406-.639 1.843-.763 1.898.639.025.654.02.624.02 1.064 0 .517-.012.828-.04 1.202-.031.4-.117 1.304-.242 1.742-.086.301-.371.978-.652 1.384 0 0-1.074 1.25-1.191 1.813-.118.562-.079.566-.102.965-.023.398.121.922.121.922s-.802.104-1.234.035c-.391-.063-.875-.841-1-1.079-.172-.328-.539-.265-.682-.023-.225.383-.709 1.07-1.051 1.113-.668.084-2.054.031-3.139.02 0 0 .185-1.011-.227-1.358-.305-.259-.83-.784-1.144-1.06z" stroke-linejoin="round"/><path d="m21.5664 21.7344v-3.459"/><path d="m19.5508 21.7461-.016-3.473"/><path d="m17.5547 18.3047.021 3.426"/></g>',rxe='<path d="m25 16h-6.01v-6h-2.98v6h-6.01v3h6.01v6h2.98v-6h6.01z" fill="white"/><path d="m23.9902 17.0103h-6v-6.01h-.98v6.01h-6v.98h6v6.01h.98v-6.01h6z" fill="%23231f1f"/>',sxe='<path d="m19 14h1v1h-1zm1 6h-1v-1h1zm-5-5h-1v-1h1zm0 5h-1v-1h1zm2-10.987-7.985 7.988 5.222 5.221 2.763 2.763 7.984-7.985z" fill="white"/><g fill="black"><path d="m23.5664 16.9971-2.557-2.809v1.829h-4.009-4.001v-1.829l-2.571 2.809 2.572 2.808-.001-1.808h4.001 4.009l-.001 1.808z"/><path d="m17.9873 17h.013v-4.001l1.807.001-2.807-2.571-2.809 2.57h1.809v4.001h.008v4.002l-1.828-.001 2.807 2.577 2.805-2.576h-1.805z"/></g>',h_="<path d='m19.7432 17.0869-4.072 4.068 2.829 2.828-8.473-.013-.013-8.47 2.841 2.842 4.075-4.068 1.414-1.415-2.844-2.842h8.486v8.484l-2.83-2.827z' fill='%23fff'/><path d='m18.6826 16.7334-4.427 4.424 1.828 1.828-5.056-.016-.014-5.054 1.842 1.841 4.428-4.422 2.474-2.475-1.844-1.843h5.073v5.071l-1.83-1.828z' fill='%23000'/>",u_="<path d='m9 17.9907v.005l5.997 5.996.001-3.999h1.999 2.02v4l5.98-6.001-5.98-5.999.001 4.019-2.021.002h-2l.001-4.022zm1.411.003 3.587-3.588-.001 2.587h3.5 2.521v-2.585l3.565 3.586-3.564 3.585-.001-2.585h-2.521l-3.499-.001-.001 2.586z' fill='%23fff'/><path d='m17.4971 18.9932h2.521v2.586l3.565-3.586-3.565-3.585v2.605h-2.521-3.5v-2.607l-3.586 3.587 3.586 3.586v-2.587z' fill='%23000'/>",y0='<path d="M22.4789 9.45728L25.9935 12.9942L22.4789 16.5283V14.1032C18.126 14.1502 14.6071 17.6737 14.5675 22.0283H17.05L13.513 25.543L9.97889 22.0283H12.5674C12.6071 16.5691 17.0214 12.1503 22.4789 12.1031L22.4789 9.45728Z" fill="black"/><path fill-rule="evenodd" clip-rule="evenodd" d="M21.4789 7.03223L27.4035 12.9945L21.4789 18.9521V15.1868C18.4798 15.6549 16.1113 18.0273 15.649 21.0284H19.475L13.5128 26.953L7.55519 21.0284H11.6189C12.1243 15.8155 16.2679 11.6677 21.4789 11.1559L21.4789 7.03223ZM22.4789 12.1031C17.0214 12.1503 12.6071 16.5691 12.5674 22.0284H9.97889L13.513 25.543L17.05 22.0284H14.5675C14.5705 21.6896 14.5947 21.3558 14.6386 21.0284C15.1157 17.4741 17.9266 14.6592 21.4789 14.1761C21.8063 14.1316 22.1401 14.1069 22.4789 14.1032V16.5284L25.9935 12.9942L22.4789 9.45729L22.4789 12.1031Z" fill="white"/>',ixe='<path fill="white" d="M7.94 0a5.25 5.25 0 0 0-3.47 1.17A5.27 5.27 0 0 0 1 0H0v3h1c1.41 0 1.85.7 2 1v3.94H2v3h1v3c-.13.3-.57 1-2 1H0v3h1a5.27 5.27 0 0 0 3.47-1.17c.98.8 2.21 1.21 3.47 1.17h1v-3h-1c-1.41 0-1.85-.7-2-1v-3H7v-3H6V4c.13-.3.57-1 2-1h1V0H7.94z"/><path fill="black" d="M7.94 2V1a4 4 0 0 0-3.47 1.64A4 4 0 0 0 1 1v1c1.3-.17 2.56.6 3 1.84v5.1H3v1h1v4.16c-.45 1.24-1.7 2-3 1.84v1a4.05 4.05 0 0 0 3.47-1.63 4.05 4.05 0 0 0 3.47 1.63v-1A2.82 2.82 0 0 1 5 14.1V9.93h1v-1H5V3.85A2.81 2.81 0 0 1 7.94 2z"/>',oxe="<path d='m13.5732 12.0361c.48-.178 1.427-.069 1.677.473.213.462.396 1.241.406 1.075.024-.369-.024-1.167.137-1.584.117-.304.347-.59.686-.691.285-.086.62-.116.916-.055.313.064.642.287.765.499.362.623.368 1.899.385 1.831.064-.272.07-1.229.283-1.584.141-.235.497-.445.687-.479.294-.052.656-.068.964-.008.249.049.586.344.677.487.219.344.342 1.316.379 1.658.016.141.074-.393.293-.736.406-.639 1.844-.763 1.898.639.026.654.02.624.02 1.064 0 .516-.012.828-.04 1.202-.03.399-.116 1.304-.241 1.742-.086.301-.371.978-.653 1.384 0 0-1.074 1.25-1.191 1.812-.117.563-.078.567-.102.965-.023.399.121.923.121.923s-.801.104-1.234.034c-.391-.062-.875-.84-1-1.078-.172-.328-.539-.265-.682-.023-.224.383-.709 1.07-1.05 1.113-.669.084-2.055.03-3.14.02 0 0 .185-1.011-.227-1.358-.305-.26-.83-.784-1.144-1.06l-.832-.921c-.283-.36-1.002-.929-1.243-1.985-.213-.936-.192-1.395.037-1.77.232-.381.67-.589.854-.625.208-.042.692-.039.875.062.223.123.313.159.488.391.23.307.312.456.213.121-.076-.262-.322-.595-.434-.97-.109-.361-.401-.943-.38-1.526.008-.221.103-.771.832-1.042' fill='white'/><g stroke='black' stroke-width='.75'><path d='m13.5732 12.0361c.48-.178 1.427-.069 1.677.473.213.462.396 1.241.406 1.075.024-.369-.024-1.167.137-1.584.117-.304.347-.59.686-.691.285-.086.62-.116.916-.055.313.064.642.287.765.499.362.623.368 1.899.385 1.831.064-.272.07-1.229.283-1.584.141-.235.497-.445.687-.479.294-.052.656-.068.964-.008.249.049.586.344.677.487.219.344.342 1.316.379 1.658.016.141.074-.393.293-.736.406-.639 1.844-.763 1.898.639.026.654.02.624.02 1.064 0 .516-.012.828-.04 1.202-.03.399-.116 1.304-.241 1.742-.086.301-.371.978-.653 1.384 0 0-1.074 1.25-1.191 1.812-.117.563-.078.567-.102.965-.023.399.121.923.121.923s-.801.104-1.234.034c-.391-.062-.875-.84-1-1.078-.172-.328-.539-.265-.682-.023-.224.383-.709 1.07-1.05 1.113-.669.084-2.055.03-3.14.02 0 0 .185-1.011-.227-1.358-.305-.26-.83-.784-1.144-1.06l-.832-.921c-.283-.36-1.002-.929-1.243-1.985-.213-.936-.192-1.395.037-1.77.232-.381.67-.589.854-.625.208-.042.692-.039.875.062.223.123.313.159.488.391.23.307.312.456.213.121-.076-.262-.322-.595-.434-.97-.109-.361-.401-.943-.38-1.526.008-.221.103-.771.832-1.042z' stroke-linejoin='round'/><path d='m20.5664 19.7344v-3.459' stroke-linecap='round'/><path d='m18.5508 19.7461-.016-3.473' stroke-linecap='round'/><path d='m16.5547 16.3047.021 3.426' stroke-linecap='round'/></g>",axe='<path d="m13.5557 17.5742c-.098-.375-.196-.847-.406-1.552-.167-.557-.342-.859-.47-1.233-.155-.455-.303-.721-.496-1.181-.139-.329-.364-1.048-.457-1.44-.119-.509.033-.924.244-1.206.253-.339.962-.49 1.357-.351.371.13.744.512.916.788.288.46.357.632.717 1.542.393.992.564 1.918.611 2.231l.085.452c-.001-.04-.043-1.122-.044-1.162-.035-1.029-.06-1.823-.038-2.939.002-.126.064-.587.084-.715.078-.5.305-.8.673-.979.412-.201.926-.215 1.401-.017.423.173.626.55.687 1.022.014.109.094.987.093 1.107-.013 1.025.006 1.641.015 2.174.004.231.003 1.625.017 1.469.061-.656.094-3.189.344-3.942.144-.433.405-.746.794-.929.431-.203 1.113-.07 1.404.243.285.305.446.692.482 1.153.032.405-.019.897-.02 1.245 0 .867-.021 1.324-.037 2.121-.001.038-.015.298.023.182.094-.28.188-.542.266-.745.049-.125.241-.614.359-.859.114-.234.211-.369.415-.688.2-.313.415-.448.668-.561.54-.235 1.109.112 1.301.591.086.215.009.713-.028 1.105-.061.647-.254 1.306-.352 1.648-.128.447-.274 1.235-.34 1.601-.072.394-.234 1.382-.359 1.82-.086.301-.371.978-.652 1.384 0 0-1.074 1.25-1.192 1.812-.117.563-.078.567-.101.965-.024.399.121.923.121.923s-.802.104-1.234.034c-.391-.062-.875-.841-1-1.078-.172-.328-.539-.265-.682-.023-.225.383-.709 1.07-1.051 1.113-.668.084-2.054.03-3.139.02 0 0 .185-1.011-.227-1.358-.305-.26-.83-.784-1.144-1.06l-.832-.921c-.284-.36-.629-1.093-1.243-1.985-.348-.504-1.027-1.085-1.284-1.579-.223-.425-.331-.954-.19-1.325.225-.594.675-.897 1.362-.832.519.05.848.206 1.238.537.225.19.573.534.75.748.163.195.203.276.377.509.23.307.302.459.214.121" fill="white"/><g stroke="black" stroke-linecap="round" stroke-width=".75"><path d="m13.5557 17.5742c-.098-.375-.196-.847-.406-1.552-.167-.557-.342-.859-.47-1.233-.155-.455-.303-.721-.496-1.181-.139-.329-.364-1.048-.457-1.44-.119-.509.033-.924.244-1.206.253-.339.962-.49 1.357-.351.371.13.744.512.916.788.288.46.357.632.717 1.542.393.992.564 1.918.611 2.231l.085.452c-.001-.04-.043-1.122-.044-1.162-.035-1.029-.06-1.823-.038-2.939.002-.126.064-.587.084-.715.078-.5.305-.8.673-.979.412-.201.926-.215 1.401-.017.423.173.626.55.687 1.022.014.109.094.987.093 1.107-.013 1.025.006 1.641.015 2.174.004.231.003 1.625.017 1.469.061-.656.094-3.189.344-3.942.144-.433.405-.746.794-.929.431-.203 1.113-.07 1.404.243.285.305.446.692.482 1.153.032.405-.019.897-.02 1.245 0 .867-.021 1.324-.037 2.121-.001.038-.015.298.023.182.094-.28.188-.542.266-.745.049-.125.241-.614.359-.859.114-.234.211-.369.415-.688.2-.313.415-.448.668-.561.54-.235 1.109.112 1.301.591.086.215.009.713-.028 1.105-.061.647-.254 1.306-.352 1.648-.128.447-.274 1.235-.34 1.601-.072.394-.234 1.382-.359 1.82-.086.301-.371.978-.652 1.384 0 0-1.074 1.25-1.192 1.812-.117.563-.078.567-.101.965-.024.399.121.923.121.923s-.802.104-1.234.034c-.391-.062-.875-.841-1-1.078-.172-.328-.539-.265-.682-.023-.225.383-.709 1.07-1.051 1.113-.668.084-2.054.03-3.139.02 0 0 .185-1.011-.227-1.358-.305-.26-.83-.784-1.144-1.06l-.832-.921c-.284-.36-.629-1.093-1.243-1.985-.348-.504-1.027-1.085-1.284-1.579-.223-.425-.331-.954-.19-1.325.225-.594.675-.897 1.362-.832.519.05.848.206 1.238.537.225.19.573.534.75.748.163.195.203.276.377.509.23.307.302.459.214.121" stroke-linejoin="round"/><path d="m20.5664 21.7344v-3.459"/><path d="m18.5508 21.7461-.016-3.473"/><path d="m16.5547 18.3047.021 3.426"/></g>',lxe='<path d="m20.5 15c0 3.038-2.462 5.5-5.5 5.5s-5.5-2.462-5.5-5.5 2.462-5.5 5.5-5.5 5.5 2.462 5.5 5.5" fill="white"/><path d="m20.5 15c0 3.038-2.462 5.5-5.5 5.5s-5.5-2.462-5.5-5.5 2.462-5.5 5.5-5.5 5.5 2.462 5.5 5.5z" stroke="black"/><g fill="black"><path d="m18 14h-2v-2h-2v2h-2v1.98h2v2.02h2v-2.02h2z"/><path d="m23.5859 25 1.414-1.414-5.449-5.449-1.414 1.414z"/></g>',cxe='<path d="m20.5 15c0 3.038-2.462 5.5-5.5 5.5s-5.5-2.462-5.5-5.5 2.462-5.5 5.5-5.5 5.5 2.462 5.5 5.5" fill="white"/><path d="m20.5 15c0 3.038-2.462 5.5-5.5 5.5s-5.5-2.462-5.5-5.5 2.462-5.5 5.5-5.5 5.5 2.462 5.5 5.5z" stroke="black"/><g fill="black"><path d="m18 16h-5.98v-1.98h5.98z"/><path d="m23.5859 25 1.414-1.414-5.449-5.449-1.414 1.414z"/></g>';function zn(t,e,n,r,s,i=16,o=16){const a=(-n-e)*(Fh/180),l=Math.sin(a),c=Math.cos(a),d=1*c-1*l,h=1*l+1*c;return`url("data:image/svg+xml,<svg height='32' width='32' viewBox='0 0 32 32' xmlns='http://www.w3.org/2000/svg' style='color: ${s};'><defs><filter id='shadow' y='-40%' x='-40%' width='180px' height='180%' color-interpolation-filters='sRGB'><feDropShadow dx='${d}' dy='${h}' stdDeviation='1.2' flood-opacity='.5'/></filter></defs><g fill='none' transform='rotate(${e+n} 16 16)${r?" scale(-1,-1) translate(0, -32)":""}' filter='url(%23shadow)'>`+t.replaceAll('"',"'")+`</g></svg>") ${i} ${o}, pointer`}const dxe={none:()=>"none",default:(t,e,n)=>zn(txe,t,0,e,n,12,8),pointer:(t,e,n)=>zn(nxe,t,0,e,n,14,10),cross:(t,e,n)=>zn(rxe,t,0,e,n),move:(t,e,n)=>zn(sxe,t,0,e,n),grab:(t,e,n)=>zn(axe,t,0,e,n),grabbing:(t,e,n)=>zn(oxe,t,0,e,n),text:(t,e,n)=>zn(ixe,t,0,e,n,4,10),"ew-resize":(t,e,n)=>zn(u_,t,0,e,n),"ns-resize":(t,e,n)=>zn(u_,t,90,e,n),"nesw-resize":(t,e,n)=>zn(h_,t,0,e,n),"nwse-resize":(t,e,n)=>zn(h_,t,90,e,n),"nwse-rotate":(t,e,n)=>zn(y0,t,0,e,n),"nesw-rotate":(t,e,n)=>zn(y0,t,90,e,n),"senw-rotate":(t,e,n)=>zn(y0,t,180,e,n),"swne-rotate":(t,e,n)=>zn(y0,t,270,e,n),"zoom-in":(t,e,n)=>zn(lxe,t,0,e,n),"zoom-out":(t,e,n)=>zn(cxe,t,0,e,n)};function hxe(t,e=0,n="black"){return dxe[t](Iye(e),!1,n)}const uxe=["default","pointer","cross","move","grab","grabbing","text"];function pxe(){const t=Te(),e=hl(),n=i$();hp("useCursor",()=>{const{type:r,rotation:s}=t.getInstanceState().cursor;if(uxe.includes(r)){e.style.setProperty("--tl-cursor",`var(--tl-cursor-${r})`);return}e.style.setProperty("--tl-cursor",hxe(r,s,n?"white":"black"))},[t,e,n])}function fxe(){const t=Te(),e=hl(),n=i$(),r=Me(pn.forceSrgb);ie.useEffect(()=>{n?(e.setAttribute("data-color-mode","dark"),e.classList.remove("tl-theme__light"),e.classList.add("tl-theme__dark")):(e.setAttribute("data-color-mode","light"),e.classList.remove("tl-theme__dark"),e.classList.add("tl-theme__light")),r?e.classList.add("tl-theme__force-sRGB"):e.classList.remove("tl-theme__force-sRGB")},[t,e,r,n])}function gxe(t){const e=v.useRef();return v.useLayoutEffect(()=>{e.current=t}),v.useDebugValue(t),v.useCallback((...n)=>{const r=e.current;return d6(r,"fn does not exist"),r(...n)},[])}function mxe(t){const e=Te(),n=hl();v.useLayoutEffect(()=>{t?(e.getInstanceState().isFocused||e.updateInstanceState({isFocused:!0}),e.getContainer().focus()):e.getInstanceState().isFocused&&e.updateInstanceState({isFocused:!1})},[e,n,t])}function yxe(){const[t,e]=v.useState(0);v.useEffect(()=>e(n=>n+1),[])}const nh="TLDRAW_TAB_ID_v2",Rn=globalThis.window;function xxe(){return Rn?["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(Rn.navigator.platform)||Rn.navigator.userAgent.includes("Mac")&&"ontouchend"in document:!1}const _y=(Rn==null?void 0:Rn[nh])??(Rn==null?void 0:Rn.sessionStorage[nh])??"TLDRAW_INSTANCE_STATE_V1_"+wn();Rn&&(Rn[nh]=_y,xxe()?Rn.sessionStorage[nh]=_y:delete Rn.sessionStorage[nh]);Rn==null||Rn.addEventListener("beforeunload",()=>{Rn.sessionStorage[nh]=_y});const wxe={Initial:0},df=wxe.Initial,o$=V0({version:Ao,currentPageId:af,isFocusMode:Al,exportBackground:Al,isDebugMode:Al,isToolLocked:Al,isGridMode:Al,pageStates:MC(V0({pageId:af,camera:V0({x:Ao,y:Ao,z:Ao}),selectedShapeIds:MC(ni),focusedGroupId:ni.nullable()}))}),Sxe=Xj({currentVersion:df});function bxe(t){if(!t||typeof t!="object")return console.warn("Invalid instance state"),null;if(!("version"in t)||typeof t.version!="number")return console.warn("No version in instance state"),null;const e=Yj({value:t,fromVersion:t.version,toVersion:df,migrations:Sxe});if(e.type==="error")return console.warn(e.reason),null;const n={...e.value,version:df};try{o$.validate(n)}catch(r){return console.warn(r),null}return n}function vxe(t){const e=t.query.ids("page");return ao("sessionStateSnapshot",()=>{const n=t.get(cr);if(!n)return null;const r=[...e.get()];return{version:df,currentPageId:n.currentPageId,exportBackground:n.exportBackground,isFocusMode:n.isFocusMode,isDebugMode:n.isDebugMode,isToolLocked:n.isToolLocked,isGridMode:n.isGridMode,pageStates:r.map(s=>{const i=t.get(er.createId(s)),o=t.get(Jn.createId(s));return{pageId:s,camera:{x:(o==null?void 0:o.x)??0,y:(o==null?void 0:o.y)??0,z:(o==null?void 0:o.z)??1},selectedShapeIds:(i==null?void 0:i.selectedShapeIds)??[],focusedGroupId:(i==null?void 0:i.focusedGroupId)??null}})}})}function kxe(t,e){const n=bxe(e);if(!n)return;const r=t.allRecords().filter(o=>o.typeName==="instance_page_state"||o.typeName==="camera"),s={added:{},updated:{},removed:{...Zme(r.map(o=>[o.id,o]))}};t.has(cr)&&(s.removed[cr]=t.get(cr));const i={removed:{},updated:{},added:{[cr]:t.schema.types.instance.create({id:cr,currentPageId:n.currentPageId,isDebugMode:n.isDebugMode,isFocusMode:n.isFocusMode,isToolLocked:n.isToolLocked,isGridMode:n.isGridMode,exportBackground:n.exportBackground})}};for(const o of n.pageStates){const a=Jn.createId(o.pageId),l=er.createId(o.pageId);i.added[a]=Jn.create({id:Jn.createId(o.pageId),x:o.camera.x,y:o.camera.y,z:o.camera.z}),i.added[l]=er.create({id:er.createId(o.pageId),pageId:o.pageId,selectedShapeIds:o.selectedShapeIds,focusedGroupId:o.focusedGroupId})}sf(()=>{t.applyDiff(o2([s,i])),t.ensureStoreIsUsable()})}function Cxe(t){var s;const e=[];for(const i of Object.values(t))(s=i.typeName)!=null&&s.match(/^(instance.*|pointer|camera)$/)&&e.push(i);const n=e.filter(i=>i.typeName==="instance"&&i.id!==cr)[0];if(!n)return null;const r={version:df,currentPageId:n.currentPageId,exportBackground:!!n.exportBackground,isFocusMode:!!n.isFocusMode,isDebugMode:!!n.isDebugMode,isToolLocked:!!n.isToolLocked,isGridMode:!1,pageStates:e.filter(i=>i.typeName==="instance_page_state"&&i.instanceId===n.id).map(i=>{const o=t[i.cameraId]??{x:0,y:0,z:1};return{pageId:i.pageId,camera:{x:o.x,y:o.y,z:o.z},selectedShapeIds:i.selectedShapeIds,focusedGroupId:i.focusedGroupId}})};try{return o$.validate(r),r}catch{return null}}function _xe(){window.alert(`Oops! We could not save changes to your browser's storage. We now need to reload the page and try again.

Keep seeing this message?
 If you're using tldraw in a private or "incognito" window, try loading tldraw in a regular window or in a different browser.
 If your hard disk is full, try clearing up some space and then reload the page.`)}function Exe(){window.alert(`Oops! We could not access your browser's storageand the app won't work correctly without that. We now need to reload the page and try again.

Keep seeing this message?
 If you're using tldraw in a private or "incognito" window, try loading tldraw in a regular window or in a different browser.`)}const u2="TLDRAW_DOCUMENT_v2",a$="TLDRAW_DB_NAME_INDEX_v2",ot={Records:"records",Schema:"schema",SessionState:"session_state"};async function p2(t,e){Nxe(t);const n=await BI(t,3,{upgrade(r){r.objectStoreNames.contains(ot.Records)||r.createObjectStore(ot.Records),r.objectStoreNames.contains(ot.Schema)||r.createObjectStore(ot.Schema),r.objectStoreNames.contains(ot.SessionState)||r.createObjectStore(ot.SessionState)}});try{return await e(n)}finally{n.close()}}async function Ixe({persistenceKey:t,sessionId:e,didCancel:n}){const r=u2+t;if(b6().includes(r))return await Axe({persistenceKey:t,didCancel:n}),await p2(r,async s=>{var h,u;if(n!=null&&n())return;const i=s.transaction([ot.Records,ot.Schema,ot.SessionState],"readonly"),o=i.objectStore(ot.Records),a=i.objectStore(ot.Schema),l=i.objectStore(ot.SessionState);let c=e?(h=await l.get(e))==null?void 0:h.snapshot:null;c||(c=(u=(await l.getAll()).sort((y,m)=>y.updatedAt-m.updatedAt).pop())==null?void 0:u.snapshot);const d={records:await o.getAll(),schema:await a.get(ot.Schema),sessionStateSnapshot:c};if(n!=null&&n()){i.abort();return}return await i.done,d})}async function Pxe({persistenceKey:t,schema:e,changes:n,sessionId:r,sessionStateSnapshot:s,didCancel:i}){const o=u2+t;await p2(o,async a=>{const l=a.transaction([ot.Records,ot.Schema,ot.SessionState],"readwrite"),c=l.objectStore(ot.Records),d=l.objectStore(ot.Schema),h=l.objectStore(ot.SessionState);for(const[u,p]of Object.entries(n.added))await c.put(p,u);for(const[u,p]of Object.values(n.updated))await c.put(p,p.id);for(const u of Object.keys(n.removed))await c.delete(u);if(d.put(e.serialize(),ot.Schema),s&&r?h.put({snapshot:s,updatedAt:Date.now(),id:r},r):(s||r)&&console.error("sessionStateSnapshot and instanceId must be provided together"),i!=null&&i())return l.abort();await l.done})}async function zxe({persistenceKey:t,schema:e,snapshot:n,sessionId:r,sessionStateSnapshot:s,didCancel:i}){const o=u2+t;await p2(o,async a=>{const l=a.transaction([ot.Records,ot.Schema,ot.SessionState],"readwrite"),c=l.objectStore(ot.Records),d=l.objectStore(ot.Schema),h=l.objectStore(ot.SessionState);await c.clear();for(const[u,p]of Object.entries(n))await c.put(p,u);if(d.put(e.serialize(),ot.Schema),s&&r?h.put({snapshot:s,updatedAt:Date.now(),id:r},r):(s||r)&&console.error("sessionStateSnapshot and instanceId must be provided together"),i!=null&&i())return l.abort();await l.done})}async function Axe({persistenceKey:t,didCancel:e}){await p2(u2+t,async n=>{const r=n.transaction([ot.SessionState],"readwrite"),s=r.objectStore(ot.SessionState),i=(await s.getAll()).sort((a,l)=>a.updatedAt-l.updatedAt);if(i.length<10){await r.done;return}const o=i.slice(0,i.length-10);for(const{id:a}of o)await s.delete(a);if(e!=null&&e())return r.abort();await r.done})}function b6(){const t=JSON.parse((window==null?void 0:window.localStorage.getItem(a$))||"[]")??[];return Array.isArray(t)?t:[]}function Nxe(t){const e=new Set(b6());e.add(t),window==null||window.localStorage.setItem(a$,JSON.stringify([...e]))}const Txe=350,Lxe=1e4,p_=Symbol("UPDATE_INSTANCE_STATE"),Mxe=t=>t;class jxe{constructor(e){}postMessage(e){}close(){}}const Rxe=typeof BroadcastChannel>"u"?jxe:BroadcastChannel;class $xe{constructor(e,{persistenceKey:n,sessionId:r=_y,onLoad:s,onLoadError:i},o=new Rxe(`tldraw-tab-sync-${n}`)){this.store=e,this.channel=o,this.disposables=new Set,this.diffQueue=[],this.didDispose=!1,this.shouldDoFullDBWrite=!0,this.isReloading=!1,this.isDebugging=!1,this.initTime=Date.now(),this.isPersisting=!1,this.didLastWriteError=!1,this.scheduledPersistTimeout=null,typeof window<"u"&&(window.tlsync=this),this.persistenceKey=n,this.sessionId=r,this.serializedSchema=this.store.schema.serialize(),this.$sessionStateSnapshot=vxe(this.store),this.disposables.add(e.listen(({changes:a})=>{this.diffQueue.push(a),this.channel.postMessage(Mxe({type:"diff",storeId:this.store.id,changes:a,schema:this.serializedSchema})),this.schedulePersist()},{source:"user",scope:"document"})),this.disposables.add(e.listen(()=>{this.diffQueue.push(p_),this.schedulePersist()},{scope:"session"})),this.connect(s,i),this.documentTypes=new Set(Object.values(this.store.schema.types).filter(a=>a.scope==="document").map(a=>a.typeName))}debug(...e){this.isDebugging&&console.debug(...e)}async connect(e,n){this.debug("connecting");let r;try{r=await Ixe({persistenceKey:this.persistenceKey,sessionId:this.sessionId,didCancel:()=>this.didDispose})}catch(s){n(s),Exe(),typeof window<"u"&&window.location.reload();return}if(this.debug("loaded data from store",r,"didDispose",this.didDispose),!this.didDispose)try{if(r){const s=Object.fromEntries(r.records.map(a=>[a.id,a])),i=r.sessionStateSnapshot??Cxe(s),o=this.store.schema.migrateStoreSnapshot({store:s,schema:r.schema??this.store.schema.serializeEarliestVersion()});if(o.type==="error"){console.error("failed to migrate store",o),n(new Error(`Failed to migrate store: ${o.reason}`));return}this.store.mergeRemoteChanges(()=>{this.store.put(Object.values(o.value).filter(a=>this.documentTypes.has(a.typeName)),"initialize")}),i&&kxe(this.store,i)}this.channel.onmessage=({data:s})=>{var a,l;this.debug("got message",s);const i=s,o=g0e(this.serializedSchema,i.schema??this.store.schema.serializeEarliestVersion());if(o===-1){if(Date.now()-this.initTime<5e3){n(new Error("Schema mismatch, please close other tabs and reload the page"));return}this.debug("reloading"),this.isReloading=!0,(l=(a=window==null?void 0:window.location)==null?void 0:a.reload)==null||l.call(a);return}else if(o===1){this.debug("telling them to reload"),this.channel.postMessage({type:"announce",schema:this.serializedSchema}),this.shouldDoFullDBWrite=!0,this.persistIfNeeded();return}i.type==="diff"&&(this.debug("applying diff"),sf(()=>{this.store.mergeRemoteChanges(()=>{this.store.applyDiff(i.changes),this.store.ensureStoreIsUsable()})}))},this.channel.postMessage({type:"announce",schema:this.serializedSchema}),this.disposables.add(()=>{this.channel.close()}),e(this)}catch(s){if(this.debug("error loading data from store",s),this.didDispose)return;n(s);return}}close(){this.debug("closing"),this.didDispose=!0,this.disposables.forEach(e=>e())}schedulePersist(){this.debug("schedulePersist",this.scheduledPersistTimeout),!this.scheduledPersistTimeout&&(this.scheduledPersistTimeout=setTimeout(()=>{this.scheduledPersistTimeout=null,this.persistIfNeeded()},this.didLastWriteError?Lxe:Txe))}persistIfNeeded(){this.debug("persistIfNeeded",{isPersisting:this.isPersisting,isReloading:this.isReloading,shouldDoFullDBWrite:this.shouldDoFullDBWrite,diffQueueLength:this.diffQueue.length,storeIsPossiblyCorrupt:this.store.isPossiblyCorrupted()}),this.scheduledPersistTimeout&&(clearTimeout(this.scheduledPersistTimeout),this.scheduledPersistTimeout=null),!this.isPersisting&&(this.isReloading||this.store.isPossiblyCorrupted()||(this.shouldDoFullDBWrite||this.diffQueue.length>0)&&this.doPersist())}async doPersist(){d6(!this.isPersisting,"persist already in progress"),this.isPersisting=!0,this.debug("doPersist start");const e=this.diffQueue;this.diffQueue=[];try{if(this.shouldDoFullDBWrite)this.shouldDoFullDBWrite=!1,await zxe({persistenceKey:this.persistenceKey,schema:this.store.schema,snapshot:this.store.serialize(),didCancel:()=>this.didDispose,sessionId:this.sessionId,sessionStateSnapshot:this.$sessionStateSnapshot.get()});else{const n=o2(e.filter(r=>r!==p_));await Pxe({persistenceKey:this.persistenceKey,changes:n,schema:this.store.schema,didCancel:()=>this.didDispose,sessionId:this.sessionId,sessionStateSnapshot:this.$sessionStateSnapshot.get()})}this.didLastWriteError=!1}catch(n){this.shouldDoFullDBWrite=!0,this.didLastWriteError=!0,console.error("failed to store changes in indexed db",n),_xe(),typeof window<"u"&&window.location.reload()}this.isPersisting=!1,this.debug("doPersist end"),this.schedulePersist()}}function Oxe({initialData:t,defaultName:e="",...n}){const r="schema"in n&&n.schema?n.schema:jme({shapes:Dxe(t$("shapeUtils"in n&&n.shapeUtils?n.shapeUtils:[]))});return new Vj({schema:r,initialData:t,props:{defaultName:e}})}function Dxe(t){return Object.fromEntries(t.map(e=>[e.type,{props:e.props,migrations:e.migrations}]))}function f_(t){const e=Oxe(t);return t.snapshot&&e.loadSnapshot(t.snapshot),{store:e,opts:t}}function qxe(t){const[e,n]=v.useState(()=>f_(t));if(!Qme(e.opts,t)){const r=f_(t);return n(r),r.store}return e.store}function Bxe({persistenceKey:t,sessionId:e,...n}){const[r,s]=v.useState(null),i=qxe(n);return v.useEffect(()=>{const o=wn();if(!t){s({id:o,storeWithStatus:{status:"not-synced",store:i}});return}s({id:o,storeWithStatus:{status:"loading"}});const a=c=>{s(d=>(d==null?void 0:d.id)===o?{id:o,storeWithStatus:c}:d)},l=new $xe(i,{sessionId:e,persistenceKey:t,onLoad(){a({store:i,status:"synced-local"})},onLoadError(c){a({status:"error",error:c})}});return()=>{s(c=>(c==null?void 0:c.id)===o?null:c),l.close()}},[t,i,e]),(r==null?void 0:r.storeWithStatus)??{status:"loading"}}let l$=!1;if(typeof window<"u"){const t=window.navigator.userAgent,e=!!t.match(/iPad/i)||!!t.match(/iPhone/i),n=!!t.match(/WebKit/i);l$=e&&n&&!t.match(/CriOS/i)}function Fxe(){const t=Te();v.useEffect(()=>{if(!l$)return;function e(n){(n.target instanceof HTMLInputElement&&n.target.type==="text"||n.target instanceof HTMLTextAreaElement)&&t.complete()}return document.addEventListener("focusout",e),()=>document.removeEventListener("focusout",e)},[t])}function Kxe(){const t=Te(),e=hl();v.useEffect(()=>{const n=i=>e.style.setProperty("--tl-zoom",i.toString()),r=Hme(n,100),s=new Kf("useZoomCss",()=>{t.getCurrentPageShapeIds().size<300?n(t.getZoomLevel()):r(t.getZoomLevel())});return s.attach(),s.execute(),()=>{s.detach()}},[t,e])}const Wxe=[],Uxe=[],Vxe=v.memo(function({store:e,components:n,className:r,user:s,...i}){const[o,a]=ie.useState(null),l=v.useMemo(()=>s??GR(),[s]),c=(n==null?void 0:n.ErrorFallback)===void 0?OR:n==null?void 0:n.ErrorFallback,d={...i,shapeUtils:i.shapeUtils??Wxe,tools:i.tools??Uxe,components:n};return f.jsx("div",{ref:a,draggable:!1,className:ue("tl-container tl-theme__light",r),onPointerDown:LR,tabIndex:-1,children:f.jsx(cf,{fallback:c,onError:h=>IR(h,{tags:{origin:"react.tldraw-before-app"}}),children:o&&f.jsx(uye,{container:o,children:f.jsx(d1e,{overrides:n,children:e?e instanceof Vj?f.jsx(d$,{...d,store:e,user:l}):f.jsx(c$,{...d,store:e,user:l}):f.jsx(Xxe,{...d,store:e,user:l})})})})})});function Xxe(t){const{defaultName:e,snapshot:n,initialData:r,shapeUtils:s,persistenceKey:i,sessionId:o,user:a}=t,l=Bxe({shapeUtils:s,initialData:r,persistenceKey:i,sessionId:o,defaultName:e,snapshot:n});return f.jsx(c$,{...t,store:l,user:a})}const c$=v.memo(function({store:e,user:n,...r}){var i;const s=hl();switch(v.useLayoutEffect(()=>{n.userPreferences.get().isDarkMode&&(s.classList.remove("tl-theme__light"),s.classList.add("tl-theme__dark"))},[s,n]),e.status){case"error":throw e.error;case"loading":{const o=((i=r.components)==null?void 0:i.LoadingScreen)??t2e;return f.jsx(o,{})}}return f.jsx(d$,{...r,store:e.store,user:n})});function d$({onMount:t,children:e,store:n,tools:r,shapeUtils:s,user:i,initialState:o,autoFocus:a=!0,inferDarkMode:l}){const{ErrorFallback:c}=_n(),d=hl(),[h,u]=v.useState(null);v.useLayoutEffect(()=>{const y=new exe({store:n,shapeUtils:s,tools:r,getContainer:()=>d,user:i,initialState:o,inferDarkMode:l});return window.app=y,window.editor=y,u(y),()=>{y.dispose()}},[d,s,r,n,i,o,l]);const p=v.useSyncExternalStore(v.useCallback(y=>h?(h.on("crash",y),()=>h.off("crash",y)):()=>{},[h]),()=>(h==null?void 0:h.getCrashingError())??null);return h?f.jsx(cf,{fallback:c,onError:y=>h.annotateError(y,{origin:"react.tldraw",willCrashApp:!0}),children:p?f.jsx(Hxe,{crashingError:p}):f.jsx(f6.Provider,{value:h,children:f.jsx(Yxe,{autoFocus:a,onMount:t,children:e})})}):null}function Yxe({children:t,onMount:e,autoFocus:n}){return Kxe(),pxe(),fxe(),Fxe(),yxe(),mxe(n),Zxe(e),z1e(),Te().updateViewportScreenBounds(),t??f.jsx(WR,{})}function Hxe({crashingError:t}){throw t}function Gxe({children:t}){const{Spinner:e}=_n();return f.jsxs("div",{className:"tl-loading",children:[e?f.jsx(e,{}):null,t]})}function Zxe(t){const e=Te(),n=gxe(r=>{const s=t==null?void 0:t(r);return r.emit("mount"),window.tldrawReady=!0,s});ie.useLayoutEffect(()=>{if(e)return n==null?void 0:n(e)},[e,n])}const Qxe=ea(function({x:e=0,y:n=0,rotation:r=0,...s}){const i=Te(),o=v.useRef(null),a=i.getCamera();return v.useLayoutEffect(()=>{const{x:l,y:c,z:d}=i.getCamera(),h=o.current;h&&l!==void 0&&(h.style.transform=`translate(${l}px, ${c}px) scale(${d}) rotate(${r}rad) translate(${e}px, ${n}px)`)},[a,i,e,n,r]),f.jsx("div",{ref:o,...s,className:ue("tl-positioned",s.className)})});class h$ extends d2{constructor(){super(...arguments),this.onPointerDown=e=>{this.parent.transition("pointing",e)},this.onEnter=()=>{this.editor.setCursor({type:"cross",rotation:0})},this.onCancel=()=>{this.editor.setCurrentTool("select")}}}h$.id="idle";class u$ extends d2{constructor(){super(...arguments),this.markId="",this.wasFocusedOnEnter=!1,this.onEnter=()=>{this.wasFocusedOnEnter=!this.editor.getIsMenuOpen()},this.onPointerMove=e=>{if(this.editor.inputs.isDragging){const{originPagePoint:n}=this.editor.inputs,r=this.parent.shapeType,s=Hl();this.markId=`creating:${s}`,this.editor.mark(this.markId),this.editor.createShapes([{id:s,type:r,x:n.x,y:n.y,props:{w:1,h:1}}]).select(s),this.editor.setCurrentTool("select.resizing",{...e,target:"selection",handle:"bottom_right",isCreating:!0,creationCursorOffset:{x:1,y:1},onInteractionEnd:this.parent.id,onCreate:this.parent.onCreate})}},this.onPointerUp=()=>{this.complete()},this.onCancel=()=>{this.cancel()},this.onComplete=()=>{this.complete()},this.onInterrupt=()=>{this.cancel()}}complete(){const{originPagePoint:e}=this.editor.inputs;if(!this.wasFocusedOnEnter)return;this.editor.mark(this.markId);const n=this.parent.shapeType,r=Hl();this.editor.mark(this.markId),this.editor.createShapes([{id:r,type:n,x:e.x,y:e.y}]);const s=this.editor.getShape(r),{w:i,h:o}=this.editor.getShapeUtil(s).getDefaultProps(),a=new j(i/2,o/2),l=this.editor.getShapeParentTransform(s);l&&a.rot(-l.rotation()),this.editor.updateShapes([{id:r,type:n,x:s.x-a.x,y:s.y-a.y}]),this.editor.setSelectedShapes([r]),this.editor.getInstanceState().isToolLocked?this.parent.transition("idle"):this.editor.setCurrentTool("select.idle")}cancel(){this.parent.transition("idle")}}u$.id="pointing";class v6 extends d2{}v6.id="box";v6.initial="idle";v6.children=()=>[h$,u$];async function Jxe({shouldReload:t=!0}={}){sessionStorage.clear(),await Promise.all(b6().map(e=>FI(e))),localStorage.clear(),t&&window.location.reload()}typeof window<"u"&&(window.__tldraw__hardReset=Jxe);class p$ extends ho{getDefaultProps(){return{w:100,h:100,color:"#efefef"}}component(e){return f.jsx(yi,{children:f.jsx("div",{style:{width:e.props.w,height:e.props.h,border:"1px solid black",backgroundColor:e.props.color,pointerEvents:"all"}})})}indicator(e){return f.jsx("rect",{width:e.props.w,height:e.props.h})}}me(p$,"type","box");class f$ extends ae{constructor(){super(...arguments);me(this,"onPointerDown",n=>{const{editor:r}=this;switch(n.target){case"canvas":{const s=r.getHoveredShape(),i=s&&!this.editor.isShapeOfType(s,"group")?s:this.editor.getShapeAtPoint(this.editor.inputs.currentPagePoint,{renderingOnly:!0});if(i){this.onPointerDown({...n,shape:i,target:"shape"});return}r.selectNone();break}case"selection":{this.parent.transition("pointing",n);break}case"shape":{r.inputs.shiftKey?r.select(...r.getSelectedShapeIds(),n.shape.id):(r.getSelectedShapeIds().includes(n.shape.id)||r.select(n.shape.id),this.parent.transition("pointing",n));break}}});me(this,"onDoubleClick",n=>{const{editor:r}=this;if(n.phase==="up")switch(n.target){case"canvas":{const{currentPagePoint:s}=r.inputs;r.createShapes([{id:at(),type:"box",x:s.x-50,y:s.y-50,props:{w:100,h:100}}]);break}case"shape":{r.deleteShapes([n.shape.id]);break}}})}}me(f$,"id","idle");class g$ extends ae{constructor(){super(...arguments);me(this,"onPointerUp",n=>{this.parent.transition("idle",n)});me(this,"onPointerMove",()=>{this.editor.inputs.isDragging&&this.parent.transition("dragging",{shapes:[...this.editor.getSelectedShapes()]})})}}me(g$,"id","pointing");class m$ extends ae{constructor(){super(...arguments);me(this,"initialDraggingShapes",[]);me(this,"onEnter",n=>{this.initialDraggingShapes=n.shapes});me(this,"onPointerUp",n=>{this.parent.transition("idle",n)});me(this,"onPointerMove",()=>{const{initialDraggingShapes:n}=this,{originPagePoint:r,currentPagePoint:s}=this.editor.inputs;this.editor.updateShapes(n.map(i=>({...i,x:i.x+(s.x-r.x),y:i.y+(s.y-r.y)})))})}}me(m$,"id","dragging");class X0 extends ae{}me(X0,"id","select"),me(X0,"children",()=>[f$,g$,m$]),me(X0,"initial","idle");const e5e=[X0],t5e=[p$];function n5e(){return f.jsx("div",{className:"tldraw__editor",children:f.jsx(Vxe,{tools:e5e,shapeUtils:t5e,initialState:"select",onMount:t=>{t.selectAll().deleteShapes(t.getSelectedShapeIds()).createShapes([{id:Hl(),type:"box",x:100,y:100}])},components:{Background:r5e}})})}const r5e=ea(()=>f.jsxs(Qxe,{x:16,y:16,children:[f.jsx("p",{children:"Double click to create shapes."}),f.jsx("p",{children:"Click or Shift+Click to select shapes."}),f.jsx("p",{children:"Click and drag to move shapes."})]}));function s5e(){return f.jsxs("div",{className:"tldraw__editor",children:["We've moved! See"," ",f.jsx("a",{href:"https://github.com/tldraw/tldraw-yjs-example",children:"https://github.com/tldraw/tldraw-yjs-example"}),"."]})}const y$=gO();Lie(y$);Rie(y$);const x$=[{title:"Basic (development)",path:"develop",element:f.jsx(ffe,{})},{title:"Collaboration (with Yjs)",path:"yjs",element:f.jsx(s5e,{})},{title:"Editor API",path:"api",element:f.jsx(gfe,{})},{title:"Multiple editors",path:"multiple",element:f.jsx(Xfe,{})},{title:"Meta Example",path:"meta",element:f.jsx(Vfe,{})},{title:"Readonly Example",path:"readonly",element:f.jsx(rge,{})},{title:"Things on the canvas",path:"things-on-the-canvas",element:f.jsx(tge,{})},{title:"Scroll example",path:"scroll",element:f.jsx(dge,{})},{title:"Custom shapes / tools",path:"custom-config",element:f.jsx(zfe,{})},{title:"Sublibraries",path:"exploded",element:f.jsx(qfe,{})},{title:"Error boundary",path:"error-boundary",element:f.jsx(Ofe,{})},{title:"Custom UI",path:"custom-ui",element:f.jsx(jfe,{})},{title:"Custom Tool (Screenshot)",path:"screenshot-tool",element:f.jsx(cge,{})},{title:"Hide UI",path:"hide-ui",element:f.jsx(Ufe,{})},{title:"UI components",path:"custom-components",element:f.jsx(Sfe,{})},{title:"UI events",path:"ui-events",element:f.jsx(xge,{})},{title:"Canvas events",path:"canvas-events",element:f.jsx(xfe,{})},{title:"Store events",path:"store-events",element:f.jsx(yge,{})},{title:"User presence",path:"user-presence",element:f.jsx(bge,{})},{title:"UI zones",path:"zones",element:f.jsx(vge,{})},{title:"Persistence",path:"persistence",element:f.jsx(nge,{})},{title:"Snapshots",path:"snapshots",element:f.jsx(mge,{})},{title:"Force mobile breakpoint",path:"force-mobile",element:f.jsx(Wfe,{})},{title:"Custom styles",path:"custom-styles",element:f.jsx(Mfe,{})},{title:"Shape meta property",path:"shape-meta",element:f.jsx(hge,{})},{title:"Only editor",path:"only-editor",element:f.jsx(n5e,{})},{title:"Asset props",path:"asset-props",element:f.jsx(yfe,{})},{title:"Floaty window",path:"floaty-window",element:f.jsx(Ffe,{})},{title:"External content sources",path:"external-content-sources",element:f.jsx(Bfe,{})},{path:"end-to-end",element:f.jsx(Cge,{})}];function i5e(){return f.jsxs("div",{className:"examples",children:[f.jsxs("div",{className:"examples__header",children:[f.jsx(ufe,{}),f.jsxs("p",{children:["See docs at ",f.jsx("a",{href:"https://tldraw.dev",children:"tldraw.dev"})]})]}),f.jsx("ul",{className:"examples__list",children:x$.filter(t=>t.title).map(t=>f.jsx(pfe,{title:t.title,route:t.path},t.path))})]})}const o5e=Zpe([{path:"/",element:f.jsx(i5e,{})},...x$]);document.addEventListener("DOMContentLoaded",()=>{const t=document.getElementById("root");oj(t).render(f.jsx(v.StrictMode,{children:f.jsx(wS,{fallback:n=>f.jsx(bS,{error:n}),onError:n=>console.error(n),children:f.jsx(ofe,{router:o5e})})}))});
