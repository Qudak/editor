var eO=Object.defineProperty;var tO=(e,t,n)=>t in e?eO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var m=(e,t,n)=>(tO(e,typeof t!="symbol"?t+"":t,n),n);function W_(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var Un=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _c(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var U_={exports:{}},p1={},V_={exports:{}},Ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kf=Symbol.for("react.element"),nO=Symbol.for("react.portal"),rO=Symbol.for("react.fragment"),sO=Symbol.for("react.strict_mode"),oO=Symbol.for("react.profiler"),aO=Symbol.for("react.provider"),iO=Symbol.for("react.context"),lO=Symbol.for("react.forward_ref"),cO=Symbol.for("react.suspense"),dO=Symbol.for("react.memo"),hO=Symbol.for("react.lazy"),l7=Symbol.iterator;function uO(e){return e===null||typeof e!="object"?null:(e=l7&&e[l7]||e["@@iterator"],typeof e=="function"?e:null)}var X_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y_=Object.assign,H_={};function Ah(e,t,n){this.props=e,this.context=t,this.refs=H_,this.updater=n||X_}Ah.prototype.isReactComponent={};Ah.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ah.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function G_(){}G_.prototype=Ah.prototype;function zS(e,t,n){this.props=e,this.context=t,this.refs=H_,this.updater=n||X_}var AS=zS.prototype=new G_;AS.constructor=zS;Y_(AS,Ah.prototype);AS.isPureReactComponent=!0;var c7=Array.isArray,Z_=Object.prototype.hasOwnProperty,NS={current:null},Q_={key:!0,ref:!0,__self:!0,__source:!0};function J_(e,t,n){var r,s={},o=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)Z_.call(t,r)&&!Q_.hasOwnProperty(r)&&(s[r]=t[r]);var i=arguments.length-2;if(i===1)s.children=n;else if(1<i){for(var l=Array(i),c=0;c<i;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(r in i=e.defaultProps,i)s[r]===void 0&&(s[r]=i[r]);return{$$typeof:kf,type:e,key:o,ref:a,props:s,_owner:NS.current}}function pO(e,t){return{$$typeof:kf,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function TS(e){return typeof e=="object"&&e!==null&&e.$$typeof===kf}function fO(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var d7=/\/+/g;function P2(e,t){return typeof e=="object"&&e!==null&&e.key!=null?fO(""+e.key):t.toString(36)}function N0(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case kf:case nO:a=!0}}if(a)return a=e,s=s(a),e=r===""?"."+P2(a,0):r,c7(s)?(n="",e!=null&&(n=e.replace(d7,"$&/")+"/"),N0(s,t,n,"",function(c){return c})):s!=null&&(TS(s)&&(s=pO(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(d7,"$&/")+"/")+e)),t.push(s)),1;if(a=0,r=r===""?".":r+":",c7(e))for(var i=0;i<e.length;i++){o=e[i];var l=r+P2(o,i);a+=N0(o,t,n,l,s)}else if(l=uO(e),typeof l=="function")for(e=l.call(e),i=0;!(o=e.next()).done;)o=o.value,l=r+P2(o,i++),a+=N0(o,t,n,l,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function mg(e,t,n){if(e==null)return e;var r=[],s=0;return N0(e,r,"","",function(o){return t.call(n,o,s++)}),r}function gO(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Nr={current:null},T0={transition:null},mO={ReactCurrentDispatcher:Nr,ReactCurrentBatchConfig:T0,ReactCurrentOwner:NS};function eE(){throw Error("act(...) is not supported in production builds of React.")}Ye.Children={map:mg,forEach:function(e,t,n){mg(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return mg(e,function(){t++}),t},toArray:function(e){return mg(e,function(t){return t})||[]},only:function(e){if(!TS(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ye.Component=Ah;Ye.Fragment=rO;Ye.Profiler=oO;Ye.PureComponent=zS;Ye.StrictMode=sO;Ye.Suspense=cO;Ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mO;Ye.act=eE;Ye.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Y_({},e.props),s=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=NS.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(l in t)Z_.call(t,l)&&!Q_.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&i!==void 0?i[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){i=Array(l);for(var c=0;c<l;c++)i[c]=arguments[c+2];r.children=i}return{$$typeof:kf,type:e.type,key:s,ref:o,props:r,_owner:a}};Ye.createContext=function(e){return e={$$typeof:iO,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:aO,_context:e},e.Consumer=e};Ye.createElement=J_;Ye.createFactory=function(e){var t=J_.bind(null,e);return t.type=e,t};Ye.createRef=function(){return{current:null}};Ye.forwardRef=function(e){return{$$typeof:lO,render:e}};Ye.isValidElement=TS;Ye.lazy=function(e){return{$$typeof:hO,_payload:{_status:-1,_result:e},_init:gO}};Ye.memo=function(e,t){return{$$typeof:dO,type:e,compare:t===void 0?null:t}};Ye.startTransition=function(e){var t=T0.transition;T0.transition={};try{e()}finally{T0.transition=t}};Ye.unstable_act=eE;Ye.useCallback=function(e,t){return Nr.current.useCallback(e,t)};Ye.useContext=function(e){return Nr.current.useContext(e)};Ye.useDebugValue=function(){};Ye.useDeferredValue=function(e){return Nr.current.useDeferredValue(e)};Ye.useEffect=function(e,t){return Nr.current.useEffect(e,t)};Ye.useId=function(){return Nr.current.useId()};Ye.useImperativeHandle=function(e,t,n){return Nr.current.useImperativeHandle(e,t,n)};Ye.useInsertionEffect=function(e,t){return Nr.current.useInsertionEffect(e,t)};Ye.useLayoutEffect=function(e,t){return Nr.current.useLayoutEffect(e,t)};Ye.useMemo=function(e,t){return Nr.current.useMemo(e,t)};Ye.useReducer=function(e,t,n){return Nr.current.useReducer(e,t,n)};Ye.useRef=function(e){return Nr.current.useRef(e)};Ye.useState=function(e){return Nr.current.useState(e)};Ye.useSyncExternalStore=function(e,t,n){return Nr.current.useSyncExternalStore(e,t,n)};Ye.useTransition=function(){return Nr.current.useTransition()};Ye.version="18.3.1";V_.exports=Ye;var b=V_.exports;const le=_c(b),tE=W_({__proto__:null,default:le},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yO=b,xO=Symbol.for("react.element"),wO=Symbol.for("react.fragment"),SO=Object.prototype.hasOwnProperty,bO=yO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vO={key:!0,ref:!0,__self:!0,__source:!0};function nE(e,t,n){var r,s={},o=null,a=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)SO.call(t,r)&&!vO.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:xO,type:e,key:o,ref:a,props:s,_owner:bO.current}}p1.Fragment=wO;p1.jsx=nE;p1.jsxs=nE;U_.exports=p1;var f=U_.exports;function $(e,t={}){const n=typeof e=="string"?e:e.src;if(typeof t=="function")return t(n);const{baseUrl:r=""}=t;return n.startsWith("data:")||n.match(/^https?:\/\//)?n:`${r.replace(/\/$/,"")}/${n.replace(/^\.?\//,"")}`}function kO(e){return{fonts:{monospace:$(new URL("/assets/IBMPlexMono-Medium-602b967b.woff2",self.location).href,e),sansSerif:$(new URL("/assets/IBMPlexSans-Medium-032f2da3.woff2",self.location).href,e),serif:$(new URL("/assets/IBMPlexSerif-Medium-8685eac3.woff2",self.location).href,e),draw:$(new URL("/assets/Shantell_Sans-Normal-SemiBold-1857bc6e.woff2",self.location).href,e)},icons:{"align-bottom-center":$(new URL("/assets/align-bottom-center-18df0a37.svg",self.location).href,e),"align-bottom-left":$(new URL("/assets/align-bottom-left-46b8d66a.svg",self.location).href,e),"align-bottom-right":$(new URL("/assets/align-bottom-right-70299e1f.svg",self.location).href,e),"align-bottom":$(new URL("/assets/align-bottom-2153fd2e.svg",self.location).href,e),"align-center-center":$(new URL("/assets/align-center-center-1e23bfe8.svg",self.location).href,e),"align-center-horizontal":$(new URL("/assets/align-center-horizontal-e229b4f1.svg",self.location).href,e),"align-center-left":$(new URL("/assets/align-center-left-a62c3189.svg",self.location).href,e),"align-center-right":$(new URL("/assets/align-center-right-f5c1febe.svg",self.location).href,e),"align-center-vertical":$(new URL("/assets/align-center-vertical-34c2eef9.svg",self.location).href,e),"align-left":$(new URL("/assets/align-left-672b506b.svg",self.location).href,e),"align-right":$(new URL("/assets/align-right-f51315c5.svg",self.location).href,e),"align-top-center":$(new URL("/assets/align-top-center-d00b6824.svg",self.location).href,e),"align-top-left":$(new URL("/assets/align-top-left-b36e1d34.svg",self.location).href,e),"align-top-right":$(new URL("/assets/align-top-right-8d85a630.svg",self.location).href,e),"align-top":$(new URL("/assets/align-top-b814b24f.svg",self.location).href,e),"arrow-left":$(new URL("/assets/arrow-left-c1856d50.svg",self.location).href,e),"arrowhead-arrow":$(new URL("/assets/arrowhead-arrow-aa22be04.svg",self.location).href,e),"arrowhead-bar":$(new URL("/assets/arrowhead-bar-b46daeee.svg",self.location).href,e),"arrowhead-diamond":$(new URL("/assets/arrowhead-diamond-240be147.svg",self.location).href,e),"arrowhead-dot":$(new URL("/assets/arrowhead-dot-a3fe2c9e.svg",self.location).href,e),"arrowhead-none":$(new URL("/assets/arrowhead-none-584d3843.svg",self.location).href,e),"arrowhead-square":$(new URL("/assets/arrowhead-square-9fc2a59d.svg",self.location).href,e),"arrowhead-triangle-inverted":$(new URL("/assets/arrowhead-triangle-inverted-cfa6d78f.svg",self.location).href,e),"arrowhead-triangle":$(new URL("/assets/arrowhead-triangle-ad472a24.svg",self.location).href,e),"aspect-ratio":$(new URL("/assets/aspect-ratio-f4fe7239.svg",self.location).href,e),avatar:$(new URL("/assets/avatar-55a2882d.svg",self.location).href,e),blob:$(new URL("/assets/blob-120d4c48.svg",self.location).href,e),"bring-forward":$(new URL("/assets/bring-forward-3e596147.svg",self.location).href,e),"bring-to-front":$(new URL("/assets/bring-to-front-878dcb2a.svg",self.location).href,e),check:$(new URL("/assets/check-13d59806.svg",self.location).href,e),"checkbox-checked":$(new URL("/assets/checkbox-checked-a174d9e4.svg",self.location).href,e),"checkbox-empty":$(new URL("/assets/checkbox-empty-feb809dc.svg",self.location).href,e),"chevron-down":$(new URL("/assets/chevron-down-35cc6108.svg",self.location).href,e),"chevron-left":$(new URL("/assets/chevron-left-b188f9e9.svg",self.location).href,e),"chevron-right":$(new URL("/assets/chevron-right-bc80736c.svg",self.location).href,e),"chevron-up":$(new URL("/assets/chevron-up-92cf26c2.svg",self.location).href,e),"chevrons-ne":$(new URL("/assets/chevrons-ne-de971f54.svg",self.location).href,e),"chevrons-sw":$(new URL("/assets/chevrons-sw-e81e1d56.svg",self.location).href,e),"clipboard-copied":$(new URL("/assets/clipboard-copied-55801dc1.svg",self.location).href,e),"clipboard-copy":$(new URL("/assets/clipboard-copy-2a337164.svg",self.location).href,e),code:$(new URL("/assets/code-670c7deb.svg",self.location).href,e),collab:$(new URL("/assets/collab-2ad26daa.svg",self.location).href,e),color:$(new URL("/assets/color-459651ac.svg",self.location).href,e),comment:$(new URL("/assets/comment-83a516dd.svg",self.location).href,e),"cross-2":$(new URL("/assets/cross-2-609fd07f.svg",self.location).href,e),cross:$(new URL("/assets/cross-5fd985bf.svg",self.location).href,e),"dash-dashed":$(new URL("/assets/dash-dashed-6a465efe.svg",self.location).href,e),"dash-dotted":$(new URL("/assets/dash-dotted-d6b4b977.svg",self.location).href,e),"dash-draw":$(new URL("/assets/dash-draw-bf3a66ed.svg",self.location).href,e),"dash-solid":$(new URL("/assets/dash-solid-dcb25706.svg",self.location).href,e),discord:$(new URL("/assets/discord-b9359056.svg",self.location).href,e),"distribute-horizontal":$(new URL("/assets/distribute-horizontal-7764ae6e.svg",self.location).href,e),"distribute-vertical":$(new URL("/assets/distribute-vertical-e7f3f923.svg",self.location).href,e),dot:$(new URL("/assets/dot-46f927ef.svg",self.location).href,e),"dots-horizontal":$(new URL("/assets/dots-horizontal-410c42fc.svg",self.location).href,e),"dots-vertical":$(new URL("/assets/dots-vertical-8a9d7b19.svg",self.location).href,e),"drag-handle-dots":$(new URL("/assets/drag-handle-dots-64e0a160.svg",self.location).href,e),duplicate:$(new URL("/assets/duplicate-bf28798b.svg",self.location).href,e),edit:$(new URL("/assets/edit-0437df4f.svg",self.location).href,e),"external-link":$(new URL("/assets/external-link-5b6b5d54.svg",self.location).href,e),file:$(new URL("/assets/file-c1fa8c90.svg",self.location).href,e),"fill-none":$(new URL("/assets/fill-none-42bb25f5.svg",self.location).href,e),"fill-pattern":$(new URL("/assets/fill-pattern-c9691467.svg",self.location).href,e),"fill-semi":$(new URL("/assets/fill-semi-1d0d4790.svg",self.location).href,e),"fill-solid":$(new URL("/assets/fill-solid-c53cb895.svg",self.location).href,e),follow:$(new URL("/assets/follow-419e1648.svg",self.location).href,e),following:$(new URL("/assets/following-6e7614f1.svg",self.location).href,e),"font-draw":$(new URL("/assets/font-draw-f0e5e754.svg",self.location).href,e),"font-mono":$(new URL("/assets/font-mono-04e30455.svg",self.location).href,e),"font-sans":$(new URL("/assets/font-sans-6aeea90e.svg",self.location).href,e),"font-serif":$(new URL("/assets/font-serif-2811d03d.svg",self.location).href,e),"geo-arrow-down":$(new URL("/assets/geo-arrow-down-a8b1aff7.svg",self.location).href,e),"geo-arrow-left":$(new URL("/assets/geo-arrow-left-d66d995a.svg",self.location).href,e),"geo-arrow-right":$(new URL("/assets/geo-arrow-right-e0aea467.svg",self.location).href,e),"geo-arrow-up":$(new URL("/assets/geo-arrow-up-849b5000.svg",self.location).href,e),"geo-check-box":$(new URL("/assets/geo-check-box-fcbf4aef.svg",self.location).href,e),"geo-cloud":$(new URL("/assets/geo-cloud-b16a4173.svg",self.location).href,e),"geo-diamond":$(new URL("/assets/geo-diamond-b3d96dba.svg",self.location).href,e),"geo-ellipse":$(new URL("/assets/geo-ellipse-cbbb7937.svg",self.location).href,e),"geo-hexagon":$(new URL("/assets/geo-hexagon-a453c946.svg",self.location).href,e),"geo-octagon":$(new URL("/assets/geo-octagon-30b98ec2.svg",self.location).href,e),"geo-oval":$(new URL("/assets/geo-oval-9347a6b4.svg",self.location).href,e),"geo-pentagon":$(new URL("/assets/geo-pentagon-4c1f4fb7.svg",self.location).href,e),"geo-rectangle":$(new URL("/assets/geo-rectangle-0108de6a.svg",self.location).href,e),"geo-rhombus-2":$(new URL("/assets/geo-rhombus-2-480a25b5.svg",self.location).href,e),"geo-rhombus":$(new URL("/assets/geo-rhombus-f0c9ade9.svg",self.location).href,e),"geo-star":$(new URL("/assets/geo-star-c4e6f3b0.svg",self.location).href,e),"geo-trapezoid":$(new URL("/assets/geo-trapezoid-f735bb46.svg",self.location).href,e),"geo-triangle":$(new URL("/assets/geo-triangle-2844c9cc.svg",self.location).href,e),"geo-x-box":$(new URL("/assets/geo-x-box-7ba0d440.svg",self.location).href,e),github:$(new URL("/assets/github-84549e5a.svg",self.location).href,e),group:$(new URL("/assets/group-19363a84.svg",self.location).href,e),hidden:$(new URL("/assets/hidden-d50bcff3.svg",self.location).href,e),image:$(new URL("/assets/image-855d9940.svg",self.location).href,e),"info-circle":$(new URL("/assets/info-circle-12935c61.svg",self.location).href,e),leading:$(new URL("/assets/leading-7307f720.svg",self.location).href,e),link:$(new URL("/assets/link-4fff5649.svg",self.location).href,e),"lock-small":$(new URL("/assets/lock-small-58ee87a7.svg",self.location).href,e),lock:$(new URL("/assets/lock-3eac67e8.svg",self.location).href,e),menu:$(new URL("/assets/menu-fef9bc46.svg",self.location).href,e),minus:$(new URL("/assets/minus-da835179.svg",self.location).href,e),mixed:$(new URL("/assets/mixed-9a98265d.svg",self.location).href,e),pack:$(new URL("/assets/pack-50c3480c.svg",self.location).href,e),page:$(new URL("/assets/page-a279efe5.svg",self.location).href,e),plus:$(new URL("/assets/plus-118d7076.svg",self.location).href,e),"question-mark-circle":$(new URL("/assets/question-mark-circle-ad933cb8.svg",self.location).href,e),"question-mark":$(new URL("/assets/question-mark-93893065.svg",self.location).href,e),redo:$(new URL("/assets/redo-d9ce3088.svg",self.location).href,e),"reset-zoom":$(new URL("/assets/reset-zoom-99a57a52.svg",self.location).href,e),"rotate-ccw":$(new URL("/assets/rotate-ccw-086fb123.svg",self.location).href,e),"rotate-cw":$(new URL("/assets/rotate-cw-c1c282d5.svg",self.location).href,e),ruler:$(new URL("/assets/ruler-c83b6501.svg",self.location).href,e),search:$(new URL("/assets/search-e94ed51b.svg",self.location).href,e),"send-backward":$(new URL("/assets/send-backward-e1e1506b.svg",self.location).href,e),"send-to-back":$(new URL("/assets/send-to-back-c6a8d6e0.svg",self.location).href,e),"settings-horizontal":$(new URL("/assets/settings-horizontal-5c4f3c76.svg",self.location).href,e),"settings-vertical-1":$(new URL("/assets/settings-vertical-1-175b7541.svg",self.location).href,e),"settings-vertical":$(new URL("/assets/settings-vertical-517f96c2.svg",self.location).href,e),"share-1":$(new URL("/assets/share-1-e9a58432.svg",self.location).href,e),"share-2":$(new URL("/assets/share-2-9abac035.svg",self.location).href,e),"size-extra-large":$(new URL("/assets/size-extra-large-ca9a55a2.svg",self.location).href,e),"size-large":$(new URL("/assets/size-large-5adfaf79.svg",self.location).href,e),"size-medium":$(new URL("/assets/size-medium-804ab825.svg",self.location).href,e),"size-small":$(new URL("/assets/size-small-3090b887.svg",self.location).href,e),"spline-cubic":$(new URL("/assets/spline-cubic-0d08337b.svg",self.location).href,e),"spline-line":$(new URL("/assets/spline-line-e4b0c70d.svg",self.location).href,e),"stack-horizontal":$(new URL("/assets/stack-horizontal-203b751f.svg",self.location).href,e),"stack-vertical":$(new URL("/assets/stack-vertical-192610e7.svg",self.location).href,e),"status-offline":$(new URL("/assets/status-offline-b0bdd9f3.svg",self.location).href,e),"status-online":$(new URL("/assets/status-online-deeb6892.svg",self.location).href,e),"stretch-horizontal":$(new URL("/assets/stretch-horizontal-06ac4fb1.svg",self.location).href,e),"stretch-vertical":$(new URL("/assets/stretch-vertical-8ac91bb3.svg",self.location).href,e),"text-align-center":$(new URL("/assets/text-align-center-d4e4b52e.svg",self.location).href,e),"text-align-justify":$(new URL("/assets/text-align-justify-81d84b0b.svg",self.location).href,e),"text-align-left":$(new URL("/assets/text-align-left-2a312c27.svg",self.location).href,e),"text-align-right":$(new URL("/assets/text-align-right-5a23e653.svg",self.location).href,e),"tool-arrow":$(new URL("/assets/tool-arrow-a35ddeaa.svg",self.location).href,e),"tool-embed":$(new URL("/assets/tool-embed-efd4bebc.svg",self.location).href,e),"tool-eraser":$(new URL("/assets/tool-eraser-be2225bb.svg",self.location).href,e),"tool-frame":$(new URL("/assets/tool-frame-deced99e.svg",self.location).href,e),"tool-hand":$(new URL("/assets/tool-hand-34187eac.svg",self.location).href,e),"tool-highlight":$(new URL("/assets/tool-highlight-e039326a.svg",self.location).href,e),"tool-laser":$(new URL("/assets/tool-laser-650d967c.svg",self.location).href,e),"tool-line":$(new URL("/assets/tool-line-83d19546.svg",self.location).href,e),"tool-media":$(new URL("/assets/image-855d9940.svg",self.location).href,e),"tool-note":$(new URL("/assets/tool-note-d2561126.svg",self.location).href,e),"tool-pencil":$(new URL("/assets/tool-pencil-09f05de8.svg",self.location).href,e),"tool-pointer":$(new URL("/assets/tool-pointer-c5755269.svg",self.location).href,e),"tool-text":$(new URL("/assets/tool-text-9cd0ae2e.svg",self.location).href,e),trash:$(new URL("/assets/trash-810a0ee8.svg",self.location).href,e),"triangle-down":$(new URL("/assets/triangle-down-c585f16d.svg",self.location).href,e),"triangle-up":$(new URL("/assets/triangle-up-d00d35f8.svg",self.location).href,e),twitter:$(new URL("/assets/twitter-e71d937f.svg",self.location).href,e),undo:$(new URL("/assets/undo-f5995ec7.svg",self.location).href,e),ungroup:$(new URL("/assets/ungroup-151431aa.svg",self.location).href,e),"unlock-small":$(new URL("/assets/unlock-small-b245a5c9.svg",self.location).href,e),unlock:$(new URL("/assets/unlock-c6ab9915.svg",self.location).href,e),"vertical-align-center":$(new URL("/assets/vertical-align-center-0f9d57c2.svg",self.location).href,e),"vertical-align-end":$(new URL("/assets/vertical-align-end-cc72e1cc.svg",self.location).href,e),"vertical-align-start":$(new URL("/assets/vertical-align-start-92465c90.svg",self.location).href,e),visible:$(new URL("/assets/visible-32172e15.svg",self.location).href,e),"warning-triangle":$(new URL("/assets/warning-triangle-5a4e735b.svg",self.location).href,e),"zoom-in":$(new URL("/assets/zoom-in-e87dcbd3.svg",self.location).href,e),"zoom-out":$(new URL("/assets/zoom-out-2a21eaae.svg",self.location).href,e)},translations:{ar:$(new URL("/assets/ar-c993abbf.json",self.location).href,e),ca:$(new URL("/assets/ca-3ca6c26c.json",self.location).href,e),cs:$(new URL("/assets/cs-d847ea82.json",self.location).href,e),da:$(new URL("/assets/da-8ee65d3a.json",self.location).href,e),de:$(new URL("/assets/de-82594743.json",self.location).href,e),en:$(new URL("/assets/en-ca3d163b.json",self.location).href,e),es:$(new URL("/assets/es-6524831d.json",self.location).href,e),fa:$(new URL("/assets/fa-78ef321b.json",self.location).href,e),fi:$(new URL("/assets/fi-de0d242a.json",self.location).href,e),fr:$(new URL("/assets/fr-0d7ceb32.json",self.location).href,e),gl:$(new URL("/assets/gl-1de5ac0a.json",self.location).href,e),he:$(new URL("/assets/he-f4ffa1b9.json",self.location).href,e),"hi-in":$(new URL("/assets/hi-in-2f5eb44e.json",self.location).href,e),hu:$(new URL("/assets/hu-57ab884f.json",self.location).href,e),it:$(new URL("/assets/it-11f32fa7.json",self.location).href,e),ja:$(new URL("/assets/ja-566e04ca.json",self.location).href,e),"ko-kr":$(new URL("/assets/ko-kr-cb7fcdcc.json",self.location).href,e),ku:$(new URL("/assets/ku-35a7bf85.json",self.location).href,e),languages:$(new URL("/assets/languages-c3dbf703.json",self.location).href,e),main:$(new URL("/assets/main-c8312406.json",self.location).href,e),my:$(new URL("/assets/my-9e176f8b.json",self.location).href,e),ne:$(new URL("/assets/ne-2fcab306.json",self.location).href,e),no:$(new URL("/assets/no-081a09e1.json",self.location).href,e),pl:$(new URL("/assets/pl-90d9ac72.json",self.location).href,e),"pt-br":$(new URL("/assets/pt-br-13a0965d.json",self.location).href,e),"pt-pt":$(new URL("/assets/pt-pt-4159d215.json",self.location).href,e),ro:$(new URL("/assets/ro-cebd523e.json",self.location).href,e),ru:$(new URL("/assets/ru-b4a86a30.json",self.location).href,e),sv:$(new URL("/assets/sv-cffab93b.json",self.location).href,e),te:$(new URL("/assets/te-7484fdfa.json",self.location).href,e),th:$(new URL("/assets/th-914a50c3.json",self.location).href,e),tr:$(new URL("/assets/tr-e1e653c5.json",self.location).href,e),uk:$(new URL("/assets/uk-7ad1d492.json",self.location).href,e),vi:$(new URL("/assets/vi-d33925c8.json",self.location).href,e),"zh-cn":$(new URL("/assets/zh-cn-9e8ba7bf.json",self.location).href,e),"zh-tw":$(new URL("/assets/zh-tw-6a50acb0.json",self.location).href,e)},embedIcons:{codepen:$(new URL("/assets/codepen-c5091340.png",self.location).href,e),codesandbox:$(new URL("/assets/codesandbox-0d91ed96.png",self.location).href,e),excalidraw:$(new URL("/assets/excalidraw-99a33a0f.png",self.location).href,e),felt:$(new URL("/assets/felt-ce0f1fb6.png",self.location).href,e),figma:$(new URL("/assets/figma-12bf0233.png",self.location).href,e),github_gist:$(new URL("/assets/github_gist-fe770981.png",self.location).href,e),google_calendar:$(new URL("/assets/google_calendar-372998bd.png",self.location).href,e),google_maps:$(new URL("/assets/google_maps-96179f24.png",self.location).href,e),google_slides:$(new URL("/assets/google_slides-3c807caf.png",self.location).href,e),observable:$(new URL("/assets/observable-eba6b075.png",self.location).href,e),replit:$(new URL("/assets/replit-bce8ed12.png",self.location).href,e),scratch:$(new URL("/assets/scratch-93375fd4.png",self.location).href,e),spotify:$(new URL("/assets/spotify-a30d4066.png",self.location).href,e),tldraw:$(new URL("/assets/tldraw-76b04190.png",self.location).href,e),val_town:$(new URL("/assets/val_town-0b5e9c3e.png",self.location).href,e),vimeo:$(new URL("/assets/vimeo-f0a42f95.png",self.location).href,e),youtube:$(new URL("/assets/youtube-0f750243.png",self.location).href,e)}}}function rE(e){return e&&typeof e=="object"&&"parents"in e}function sE(e){for(let t=0,n=e.parents.length;t<n;t++)if(e.parents[t].__unsafe__getWithoutCapture(),e.parents[t].lastChangedEpoch!==e.parentEpochs[t])return!0;return!1}const jm=(e,t)=>{if(e.children.remove(t)&&e.children.isEmpty&&rE(e))for(let n=0,r=e.parents.length;n<r;n++)jm(e.parents[n],e)},LS=(e,t)=>{if(e.children.add(t)&&rE(e))for(let n=0,r=e.parents.length;n<r;n++)LS(e.parents[n],e)};function oE(e,t){return e===t||Object.is(e,t)||!!(e&&t&&typeof e.equals=="function"&&e.equals(t))}function tl(e,t){const n=Symbol.for(`com.tldraw.state/${e}`),r=globalThis;return r[n]??(r[n]=t()),r[n]}const Ri=tl("empty_array",()=>Object.freeze([])),h7=8;let aE=class{constructor(){m(this,"arraySize",0);m(this,"array",Array(h7));m(this,"set",null)}get isEmpty(){if(this.array)return this.arraySize===0;if(this.set)return this.set.size===0;throw new Error("no set or array")}add(t){if(this.array)return this.array.indexOf(t)!==-1?!1:this.arraySize<h7?(this.array[this.arraySize]=t,this.arraySize++,!0):(this.set=new Set(this.array),this.array=null,this.set.add(t),!0);if(this.set)return this.set.has(t)?!1:(this.set.add(t),!0);throw new Error("no set or array")}remove(t){if(this.array){const n=this.array.indexOf(t);return n===-1?!1:(this.array[n]=void 0,this.arraySize--,n!==this.arraySize&&(this.array[n]=this.array[this.arraySize],this.array[this.arraySize]=void 0),!0)}if(this.set)return this.set.has(t)?(this.set.delete(t),!0):!1;throw new Error("no set or array")}visit(t){if(this.array){for(let n=0;n<this.arraySize;n++){const r=this.array[n];typeof r<"u"&&t(r)}return}if(this.set){this.set.forEach(t);return}throw new Error("no set or array")}};const Go=Symbol.for("com.tldraw.state/RESET_VALUE");let iE=class{constructor(t){m(this,"index",0);m(this,"buffer");this.capacity=t,this.buffer=new Array(t)}pushEntry(t,n,r){if(r!==void 0){if(r===Go){this.clear();return}this.buffer[this.index]=[t,n,r],this.index=(this.index+1)%this.capacity}}clear(){this.index=0,this.buffer.fill(void 0)}getChangesSince(t){const{index:n,capacity:r,buffer:s}=this;for(let o=0;o<r;o++){const a=(n-1+r-o)%r,i=s[a];if(!i)return Go;const[l,c]=i;if(o===0&&t>=c)return[];if(l<=t&&t<c){const d=o+1,h=new Array(d);for(let u=0;u<d;u++)h[u]=s[(a+u)%r][2];return h}}return Go}},CO=class{constructor(t,n){m(this,"offset",0);m(this,"numNewParents",0);m(this,"maybeRemoved");this.below=t,this.child=n}};const $t=tl("capture",()=>({stack:null}));function lE(e){$t.stack=new CO($t.stack,e)}function cE(){var n;const e=$t.stack;if($t.stack=e.below,e.numNewParents>0||e.offset!==e.child.parents.length){for(let r=e.offset;r<e.child.parents.length;r++){const s=e.child.parents[r];e.child.parents.indexOf(s)>=e.offset&&jm(s,e.child)}if(e.child.parents.length=e.offset,e.child.parentEpochs.length=e.offset,(n=$t.stack)!=null&&n.maybeRemoved)for(let r=0;r<$t.stack.maybeRemoved.length;r++){const s=$t.stack.maybeRemoved[r];e.child.parents.indexOf(s)===-1&&jm(s,e.child)}}}function cw(e){if($t.stack){const t=$t.stack.child.parents.indexOf(e);if(t<0&&($t.stack.numNewParents++,$t.stack.child.isActivelyListening&&LS(e,$t.stack.child)),t<0||t>=$t.stack.offset){if(t!==$t.stack.offset&&t>0){const n=$t.stack.child.parents[$t.stack.offset];$t.stack.maybeRemoved?$t.stack.maybeRemoved.indexOf(n)===-1&&$t.stack.maybeRemoved.push(n):$t.stack.maybeRemoved=[n]}$t.stack.child.parents[$t.stack.offset]=e,$t.stack.child.parentEpochs[$t.stack.offset]=e.lastChangedEpoch,$t.stack.offset++}}}const Bl=-1;let _O=class{constructor(t,n,r){m(this,"_isActivelyListening",!1);m(this,"lastTraversedEpoch",Bl);m(this,"lastReactedEpoch",Bl);m(this,"_scheduleCount",0);m(this,"parentEpochs",[]);m(this,"parents",[]);m(this,"_scheduleEffect");m(this,"maybeExecute",()=>{this._isActivelyListening&&this.execute()});this.name=t,this.runEffect=n,this._scheduleEffect=r==null?void 0:r.scheduleEffect}get isActivelyListening(){return this._isActivelyListening}get scheduleCount(){return this._scheduleCount}maybeScheduleEffect(){if(this._isActivelyListening&&this.lastReactedEpoch!==ss()){if(this.parents.length&&!sE(this)){this.lastReactedEpoch=ss();return}this.scheduleEffect()}}scheduleEffect(){this._scheduleCount++,this._scheduleEffect?this._scheduleEffect(this.maybeExecute):this.execute()}attach(){this._isActivelyListening=!0;for(let t=0,n=this.parents.length;t<n;t++)LS(this.parents[t],this)}detach(){this._isActivelyListening=!1;for(let t=0,n=this.parents.length;t<n;t++)jm(this.parents[t],this)}execute(){try{lE(this);const t=this.runEffect(this.lastReactedEpoch);return this.lastReactedEpoch=ss(),t}finally{cE()}}};const Cf=tl("EffectScheduler",()=>_O);function _f(e,t,n){const r=new Cf(e,t,n);return r.attach(),r.scheduleEffect(),()=>{r.detach()}}let EO=class{constructor(t){m(this,"initialAtomValues",new Map);this.parent=t}get isRoot(){return this.parent===null}commit(){if(this.isRoot){const t=this.initialAtomValues;this.initialAtomValues=new Map,dE(t.keys())}else this.initialAtomValues.forEach((t,n)=>{this.parent.initialAtomValues.has(n)||this.parent.initialAtomValues.set(n,t)})}abort(){hr.globalEpoch++,this.initialAtomValues.forEach((t,n)=>{var r;n.set(t),(r=n.historyBuffer)==null||r.clear()}),this.commit()}};const hr=tl("transactions",()=>({globalEpoch:Bl+1,globalIsReacting:!1,currentTransaction:null}));function ss(){return hr.globalEpoch}function dE(e){if(hr.globalIsReacting)throw new Error("cannot change atoms during reaction cycle");try{hr.globalIsReacting=!0;const t=new Set,n=r=>{r.lastTraversedEpoch!==hr.globalEpoch&&(r.lastTraversedEpoch=hr.globalEpoch,r instanceof Cf?t.add(r):r.children.visit(n))};for(const r of e)r.children.visit(n);for(const r of t)r.maybeScheduleEffect()}finally{hr.globalIsReacting=!1}}function IO(e,t){hr.currentTransaction?hr.currentTransaction.initialAtomValues.has(e)||hr.currentTransaction.initialAtomValues.set(e,t):dE([e])}function PO(){hr.globalEpoch++}function zO(e){const t=new EO(hr.currentTransaction);hr.currentTransaction=t;try{let n=!1;const r=e(()=>n=!0);return n?t.abort():t.commit(),r}catch(n){throw t.abort(),n}finally{hr.currentTransaction=hr.currentTransaction.parent}}function Ep(e){return hr.currentTransaction?e():zO(e)}let AO=class{constructor(t,n,r){m(this,"isEqual");m(this,"computeDiff");m(this,"lastChangedEpoch",ss());m(this,"children",new aE);m(this,"historyBuffer");this.name=t,this.current=n,this.isEqual=(r==null?void 0:r.isEqual)??null,r&&(r.historyLength&&(this.historyBuffer=new iE(r.historyLength)),this.computeDiff=r.computeDiff)}__unsafe__getWithoutCapture(){return this.current}get(){return cw(this),this.current}set(t,n){var s,o;if(((s=this.isEqual)==null?void 0:s.call(this,this.current,t))??oE(this.current,t))return this.current;PO(),this.historyBuffer&&this.historyBuffer.pushEntry(this.lastChangedEpoch,ss(),n??((o=this.computeDiff)==null?void 0:o.call(this,this.current,t,this.lastChangedEpoch,ss()))??Go),this.lastChangedEpoch=ss();const r=this.current;return this.current=t,IO(this,r),t}update(t){return this.set(t(this.current))}getDiffSince(t){var n;return cw(this),t>=this.lastChangedEpoch?Ri:((n=this.historyBuffer)==null?void 0:n.getChangesSince(t))??Go}};const NO=tl("Atom",()=>AO);function ys(e,t,n){return new NO(e,t,n)}let u7=!1;function TO(){u7||(u7=!0,console.warn(`Using \`@computed\` as a decorator for getters is deprecated and will be removed in the near future. Please refactor to use \`@computed\` as a decorator for methods.

// Before
@computed
get foo() {
	return 'foo'
}

// After
@computed
getFoo() {
	return 'foo'
}
`))}const dw=Symbol.for("com.tldraw.state/UNINITIALIZED"),MS=e=>e===dw,hw=tl("WithDiff",()=>class{constructor(t,n){this.value=t,this.diff=n}});function LO(e,t){return new hw(e,t)}let MO=class{constructor(t,n,r){m(this,"lastChangedEpoch",Bl);m(this,"lastTraversedEpoch",Bl);m(this,"lastCheckedEpoch",Bl);m(this,"parents",[]);m(this,"parentEpochs",[]);m(this,"children",new aE);m(this,"historyBuffer");m(this,"state",dw);m(this,"computeDiff");m(this,"isEqual");this.name=t,this.derive=n,r!=null&&r.historyLength&&(this.historyBuffer=new iE(r.historyLength)),this.computeDiff=r==null?void 0:r.computeDiff,this.isEqual=(r==null?void 0:r.isEqual)??oE}get isActivelyListening(){return!this.children.isEmpty}__unsafe__getWithoutCapture(){var n;const t=this.lastChangedEpoch===Bl;if(!t&&(this.lastCheckedEpoch===ss()||!sE(this)))return this.lastCheckedEpoch=ss(),this.state;try{lE(this);const r=this.derive(this.state,this.lastCheckedEpoch),s=r instanceof hw?r.value:r;if(this.state===dw||!this.isEqual(s,this.state)){if(this.historyBuffer&&!t){const o=r instanceof hw?r.diff:void 0;this.historyBuffer.pushEntry(this.lastChangedEpoch,ss(),o??((n=this.computeDiff)==null?void 0:n.call(this,this.state,s,this.lastCheckedEpoch,ss()))??Go)}this.lastChangedEpoch=ss(),this.state=s}return this.lastCheckedEpoch=ss(),this.state}finally{cE()}}get(){const t=this.__unsafe__getWithoutCapture();return cw(this),t}getDiffSince(t){var n;return this.get(),t>=this.lastChangedEpoch?Ri:((n=this.historyBuffer)==null?void 0:n.getChangesSince(t))??Go}};const jS=tl("Computed",()=>MO);function jO(e={},t,n,r){const s=r.value,o=Symbol.for("__@tldraw/state__computed__"+n);return r.value=function(){let a=this[o];return a||(a=new jS(n,s.bind(this),e),Object.defineProperty(this,o,{enumerable:!1,configurable:!1,writable:!1,value:a})),a.get()},r.value[$O]=!0,r}function p7(e={},t,n,r){return r.get?(TO(),RO(e,t,n,r)):jO(e,t,n,r)}function RO(e={},t,n,r){const s=r.get,o=Symbol.for("__@tldraw/state__computed__"+n);return r.get=function(){let a=this[o];return a||(a=new jS(n,s.bind(this),e),Object.defineProperty(this,o,{enumerable:!1,configurable:!1,writable:!1,value:a})),a.get()},r}const $O="@@__isComputedMethod__@@";function oe(){if(arguments.length===1){const e=arguments[0];return(t,n,r)=>p7(e,t,n,r)}else return typeof arguments[0]=="string"?new jS(arguments[0],arguments[1],arguments[2]):p7(void 0,arguments[0],arguments[1],arguments[2])}const hE=1,OO=tl("apiVersion",()=>hE);if(OO!==hE)throw new Error("You have multiple incompatible versions of @tldraw/state in your app. Please deduplicate the package.");function f1(e,t){const n=le.useRef(t);n.current=t;const[r,s,o]=le.useMemo(()=>{let a=null;const i=d=>(a=d,()=>{a=null}),l=new Cf(`useStateTracking(${e})`,()=>{var d;return(d=n.current)==null?void 0:d.call(n)},{scheduleEffect(){a==null||a()}});return[l,i,()=>l.scheduleCount]},[e]);return le.useSyncExternalStore(s,o,o),le.useEffect(()=>(r.attach(),r.maybeScheduleEffect(),()=>{r.detach()}),[r]),r.execute()}const f7={apply(e,t,n){return f1(e.displayName??e.name??"tracked(???)",()=>e.apply(t,n))}},DO=Symbol.for("react.memo"),qO=Symbol.for("react.forward_ref");function et(e){let t=null;const n=e.$$typeof;return n===DO&&(e=e.type,t=e.compare),n===qO?b.memo(b.forwardRef(new Proxy(e.render,f7))):b.memo(new Proxy(e,f7),t)}function uE(){const e=arguments[0],t=arguments[1],n=arguments.length===3?void 0:arguments[2],r=arguments.length===3?arguments[2]:arguments[3];return b.useMemo(()=>oe(`useComputed(${e})`,t,n),r)}function oc(e,t,n=Ri){b.useEffect(()=>{const r=new Cf(e,t);return r.attach(),r.execute(),()=>{r.detach()}},n)}function J(){const e=arguments,t=e.length===3?e[2]:[e[0]],n=e.length===3?e[0]:`useValue(${e[0].name})`,r=b.useRef(!0);r.current=!0;const s=b.useMemo(()=>e.length===1?e[0]:oe(n,()=>{if(r.current)return e[1]();try{return e[1]()}catch{return{}}}),t);try{const{subscribe:o,getSnapshot:a}=b.useMemo(()=>({subscribe:i=>_f(`useValue(${n})`,()=>{s.get(),i()}),getSnapshot:()=>s.get()}),[s]);return b.useSyncExternalStore(o,a,a)}finally{r.current=!1}}let L0=class{constructor(t){m(this,"nextValue");m(this,"diff");this.previousValue=t}get(){var r,s,o,a;const t=((s=(r=this.diff)==null?void 0:r.removed)==null?void 0:s.size)??0,n=((a=(o=this.diff)==null?void 0:o.added)==null?void 0:a.size)??0;if(!(t===0&&n===0))return{value:this.nextValue,diff:this.diff}}_add(t,n){var r,s;this.nextValue??(this.nextValue=new Set(this.previousValue)),this.nextValue.add(t),this.diff??(this.diff={}),n?(r=this.diff.removed)==null||r.delete(t):((s=this.diff).added??(s.added=new Set),this.diff.added.add(t))}add(t){var s,o,a;const n=this.previousValue.has(t);if(n)return((o=(s=this.diff)==null?void 0:s.removed)==null?void 0:o.has(t))?this._add(t,n):void 0;(a=this.nextValue)!=null&&a.has(t)||this._add(t,n)}_remove(t,n){var r,s;this.nextValue??(this.nextValue=new Set(this.previousValue)),this.nextValue.delete(t),this.diff??(this.diff={}),n?((r=this.diff).removed??(r.removed=new Set),this.diff.removed.add(t)):(s=this.diff.added)==null||s.delete(t)}remove(t){var s,o,a,i;const n=this.previousValue.has(t);if(!n)return((o=(s=this.diff)==null?void 0:s.added)==null?void 0:o.has(t))?this._remove(t,n):void 0;(i=(a=this.diff)==null?void 0:a.removed)!=null&&i.has(t)||this._remove(t,n)}};function g7(e){return Object.keys(e)}function Dn(e){return Object.values(e)}function Yd(e){return Object.entries(e)}function BO(e){return Object.fromEntries(e)}function z2(e,t){const n={};let r=!1;for(const[s,o]of Yd(e))t(s,o)?n[s]=o:r=!0;return r?n:e}const FO=()=>typeof process<"u"&&!1,Rm=[],KO=()=>{const e=Rm.splice(0,Rm.length);for(const t of e)t()};let A2;function WO(){A2||(A2=requestAnimationFrame(()=>{A2=void 0,KO()}))}function UO(e){if(FO())return e();Rm.includes(e)||(Rm.push(e),WO())}let nl=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,n)=>(n&=63,n<36?t+=n.toString(36):n<62?t+=(n-26).toString(36).toUpperCase():n>62?t+="-":t+="_",t),"");function pE(e){return e&&typeof e=="object"&&"parents"in e}function fE(e){for(let t=0,n=e.parents.length;t<n;t++)if(e.parents[t].__unsafe__getWithoutCapture(),e.parents[t].lastChangedEpoch!==e.parentEpochs[t])return!0;return!1}const $m=(e,t)=>{if(e.children.remove(t)&&e.children.isEmpty&&pE(e))for(let n=0,r=e.parents.length;n<r;n++)$m(e.parents[n],e)},RS=(e,t)=>{if(e.children.add(t)&&pE(e))for(let n=0,r=e.parents.length;n<r;n++)RS(e.parents[n],e)};function gE(e,t){return e===t||Object.is(e,t)||!!(e&&t&&typeof e.equals=="function"&&e.equals(t))}function rl(e,t){const n=Symbol.for(`com.tldraw.state/${e}`),r=globalThis;return r[n]??(r[n]=t()),r[n]}const $S=rl("empty_array",()=>Object.freeze([])),m7=8;let mE=class{constructor(){m(this,"arraySize",0);m(this,"array",Array(m7));m(this,"set",null)}get isEmpty(){if(this.array)return this.arraySize===0;if(this.set)return this.set.size===0;throw new Error("no set or array")}add(t){if(this.array)return this.array.indexOf(t)!==-1?!1:this.arraySize<m7?(this.array[this.arraySize]=t,this.arraySize++,!0):(this.set=new Set(this.array),this.array=null,this.set.add(t),!0);if(this.set)return this.set.has(t)?!1:(this.set.add(t),!0);throw new Error("no set or array")}remove(t){if(this.array){const n=this.array.indexOf(t);return n===-1?!1:(this.array[n]=void 0,this.arraySize--,n!==this.arraySize&&(this.array[n]=this.array[this.arraySize],this.array[this.arraySize]=void 0),!0)}if(this.set)return this.set.has(t)?(this.set.delete(t),!0):!1;throw new Error("no set or array")}visit(t){if(this.array){for(let n=0;n<this.arraySize;n++){const r=this.array[n];typeof r<"u"&&t(r)}return}if(this.set){this.set.forEach(t);return}throw new Error("no set or array")}};const Zo=Symbol.for("com.tldraw.state/RESET_VALUE");let yE=class{constructor(t){m(this,"index",0);m(this,"buffer");this.capacity=t,this.buffer=new Array(t)}pushEntry(t,n,r){if(r!==void 0){if(r===Zo){this.clear();return}this.buffer[this.index]=[t,n,r],this.index=(this.index+1)%this.capacity}}clear(){this.index=0,this.buffer.fill(void 0)}getChangesSince(t){const{index:n,capacity:r,buffer:s}=this;for(let o=0;o<r;o++){const a=(n-1+r-o)%r,i=s[a];if(!i)return Zo;const[l,c]=i;if(o===0&&t>=c)return[];if(l<=t&&t<c){const d=o+1,h=new Array(d);for(let u=0;u<d;u++)h[u]=s[(a+u)%r][2];return h}}return Zo}},VO=class{constructor(t,n){m(this,"offset",0);m(this,"numNewParents",0);m(this,"maybeRemoved");this.below=t,this.child=n}};const Ot=rl("capture",()=>({stack:null}));function xE(e){Ot.stack=new VO(Ot.stack,e)}function wE(){var n;const e=Ot.stack;if(Ot.stack=e.below,e.numNewParents>0||e.offset!==e.child.parents.length){for(let r=e.offset;r<e.child.parents.length;r++){const s=e.child.parents[r];e.child.parents.indexOf(s)>=e.offset&&$m(s,e.child)}if(e.child.parents.length=e.offset,e.child.parentEpochs.length=e.offset,(n=Ot.stack)!=null&&n.maybeRemoved)for(let r=0;r<Ot.stack.maybeRemoved.length;r++){const s=Ot.stack.maybeRemoved[r];e.child.parents.indexOf(s)===-1&&$m(s,e.child)}}}function uw(e){if(Ot.stack){const t=Ot.stack.child.parents.indexOf(e);if(t<0&&(Ot.stack.numNewParents++,Ot.stack.child.isActivelyListening&&RS(e,Ot.stack.child)),t<0||t>=Ot.stack.offset){if(t!==Ot.stack.offset&&t>0){const n=Ot.stack.child.parents[Ot.stack.offset];Ot.stack.maybeRemoved?Ot.stack.maybeRemoved.indexOf(n)===-1&&Ot.stack.maybeRemoved.push(n):Ot.stack.maybeRemoved=[n]}Ot.stack.child.parents[Ot.stack.offset]=e,Ot.stack.child.parentEpochs[Ot.stack.offset]=e.lastChangedEpoch,Ot.stack.offset++}}}const Fl=-1;let XO=class{constructor(t,n,r){m(this,"_isActivelyListening",!1);m(this,"lastTraversedEpoch",Fl);m(this,"lastReactedEpoch",Fl);m(this,"_scheduleCount",0);m(this,"parentEpochs",[]);m(this,"parents",[]);m(this,"_scheduleEffect");m(this,"maybeExecute",()=>{this._isActivelyListening&&this.execute()});this.name=t,this.runEffect=n,this._scheduleEffect=r==null?void 0:r.scheduleEffect}get isActivelyListening(){return this._isActivelyListening}get scheduleCount(){return this._scheduleCount}maybeScheduleEffect(){if(this._isActivelyListening&&this.lastReactedEpoch!==os()){if(this.parents.length&&!fE(this)){this.lastReactedEpoch=os();return}this.scheduleEffect()}}scheduleEffect(){this._scheduleCount++,this._scheduleEffect?this._scheduleEffect(this.maybeExecute):this.execute()}attach(){this._isActivelyListening=!0;for(let t=0,n=this.parents.length;t<n;t++)RS(this.parents[t],this)}detach(){this._isActivelyListening=!1;for(let t=0,n=this.parents.length;t<n;t++)$m(this.parents[t],this)}execute(){try{xE(this);const t=this.runEffect(this.lastReactedEpoch);return this.lastReactedEpoch=os(),t}finally{wE()}}};const SE=rl("EffectScheduler",()=>XO);function YO(e,t,n){const r=new SE(e,t,n);return{scheduler:r,start:s=>{const o=(s==null?void 0:s.force)??!1;r.attach(),o?r.scheduleEffect():r.maybeScheduleEffect()},stop:()=>{r.detach()}}}let HO=class{constructor(t){m(this,"initialAtomValues",new Map);this.parent=t}get isRoot(){return this.parent===null}commit(){if(this.isRoot){const t=this.initialAtomValues;this.initialAtomValues=new Map,bE(t.keys())}else this.initialAtomValues.forEach((t,n)=>{this.parent.initialAtomValues.has(n)||this.parent.initialAtomValues.set(n,t)})}abort(){ur.globalEpoch++,this.initialAtomValues.forEach((t,n)=>{var r;n.set(t),(r=n.historyBuffer)==null||r.clear()}),this.commit()}};const ur=rl("transactions",()=>({globalEpoch:Fl+1,globalIsReacting:!1,currentTransaction:null}));function os(){return ur.globalEpoch}function bE(e){if(ur.globalIsReacting)throw new Error("cannot change atoms during reaction cycle");try{ur.globalIsReacting=!0;const t=new Set,n=r=>{r.lastTraversedEpoch!==ur.globalEpoch&&(r.lastTraversedEpoch=ur.globalEpoch,r instanceof SE?t.add(r):r.children.visit(n))};for(const r of e)r.children.visit(n);for(const r of t)r.maybeScheduleEffect()}finally{ur.globalIsReacting=!1}}function GO(e,t){ur.currentTransaction?ur.currentTransaction.initialAtomValues.has(e)||ur.currentTransaction.initialAtomValues.set(e,t):bE([e])}function ZO(){ur.globalEpoch++}function QO(e){const t=new HO(ur.currentTransaction);ur.currentTransaction=t;try{let n=!1;const r=e(()=>n=!0);return n?t.abort():t.commit(),r}catch(n){throw t.abort(),n}finally{ur.currentTransaction=ur.currentTransaction.parent}}function Yc(e){return ur.currentTransaction?e():QO(e)}let JO=class{constructor(t,n,r){m(this,"isEqual");m(this,"computeDiff");m(this,"lastChangedEpoch",os());m(this,"children",new mE);m(this,"historyBuffer");this.name=t,this.current=n,this.isEqual=(r==null?void 0:r.isEqual)??null,r&&(r.historyLength&&(this.historyBuffer=new yE(r.historyLength)),this.computeDiff=r.computeDiff)}__unsafe__getWithoutCapture(){return this.current}get(){return uw(this),this.current}set(t,n){var s,o;if(((s=this.isEqual)==null?void 0:s.call(this,this.current,t))??gE(this.current,t))return this.current;ZO(),this.historyBuffer&&this.historyBuffer.pushEntry(this.lastChangedEpoch,os(),n??((o=this.computeDiff)==null?void 0:o.call(this,this.current,t,this.lastChangedEpoch,os()))??Zo),this.lastChangedEpoch=os();const r=this.current;return this.current=t,GO(this,r),t}update(t){return this.set(t(this.current))}getDiffSince(t){var n;return uw(this),t>=this.lastChangedEpoch?$S:((n=this.historyBuffer)==null?void 0:n.getChangesSince(t))??Zo}};const eD=rl("Atom",()=>JO);function yg(e,t,n){return new eD(e,t,n)}let y7=!1;function tD(){y7||(y7=!0,console.warn(`Using \`@computed\` as a decorator for getters is deprecated and will be removed in the near future. Please refactor to use \`@computed\` as a decorator for methods.

// Before
@computed
get foo() {
	return 'foo'
}

// After
@computed
getFoo() {
	return 'foo'
}
`))}const pw=Symbol.for("com.tldraw.state/UNINITIALIZED"),N2=e=>e===pw,fw=rl("WithDiff",()=>class{constructor(t,n){this.value=t,this.diff=n}});function xg(e,t){return new fw(e,t)}let nD=class{constructor(t,n,r){m(this,"lastChangedEpoch",Fl);m(this,"lastTraversedEpoch",Fl);m(this,"lastCheckedEpoch",Fl);m(this,"parents",[]);m(this,"parentEpochs",[]);m(this,"children",new mE);m(this,"historyBuffer");m(this,"state",pw);m(this,"computeDiff");m(this,"isEqual");this.name=t,this.derive=n,r!=null&&r.historyLength&&(this.historyBuffer=new yE(r.historyLength)),this.computeDiff=r==null?void 0:r.computeDiff,this.isEqual=(r==null?void 0:r.isEqual)??gE}get isActivelyListening(){return!this.children.isEmpty}__unsafe__getWithoutCapture(){var n;const t=this.lastChangedEpoch===Fl;if(!t&&(this.lastCheckedEpoch===os()||!fE(this)))return this.lastCheckedEpoch=os(),this.state;try{xE(this);const r=this.derive(this.state,this.lastCheckedEpoch),s=r instanceof fw?r.value:r;if(this.state===pw||!this.isEqual(s,this.state)){if(this.historyBuffer&&!t){const o=r instanceof fw?r.diff:void 0;this.historyBuffer.pushEntry(this.lastChangedEpoch,os(),o??((n=this.computeDiff)==null?void 0:n.call(this,this.state,s,this.lastCheckedEpoch,os()))??Zo)}this.lastChangedEpoch=os(),this.state=s}return this.lastCheckedEpoch=os(),this.state}finally{wE()}}get(){const t=this.__unsafe__getWithoutCapture();return uw(this),t}getDiffSince(t){var n;return this.get(),t>=this.lastChangedEpoch?$S:((n=this.historyBuffer)==null?void 0:n.getChangesSince(t))??Zo}};const OS=rl("Computed",()=>nD);function rD(e={},t,n,r){const s=r.value,o=Symbol.for("__@tldraw/state__computed__"+n);return r.value=function(){let a=this[o];return a||(a=new OS(n,s.bind(this),e),Object.defineProperty(this,o,{enumerable:!1,configurable:!1,writable:!1,value:a})),a.get()},r.value[oD]=!0,r}function x7(e={},t,n,r){return r.get?(tD(),sD(e,t,n,r)):rD(e,t,n,r)}function sD(e={},t,n,r){const s=r.get,o=Symbol.for("__@tldraw/state__computed__"+n);return r.get=function(){let a=this[o];return a||(a=new OS(n,s.bind(this),e),Object.defineProperty(this,o,{enumerable:!1,configurable:!1,writable:!1,value:a})),a.get()},r}const oD="@@__isComputedMethod__@@";function Oo(){if(arguments.length===1){const e=arguments[0];return(t,n,r)=>x7(e,t,n,r)}else return typeof arguments[0]=="string"?new OS(arguments[0],arguments[1],arguments[2]):x7(void 0,arguments[0],arguments[1],arguments[2])}const vE=1,aD=rl("apiVersion",()=>vE);if(aD!==vE)throw new Error("You have multiple incompatible versions of @tldraw/state in your app. Please deduplicate the package.");let w7=class{constructor(){m(this,"items",new WeakMap)}get(t,n){return this.items.has(t)||this.items.set(t,n(t)),this.items.get(t)}};var Om={exports:{}};Om.exports;(function(e,t){var n=200,r="__lodash_hash_undefined__",s=1,o=2,a=9007199254740991,i="[object Arguments]",l="[object Array]",c="[object AsyncFunction]",d="[object Boolean]",h="[object Date]",u="[object Error]",p="[object Function]",y="[object GeneratorFunction]",g="[object Map]",x="[object Number]",w="[object Null]",S="[object Object]",v="[object Promise]",k="[object Proxy]",C="[object RegExp]",_="[object Set]",E="[object String]",I="[object Symbol]",z="[object Undefined]",A="[object WeakMap]",T="[object ArrayBuffer]",j="[object DataView]",R="[object Float32Array]",M="[object Float64Array]",D="[object Int8Array]",U="[object Int16Array]",Y="[object Int32Array]",q="[object Uint8Array]",K="[object Uint8ClampedArray]",W="[object Uint16Array]",G="[object Uint32Array]",ne=/[\\^$.*+?()[\]{}|]/g,ce=/^\[object .+?Constructor\]$/,Le=/^(?:0|[1-9]\d*)$/,re={};re[R]=re[M]=re[D]=re[U]=re[Y]=re[q]=re[K]=re[W]=re[G]=!0,re[i]=re[l]=re[T]=re[d]=re[j]=re[h]=re[u]=re[p]=re[g]=re[x]=re[S]=re[C]=re[_]=re[E]=re[A]=!1;var Pe=typeof Un=="object"&&Un&&Un.Object===Object&&Un,Me=typeof self=="object"&&self&&self.Object===Object&&self,ht=Pe||Me||Function("return this")(),je=t&&!t.nodeType&&t,Ke=je&&!0&&e&&!e.nodeType&&e,Ae=Ke&&Ke.exports===je,at=Ae&&Pe.process,Lt=function(){try{return at&&at.binding&&at.binding("util")}catch{}}(),ln=Lt&&Lt.isTypedArray;function He(N,B){for(var Q=-1,ue=N==null?0:N.length,jt=0,Fe=[];++Q<ue;){var cn=N[Q];B(cn,Q,N)&&(Fe[jt++]=cn)}return Fe}function tt(N,B){for(var Q=-1,ue=B.length,jt=N.length;++Q<ue;)N[jt+Q]=B[Q];return N}function Is(N,B){for(var Q=-1,ue=N==null?0:N.length;++Q<ue;)if(B(N[Q],Q,N))return!0;return!1}function Qs(N,B){for(var Q=-1,ue=Array(N);++Q<N;)ue[Q]=B(Q);return ue}function bl(N){return function(B){return N(B)}}function ci(N,B){return N.has(B)}function di(N,B){return N==null?void 0:N[B]}function vl(N){var B=-1,Q=Array(N.size);return N.forEach(function(ue,jt){Q[++B]=[jt,ue]}),Q}function kl(N,B){return function(Q){return N(B(Q))}}function ag(N){var B=-1,Q=Array(N.size);return N.forEach(function(ue){Q[++B]=ue}),Q}var Gh=Array.prototype,Ao=Function.prototype,No=Object.prototype,Fc=ht["__core-js_shared__"],Cl=Ao.toString,Ps=No.hasOwnProperty,Js=function(){var N=/[^.]+$/.exec(Fc&&Fc.keys&&Fc.keys.IE_PROTO||"");return N?"Symbol(src)_1."+N:""}(),Zh=No.toString,ig=RegExp("^"+Cl.call(Ps).replace(ne,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Qh=Ae?ht.Buffer:void 0,Kc=ht.Symbol,Jh=ht.Uint8Array,_l=No.propertyIsEnumerable,lg=Gh.splice,eo=Kc?Kc.toStringTag:void 0,cg=Object.getOwnPropertySymbols,dg=Qh?Qh.isBuffer:void 0,_2=kl(Object.keys,Object),Wc=Xc(ht,"DataView"),El=Xc(ht,"Map"),F=Xc(ht,"Promise"),X=Xc(ht,"Set"),Z=Xc(ht,"WeakMap"),te=Xc(Object,"create"),de=Al(Wc),Re=Al(El),Ce=Al(F),fe=Al(X),$e=Al(Z),Te=Kc?Kc.prototype:void 0,un=Te?Te.valueOf:void 0;function Mt(N){var B=-1,Q=N==null?0:N.length;for(this.clear();++B<Q;){var ue=N[B];this.set(ue[0],ue[1])}}function Ne(){this.__data__=te?te(null):{},this.size=0}function _t(N){var B=this.has(N)&&delete this.__data__[N];return this.size-=B?1:0,B}function mn(N){var B=this.__data__;if(te){var Q=B[N];return Q===r?void 0:Q}return Ps.call(B,N)?B[N]:void 0}function Il(N){var B=this.__data__;return te?B[N]!==void 0:Ps.call(B,N)}function To(N,B){var Q=this.__data__;return this.size+=this.has(N)?0:1,Q[N]=te&&B===void 0?r:B,this}Mt.prototype.clear=Ne,Mt.prototype.delete=_t,Mt.prototype.get=mn,Mt.prototype.has=Il,Mt.prototype.set=To;function Jn(N){var B=-1,Q=N==null?0:N.length;for(this.clear();++B<Q;){var ue=N[B];this.set(ue[0],ue[1])}}function hi(){this.__data__=[],this.size=0}function ui(N){var B=this.__data__,Q=hg(B,N);if(Q<0)return!1;var ue=B.length-1;return Q==ue?B.pop():lg.call(B,Q,1),--this.size,!0}function zs(N){var B=this.__data__,Q=hg(B,N);return Q<0?void 0:B[Q][1]}function Uc(N){return hg(this.__data__,N)>-1}function Vc(N,B){var Q=this.__data__,ue=hg(Q,N);return ue<0?(++this.size,Q.push([N,B])):Q[ue][1]=B,this}Jn.prototype.clear=hi,Jn.prototype.delete=ui,Jn.prototype.get=zs,Jn.prototype.has=Uc,Jn.prototype.set=Vc;function As(N){var B=-1,Q=N==null?0:N.length;for(this.clear();++B<Q;){var ue=N[B];this.set(ue[0],ue[1])}}function Ge(){this.size=0,this.__data__={hash:new Mt,map:new(El||Jn),string:new Mt}}function Mn(N){var B=ug(this,N).delete(N);return this.size-=B?1:0,B}function jr(N){return ug(this,N).get(N)}function wn(N){return ug(this,N).has(N)}function Pl(N,B){var Q=ug(this,N),ue=Q.size;return Q.set(N,B),this.size+=Q.size==ue?0:1,this}As.prototype.clear=Ge,As.prototype.delete=Mn,As.prototype.get=jr,As.prototype.has=wn,As.prototype.set=Pl;function zl(N){var B=-1,Q=N==null?0:N.length;for(this.__data__=new As;++B<Q;)this.add(N[B])}function E2(N){return this.__data__.set(N,r),this}function I$(N){return this.__data__.has(N)}zl.prototype.add=zl.prototype.push=E2,zl.prototype.has=I$;function pi(N){var B=this.__data__=new Jn(N);this.size=B.size}function P$(){this.__data__=new Jn,this.size=0}function z$(N){var B=this.__data__,Q=B.delete(N);return this.size=B.size,Q}function A$(N){return this.__data__.get(N)}function N$(N){return this.__data__.has(N)}function T$(N,B){var Q=this.__data__;if(Q instanceof Jn){var ue=Q.__data__;if(!El||ue.length<n-1)return ue.push([N,B]),this.size=++Q.size,this;Q=this.__data__=new As(ue)}return Q.set(N,B),this.size=Q.size,this}pi.prototype.clear=P$,pi.prototype.delete=z$,pi.prototype.get=A$,pi.prototype.has=N$,pi.prototype.set=T$;function L$(N,B){var Q=pg(N),ue=!Q&&Y$(N),jt=!Q&&!ue&&I2(N),Fe=!Q&&!ue&&!jt&&a7(N),cn=Q||ue||jt||Fe,kn=cn?Qs(N.length,String):[],jn=kn.length;for(var Zt in N)(B||Ps.call(N,Zt))&&!(cn&&(Zt=="length"||jt&&(Zt=="offset"||Zt=="parent")||Fe&&(Zt=="buffer"||Zt=="byteLength"||Zt=="byteOffset")||K$(Zt,jn)))&&kn.push(Zt);return kn}function hg(N,B){for(var Q=N.length;Q--;)if(n7(N[Q][0],B))return Q;return-1}function M$(N,B,Q){var ue=B(N);return pg(N)?ue:tt(ue,Q(N))}function eu(N){return N==null?N===void 0?z:w:eo&&eo in Object(N)?B$(N):X$(N)}function Q6(N){return tu(N)&&eu(N)==i}function J6(N,B,Q,ue,jt){return N===B?!0:N==null||B==null||!tu(N)&&!tu(B)?N!==N&&B!==B:j$(N,B,Q,ue,J6,jt)}function j$(N,B,Q,ue,jt,Fe){var cn=pg(N),kn=pg(B),jn=cn?l:fi(N),Zt=kn?l:fi(B);jn=jn==i?S:jn,Zt=Zt==i?S:Zt;var Zr=jn==S,to=Zt==S,er=jn==Zt;if(er&&I2(N)){if(!I2(B))return!1;cn=!0,Zr=!1}if(er&&!Zr)return Fe||(Fe=new pi),cn||a7(N)?e7(N,B,Q,ue,jt,Fe):D$(N,B,jn,Q,ue,jt,Fe);if(!(Q&s)){var Ns=Zr&&Ps.call(N,"__wrapped__"),Ts=to&&Ps.call(B,"__wrapped__");if(Ns||Ts){var gi=Ns?N.value():N,wa=Ts?B.value():B;return Fe||(Fe=new pi),jt(gi,wa,Q,ue,Fe)}}return er?(Fe||(Fe=new pi),q$(N,B,Q,ue,jt,Fe)):!1}function R$(N){if(!o7(N)||U$(N))return!1;var B=r7(N)?ig:ce;return B.test(Al(N))}function $$(N){return tu(N)&&s7(N.length)&&!!re[eu(N)]}function O$(N){if(!V$(N))return _2(N);var B=[];for(var Q in Object(N))Ps.call(N,Q)&&Q!="constructor"&&B.push(Q);return B}function e7(N,B,Q,ue,jt,Fe){var cn=Q&s,kn=N.length,jn=B.length;if(kn!=jn&&!(cn&&jn>kn))return!1;var Zt=Fe.get(N);if(Zt&&Fe.get(B))return Zt==B;var Zr=-1,to=!0,er=Q&o?new zl:void 0;for(Fe.set(N,B),Fe.set(B,N);++Zr<kn;){var Ns=N[Zr],Ts=B[Zr];if(ue)var gi=cn?ue(Ts,Ns,Zr,B,N,Fe):ue(Ns,Ts,Zr,N,B,Fe);if(gi!==void 0){if(gi)continue;to=!1;break}if(er){if(!Is(B,function(wa,Nl){if(!ci(er,Nl)&&(Ns===wa||jt(Ns,wa,Q,ue,Fe)))return er.push(Nl)})){to=!1;break}}else if(!(Ns===Ts||jt(Ns,Ts,Q,ue,Fe))){to=!1;break}}return Fe.delete(N),Fe.delete(B),to}function D$(N,B,Q,ue,jt,Fe,cn){switch(Q){case j:if(N.byteLength!=B.byteLength||N.byteOffset!=B.byteOffset)return!1;N=N.buffer,B=B.buffer;case T:return!(N.byteLength!=B.byteLength||!Fe(new Jh(N),new Jh(B)));case d:case h:case x:return n7(+N,+B);case u:return N.name==B.name&&N.message==B.message;case C:case E:return N==B+"";case g:var kn=vl;case _:var jn=ue&s;if(kn||(kn=ag),N.size!=B.size&&!jn)return!1;var Zt=cn.get(N);if(Zt)return Zt==B;ue|=o,cn.set(N,B);var Zr=e7(kn(N),kn(B),ue,jt,Fe,cn);return cn.delete(N),Zr;case I:if(un)return un.call(N)==un.call(B)}return!1}function q$(N,B,Q,ue,jt,Fe){var cn=Q&s,kn=t7(N),jn=kn.length,Zt=t7(B),Zr=Zt.length;if(jn!=Zr&&!cn)return!1;for(var to=jn;to--;){var er=kn[to];if(!(cn?er in B:Ps.call(B,er)))return!1}var Ns=Fe.get(N);if(Ns&&Fe.get(B))return Ns==B;var Ts=!0;Fe.set(N,B),Fe.set(B,N);for(var gi=cn;++to<jn;){er=kn[to];var wa=N[er],Nl=B[er];if(ue)var i7=cn?ue(Nl,wa,er,B,N,Fe):ue(wa,Nl,er,N,B,Fe);if(!(i7===void 0?wa===Nl||jt(wa,Nl,Q,ue,Fe):i7)){Ts=!1;break}gi||(gi=er=="constructor")}if(Ts&&!gi){var fg=N.constructor,gg=B.constructor;fg!=gg&&"constructor"in N&&"constructor"in B&&!(typeof fg=="function"&&fg instanceof fg&&typeof gg=="function"&&gg instanceof gg)&&(Ts=!1)}return Fe.delete(N),Fe.delete(B),Ts}function t7(N){return M$(N,Z$,F$)}function ug(N,B){var Q=N.__data__;return W$(B)?Q[typeof B=="string"?"string":"hash"]:Q.map}function Xc(N,B){var Q=di(N,B);return R$(Q)?Q:void 0}function B$(N){var B=Ps.call(N,eo),Q=N[eo];try{N[eo]=void 0;var ue=!0}catch{}var jt=Zh.call(N);return ue&&(B?N[eo]=Q:delete N[eo]),jt}var F$=cg?function(N){return N==null?[]:(N=Object(N),He(cg(N),function(B){return _l.call(N,B)}))}:Q$,fi=eu;(Wc&&fi(new Wc(new ArrayBuffer(1)))!=j||El&&fi(new El)!=g||F&&fi(F.resolve())!=v||X&&fi(new X)!=_||Z&&fi(new Z)!=A)&&(fi=function(N){var B=eu(N),Q=B==S?N.constructor:void 0,ue=Q?Al(Q):"";if(ue)switch(ue){case de:return j;case Re:return g;case Ce:return v;case fe:return _;case $e:return A}return B});function K$(N,B){return B=B??a,!!B&&(typeof N=="number"||Le.test(N))&&N>-1&&N%1==0&&N<B}function W$(N){var B=typeof N;return B=="string"||B=="number"||B=="symbol"||B=="boolean"?N!=="__proto__":N===null}function U$(N){return!!Js&&Js in N}function V$(N){var B=N&&N.constructor,Q=typeof B=="function"&&B.prototype||No;return N===Q}function X$(N){return Zh.call(N)}function Al(N){if(N!=null){try{return Cl.call(N)}catch{}try{return N+""}catch{}}return""}function n7(N,B){return N===B||N!==N&&B!==B}var Y$=Q6(function(){return arguments}())?Q6:function(N){return tu(N)&&Ps.call(N,"callee")&&!_l.call(N,"callee")},pg=Array.isArray;function H$(N){return N!=null&&s7(N.length)&&!r7(N)}var I2=dg||J$;function G$(N,B){return J6(N,B)}function r7(N){if(!o7(N))return!1;var B=eu(N);return B==p||B==y||B==c||B==k}function s7(N){return typeof N=="number"&&N>-1&&N%1==0&&N<=a}function o7(N){var B=typeof N;return N!=null&&(B=="object"||B=="function")}function tu(N){return N!=null&&typeof N=="object"}var a7=ln?bl(ln):$$;function Z$(N){return H$(N)?L$(N):O$(N)}function Q$(){return[]}function J$(){return!1}e.exports=G$})(Om,Om.exports);var iD=Om.exports;const kE=_c(iD);function lD(e){if(e.length===0)return new Set;const t=e[0],n=e.slice(1),r=new Set;for(const s of t)n.every(o=>o.has(s))&&r.add(s);return r}function cD(e,t){const n={};for(const r of t)e.has(r)||(n.added??(n.added=new Set),n.added.add(r));for(const r of e)t.has(r)||(n.removed??(n.removed=new Set),n.removed.add(r));return n.added||n.removed?n:void 0}function S7(e,t){for(const[n,r]of Object.entries(e)){const s=r,o=t[n];if("eq"in s&&o!==s.eq||"neq"in s&&o===s.neq||"gt"in s&&(typeof o!="number"||o<=s.gt))return!1}return!0}function b7(e,t,n){const r=Object.fromEntries(Object.keys(n).map(s=>[s,new Set]));for(const[s,o]of Object.entries(n))if("eq"in o){const i=e.index(t,s).get().get(o.eq);if(i)for(const l of i)r[s].add(l)}else if("neq"in o){const a=e.index(t,s);for(const[i,l]of a.get())if(i!==o.neq)for(const c of l)r[s].add(c)}else if("gt"in o){const a=e.index(t,s);for(const[i,l]of a.get())if(i>o.gt)for(const c of l)r[s].add(c)}return lD(Object.values(r))}let dD=class{constructor(t,n){m(this,"indexCache",new Map);m(this,"historyCache",new Map);this.atoms=t,this.history=n}filterHistory(t){if(this.historyCache.has(t))return this.historyCache.get(t);const n=Oo("filterHistory:"+t,(r,s)=>{if(N2(r))return this.history.get();const o=this.history.getDiffSince(s);if(o===Zo)return this.history.get();const a={added:{},removed:{},updated:{}};let i=0,l=0,c=0;for(const d of o){for(const h of Dn(d.added))if(h.typeName===t)if(a.removed[h.id]){const u=a.removed[h.id];delete a.removed[h.id],l--,u!==h&&(a.updated[h.id]=[u,h],c++)}else a.added[h.id]=h,i++;for(const[h,u]of Dn(d.updated))u.typeName===t&&(a.added[u.id]?a.added[u.id]=u:a.updated[u.id]?a.updated[u.id]=[a.updated[u.id][0],u]:(a.updated[u.id]=[h,u],c++));for(const h of Dn(d.removed))h.typeName===t&&(a.added[h.id]?(delete a.added[h.id],i--):a.updated[h.id]?(a.removed[h.id]=a.updated[h.id][0],delete a.updated[h.id],c--,l++):(a.removed[h.id]=h,l++))}return i||l||c?xg(this.history.get(),a):r},{historyLength:100});return this.historyCache.set(t,n),n}index(t,n){const r=t+":"+n;if(this.indexCache.has(r))return this.indexCache.get(r);const s=this.__uncached_createIndex(t,n);return this.indexCache.set(r,s),s}__uncached_createIndex(t,n){const r=this.filterHistory(t),s=()=>{r.get();const o=new Map;for(const a of Dn(this.atoms.get())){const i=a.get();if(i.typeName===t){const l=i[n];o.has(l)||o.set(l,new Set),o.get(l).add(i.id)}}return o};return Oo("index:"+t+":"+n,(o,a)=>{if(N2(o))return s();const i=r.getDiffSince(a);if(i===Zo)return s();const l=new Map,c=(p,y)=>{let g=l.get(p);g||(g=new L0(o.get(p)??new Set)),g.add(y),l.set(p,g)},d=(p,y)=>{let g=l.get(p);g||(g=new L0(o.get(p)??new Set)),g.remove(y),l.set(p,g)};for(const p of i){for(const y of Dn(p.added))if(y.typeName===t){const g=y[n];c(g,y.id)}for(const[y,g]of Dn(p.updated))if(g.typeName===t){const x=y[n],w=g[n];x!==w&&(d(x,g.id),c(w,g.id))}for(const y of Dn(p.removed))if(y.typeName===t){const g=y[n];d(g,y.id)}}let h,u;for(const[p,y]of l){const g=y.get();g&&(h||(h=new Map(o)),u||(u=new Map),g.value.size===0?h.delete(p):h.set(p,g.value),u.set(p,g.diff))}return h&&u?xg(h,u):o},{historyLength:100})}record(t,n=()=>({}),r="record:"+t+(n?":"+n.toString():"")){const s=this.ids(t,n,r);return Oo(r,()=>{var o;for(const a of s.get())return(o=this.atoms.get()[a])==null?void 0:o.get()})}records(t,n=()=>({}),r="records:"+t+(n?":"+n.toString():"")){const s=this.ids(t,n,"ids:"+r);return Oo(r,()=>[...s.get()].map(o=>{const a=this.atoms.get()[o];if(!a)throw new Error("no atom found for record id: "+o);return a.get()}))}ids(t,n=()=>({}),r="ids:"+t+(n?":"+n.toString():"")){const s=this.filterHistory(t),o=()=>{s.get();const l=n();return Object.keys(l).length===0?new Set(Dn(this.atoms.get()).flatMap(c=>{const d=c.get();return d.typeName===t?d.id:[]})):b7(this,t,l)},a=l=>{const c=o(),d=cD(l,c);return d?xg(c,d):l},i=Oo("ids_query:"+r,n,{isEqual:kE});return Oo("query:"+r,(l,c)=>{const d=i.get();if(N2(l))return o();if(c<i.lastChangedEpoch)return a(l);const h=s.getDiffSince(c);if(h===Zo)return a(l);const u=new L0(l);for(const y of h){for(const g of Dn(y.added))g.typeName===t&&S7(d,g)&&u.add(g.id);for(const[g,x]of Dn(y.updated))x.typeName===t&&(S7(d,x)?u.add(x.id):u.remove(x.id));for(const g of Dn(y.removed))g.typeName===t&&u.remove(g.id)}const p=u.get();return p?xg(p.value,p.diff):l},{historyLength:50})}exec(t,n){const r=b7(this,t,n);if(r.size===0)return $S;const s=this.atoms.get();return[...r].map(o=>s[o].get())}};let CE=class{constructor(t){m(this,"id",nl());m(this,"atoms",yg("store_atoms",{}));m(this,"history",yg("history",0,{historyLength:1e3}));m(this,"query",new dD(this.atoms,this.history));m(this,"listeners",new Set);m(this,"historyAccumulator",new uD);m(this,"historyReactor");m(this,"schema");m(this,"props");m(this,"scopedTypes");m(this,"onBeforeCreate");m(this,"onAfterCreate");m(this,"onBeforeChange");m(this,"onAfterChange");m(this,"onBeforeDelete");m(this,"onAfterDelete");m(this,"_runCallbacks",!0);m(this,"put",(t,n)=>{Yc(()=>{const r={},s={},o=this.atoms.__unsafe__getWithoutCapture();let a=null,i,l=!1;const c=this.onBeforeCreate&&this._runCallbacks?this.onBeforeCreate:null,d=this.onBeforeChange&&this._runCallbacks?this.onBeforeChange:null,h=this.isMergingRemoteChanges?"remote":"user";for(let u=0,p=t.length;u<p;u++){i=t[u];const y=(a??o)[i.id];if(y){d&&(i=d(y.get(),i,h));const g=y.__unsafe__getWithoutCapture();i=this.schema.validateRecord(this,i,n??"updateRecord",g),y.set(i);const x=y.__unsafe__getWithoutCapture();g!==x&&(l=!0,r[i.id]=[g,x])}else c&&(i=c(i,h)),l=!0,i=this.schema.validateRecord(this,i,n??"createRecord",null),s[i.id]=i,a||(a={...o}),a[i.id]=yg("atom:"+i.id,i)}if(a&&this.atoms.set(a),!!l&&(this.updateHistory({added:s,updated:r,removed:{}}),this._runCallbacks)){const{onAfterCreate:u,onAfterChange:p}=this;u&&Object.values(s).forEach(y=>{u(y,h)}),p&&Object.values(r).forEach(([y,g])=>{p(y,g,h)})}})});m(this,"remove",t=>{Yc(()=>{const n=[],r=this.isMergingRemoteChanges?"remote":"user";if(this.onBeforeDelete&&this._runCallbacks)for(const o of t){const a=this.atoms.__unsafe__getWithoutCapture()[o];a&&this.onBeforeDelete(a.get(),r)===!1&&n.push(o)}let s;if(this.atoms.update(o=>{let a;for(const i of t)n.includes(i)||i in o&&(a||(a={...o}),s||(s={}),delete a[i],s[i]=o[i].get());return a??o}),!!s&&(this.updateHistory({added:{},updated:{},removed:s}),this.onAfterDelete&&this._runCallbacks)){let o;for(let a=0,i=t.length;a<i;a++)o=s[t[a]],o&&this.onAfterDelete(o,r)}})});m(this,"get",t=>{var n;return(n=this.atoms.get()[t])==null?void 0:n.get()});m(this,"unsafeGetWithoutCapture",t=>{var n;return(n=this.atoms.get()[t])==null?void 0:n.__unsafe__getWithoutCapture()});m(this,"serialize",(t="document")=>{const n={};for(const[r,s]of Yd(this.atoms.get())){const o=s.get();(t==="all"||this.scopedTypes[t].has(o.typeName))&&(n[r]=o)}return n});m(this,"allRecords",()=>Dn(this.atoms.get()).map(t=>t.get()));m(this,"clear",()=>{this.remove(g7(this.atoms.get()))});m(this,"update",(t,n)=>{const r=this.atoms.get()[t];if(!r){console.error(`Record ${t} not found. This is probably an error`);return}this.put([n(r.__unsafe__getWithoutCapture())])});m(this,"has",t=>!!this.atoms.get()[t]);m(this,"listen",(t,n)=>{this._flushHistory();const r={onHistory:t,filters:{source:(n==null?void 0:n.source)??"all",scope:(n==null?void 0:n.scope)??"all"}};return this.listeners.add(r),this.historyReactor.scheduler.isActivelyListening||this.historyReactor.start(),()=>{this.listeners.delete(r),this.listeners.size===0&&this.historyReactor.stop()}});m(this,"isMergingRemoteChanges",!1);m(this,"mergeRemoteChanges",t=>{if(this.isMergingRemoteChanges)return t();try{this.isMergingRemoteChanges=!0,Yc(t)}finally{this.isMergingRemoteChanges=!1}});m(this,"createComputedCache",(t,n,r)=>{const s=new w7;return{get:o=>{const a=this.atoms.get()[o];if(a)return s.get(a,()=>{const i=r?Oo(a.name+":equals",()=>a.get(),{isEqual:r}):a;return Oo(t+":"+o,()=>n(i.get()))}).get()}}});m(this,"createSelectedComputedCache",(t,n,r)=>{const s=new w7;return{get:o=>{const a=this.atoms.get()[o];if(!a)return;const i=Oo(t+":"+o+":selector",()=>n(a.get()));return s.get(a,()=>Oo(t+":"+o,()=>r(i.get()))).get()}}});m(this,"getRecordType",t=>{const n=this.schema.types[t.typeName];if(!n)throw new Error(`Record type ${t.typeName} not found`);return n});m(this,"_integrityChecker");m(this,"_isPossiblyCorrupted",!1);const{initialData:n,schema:r}=t;this.schema=r,this.props=t.props,n&&this.atoms.set(BO(Yd(n).map(([s,o])=>[s,yg("atom:"+s,this.schema.validateRecord(this,o,"initialize",null))]))),this.historyReactor=YO("Store.historyReactor",()=>{this.history.get(),this._flushHistory()},{scheduleEffect:s=>UO(s)}),this.scopedTypes={document:new Set(Dn(this.schema.types).filter(s=>s.scope==="document").map(s=>s.typeName)),session:new Set(Dn(this.schema.types).filter(s=>s.scope==="session").map(s=>s.typeName)),presence:new Set(Dn(this.schema.types).filter(s=>s.scope==="presence").map(s=>s.typeName))}}_flushHistory(){if(this.historyAccumulator.hasChanges()){const t=this.historyAccumulator.flush();for(const{changes:n,source:r}of t){let s=null,o=null,a=null;for(const{onHistory:i,filters:l}of this.listeners)if(!(l.source!=="all"&&l.source!==r))if(l.scope!=="all")if(l.scope==="document"){if(o??(o=this.filterChangesByScope(n,"document")),!o)continue;i({changes:o,source:r})}else if(l.scope==="session"){if(s??(s=this.filterChangesByScope(n,"session")),!s)continue;i({changes:s,source:r})}else{if(a??(a=this.filterChangesByScope(n,"presence")),!a)continue;i({changes:a,source:r})}else i({changes:n,source:r})}}}filterChangesByScope(t,n){const r={added:z2(t.added,(s,o)=>this.scopedTypes[n].has(o.typeName)),updated:z2(t.updated,(s,o)=>this.scopedTypes[n].has(o[1].typeName)),removed:z2(t.removed,(s,o)=>this.scopedTypes[n].has(o.typeName))};return Object.keys(r.added).length===0&&Object.keys(r.updated).length===0&&Object.keys(r.removed).length===0?null:r}updateHistory(t){this.historyAccumulator.add({changes:t,source:this.isMergingRemoteChanges?"remote":"user"}),this.listeners.size===0&&this.historyAccumulator.clear(),this.history.set(this.history.get()+1,t)}validate(t){this.allRecords().forEach(n=>this.schema.validateRecord(this,n,t,null))}getSnapshot(t="document"){return{store:this.serialize(t),schema:this.schema.serialize()}}migrateSnapshot(t){const n=this.schema.migrateStoreSnapshot(t);if(n.type==="error")throw new Error(`Failed to migrate snapshot: ${n.reason}`);return{store:n.value,schema:this.schema.serialize()}}loadSnapshot(t){const n=this.schema.migrateStoreSnapshot(t);if(n.type==="error")throw new Error(`Failed to migrate snapshot: ${n.reason}`);Yc(()=>{this.clear(),this.put(Object.values(n.value)),this.ensureStoreIsUsable()})}extractingChanges(t){const n=[],r=this.historyAccumulator.intercepting(s=>n.push(s.changes));try{return Yc(t),g1(n)}finally{r()}}applyDiff(t,n=!0){const r=this._runCallbacks;try{this._runCallbacks=n,Yc(()=>{const s=Dn(t.added).concat(Dn(t.updated).map(([a,i])=>i)),o=g7(t.removed);s.length&&this.put(s),o.length&&this.remove(o)})}finally{this._runCallbacks=r}}ensureStoreIsUsable(){var t;this._integrityChecker??(this._integrityChecker=this.schema.createIntegrityChecker(this)),(t=this._integrityChecker)==null||t.call(this)}markAsPossiblyCorrupted(){this._isPossiblyCorrupted=!0}isPossiblyCorrupted(){return this._isPossiblyCorrupted}};function g1(e){const t={added:{},removed:{},updated:{}};for(const n of e){for(const[r,s]of Yd(n.added))if(t.removed[r]){const o=t.removed[r];delete t.removed[r],o!==s&&(t.updated[r]=[o,s])}else t.added[r]=s;for(const[r,[s,o]]of Yd(n.updated)){if(t.added[r]){t.added[r]=o,delete t.updated[r],delete t.removed[r];continue}if(t.updated[r]){t.updated[r]=[t.updated[r][0],o],delete t.removed[r];continue}t.updated[r]=n.updated[r],delete t.removed[r]}for(const[r,s]of Yd(n.removed))t.added[r]?delete t.added[r]:t.updated[r]?(t.removed[r]=t.updated[r][0],delete t.updated[r]):t.removed[r]=s}return t}function hD(e){const t=[];let n=e[0],r;for(let s=1,o=e.length;s<o;s++)r=e[s],n.source!==r.source?(t.push(n),n=r):n={source:n.source,changes:g1([n.changes,r.changes])};return t.push(n),t}let uD=class{constructor(){m(this,"_history",[]);m(this,"_interceptors",new Set)}intercepting(t){return this._interceptors.add(t),()=>{this._interceptors.delete(t)}}add(t){this._history.push(t);for(const n of this._interceptors)n(t)}flush(){const t=hD(this._history);return this._history=[],t}clear(){this._history=[]}hasChanges(){return this._history.length>0}};function DS(e){const{currentVersion:t,firstVersion:n,migrators:r={},subTypeKey:s,subTypeMigrations:o}=e;if(typeof t=="number"&&typeof n=="number"){if(t===n)throw Error("Current version is equal to initial version.");if(t<n)throw Error("Current version is lower than initial version.")}return{firstVersion:n??0,currentVersion:t??0,migrators:r,subTypeKey:s,subTypeMigrations:o}}function _E({value:e,migrations:t,fromVersion:n,toVersion:r}){let s=n;for(;s<r;){const o=s+1,a=t.migrators[o];if(!a)return{type:"error",reason:"target-version-too-new"};e=a.up(e),s=o}for(;s>r;){const o=s-1,a=t.migrators[s];if(!a)return{type:"error",reason:"target-version-too-old"};e=a.down(e),s=o}return{type:"success",value:e}}const pD=(e,t)=>{if(e.schemaVersion>t.schemaVersion)return 1;if(e.schemaVersion<t.schemaVersion)return-1;if(e.storeVersion>t.storeVersion)return 1;if(e.storeVersion<t.storeVersion)return-1;for(const n of Object.keys(e.recordVersions)){const r=e.recordVersions[n],s=t.recordVersions[n];if(r.version>s.version)return 1;if(r.version<s.version)return-1;if("subTypeVersions"in r&&!("subTypeVersions"in s))return 1;if(!("subTypeVersions"in r)&&"subTypeVersions"in s)return-1;if(!(!("subTypeVersions"in r)||!("subTypeVersions"in s)))for(const o of Object.keys(r.subTypeVersions)){const a=r.subTypeVersions[o],i=s.subTypeVersions[o];if(a>i)return 1;if(a<i)return-1}}return 0};function fD(e,t){const n=t&&e&&typeof e=="object"&&t in e?e[t]:e;throw new Error(`Unknown switch case ${n}`)}function qS(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function EE(e,t){if(qS(e,t))return e[t]}function gD(e){if(!e.length)return null;let t="";for(const n of e)typeof n=="number"?t+=`.${n}`:n.startsWith("(")?t.endsWith(")")?t=`${t.slice(0,-1)}, ${n.slice(1)}`:t+=n:t+=`.${n}`;return t.startsWith(".")?t.slice(1):t}let Ht=class extends Error{constructor(n,r=[]){const s=gD(r),o=n.split(`
`).map((a,i)=>i===0?a:`  ${a}`).join(`
`);super(r?`At ${s}: ${o}`:o);m(this,"name","ValidationError");this.rawMessage=n,this.path=r}};function Nh(e,t){try{return t()}catch(n){throw n instanceof Ht?new Ht(n.rawMessage,[e,...n.path]):new Ht(n.toString(),[e])}}function hh(e){if(e===null)return"null";if(Array.isArray(e))return"an array";const t=typeof e;switch(t){case"bigint":case"boolean":case"function":case"number":case"string":case"symbol":return`a ${t}`;case"object":return`an ${t}`;case"undefined":return"undefined";default:fD(t)}}let vs=class IE{constructor(t){this.validationFn=t}validate(t){return this.validationFn(t)}nullable(){return kD(this)}optional(){return AE(this)}refine(t){return new IE(n=>t(this.validate(n)))}check(t,n){return typeof t=="string"?this.refine(r=>(Nh(`(check ${t})`,()=>n(r)),r)):this.refine(r=>(t(r),r))}},mD=class extends vs{constructor(t){super(n=>{const r=bD.validate(n);for(let s=0;s<r.length;s++)Nh(s,()=>t.validate(r[s]));return r}),this.itemValidator=t}nonEmpty(){return this.check(t=>{if(t.length===0)throw new Ht("Expected a non-empty array")})}lengthGreaterThan1(){return this.check(t=>{if(t.length<=1)throw new Ht("Expected an array with length greater than 1")})}},yD=class gw extends vs{constructor(t,n=!1){super(r=>{if(typeof r!="object"||r===null)throw new Ht(`Expected object, got ${hh(r)}`);for(const[s,o]of Object.entries(t))Nh(s,()=>{o.validate(EE(r,s))});if(!n){for(const s of Object.keys(r))if(!qS(t,s))throw new Ht("Unexpected property",[s])}return r}),this.config=t,this.shouldAllowUnknownProperties=n}allowUnknownProperties(){return new gw(this.config,!0)}extend(t){return new gw({...this.config,...t})}},xD=class PE extends vs{constructor(t,n,r){super(s=>{if(typeof s!="object"||s===null)throw new Ht(`Expected an object, got ${hh(s)}`,[]);const o=EE(s,t);if(typeof o!="string")throw new Ht(`Expected a string for key "${t}", got ${hh(o)}`);const a=qS(n,o)?n[o]:void 0;return a===void 0?this.unknownValueValidation(s,o):Nh(`(${t} = ${o})`,()=>a.validate(s))}),this.key=t,this.config=n,this.unknownValueValidation=r}validateUnknownVariants(t){return new PE(this.key,this.config,t)}},wD=class extends vs{constructor(t,n){super(r=>{if(typeof r!="object"||r===null)throw new Ht(`Expected object, got ${hh(r)}`);for(const[s,o]of Object.entries(r))Nh(s,()=>{t.validate(s),n.validate(o)});return r}),this.keyValidator=t,this.valueValidator=n}};function BS(e){return new vs(t=>{if(typeof t!==e)throw new Ht(`Expected ${e}, got ${hh(t)}`);return t})}const SD=new vs(e=>e),Ue=BS("string"),Oe=BS("number").check(e=>{if(Number.isNaN(e))throw new Ht("Expected a number, got NaN");if(!Number.isFinite(e))throw new Ht(`Expected a finite number, got ${e}`)}),FS=Oe.check(e=>{if(e<0)throw new Ht(`Expected a positive number, got ${e}`)}),Xr=Oe.check(e=>{if(e<=0)throw new Ht(`Expected a non-zero positive number, got ${e}`)}),zE=Oe.check(e=>{if(!Number.isInteger(e))throw new Ht(`Expected an integer, got ${e}`)});zE.check(e=>{if(e<0)throw new Ht(`Expected a positive integer, got ${e}`)});zE.check(e=>{if(e<=0)throw new Ht(`Expected a non-zero positive integer, got ${e}`)});const ut=BS("boolean");function Yr(e){return new vs(t=>{if(t!==e)throw new Ht(`Expected ${e}, got ${JSON.stringify(t)}`);return e})}const bD=new vs(e=>{if(!Array.isArray(e))throw new Ht(`Expected an array, got ${hh(e)}`);return e});function Us(e){return new mD(e)}function At(e){return new yD(e)}function mw(e){return e===null||typeof e=="number"||typeof e=="string"||typeof e=="boolean"?!0:Array.isArray(e)?e.every(mw):typeof e=="object"?Object.values(e).every(mw):!1}const ra=new vs(e=>{if(mw(e))return e;throw new Ht(`Expected json serializable value, got ${typeof e}`)});function vD(e,t){return new wD(e,t)}function KS(e,t){return new xD(e,t,(n,r)=>{throw new Ht(`Expected one of ${Object.keys(t).map(s=>JSON.stringify(s)).join(" or ")}, got ${JSON.stringify(r)}`,[e])})}function Ha(e,t){return new vs(n=>{const r=n&&typeof n=="object"&&"id"in n&&typeof n.id=="string"?`${e}(id = ${n.id})`:e;return Nh(r,()=>t.validate(n))})}function Ef(e){return new vs(t=>{if(!e.has(t)){const n=Array.from(e,r=>JSON.stringify(r)).join(" or ");throw new Ht(`Expected ${n}, got ${t}`)}return t})}function AE(e){return new vs(t=>{if(t!==void 0)return e.validate(t)})}function kD(e){return new vs(t=>t===null?null:e.validate(t))}function NE(...e){return Ef(new Set(e))}function yo(e){return Ue.refine(t=>{if(!t.startsWith(`${e}:`))throw new Error(`${e} ID must start with "${e}:"`);return t})}const m1=yo("asset");function WS(e,t){return At({id:m1,typeName:Yr("asset"),type:Yr(e),props:t,meta:ra})}function TE(e){return e&&typeof e=="object"&&"parents"in e}function LE(e){for(let t=0,n=e.parents.length;t<n;t++)if(e.parents[t].__unsafe__getWithoutCapture(),e.parents[t].lastChangedEpoch!==e.parentEpochs[t])return!0;return!1}const Dm=(e,t)=>{if(e.children.remove(t)&&e.children.isEmpty&&TE(e))for(let n=0,r=e.parents.length;n<r;n++)Dm(e.parents[n],e)},US=(e,t)=>{if(e.children.add(t)&&TE(e))for(let n=0,r=e.parents.length;n<r;n++)US(e.parents[n],e)};function ME(e,t){return e===t||Object.is(e,t)||!!(e&&t&&typeof e.equals=="function"&&e.equals(t))}function sl(e,t){const n=Symbol.for(`com.tldraw.state/${e}`),r=globalThis;return r[n]??(r[n]=t()),r[n]}const jE=sl("empty_array",()=>Object.freeze([])),v7=8;let RE=class{constructor(){m(this,"arraySize",0);m(this,"array",Array(v7));m(this,"set",null)}get isEmpty(){if(this.array)return this.arraySize===0;if(this.set)return this.set.size===0;throw new Error("no set or array")}add(t){if(this.array)return this.array.indexOf(t)!==-1?!1:this.arraySize<v7?(this.array[this.arraySize]=t,this.arraySize++,!0):(this.set=new Set(this.array),this.array=null,this.set.add(t),!0);if(this.set)return this.set.has(t)?!1:(this.set.add(t),!0);throw new Error("no set or array")}remove(t){if(this.array){const n=this.array.indexOf(t);return n===-1?!1:(this.array[n]=void 0,this.arraySize--,n!==this.arraySize&&(this.array[n]=this.array[this.arraySize],this.array[this.arraySize]=void 0),!0)}if(this.set)return this.set.has(t)?(this.set.delete(t),!0):!1;throw new Error("no set or array")}visit(t){if(this.array){for(let n=0;n<this.arraySize;n++){const r=this.array[n];typeof r<"u"&&t(r)}return}if(this.set){this.set.forEach(t);return}throw new Error("no set or array")}};const ac=Symbol.for("com.tldraw.state/RESET_VALUE");let $E=class{constructor(t){m(this,"index",0);m(this,"buffer");this.capacity=t,this.buffer=new Array(t)}pushEntry(t,n,r){if(r!==void 0){if(r===ac){this.clear();return}this.buffer[this.index]=[t,n,r],this.index=(this.index+1)%this.capacity}}clear(){this.index=0,this.buffer.fill(void 0)}getChangesSince(t){const{index:n,capacity:r,buffer:s}=this;for(let o=0;o<r;o++){const a=(n-1+r-o)%r,i=s[a];if(!i)return ac;const[l,c]=i;if(o===0&&t>=c)return[];if(l<=t&&t<c){const d=o+1,h=new Array(d);for(let u=0;u<d;u++)h[u]=s[(a+u)%r][2];return h}}return ac}},CD=class{constructor(t,n){m(this,"offset",0);m(this,"numNewParents",0);m(this,"maybeRemoved");this.below=t,this.child=n}};const Dt=sl("capture",()=>({stack:null}));function OE(e){Dt.stack=new CD(Dt.stack,e)}function DE(){var n;const e=Dt.stack;if(Dt.stack=e.below,e.numNewParents>0||e.offset!==e.child.parents.length){for(let r=e.offset;r<e.child.parents.length;r++){const s=e.child.parents[r];e.child.parents.indexOf(s)>=e.offset&&Dm(s,e.child)}if(e.child.parents.length=e.offset,e.child.parentEpochs.length=e.offset,(n=Dt.stack)!=null&&n.maybeRemoved)for(let r=0;r<Dt.stack.maybeRemoved.length;r++){const s=Dt.stack.maybeRemoved[r];e.child.parents.indexOf(s)===-1&&Dm(s,e.child)}}}function yw(e){if(Dt.stack){const t=Dt.stack.child.parents.indexOf(e);if(t<0&&(Dt.stack.numNewParents++,Dt.stack.child.isActivelyListening&&US(e,Dt.stack.child)),t<0||t>=Dt.stack.offset){if(t!==Dt.stack.offset&&t>0){const n=Dt.stack.child.parents[Dt.stack.offset];Dt.stack.maybeRemoved?Dt.stack.maybeRemoved.indexOf(n)===-1&&Dt.stack.maybeRemoved.push(n):Dt.stack.maybeRemoved=[n]}Dt.stack.child.parents[Dt.stack.offset]=e,Dt.stack.child.parentEpochs[Dt.stack.offset]=e.lastChangedEpoch,Dt.stack.offset++}}}const Kl=-1;let _D=class{constructor(t,n,r){m(this,"_isActivelyListening",!1);m(this,"lastTraversedEpoch",Kl);m(this,"lastReactedEpoch",Kl);m(this,"_scheduleCount",0);m(this,"parentEpochs",[]);m(this,"parents",[]);m(this,"_scheduleEffect");m(this,"maybeExecute",()=>{this._isActivelyListening&&this.execute()});this.name=t,this.runEffect=n,this._scheduleEffect=r==null?void 0:r.scheduleEffect}get isActivelyListening(){return this._isActivelyListening}get scheduleCount(){return this._scheduleCount}maybeScheduleEffect(){if(this._isActivelyListening&&this.lastReactedEpoch!==as()){if(this.parents.length&&!LE(this)){this.lastReactedEpoch=as();return}this.scheduleEffect()}}scheduleEffect(){this._scheduleCount++,this._scheduleEffect?this._scheduleEffect(this.maybeExecute):this.execute()}attach(){this._isActivelyListening=!0;for(let t=0,n=this.parents.length;t<n;t++)US(this.parents[t],this)}detach(){this._isActivelyListening=!1;for(let t=0,n=this.parents.length;t<n;t++)Dm(this.parents[t],this)}execute(){try{OE(this);const t=this.runEffect(this.lastReactedEpoch);return this.lastReactedEpoch=as(),t}finally{DE()}}};const ED=sl("EffectScheduler",()=>_D),Fo=sl("transactions",()=>({globalEpoch:Kl+1,globalIsReacting:!1,currentTransaction:null}));function as(){return Fo.globalEpoch}function ID(e){if(Fo.globalIsReacting)throw new Error("cannot change atoms during reaction cycle");try{Fo.globalIsReacting=!0;const t=new Set,n=r=>{r.lastTraversedEpoch!==Fo.globalEpoch&&(r.lastTraversedEpoch=Fo.globalEpoch,r instanceof ED?t.add(r):r.children.visit(n))};for(const r of e)r.children.visit(n);for(const r of t)r.maybeScheduleEffect()}finally{Fo.globalIsReacting=!1}}function PD(e,t){Fo.currentTransaction?Fo.currentTransaction.initialAtomValues.has(e)||Fo.currentTransaction.initialAtomValues.set(e,t):ID([e])}function zD(){Fo.globalEpoch++}let AD=class{constructor(t,n,r){m(this,"isEqual");m(this,"computeDiff");m(this,"lastChangedEpoch",as());m(this,"children",new RE);m(this,"historyBuffer");this.name=t,this.current=n,this.isEqual=(r==null?void 0:r.isEqual)??null,r&&(r.historyLength&&(this.historyBuffer=new $E(r.historyLength)),this.computeDiff=r.computeDiff)}__unsafe__getWithoutCapture(){return this.current}get(){return yw(this),this.current}set(t,n){var s,o;if(((s=this.isEqual)==null?void 0:s.call(this,this.current,t))??ME(this.current,t))return this.current;zD(),this.historyBuffer&&this.historyBuffer.pushEntry(this.lastChangedEpoch,as(),n??((o=this.computeDiff)==null?void 0:o.call(this,this.current,t,this.lastChangedEpoch,as()))??ac),this.lastChangedEpoch=as();const r=this.current;return this.current=t,PD(this,r),t}update(t){return this.set(t(this.current))}getDiffSince(t){var n;return yw(this),t>=this.lastChangedEpoch?jE:((n=this.historyBuffer)==null?void 0:n.getChangesSince(t))??ac}};sl("Atom",()=>AD);const k7=Symbol.for("com.tldraw.state/UNINITIALIZED"),C7=sl("WithDiff",()=>class{constructor(t,n){this.value=t,this.diff=n}});let ND=class{constructor(t,n,r){m(this,"lastChangedEpoch",Kl);m(this,"lastTraversedEpoch",Kl);m(this,"lastCheckedEpoch",Kl);m(this,"parents",[]);m(this,"parentEpochs",[]);m(this,"children",new RE);m(this,"historyBuffer");m(this,"state",k7);m(this,"computeDiff");m(this,"isEqual");this.name=t,this.derive=n,r!=null&&r.historyLength&&(this.historyBuffer=new $E(r.historyLength)),this.computeDiff=r==null?void 0:r.computeDiff,this.isEqual=(r==null?void 0:r.isEqual)??ME}get isActivelyListening(){return!this.children.isEmpty}__unsafe__getWithoutCapture(){var n;const t=this.lastChangedEpoch===Kl;if(!t&&(this.lastCheckedEpoch===as()||!LE(this)))return this.lastCheckedEpoch=as(),this.state;try{OE(this);const r=this.derive(this.state,this.lastCheckedEpoch),s=r instanceof C7?r.value:r;if(this.state===k7||!this.isEqual(s,this.state)){if(this.historyBuffer&&!t){const o=r instanceof C7?r.diff:void 0;this.historyBuffer.pushEntry(this.lastChangedEpoch,as(),o??((n=this.computeDiff)==null?void 0:n.call(this,this.state,s,this.lastCheckedEpoch,as()))??ac)}this.lastChangedEpoch=as(),this.state=s}return this.lastCheckedEpoch=as(),this.state}finally{DE()}}get(){const t=this.__unsafe__getWithoutCapture();return yw(this),t}getDiffSince(t){var n;return this.get(),t>=this.lastChangedEpoch?jE:((n=this.historyBuffer)==null?void 0:n.getChangesSince(t))??ac}};sl("Computed",()=>ND);const qE=1,TD=sl("apiVersion",()=>qE);if(TD!==qE)throw new Error("You have multiple incompatible versions of @tldraw/state in your app. Please deduplicate the package.");function LD(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function _7(e,t){if(LD(e,t))return e[t]}function T2(e){return Object.values(e)}const MD=typeof window<"u"&&window.structuredClone?window.structuredClone:e=>e&&JSON.parse(JSON.stringify(e));let jD=class BE{constructor(t,n){m(this,"createDefaultProperties");m(this,"migrations");m(this,"validator");m(this,"scope");m(this,"isInstance",t=>(t==null?void 0:t.typeName)===this.typeName);this.typeName=t,this.createDefaultProperties=n.createDefaultProperties,this.migrations=n.migrations,this.validator=n.validator??{validate:r=>r},this.scope=n.scope??"document"}create(t){const n={...this.createDefaultProperties(),id:this.createId()};for(const[r,s]of Object.entries(t))s!==void 0&&(n[r]=s);return n.typeName=this.typeName,n}clone(t){return{...MD(t),id:this.createId()}}createId(t){return this.typeName+":"+(t??nl())}createCustomId(t){return this.typeName+":"+t}parseId(t){if(!this.isId(t))throw new Error(`ID "${t}" is not a valid ID for type "${this.typeName}"`);return t.slice(this.typeName.length+1)}isId(t){if(!t)return!1;for(let n=0;n<this.typeName.length;n++)if(t[n]!==this.typeName[n])return!1;return t[this.typeName.length]===":"}withDefaultProperties(t){return new BE(this.typeName,{createDefaultProperties:t,migrations:this.migrations,validator:this.validator,scope:this.scope})}validate(t){return this.validator.validate(t)}};function Ga(e,t){return new jD(e,{createDefaultProperties:()=>({}),migrations:t.migrations??{currentVersion:0,firstVersion:0,migrators:{}},validator:t.validator,scope:t.scope})}function FE(e){return e&&typeof e=="object"&&"parents"in e}function KE(e){for(let t=0,n=e.parents.length;t<n;t++)if(e.parents[t].__unsafe__getWithoutCapture(),e.parents[t].lastChangedEpoch!==e.parentEpochs[t])return!0;return!1}const qm=(e,t)=>{if(e.children.remove(t)&&e.children.isEmpty&&FE(e))for(let n=0,r=e.parents.length;n<r;n++)qm(e.parents[n],e)},VS=(e,t)=>{if(e.children.add(t)&&FE(e))for(let n=0,r=e.parents.length;n<r;n++)VS(e.parents[n],e)};function WE(e,t){return e===t||Object.is(e,t)||!!(e&&t&&typeof e.equals=="function"&&e.equals(t))}function ol(e,t){const n=Symbol.for(`com.tldraw.state/${e}`),r=globalThis;return r[n]??(r[n]=t()),r[n]}const UE=ol("empty_array",()=>Object.freeze([])),E7=8;let VE=class{constructor(){m(this,"arraySize",0);m(this,"array",Array(E7));m(this,"set",null)}get isEmpty(){if(this.array)return this.arraySize===0;if(this.set)return this.set.size===0;throw new Error("no set or array")}add(t){if(this.array)return this.array.indexOf(t)!==-1?!1:this.arraySize<E7?(this.array[this.arraySize]=t,this.arraySize++,!0):(this.set=new Set(this.array),this.array=null,this.set.add(t),!0);if(this.set)return this.set.has(t)?!1:(this.set.add(t),!0);throw new Error("no set or array")}remove(t){if(this.array){const n=this.array.indexOf(t);return n===-1?!1:(this.array[n]=void 0,this.arraySize--,n!==this.arraySize&&(this.array[n]=this.array[this.arraySize],this.array[this.arraySize]=void 0),!0)}if(this.set)return this.set.has(t)?(this.set.delete(t),!0):!1;throw new Error("no set or array")}visit(t){if(this.array){for(let n=0;n<this.arraySize;n++){const r=this.array[n];typeof r<"u"&&t(r)}return}if(this.set){this.set.forEach(t);return}throw new Error("no set or array")}};const ic=Symbol.for("com.tldraw.state/RESET_VALUE");let XE=class{constructor(t){m(this,"index",0);m(this,"buffer");this.capacity=t,this.buffer=new Array(t)}pushEntry(t,n,r){if(r!==void 0){if(r===ic){this.clear();return}this.buffer[this.index]=[t,n,r],this.index=(this.index+1)%this.capacity}}clear(){this.index=0,this.buffer.fill(void 0)}getChangesSince(t){const{index:n,capacity:r,buffer:s}=this;for(let o=0;o<r;o++){const a=(n-1+r-o)%r,i=s[a];if(!i)return ic;const[l,c]=i;if(o===0&&t>=c)return[];if(l<=t&&t<c){const d=o+1,h=new Array(d);for(let u=0;u<d;u++)h[u]=s[(a+u)%r][2];return h}}return ic}},RD=class{constructor(t,n){m(this,"offset",0);m(this,"numNewParents",0);m(this,"maybeRemoved");this.below=t,this.child=n}};const qt=ol("capture",()=>({stack:null}));function YE(e){qt.stack=new RD(qt.stack,e)}function HE(){var n;const e=qt.stack;if(qt.stack=e.below,e.numNewParents>0||e.offset!==e.child.parents.length){for(let r=e.offset;r<e.child.parents.length;r++){const s=e.child.parents[r];e.child.parents.indexOf(s)>=e.offset&&qm(s,e.child)}if(e.child.parents.length=e.offset,e.child.parentEpochs.length=e.offset,(n=qt.stack)!=null&&n.maybeRemoved)for(let r=0;r<qt.stack.maybeRemoved.length;r++){const s=qt.stack.maybeRemoved[r];e.child.parents.indexOf(s)===-1&&qm(s,e.child)}}}function xw(e){if(qt.stack){const t=qt.stack.child.parents.indexOf(e);if(t<0&&(qt.stack.numNewParents++,qt.stack.child.isActivelyListening&&VS(e,qt.stack.child)),t<0||t>=qt.stack.offset){if(t!==qt.stack.offset&&t>0){const n=qt.stack.child.parents[qt.stack.offset];qt.stack.maybeRemoved?qt.stack.maybeRemoved.indexOf(n)===-1&&qt.stack.maybeRemoved.push(n):qt.stack.maybeRemoved=[n]}qt.stack.child.parents[qt.stack.offset]=e,qt.stack.child.parentEpochs[qt.stack.offset]=e.lastChangedEpoch,qt.stack.offset++}}}const Wl=-1;let $D=class{constructor(t,n,r){m(this,"_isActivelyListening",!1);m(this,"lastTraversedEpoch",Wl);m(this,"lastReactedEpoch",Wl);m(this,"_scheduleCount",0);m(this,"parentEpochs",[]);m(this,"parents",[]);m(this,"_scheduleEffect");m(this,"maybeExecute",()=>{this._isActivelyListening&&this.execute()});this.name=t,this.runEffect=n,this._scheduleEffect=r==null?void 0:r.scheduleEffect}get isActivelyListening(){return this._isActivelyListening}get scheduleCount(){return this._scheduleCount}maybeScheduleEffect(){if(this._isActivelyListening&&this.lastReactedEpoch!==is()){if(this.parents.length&&!KE(this)){this.lastReactedEpoch=is();return}this.scheduleEffect()}}scheduleEffect(){this._scheduleCount++,this._scheduleEffect?this._scheduleEffect(this.maybeExecute):this.execute()}attach(){this._isActivelyListening=!0;for(let t=0,n=this.parents.length;t<n;t++)VS(this.parents[t],this)}detach(){this._isActivelyListening=!1;for(let t=0,n=this.parents.length;t<n;t++)qm(this.parents[t],this)}execute(){try{YE(this);const t=this.runEffect(this.lastReactedEpoch);return this.lastReactedEpoch=is(),t}finally{HE()}}};const OD=ol("EffectScheduler",()=>$D),Ko=ol("transactions",()=>({globalEpoch:Wl+1,globalIsReacting:!1,currentTransaction:null}));function is(){return Ko.globalEpoch}function DD(e){if(Ko.globalIsReacting)throw new Error("cannot change atoms during reaction cycle");try{Ko.globalIsReacting=!0;const t=new Set,n=r=>{r.lastTraversedEpoch!==Ko.globalEpoch&&(r.lastTraversedEpoch=Ko.globalEpoch,r instanceof OD?t.add(r):r.children.visit(n))};for(const r of e)r.children.visit(n);for(const r of t)r.maybeScheduleEffect()}finally{Ko.globalIsReacting=!1}}function qD(e,t){Ko.currentTransaction?Ko.currentTransaction.initialAtomValues.has(e)||Ko.currentTransaction.initialAtomValues.set(e,t):DD([e])}function BD(){Ko.globalEpoch++}let FD=class{constructor(t,n,r){m(this,"isEqual");m(this,"computeDiff");m(this,"lastChangedEpoch",is());m(this,"children",new VE);m(this,"historyBuffer");this.name=t,this.current=n,this.isEqual=(r==null?void 0:r.isEqual)??null,r&&(r.historyLength&&(this.historyBuffer=new XE(r.historyLength)),this.computeDiff=r.computeDiff)}__unsafe__getWithoutCapture(){return this.current}get(){return xw(this),this.current}set(t,n){var s,o;if(((s=this.isEqual)==null?void 0:s.call(this,this.current,t))??WE(this.current,t))return this.current;BD(),this.historyBuffer&&this.historyBuffer.pushEntry(this.lastChangedEpoch,is(),n??((o=this.computeDiff)==null?void 0:o.call(this,this.current,t,this.lastChangedEpoch,is()))??ic),this.lastChangedEpoch=is();const r=this.current;return this.current=t,qD(this,r),t}update(t){return this.set(t(this.current))}getDiffSince(t){var n;return xw(this),t>=this.lastChangedEpoch?UE:((n=this.historyBuffer)==null?void 0:n.getChangesSince(t))??ic}};ol("Atom",()=>FD);const I7=Symbol.for("com.tldraw.state/UNINITIALIZED"),P7=ol("WithDiff",()=>class{constructor(t,n){this.value=t,this.diff=n}});let KD=class{constructor(t,n,r){m(this,"lastChangedEpoch",Wl);m(this,"lastTraversedEpoch",Wl);m(this,"lastCheckedEpoch",Wl);m(this,"parents",[]);m(this,"parentEpochs",[]);m(this,"children",new VE);m(this,"historyBuffer");m(this,"state",I7);m(this,"computeDiff");m(this,"isEqual");this.name=t,this.derive=n,r!=null&&r.historyLength&&(this.historyBuffer=new XE(r.historyLength)),this.computeDiff=r==null?void 0:r.computeDiff,this.isEqual=(r==null?void 0:r.isEqual)??WE}get isActivelyListening(){return!this.children.isEmpty}__unsafe__getWithoutCapture(){var n;const t=this.lastChangedEpoch===Wl;if(!t&&(this.lastCheckedEpoch===is()||!KE(this)))return this.lastCheckedEpoch=is(),this.state;try{YE(this);const r=this.derive(this.state,this.lastCheckedEpoch),s=r instanceof P7?r.value:r;if(this.state===I7||!this.isEqual(s,this.state)){if(this.historyBuffer&&!t){const o=r instanceof P7?r.diff:void 0;this.historyBuffer.pushEntry(this.lastChangedEpoch,is(),o??((n=this.computeDiff)==null?void 0:n.call(this,this.state,s,this.lastCheckedEpoch,is()))??ic)}this.lastChangedEpoch=is(),this.state=s}return this.lastCheckedEpoch=is(),this.state}finally{HE()}}get(){const t=this.__unsafe__getWithoutCapture();return xw(this),t}getDiffSince(t){var n;return this.get(),t>=this.lastChangedEpoch?UE:((n=this.historyBuffer)==null?void 0:n.getChangesSince(t))??ic}};ol("Computed",()=>KD);const GE=1,WD=ol("apiVersion",()=>GE);if(WD!==GE)throw new Error("You have multiple incompatible versions of @tldraw/state in your app. Please deduplicate the package.");function UD(e){return typeof e=="object"&&e!==null&&"id"in e&&"typeName"in e}function vt(e){const{currentVersion:t,firstVersion:n,migrators:r={},subTypeKey:s,subTypeMigrations:o}=e;if(typeof t=="number"&&typeof n=="number"){if(t===n)throw Error("Current version is equal to initial version.");if(t<n)throw Error("Current version is lower than initial version.")}return{firstVersion:n??0,currentVersion:t??0,migrators:r,subTypeKey:s,subTypeMigrations:o}}var Vu=(e=>(e.IncompatibleSubtype="incompatible-subtype",e.UnknownType="unknown-type",e.TargetVersionTooNew="target-version-too-new",e.TargetVersionTooOld="target-version-too-old",e.MigrationError="migration-error",e.UnrecognizedSubtype="unrecognized-subtype",e))(Vu||{});function wg({record:e,migrations:t,fromVersion:n,toVersion:r}){let s=n;if(!UD(e))throw new Error("[migrateRecord] object is not a record");const{typeName:o,id:a,...i}=e;let l=i;for(;s<r;){const c=s+1,d=t.migrators[c];if(!d)return{type:"error",reason:"target-version-too-new"};l=d.up(l),s=c}for(;s>r;){const c=s-1,d=t.migrators[s];if(!d)return{type:"error",reason:"target-version-too-old"};l=d.down(l),s=c}return{type:"success",value:{...l,id:a,typeName:o}}}function VD({value:e,migrations:t,fromVersion:n,toVersion:r}){let s=n;for(;s<r;){const o=s+1,a=t.migrators[o];if(!a)return{type:"error",reason:"target-version-too-new"};e=a.up(e),s=o}for(;s>r;){const o=s-1,a=t.migrators[s];if(!a)return{type:"error",reason:"target-version-too-old"};e=a.down(e),s=o}return{type:"success",value:e}}let XD=class ZE{constructor(t,n){this.types=t,this.options=n}static create(t,n){return new ZE(t,n??{})}get currentStoreVersion(){var t;return((t=this.options.snapshotMigrations)==null?void 0:t.currentVersion)??0}validateRecord(t,n,r,s){try{const o=_7(this.types,n.typeName);if(!o)throw new Error(`Missing definition for record type ${n.typeName}`);return o.validate(n)}catch(o){if(this.options.onValidationFailure)return this.options.onValidationFailure({store:t,record:n,phase:r,recordBefore:s,error:o});throw o}}migratePersistedRecord(t,n,r="up"){var h;const s=_7(this.types,t.typeName),o=n.recordVersions[t.typeName];if(!o||!s)return{type:"error",reason:Vu.UnknownType};const a=s.migrations.currentVersion,i=o.version;if(a!==i){const u=wg(r==="up"?{record:t,migrations:s.migrations,fromVersion:i,toVersion:a}:{record:t,migrations:s.migrations,fromVersion:a,toVersion:i});if(u.type==="error")return u;t=u.value}if(!s.migrations.subTypeKey)return{type:"success",value:t};const l=(h=s.migrations.subTypeMigrations)==null?void 0:h[t[s.migrations.subTypeKey]],c="subTypeVersions"in o?o.subTypeVersions[t[s.migrations.subTypeKey]]:void 0;if(l===void 0)return{type:"error",reason:Vu.UnrecognizedSubtype};if(c===void 0)return{type:"error",reason:Vu.IncompatibleSubtype};const d=wg(r==="up"?{record:t,migrations:l,fromVersion:c,toVersion:l.currentVersion}:{record:t,migrations:l,fromVersion:l.currentVersion,toVersion:c});return d.type==="error"?d:{type:"success",value:d.value}}migrateStoreSnapshot(t){let{store:n}=t;const r=this.options.snapshotMigrations;if(!r)return{type:"success",value:n};const s=r.currentVersion,o=t.schema.storeVersion??0;if(s<o)return{type:"error",reason:Vu.TargetVersionTooOld};if(s>o){const i=VD({value:n,migrations:r,fromVersion:o,toVersion:s});if(i.type==="error")return i;n=i.value}const a=[];for(const i of T2(n)){const l=this.migratePersistedRecord(i,t.schema);if(l.type==="error")return l;l.value&&l.value!==i&&a.push(l.value)}if(a.length){n={...n};for(const i of a)n[i.id]=i}return{type:"success",value:n}}createIntegrityChecker(t){var n,r;return((r=(n=this.options).createIntegrityChecker)==null?void 0:r.call(n,t))??void 0}serialize(){var t;return{schemaVersion:1,storeVersion:((t=this.options.snapshotMigrations)==null?void 0:t.currentVersion)??0,recordVersions:Object.fromEntries(T2(this.types).map(n=>[n.typeName,n.migrations.subTypeKey&&n.migrations.subTypeMigrations?{version:n.migrations.currentVersion,subTypeKey:n.migrations.subTypeKey,subTypeVersions:n.migrations.subTypeMigrations?Object.fromEntries(Object.entries(n.migrations.subTypeMigrations).map(([r,s])=>[r,s.currentVersion])):void 0}:{version:n.migrations.currentVersion}]))}}serializeEarliestVersion(){var t;return{schemaVersion:1,storeVersion:((t=this.options.snapshotMigrations)==null?void 0:t.firstVersion)??0,recordVersions:Object.fromEntries(T2(this.types).map(n=>[n.typeName,n.migrations.subTypeKey&&n.migrations.subTypeMigrations?{version:n.migrations.firstVersion,subTypeKey:n.migrations.subTypeKey,subTypeVersions:n.migrations.subTypeMigrations?Object.fromEntries(Object.entries(n.migrations.subTypeMigrations).map(([r,s])=>[r,s.firstVersion])):void 0}:{version:n.migrations.firstVersion}]))}}};const YD=Ha("camera",At({typeName:Yr("camera"),id:yo("camera"),x:Oe,y:Oe,z:Oe,meta:ra})),z7={AddMeta:1},HD=vt({currentVersion:z7.AddMeta,migrators:{[z7.AddMeta]:{up:e=>({...e,meta:{}}),down:({meta:e,...t})=>({...t})}}}),or=Ga("camera",{validator:YD,migrations:HD,scope:"session"}).withDefaultProperties(()=>({x:0,y:0,z:1,meta:{}})),Ip=At({x:Oe,y:Oe,z:Oe.optional()}),rp=At({x:Oe,y:Oe,w:Oe,h:Oe}),GD=new Set(["none","default","pointer","cross","grab","rotate","grabbing","resize-edge","resize-corner","text","move","ew-resize","ns-resize","nesw-resize","nwse-resize","nesw-rotate","nwse-rotate","swne-rotate","senw-rotate","zoom-in","zoom-out"]),QE=Ef(GD),ZD=At({type:QE,rotation:Oe}),JE=Oe.check(e=>{if(e<0||e>1)throw new Ht("Opacity must be between 0 and 1")}),QD=new Set(["accent","white","black","selection-stroke","selection-fill","laser","muted-1"]),JD=Ef(QD),eq=new Set(["starting","paused","active","stopping"]),eI=At({id:Ue,points:Us(Ip),size:FS,color:JD,opacity:Oe,state:Ef(eq),delay:Oe,shrink:Oe,taper:ut}),Pp=yo("page"),tq=Ha("page",At({typeName:Yr("page"),id:Pp,name:Ue,index:Ue,meta:ra})),A7={AddMeta:1},nq=vt({currentVersion:A7.AddMeta,migrators:{[A7.AddMeta]:{up:e=>({...e,meta:{}}),down:({meta:e,...t})=>({...t})}}}),Ba=Ga("page",{validator:tq,migrations:nq,scope:"document"}).withDefaultProperties(()=>({meta:{}}));function Rr(e){return Ba.isId(e)}yo("instance");function rq(e){const t={};for(const[r,s]of e)t[r]=AE(s);const n=Ha("instance",At({typeName:Yr("instance"),id:yo("instance"),currentPageId:Pp,followingUserId:Ue.nullable(),brush:rp.nullable(),opacityForNextShape:JE,stylesForNextShape:At(t),cursor:ZD,scribbles:Us(eI),isFocusMode:ut,isDebugMode:ut,isToolLocked:ut,exportBackground:ut,screenBounds:rp,zoomBrush:rp.nullable(),isPenMode:ut,isGridMode:ut,chatMessage:Ue,isChatting:ut,highlightedUserIds:Us(Ue),canMoveCamera:ut,isFocused:ut,devicePixelRatio:Oe,isCoarsePointer:ut,isHoveringCanvas:ut.nullable(),openMenus:Us(Ue),isChangingStyle:ut,isReadonly:ut,meta:ra}));return Ga("instance",{migrations:sq,validator:n,scope:"session"}).withDefaultProperties(()=>({followingUserId:null,opacityForNextShape:1,stylesForNextShape:{},brush:null,scribbles:[],cursor:{type:"default",rotation:0},isFocusMode:!1,exportBackground:!1,isDebugMode:!1,isToolLocked:!1,screenBounds:{x:0,y:0,w:1080,h:720},zoomBrush:null,isGridMode:!1,isPenMode:!1,chatMessage:"",isChatting:!1,highlightedUserIds:[],canMoveCamera:!0,isFocused:!1,devicePixelRatio:typeof window>"u"?1:window.devicePixelRatio,isCoarsePointer:!1,isHoveringCanvas:null,openMenus:[],isChangingStyle:!1,isReadonly:!1,meta:{}}))}const Qt={AddTransparentExportBgs:1,RemoveDialog:2,AddToolLockMode:3,RemoveExtraPropsForNextShape:4,AddLabelColor:5,AddFollowingUserId:6,RemoveAlignJustify:7,AddZoom:8,AddVerticalAlign:9,AddScribbleDelay:10,RemoveUserId:11,AddIsPenModeAndIsGridMode:12,HoistOpacity:13,AddChat:14,AddHighlightedUserIds:15,ReplacePropsForNextShapeWithStylesForNextShape:16,AddMeta:17,RemoveCursorColor:18,AddLonelyProperties:19,ReadOnlyReadonly:20,AddHoveringCanvas:21,AddScribbles:22},sq=vt({currentVersion:Qt.AddScribbles,migrators:{[Qt.AddTransparentExportBgs]:{up:e=>({...e,exportBackground:!0}),down:({exportBackground:e,...t})=>t},[Qt.RemoveDialog]:{up:({dialog:e,...t})=>t,down:e=>({...e,dialog:null})},[Qt.AddToolLockMode]:{up:e=>({...e,isToolLocked:!1}),down:({isToolLocked:e,...t})=>t},[Qt.RemoveExtraPropsForNextShape]:{up:({propsForNextShape:e,...t})=>({...t,propsForNextShape:Object.fromEntries(Object.entries(e).filter(([n])=>["color","labelColor","dash","fill","size","font","align","verticalAlign","icon","geo","arrowheadStart","arrowheadEnd","spline"].includes(n)))}),down:e=>e},[Qt.AddLabelColor]:{up:({propsForNextShape:e,...t})=>({...t,propsForNextShape:{...e,labelColor:"black"}}),down:e=>{const{labelColor:t,...n}=e.propsForNextShape;return{...e,propsForNextShape:{...n}}}},[Qt.AddFollowingUserId]:{up:e=>({...e,followingUserId:null}),down:({followingUserId:e,...t})=>t},[Qt.RemoveAlignJustify]:{up:e=>{let t=e.propsForNextShape.align;return t==="justify"&&(t="start"),{...e,propsForNextShape:{...e.propsForNextShape,align:t}}},down:e=>({...e})},[Qt.AddZoom]:{up:e=>({...e,zoomBrush:null}),down:({zoomBrush:e,...t})=>t},[Qt.AddVerticalAlign]:{up:e=>({...e,propsForNextShape:{...e.propsForNextShape,verticalAlign:"middle"}}),down:e=>{const{verticalAlign:t,...n}=e.propsForNextShape;return{...e,propsForNextShape:n}}},[Qt.AddScribbleDelay]:{up:e=>e.scribble!==null?{...e,scribble:{...e.scribble,delay:0}}:{...e},down:e=>{if(e.scribble!==null){const{delay:t,...n}=e.scribble;return{...e,scribble:n}}return{...e}}},[Qt.RemoveUserId]:{up:({userId:e,...t})=>t,down:e=>({...e,userId:"user:none"})},[Qt.AddIsPenModeAndIsGridMode]:{up:e=>({...e,isPenMode:!1,isGridMode:!1}),down:({isPenMode:e,isGridMode:t,...n})=>n},[Qt.HoistOpacity]:{up:({propsForNextShape:{opacity:e,...t},...n})=>({...n,opacityForNextShape:Number(e??"1"),propsForNextShape:t}),down:({opacityForNextShape:e,...t})=>({...t,propsForNextShape:{...t.propsForNextShape,opacity:e<.175?"0.1":e<.375?"0.25":e<.625?"0.5":e<.875?"0.75":"1"}})},[Qt.AddChat]:{up:e=>({...e,chatMessage:"",isChatting:!1}),down:({chatMessage:e,isChatting:t,...n})=>n},[Qt.AddHighlightedUserIds]:{up:e=>({...e,highlightedUserIds:[]}),down:({highlightedUserIds:e,...t})=>t},[Qt.ReplacePropsForNextShapeWithStylesForNextShape]:{up:({propsForNextShape:e,...t})=>({...t,stylesForNextShape:{}}),down:({stylesForNextShape:e,...t})=>({...t,propsForNextShape:{color:"black",labelColor:"black",dash:"draw",fill:"none",size:"m",icon:"file",font:"draw",align:"middle",verticalAlign:"middle",geo:"rectangle",arrowheadStart:"none",arrowheadEnd:"arrow",spline:"line"}})},[Qt.AddMeta]:{up:e=>({...e,meta:{}}),down:({meta:e,...t})=>({...t})},[Qt.RemoveCursorColor]:{up:e=>{const{color:t,...n}=e.cursor;return{...e,cursor:n}},down:e=>({...e,cursor:{...e.cursor,color:"black"}})},[Qt.AddLonelyProperties]:{up:e=>({...e,canMoveCamera:!0,isFocused:!1,devicePixelRatio:1,isCoarsePointer:!1,openMenus:[],isChangingStyle:!1,isReadOnly:!1}),down:({canMoveCamera:e,isFocused:t,devicePixelRatio:n,isCoarsePointer:r,openMenus:s,isChangingStyle:o,isReadOnly:a,...i})=>({...i})},[Qt.ReadOnlyReadonly]:{up:({isReadOnly:e,...t})=>({...t,isReadonly:e}),down:({isReadonly:e,...t})=>({...t,isReadOnly:e})},[Qt.AddHoveringCanvas]:{up:e=>({...e,isHoveringCanvas:null}),down:({isHoveringCanvas:e,...t})=>({...t})},[Qt.AddScribbles]:{up:({scribble:e,...t})=>({...t,scribbles:[]}),down:({scribbles:e,...t})=>({...t,scribble:null})}}}),pr="instance:instance",oq=Ue.refine(e=>{if(!e.startsWith("page:")&&!e.startsWith("shape:"))throw new Error('Parent ID must start with "page:" or "shape:"');return e}),so=yo("shape");function aq(e,t,n){return At({id:so,typeName:Yr("shape"),x:Oe,y:Oe,rotation:Oe,index:Ue,parentId:oq,type:Yr(e),isLocked:ut,opacity:JE,props:t?At(t):ra,meta:n?At(n):ra})}const iq=Ha("instance_page_state",At({typeName:Yr("instance_page_state"),id:yo("instance_page_state"),pageId:Pp,selectedShapeIds:Us(so),hintingShapeIds:Us(so),erasingShapeIds:Us(so),hoveredShapeId:so.nullable(),editingShapeId:so.nullable(),croppingShapeId:so.nullable(),focusedGroupId:so.nullable(),meta:ra})),Hc={AddCroppingId:1,RemoveInstanceIdAndCameraId:2,AddMeta:3,RenameProperties:4,RenamePropertiesAgain:5},lq=vt({currentVersion:Hc.RenamePropertiesAgain,migrators:{[Hc.AddCroppingId]:{up(e){return{...e,croppingShapeId:null}},down({croppingShapeId:e,...t}){return t}},[Hc.RemoveInstanceIdAndCameraId]:{up({instanceId:e,cameraId:t,...n}){return n},down(e){return{...e,instanceId:pr,cameraId:or.createId("void")}}},[Hc.AddMeta]:{up:e=>({...e,meta:{}}),down:({meta:e,...t})=>({...t})},[Hc.RenameProperties]:{up:e=>{const{selectedShapeIds:t,hintingShapeIds:n,erasingShapeIds:r,hoveredShapeId:s,editingShapeId:o,croppingShapeId:a,focusedGroupId:i,...l}=e;return{selectedShapeIds:t,hintingShapeIds:n,erasingShapeIds:r,hoveredShapeId:s,editingShapeId:o,croppingShapeId:a,focusedGroupId:i,...l}},down:e=>{const{selectedShapeIds:t,hintingShapeIds:n,erasingShapeIds:r,hoveredShapeId:s,editingShapeId:o,croppingShapeId:a,focusedGroupId:i,...l}=e;return{selectedShapeIds:t,hintingShapeIds:n,erasingShapeIds:r,hoveredShapeId:s,editingShapeId:o,croppingShapeId:a,focusedGroupId:i,...l}}},[Hc.RenamePropertiesAgain]:{up:e=>{const{selectedIds:t,hintingIds:n,erasingIds:r,hoveredId:s,editingId:o,croppingShapeId:a,croppingId:i,focusLayerId:l,...c}=e;return{...c,selectedShapeIds:t,hintingShapeIds:n,erasingShapeIds:r,hoveredShapeId:s,editingShapeId:o,croppingShapeId:a??i??null,focusedGroupId:l}},down:e=>{const{selectedShapeIds:t,hintingShapeIds:n,erasingShapeIds:r,hoveredShapeId:s,editingShapeId:o,croppingShapeId:a,focusedGroupId:i,...l}=e;return{...l,selectedIds:t,hintingIds:n,erasingIds:r,hoveredId:s,editingId:o,croppingId:a,focusLayerId:i}}}}}),ar=Ga("instance_page_state",{migrations:lq,validator:iq,scope:"session"}).withDefaultProperties(()=>({editingShapeId:null,croppingShapeId:null,selectedShapeIds:[],hoveredShapeId:null,erasingShapeIds:[],hintingShapeIds:[],focusedGroupId:null,meta:{}})),cq=Ha("pointer",At({typeName:Yr("pointer"),id:yo("pointer"),x:Oe,y:Oe,lastActivityTimestamp:Oe,meta:ra})),N7={AddMeta:1},dq=vt({currentVersion:N7.AddMeta,migrators:{[N7.AddMeta]:{up:e=>({...e,meta:{}}),down:({meta:e,...t})=>({...t})}}}),XS=Ga("pointer",{validator:cq,migrations:dq,scope:"session"}).withDefaultProperties(()=>({x:0,y:0,lastActivityTimestamp:0,meta:{}})),Bm=XS.createId("pointer"),hq=Ha("instance_presence",At({typeName:Yr("instance_presence"),id:yo("instance_presence"),userId:Ue,userName:Ue,lastActivityTimestamp:Oe,followingUserId:Ue.nullable(),cursor:At({x:Oe,y:Oe,type:QE,rotation:Oe}),color:Ue,camera:At({x:Oe,y:Oe,z:Oe}),screenBounds:rp,selectedShapeIds:Us(yo("shape")),currentPageId:yo("page"),brush:rp.nullable(),scribbles:Us(eI),chatMessage:Ue,meta:ra})),Gc={AddScribbleDelay:1,RemoveInstanceId:2,AddChatMessage:3,AddMeta:4,RenameSelectedShapeIds:5},uq=vt({currentVersion:Gc.RenameSelectedShapeIds,migrators:{[Gc.AddScribbleDelay]:{up:e=>e.scribble!==null?{...e,scribble:{...e.scribble,delay:0}}:{...e},down:e=>{if(e.scribble!==null){const{delay:t,...n}=e.scribble;return{...e,scribble:n}}return{...e}}},[Gc.RemoveInstanceId]:{up:({instanceId:e,...t})=>t,down:e=>({...e,instanceId:pr})},[Gc.AddChatMessage]:{up:e=>({...e,chatMessage:""}),down:({chatMessage:e,...t})=>t},[Gc.AddMeta]:{up:e=>({...e,meta:{}}),down:({meta:e,...t})=>({...t})},[Gc.RenameSelectedShapeIds]:{up:e=>{const{selectedShapeIds:t,...n}=e;return{selectedShapeIds:t,...n}},down:e=>{const{selectedShapeIds:t,...n}=e;return{selectedShapeIds:t,...n}}}}}),ww=Ga("instance_presence",{migrations:uq,validator:hq,scope:"presence"}).withDefaultProperties(()=>({lastActivityTimestamp:0,followingUserId:null,color:"#FF0000",camera:{x:0,y:0,z:1},cursor:{x:0,y:0,type:"default",rotation:0},screenBounds:{x:0,y:0,w:1,h:1},selectedShapeIds:[],brush:null,scribbles:[],chatMessage:"",meta:{}})),T7=new WeakMap;function pq(e,t){if(typeof e!="object"||e===null)return;let n=T7.get(e);n||(n={tags:{},extras:{}},T7.set(e,n)),t.tags&&(n.tags={...n.tags,...t.tags}),t.extras&&(n.extras={...n.extras,...t.extras})}function Fm(e){if(!e)return e;if(Array.isArray(e)){const t=[],n=e.length;for(let r=0;r<n;r++)t.push(Fm(e[r]));return t}else if(typeof e=="object"){const t=Object.keys(e),n=t.length,r={};for(let s=0;s<n;s++){const o=t[s];r[o]=Fm(e[o])}return r}return e}function fq(e){return Object.values(e)}function gq(e){return Object.entries(e)}function L7(e,t){const n={};for(const[r,s]of gq(e)){const o=t(r,s);n[r]=o}return n}const M7=typeof window<"u"&&window.structuredClone?window.structuredClone:e=>e&&JSON.parse(JSON.stringify(e)),mq=Ha("document",At({typeName:Yr("document"),id:Yr("document:document"),gridSize:Oe,name:Ue,meta:ra})),L2={AddName:1,AddMeta:2},yq=vt({currentVersion:L2.AddMeta,migrators:{[L2.AddName]:{up:e=>({...e,name:""}),down:({name:e,...t})=>t},[L2.AddMeta]:{up:e=>({...e,meta:{}}),down:({meta:e,...t})=>({...t})}}}),YS=Ga("document",{migrations:yq,validator:mq,scope:"document"}).withDefaultProperties(()=>({gridSize:10,name:"",meta:{}})),Sw=YS.createId("document");function xq(e,t){return e.index<t.index?-1:e.index>t.index?1:0}function j7(e){e.typeName==="asset"&&("src"in e&&(e.src="<redacted>"),"src"in e.props&&(e.props.src="<redacted>"))}const wq=({error:e,phase:t,record:n,recordBefore:r})=>{throw pq(e,{tags:{origin:"store.validateRecord",storePhase:t,isExistingValidationIssue:t==="initialize"},extras:{recordBefore:r?j7(M7(r)):void 0,recordAfter:j7(M7(n))}}),e};function Sq(){return[Ba.create({id:"page:page",name:"Page 1",index:"a1",meta:{}})]}function bq(e){const t=e.query.ids("page"),n=()=>{if(!e.has(Sw))return e.put([YS.create({id:Sw,name:e.props.defaultName})]),n();if(!e.has(Bm))return e.put([XS.create({id:Bm})]),n();const r=t.get();if(r.size===0)return e.put(Sq()),n();const s=()=>[...r].map(l=>e.get(l)).sort(xq)[0].id,o=e.get(pr);if(o){if(!r.has(o.currentPageId))return e.put([{...o,currentPageId:s()}]),n()}else return e.put([e.schema.types.instance.create({id:pr,currentPageId:s(),exportBackground:!0})]),n();const a=new Set,i=new Set;for(const l of r){const c=ar.createId(l);e.has(c)||a.add(c);const d=or.createId(l);e.has(d)||i.add(d)}a.size>0&&e.put([...a].map(l=>ar.create({id:l,pageId:ar.parseId(l)}))),i.size>0&&e.put([...i].map(l=>or.create({id:l})))};return n}const vq=WS("bookmark",At({title:Ue,description:Ue,image:Ue,src:Ue.nullable()})),kq=vt({}),Cq=WS("image",At({w:Oe,h:Oe,name:Ue,isAnimated:ut,mimeType:Ue.nullable(),src:Ue.nullable()})),M2={AddIsAnimated:1,RenameWidthHeight:2},_q=vt({currentVersion:M2.RenameWidthHeight,migrators:{[M2.AddIsAnimated]:{up:e=>({...e,props:{...e.props,isAnimated:!1}}),down:e=>{const{isAnimated:t,...n}=e.props;return{...e,props:n}}},[M2.RenameWidthHeight]:{up:e=>{const{width:t,height:n,...r}=e.props;return{...e,props:{w:t,h:n,...r}}},down:e=>{const{w:t,h:n,...r}=e.props;return{...e,props:{width:t,height:n,...r}}}}}}),Eq=WS("video",At({w:Oe,h:Oe,name:Ue,isAnimated:ut,mimeType:Ue.nullable(),src:Ue.nullable()})),j2={AddIsAnimated:1,RenameWidthHeight:2},Iq=vt({currentVersion:j2.RenameWidthHeight,migrators:{[j2.AddIsAnimated]:{up:e=>({...e,props:{...e.props,isAnimated:!1}}),down:e=>{const{isAnimated:t,...n}=e.props;return{...e,props:n}}},[j2.RenameWidthHeight]:{up:e=>{const{width:t,height:n,...r}=e.props;return{...e,props:{w:t,h:n,...r}}},down:e=>{const{w:t,h:n,...r}=e.props;return{...e,props:{width:t,height:n,...r}}}}}}),Pq=Ha("asset",KS("type",{image:Cq,video:Eq,bookmark:vq})),R7={AddMeta:1},zq=vt({subTypeKey:"type",subTypeMigrations:{image:_q,video:Iq,bookmark:kq},currentVersion:R7.AddMeta,migrators:{[R7.AddMeta]:{up:e=>({...e,meta:{}}),down:({meta:e,...t})=>({...t})}}}),Ul=Ga("asset",{migrations:zq,validator:Pq,scope:"document"}).withDefaultProperties(()=>({meta:{}}));let Cr=class tI{constructor(t,n,r){this.id=t,this.defaultValue=n,this.type=r}static define(t,n){const{defaultValue:r,type:s=SD}=n;return new tI(t,r,s)}static defineEnum(t,n){const{defaultValue:r,values:s}=n;return new Aq(t,r,s)}validate(t){return this.type.validate(t)}},Aq=class extends Cr{constructor(t,n,r){super(t,n,NE(...r)),this.values=r}};const Sg={AddIsLocked:1,HoistOpacity:2,AddMeta:3},R2=vt({currentVersion:Sg.AddMeta,migrators:{[Sg.AddIsLocked]:{up:e=>({...e,isLocked:!1}),down:e=>{const{isLocked:t,...n}=e;return{...n}}},[Sg.HoistOpacity]:{up:({props:{opacity:e,...t},...n})=>({...n,opacity:Number(e??"1"),props:t}),down:({opacity:e,...t})=>({...t,props:{...t.props,opacity:e<.175?"0.1":e<.375?"0.25":e<.625?"0.5":e<.875?"0.75":"1"}})},[Sg.AddMeta]:{up:e=>({...e,meta:{}}),down:({meta:e,...t})=>({...t})}}});function Vl(e){return e?e.typeName==="shape":!1}function js(e){return e?e.startsWith("shape:"):!1}function gt(e){return`shape:${e??nl()}`}function nI(e){const t=new Map;for(const[n,r]of Object.entries(e))if(r instanceof Cr){if(t.has(r))throw new Error(`Duplicate style prop ${r.id}. Each style prop can only be used once within a shape.`);t.set(r,n)}return t}function Nq(e){return Ga("shape",{migrations:vt({currentVersion:R2.currentVersion,firstVersion:R2.firstVersion,migrators:R2.migrators,subTypeKey:"type",subTypeMigrations:L7(e,(t,n)=>n.migrations??vt({}))}),scope:"document",validator:Ha("shape",KS("type",L7(e,(t,{props:n,meta:r})=>aq(t,n,r))))}).withDefaultProperties(()=>({x:0,y:0,rotation:0,isLocked:!1,opacity:1,meta:{}}))}const nu={RemoveCodeAndIconShapeTypes:1,AddInstancePresenceType:2,RemoveTLUserAndPresenceAndAddPointer:3,RemoveUserDocument:4},Tq=vt({currentVersion:nu.RemoveUserDocument,migrators:{[nu.RemoveCodeAndIconShapeTypes]:{up:e=>Object.fromEntries(Object.entries(e).filter(([t,n])=>n.typeName!=="shape"||n.type!=="icon"&&n.type!=="code")),down:e=>e},[nu.AddInstancePresenceType]:{up:e=>e,down:e=>Object.fromEntries(Object.entries(e).filter(([t,n])=>n.typeName!=="instance_presence"))},[nu.RemoveTLUserAndPresenceAndAddPointer]:{up:e=>Object.fromEntries(Object.entries(e).filter(([t,n])=>!n.typeName.match(/^(user|user_presence)$/))),down:e=>Object.fromEntries(Object.entries(e).filter(([t,n])=>n.typeName!=="pointer"))},[nu.RemoveUserDocument]:{up:e=>Object.fromEntries(Object.entries(e).filter(([t,n])=>!n.typeName.match("user_document"))),down:e=>e}}});function Lq({shapes:e}){const t=new Map;for(const s of fq(e))for(const o of nI(s.props??{}).keys()){if(t.has(o.id)&&t.get(o.id)!==o)throw new Error(`Multiple StyleProp instances with the same id: ${o.id}`);t.set(o.id,o)}const n=Nq(e),r=rq(t);return XD.create({asset:Ul,camera:or,document:YS,instance:r,instance_page_state:ar,page:Ba,shape:n,instance_presence:ww,pointer:XS},{snapshotMigrations:Tq,onValidationFailure:wq,createIntegrityChecker:bq})}const rI=["black","grey","light-violet","violet","blue","light-blue","yellow","orange","green","light-green","light-red","red"],Km={lightMode:{id:"light",text:"#000000",background:"rgb(249, 250, 251)",solid:"#fcfffe",black:{solid:"#1d1d1d",semi:"#e8e8e8",pattern:"#494949",highlight:{srgb:"#fddd00",p3:"color(display-p3 0.972 0.8705 0.05)"}},blue:{solid:"#4263eb",semi:"#dce1f8",pattern:"#6681ee",highlight:{srgb:"#10acff",p3:"color(display-p3 0.308 0.6632 0.9996)"}},green:{solid:"#099268",semi:"#d3e9e3",pattern:"#39a785",highlight:{srgb:"#00ffc8",p3:"color(display-p3 0.2536 0.984 0.7981)"}},grey:{solid:"#adb5bd",semi:"#eceef0",pattern:"#bcc3c9",highlight:{srgb:"#cbe7f1",p3:"color(display-p3 0.8163 0.9023 0.9416)"}},"light-blue":{solid:"#4dabf7",semi:"#ddedfa",pattern:"#6fbbf8",highlight:{srgb:"#00f4ff",p3:"color(display-p3 0.1512 0.9414 0.9996)"}},"light-green":{solid:"#40c057",semi:"#dbf0e0",pattern:"#65cb78",highlight:{srgb:"#65f641",p3:"color(display-p3 0.563 0.9495 0.3857)"}},"light-red":{solid:"#ff8787",semi:"#f4dadb",pattern:"#fe9e9e",highlight:{srgb:"#ff7fa3",p3:"color(display-p3 0.9988 0.5301 0.6397)"}},"light-violet":{solid:"#e599f7",semi:"#f5eafa",pattern:"#e9acf8",highlight:{srgb:"#ff88ff",p3:"color(display-p3 0.9676 0.5652 0.9999)"}},orange:{solid:"#f76707",semi:"#f8e2d4",pattern:"#f78438",highlight:{srgb:"#ffa500",p3:"color(display-p3 0.9988 0.6905 0.266)"}},red:{solid:"#e03131",semi:"#f4dadb",pattern:"#e55959",highlight:{srgb:"#ff636e",p3:"color(display-p3 0.9992 0.4376 0.45)"}},violet:{solid:"#ae3ec9",semi:"#ecdcf2",pattern:"#bd63d3",highlight:{srgb:"#c77cff",p3:"color(display-p3 0.7469 0.5089 0.9995)"}},yellow:{solid:"#ffc078",semi:"#f9f0e6",pattern:"#fecb92",highlight:{srgb:"#fddd00",p3:"color(display-p3 0.972 0.8705 0.05)"}}},darkMode:{id:"dark",text:"#f8f9fa",background:"#212529",solid:"#28292e",black:{solid:"#e1e1e1",semi:"#2c3036",pattern:"#989898",highlight:{srgb:"#d2b700",p3:"color(display-p3 0.8078 0.7225 0.0312)"}},blue:{solid:"#4156be",semi:"#262d40",pattern:"#3a4b9e",highlight:{srgb:"#0079d2",p3:"color(display-p3 0.0032 0.4655 0.7991)"}},green:{solid:"#3b7b5e",semi:"#253231",pattern:"#366a53",highlight:{srgb:"#009774",p3:"color(display-p3 0.0085 0.582 0.4604)"}},grey:{solid:"#93989f",semi:"#33373c",pattern:"#7c8187",highlight:{srgb:"#9cb4cb",p3:"color(display-p3 0.6299 0.7012 0.7856)"}},"light-blue":{solid:"#588fc9",semi:"#2a3642",pattern:"#4d7aa9",highlight:{srgb:"#00bdc8",p3:"color(display-p3 0.0023 0.7259 0.7735)"}},"light-green":{solid:"#599f57",semi:"#2a3830",pattern:"#4e874e",highlight:{srgb:"#00a000",p3:"color(display-p3 0.2711 0.6172 0.0195)"}},"light-red":{solid:"#c67877",semi:"#3b3235",pattern:"#a56767",highlight:{srgb:"#db005b",p3:"color(display-p3 0.7849 0.0585 0.3589)"}},"light-violet":{solid:"#b583c9",semi:"#383442",pattern:"#9770a9",highlight:{srgb:"#c400c7",p3:"color(display-p3 0.7024 0.0403 0.753)"}},orange:{solid:"#bf612e",semi:"#3a2e2a",pattern:"#9f552d",highlight:{srgb:"#d07a00",p3:"color(display-p3 0.7699 0.4937 0.0085)"}},red:{solid:"#aa3c37",semi:"#36292b",pattern:"#8f3734",highlight:{srgb:"#de002c",p3:"color(display-p3 0.7978 0.0509 0.2035)"}},violet:{solid:"#873fa3",semi:"#31293c",pattern:"#763a8b",highlight:{srgb:"#9e00ee",p3:"color(display-p3 0.5651 0.0079 0.8986)"}},yellow:{solid:"#cba371",semi:"#3c3934",pattern:"#fecb92",highlight:{srgb:"#d2b700",p3:"color(display-p3 0.8078 0.7225 0.0312)"}}}};function br(e){return e.isDarkMode?Km.darkMode:Km.lightMode}const Gn=Cr.defineEnum("tldraw:color",{defaultValue:"black",values:rI}),sI=Cr.defineEnum("tldraw:labelColor",{defaultValue:"black",values:rI}),pc=Cr.defineEnum("tldraw:dash",{defaultValue:"draw",values:["draw","solid","dashed","dotted"]}),uh=Cr.defineEnum("tldraw:fill",{defaultValue:"none",values:["none","semi","solid","pattern"]}),sa=Cr.defineEnum("tldraw:font",{defaultValue:"draw",values:["draw","sans","serif","mono"]}),If={draw:"'tldraw_draw', sans-serif",sans:"'tldraw_sans', sans-serif",serif:"'tldraw_serif', serif",mono:"'tldraw_mono', monospace"},oa=Cr.defineEnum("tldraw:size",{defaultValue:"m",values:["s","m","l","xl"]}),oI=["arrow","triangle","square","dot","pipe","diamond","inverted","bar","none"],Wm=Cr.defineEnum("tldraw:arrowheadStart",{defaultValue:"none",values:oI}),Um=Cr.defineEnum("tldraw:arrowheadEnd",{defaultValue:"arrow",values:oI}),$7=KS("type",{binding:At({type:Yr("binding"),boundShapeId:so,normalizedAnchor:Ip,isExact:ut,isPrecise:ut}),point:At({type:Yr("point"),x:Oe,y:Oe})}),Mq={labelColor:sI,color:Gn,fill:uh,dash:pc,size:oa,arrowheadStart:Wm,arrowheadEnd:Um,font:sa,start:$7,end:$7,bend:Oe,text:Ue},$2={AddLabelColor:1,AddIsPrecise:2},jq=vt({currentVersion:$2.AddIsPrecise,migrators:{[$2.AddLabelColor]:{up:e=>({...e,props:{...e.props,labelColor:"black"}}),down:e=>{const{labelColor:t,...n}=e.props;return{...e,props:n}}},[$2.AddIsPrecise]:{up:e=>{const{start:t,end:n}=e.props;return{...e,props:{...e.props,start:t.type==="binding"?{...t,isPrecise:!(t.normalizedAnchor.x===.5&&t.normalizedAnchor.y===.5)}:t,end:n.type==="binding"?{...n,isPrecise:!(n.normalizedAnchor.x===.5&&n.normalizedAnchor.y===.5)}:n}}},down:e=>{const{start:t,end:n}=e.props,r={...t},s={...n};return r.type==="binding"&&(r.isPrecise||(r.normalizedAnchor={x:.5,y:.5}),delete r.isPrecise),s.type==="binding"&&(s.isPrecise||(s.normalizedAnchor={x:.5,y:.5}),delete s.isPrecise),{...e,props:{...e.props,start:r,end:s}}}}}}),Rq={w:Xr,h:Xr,assetId:m1.nullable(),url:Ue},O7={NullAssetId:1},$q=vt({currentVersion:O7.NullAssetId,migrators:{[O7.NullAssetId]:{up:e=>e.props.assetId===void 0?{...e,props:{...e.props,assetId:null}}:e,down:e=>{if(e.props.assetId===null){const{assetId:t,...n}=e.props;return{...e,props:n}}return e}}}}),aI=At({type:NE("free","straight"),points:Us(Ip)}),Oq={color:Gn,fill:uh,dash:pc,size:oa,segments:Us(aI),isComplete:ut,isClosed:ut,isPen:ut},D7={AddInPen:1},Dq=vt({currentVersion:D7.AddInPen,migrators:{[D7.AddInPen]:{up:e=>{const{points:t}=e.props.segments[0];if(t.length===0)return{...e,props:{...e.props,isPen:!1}};let n=!(t[0].z===0||t[0].z===.5);return t[1]&&(n=n&&!(t[1].z===0||t[1].z===.5)),{...e,props:{...e.props,isPen:n}}},down:e=>{const{isPen:t,...n}=e.props;return{...e,props:{...n}}}}}}),q7=/(^\/r\/[^/]+\/?$)/,xt=e=>{try{return new URL(e)}catch{return}},ph=[{type:"tldraw",title:"tldraw",hostnames:["beta.tldraw.com","tldraw.com"],minWidth:300,minHeight:300,width:720,height:500,doesResize:!0,canUnmount:!0,toEmbedUrl:e=>{const t=xt(e);if(t&&t.pathname.match(q7))return e},fromEmbedUrl:e=>{const t=xt(e);if(t&&t.pathname.match(q7))return e}},{type:"figma",title:"Figma",hostnames:["figma.com"],width:720,height:500,doesResize:!0,canUnmount:!0,toEmbedUrl:e=>{if(e.match(/https:\/\/([\w\.-]+\.)?figma.com\/(file|proto)\/([0-9a-zA-Z]{22,128})(?:\/.*)?$/)&&!e.includes("figma.com/embed"))return`https://www.figma.com/embed?embed_host=share&url=${e}`},fromEmbedUrl:e=>{const t=xt(e);if(t&&t.pathname.match(/^\/embed\/?$/)){const n=t.searchParams.get("url");if(n)return n}}},{type:"google_maps",title:"Google Maps",hostnames:["google.*"],width:720,height:500,doesResize:!0,canUnmount:!1,toEmbedUrl:e=>{if(e.includes("/maps/")){const t=e.match(/@(.*),(.*),(.*)z/);let n;if(t){const[,r,s,o]=t;n=`https://${new URL(e).host.replace("www.","")}/maps/embed/v1/view?key=${{}.NEXT_PUBLIC_GC_API_KEY}&center=${r},${s}&zoom=${o}`}else n="";return n}},fromEmbedUrl:e=>{const t=xt(e);if(!t)return;if(t.pathname.match(/^\/maps\/embed\/v1\/view\/?$/)&&t.searchParams.has("center")&&t.searchParams.get("zoom")){const r=t.searchParams.get("zoom"),[s,o]=t.searchParams.get("center").split(",");return`https://www.google.com/maps/@${s},${o},${r}z`}}},{type:"val_town",title:"Val Town",hostnames:["val.town"],minWidth:260,minHeight:100,width:720,height:500,doesResize:!0,canUnmount:!1,toEmbedUrl:e=>{const t=xt(e),n=t&&t.pathname.match(/\/v\/([^/]+)\/?/);if(n)return`https://www.val.town/embed/${n[1]}`},fromEmbedUrl:e=>{const t=xt(e),n=t&&t.pathname.match(/\/embed\/([^/]+)\/?/);if(n)return`https://www.val.town/v/${n[1]}`}},{type:"codesandbox",title:"CodeSandbox",hostnames:["codesandbox.io"],minWidth:300,minHeight:300,width:720,height:500,doesResize:!0,canUnmount:!1,toEmbedUrl:e=>{const t=xt(e),n=t&&t.pathname.match(/\/s\/([^/]+)\/?/);if(n)return`https://codesandbox.io/embed/${n[1]}`},fromEmbedUrl:e=>{const t=xt(e),n=t&&t.pathname.match(/\/embed\/([^/]+)\/?/);if(n)return`https://codesandbox.io/s/${n[1]}`}},{type:"codepen",title:"Codepen",hostnames:["codepen.io"],minWidth:300,minHeight:300,width:520,height:400,doesResize:!0,canUnmount:!1,toEmbedUrl:e=>{const t=/https:\/\/codepen.io\/([^/]+)\/pen\/([^/]+)/,n=e.match(t);if(n){const[r,s,o]=n;return`https://codepen.io/${s}/embed/${o}`}},fromEmbedUrl:e=>{const t=/https:\/\/codepen.io\/([^/]+)\/embed\/([^/]+)/,n=e.match(t);if(n){const[r,s,o]=n;return`https://codepen.io/${s}/pen/${o}`}}},{type:"scratch",title:"Scratch",hostnames:["scratch.mit.edu"],width:520,height:400,doesResize:!1,canUnmount:!1,toEmbedUrl:e=>{const t=/https?:\/\/scratch.mit.edu\/projects\/([^/]+)/,n=e.match(t);if(n){const[r,s]=n;return`https://scratch.mit.edu/projects/embed/${s}`}},fromEmbedUrl:e=>{const t=/https:\/\/scratch.mit.edu\/projects\/embed\/([^/]+)/,n=e.match(t);if(n){const[r,s]=n;return`https://scratch.mit.edu/projects/${s}`}}},{type:"youtube",title:"YouTube",hostnames:["*.youtube.com","youtube.com","youtu.be"],width:800,height:450,doesResize:!0,canUnmount:!1,overridePermissions:{"allow-presentation":!0},isAspectRatioLocked:!0,toEmbedUrl:e=>{const t=xt(e);if(!t)return;const n=t.hostname.replace(/^www./,"");if(n==="youtu.be")return`https://www.youtube.com/embed/${t.pathname.split("/").filter(Boolean)[0]}`;if((n==="youtube.com"||n==="m.youtube.com")&&t.pathname.match(/^\/watch/))return`https://www.youtube.com/embed/${t.searchParams.get("v")}`},fromEmbedUrl:e=>{const t=xt(e);if(!t)return;if(t.hostname.replace(/^www./,"")==="youtube.com"){const r=t.pathname.match(/^\/embed\/([^/]+)\/?/);if(r)return`https://www.youtube.com/watch?v=${r[1]}`}}},{type:"google_calendar",title:"Google Calendar",hostnames:["calendar.google.*"],width:720,height:500,minWidth:460,minHeight:360,doesResize:!0,canUnmount:!1,instructionLink:"https://support.google.com/calendar/answer/41207?hl=en",toEmbedUrl:e=>{const t=xt(e),n=t==null?void 0:t.searchParams.get("cid");if(t!=null&&t.pathname.match(/\/calendar\/u\/0/)&&n){t.pathname="/calendar/embed";const r=Array.from(t.searchParams.keys());for(const s of r)t.searchParams.delete(s);return t.searchParams.set("src",n),t.href}},fromEmbedUrl:e=>{const t=xt(e),n=t==null?void 0:t.searchParams.get("src");if(t!=null&&t.pathname.match(/\/calendar\/embed/)&&n){t.pathname="/calendar/u/0";const r=Array.from(t.searchParams.keys());for(const s of r)t.searchParams.delete(s);return t.searchParams.set("cid",n),t.href}}},{type:"google_slides",title:"Google Slides",hostnames:["docs.google.*"],width:720,height:500,minWidth:460,minHeight:360,doesResize:!0,canUnmount:!1,toEmbedUrl:e=>{const t=xt(e);if(t!=null&&t.pathname.match(/^\/presentation/)&&(t!=null&&t.pathname.match(/\/pub\/?$/))){t.pathname=t.pathname.replace(/\/pub$/,"/embed");const n=Array.from(t.searchParams.keys());for(const r of n)t.searchParams.delete(r);return t.href}},fromEmbedUrl:e=>{const t=xt(e);if(t!=null&&t.pathname.match(/^\/presentation/)&&(t!=null&&t.pathname.match(/\/embed\/?$/))){t.pathname=t.pathname.replace(/\/embed$/,"/pub");const n=Array.from(t.searchParams.keys());for(const r of n)t.searchParams.delete(r);return t.href}}},{type:"github_gist",title:"GitHub Gist",hostnames:["gist.github.com"],width:720,height:500,doesResize:!0,canUnmount:!0,toEmbedUrl:e=>{const t=xt(e);if(t&&t.pathname.match(/\/([^/]+)\/([^/]+)/))return e.split("/").pop()?e:void 0},fromEmbedUrl:e=>{const t=xt(e);if(t&&t.pathname.match(/\/([^/]+)\/([^/]+)/))return e.split("/").pop()?e:void 0}},{type:"replit",title:"Replit",hostnames:["replit.com"],width:720,height:500,doesResize:!0,canUnmount:!1,toEmbedUrl:e=>{const t=xt(e);if(t&&t.pathname.match(/\/@([^/]+)\/([^/]+)/))return`${e}?embed=true`},fromEmbedUrl:e=>{const t=xt(e);if(t&&t.pathname.match(/\/@([^/]+)\/([^/]+)/)&&t.searchParams.has("embed"))return t.searchParams.delete("embed"),t.href}},{type:"felt",title:"Felt",hostnames:["felt.com"],width:720,height:500,doesResize:!0,canUnmount:!1,toEmbedUrl:e=>{const t=xt(e);if(t&&t.pathname.match(/^\/map\//))return t.origin+"/embed"+t.pathname},fromEmbedUrl:e=>{const t=xt(e);if(t&&t.pathname.match(/^\/embed\/map\//))return t.pathname=t.pathname.replace(/^\/embed/,""),t.href}},{type:"spotify",title:"Spotify",hostnames:["open.spotify.com"],width:720,height:500,minHeight:500,overrideOutlineRadius:12,doesResize:!0,canUnmount:!1,toEmbedUrl:e=>{const t=xt(e);if(t&&t.pathname.match(/^\/(artist|album)\//))return t.origin+"/embed"+t.pathname},fromEmbedUrl:e=>{const t=xt(e);if(t&&t.pathname.match(/^\/embed\/(artist|album)\//))return t.origin+t.pathname.replace(/^\/embed/,"")}},{type:"vimeo",title:"Vimeo",hostnames:["vimeo.com","player.vimeo.com"],width:640,height:360,doesResize:!0,canUnmount:!1,isAspectRatioLocked:!0,toEmbedUrl:e=>{const t=xt(e);if(t&&t.hostname==="vimeo.com"&&t.pathname.match(/^\/[0-9]+/))return"https://player.vimeo.com/video/"+t.pathname.split("/")[1]+"?title=0&byline=0"},fromEmbedUrl:e=>{const t=xt(e);if(t&&t.hostname==="player.vimeo.com"){const n=t.pathname.match(/^\/video\/([^/]+)\/?$/);if(n)return"https://vimeo.com/"+n[1]}}},{type:"excalidraw",title:"Excalidraw",hostnames:["excalidraw.com"],width:720,height:500,doesResize:!0,canUnmount:!1,isAspectRatioLocked:!0,toEmbedUrl:e=>{const t=xt(e);if(t&&t.hash.match(/#room=/))return e},fromEmbedUrl:e=>{const t=xt(e);if(t&&t.hash.match(/#room=/))return e}},{type:"observable",title:"Observable",hostnames:["observablehq.com"],width:720,height:500,doesResize:!0,canUnmount:!1,isAspectRatioLocked:!1,backgroundColor:"#fff",toEmbedUrl:e=>{const t=xt(e);if(t&&t.pathname.match(/^\/@([^/]+)\/([^/]+)\/?$/))return`${t.origin}/embed${t.pathname}?cell=*`;if(t&&t.pathname.match(/^\/d\/([^/]+)\/?$/)){const n=t.pathname.replace(/^\/d/,"");return`${t.origin}/embed${n}?cell=*`}},fromEmbedUrl:e=>{const t=xt(e);if(t&&t.pathname.match(/^\/embed\/@([^/]+)\/([^/]+)\/?$/))return`${t.origin}${t.pathname.replace("/embed","")}#cell-*`;if(t&&t.pathname.match(/^\/embed\/([^/]+)\/?$/))return`${t.origin}${t.pathname.replace("/embed","/d")}#cell-*`}}],qq={"allow-downloads-without-user-activation":!1,"allow-downloads":!1,"allow-modals":!1,"allow-orientation-lock":!1,"allow-pointer-lock":!1,"allow-popups":!0,"allow-popups-to-escape-sandbox":!1,"allow-presentation":!1,"allow-storage-access-by-user-activation":!1,"allow-top-navigation":!1,"allow-top-navigation-by-user-activation":!1,"allow-scripts":!0,"allow-same-origin":!0,"allow-forms":!0},Bq={w:Xr,h:Xr,url:Ue},ru={GenOriginalUrlInEmbed:1,RemoveDoesResize:2,RemoveTmpOldUrl:3,RemovePermissionOverrides:4},Fq=vt({currentVersion:ru.RemovePermissionOverrides,migrators:{[ru.GenOriginalUrlInEmbed]:{up:e=>{const t=e.props.url,n=new URL(t).host.replace("www.","");let r;for(const s of ph)if(s.hostnames.includes(n))try{r=s.fromEmbedUrl(t)}catch(o){console.warn(o)}return{...e,props:{...e.props,tmpOldUrl:e.props.url,url:r??""}}},down:e=>{let t=e.props.tmpOldUrl;if(!t||t===""){const s=e.props.url,o=new URL(s).host.replace("www.","");for(const a of ph)if(a.hostnames.includes(o))try{t=a.toEmbedUrl(s)}catch(i){console.warn(i)}}const{tmpOldUrl:n,...r}=e.props;return{...e,props:{...r,url:t??""}}}},[ru.RemoveDoesResize]:{up:e=>{const{doesResize:t,...n}=e.props;return{...e,props:{...n}}},down:e=>({...e,props:{...e.props,doesResize:!0}})},[ru.RemoveTmpOldUrl]:{up:e=>{const{tmpOldUrl:t,...n}=e.props;return{...e,props:{...n}}},down:e=>({...e,props:{...e.props}})},[ru.RemovePermissionOverrides]:{up:e=>{const{overridePermissions:t,...n}=e.props;return{...e,props:{...n}}},down:e=>({...e,props:{...e.props}})}}}),Kq={w:Xr,h:Xr,name:Ue},Wq=vt({}),zp=Cr.defineEnum("tldraw:horizontalAlign",{defaultValue:"middle",values:["start","middle","end","start-legacy","end-legacy","middle-legacy"]}),Vm=Cr.defineEnum("tldraw:verticalAlign",{defaultValue:"middle",values:["start","middle","end"]}),Qo=Cr.defineEnum("tldraw:geo",{defaultValue:"rectangle",values:["cloud","rectangle","ellipse","triangle","diamond","pentagon","hexagon","octagon","star","rhombus","rhombus-2","oval","trapezoid","arrow-right","arrow-left","arrow-up","arrow-down","x-box","check-box"]}),Uq={geo:Qo,labelColor:sI,color:Gn,fill:uh,dash:pc,size:oa,font:sa,align:zp,verticalAlign:Vm,url:Ue,w:Xr,h:Xr,growY:FS,text:Ue},mi={AddUrlProp:1,AddLabelColor:2,RemoveJustify:3,AddCheckBox:4,AddVerticalAlign:5,MigrateLegacyAlign:6,AddCloud:7},Vq=vt({currentVersion:mi.AddCloud,migrators:{[mi.AddUrlProp]:{up:e=>({...e,props:{...e.props,url:""}}),down:e=>{const{url:t,...n}=e.props;return{...e,props:n}}},[mi.AddLabelColor]:{up:e=>({...e,props:{...e.props,labelColor:"black"}}),down:e=>{const{labelColor:t,...n}=e.props;return{...e,props:n}}},[mi.RemoveJustify]:{up:e=>{let t=e.props.align;return t==="justify"&&(t="start"),{...e,props:{...e.props,align:t}}},down:e=>({...e})},[mi.AddCheckBox]:{up:e=>({...e}),down:e=>({...e,props:{...e.props,geo:e.props.geo==="check-box"?"rectangle":e.props.geo}})},[mi.AddVerticalAlign]:{up:e=>({...e,props:{...e.props,verticalAlign:"middle"}}),down:e=>{const{verticalAlign:t,...n}=e.props;return{...e,props:n}}},[mi.MigrateLegacyAlign]:{up:e=>{let t;switch(e.props.align){case"start":t="start-legacy";break;case"end":t="end-legacy";break;default:t="middle-legacy";break}return{...e,props:{...e.props,align:t}}},down:e=>{let t;switch(e.props.align){case"start-legacy":t="start";break;case"end-legacy":t="end";break;case"middle-legacy":t="middle";break;default:t=e.props.align}return{...e,props:{...e.props,align:t}}}},[mi.AddCloud]:{up:e=>e,down:e=>{if(e.props.geo==="cloud")return{...e,props:{...e.props,geo:"rectangle"}}}}}}),Xq={},Yq=vt({}),Hq={color:Gn,size:oa,segments:Us(aI),isComplete:ut,isPen:ut},Gq=vt({}),Zq=At({topLeft:Ip,bottomRight:Ip}),Qq={w:Xr,h:Xr,playing:ut,url:Ue,assetId:m1.nullable(),crop:Zq.nullable()},O2={AddUrlProp:1,AddCropProp:2},Jq=vt({currentVersion:O2.AddCropProp,migrators:{[O2.AddUrlProp]:{up:e=>({...e,props:{...e.props,url:""}}),down:e=>{const{url:t,...n}=e.props;return{...e,props:n}}},[O2.AddCropProp]:{up:e=>({...e,props:{...e.props,crop:null}}),down:e=>{const{crop:t,...n}=e.props;return{...e,props:n}}}}}),eB=new Set(["vertex","virtual","create"]),tB=At({id:Ue,type:Ef(eB),canBind:ut.optional(),canSnap:ut.optional(),index:Ue,x:Oe,y:Oe}),Xm=Cr.defineEnum("tldraw:spline",{defaultValue:"line",values:["cubic","line"]}),nB={color:Gn,dash:pc,size:oa,spline:Xm,handles:vD(Ue,tB)},B7={AddSnapHandles:1},rB=vt({currentVersion:B7.AddSnapHandles,migrators:{[B7.AddSnapHandles]:{up:e=>{const t=Fm(e.props.handles);for(const n in t)t[n].canSnap=!0;return{...e,props:{...e.props,handles:t}}},down:e=>{const t=Fm(e.props.handles);for(const n in t)delete t[n].canSnap;return{...e,props:{...e.props,handles:t}}}}}}),sB={color:Gn,size:oa,font:sa,align:zp,verticalAlign:Vm,growY:FS,url:Ue,text:Ue},su={AddUrlProp:1,RemoveJustify:2,MigrateLegacyAlign:3,AddVerticalAlign:4},oB=vt({currentVersion:su.AddVerticalAlign,migrators:{[su.AddUrlProp]:{up:e=>({...e,props:{...e.props,url:""}}),down:e=>{const{url:t,...n}=e.props;return{...e,props:n}}},[su.RemoveJustify]:{up:e=>{let t=e.props.align;return t==="justify"&&(t="start"),{...e,props:{...e.props,align:t}}},down:e=>({...e})},[su.MigrateLegacyAlign]:{up:e=>{let t;switch(e.props.align){case"start":t="start-legacy";break;case"end":t="end-legacy";break;default:t="middle-legacy";break}return{...e,props:{...e.props,align:t}}},down:e=>{let t;switch(e.props.align){case"start-legacy":t="start";break;case"end-legacy":t="end";break;case"middle-legacy":t="middle";break;default:t=e.props.align}return{...e,props:{...e.props,align:t}}}},[su.AddVerticalAlign]:{up:e=>({...e,props:{...e.props,verticalAlign:"middle"}}),down:e=>{const{verticalAlign:t,...n}=e.props;return{...e,props:n}}}}}),aB={color:Gn,size:oa,font:sa,align:zp,w:Xr,text:Ue,scale:Xr,autoSize:ut},F7={RemoveJustify:1},iB=vt({currentVersion:F7.RemoveJustify,migrators:{[F7.RemoveJustify]:{up:e=>{let t=e.props.align;return t==="justify"&&(t="start"),{...e,props:{...e.props,align:t}}},down:e=>({...e})}}}),lB={w:Xr,h:Xr,time:Oe,playing:ut,url:Ue,assetId:m1.nullable()},K7={AddUrlProp:1},cB=vt({currentVersion:K7.AddUrlProp,migrators:{[K7.AddUrlProp]:{up:e=>({...e,props:{...e.props,url:""}}),down:e=>{const{url:t,...n}=e.props;return{...e,props:n}}}}}),Ap=[{locale:"ar",label:""},{locale:"ca",label:"Catal"},{locale:"cs",label:"etina"},{locale:"da",label:"Danish"},{locale:"de",label:"Deutsch"},{locale:"en",label:"English"},{locale:"es",label:"Espaol"},{locale:"fa",label:""},{locale:"fi",label:"Suomi"},{locale:"fr",label:"Franais"},{locale:"gl",label:"Galego"},{locale:"he",label:""},{locale:"it",label:"Italiano"},{locale:"ja",label:""},{locale:"ko-kr",label:""},{locale:"ku",label:""},{locale:"hi-in",label:""},{locale:"hu",label:"Magyar"},{locale:"my",label:""},{locale:"ne",label:""},{locale:"no",label:"Norwegian"},{locale:"pl",label:"Polski"},{locale:"pt-br",label:"Portugus - Brasil"},{locale:"pt-pt",label:"Portugus - Europeu"},{locale:"ro",label:"Romn"},{locale:"ru",label:"Russian"},{locale:"sv",label:"Svenska"},{locale:"te",label:""},{locale:"th",label:""},{locale:"tr",label:"Trke"},{locale:"uk",label:"Ukrainian"},{locale:"vi",label:"Ting Vit"},{locale:"zh-cn",label:"Chinese - Simplified"},{locale:"zh-tw",label:" ()"}];function dB(){const e=typeof window<"u"?window.navigator.languages??["en"]:["en"];return hB(e)}function hB(e){for(const t of e){const n=uB(t);if(n)return n}return"en"}const W7={zh:"zh-cn",pt:"pt-br",ko:"ko-kr",hi:"hi-in"};function uB(e){const t=Ap.find(s=>s.locale===e.toLowerCase());if(t)return t.locale;const[n,r]=e.split(/[-_]/).map(s=>s.toLowerCase());if(r){const s=Ap.find(o=>o.locale===n);if(s)return s.locale}return n in W7?W7[n]:null}function Ym(e,t){const n=[];e:for(const r of e){for(const s of n)if(t?t(r,s):r===s)continue e;n.push(r)}return n}function ze(e){return e.filter(t=>t!=null)}function Pr(e){return e[e.length-1]}function pB(e,t){let n,r=1/0;for(const s of e){const o=t(s);o<r&&(n=s,r=o)}return n}function fB(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!Object.is(e[n],t[n]))return!1;return!0}function gB(e,t){let n,r;return function(...s){return n||(n=!0,setTimeout(()=>n=!1,t),r=e(...s)),r}}function iI(e){const t=(...n)=>{try{return e(...n)}catch(r){throw r instanceof Error&&Error.captureStackTrace&&Error.captureStackTrace(r,t),r}};return t}function Hm(e,t){const n=t&&e&&typeof e=="object"&&t in e?e[t]:e;throw new Error(`Unknown switch case ${n}`)}const lc=iI((e,t)=>{if(!e)throw new Error(t||"Assertion Error")}),mB=iI((e,t)=>{if(e==null)throw new Error(t??"value must be defined");return e});function lI(e,t){let n;const r=(...s)=>(n||(n={},n.promise=new Promise((o,a)=>{n.resolve=o,n.reject=a})),clearTimeout(n.timeout),n.latestArgs=s,n.timeout=setTimeout(()=>{const o=n;n=void 0;try{o.resolve(e(...o.latestArgs))}catch(a){o.reject(a)}},t),n.promise);return r.cancel=()=>{n&&clearTimeout(n.timeout)},r}const U7=new WeakMap;function cI(e,t){if(typeof e!="object"||e===null)return;let n=U7.get(e);n||(n={tags:{},extras:{}},U7.set(e,n)),t.tags&&(n.tags={...n.tags,...t.tags}),t.extras&&(n.extras={...n.extras,...t.extras})}class yB{static async base64ToFile(t){return fetch(t).then(function(n){return n.arrayBuffer()})}static async fileToBase64(t){return await new Promise((n,r)=>{if(t){const s=new FileReader;s.readAsDataURL(t),s.onload=()=>n(s.result),s.onerror=o=>r(o),s.onabort=o=>r(o)}})}static blobToDataUrl(t){return URL.createObjectURL(t)}}function M0(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return t+""}let bw=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];typeof Int32Array<"u"&&(bw=new Int32Array(bw));const xB=(e,t)=>{let n=t===0?0:~~t^-1;for(let r=0;r<e.length;r++)n=bw[(n^e[r])&255]^n>>>8;return n^-1},V7=4,X7=4;class Wo{static isPng(t,n){return t.getUint8(n+0)===137&&t.getUint8(n+1)===80&&t.getUint8(n+2)===78&&t.getUint8(n+3)===71&&t.getUint8(n+4)===13&&t.getUint8(n+5)===10&&t.getUint8(n+6)===26&&t.getUint8(n+7)===10}static getChunkType(t,n){return[String.fromCharCode(t.getUint8(n)),String.fromCharCode(t.getUint8(n+1)),String.fromCharCode(t.getUint8(n+2)),String.fromCharCode(t.getUint8(n+3))].join("")}static readChunks(t,n=0){const r={};if(!Wo.isPng(t,n))throw new Error("Not a PNG");for(n+=8;n<=t.buffer.byteLength;){const s=n,o=t.getInt32(n);n+=4;const a=Wo.getChunkType(t,n);if(a==="IDAT"&&r[a]){n+=o+V7+X7;continue}if(a==="IEND")break;r[a]={start:s,dataOffset:n+4,size:o},n+=o+V7+X7}return r}static parsePhys(t,n){return{ppux:t.getUint32(n),ppuy:t.getUint32(n+4),unit:t.getUint8(n+4)}}static findChunk(t,n){return Wo.readChunks(t)[n]}static setPhysChunk(t,n=1,r){let s=46,o=0;const a=Wo.findChunk(t,"pHYs");a&&(s=a.start,o=a.size);const i=Wo.findChunk(t,"IDAT");i&&(s=i.start,o=0);const l=new ArrayBuffer(21),c=new DataView(l);c.setUint32(0,9),c.setUint8(4,"p".charCodeAt(0)),c.setUint8(5,"H".charCodeAt(0)),c.setUint8(6,"Y".charCodeAt(0)),c.setUint8(7,"s".charCodeAt(0));const d=2835.5;c.setInt32(8,d*n),c.setInt32(12,d*n),c.setInt8(16,1);const h=new Uint8Array(l.slice(4,17));c.setInt32(17,xB(h));const u=t.buffer.slice(0,s),p=t.buffer.slice(s+o);return new Blob([u,l,p],r)}}class Gm{static async getVideoSizeFromSrc(t){return await new Promise((n,r)=>{const s=document.createElement("video");s.onloadeddata=()=>n({w:s.videoWidth,h:s.videoHeight}),s.onerror=o=>{console.error(o),r(new Error("Could not get video size"))},s.crossOrigin="anonymous",s.src=t})}static async getImageSizeFromSrc(t){return await new Promise((n,r)=>{const s=new Image;s.onload=async()=>{try{const o=await yB.base64ToFile(t),a=new DataView(o);if(Wo.isPng(a,0)){const i=Wo.findChunk(a,"pHYs");if(i){const l=Wo.parsePhys(a,i.dataOffset);if(l.unit===0&&l.ppux===l.ppuy){const c=Math.round(l.ppux/2834.5);n({w:s.width/c,h:s.height/c});return}}}n({w:s.width,h:s.height})}catch(o){console.error(o),n({w:s.width,h:s.height})}},s.onerror=o=>{console.error(o),r(new Error("Could not get image size"))},s.crossOrigin="anonymous",s.src=t})}static getImageSize(t){const n=URL.createObjectURL(t);return Gm.getImageSizeFromSrc(n)}}function $i(e=""){let t=0,n=0,r=0,s=0;function o(){const a=t^t<<11;return t=n,n=r,r=s,s^=(s>>>19^a^a>>>8)>>>0,s/4294967296*2}for(let a=0;a<e.length+64;a++)t^=e.charCodeAt(a)|0,o();return o}function Zm(e,t,n,r=!1){const[s,o]=t,[a,i]=n,l=a+(e-s)/(o-s)*(i-a);return r?a<i?Math.max(Math.min(l,i),a):Math.max(Math.min(l,a),i):l}function dI(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function D2(e,t){if(dI(e,t))return e[t]}function Fr(e){if(!e)return e;if(Array.isArray(e)){const t=[],n=e.length;for(let r=0;r<n;r++)t.push(Fr(e[r]));return t}else if(typeof e=="object"){const t=Object.keys(e),n=t.length,r={};for(let s=0;s<n;s++){const o=t[s];r[o]=Fr(e[o])}return r}return e}function wB(e){return Object.values(e)}function hI(e){return Object.entries(e)}function SB(e){return Object.fromEntries(e)}function uI(e,t){if(e===t)return!0;const n=new Set(Object.keys(e)),r=new Set(Object.keys(t));if(n.size!==r.size)return!1;for(const s of n)if(!r.has(s)||!Object.is(e[s],t[s]))return!1;return!0}function bB(e,t){return e.id>t.id?1:-1}const vB=new RegExp(/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:[/?#]\S*)?$/i);function vw(e){return vB.test(e)}function kB(e){return e!==null}const Cd=typeof window<"u"&&window.structuredClone?window.structuredClone:e=>e&&JSON.parse(JSON.stringify(e));function CB(e,t){const n=t&&e&&typeof e=="object"&&t in e?e[t]:e;throw new Error(`Unknown switch case ${n}`)}function pI(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function _B(e,t){if(pI(e,t))return e[t]}function EB(e){if(!e.length)return null;let t="";for(const n of e)typeof n=="number"?t+=`.${n}`:n.startsWith("(")?t.endsWith(")")?t=`${t.slice(0,-1)}, ${n.slice(1)}`:t+=n:t+=`.${n}`;return t.startsWith(".")?t.slice(1):t}let Yn=class extends Error{constructor(n,r=[]){const s=EB(r),o=n.split(`
`).map((a,i)=>i===0?a:`  ${a}`).join(`
`);super(r?`At ${s}: ${o}`:o);m(this,"name","ValidationError");this.rawMessage=n,this.path=r}};function y1(e,t){try{return t()}catch(n){throw n instanceof Yn?new Yn(n.rawMessage,[e,...n.path]):new Yn(n.toString(),[e])}}function x1(e){if(e===null)return"null";if(Array.isArray(e))return"an array";const t=typeof e;switch(t){case"bigint":case"boolean":case"function":case"number":case"string":case"symbol":return`a ${t}`;case"object":return`an ${t}`;case"undefined":return"undefined";default:CB(t)}}let Ec=class fI{constructor(t){this.validationFn=t}validate(t){return this.validationFn(t)}nullable(){return LB(this)}optional(){return TB(this)}refine(t){return new fI(n=>t(this.validate(n)))}check(t,n){return typeof t=="string"?this.refine(r=>(y1(`(check ${t})`,()=>n(r)),r)):this.refine(r=>(t(r),r))}},IB=class extends Ec{constructor(t){super(n=>{const r=NB.validate(n);for(let s=0;s<r.length;s++)y1(s,()=>t.validate(r[s]));return r}),this.itemValidator=t}nonEmpty(){return this.check(t=>{if(t.length===0)throw new Yn("Expected a non-empty array")})}lengthGreaterThan1(){return this.check(t=>{if(t.length<=1)throw new Yn("Expected an array with length greater than 1")})}},PB=class kw extends Ec{constructor(t,n=!1){super(r=>{if(typeof r!="object"||r===null)throw new Yn(`Expected object, got ${x1(r)}`);for(const[s,o]of Object.entries(t))y1(s,()=>{o.validate(_B(r,s))});if(!n){for(const s of Object.keys(r))if(!pI(t,s))throw new Yn("Unexpected property",[s])}return r}),this.config=t,this.shouldAllowUnknownProperties=n}allowUnknownProperties(){return new kw(this.config,!0)}extend(t){return new kw({...this.config,...t})}},zB=class extends Ec{constructor(t,n){super(r=>{if(typeof r!="object"||r===null)throw new Yn(`Expected object, got ${x1(r)}`);for(const[s,o]of Object.entries(r))y1(s,()=>{t.validate(s),n.validate(o)});return r}),this.keyValidator=t,this.valueValidator=n}};function HS(e){return new Ec(t=>{if(typeof t!==e)throw new Yn(`Expected ${e}, got ${x1(t)}`);return t})}const za=HS("string"),zr=HS("number").check(e=>{if(Number.isNaN(e))throw new Yn("Expected a number, got NaN");if(!Number.isFinite(e))throw new Yn(`Expected a finite number, got ${e}`)});zr.check(e=>{if(e<0)throw new Yn(`Expected a positive number, got ${e}`)});zr.check(e=>{if(e<=0)throw new Yn(`Expected a non-zero positive number, got ${e}`)});const gI=zr.check(e=>{if(!Number.isInteger(e))throw new Yn(`Expected an integer, got ${e}`)}),bg=gI.check(e=>{if(e<0)throw new Yn(`Expected a positive integer, got ${e}`)}),AB=gI.check(e=>{if(e<=0)throw new Yn(`Expected a non-zero positive integer, got ${e}`)}),Ol=HS("boolean"),NB=new Ec(e=>{if(!Array.isArray(e))throw new Yn(`Expected an array, got ${x1(e)}`);return e});function Cw(e){return new IB(e)}function Pi(e){return new PB(e)}function Y7(e,t){return new zB(e,t)}function TB(e){return new Ec(t=>{if(t!==void 0)return e.validate(t)})}function LB(e){return new Ec(t=>t===null?null:e.validate(t))}var mI={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var o="",a=0;a<arguments.length;a++){var i=arguments[a];i&&(o=s(o,r(i)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var a="";for(var i in o)t.call(o,i)&&o[i]&&(a=s(a,i));return a}function s(o,a){return a?o?o+" "+a:o+a:o}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(mI);var MB=mI.exports;const me=_c(MB),jB={},Pt={preventDefaultLogging:Qr("preventDefaultLogging",{defaults:{all:!1}}),pointerCaptureLogging:Qr("pointerCaptureLogging",{defaults:{all:!1}}),pointerCaptureTracking:Qr("pointerCaptureTracking",{defaults:{all:!1}}),pointerCaptureTrackingObject:Qr("pointerCaptureTrackingObject",{defaults:{all:new Map},shouldStoreForSession:!1}),elementRemovalLogging:Qr("elementRemovalLogging",{defaults:{all:!1}}),debugSvg:Qr("debugSvg",{defaults:{all:!1}}),throwToBlob:Qr("throwToBlob",{defaults:{all:!1}}),logMessages:Qr("uiLog",{defaults:{all:[]}}),resetConnectionEveryPing:Qr("resetConnectionEveryPing",{defaults:{all:!1}}),debugCursors:Qr("debugCursors",{defaults:{all:!1}}),forceSrgb:Qr("forceSrgbColors",{defaults:{all:!1}}),debugGeometry:Qr("debugGeometry",{defaults:{all:!1}}),hideShapes:Qr("hideShapes",{defaults:{all:!1}})};typeof window<"u"&&(window.tldrawLog=e=>{Pt.logMessages.set(Pt.logMessages.get().concat(e))});if(typeof Element<"u"){const e=Element.prototype.removeChild;_f("element removal logging",()=>{Pt.elementRemovalLogging.get()?Element.prototype.removeChild=function(t){return console.warn("[tldraw] removing child:",t),e.call(this,t)}:Element.prototype.removeChild=e})}function Qr(e,{defaults:t,shouldStoreForSession:n=!0}){return RB({name:e,defaults:t,shouldStoreForSession:n})}function RB(e){const t=OB(e),n=e.shouldStoreForSession?$B(e.name):null,r=ys(`debug:${e.name}`,n??t);return typeof window<"u"&&(e.shouldStoreForSession&&_f(`debug:${e.name}`,()=>{const s=r.get();try{s===t?window.sessionStorage.removeItem(`tldraw_debug:${e.name}`):window.sessionStorage.setItem(`tldraw_debug:${e.name}`,JSON.stringify(s))}catch{}}),Object.defineProperty(window,`tldraw${e.name.replace(/^[a-z]/,s=>s.toUpperCase())}`,{get(){return r.get()},set(s){r.set(s)},configurable:!0})),Object.assign(r,e)}function $B(e){try{return JSON.parse((window==null?void 0:window.sessionStorage.getItem(`tldraw_debug:${e}`))??"null")}catch{return null}}function q2(e){try{return e()}catch{return null}}function OB(e){switch(q2(()=>"development")??q2(()=>({}).VERCEL_PUBLIC_TLDRAW_ENV)??q2(()=>({}).NEXT_PUBLIC_TLDRAW_ENV)??"production"){case"production":return e.defaults.production??e.defaults.all;case"preview":case"staging":return e.defaults.staging??e.defaults.all;default:return e.defaults.development??e.defaults.all}}function Qm(e){if(e instanceof HTMLElement)return e;if(e.parentElement)return Qm(e.parentElement);throw Error("Could not find a parent element of an HTML type!")}function rt(e){e.preventDefault(),Pt.preventDefaultLogging.get()&&console.warn("preventDefault called on event:",e)}function Pf(e,t){if(e.setPointerCapture(t.pointerId),Pt.pointerCaptureTracking.get()){const n=Pt.pointerCaptureTrackingObject.get();n.set(e,(n.get(e)??0)+1)}Pt.pointerCaptureLogging.get()&&console.warn("setPointerCapture called on element:",e,t)}function zf(e,t){if(e.hasPointerCapture(t.pointerId)){if(e.releasePointerCapture(t.pointerId),Pt.pointerCaptureTracking.get()){const n=Pt.pointerCaptureTrackingObject.get();n.get(e)===1?n.delete(e):n.has(e)?n.set(e,n.get(e)-1):console.warn("Release without capture")}Pt.pointerCaptureLogging.get()&&console.warn("releasePointerCapture called on element:",e,t)}}const hn=e=>e.stopPropagation();function qr(e){return e.isKilled=!0,{point:{x:e.clientX,y:e.clientY,z:e.pressure},shiftKey:e.shiftKey,altKey:e.altKey,ctrlKey:e.metaKey||e.ctrlKey,pointerId:e.pointerId,button:e.button,isPen:e.pointerType==="pen"}}const GS=le.createContext({}),H=()=>le.useContext(GS);function DB(){const e=H();return b.useMemo(function(){let r,s;function o(g){if(!g.isKilled){if(g.button===2){e.dispatch({type:"pointer",target:"canvas",name:"right_click",...qr(g)});return}g.button!==0&&g.button!==1&&g.button!==5||(Pf(g.currentTarget,g),e.dispatch({type:"pointer",target:"canvas",name:"pointer_down",...qr(g)}),e.getOpenMenus().length>0&&(e.updateInstanceState({openMenus:[]}),document.body.click(),e.getContainer().focus()))}}function a(g){g.isKilled||g.clientX===r&&g.clientY===s||(r=g.clientX,s=g.clientY,e.dispatch({type:"pointer",target:"canvas",name:"pointer_move",...qr(g)}))}function i(g){g.isKilled||g.button!==0&&g.button!==1&&g.button!==2&&g.button!==5||(r=g.clientX,s=g.clientY,zf(g.currentTarget,g),e.dispatch({type:"pointer",target:"canvas",name:"pointer_up",...qr(g)}))}function l(g){if(g.isKilled||e.getInstanceState().isPenMode&&g.pointerType!=="pen")return;const x=g.pointerType==="mouse"||g.pointerType==="pen";e.updateInstanceState({isHoveringCanvas:x?!0:null})}function c(g){if(g.isKilled||e.getInstanceState().isPenMode&&g.pointerType!=="pen")return;const x=g.pointerType==="mouse"||g.pointerType==="pen";e.updateInstanceState({isHoveringCanvas:x?!1:null})}function d(g){g.isKilled=!0,document.body.click(),rt(g)}function h(g){g.isKilled=!0,g.target.tagName!=="A"&&g.target.tagName!=="TEXTAREA"&&rt(g)}function u(g){rt(g)}async function p(g){var w,S;if(rt(g),!((S=(w=g.dataTransfer)==null?void 0:w.files)!=null&&S.length))return;const x=Array.from(g.dataTransfer.files);await e.putExternalContent({type:"files",files:x,point:e.screenToPage({x:g.clientX,y:g.clientY}),ignoreParent:!1})}function y(g){hn(g)}return{onPointerDown:o,onPointerMove:a,onPointerUp:i,onPointerEnter:l,onPointerLeave:c,onDragOver:u,onDrop:p,onTouchStart:d,onTouchEnd:h,onClick:y}},[e])}function qB(){const e=H();b.useEffect(()=>{if(e.environment.isFirefox&&!e.environment.isAndroid&&!e.environment.isIos){e.updateInstanceState({isCoarsePointer:!1});return}if(window.matchMedia){const t=window.matchMedia("(pointer: coarse)"),n=()=>{e.updateInstanceState({isCoarsePointer:!!t.matches})};if(n(),t)return t.addEventListener("change",n),()=>t.removeEventListener("change",n)}},[e])}const yI=b.createContext(null);function BB({container:e,children:t}){return f.jsx(yI.Provider,{value:e,children:t})}function zn(){return mB(b.useContext(yI),"useContainer used outside of <Tldraw />")}function FB(){const e=H(),t=zn(),n=J("isFocused",()=>e.getInstanceState().isFocused,[e]);b.useEffect(()=>{if(typeof matchMedia===void 0)return;let r=null;const s=()=>{r!=null&&r();const o=`(resolution: ${window.devicePixelRatio}dppx)`,a=matchMedia(o),i=l=>{l.type==="change"&&s()};a.addEventListener?a.addEventListener("change",s):a.addListener&&a.addListener(i),r=()=>{a.removeEventListener?a.removeEventListener("change",s):a.removeListener&&a.removeListener(i)},e.updateInstanceState({devicePixelRatio:window.devicePixelRatio})};return s(),()=>{r==null||r()}},[e]),b.useEffect(()=>{if(!n)return;const r=i=>{if(i.altKey&&(e.isIn("zoom")||!e.getPath().endsWith(".idle"))&&!ou()&&rt(i),i.isKilled)return;switch(i.isKilled=!0,i.key){case"=":case"-":case"0":{if(i.metaKey||i.ctrlKey){rt(i);return}break}case"Tab":{if(ou()||e.getIsMenuOpen())return;break}case",":{if(!ou()&&(rt(i),!e.inputs.keys.has("Comma"))){const{x:c,y:d,z:h}=e.inputs.currentScreenPoint;e.inputs.keys.add("Comma");const u={type:"pointer",name:"pointer_down",point:{x:c,y:d,z:h},shiftKey:i.shiftKey,altKey:i.altKey,ctrlKey:i.metaKey||i.ctrlKey,pointerId:0,button:0,isPen:e.getInstanceState().isPenMode,target:"canvas"};e.dispatch(u);return}break}case"Escape":{if((e.getEditingShape()||e.getSelectedShapeIds().length>0)&&i.preventDefault(),e.getOpenMenus().length>0)return;e.inputs.keys.has("Escape")||(e.inputs.keys.add("Escape"),e.cancel(),t.focus());return}default:if(ou()||e.getIsMenuOpen())return}const l={type:"keyboard",name:i.repeat?"key_repeat":"key_down",key:i.key,code:i.code,shiftKey:i.shiftKey,altKey:i.altKey,ctrlKey:i.metaKey||i.ctrlKey};e.dispatch(l)},s=i=>{var c;if(i.isKilled||(i.isKilled=!0,ou()||e.getIsMenuOpen()))return;if(i.key===","&&((c=document.activeElement)!=null&&c.ELEMENT_NODE&&rt(i),e.inputs.keys.has(i.code))){const{x:d,y:h,z:u}=e.inputs.currentScreenPoint;e.inputs.keys.delete(i.code);const p={type:"pointer",name:"pointer_up",point:{x:d,y:h,z:u},shiftKey:i.shiftKey,altKey:i.altKey,ctrlKey:i.metaKey||i.ctrlKey,pointerId:0,button:0,isPen:e.getInstanceState().isPenMode,target:"canvas"};e.dispatch(p);return}const l={type:"keyboard",name:"key_up",key:i.key,code:i.code,shiftKey:i.shiftKey,altKey:i.altKey,ctrlKey:i.metaKey||i.ctrlKey};e.dispatch(l)};function o(i){var l,c;if(t.contains(i.target)){const d=i.touches[0].pageX,h=i.touches[0].radiusX||0;(d-h<10||d+h>e.getViewportScreenBounds().width-10)&&(((l=i.target)==null?void 0:l.tagName)==="BUTTON"&&((c=i.target)==null||c.click()),rt(i))}}const a=i=>{t.contains(i.target)&&(i.ctrlKey||i.metaKey)&&rt(i)};return t.addEventListener("touchstart",o,{passive:!1}),t.addEventListener("wheel",a,{passive:!1}),document.addEventListener("gesturestart",rt),document.addEventListener("gesturechange",rt),document.addEventListener("gestureend",rt),t.addEventListener("keydown",r),t.addEventListener("keyup",s),()=>{t.removeEventListener("touchstart",o),t.removeEventListener("wheel",a),document.removeEventListener("gesturestart",rt),document.removeEventListener("gesturechange",rt),document.removeEventListener("gestureend",rt),t.removeEventListener("keydown",r),t.removeEventListener("keyup",s)}},[e,t,n])}const KB=["input","select","button","textarea"];function ou(){const{activeElement:e}=document;return!!(e&&(e.getAttribute("contenteditable")||KB.indexOf(e.tagName.toLowerCase())>-1))}const WB={error:null};let ZS=class extends b.Component{constructor(){super(...arguments);m(this,"state",WB)}static getDerivedStateFromError(n){return{error:n}}componentDidCatch(n){var r,s;(s=(r=this.props).onError)==null||s.call(r,n)}render(){const{error:n}=this.state;if(n!==null){const{fallback:r}=this.props;return f.jsx(r,{error:n})}return this.props.children}};function Np({children:e,fallback:t,...n}){return t===null?f.jsx(f.Fragment,{children:e}):f.jsx(ZS,{fallback:t,...n,children:e})}let UB=class{constructor(t){this.shape=t}equals(t){var n,r,s,o,a,i;return((n=this.shape)==null?void 0:n.isLocked)===((r=t==null?void 0:t.shape)==null?void 0:r.isLocked)&&((s=this.shape)==null?void 0:s.props)===((o=t==null?void 0:t.shape)==null?void 0:o.props)&&((a=this.shape)==null?void 0:a.meta)===((i=t==null?void 0:t.shape)==null?void 0:i.meta)}};const VB=({shape:e,util:t})=>f1("Indicator:"+e.type,()=>t.indicator(e)),XB=({editor:e,id:t})=>{const n=J("shape",()=>new UB(e.store.get(t)),[e,t]),{ShapeIndicatorErrorFallback:r}=An();return!n.shape||n.shape.isLocked?null:f.jsx(Np,{fallback:r,onError:s=>e.annotateError(s,{origin:"react.shapeIndicator",willCrashApp:!1}),children:f.jsx(VB,{shape:n.shape,util:e.getShapeUtil(n.shape)},n.shape.id)})},YB=({id:e,className:t,color:n,opacity:r})=>{const s=H(),o=J("transform",()=>{const a=s.getShapePageTransform(e);return a?a.toCssString():""},[s,e]);return f.jsx("svg",{className:me("tl-overlays__item",t),children:f.jsx("g",{className:"tl-shape-indicator",transform:o,stroke:n??"var(--color-selected)",opacity:r,children:f.jsx(XB,{editor:s,id:e})})})},Af=b.memo(YB);function HB(){return f.jsx("div",{className:"tl-background"})}function Th(e,t,n,r,s,o){b.useLayoutEffect(()=>{const a=e.current;if(!a||t===void 0)return;let i=`translate(${t}px, ${n}px)`;r!==void 0&&(i+=` scale(${r})`),s!==void 0&&(i+=` rotate(${s}rad)`),o&&(i+=` translate(${o.x}px, ${o.y}px)`),a.style.transform=i})}const xr={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>e*(2-e),easeInOutQuad:e=>e<.5?2*e*e:-1+(4-2*e)*e,easeInCubic:e=>e*e*e,easeOutCubic:e=>--e*e*e+1,easeInOutCubic:e=>e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1- --e*e*e*e,easeInOutQuart:e=>e<.5?8*e*e*e*e:1-8*--e*e*e*e,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1+--e*e*e*e*e,easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e,easeInSine:e=>1-Math.cos(e*Math.PI/2),easeOutSine:e=>Math.sin(e*Math.PI/2),easeInOutSine:e=>-(Math.cos(Math.PI*e)-1)/2,easeInExpo:e=>e<=0?0:Math.pow(2,10*e-10),easeOutExpo:e=>e>=1?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>e<=0?0:e>=1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2};let P=class ie{constructor(t=0,n=0,r=1){this.x=t,this.y=n,this.z=r}get pressure(){return this.z}set(t=this.x,n=this.y,r=this.z){return this.x=t,this.y=n,this.z=r,this}setTo({x:t=0,y:n=0,z:r=1}){return this.x=t,this.y=n,this.z=r,this}rot(t){if(t===0)return this;const{x:n,y:r}=this,s=Math.sin(t),o=Math.cos(t);return this.x=n*o-r*s,this.y=n*s+r*o,this}rotWith(t,n){if(n===0)return this;const r=this.x-t.x,s=this.y-t.y,o=Math.sin(n),a=Math.cos(n);return this.x=t.x+(r*a-s*o),this.y=t.y+(r*o+s*a),this}clone(){const{x:t,y:n,z:r}=this;return new ie(t,n,r)}sub(t){return this.x-=t.x,this.y-=t.y,this}subXY(t,n){return this.x-=t,this.y-=n,this}subScalar(t){return this.x-=t,this.y-=t,this}add(t){return this.x+=t.x,this.y+=t.y,this}addXY(t,n){return this.x+=t,this.y+=n,this}addScalar(t){return this.x+=t,this.y+=t,this}clamp(t,n){return this.x=Math.max(this.x,t),this.y=Math.max(this.y,t),n!==void 0&&(this.x=Math.min(this.x,n),this.y=Math.min(this.y,n)),this}div(t){return this.x/=t,this.y/=t,this}divV(t){return this.x/=t.x,this.y/=t.y,this}mul(t){return this.x*=t,this.y*=t,this}mulV(t){return this.x*=t.x,this.y*=t.y,this}abs(){return this.x=Math.abs(this.x),this.y=Math.abs(this.y),this}nudge(t,n){const r=ie.Tan(t,this);return this.add(r.mul(n))}neg(){return this.x*=-1,this.y*=-1,this}cross(t){return this.x=this.y*t.z-this.z*t.y,this.y=this.z*t.x-this.x*t.z,this}dpr(t){return ie.Dpr(this,t)}cpr(t){return ie.Cpr(this,t)}len2(){return ie.Len2(this)}len(){return ie.Len(this)}pry(t){return ie.Pry(this,t)}per(){const{x:t,y:n}=this;return this.x=n,this.y=-t,this}uni(){return ie.Uni(this)}tan(t){return ie.Tan(this,t)}dist(t){return ie.Dist(this,t)}distanceToLineSegment(t,n){return ie.DistanceToLineSegment(t,n,this)}slope(t){return ie.Slope(this,t)}snapToGrid(t){return this.x=Math.round(this.x/t)*t,this.y=Math.round(this.y/t)*t,this}angle(t){return ie.Angle(this,t)}toAngle(){return ie.ToAngle(this)}lrp(t,n){return this.x=this.x+(t.x-this.x)*n,this.y=this.y+(t.y-this.y)*n,this}equals(t){return ie.Equals(this,t)}equalsXY(t,n){return ie.EqualsXY(this,t,n)}norm(){const t=this.len();return this.x=t===0?0:this.x/t,this.y=t===0?0:this.y/t,this}toFixed(){return ie.ToFixed(this)}toString(){return ie.ToString(ie.ToFixed(this))}toJson(){return ie.ToJson(this)}toArray(){return ie.ToArray(this)}static Add(t,n){return new ie(t.x+n.x,t.y+n.y)}static AddXY(t,n,r){return new ie(t.x+n,t.y+r)}static Sub(t,n){return new ie(t.x-n.x,t.y-n.y)}static SubXY(t,n,r){return new ie(t.x-n,t.y-r)}static AddScalar(t,n){return new ie(t.x+n,t.y+n)}static SubScalar(t,n){return new ie(t.x-n,t.y-n)}static Div(t,n){return new ie(t.x/n,t.y/n)}static Mul(t,n){return new ie(t.x*n,t.y*n)}static DivV(t,n){return new ie(t.x/n.x,t.y/n.y)}static MulV(t,n){return new ie(t.x*n.x,t.y*n.y)}static Neg(t){return new ie(-t.x,-t.y)}static Per(t){return new ie(t.y,-t.x)}static Dist2(t,n){return ie.Sub(t,n).len2()}static Abs(t){return new ie(Math.abs(t.x),Math.abs(t.y))}static Dist(t,n){return Math.hypot(t.y-n.y,t.x-n.x)}static Dpr(t,n){return t.x*n.x+t.y*n.y}static Cross(t,n){return new ie(t.y*n.z-t.z*n.y,t.z*n.x-t.x*n.z)}static Cpr(t,n){return t.x*n.y-n.x*t.y}static Len2(t){return t.x*t.x+t.y*t.y}static Len(t){return Math.hypot(t.x,t.y)}static Pry(t,n){return ie.Dpr(t,n)/ie.Len(n)}static Uni(t){return ie.Div(t,ie.Len(t))}static Tan(t,n){return ie.Uni(ie.Sub(t,n))}static Min(t,n){return new ie(Math.min(t.x,n.x),Math.min(t.y,n.y))}static Max(t,n){return new ie(Math.max(t.x,n.x),Math.max(t.y,n.y))}static From({x:t,y:n,z:r=1}){return new ie(t,n,r)}static FromArray(t){return new ie(t[0],t[1])}static Rot(t,n=0){const r=Math.sin(n),s=Math.cos(n);return new ie(t.x*s-t.y*r,t.x*r+t.y*s)}static RotWith(t,n,r){const s=t.x-n.x,o=t.y-n.y,a=Math.sin(r),i=Math.cos(r);return new ie(n.x+(s*i-o*a),n.y+(s*a+o*i))}static NearestPointOnLineThroughPoint(t,n,r){return ie.Mul(n,ie.Sub(r,t).pry(n)).add(t)}static NearestPointOnLineSegment(t,n,r,s=!0){const o=ie.Tan(n,t),a=ie.Add(t,ie.Mul(o,ie.Sub(r,t).pry(o)));if(s){if(a.x<Math.min(t.x,n.x))return ie.Cast(t.x<n.x?t:n);if(a.x>Math.max(t.x,n.x))return ie.Cast(t.x>n.x?t:n);if(a.y<Math.min(t.y,n.y))return ie.Cast(t.y<n.y?t:n);if(a.y>Math.max(t.y,n.y))return ie.Cast(t.y>n.y?t:n)}return a}static DistanceToLineThroughPoint(t,n,r){return ie.Dist(r,ie.NearestPointOnLineThroughPoint(t,n,r))}static DistanceToLineSegment(t,n,r,s=!0){return ie.Dist(r,ie.NearestPointOnLineSegment(t,n,r,s))}static Snap(t,n=1){return new ie(Math.round(t.x/n)*n,Math.round(t.y/n)*n)}static Cast(t){return t instanceof ie?t:ie.From(t)}static Slope(t,n){return t.x===n.y?NaN:(t.y-n.y)/(t.x-n.x)}static Angle(t,n){return Math.atan2(n.y-t.y,n.x-t.x)}static Lrp(t,n,r){return ie.Sub(n,t).mul(r).add(t)}static Med(t,n){return new ie((t.x+n.x)/2,(t.y+n.y)/2)}static Equals(t,n){return Math.abs(t.x-n.x)<1e-4&&Math.abs(t.y-n.y)<1e-4}static EqualsXY(t,n,r){return t.x===n&&t.y===r}static Clockwise(t,n,r){return(r.x-t.x)*(n.y-t.y)-(n.x-t.x)*(r.y-t.y)<0}static Rescale(t,n){const r=ie.Len(t);return new ie(n*t.x/r,n*t.y/r)}static ScaleWithOrigin(t,n,r){return ie.Sub(t,r).mul(n).add(r)}static ToFixed(t,n=2){return new ie(+t.x.toFixed(n),+t.y.toFixed(n),+t.z.toFixed(n))}static Nudge(t,n,r){return ie.Add(t,ie.Tan(n,t).mul(r))}static ToString(t){return`${t.x}, ${t.y}`}static ToAngle(t){let n=Math.atan2(t.y,t.x);return n<0&&(n+=Math.PI*2),n}static FromAngle(t,n=1){return new ie(Math.cos(t)*n,Math.sin(t)*n)}static ToArray(t){return[t.x,t.y,t.z]}static ToJson(t){const{x:n,y:r,z:s}=t;return{x:n,y:r,z:s}}static Average(t){const n=t.length,r=new ie(0,0);for(let s=0;s<n;s++)r.add(t[s]);return r.div(n)}static Clamp(t,n,r){return r===void 0?new ie(Math.min(Math.max(t.x,n)),Math.min(Math.max(t.y,n))):new ie(Math.min(Math.max(t.x,n),r),Math.min(Math.max(t.y,n),r))}static PointsBetween(t,n,r=6){const s=[];for(let o=0;o<r;o++){const a=xr.easeInQuad(o/(r-1)),i=ie.Lrp(t,n,a);i.z=Math.min(1,.5+Math.abs(.5-GB(a))*.65),s.push(i)}return s}static SnapToGrid(t,n=8){return new ie(Math.round(t.x/n)*n,Math.round(t.y/n)*n)}};const GB=e=>e<.5?2*e*e:-1+(4-2*e)*e;var It;let xe=(It=class{constructor(t=0,n=0,r=0,s=0){m(this,"x",0);m(this,"y",0);m(this,"w",0);m(this,"h",0);this.x=t,this.y=n,this.w=r,this.h=s}get point(){return new P(this.x,this.y)}set point(t){this.x=t.x,this.y=t.y}get minX(){return this.x}set minX(t){this.x=t}get midX(){return this.x+this.w/2}get maxX(){return this.x+this.w}get minY(){return this.y}set minY(t){this.y=t}get midY(){return this.y+this.h/2}get maxY(){return this.y+this.h}get width(){return this.w}set width(t){this.w=t}get height(){return this.h}set height(t){this.h=t}get aspectRatio(){return this.width/this.height}get center(){return new P(this.midX,this.midY)}set center(t){this.minX=t.x-this.width/2,this.minY=t.y-this.height/2}get corners(){return[new P(this.minX,this.minY),new P(this.maxX,this.minY),new P(this.maxX,this.maxY),new P(this.minX,this.maxY)]}get snapPoints(){return[new P(this.minX,this.minY),new P(this.maxX,this.minY),new P(this.maxX,this.maxY),new P(this.minX,this.maxY),this.center]}get sides(){const{corners:t}=this;return[[t[0],t[1]],[t[1],t[2]],[t[2],t[3]],[t[3],t[0]]]}get size(){return new P(this.w,this.h)}toFixed(){return this.x=vg(this.x),this.y=vg(this.y),this.w=vg(this.w),this.h=vg(this.h),this}setTo(t){return this.x=t.x,this.y=t.y,this.w=t.w,this.h=t.h,this}set(t=0,n=0,r=0,s=0){return this.x=t,this.y=n,this.w=r,this.h=s,this}expand(t){const n=Math.min(this.minX,t.minX),r=Math.min(this.minY,t.minY),s=Math.max(this.maxX,t.maxX),o=Math.max(this.maxY,t.maxY);return this.x=n,this.y=r,this.w=s-n,this.h=o-r,this}expandBy(t){return this.x-=t,this.y-=t,this.w+=t*2,this.h+=t*2,this}scale(t){return this.x/=t,this.y/=t,this.w/=t,this.h/=t,this}clone(){const{x:t,y:n,w:r,h:s}=this;return new It(t,n,r,s)}translate(t){return this.x+=t.x,this.y+=t.y,this}snapToGrid(t){const n=Math.round(this.minX/t)*t,r=Math.round(this.minY/t)*t,s=Math.round(this.maxX/t)*t,o=Math.round(this.maxY/t)*t;this.minX=n,this.minY=r,this.width=Math.max(1,s-n),this.height=Math.max(1,o-r)}collides(t){return It.Collides(this,t)}contains(t){return It.Contains(this,t)}includes(t){return It.Includes(this,t)}containsPoint(t,n=0){return It.ContainsPoint(this,t,n)}getHandlePoint(t){switch(t){case"top_left":return new P(this.minX,this.minY);case"top_right":return new P(this.maxX,this.minY);case"bottom_left":return new P(this.minX,this.maxY);case"bottom_right":return new P(this.maxX,this.maxY);case"top":return new P(this.midX,this.minY);case"right":return new P(this.maxX,this.midY);case"bottom":return new P(this.midX,this.maxY);case"left":return new P(this.minX,this.midY)}}toJson(){return{x:this.minX,y:this.minY,w:this.w,h:this.h}}resize(t,n,r){const{minX:s,minY:o,maxX:a,maxY:i}=this;let{minX:l,minY:c,maxX:d,maxY:h}=this;switch(t){case"left":case"top_left":case"bottom_left":{l+=n;break}case"right":case"top_right":case"bottom_right":{d+=n;break}}switch(t){case"top":case"top_left":case"top_right":{c+=r;break}case"bottom":case"bottom_left":case"bottom_right":{h+=r;break}}const u=(d-l)/(a-s),p=(h-c)/(i-o),y=u<0,g=p<0;if(y){const x=d;d=l,l=x}if(g){const x=h;h=c,c=x}this.minX=l,this.minY=c,this.width=Math.abs(d-l),this.height=Math.abs(h-c)}union(t){const n=Math.min(this.minX,t.x),r=Math.min(this.minY,t.y),s=Math.max(this.maxX,t.w+t.x),o=Math.max(this.maxY,t.h+t.y);return this.x=n,this.y=r,this.width=s-n,this.height=o-r,this}static From(t){return new It(t.x,t.y,t.w,t.h)}static FromPoints(t){if(t.length===0)return new It;let n=1/0,r=1/0,s=-1/0,o=-1/0,a;for(let i=0,l=t.length;i<l;i++)a=t[i],n=Math.min(a.x,n),r=Math.min(a.y,r),s=Math.max(a.x,s),o=Math.max(a.y,o);return new It(n,r,s-n,o-r)}static Expand(t,n){const r=Math.min(n.minX,t.minX),s=Math.min(n.minY,t.minY),o=Math.max(n.maxX,t.maxX),a=Math.max(n.maxY,t.maxY);return new It(r,s,o-r,a-s)}static ExpandBy(t,n){return new It(t.minX-n,t.minY-n,t.width+n*2,t.height+n*2)}static Resize(t,n,r,s,o=!1){const{minX:a,minY:i,maxX:l,maxY:c}=t;let{minX:d,minY:h,maxX:u,maxY:p}=t;switch(n){case"left":case"top_left":case"bottom_left":{d+=r;break}case"right":case"top_right":case"bottom_right":{u+=r;break}}switch(n){case"top":case"top_left":case"top_right":{h+=s;break}case"bottom":case"bottom_left":case"bottom_right":{p+=s;break}}const y=(u-d)/(l-a),g=(p-h)/(c-i),x=y<0,w=g<0;if(o){const v=(l-a)/(c-i),k=Math.abs(u-d),C=Math.abs(p-h),_=k*(g<0?1:-1)*(1/v),E=C*(y<0?1:-1)*v,I=v<k/C;switch(n){case"top_left":{I?h=p+_:d=u+E;break}case"top_right":{I?h=p+_:u=d-E;break}case"bottom_right":{I?p=h-_:u=d-E;break}case"bottom_left":{I?p=h-_:d=u+E;break}case"bottom":case"top":{const z=(d+u)/2,A=C*v;d=z-A/2,u=z+A/2;break}case"left":case"right":{const z=(h+p)/2,A=k/v;h=z-A/2,p=z+A/2;break}}}if(x){const v=u;u=d,d=v}if(w){const v=p;p=h,h=v}const S=new It(d,h,Math.abs(u-d),Math.abs(p-h));return{box:S,scaleX:+(S.width/t.width*(y>0?1:-1)).toFixed(5),scaleY:+(S.height/t.height*(g>0?1:-1)).toFixed(5)}}equals(t){return It.Equals(this,t)}static Equals(t,n){return n.x===t.x&&n.y===t.y&&n.w===t.w&&n.h===t.h}zeroFix(){return this.w=Math.max(1,this.w),this.h=Math.max(1,this.h),this}static ZeroFix(t){return new It(t.x,t.y,Math.max(1,t.w),Math.max(1,t.h))}},m(It,"Collides",(t,n)=>!(t.maxX<n.minX||t.minX>n.maxX||t.maxY<n.minY||t.minY>n.maxY)),m(It,"Contains",(t,n)=>t.minX<n.minX&&t.minY<n.minY&&t.maxY>n.maxY&&t.maxX>n.maxX),m(It,"Includes",(t,n)=>It.Collides(t,n)||It.Contains(t,n)),m(It,"ContainsPoint",(t,n,r=0)=>!(n.x<t.minX-r||n.y<t.minY-r||n.x>t.maxX+r||n.y>t.maxY+r)),m(It,"Common",t=>{let n=1/0,r=1/0,s=-1/0,o=-1/0;for(let a=0;a<t.length;a++){const i=t[a];n=Math.min(n,i.minX),r=Math.min(r,i.minY),s=Math.max(s,i.maxX),o=Math.max(o,i.maxY)}return new It(n,r,s-n,o-r)}),m(It,"Sides",(t,n=0)=>{const{corners:r}=t;return[[r[0],r[1]],[r[1],r[2]],[r[2],r[3]],[r[3],r[0]]]}),It);function ZB(e){switch(e){case"top":return"bottom";case"bottom":return"top";case"top_left":return"bottom_left";case"top_right":return"bottom_right";case"bottom_left":return"top_left";case"bottom_right":return"top_right";default:return e}}function QB(e){switch(e){case"left":return"right";case"right":return"left";case"top_left":return"top_right";case"top_right":return"top_left";case"bottom_left":return"bottom_right";case"bottom_right":return"bottom_left";default:return e}}function JB(e){return e==="top_left"||e==="top_right"||e==="bottom_right"||e==="bottom_left"}function Fn(e){return`${O(e.x)},${O(e.y)} `}function Or(e,t){return`${O((e.x+t.x)/2)},${O((e.y+t.y)/2)} `}const lt=Math.PI,ct=lt/2,dt=lt*2,H7=Math.PI/180,eF=Math.sin;function yn(e,t,n){return Math.max(t,typeof n<"u"?Math.min(e,n):e)}function vg(e,t=1e10){return e?Math.round(e*t)/t:0}function sp(e,t,n=1e-6){return Math.abs(e-t)<=n}function Tp(e,t){const n=Math.pow(e-t,2)/Math.pow(e+t,2);return lt*(e+t)*(1+3*n/(10+Math.sqrt(4-3*n)))}function xo(e){return e=e%dt,e<0?e=e+dt:e===0&&(e=0),e}function w1(e,t){return e=xo(e),t=xo(t),e>t&&(t+=dt),t-e}function tF(e,t){return dt-w1(e,t)}function op(e,t){const n=(t-e)%dt;return 2*n%dt-n}function nF(e,t){return op(e,t)}function _w(e){return(dt+e)%dt}function Jm(e,t){const n=dt/t;let r=Math.floor((_w(e)+n/2)/n)*n%dt;return r<lt&&(r+=dt),r>lt&&(r-=dt),r}function xI(e,t){return e===t||sp(e%(Math.PI/2)-t%(Math.PI/2),0)}function rF(e){return e*lt/180}function sF(e){return e*180/lt}function wI(e,t,n,r){return new P(e+n*Math.cos(r),t+n*Math.sin(r))}function B2(e,t,n){const r=e/2,s=t/2,o=[];let a=1/0,i=1/0;for(let l=0;l<n;l++){const c=dt/n,d=-ct+l*c,h=r+r*Math.cos(d),u=s+s*Math.sin(d);h<a&&(a=h),u<i&&(i=u),o.push(new P(h,u))}if(a!==0||i!==0)for(let l=0;l<o.length;l++){const c=o[l];c.x-=a,c.y-=i}return o}function au(e,t,n,r){return e<r&&n<t}function oo(e,t,n,r){const s=Math.max(e,n),o=Math.min(t,r);return s<=o?[s,o]:null}const oF=(e,t,n)=>{const r=dt/e/2,s=Math.floor(e/4)*2,o=e*2-s,a=0,i=Math.floor(e/2)*2,l=Math.cos(-ct+s*r)*t/2,c=Math.cos(-ct+o*r)*t/2,d=Math.sin(-ct+a*r)*n/2,h=Math.sin(-ct+i*r)*n/2;return new xe(0,0,l-c,h-d)};function G7(e,t,n){return(t.x-e.x)*(n.y-e.y)-(n.x-e.x)*(t.y-e.y)}function aa(e,t){let n=0,r,s;for(let o=0;o<t.length;o++)r=t[o],s=t[(o+1)%t.length],r.y<=e.y?s.y>e.y&&G7(r,s,e)>0&&(n+=1):s.y<=e.y&&G7(r,s,e)<0&&(n-=1);return n!==0}function O(e){return+e.toFixed(4)}function ey(e){return+e.toFixed(2)}const Z7=e=>Math.abs(e)<Number.MAX_SAFE_INTEGER,kg=({brush:e,color:t,opacity:n,className:r})=>{const s=b.useRef(null);Th(s,e.x,e.y);const o=O(Math.max(1,e.w)),a=O(Math.max(1,e.h));return f.jsx("svg",{className:"tl-overlays__item",ref:s,children:t?f.jsxs("g",{className:"tl-brush",opacity:n,children:[f.jsx("rect",{width:o,height:a,fill:t,opacity:.75}),f.jsx("rect",{width:o,height:a,fill:"none",stroke:t,opacity:.1})]}):f.jsx("rect",{className:`tl-brush tl-brush__default ${r}`,width:o,height:a})})},aF=({className:e,zoom:t,point:n,color:r,viewport:s,opacity:o=1})=>{const a=b.useRef(null);return Th(a,yn(n.x,s.minX+5/t,s.maxX-5/t),yn(n.y,s.minY+5/t,s.maxY-5/t),1/t,P.Angle(s.center,n)),f.jsxs("svg",{ref:a,className:me("tl-overlays__item",e),children:[f.jsx("use",{href:"#cursor_hint",color:r,strokeWidth:3,stroke:"var(--color-background)"}),f.jsx("use",{href:"#cursor_hint",color:r,opacity:o})]})},iF=({className:e,zoom:t,point:n,color:r,name:s,chatMessage:o})=>{const a=b.useRef(null);return Th(a,n==null?void 0:n.x,n==null?void 0:n.y,1/t),n?f.jsxs("div",{ref:a,className:me("tl-overlays__item",e),children:[f.jsx("svg",{className:"tl-cursor",children:f.jsx("use",{href:"#cursor",color:r})}),o?f.jsxs(f.Fragment,{children:[s&&f.jsx("div",{className:"tl-nametag-title",style:{color:r},children:s}),f.jsx("div",{className:"tl-nametag-chat",style:{backgroundColor:r},children:o})]}):s&&f.jsx("div",{className:"tl-nametag",style:{backgroundColor:r},children:s})]}):null},Q7=b.memo(iF),QS={openWindow:(e,t)=>window.open(e,t,"noopener noreferrer"),refreshPage:()=>window.location.reload(),hardReset:async()=>{var e;return await((e=window.__tldraw__hardReset)==null?void 0:e.call(window))}};function SI(){QS.hardReset()}function lF(){QS.refreshPage()}const cF="https://github.com/tldraw/tldraw/issues/new";function dF(){}const JS=({error:e,editor:t})=>{const n=b.useRef(null),[r,s]=b.useState(!1),[o,a]=b.useState(!1),[i,l]=b.useState(!1),c=e instanceof Error?e.message:String(e),d=e instanceof Error?e.stack:null,h=J("isDarkMode",()=>{try{if(t)return t.user.getIsDarkMode()}catch{}return null},[t]),[u,p]=b.useState(null);b.useLayoutEffect(()=>{var k;h!==null&&p(h);let S=(k=n.current)==null?void 0:k.parentElement,v=!1;for(;S;){if(S.classList.contains("tl-theme__dark")||S.classList.contains("tl-theme__light")){v=!0;break}S=S.parentElement}if(v){p(null);return}p(window.matchMedia("(prefers-color-scheme: dark)").matches)},[h]),b.useEffect(()=>{if(o){const S=setTimeout(()=>{a(!1)},2e3);return()=>clearTimeout(S)}},[o]);const y=()=>{const S=document.createElement("textarea");S.value=d??c,document.body.appendChild(S),S.select(),document.execCommand("copy"),S.remove(),a(!0)},g=()=>{lF()},x=async()=>{SI()},w=new URL(cF);return w.searchParams.set("title",c),w.searchParams.set("labels","bug"),w.searchParams.set("body",`Hey, I ran into an error while using tldraw:

\`\`\`js
${d??c}
\`\`\`

My browser: ${navigator.userAgent}`),f.jsxs("div",{ref:n,className:me("tl-container tl-error-boundary",u===null?"":u?"tl-theme__dark":"tl-theme__light"),children:[f.jsx("div",{className:"tl-error-boundary__overlay"}),t&&f.jsx(ZS,{onError:dF,fallback:()=>null,children:f.jsx(GS.Provider,{value:t,children:f.jsx("div",{className:"tl-overlay tl-error-boundary__canvas",children:f.jsx(v1,{})})})}),f.jsx("div",{className:me("tl-modal","tl-error-boundary__content",{"tl-error-boundary__content__expanded":r&&!i}),children:i?f.jsxs(f.Fragment,{children:[f.jsx("h2",{children:"Are you sure?"}),f.jsx("p",{children:"Resetting your data will delete your drawing and cannot be undone."}),f.jsxs("div",{className:"tl-error-boundary__content__actions",children:[f.jsx("button",{onClick:()=>l(!1),children:"Cancel"}),f.jsx("button",{className:"tl-error-boundary__reset",onClick:x,children:"Reset data"})]})]}):f.jsxs(f.Fragment,{children:[f.jsx("h2",{children:"Something's gone wrong."}),f.jsxs("p",{children:["Sorry, we encountered an error. Please refresh the page to continue. If you keep seeing this error, you can ",f.jsx("a",{href:w.toString(),children:"create a GitHub issue"})," or"," ",f.jsx("a",{href:"https://discord.gg/Cq6cPsTfNy",children:"ask for help on Discord"}),"."]}),r&&f.jsxs("div",{className:"tl-error-boundary__content__error",children:[f.jsx("pre",{children:f.jsx("code",{children:d??c})}),f.jsx("button",{onClick:y,children:o?"Copied!":"Copy"})]}),f.jsxs("div",{className:"tl-error-boundary__content__actions",children:[f.jsx("button",{onClick:()=>s(!r),children:r?"Hide details":"Show details"}),f.jsxs("div",{className:"tl-error-boundary__content__actions__group",children:[f.jsx("button",{className:"tl-error-boundary__reset",onClick:()=>l(!0),children:"Reset data"}),f.jsx("button",{className:"tl-error-boundary__refresh",onClick:g,children:"Refresh Page"})]})]})]})})]})},Sa=2e3,ty=40,Aa=320,Zc=[.1,.25,.5,1,2,4,8],iu=.1,_i=8,hF={isLocked:!1,wheelBehavior:"pan",panSpeed:1,zoomSpeed:1,zoomSteps:[.1,.25,.5,1,2,4,8]},uF=.5,pF=.1,fF=.2,gF=.005,mF=.05,yF=450,xF=200,Ew=6,Lp=4,wF=32,ny={};for(let e=1;e<=Math.ceil(_i);e++)ny[e+"_dark"]=`hash_pattern_zoom_${e}_dark`,ny[e+"_light"]=`hash_pattern_zoom_${e}_light`;const SF={duration:0,easing:xr.easeInOutCubic},j0=.09,J7=[{min:-1,mid:.15,step:64},{min:.05,mid:.375,step:16},{min:.15,mid:1,step:4},{min:.7,mid:2.5,step:1}],bF=6e4,bI=3e3,vF=1200,ev={CAMERA_MOVE:-10},kF=64,CF=620,ko=8,_F=20,EF=({x:e,y:t,z:n,size:r})=>f.jsxs("svg",{className:"tl-grid",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("defs",{children:J7.map(({min:s,mid:o,step:a},i)=>{const l=a*r*n,c=.5+e*n,d=.5+t*n,h=c>0?c%l:l+c%l,u=d>0?d%l:l+d%l,p=n<o?Zm(n,[s,o],[0,1]):1;return f.jsx("pattern",{id:`grid-${a}`,width:l,height:l,patternUnits:"userSpaceOnUse",children:f.jsx("circle",{className:"tl-grid-dot",cx:h,cy:u,r:1,opacity:p})},`grid-pattern-${i}`)})}),J7.map(({step:s},o)=>f.jsx("rect",{width:"100%",height:"100%",fill:`url(#grid-${s})`},`grid-rect-${o}`))]}),IF=({handle:e,isCoarse:t,className:n,zoom:r})=>{const s=(t?20:12)/r,o=(e.type==="create"&&t?3:4)/r;return f.jsxs("g",{className:me("tl-handle",{"tl-handle__virtual":e.type==="virtual","tl-handle__create":e.type==="create"},n),children:[f.jsx("circle",{className:"tl-handle__bg",r:s}),f.jsx("circle",{className:"tl-handle__fg",r:o})]})},PF=({children:e})=>f.jsx("svg",{className:"tl-user-handles tl-overlays__item",children:e}),zF=({shapeId:e})=>f.jsx(Af,{className:"tl-user-indicator__hovered",id:e});function Nf(e,t=!0){const n=e.length;if(n<2)return"";let r=e[0],s=e[1];if(n===2)return`M${Fn(r)}L${Fn(s)}`;let o="";for(let a=2,i=n-1;a<i;a++)r=e[a],s=e[a+1],o+=Or(r,s);return t?`M${Or(e[0],e[1])}Q${Fn(e[1])}${Or(e[1],e[2])}T${o}${Or(e[n-1],e[0])}${Or(e[0],e[1])}Z`:`M${Fn(e[0])}Q${Fn(e[1])}${Or(e[1],e[2])}${e.length>3?"T":""}${o}L${Fn(e[n-1])}`}const tv=({scribble:e,zoom:t,color:n,opacity:r,className:s})=>e.points.length?f.jsx("svg",{className:s&&me("tl-overlays__item",s),children:f.jsx("path",{className:"tl-scribble",d:Nf(e.points,!1),stroke:n??`var(--color-${e.color})`,fill:"none",strokeWidth:8/t,opacity:r??e.opacity})}):null,vI=({bounds:e,rotation:t})=>{const n=b.useRef(null);return Th(n,e.x,e.y,1,t),b.useLayoutEffect(()=>{const r=n.current;r&&(r.style.width=O(Math.max(1,e.width))+"px",r.style.height=O(Math.max(1,e.height))+"px")},[e.width,e.height]),f.jsx("div",{ref:n,className:"tl-selection__bg",draggable:!1})},AF=({bounds:e,rotation:t})=>{const n=H(),r=b.useRef(null),s=J("only selected shape",()=>n.getOnlySelectedShape(),[n]),o=s?n.getShapeUtil(s).expandSelectionOutlinePx(s):0;return Th(r,e==null?void 0:e.x,e==null?void 0:e.y,1,t,{x:-o,y:-o}),e=e.clone().expandBy(o).zeroFix(),f.jsx("svg",{ref:r,className:"tl-overlays__item tl-selection__fg","data-testid":"selection-foreground",children:f.jsx("rect",{className:me("tl-selection__fg__outline"),width:O(e.width),height:O(e.height)})})},NF=()=>f.jsx("div",{className:"tl-shape-error-boundary"}),TF=()=>f.jsx("circle",{cx:4,cy:4,r:8,strokeWidth:"1",stroke:"red"});function LF({points:e,zoom:t}){const n=2.5/t,r=e.reduce((u,p)=>Math.min(u,p.x),1/0),s=e.reduce((u,p)=>Math.max(u,p.x),-1/0),o=e.reduce((u,p)=>Math.min(u,p.y),1/0),a=e.reduce((u,p)=>Math.max(u,p.y),-1/0),i=e.some(u=>u.x===r&&u.y===o);let l,c,d,h;return i?(l=r,c=o,d=s,h=a):(l=r,c=a,d=s,h=o),f.jsxs("g",{className:"tl-snap-line",children:[f.jsx("line",{x1:l,y1:c,x2:d,y2:h}),e.map((u,p)=>f.jsx("g",{transform:`translate(${u.x},${u.y})`,children:f.jsx("path",{className:"tl-snap-point",d:`M ${-n},${-n} L ${n},${n} M ${-n},${n} L ${n},${-n}`})},p))]})}function MF({gaps:e,direction:t,zoom:n}){const r=3.5/n;let s=[-1/0,1/0],o=null;const a=t==="horizontal";for(const l of e){if(o=oo(s[0],s[1],a?l.startEdge[0].y:l.startEdge[0].x,a?l.startEdge[1].y:l.startEdge[1].x),o)s=o;else continue;if(o=oo(s[0],s[1],a?l.endEdge[0].y:l.endEdge[0].x,a?l.endEdge[1].y:l.endEdge[1].x),o)s=o;else continue}if(s===null)return null;const i=(s[0]+s[1])/2;return f.jsx("g",{className:"tl-snap-line",children:e.map(({startEdge:l,endEdge:c},d)=>f.jsx(b.Fragment,{children:a?f.jsxs(f.Fragment,{children:[f.jsx("line",{x1:l[0].x,y1:i-2*r,x2:l[1].x,y2:i+2*r}),f.jsx("line",{x1:c[0].x,y1:i-2*r,x2:c[1].x,y2:i+2*r}),f.jsx("line",{x1:l[0].x,y1:i,x2:c[0].x,y2:i}),f.jsx("line",{x1:(l[0].x+c[0].x)/2,y1:i-r,x2:(l[0].x+c[0].x)/2,y2:i+r})]}):f.jsxs(f.Fragment,{children:[f.jsx("line",{x1:i-2*r,y1:l[0].y,x2:i+2*r,y2:l[1].y}),f.jsx("line",{x1:i-2*r,y1:c[0].y,x2:i+2*r,y2:c[1].y}),f.jsx("line",{x1:i,y1:l[0].y,x2:i,y2:c[0].y}),f.jsx("line",{x1:i-r,y1:(l[0].y+c[0].y)/2,x2:i+r,y2:(l[0].y+c[0].y)/2})]})},d))})}const jF=({className:e,line:t,zoom:n})=>f.jsx("svg",{className:me("tl-overlays__item",e),children:t.type==="points"?f.jsx(LF,{...t,zoom:n}):t.type==="gaps"?f.jsx(MF,{...t,zoom:n}):null}),RF=()=>f.jsx("svg",{width:16,height:16,viewBox:"0 0 16 16",children:f.jsxs("g",{strokeWidth:2,fill:"none",fillRule:"evenodd",children:[f.jsx("circle",{strokeOpacity:.25,cx:8,cy:8,r:7,stroke:"var(--color-text-1)"}),f.jsx("path",{strokeLinecap:"round",d:"M15 8c0-4.5-4.5-7-7-7",stroke:"var(--color-text-1)",children:f.jsx("animateTransform",{attributeName:"transform",type:"rotate",from:"0 8 8",to:"360 8 8",dur:"1s",repeatCount:"indefinite"})})]})}),$F=()=>null,kI=b.createContext({});function OF({overrides:e,children:t}){return f.jsx(kI.Provider,{value:b.useMemo(()=>({Background:HB,SvgDefs:$F,Brush:kg,ZoomBrush:kg,ScreenshotBrush:kg,CollaboratorBrush:kg,Cursor:Q7,CollaboratorCursor:Q7,CollaboratorHint:aF,CollaboratorShapeIndicator:Af,Grid:EF,Scribble:tv,SnapLine:jF,Handles:PF,Handle:IF,CollaboratorScribble:tv,ErrorFallback:JS,ShapeErrorFallback:NF,ShapeIndicatorErrorFallback:TF,Spinner:RF,SelectionBackground:vI,SelectionForeground:AF,HoveredShapeIndicator:zF,OnTheCanvas:null,InFrontOfTheCanvas:null,...e}),[e]),children:t})}function An(){return b.useContext(kI)}const DF=["textarea","input"];function qF(e){const t=H();b.useEffect(()=>{const n=e.current;if(!n)return;const r=s=>{var o;if(s instanceof PointerEvent&&s.pointerType==="pen"){s.isKilled=!0;const{target:a}=s;if(DF.includes((o=a.tagName)==null?void 0:o.toLocaleLowerCase())||t.isIn("select.editing_shape"))return;rt(s)}};return n.addEventListener("touchstart",r),n.addEventListener("touchend",r),()=>{n.removeEventListener("touchstart",r),n.removeEventListener("touchend",r)}},[t,e])}function BF(e,t,n){return Math.max(t,Math.min(e,n))}const Vn={toVector(e,t){return e===void 0&&(e=t),Array.isArray(e)?e:[e,e]},add(e,t){return[e[0]+t[0],e[1]+t[1]]},sub(e,t){return[e[0]-t[0],e[1]-t[1]]},addTo(e,t){e[0]+=t[0],e[1]+=t[1]},subTo(e,t){e[0]-=t[0],e[1]-=t[1]}};function nv(e,t,n){return t===0||Math.abs(t)===1/0?Math.pow(e,n*5):e*t*n/(t+n*e)}function rv(e,t,n,r=.15){return r===0?BF(e,t,n):e<t?-nv(t-e,n-t,r)+t:e>n?+nv(e-n,n-t,r)+n:e}function FF(e,[t,n],[r,s]){const[[o,a],[i,l]]=e;return[rv(t,o,a,r),rv(n,i,l,s)]}function KF(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WF(e){var t=KF(e,"string");return typeof t=="symbol"?t:String(t)}function sr(e,t,n){return t=WF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function rn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sv(Object(n),!0).forEach(function(r){sr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const CI={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function ov(e){return e?e[0].toUpperCase()+e.slice(1):""}const UF=["enter","leave"];function VF(e=!1,t){return e&&!UF.includes(t)}function XF(e,t="",n=!1){const r=CI[e],s=r&&r[t]||t;return"on"+ov(e)+ov(s)+(VF(n,s)?"Capture":"")}const YF=["gotpointercapture","lostpointercapture"];function HF(e){let t=e.substring(2).toLowerCase();const n=!!~t.indexOf("passive");n&&(t=t.replace("passive",""));const r=YF.includes(t)?"capturecapture":"capture",s=!!~t.indexOf(r);return s&&(t=t.replace("capture","")),{device:t,capture:s,passive:n}}function GF(e,t=""){const n=CI[e],r=n&&n[t]||t;return e+r}function _I(e){return"touches"in e}function ZF(e){return _I(e)?"touch":"pointerType"in e?e.pointerType:"mouse"}function QF(e){return Array.from(e.touches).filter(t=>{var n,r;return t.target===e.currentTarget||((n=e.currentTarget)===null||n===void 0||(r=n.contains)===null||r===void 0?void 0:r.call(n,t.target))})}function Iw(e,t){try{const n=t.clientX-e.clientX,r=t.clientY-e.clientY,s=(t.clientX+e.clientX)/2,o=(t.clientY+e.clientY)/2,a=Math.hypot(n,r);return{angle:-(Math.atan2(n,r)*180)/Math.PI,distance:a,origin:[s,o]}}catch{}return null}function JF(e){return QF(e).map(t=>t.identifier)}function av(e,t){const[n,r]=Array.from(e.touches).filter(s=>t.includes(s.identifier));return Iw(n,r)}const iv=40,lv=800;function EI(e){let{deltaX:t,deltaY:n,deltaMode:r}=e;return r===1?(t*=iv,n*=iv):r===2&&(t*=lv,n*=lv),[t,n]}function eK(e){const t={};if("buttons"in e&&(t.buttons=e.buttons),"shiftKey"in e){const{shiftKey:n,altKey:r,metaKey:s,ctrlKey:o}=e;Object.assign(t,{shiftKey:n,altKey:r,metaKey:s,ctrlKey:o})}return t}function ry(e,...t){return typeof e=="function"?e(...t):e}function tK(){}function nK(...e){return e.length===0?tK:e.length===1?e[0]:function(){let t;for(const n of e)t=n.apply(this,arguments)||t;return t}}function cv(e,t){return Object.assign({},t,e||{})}const rK=32;class II{constructor(t,n,r){this.ctrl=t,this.args=n,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(t){this.ctrl.state[this.key]=t}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:t,shared:n,ingKey:r,args:s}=this;n[r]=t._active=t.active=t._blocked=t._force=!1,t._step=[!1,!1],t.intentional=!1,t._movement=[0,0],t._distance=[0,0],t._direction=[0,0],t._delta=[0,0],t._bounds=[[-1/0,1/0],[-1/0,1/0]],t.args=s,t.axis=void 0,t.memo=void 0,t.elapsedTime=t.timeDelta=0,t.direction=[0,0],t.distance=[0,0],t.overflow=[0,0],t._movementBound=[!1,!1],t.velocity=[0,0],t.movement=[0,0],t.delta=[0,0],t.timeStamp=0}start(t){const n=this.state,r=this.config;n._active||(this.reset(),this.computeInitial(),n._active=!0,n.target=t.target,n.currentTarget=t.currentTarget,n.lastOffset=r.from?ry(r.from,n):n.offset,n.offset=n.lastOffset,n.startTime=n.timeStamp=t.timeStamp)}computeValues(t){const n=this.state;n._values=t,n.values=this.config.transform(t)}computeInitial(){const t=this.state;t._initial=t._values,t.initial=t.values}compute(t){const{state:n,config:r,shared:s}=this;n.args=this.args;let o=0;if(t&&(n.event=t,r.preventDefault&&t.cancelable&&n.event.preventDefault(),n.type=t.type,s.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,s.locked=!!document.pointerLockElement,Object.assign(s,eK(t)),s.down=s.pressed=s.buttons%2===1||s.touches>0,o=t.timeStamp-n.timeStamp,n.timeStamp=t.timeStamp,n.elapsedTime=n.timeStamp-n.startTime),n._active){const _=n._delta.map(Math.abs);Vn.addTo(n._distance,_)}this.axisIntent&&this.axisIntent(t);const[a,i]=n._movement,[l,c]=r.threshold,{_step:d,values:h}=n;if(r.hasCustomTransform?(d[0]===!1&&(d[0]=Math.abs(a)>=l&&h[0]),d[1]===!1&&(d[1]=Math.abs(i)>=c&&h[1])):(d[0]===!1&&(d[0]=Math.abs(a)>=l&&Math.sign(a)*l),d[1]===!1&&(d[1]=Math.abs(i)>=c&&Math.sign(i)*c)),n.intentional=d[0]!==!1||d[1]!==!1,!n.intentional)return;const u=[0,0];if(r.hasCustomTransform){const[_,E]=h;u[0]=d[0]!==!1?_-d[0]:0,u[1]=d[1]!==!1?E-d[1]:0}else u[0]=d[0]!==!1?a-d[0]:0,u[1]=d[1]!==!1?i-d[1]:0;this.restrictToAxis&&!n._blocked&&this.restrictToAxis(u);const p=n.offset,y=n._active&&!n._blocked||n.active;y&&(n.first=n._active&&!n.active,n.last=!n._active&&n.active,n.active=s[this.ingKey]=n._active,t&&(n.first&&("bounds"in r&&(n._bounds=ry(r.bounds,n)),this.setup&&this.setup()),n.movement=u,this.computeOffset()));const[g,x]=n.offset,[[w,S],[v,k]]=n._bounds;n.overflow=[g<w?-1:g>S?1:0,x<v?-1:x>k?1:0],n._movementBound[0]=n.overflow[0]?n._movementBound[0]===!1?n._movement[0]:n._movementBound[0]:!1,n._movementBound[1]=n.overflow[1]?n._movementBound[1]===!1?n._movement[1]:n._movementBound[1]:!1;const C=n._active?r.rubberband||[0,0]:[0,0];if(n.offset=FF(n._bounds,n.offset,C),n.delta=Vn.sub(n.offset,p),this.computeMovement(),y&&(!n.last||o>rK)){n.delta=Vn.sub(n.offset,p);const _=n.delta.map(Math.abs);Vn.addTo(n.distance,_),n.direction=n.delta.map(Math.sign),n._direction=n._delta.map(Math.sign),!n.first&&o>0&&(n.velocity=[_[0]/o,_[1]/o],n.timeDelta=o)}}emit(){const t=this.state,n=this.shared,r=this.config;if(t._active||this.clean(),(t._blocked||!t.intentional)&&!t._force&&!r.triggerAllEvents)return;const s=this.handler(rn(rn(rn({},n),t),{},{[this.aliasKey]:t.values}));s!==void 0&&(t.memo=s)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function sK([e,t],n){const r=Math.abs(e),s=Math.abs(t);if(r>s&&r>n)return"x";if(s>r&&s>n)return"y"}class oK extends II{constructor(...t){super(...t),sr(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=Vn.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=Vn.sub(this.state.offset,this.state.lastOffset)}axisIntent(t){const n=this.state,r=this.config;if(!n.axis&&t){const s=typeof r.axisThreshold=="object"?r.axisThreshold[ZF(t)]:r.axisThreshold;n.axis=sK(n._movement,s)}n._blocked=(r.lockDirection||!!r.axis)&&!n.axis||!!r.axis&&r.axis!==n.axis}restrictToAxis(t){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":t[1]=0;break;case"y":t[0]=0;break}}}const aK=e=>e,dv=.15,PI={enabled(e=!0){return e},eventOptions(e,t,n){return rn(rn({},n.shared.eventOptions),e)},preventDefault(e=!1){return e},triggerAllEvents(e=!1){return e},rubberband(e=0){switch(e){case!0:return[dv,dv];case!1:return[0,0];default:return Vn.toVector(e)}},from(e){if(typeof e=="function")return e;if(e!=null)return Vn.toVector(e)},transform(e,t,n){const r=e||n.shared.transform;return this.hasCustomTransform=!!r,r||aK},threshold(e){return Vn.toVector(e,0)}},iK=0,Tf=rn(rn({},PI),{},{axis(e,t,{axis:n}){if(this.lockDirection=n==="lock",!this.lockDirection)return n},axisThreshold(e=iK){return e},bounds(e={}){if(typeof e=="function")return o=>Tf.bounds(e(o));if("current"in e)return()=>e.current;if(typeof HTMLElement=="function"&&e instanceof HTMLElement)return e;const{left:t=-1/0,right:n=1/0,top:r=-1/0,bottom:s=1/0}=e;return[[t,n],[r,s]]}}),Lf=typeof window<"u"&&window.document&&window.document.createElement;function zI(){return Lf&&"ontouchstart"in window}function lK(){return zI()||Lf&&window.navigator.maxTouchPoints>1}function cK(){return Lf&&"onpointerdown"in window}function dK(){return Lf&&"exitPointerLock"in window.document}function hK(){try{return"constructor"in GestureEvent}catch{return!1}}const $s={isBrowser:Lf,gesture:hK(),touch:zI(),touchscreen:lK(),pointer:cK(),pointerLock:dK()},uK=250,pK=180,fK=.5,gK=50,mK=250,yK=10,hv={mouse:0,touch:0,pen:8};rn(rn({},Tf),{},{device(e,t,{pointer:{touch:n=!1,lock:r=!1,mouse:s=!1}={}}){return this.pointerLock=r&&$s.pointerLock,$s.touch&&n?"touch":this.pointerLock?"mouse":$s.pointer&&!s?"pointer":$s.touch?"touch":"mouse"},preventScrollAxis(e,t,{preventScroll:n}){if(this.preventScrollDelay=typeof n=="number"?n:n||n===void 0&&e?uK:void 0,!(!$s.touchscreen||n===!1))return e||(n!==void 0?"y":void 0)},pointerCapture(e,t,{pointer:{capture:n=!0,buttons:r=1,keys:s=!0}={}}){return this.pointerButtons=r,this.keys=s,!this.pointerLock&&this.device==="pointer"&&n},threshold(e,t,{filterTaps:n=!1,tapsThreshold:r=3,axis:s=void 0}){const o=Vn.toVector(e,n?r:s?1:0);return this.filterTaps=n,this.tapsThreshold=r,o},swipe({velocity:e=fK,distance:t=gK,duration:n=mK}={}){return{velocity:this.transform(Vn.toVector(e)),distance:this.transform(Vn.toVector(t)),duration:n}},delay(e=0){switch(e){case!0:return pK;case!1:return 0;default:return e}},axisThreshold(e){return e?rn(rn({},hv),e):hv},keyboardDisplacement(e=yK){return e}});function AI(e){const[t,n]=e.overflow,[r,s]=e._delta,[o,a]=e._direction;(t<0&&r>0&&o<0||t>0&&r<0&&o>0)&&(e._movement[0]=e._movementBound[0]),(n<0&&s>0&&a<0||n>0&&s<0&&a>0)&&(e._movement[1]=e._movementBound[1])}const xK=30,wK=100;class SK extends II{constructor(...t){super(...t),sr(this,"ingKey","pinching"),sr(this,"aliasKey","da")}init(){this.state.offset=[1,0],this.state.lastOffset=[1,0],this.state._pointerEvents=new Map}reset(){super.reset();const t=this.state;t._touchIds=[],t.canceled=!1,t.cancel=this.cancel.bind(this),t.turns=0}computeOffset(){const{type:t,movement:n,lastOffset:r}=this.state;t==="wheel"?this.state.offset=Vn.add(n,r):this.state.offset=[(1+n[0])*r[0],n[1]+r[1]]}computeMovement(){const{offset:t,lastOffset:n}=this.state;this.state.movement=[t[0]/n[0],t[1]-n[1]]}axisIntent(){const t=this.state,[n,r]=t._movement;if(!t.axis){const s=Math.abs(n)*xK-Math.abs(r);s<0?t.axis="angle":s>0&&(t.axis="scale")}}restrictToAxis(t){this.config.lockDirection&&(this.state.axis==="scale"?t[1]=0:this.state.axis==="angle"&&(t[0]=0))}cancel(){const t=this.state;t.canceled||setTimeout(()=>{t.canceled=!0,t._active=!1,this.compute(),this.emit()},0)}touchStart(t){this.ctrl.setEventIds(t);const n=this.state,r=this.ctrl.touchIds;if(n._active&&n._touchIds.every(o=>r.has(o))||r.size<2)return;this.start(t),n._touchIds=Array.from(r).slice(0,2);const s=av(t,n._touchIds);s&&this.pinchStart(t,s)}pointerStart(t){if(t.buttons!=null&&t.buttons%2!==1)return;this.ctrl.setEventIds(t),t.target.setPointerCapture(t.pointerId);const n=this.state,r=n._pointerEvents,s=this.ctrl.pointerIds;if(n._active&&Array.from(r.keys()).every(a=>s.has(a))||(r.size<2&&r.set(t.pointerId,t),n._pointerEvents.size<2))return;this.start(t);const o=Iw(...Array.from(r.values()));o&&this.pinchStart(t,o)}pinchStart(t,n){const r=this.state;r.origin=n.origin,this.computeValues([n.distance,n.angle]),this.computeInitial(),this.compute(t),this.emit()}touchMove(t){if(!this.state._active)return;const n=av(t,this.state._touchIds);n&&this.pinchMove(t,n)}pointerMove(t){const n=this.state._pointerEvents;if(n.has(t.pointerId)&&n.set(t.pointerId,t),!this.state._active)return;const r=Iw(...Array.from(n.values()));r&&this.pinchMove(t,r)}pinchMove(t,n){const r=this.state,s=r._values[1],o=n.angle-s;let a=0;Math.abs(o)>270&&(a+=Math.sign(o)),this.computeValues([n.distance,n.angle-360*a]),r.origin=n.origin,r.turns=a,r._movement=[r._values[0]/r._initial[0]-1,r._values[1]-r._initial[1]],this.compute(t),this.emit()}touchEnd(t){this.ctrl.setEventIds(t),this.state._active&&this.state._touchIds.some(n=>!this.ctrl.touchIds.has(n))&&(this.state._active=!1,this.compute(t),this.emit())}pointerEnd(t){const n=this.state;this.ctrl.setEventIds(t);try{t.target.releasePointerCapture(t.pointerId)}catch{}n._pointerEvents.has(t.pointerId)&&n._pointerEvents.delete(t.pointerId),n._active&&n._pointerEvents.size<2&&(n._active=!1,this.compute(t),this.emit())}gestureStart(t){t.cancelable&&t.preventDefault();const n=this.state;n._active||(this.start(t),this.computeValues([t.scale,t.rotation]),n.origin=[t.clientX,t.clientY],this.compute(t),this.emit())}gestureMove(t){if(t.cancelable&&t.preventDefault(),!this.state._active)return;const n=this.state;this.computeValues([t.scale,t.rotation]),n.origin=[t.clientX,t.clientY];const r=n._movement;n._movement=[t.scale-1,t.rotation],n._delta=Vn.sub(n._movement,r),this.compute(t),this.emit()}gestureEnd(t){this.state._active&&(this.state._active=!1,this.compute(t),this.emit())}wheel(t){const n=this.config.modifierKey;n&&(Array.isArray(n)?!n.find(r=>t[r]):!t[n])||(this.state._active?this.wheelChange(t):this.wheelStart(t),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this)))}wheelStart(t){this.start(t),this.wheelChange(t)}wheelChange(t){"uv"in t||t.cancelable&&t.preventDefault();const r=this.state;r._delta=[-EI(t)[1]/wK*r.offset[0],0],Vn.addTo(r._movement,r._delta),AI(r),this.state.origin=[t.clientX,t.clientY],this.compute(t),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(t){const n=this.config.device;n&&(t(n,"start",this[n+"Start"].bind(this)),t(n,"change",this[n+"Move"].bind(this)),t(n,"end",this[n+"End"].bind(this)),t(n,"cancel",this[n+"End"].bind(this)),t("lostPointerCapture","",this[n+"End"].bind(this))),this.config.pinchOnWheel&&t("wheel","",this.wheel.bind(this),{passive:!1})}}const bK=rn(rn({},PI),{},{device(e,t,{shared:n,pointer:{touch:r=!1}={}}){if(n.target&&!$s.touch&&$s.gesture)return"gesture";if($s.touch&&r)return"touch";if($s.touchscreen){if($s.pointer)return"pointer";if($s.touch)return"touch"}},bounds(e,t,{scaleBounds:n={},angleBounds:r={}}){const s=a=>{const i=cv(ry(n,a),{min:-1/0,max:1/0});return[i.min,i.max]},o=a=>{const i=cv(ry(r,a),{min:-1/0,max:1/0});return[i.min,i.max]};return typeof n!="function"&&typeof r!="function"?[s(),o()]:a=>[s(a),o(a)]},threshold(e,t,n){return this.lockDirection=n.axis==="lock",Vn.toVector(e,this.lockDirection?[.1,3]:0)},modifierKey(e){return e===void 0?"ctrlKey":e},pinchOnWheel(e=!0){return e}});rn(rn({},Tf),{},{mouseOnly:(e=!0)=>e});class vK extends oK{constructor(...t){super(...t),sr(this,"ingKey","wheeling")}wheel(t){this.state._active||this.start(t),this.wheelChange(t),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}wheelChange(t){const n=this.state;n._delta=EI(t),Vn.addTo(n._movement,n._delta),AI(n),this.compute(t),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(t){t("wheel","",this.wheel.bind(this))}}const kK=Tf;rn(rn({},Tf),{},{mouseOnly:(e=!0)=>e});const e9=new Map,Pw=new Map;function CK(e){e9.set(e.key,e.engine),Pw.set(e.key,e.resolver)}const NI={key:"pinch",engine:SK,resolver:bK},TI={key:"wheel",engine:vK,resolver:kK};function _K(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,o;for(o=0;o<r.length;o++)s=r[o],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function EK(e,t){if(e==null)return{};var n=_K(e,t),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)r=o[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}const IK={target(e){if(e)return()=>"current"in e?e.current:e},enabled(e=!0){return e},window(e=$s.isBrowser?window:void 0){return e},eventOptions({passive:e=!0,capture:t=!1}={}){return{passive:e,capture:t}},transform(e){return e}},PK=["target","eventOptions","window","enabled","transform"];function R0(e={},t){const n={};for(const[r,s]of Object.entries(t))switch(typeof s){case"function":n[r]=s.call(n,e[r],r,e);break;case"object":n[r]=R0(e[r],s);break;case"boolean":s&&(n[r]=e[r]);break}return n}function zK(e,t,n={}){const r=e,{target:s,eventOptions:o,window:a,enabled:i,transform:l}=r,c=EK(r,PK);if(n.shared=R0({target:s,eventOptions:o,window:a,enabled:i,transform:l},IK),t){const d=Pw.get(t);n[t]=R0(rn({shared:n.shared},c),d)}else for(const d in c){const h=Pw.get(d);h&&(n[d]=R0(rn({shared:n.shared},c[d]),h))}return n}class LI{constructor(t,n){sr(this,"_listeners",new Set),this._ctrl=t,this._gestureKey=n}add(t,n,r,s,o){const a=this._listeners,i=GF(n,r),l=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},c=rn(rn({},l),o);t.addEventListener(i,s,c);const d=()=>{t.removeEventListener(i,s,c),a.delete(d)};return a.add(d),d}clean(){this._listeners.forEach(t=>t()),this._listeners.clear()}}class AK{constructor(){sr(this,"_timeouts",new Map)}add(t,n,r=140,...s){this.remove(t),this._timeouts.set(t,window.setTimeout(n,r,...s))}remove(t){const n=this._timeouts.get(t);n&&window.clearTimeout(n)}clean(){this._timeouts.forEach(t=>void window.clearTimeout(t)),this._timeouts.clear()}}class NK{constructor(t){sr(this,"gestures",new Set),sr(this,"_targetEventStore",new LI(this)),sr(this,"gestureEventStores",{}),sr(this,"gestureTimeoutStores",{}),sr(this,"handlers",{}),sr(this,"config",{}),sr(this,"pointerIds",new Set),sr(this,"touchIds",new Set),sr(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),TK(this,t)}setEventIds(t){if(_I(t))return this.touchIds=new Set(JF(t)),this.touchIds;if("pointerId"in t)return t.type==="pointerup"||t.type==="pointercancel"?this.pointerIds.delete(t.pointerId):t.type==="pointerdown"&&this.pointerIds.add(t.pointerId),this.pointerIds}applyHandlers(t,n){this.handlers=t,this.nativeHandlers=n}applyConfig(t,n){this.config=zK(t,n,this.config)}clean(){this._targetEventStore.clean();for(const t of this.gestures)this.gestureEventStores[t].clean(),this.gestureTimeoutStores[t].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...t){const n=this.config.shared,r={};let s;if(!(n.target&&(s=n.target(),!s))){if(n.enabled){for(const a of this.gestures){const i=this.config[a],l=uv(r,i.eventOptions,!!s);if(i.enabled){const c=e9.get(a);new c(this,t,a).bind(l)}}const o=uv(r,n.eventOptions,!!s);for(const a in this.nativeHandlers)o(a,"",i=>this.nativeHandlers[a](rn(rn({},this.state.shared),{},{event:i,args:t})),void 0,!0)}for(const o in r)r[o]=nK(...r[o]);if(!s)return r;for(const o in r){const{device:a,capture:i,passive:l}=HF(o);this._targetEventStore.add(s,a,"",r[o],{capture:i,passive:l})}}}}function Qc(e,t){e.gestures.add(t),e.gestureEventStores[t]=new LI(e,t),e.gestureTimeoutStores[t]=new AK}function TK(e,t){t.drag&&Qc(e,"drag"),t.wheel&&Qc(e,"wheel"),t.scroll&&Qc(e,"scroll"),t.move&&Qc(e,"move"),t.pinch&&Qc(e,"pinch"),t.hover&&Qc(e,"hover")}const uv=(e,t,n)=>(r,s,o,a={},i=!1)=>{var l,c;const d=(l=a.capture)!==null&&l!==void 0?l:t.capture,h=(c=a.passive)!==null&&c!==void 0?c:t.passive;let u=i?r:XF(r,s,d);n&&h&&(u+="Passive"),e[u]=e[u]||[],e[u].push(o)},LK=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function MK(e){const t={},n={},r=new Set;for(let s in e)LK.test(s)?(r.add(RegExp.lastMatch),n[s]=e[s]):t[s]=e[s];return[n,t,r]}function Jc(e,t,n,r,s,o){if(!e.has(n)||!e9.has(r))return;const a=n+"Start",i=n+"End",l=c=>{let d;return c.first&&a in t&&t[a](c),n in t&&(d=t[n](c)),c.last&&i in t&&t[i](c),d};s[r]=l,o[r]=o[r]||{}}function jK(e,t){const[n,r,s]=MK(e),o={};return Jc(s,n,"onDrag","drag",o,t),Jc(s,n,"onWheel","wheel",o,t),Jc(s,n,"onScroll","scroll",o,t),Jc(s,n,"onPinch","pinch",o,t),Jc(s,n,"onMove","move",o,t),Jc(s,n,"onHover","hover",o,t),{handlers:o,config:t,nativeHandlers:r}}function RK(e,t={},n,r){const s=le.useMemo(()=>new NK(e),[]);if(s.applyHandlers(e,r),s.applyConfig(t,n),le.useEffect(s.effect.bind(s)),le.useEffect(()=>s.clean.bind(s),[]),t.target===void 0)return s.bind.bind(s)}function MI(e){return e.forEach(CK),function(n,r){const{handlers:s,nativeHandlers:o,config:a}=jK(n,r||{});return RK(s,a,void 0,o)}}const pv=10,$K=/Mac|iPod|iPhone|iPad/.test(typeof window>"u"?"node":window.navigator.platform);function jI(e){let{deltaY:t,deltaX:n}=e,r=0;if(e.ctrlKey||e.altKey||e.metaKey){const s=Math.sign(e.deltaY),o=Math.abs(e.deltaY);let a=t;o>pv&&(a=pv*s),r=a/100}else e.shiftKey&&!$K&&(n=t,t=0);return{x:-n,y:-t,z:-r}}const OK=MI([TI,NI]);let ed;const DK=e=>ed===void 0?(ed=e,!1):e-ed>120&&e-ed<160?(ed=e,!0):(ed=e,!1);function qK(e){const t=H(),n=b.useMemo(()=>{let r="not sure";const s=({event:g})=>{if(!t.getInstanceState().isFocused||(r="not sure",DK(Date.now())))return;const x=t.getEditingShapeId();if(x){const k=t.getShape(x);if(k&&t.getShapeUtil(k).canScroll(k)){const _=t.getShapePageBounds(x);if(_!=null&&_.containsPoint(t.inputs.currentPagePoint))return}}rt(g);const w=jI(g);if(w.x===0&&w.y===0)return;const S=t.getContainer().getBoundingClientRect(),v={type:"wheel",name:"wheel",delta:w,point:new P(g.clientX,g.clientY).sub({x:S.left,y:S.top}),shiftKey:g.shiftKey,altKey:g.altKey,ctrlKey:g.metaKey||g.ctrlKey};t.dispatch(v)};let o=1,a=1,i=1,l=0;const c=new P,d=new P,h=g=>{const x=e.current;r="not sure";const{event:w,origin:S,da:v}=g;w instanceof WheelEvent||(w.target===x||x!=null&&x.contains(w.target))&&(d.x=S[0],d.y=S[1],c.x=S[0],c.y=S[1],o=v[0],a=t.getZoomLevel(),t.dispatch({type:"pinch",name:"pinch_start",point:{x:S[0],y:S[1],z:t.getZoomLevel()},delta:{x:0,y:0},shiftKey:w.shiftKey,altKey:w.altKey,ctrlKey:w.metaKey||w.ctrlKey}))},u=g=>{if(g&&(r="zooming"),r==="zooming")return;const x=Math.abs(l-o),w=P.Dist(c,d);switch(r){case"not sure":{x>24?r="zooming":w>16&&(r="panning");break}case"panning":{x>64&&(r="zooming");break}}};return{onWheel:s,onPinchStart:h,onPinchEnd:g=>{const x=e.current,{event:w,origin:S,offset:v}=g;if(w instanceof WheelEvent||!(w.target===x||x!=null&&x.contains(w.target)))return;const k=v[0];r="not sure",requestAnimationFrame(()=>{t.dispatch({type:"pinch",name:"pinch_end",point:{x:S[0],y:S[1],z:k},delta:{x:S[0],y:S[1]},shiftKey:w.shiftKey,altKey:w.altKey,ctrlKey:w.metaKey||w.ctrlKey})})},onPinch:g=>{const x=e.current,{event:w,origin:S,offset:v,da:k}=g;if(w instanceof WheelEvent||!(w.target===x||x!=null&&x.contains(w.target)))return;const C=g.type==="gesturechange"||g.type==="gestureend";l=k[0];const _=S[0]-d.x,E=S[1]-d.y;switch(d.x=S[0],d.y=S[1],u(C),r){case"zooming":{i=v[0],t.dispatch({type:"pinch",name:"pinch",point:{x:S[0],y:S[1],z:i},delta:{x:_,y:E},shiftKey:w.shiftKey,altKey:w.altKey,ctrlKey:w.metaKey||w.ctrlKey});break}case"panning":{t.dispatch({type:"pinch",name:"pinch",point:{x:S[0],y:S[1],z:a},delta:{x:_,y:E},shiftKey:w.shiftKey,altKey:w.altKey,ctrlKey:w.metaKey||w.ctrlKey});break}}}}},[t,e]);OK(n,{target:e,eventOptions:{passive:!1},pinch:{from:()=>[t.getZoomLevel(),0],scaleBounds:()=>({from:t.getZoomLevel(),max:8,min:.05})}})}function F2(e,t,n){const r=e.getShape(t),s=e.getShapeHandles(r);return{shape:r,handle:s.find(o=>o.id===n)}}function BK(e,t){const n=H();return b.useMemo(()=>{const r=l=>{if(l.isKilled)return;const c=Qm(l.currentTarget);Pf(c,l);const{shape:d,handle:h}=F2(n,e,t);h&&n.dispatch({type:"pointer",target:"handle",handle:h,shape:d,name:"pointer_down",...qr(l)})};let s,o;return{onPointerDown:r,onPointerMove:l=>{if(l.isKilled||l.clientX===s&&l.clientY===o)return;s=l.clientX,o=l.clientY;const{shape:c,handle:d}=F2(n,e,t);d&&n.dispatch({type:"pointer",target:"handle",handle:d,shape:c,name:"pointer_move",...qr(l)})},onPointerUp:l=>{if(l.isKilled)return;const c=Qm(l.currentTarget);zf(c,l);const{shape:d,handle:h}=F2(n,e,t);h&&n.dispatch({type:"pointer",target:"handle",handle:h,shape:d,name:"pointer_up",...qr(l)})}}},[n,e,t])}var RI="Expected a function",fv=0/0,FK="[object Symbol]",KK=/^\s+|\s+$/g,WK=/^[-+]0x[0-9a-f]+$/i,UK=/^0b[01]+$/i,VK=/^0o[0-7]+$/i,XK=parseInt,YK=typeof Un=="object"&&Un&&Un.Object===Object&&Un,HK=typeof self=="object"&&self&&self.Object===Object&&self,GK=YK||HK||Function("return this")(),ZK=Object.prototype,QK=ZK.toString,JK=Math.max,eW=Math.min,K2=function(){return GK.Date.now()};function tW(e,t,n){var r,s,o,a,i,l,c=0,d=!1,h=!1,u=!0;if(typeof e!="function")throw new TypeError(RI);t=gv(t)||0,sy(n)&&(d=!!n.leading,h="maxWait"in n,o=h?JK(gv(n.maxWait)||0,t):o,u="trailing"in n?!!n.trailing:u);function p(_){var E=r,I=s;return r=s=void 0,c=_,a=e.apply(I,E),a}function y(_){return c=_,i=setTimeout(w,t),d?p(_):a}function g(_){var E=_-l,I=_-c,z=t-E;return h?eW(z,o-I):z}function x(_){var E=_-l,I=_-c;return l===void 0||E>=t||E<0||h&&I>=o}function w(){var _=K2();if(x(_))return S(_);i=setTimeout(w,g(_))}function S(_){return i=void 0,u&&r?p(_):(r=s=void 0,a)}function v(){i!==void 0&&clearTimeout(i),c=0,r=l=s=i=void 0}function k(){return i===void 0?a:S(K2())}function C(){var _=K2(),E=x(_);if(r=arguments,s=this,l=_,E){if(i===void 0)return y(l);if(h)return i=setTimeout(w,t),p(l)}return i===void 0&&(i=setTimeout(w,t)),a}return C.cancel=v,C.flush=k,C}function nW(e,t,n){var r=!0,s=!0;if(typeof e!="function")throw new TypeError(RI);return sy(n)&&(r="leading"in n?!!n.leading:r,s="trailing"in n?!!n.trailing:s),tW(e,t,{leading:r,maxWait:t,trailing:s})}function sy(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function rW(e){return!!e&&typeof e=="object"}function sW(e){return typeof e=="symbol"||rW(e)&&QK.call(e)==FK}function gv(e){if(typeof e=="number")return e;if(sW(e))return fv;if(sy(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=sy(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(KK,"");var n=UK.test(e);return n||VK.test(e)?XK(e.slice(2),n?2:8):WK.test(e)?fv:+e}var oW=nW;const $I=_c(oW);function aW(){const e=H();b.useLayoutEffect(()=>{const t=$I(()=>{e.updateViewportScreenBounds()},200,{trailing:!0});e.updateViewportScreenBounds();const n=setInterval(t,1e3);return window.addEventListener("resize",t),window.addEventListener("scroll",t),()=>{clearInterval(n),window.removeEventListener("resize",t),window.removeEventListener("scroll",t)}},[e])}var nt;let ge=(nt=class{constructor(t,n,r,s,o,a){m(this,"a",1);m(this,"b",0);m(this,"c",0);m(this,"d",1);m(this,"e",0);m(this,"f",0);this.a=t,this.b=n,this.c=r,this.d=s,this.e=o,this.f=a}equals(t){return this.a===t.a&&this.b===t.b&&this.c===t.c&&this.d===t.d&&this.e===t.e&&this.f===t.f}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0,this}multiply(t){const n=t,{a:r,b:s,c:o,d:a,e:i,f:l}=this;return this.a=r*n.a+o*n.b,this.c=r*n.c+o*n.d,this.e=r*n.e+o*n.f+i,this.b=s*n.a+a*n.b,this.d=s*n.c+a*n.d,this.f=s*n.e+a*n.f+l,this}rotate(t,n,r){return t===0?this:n===void 0?this.multiply(nt.Rotate(t)):this.translate(n,r).multiply(nt.Rotate(t)).translate(-n,-r)}translate(t,n){return this.multiply(nt.Translate(t,n))}scale(t,n){return this.multiply(nt.Scale(t,n))}invert(){const{a:t,b:n,c:r,d:s,e:o,f:a}=this,i=t*s-n*r;return this.a=s/i,this.b=n/-i,this.c=r/-i,this.d=t/i,this.e=(s*o-r*a)/-i,this.f=(n*o-t*a)/i,this}applyToPoint(t){return nt.applyToPoint(this,t)}applyToPoints(t){return nt.applyToPoints(this,t)}rotation(){return nt.Rotation(this)}point(){return nt.Point(this)}decomposed(){return nt.Decompose(this)}toCssString(){return nt.toCssString(this)}setTo(t){return Object.assign(this,t),this}decompose(){return nt.Decompose(this)}clone(){return new nt(this.a,this.b,this.c,this.d,this.e,this.f)}static Identity(){return new nt(1,0,0,1,0,0)}static Translate(t,n){return new nt(1,0,0,1,t,n)}static Rotate(t,n,r){if(t===0)return nt.Identity();const s=Math.cos(t),o=Math.sin(t),a=new nt(s,o,-o,s,0,0);return n===void 0?a:nt.Compose(nt.Translate(n,r),a,nt.Translate(-n,-r))}static Multiply(t,n){return{a:t.a*n.a+t.c*n.b,c:t.a*n.c+t.c*n.d,e:t.a*n.e+t.c*n.f+t.e,b:t.b*n.a+t.d*n.b,d:t.b*n.c+t.d*n.d,f:t.b*n.e+t.d*n.f+t.f}}static Inverse(t){const n=t.a*t.d-t.b*t.c;return{a:t.d/n,b:t.b/-n,c:t.c/-n,d:t.a/n,e:(t.d*t.e-t.c*t.f)/-n,f:(t.b*t.e-t.a*t.f)/n}}static Absolute(t){const n=t.a*t.d-t.b*t.c;return{a:t.d/n,b:t.b/-n,c:t.c/-n,d:t.a/n,e:(t.d*t.e-t.c*t.f)/n,f:(t.b*t.e-t.a*t.f)/-n}}static Compose(...t){const n=nt.Identity();for(let r=0,s=t.length;r<s;r++)n.multiply(t[r]);return n}static Point(t){return new P(t.e,t.f)}static Rotation(t){let n;if(t.a!==0||t.c!==0){const r=Math.hypot(t.a,t.c);n=Math.acos(t.a/r)*(t.c>0?-1:1)}else if(t.b!==0||t.d!==0){const r=Math.hypot(t.b,t.d);n=ct+Math.acos(t.b/r)*(t.d>0?-1:1)}else n=0;return _w(n)}static Decompose(t){let n,r,s;if(t.a!==0||t.c!==0){const o=Math.hypot(t.a,t.c);n=o,r=(t.a*t.d-t.b*t.c)/o,s=Math.acos(t.a/o)*(t.c>0?-1:1)}else if(t.b!==0||t.d!==0){const o=Math.hypot(t.b,t.d);n=(t.a*t.d-t.b*t.c)/o,r=o,s=ct+Math.acos(t.b/o)*(t.d>0?-1:1)}else n=0,r=0,s=0;return{x:t.e,y:t.f,scaleX:n,scaleY:r,rotation:_w(s)}}static Smooth(t,n=1e10){return t.a=Math.round(t.a*n)/n,t.b=Math.round(t.b*n)/n,t.c=Math.round(t.c*n)/n,t.d=Math.round(t.d*n)/n,t.e=Math.round(t.e*n)/n,t.f=Math.round(t.f*n)/n,t}static toCssString(t){return`matrix(${O(t.a)}, ${O(t.b)}, ${O(t.c)}, ${O(t.d)}, ${O(t.e)}, ${O(t.f)})`}static applyToPoint(t,n){return new P(t.a*n.x+t.c*n.y+t.e,t.b*n.x+t.d*n.y+t.f,n.z)}static applyToXY(t,n,r){return[t.a*n+t.c*r+t.e,t.b*n+t.d*r+t.f]}static applyToPoints(t,n){return n.map(r=>new P(t.a*r.x+t.c*r.y+t.e,t.b*r.x+t.d*r.y+t.f,r.z))}static applyToBounds(t,n){return new xe(t.e+n.minX,t.f+n.minY,n.width,n.height)}static From(t){return new nt(t.a,t.b,t.c,t.d,t.e,t.f)}static Cast(t){return t instanceof nt?t:nt.From(t)}},m(nt,"Scale",(t,n,r,s)=>{const o=new nt(t,0,0,0,n,0);return r===void 0?o:nt.Compose(nt.Translate(r,s),o,nt.Translate(-r,-s))}),nt);function iW(e=!0){const[t,n]=b.useState(0),r=H();b.useEffect(()=>{if(!e)return;const s=()=>n(o=>o+1);return r.on("tick",s),()=>{r.off("tick",s)}},[r,e])}const lW=et(function({showStroke:t=!0,showVertices:n=!0,showClosestPointOnOutline:r=!0}){const s=H();iW(r);const o=s.getZoomLevel(),a=s.getRenderingShapes(),{inputs:{currentPagePoint:i}}=s;return f.jsx("svg",{style:{position:"absolute",pointerEvents:"none",zIndex:999999999,top:0,left:0,overflow:"visible"},children:a.map(l=>{const c=s.getShape(l.id);if(c.type==="group")return null;const d=s.getShapeGeometry(c),h=s.getShapePageTransform(c),u=s.getPointInShapeSpace(c,i),p=d.nearestPoint(u),y=d.distanceToPoint(u,!0),g=Math.abs(y)*o,x=y<0,{vertices:w}=d;return f.jsxs("g",{transform:h.toCssString(),strokeLinecap:"round",strokeLinejoin:"round",children:[t&&f.jsx("path",{stroke:"red",strokeWidth:"2",fill:"none",opacity:"1",d:d.toSimpleSvgPath()}),n&&w.map((S,v)=>f.jsx("circle",{cx:S.x,cy:S.y,r:"2",fill:`hsl(${Zm(v,[0,w.length-1],[120,200])}, 100%, 50%)`,stroke:"black",strokeWidth:"1"},`v${v}`)),r&&g<150&&f.jsx("line",{x1:p.x,y1:p.y,x2:u.x,y2:u.y,opacity:1-g/150,stroke:x?"goldenrod":"dodgerblue",strokeWidth:"2"})]},l.id+"_outline")})})});var cW=200,t9="__lodash_hash_undefined__",dW=1/0,hW="[object Function]",uW="[object GeneratorFunction]",pW=/[\\^$.*+?()[\]{}|]/g,fW=/^\[object .+?Constructor\]$/,gW=typeof Un=="object"&&Un&&Un.Object===Object&&Un,mW=typeof self=="object"&&self&&self.Object===Object&&self,n9=gW||mW||Function("return this")();function yW(e,t){var n=e?e.length:0;return!!n&&SW(e,t,0)>-1}function xW(e,t,n){for(var r=-1,s=e?e.length:0;++r<s;)if(n(t,e[r]))return!0;return!1}function wW(e,t,n,r){for(var s=e.length,o=n+(r?1:-1);r?o--:++o<s;)if(t(e[o],o,e))return o;return-1}function SW(e,t,n){if(t!==t)return wW(e,bW,n);for(var r=n-1,s=e.length;++r<s;)if(e[r]===t)return r;return-1}function bW(e){return e!==e}function vW(e,t){return e.has(t)}function kW(e,t){return e==null?void 0:e[t]}function CW(e){var t=!1;if(e!=null&&typeof e.toString!="function")try{t=!!(e+"")}catch{}return t}function OI(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var _W=Array.prototype,EW=Function.prototype,DI=Object.prototype,W2=n9["__core-js_shared__"],mv=function(){var e=/[^.]+$/.exec(W2&&W2.keys&&W2.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),qI=EW.toString,r9=DI.hasOwnProperty,IW=DI.toString,PW=RegExp("^"+qI.call(r9).replace(pW,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),zW=_W.splice,AW=s9(n9,"Map"),U2=s9(n9,"Set"),Mp=s9(Object,"create");function fc(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function NW(){this.__data__=Mp?Mp(null):{}}function TW(e){return this.has(e)&&delete this.__data__[e]}function LW(e){var t=this.__data__;if(Mp){var n=t[e];return n===t9?void 0:n}return r9.call(t,e)?t[e]:void 0}function MW(e){var t=this.__data__;return Mp?t[e]!==void 0:r9.call(t,e)}function jW(e,t){var n=this.__data__;return n[e]=Mp&&t===void 0?t9:t,this}fc.prototype.clear=NW;fc.prototype.delete=TW;fc.prototype.get=LW;fc.prototype.has=MW;fc.prototype.set=jW;function Lh(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function RW(){this.__data__=[]}function $W(e){var t=this.__data__,n=S1(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():zW.call(t,n,1),!0}function OW(e){var t=this.__data__,n=S1(t,e);return n<0?void 0:t[n][1]}function DW(e){return S1(this.__data__,e)>-1}function qW(e,t){var n=this.__data__,r=S1(n,e);return r<0?n.push([e,t]):n[r][1]=t,this}Lh.prototype.clear=RW;Lh.prototype.delete=$W;Lh.prototype.get=OW;Lh.prototype.has=DW;Lh.prototype.set=qW;function Mh(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function BW(){this.__data__={hash:new fc,map:new(AW||Lh),string:new fc}}function FW(e){return b1(this,e).delete(e)}function KW(e){return b1(this,e).get(e)}function WW(e){return b1(this,e).has(e)}function UW(e,t){return b1(this,e).set(e,t),this}Mh.prototype.clear=BW;Mh.prototype.delete=FW;Mh.prototype.get=KW;Mh.prototype.has=WW;Mh.prototype.set=UW;function oy(e){var t=-1,n=e?e.length:0;for(this.__data__=new Mh;++t<n;)this.add(e[t])}function VW(e){return this.__data__.set(e,t9),this}function XW(e){return this.__data__.has(e)}oy.prototype.add=oy.prototype.push=VW;oy.prototype.has=XW;function S1(e,t){for(var n=e.length;n--;)if(tU(e[n][0],t))return n;return-1}function YW(e){if(!BI(e)||QW(e))return!1;var t=nU(e)||CW(e)?PW:fW;return t.test(JW(e))}function HW(e,t,n){var r=-1,s=yW,o=e.length,a=!0,i=[],l=i;if(n)a=!1,s=xW;else if(o>=cW){var c=t?null:GW(e);if(c)return OI(c);a=!1,s=vW,l=new oy}else l=t?[]:i;e:for(;++r<o;){var d=e[r],h=t?t(d):d;if(d=n||d!==0?d:0,a&&h===h){for(var u=l.length;u--;)if(l[u]===h)continue e;t&&l.push(h),i.push(d)}else s(l,h,n)||(l!==i&&l.push(h),i.push(d))}return i}var GW=U2&&1/OI(new U2([,-0]))[1]==dW?function(e){return new U2(e)}:rU;function b1(e,t){var n=e.__data__;return ZW(t)?n[typeof t=="string"?"string":"hash"]:n.map}function s9(e,t){var n=kW(e,t);return YW(n)?n:void 0}function ZW(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function QW(e){return!!mv&&mv in e}function JW(e){if(e!=null){try{return qI.call(e)}catch{}try{return e+""}catch{}}return""}function eU(e){return e&&e.length?HW(e):[]}function tU(e,t){return e===t||e!==e&&t!==t}function nU(e){var t=BI(e)?IW.call(e):"";return t==hW||t==uW}function BI(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function rU(){}var sU=eU;const FI=_c(sU);function KI(e){return FI(e)}function oU(){const e=H(),t=b.useMemo(()=>e.store.query.records("instance_presence",()=>({userId:{neq:e.user.getId()}})),[e]),n=uE("userIds",()=>KI(t.get().map(r=>r.userId)).sort(),{isEqual:(r,s)=>{var o;return r.join(",")===((o=s.join)==null?void 0:o.call(s,","))}},[t]);return J(n)}function WI(e){const t=H(),n=b.useMemo(()=>t.store.query.records("instance_presence",()=>({userId:{eq:e}})),[t,e]);return J(`latestPresence:${e}`,()=>n.get().slice().sort((s,o)=>o.lastActivityTimestamp-s.lastActivityTimestamp)[0],[])??null}const aU=et(function(){const t=oU();return f.jsx(f.Fragment,{children:t.map(n=>f.jsx(iU,{collaboratorId:n},n))})}),iU=et(function({collaboratorId:t}){const n=H(),r=WI(t),s=cU(r);if(!(r&&r.currentPageId===n.getCurrentPageId()))return null;switch(s){case"inactive":{const{followingUserId:o,highlightedUserIds:a}=n.getInstanceState();if(!(o===r.userId||a.includes(r.userId)))return null;break}case"idle":{const{highlightedUserIds:o}=n.getInstanceState();if(r.followingUserId===n.user.getId()&&!(r.chatMessage||o.includes(r.userId)))return null;break}}return f.jsx(lU,{latestPresence:r})}),lU=et(function({latestPresence:t}){const n=H(),{CollaboratorBrush:r,CollaboratorScribble:s,CollaboratorCursor:o,CollaboratorHint:a,CollaboratorShapeIndicator:i}=An(),l=n.getZoomLevel(),c=n.getViewportPageBounds(),{userId:d,chatMessage:h,brush:u,scribbles:p,selectedShapeIds:y,userName:g,cursor:x,color:w}=t,S=!(x.x<c.minX-12/l||x.y<c.minY-16/l||x.x>c.maxX-12/l||x.y>c.maxY-16/l);return f.jsxs(f.Fragment,{children:[u&&r?f.jsx(r,{className:"tl-collaborator__brush",brush:u,color:w,opacity:.1},d+"_brush"):null,S&&o?f.jsx(o,{className:"tl-collaborator__cursor",point:x,color:w,zoom:l,name:g!=="New User"?g:null,chatMessage:h},d+"_cursor"):a?f.jsx(a,{className:"tl-collaborator__cursor-hint",point:x,color:w,zoom:l,viewport:c},d+"_cursor_hint"):null,s&&p.length?f.jsx(f.Fragment,{children:p.map(v=>f.jsx(s,{className:"tl-collaborator__scribble",scribble:v,color:w,zoom:l,opacity:v.color==="laser"?.5:.1},d+"_scribble_"+v.id))}):null,i&&y.map(v=>f.jsx(i,{className:"tl-collaborator__shape-indicator",id:v,color:w,opacity:.5},d+"_"+v))]})});function yv(e){return e>bF?"inactive":e>bI?"idle":"active"}function cU(e){const t=b.useRef((e==null?void 0:e.lastActivityTimestamp)??-1),[n,r]=b.useState(()=>yv(Date.now()-t.current));return b.useEffect(()=>{const s=setInterval(()=>{r(yv(Date.now()-t.current))},vF);return()=>clearInterval(s)},[]),e&&(t.current=e.lastActivityTimestamp),n}function UI(e,t){return t===0?e:UI(t,e%t)}function VI(e){const t=e.toString().split(".")[1];if(!t)return 1;const n=Math.pow(10,t.length),r=parseInt(t,10);return n/UI(r,n)}function dU(){const e=H(),t=zn();b.useEffect(()=>_f("useDPRMultiple",()=>{const n=e.getInstanceState().devicePixelRatio;t.style.setProperty("--tl-dpr-multiple",VI(n).toString())}),[e,t])}const XI=et(function({id:t,shape:n,util:r,index:s,backgroundIndex:o,opacity:a,isCulled:i}){const l=H(),{ShapeErrorFallback:c}=An(),d=b.useRef(null),h=b.useRef(null),u=b.useCallback((y,g)=>{var x,w;(x=d.current)==null||x.style.setProperty(y,g),(w=h.current)==null||w.style.setProperty(y,g)},[]);oc("set shape container transform position",()=>{if(!l.getShape(t))return;const g=l.getShapePageTransform(t),x=ge.toCssString(g);u("transform",x)},[l,u]),oc("set shape container clip path",()=>{if(!l.getShape(t))return null;const g=l.getShapeClipPath(t);u("clip-path",g??"none")},[l,u]),oc("set shape height and width",()=>{const y=l.getShape(t);if(!y)return null;const g=l.getShapeGeometry(y).bounds,x=Math.floor(l.getInstanceState().devicePixelRatio*100)/100,w=VI(x),S=g.w%w,v=S===0?g.w:g.w+(w-S),k=g.h%w,C=k===0?g.h:g.h+(w-k);u("width",Math.max(v,w)+"px"),u("height",Math.max(C,w)+"px")},[l]),b.useLayoutEffect(()=>{var y,g;u("opacity",a+""),(y=d.current)==null||y.style.setProperty("z-index",s+""),(g=h.current)==null||g.style.setProperty("z-index",o+"")},[a,s,o,u]);const p=b.useCallback(y=>{l.annotateError(y,{origin:"react.shape",willCrashApp:!1})},[l]);return n?f.jsxs(f.Fragment,{children:[r.backgroundComponent&&f.jsx("div",{ref:h,className:"tl-shape tl-shape-background","data-shape-type":n.type,draggable:!1,children:!i&&f.jsx(Np,{fallback:c,onError:p,children:f.jsx(uU,{shape:n,util:r})})}),f.jsx("div",{ref:d,className:"tl-shape","data-shape-type":n.type,draggable:!1,children:i?f.jsx(pU,{shape:n}):f.jsx(Np,{fallback:c,onError:p,children:f.jsx(hU,{shape:n,util:r})})})]}):null}),hU=b.memo(function({shape:t,util:n}){return f1("InnerShape:"+t.type,()=>n.component(t))},(e,t)=>e.shape.props===t.shape.props&&e.shape.meta===t.shape.meta&&e.util===t.util),uU=b.memo(function({shape:t,util:n}){return f1("InnerShape:"+t.type,()=>{var r;return(r=n.backgroundComponent)==null?void 0:r.call(n,t)})},(e,t)=>e.shape.props===t.shape.props&&e.shape.meta===t.shape.meta),pU=b.memo(function({shape:t}){const r=H().getShapeGeometry(t).bounds;return f.jsx("div",{className:"tl-shape__culled",style:{transform:`translate(${O(r.minX)}px, ${O(r.minY)}px)`,width:Math.max(1,O(r.width)),height:Math.max(1,O(r.height))}})},()=>!0);function v1({className:e}){const t=H(),{Background:n,SvgDefs:r}=An(),s=le.useRef(null),o=le.useRef(null),a=le.useRef(null);aW(),FB(),qB(),qK(s),qF(s),oc("position layers",()=>{const u=o.current;if(!u)return;const p=a.current;if(!p)return;const{x:y,y:g,z:x}=t.getCamera(),w=x>=1?Zm(x,[1,8],[.125,.5],!0):Zm(x,[.1,1],[-2,.125],!0),S=`scale(${O(x)}) translate(${O(y+w)}px,${O(g+w)}px)`;u.style.setProperty("transform",S),p.style.setProperty("transform",S)},[t]);const i=DB(),l=J("shapeSvgDefs",()=>{const u=new Map;for(const p of wB(t.shapeUtils)){if(!p)return;const y=p.getCanvasSvgDefs();for(const{key:g,component:x}of y)u.has(g)||u.set(g,f.jsx(x,{},g))}return[...u.values()]},[t]),c=J("debug_shapes",()=>Pt.hideShapes.get(),[Pt]),d=J("debug_svg",()=>Pt.debugSvg.get(),[Pt]),h=J("debug_geometry",()=>Pt.debugGeometry.get(),[Pt]);return f.jsxs("div",{ref:s,draggable:!1,className:me("tl-canvas",e),"data-testid":"canvas",...i,children:[n&&f.jsx(n,{}),f.jsx(fU,{}),f.jsx(NU,{}),f.jsx("svg",{className:"tl-svg-context",children:f.jsxs("defs",{children:[l,xv&&f.jsx(xv,{}),f.jsx(IU,{}),f.jsx(PU,{}),f.jsx(zU,{}),r&&f.jsx(r,{})]})}),f.jsxs("div",{ref:o,className:"tl-html-layer tl-shapes",draggable:!1,children:[f.jsx(MU,{}),f.jsx(LU,{}),c?null:d?f.jsx(vU,{}):f.jsx(kU,{})]}),f.jsxs("div",{className:"tl-fixed-layer tl-overlays",children:[f.jsxs("div",{ref:a,className:"tl-html-layer",children:[h?f.jsx(lW,{}):null,f.jsx(SU,{}),f.jsx(mU,{}),f.jsx(gU,{}),f.jsx(yU,{}),f.jsx(CU,{}),f.jsx(_U,{}),f.jsx(EU,{}),f.jsx(xU,{}),f.jsx(TU,{}),f.jsx(aU,{})]}),f.jsx(jU,{})]})]})}function fU(){const e=H(),t=J("gridSize",()=>e.getDocumentSettings().gridSize,[e]),{x:n,y:r,z:s}=J("camera",()=>e.getCamera(),[e]),o=J("isGridMode",()=>e.getInstanceState().isGridMode,[e]),{Grid:a}=An();return a&&o?f.jsx(a,{x:n,y:r,z:s,size:t}):null}function gU(){const e=H(),t=J("scribbles",()=>e.getInstanceState().scribbles,[e]),n=J("zoomLevel",()=>e.getZoomLevel(),[e]),{Scribble:r}=An();return r&&t.length?f.jsx(f.Fragment,{children:t.map(s=>f.jsx(r,{className:"tl-user-scribble",scribble:s,zoom:n},s.id))}):null}function mU(){const e=H(),t=J("brush",()=>e.getInstanceState().brush,[e]),{Brush:n}=An();return n&&t?f.jsx(n,{className:"tl-user-brush",brush:t}):null}function yU(){const e=H(),t=J("zoomBrush",()=>e.getInstanceState().zoomBrush,[e]),{ZoomBrush:n}=An();return n&&t?f.jsx(n,{className:"tl-user-brush tl-zoom-brush",brush:t}):null}function xU(){const e=H(),t=J("snapLines",()=>e.snaps.getLines(),[e]),n=J("zoomLevel",()=>e.getZoomLevel(),[e]),{SnapLine:r}=An();return r&&t.length>0?f.jsx(f.Fragment,{children:t.map(s=>f.jsx(r,{className:"tl-user-snapline",line:s,zoom:n},s.id))}):null}const wU=48;function SU(){const e=H(),{Handles:t}=An(),n=J("zoomLevel",()=>e.getZoomLevel(),[e]),r=J("coarse pointer",()=>e.getInstanceState().isCoarsePointer,[e]),s=J("onlySelectedShape",()=>e.getOnlySelectedShape(),[e]),o=J("isChangingStyle",()=>e.getInstanceState().isChangingStyle,[e]),a=J("isChangingStyle",()=>e.getInstanceState().isReadonly,[e]),i=J("handles",()=>{const d=e.getOnlySelectedShape();if(d)return e.getShapeHandles(d)},[e]),l=J("transform",()=>{const d=e.getOnlySelectedShape();if(d)return e.getShapePageTransform(d)},[e]);if(!t||!s||o||a||!i||!l)return null;const c=[];for(let d=0,h=i[d];d<i.length;d++,h=i[d]){if(h.type!=="vertex"){const u=i[d-1],p=i[d+1];if(u&&p&&Math.hypot(u.y-p.y,u.x-p.x)<wU/n)continue}c.push(h)}return c.sort(d=>d.type==="vertex"?1:-1),f.jsx(t,{children:f.jsx("g",{transform:ge.toCssString(l),children:c.map(d=>f.jsx(bU,{shapeId:s.id,handle:d,zoom:n,isCoarse:r},d.id))})})}function bU({shapeId:e,handle:t,zoom:n,isCoarse:r}){const s=BK(e,t.id),{Handle:o}=An();return o?f.jsx("g",{"aria-label":"handle",transform:`translate(${t.x}, ${t.y})`,...s,children:f.jsx(o,{shapeId:e,handle:t,zoom:n,isCoarse:r})}):null}function vU(){const e=H(),t=J("rendering shapes",()=>e.getRenderingShapes(),[e]);return f.jsx(f.Fragment,{children:t.map(n=>f.jsxs(le.Fragment,{children:[f.jsx(XI,{...n}),f.jsx(AU,{id:n.id})]},n.id+"_fragment"))})}function kU(){const e=H(),t=J("rendering shapes",()=>e.getRenderingShapes(),[e]);return f.jsx(f.Fragment,{children:t.map(n=>f.jsx(XI,{...n},n.id+"_shape"))})}function CU(){const e=H(),t=J("selectedShapeIds",()=>e.getCurrentPageState().selectedShapeIds,[e]);return J("should display selected ids",()=>e.isInAny("select.idle","select.brushing","select.scribble_brushing","select.editing_shape","select.pointing_shape","select.pointing_selection","select.pointing_handle")&&!e.getInstanceState().isChangingStyle,[e])?f.jsx(f.Fragment,{children:t.map(r=>f.jsx(Af,{className:"tl-user-indicator__selected",id:r},r+"_indicator"))}):null}const _U=function(){const t=H(),{HoveredShapeIndicator:n}=An(),r=J("coarse pointer",()=>t.getInstanceState().isCoarsePointer,[t]),s=J("hovering canvas",()=>t.getInstanceState().isHoveringCanvas,[t]),o=J("hovered id",()=>t.getCurrentPageState().hoveredShapeId,[t]);return r||!s||!o||!n?null:f.jsx(n,{shapeId:o})},EU=et(function(){const t=H(),n=Ym(t.getHintingShapeIds());return n.length?f.jsx(f.Fragment,{children:n.map(r=>f.jsx(Af,{className:"tl-user-indicator__hint",id:r},r+"_hinting"))}):null});function xv(){return f.jsxs("g",{id:"cursor",children:[f.jsxs("g",{fill:"rgba(0,0,0,.2)",transform:"translate(-11,-11)",children:[f.jsx("path",{d:"m12 24.4219v-16.015l11.591 11.619h-6.781l-.411.124z"}),f.jsx("path",{d:"m21.0845 25.0962-3.605 1.535-4.682-11.089 3.686-1.553z"})]}),f.jsxs("g",{fill:"white",transform:"translate(-12,-12)",children:[f.jsx("path",{d:"m12 24.4219v-16.015l11.591 11.619h-6.781l-.411.124z"}),f.jsx("path",{d:"m21.0845 25.0962-3.605 1.535-4.682-11.089 3.686-1.553z"})]}),f.jsxs("g",{fill:"currentColor",transform:"translate(-12,-12)",children:[f.jsx("path",{d:"m19.751 24.4155-1.844.774-3.1-7.374 1.841-.775z"}),f.jsx("path",{d:"m13 10.814v11.188l2.969-2.866.428-.139h4.768z"})]})]})}function IU(){return f.jsx("path",{id:"cursor_hint",fill:"currentColor",d:"M -2,-5 2,0 -2,5 Z"})}function PU(){return f.jsx("marker",{id:"arrowhead-dot",className:"tl-arrow-hint",refX:"3.0",refY:"3.0",orient:"0",children:f.jsx("circle",{cx:"3",cy:"3",r:"2",strokeDasharray:"100%"})})}function zU(){return f.jsxs("marker",{id:"arrowhead-cross",className:"tl-arrow-hint",refX:"3.0",refY:"3.0",orient:"auto",children:[f.jsx("line",{x1:"1.5",y1:"1.5",x2:"4.5",y2:"4.5",strokeDasharray:"100%"}),f.jsx("line",{x1:"1.5",y1:"4.5",x2:"4.5",y2:"1.5",strokeDasharray:"100%"})]})}const AU=et(function({id:t}){const n=H(),r=n.getShape(t),[s,o]=le.useState(""),a=(r==null?void 0:r.parentId)===n.getCurrentPageId();return le.useEffect(()=>{if(!a)return;let i=null;const l=_f("shape to svg",async()=>{const c=Math.random();i=c;const d=n.getShapePageBounds(t),h=await n.getSvg([t],{padding:0});h&&d&&i===c&&(h.style.setProperty("overflow","visible"),h.setAttribute("preserveAspectRatio","xMidYMin slice"),h.style.setProperty("transform",`translate(${d.x}px, ${d.y+d.h+12}px)`),h.style.setProperty("border","1px solid black"),o(h==null?void 0:h.outerHTML))});return()=>{i=null,l()}},[n,t,a]),a?f.jsx("div",{style:{paddingTop:12,position:"absolute"},children:f.jsx("div",{style:{display:"flex"},dangerouslySetInnerHTML:{__html:s}})}):null});function NU(){const e=J("debugging ui log",()=>Pt.logMessages.get(),[Pt]);return e.length?f.jsx("div",{className:"debug__ui-logger",children:e.map((t,n)=>{const r=typeof t=="string"?t:JSON.stringify(t);return f.jsx("div",{className:"debug__ui-logger__line",children:r},n)})}):null}function TU(){const e=H(),t=J("selection rotation",()=>e.getSelectionRotation(),[e]),n=J("selection bounds",()=>e.getSelectionRotatedPageBounds(),[e]),{SelectionForeground:r}=An();return!n||!r?null:f.jsx(r,{bounds:n,rotation:t})}function LU(){const e=H(),t=J("selection rotation",()=>e.getSelectionRotation(),[e]),n=J("selection bounds",()=>e.getSelectionRotatedPageBounds(),[e]),{SelectionBackground:r}=An();return!n||!r?null:f.jsx(r,{bounds:n,rotation:t})}function MU(){const{OnTheCanvas:e}=An();return e?f.jsx(e,{}):null}function jU(){const{InFrontOfTheCanvas:e}=An();return e?f.jsx(e,{}):null}const RU=()=>f.jsx(CP,{children:"Connecting..."});function bt(){return nl()}const YI="TLDRAW_USER_DATA_v3",HI=Pi({id:za,name:za.nullable().optional(),locale:za.nullable().optional(),color:za.nullable().optional(),isDarkMode:Ol.nullable().optional(),animationSpeed:zr.nullable().optional(),edgeScrollSpeed:zr.nullable().optional(),isSnapMode:Ol.nullable().optional()}),lu={AddAnimationSpeed:1,AddIsSnapMode:2,MakeFieldsNullable:3,AddEdgeScrollSpeed:4},ay=DS({currentVersion:lu.AddEdgeScrollSpeed,migrators:{[lu.AddAnimationSpeed]:{up:e=>({...e,animationSpeed:1}),down:({animationSpeed:e,...t})=>t},[lu.AddIsSnapMode]:{up:e=>({...e,isSnapMode:!1}),down:({isSnapMode:e,...t})=>t},[lu.MakeFieldsNullable]:{up:e=>e,down:e=>({id:e.id,name:e.name??Os.name,locale:e.locale??Os.locale,color:e.color??Os.color,isDarkMode:e.isDarkMode??Os.isDarkMode,animationSpeed:e.animationSpeed??Os.animationSpeed,isSnapMode:e.isSnapMode??Os.isSnapMode})},[lu.AddEdgeScrollSpeed]:{up:e=>({...e,edgeScrollSpeed:1}),down:({edgeScrollSpeed:e,...t})=>t}}}),wv=["#FF802B","#EC5E41","#F2555A","#F04F88","#E34BA9","#BD54C6","#9D5BD2","#7B66DC","#02B1CC","#11B3A3","#39B178","#55B467"];function $U(){return wv[Math.floor(Math.random()*wv.length)]}function OU(){var e,t;return typeof window>"u"?!1:((t=(e=window.matchMedia)==null?void 0:e.call(window,"(prefers-color-scheme: dark)"))==null?void 0:t.matches)??!1}function DU(){var e,t;return typeof window>"u"?!1:((t=(e=window.matchMedia)==null?void 0:e.call(window,"(prefers-reduced-motion: reduce)"))==null?void 0:t.matches)??!1}const Os=Object.freeze({name:"New User",locale:dB(),color:$U(),isDarkMode:!1,edgeScrollSpeed:1,animationSpeed:DU()?0:1,isSnapMode:!1});function Cg(){return{id:bt()}}function GI(e){if(e===null||typeof e!="object"||!("version"in e)||!("user"in e)||typeof e.version!="number")return Cg();const t=_E({value:e.user,fromVersion:e.version,toVersion:ay.currentVersion??0,migrations:ay});if(t.type==="error")return Cg();try{HI.validate(t.value)}catch{return Cg()}return t.value}function qU(){var t;const e=typeof window>"u"?null:JSON.parse(((t=window==null?void 0:window.localStorage)==null?void 0:t.getItem(YI))||"null")??null;return GI(e)}const Mf=ys("globalUserData",qU());function BU(){typeof window<"u"&&window.localStorage&&window.localStorage.setItem(YI,JSON.stringify({version:ay.currentVersion,user:Mf.get()}))}function FU(e){HI.validate(e),Mf.set(e),BU(),WU()}const KU=typeof process<"u"&&!1,Hd=typeof BroadcastChannel<"u"&&!KU?new BroadcastChannel("tldraw-user-sync"):null;Hd==null||Hd.addEventListener("message",e=>{const t=e.data;(t==null?void 0:t.type)===QI&&(t==null?void 0:t.origin)!==ZI&&Mf.set(GI(t.data))});const ZI=bt(),QI="tldraw-user-preferences-change";function WU(){Hd==null||Hd.postMessage({type:QI,origin:ZI,data:{user:Mf.get(),version:ay.currentVersion}})}function UU(){return Mf.get()}function JI(e={}){return{derivePresenceState:e.derivePresenceState??(()=>oe("presence",()=>null)),userPreferences:e.userPreferences??oe("userPreferences",()=>UU()),setUserPreferences:e.setUserPreferences??FU}}var eP={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function o(l,c,d,h,u){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new s(d,h||l,u),y=n?n+c:c;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],p]:l._events[y].push(p):(l._events[y]=p,l._eventsCount++),l}function a(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function i(){this._events=new r,this._eventsCount=0}i.prototype.eventNames=function(){var c=[],d,h;if(this._eventsCount===0)return c;for(h in d=this._events)t.call(d,h)&&c.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},i.prototype.listeners=function(c){var d=n?n+c:c,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var u=0,p=h.length,y=new Array(p);u<p;u++)y[u]=h[u].fn;return y},i.prototype.listenerCount=function(c){var d=n?n+c:c,h=this._events[d];return h?h.fn?1:h.length:0},i.prototype.emit=function(c,d,h,u,p,y){var g=n?n+c:c;if(!this._events[g])return!1;var x=this._events[g],w=arguments.length,S,v;if(x.fn){switch(x.once&&this.removeListener(c,x.fn,void 0,!0),w){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,h),!0;case 4:return x.fn.call(x.context,d,h,u),!0;case 5:return x.fn.call(x.context,d,h,u,p),!0;case 6:return x.fn.call(x.context,d,h,u,p,y),!0}for(v=1,S=new Array(w-1);v<w;v++)S[v-1]=arguments[v];x.fn.apply(x.context,S)}else{var k=x.length,C;for(v=0;v<k;v++)switch(x[v].once&&this.removeListener(c,x[v].fn,void 0,!0),w){case 1:x[v].fn.call(x[v].context);break;case 2:x[v].fn.call(x[v].context,d);break;case 3:x[v].fn.call(x[v].context,d,h);break;case 4:x[v].fn.call(x[v].context,d,h,u);break;default:if(!S)for(C=1,S=new Array(w-1);C<w;C++)S[C-1]=arguments[C];x[v].fn.apply(x[v].context,S)}}return!0},i.prototype.on=function(c,d,h){return o(this,c,d,h,!1)},i.prototype.once=function(c,d,h){return o(this,c,d,h,!0)},i.prototype.removeListener=function(c,d,h,u){var p=n?n+c:c;if(!this._events[p])return this;if(!d)return a(this,p),this;var y=this._events[p];if(y.fn)y.fn===d&&(!u||y.once)&&(!h||y.context===h)&&a(this,p);else{for(var g=0,x=[],w=y.length;g<w;g++)(y[g].fn!==d||u&&!y[g].once||h&&y[g].context!==h)&&x.push(y[g]);x.length?this._events[p]=x.length===1?x[0]:x:a(this,p)}return this},i.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&a(this,d)):(this._events=new r,this._eventsCount=0),this},i.prototype.off=i.prototype.removeListener,i.prototype.addListener=i.prototype.on,i.prefixed=n,i.EventEmitter=i,e.exports=i})(eP);var tP=eP.exports;function ls({children:e,className:t="",...n}){return f.jsx("svg",{...n,className:`tl-svg-container ${t}`,children:e})}let Ic=class{constructor(t){m(this,"isFilled",!1);m(this,"isClosed",!0);m(this,"isLabel",!1);m(this,"isSnappable",!0);m(this,"_vertices");m(this,"_bounds");m(this,"_snapPoints");m(this,"_area");this.isFilled=t.isFilled,this.isClosed=t.isClosed,this.isSnappable=t.isSnappable??!1,this.isLabel=t.isLabel??!1}hitTestPoint(t,n=0,r=!1){return this.distanceToPoint(t,r)<=n}distanceToPoint(t,n=!1){const r=t.dist(this.nearestPoint(t));return this.isClosed&&(this.isFilled||n)&&aa(t,this.vertices)?-r:r}distanceToLineSegment(t,n){const r=this.nearestPointOnLineSegment(t,n),s=P.DistanceToLineSegment(t,n,r);return this.isClosed&&this.isFilled&&aa(r,this.vertices)?-s:s}hitTestLineSegment(t,n,r=0){return this.distanceToLineSegment(t,n)<=r}nearestPointOnLineSegment(t,n){let r=1/0,s;for(let o=0;o<this.vertices.length;o++){const a=this.vertices[o],i=P.DistanceToLineSegment(t,n,a);i<r&&(r=i,s=a)}if(!s)throw Error("nearest point not found");return s}isPointInBounds(t,n=0){const{bounds:r}=this;return!(t.x<r.minX-n||t.y<r.minY-n||t.x>r.maxX+n||t.y>r.maxY+n)}get vertices(){return this._vertices||(this._vertices=this.getVertices()),this._vertices}getBounds(){return xe.FromPoints(this.vertices)}get bounds(){return this._bounds||(this._bounds=this.getBounds()),this._bounds}get snapPoints(){return this._snapPoints||(this._snapPoints=this.bounds.snapPoints),this._snapPoints}get center(){return this.bounds.center}get area(){return this._area||(this._area=this.getArea()),this._area}getArea(){if(!this.isClosed)return 0;const{vertices:t}=this;let n=0;for(let r=0,s=t.length;r<s;r++){const o=t[r],a=t[(r+1)%s];n+=o.x*a.y-a.x*o.y}return n/2}toSimpleSvgPath(){let t="";const{vertices:n}=this,r=n.length;if(r===0)return t;t+=`M${n[0].x},${n[0].y}`;for(let s=1;s<r;s++)t+=`L${n[s].x},${n[s].y}`;return this.isClosed&&(t+="Z"),t}},zi=class extends Ic{constructor(n){super({...n,isClosed:!0,isFilled:!1});m(this,"children");const{children:r}=n;if(r.length===0)throw Error("Group2d must have at least one child");this.children=r}getVertices(){return this.children.filter(n=>!n.isLabel).flatMap(n=>n.vertices)}nearestPoint(n){let r=1/0,s;const{children:o}=this;if(o.length===0)throw Error("no children");for(const a of o){const i=a.nearestPoint(n),l=i.dist(n);l<r&&(r=l,s=i)}if(!s)throw Error("nearest point not found");return s}distanceToPoint(n,r=!1){return Math.min(...this.children.map((s,o)=>s.distanceToPoint(n,r||o>0)))}hitTestPoint(n,r,s){return!!this.children.filter(o=>!o.isLabel).find(o=>o.hitTestPoint(n,r,s))}hitTestLineSegment(n,r,s){return!!this.children.filter(o=>!o.isLabel).find(o=>o.hitTestLineSegment(n,r,s))}getArea(){return this.children[0].area}toSimpleSvgPath(){let n="";for(const s of this.children)n+=s.toSimpleSvgPath();const r=xe.FromPoints(this.vertices).corners;for(let s=0,o=r.length;s<o;s++){const a=r[s],i=r[(s-1+o)%o],l=a.dist(i),c=r[(s+1)%o],d=a.dist(c),h=a.clone().lrp(i,4/l),u=a,p=a.clone().lrp(c,4/d);n+=`M${h.x},${h.y} L${u.x},${u.y} L${p.x},${p.y} `}return n}};function o9(e,t,n,r){const s=e.x-n.x,o=e.y-n.y,a=r.x-n.x,i=r.y-n.y,l=t.x-e.x,c=t.y-e.y,d=a*o-i*s,h=l*o-c*s,u=i*l-a*c;if(d===0||h===0||u===0)return null;if(u!==0){const p=d/u,y=h/u;if(0<=p&&p<=1&&0<=y&&y<=1)return P.AddXY(e,p*l,p*c)}return null}function k1(e,t,n,r){const s=(t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y),o=2*((t.x-e.x)*(e.x-n.x)+(t.y-e.y)*(e.y-n.y)),a=n.x*n.x+n.y*n.y+e.x*e.x+e.y*e.y-2*(n.x*e.x+n.y*e.y)-r*r,i=o*o-4*s*a;if(i<0||i===0)return null;const l=Math.sqrt(i),c=(-o+l)/(2*s),d=(-o-l)/(2*s);if((c<0||c>1)&&(d<0||d>1))return null;const h=[];return 0<=c&&c<=1&&h.push(P.Lrp(e,t,c)),0<=d&&d<=1&&h.push(P.Lrp(e,t,d)),h.length===0?null:h}function nP(e,t,n){const r=[];let s;for(let o=0,a=n.length-1;o<a;o++)s=o9(e,t,n[o],n[o+1]),s&&r.push(s);return r.length===0?null:r}function VU(e,t,n){const r=[];let s;for(let o=1,a=n.length;o<a+1;o++)s=o9(e,t,n[o-1],n[o%n.length]),s&&r.push(s);return r.length===0?null:r}function XU(e,t,n,r){let s=n.x-e.x,o=n.y-e.y;const a=Math.sqrt(s*s+o*o),i=(a*a-r*r+t*t)/(2*a),l=Math.sqrt(t*t-i*i);return s/=a,o/=a,[new P(e.x+s*i-o*l,e.y+o*i+s*l),new P(e.x+s*i+o*l,e.y+o*i-s*l)]}function Sv(e,t,n){const r=[];let s,o,a;for(let i=0,l=n.length;i<l;i++)s=n[i],o=n[(i+1)%n.length],a=k1(s,o,e,t),a&&r.push(...a);return r.length===0?null:r}function bv(e,t,n){const r=[];let s,o,a;for(let i=1,l=n.length;i<l;i++)s=n[i-1],o=n[i],a=k1(s,o,e,t),a&&r.push(...a);return r.length===0?null:r}function _g(e,t,n){return(n.y-e.y)*(t.x-e.x)>(t.y-e.y)*(n.x-e.x)}function rP(e,t,n,r){return _g(e,n,r)!==_g(t,n,r)&&_g(e,t,n)!==_g(e,t,r)}function zw(e,t){const n=[];let r,s,o,a;for(let i=0,l=e.length;i<l;i++)r=e[i],aa(r,t)&&n.push(r);for(let i=0,l=t.length;i<l;i++)r=t[i],aa(r,e)&&n.push(r);for(let i=0,l=e.length;i<l;i++){r=e[i],s=e[(i+1)%e.length];for(let c=0,d=t.length;c<d;c++){o=t[c],a=t[(c+1)%t.length];const h=o9(r,s,o,a);h!==null&&n.push(h)}}return n.length===0?null:YU(n)}function YU(e){const t=P.Average(e);return e.sort((n,r)=>P.Angle(t,n)-P.Angle(t,r))}function HU(e,t){let n,r,s,o;for(let a=0,i=e.length;a<i;a++){n=e[a],r=e[(a+1)%i];for(let l=0,c=t.length;l<c;l++)if(s=t[l],o=t[(l+1)%c],rP(n,r,s,o))return!0}return!1}let iy=class extends Ic{constructor(n){super({...n,isClosed:!1,isFilled:!1});m(this,"start");m(this,"end");m(this,"d");m(this,"u");m(this,"ul");m(this,"_length");const{start:r,end:s}=n;this.start=r,this.end=s,this.d=r.clone().sub(s),this.u=this.d.clone().uni(),this.ul=this.u.len()}get length(){return this._length?this._length:this.d.len()}midPoint(){return this.start.lrp(this.end,.5)}getVertices(){return[this.start,this.end]}nearestPoint(n){const{start:r,end:s,u:o,ul:a}=this;if(a===0)return r;const i=P.Sub(n,r).dpr(o)/a,l=r.x+o.x*i;if(l<Math.min(r.x,s.x))return r.x<s.x?r:s;if(l>Math.max(r.x,s.x))return r.x>s.x?r:s;const c=r.y+o.y*i;return c<Math.min(r.y,s.y)?r.y<s.y?r:s:c>Math.max(r.y,s.y)?r.y>s.y?r:s:new P(l,c)}hitTestLineSegment(n,r,s){return rP(n,r,this.start,this.end)}},Pc=class extends Ic{constructor(n){super({isClosed:!1,isFilled:!1,...n});m(this,"points");m(this,"_segments");m(this,"_length");const{points:r}=n;this.points=r}get segments(){if(!this._segments){this._segments=[];const{vertices:n}=this;for(let r=0,s=n.length-1;r<s;r++){const o=n[r],a=n[r+1];this._segments.push(new iy({start:o,end:a}))}this.isClosed&&this._segments.push(new iy({start:n[n.length-1],end:n[0]}))}return this._segments}get length(){return this._length||(this._length=this.segments.reduce((n,r)=>n+r.length,0)),this._length}getVertices(){return this.points}nearestPoint(n){const{segments:r}=this;let s=this.points[0],o=1/0,a,i;for(let l=0;l<r.length;l++)a=r[l].nearestPoint(n),i=a.dist(n),i<o&&(s=a,o=i);return s}hitTestLineSegment(n,r,s){return this.segments.some(o=>o.hitTestLineSegment(n,r,s))}},Cn=class extends Pc{constructor(t){super({...t}),this.isClosed=!0}},Fa=class extends Cn{constructor(n){const{x:r=0,y:s=0,width:o,height:a}=n;super({...n,points:[new P(r,s),new P(r+o,s),new P(r+o,s+a),new P(r,s+a)]});m(this,"x");m(this,"y");m(this,"w");m(this,"h");this.x=r,this.y=s,this.w=o,this.h=a}getBounds(){return new xe(this.x,this.y,this.w,this.h)}};var Bu;let Za=(Bu=class{constructor(t){m(this,"canSnap",()=>!0);m(this,"canScroll",()=>!1);m(this,"canUnmount",()=>!0);m(this,"canBind",(t,n)=>!0);m(this,"canEdit",()=>!1);m(this,"canResize",()=>!0);m(this,"canEditInReadOnly",()=>!1);m(this,"canCrop",()=>!1);m(this,"hideResizeHandles",()=>!1);m(this,"hideRotateHandle",()=>!1);m(this,"hideSelectionBoundsBg",()=>!1);m(this,"hideSelectionBoundsFg",()=>!1);m(this,"isAspectRatioLocked",()=>!1);m(this,"onBeforeCreate");m(this,"onBeforeUpdate");m(this,"onDragShapesOver");m(this,"onDragShapesOut");m(this,"onDropShapesOver");m(this,"onResizeStart");m(this,"onResize");m(this,"onResizeEnd");m(this,"onTranslateStart");m(this,"onTranslate");m(this,"onTranslateEnd");m(this,"onRotateStart");m(this,"onRotate");m(this,"onRotateEnd");m(this,"onHandleChange");m(this,"onBindingChange");m(this,"onChildrenChange");m(this,"onDoubleClickHandle");m(this,"onDoubleClickEdge");m(this,"onDoubleClick");m(this,"onClick");m(this,"onEditEnd");this.editor=t}providesBackgroundForChildren(t){return!1}getOutlineSegments(t){return[this.editor.getShapeGeometry(t).vertices]}canReceiveNewChildrenOfType(t,n){return!1}canDropShapes(t,n){return!1}expandSelectionOutlinePx(t){return 0}getCanvasSvgDefs(){return[]}},m(Bu,"props"),m(Bu,"migrations"),m(Bu,"type"),Bu);function GU(e,t,n={}){const{closed:r=!1,snap:s=1,start:o="outset",end:a="outset",lengthRatio:i=2,style:l="dashed"}=n;let c=0,d=0,h=1,u=0,p=0;switch(l){case"dashed":{h=1,c=Math.min(t*i,e/4);break}case"dotted":{h=100,c=t/h;break}default:return{strokeDasharray:"none",strokeDashoffset:"none"}}return r||(o==="outset"?(e+=c/2,p+=c/2):o==="skip"&&(e-=c,p-=c),a==="outset"?e+=c/2:a==="skip"&&(e-=c)),d=Math.floor(e/c/(2*h)),d-=d%s,d<3&&l==="dashed"?e/t<5?(c=e,d=1,u=0):(c=e*.333,u=e*.333):(d=Math.max(d,3),c=e/d/(2*h),r?(p=c/2,u=(e-d*c)/d):u=(e-d*c)/Math.max(1,d-1)),{strokeDasharray:[c,u].join(" "),strokeDashoffset:p.toString()}}function vv({bounds:e,className:t}){const n=H(),r=J("zoom level",()=>n.getZoomLevel(),[n]);return f.jsx("g",{className:t,pointerEvents:"none",strokeLinecap:"round",strokeLinejoin:"round",children:e.sides.map((s,o)=>{const{strokeDasharray:a,strokeDashoffset:i}=GU(s[0].dist(s[1]),1/r,{style:"dashed",lengthRatio:4});return f.jsx("line",{x1:s[0].x,y1:s[0].y,x2:s[1].x,y2:s[1].y,strokeDasharray:a,strokeDashoffset:i},o)})})}var Fu;let ZU=(Fu=class extends Za{constructor(){super(...arguments);m(this,"hideSelectionBoundsFg",()=>!0);m(this,"canBind",()=>!1);m(this,"onChildrenChange",n=>{const r=this.editor.getSortedChildIdsForParent(n.id);if(r.length===0){this.editor.getCurrentPageState().focusedGroupId===n.id&&this.editor.popFocusedGroupId(),this.editor.deleteShapes([n.id]);return}else if(r.length===1){this.editor.getCurrentPageState().focusedGroupId===n.id&&this.editor.popFocusedGroupId(),this.editor.reparentShapes(r,n.parentId),this.editor.deleteShapes([n.id]);return}})}getDefaultProps(){return{}}getGeometry(n){const r=this.editor.getSortedChildIdsForParent(n.id);return r.length===0?new Fa({width:1,height:1,isFilled:!1}):new zi({children:r.map(s=>{const o=this.editor.getShape(s),a=this.editor.getShapeGeometry(s),i=this.editor.getShapeLocalTransform(o).applyToPoints(a.vertices);return a.isClosed?new Cn({points:i,isFilled:!0}):new Pc({points:i})})})}component(n){const r=this.editor.getErasingShapeIds().includes(n.id),{hintingShapeIds:s}=this.editor.getCurrentPageState(),o=s.length>0&&s.some(l=>l!==n.id&&this.editor.isShapeOfType(this.editor.getShape(l),"group")),a=this.editor.getCurrentPageState().focusedGroupId!==n.id;if(!r&&(a||o))return null;const i=this.editor.getShapeGeometry(n).bounds;return f.jsx(ls,{id:n.id,children:f.jsx(vv,{className:"tl-group",bounds:i})})}indicator(n){const r=this.editor.getShapeGeometry(n).bounds;return f.jsx(vv,{className:"",bounds:r})}},m(Fu,"type","group"),m(Fu,"props",Xq),m(Fu,"migrations",Yq),Fu);const sP=[ZU],QU=new Set(sP.map(e=>e.type));function oP(e){const t=[...sP],n=new Set;for(const r of e){if(QU.has(r.type))throw new Error(`Shape type "${r.type}" is a core shapes type and cannot be overridden`);if(n.has(r.type))throw new Error(`Shape type "${r.type}" is defined more than once`);t.push(r),n.add(r.type)}return t}function kv(e,t){if(!t)return!1;switch(e.type){case"mixed":return t.type==="mixed";case"shared":return t.type==="shared"&&e.value===t.value;default:throw Hm(e)}}let JU=class{constructor(t){m(this,"map");this.map=new Map(t)}get(t){return this.map.get(t)}getAsKnownValue(t){const n=this.get(t);if(n&&n.type!=="mixed")return n.value}get size(){return this.map.size}equals(t){if(this.size!==t.size)return!1;const n=new Set;for(const[r,s]of this){if(!kv(s,t.get(r)))return!1;n.add(r)}for(const[r,s]of t)if(!n.has(r)&&!kv(s,this.get(r)))return!1;return!0}keys(){return this.map.keys()}values(){return this.map.values()}entries(){return this.map.entries()}[Symbol.iterator](){return this.map[Symbol.iterator]()}},Aw=class extends JU{set(t,n){this.map.set(t,n)}applyValue(t,n){const r=this.get(t);if(!r){this.set(t,{type:"shared",value:n});return}switch(r.type){case"mixed":return;case"shared":r.value!==n&&this.set(t,{type:"mixed"});return;default:Hm(r,"type")}}},a9=class{constructor(){m(this,"items",new WeakMap)}get(t,n){return this.items.has(t)||this.items.set(t,n(t)),this.items.get(t)}access(t){return this.items.get(t)}set(t,n){this.items.set(t,n)}has(t){return this.items.has(t)}invalidate(t){this.items.delete(t)}bust(){this.items=new WeakMap}};function eV(e,t,n){return fetch(e).then(function(r){return r.arrayBuffer()}).then(function(r){return new File([r],t,{type:n})})}function tV(e,t){var s;let n=e;const r=new Set(t);for(;r.has(n);)n=(s=/^.*(\d+)$/.exec(n))!=null&&s[1]?n.replace(/(\d+)(?=\D?)$/,o=>(+o+1).toString()):`${n} 1`;return n}const gs="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",nV="a0",aP="A00000000000000000000000000";function iP(e){if(e>="a"&&e<="z")return e.charCodeAt(0)-"a".charCodeAt(0)+2;if(e>="A"&&e<="Z")return"Z".charCodeAt(0)-e.charCodeAt(0)+2;throw new Error("Invalid index key head: "+e)}function lP(e){if(e.length!==iP(e.charAt(0)))throw new Error("invalid integer part of index key: "+e)}function Cv(e){if(e===void 0)throw Error("n is undefined")}function _v(e){lP(e);const[t,...n]=e.split("");let r=!0;for(let s=n.length-1;r&&s>=0;s--){const o=gs.indexOf(n[s])+1;o===gs.length?n[s]="0":(n[s]=gs.charAt(o),r=!1)}if(r){if(t==="Z")return"a0";if(t==="z")return;const s=String.fromCharCode(t.charCodeAt(0)+1);return s>"a"?n.push("0"):n.pop(),s+n.join("")}else return t+n.join("")}function rV(e){lP(e);const[t,...n]=e.split("");let r=!0;for(let s=n.length-1;r&&s>=0;s--){const o=gs.indexOf(n[s])-1;o===-1?n[s]=gs.slice(-1):(n[s]=gs.charAt(o),r=!1)}if(r){if(t==="a")return"Z"+gs.slice(-1);if(t==="A")return;const s=String.fromCharCode(t.charCodeAt(0)-1);return s<"Z"?n.push(gs.slice(-1)):n.pop(),s+n.join("")}else return t+n.join("")}function _d(e,t){if(t!==void 0&&e>=t)throw new Error(e+" >= "+t);if(e.slice(-1)==="0"||t&&t.slice(-1)==="0")throw new Error("trailing zero");if(t){let s=0;for(;(e.charAt(s)||"0")===t.charAt(s);)s++;if(s>0)return t.slice(0,s)+_d(e.slice(s),t.slice(s))}const n=e?gs.indexOf(e.charAt(0)):0,r=t!==void 0?gs.indexOf(t.charAt(0)):gs.length;if(r-n>1){const s=Math.round(.5*(n+r));return gs.charAt(s)}else return t&&t.length>1?t.slice(0,1):gs.charAt(n)+_d(e.slice(1),void 0)}function Xu(e){const t=iP(e.charAt(0));if(t>e.length)throw new Error("invalid index: "+e);return e.slice(0,t)}function Ev(e){if(e===aP)throw new Error("invalid index: "+e);const t=Xu(e);if(e.slice(t.length).slice(-1)==="0")throw new Error("invalid index: "+e)}function td(e,t){if(e!==void 0&&Ev(e),t!==void 0&&Ev(t),e!==void 0&&t!==void 0&&e>=t)throw new Error(e+" >= "+t);if(e===void 0&&t===void 0)return nV;if(e===void 0){if(t===void 0)throw Error("b is undefined");const i=Xu(t),l=t.slice(i.length);if(i===aP)return i+_d("",l);if(i<t)return i;const c=rV(i);return Cv(c),c}if(t===void 0){const i=Xu(e),l=e.slice(i.length),c=_v(i);return c===void 0?i+_d(l,void 0):c}const n=Xu(e),r=e.slice(n.length),s=Xu(t),o=t.slice(s.length);if(n===s)return n+_d(r,o);const a=_v(n);return Cv(a),a<t?a:n+_d(r,void 0)}function Yi(e,t,n){if(n===0)return[];if(n===1)return[td(e,t)];if(t===void 0){let o=td(e,t);const a=[o];for(let i=0;i<n-1;i++)o=td(o,t),a.push(o);return a}if(e===void 0){let o=td(e,t);const a=[o];for(let i=0;i<n-1;i++)o=td(e,o),a.push(o);return a.reverse(),a}const r=Math.floor(n/2),s=td(e,t);return[...Yi(e,s,r),s,...Yi(s,t,n-r-1)]}function fh(e,t,n){return Yi(e,t,n)}function V2(e,t){return Yi(e,void 0,t)}function ap(e,t){return Yi(e,t,1)[0]}function Ea(e){return Yi(e,void 0,1)[0]}function sV(e){return Yi(void 0,e,1)[0]}function cP(e,t="a1"){return[t,...Yi(t,void 0,e)]}function cr(e,t){return e.index<t.index?-1:e.index>t.index?1:0}function Eg(e,t,n){if(n.length===0)return[];const r=new Map;for(const o of ze(n.map(a=>e.getShape(a)))){const{parentId:a}=o;r.has(a)||r.set(a,{children:ze(e.getSortedChildIdsForParent(a).map(i=>e.getShape(i))),moving:new Set}),r.get(a).moving.add(o)}const s=[];switch(t){case"toBack":{r.forEach(({moving:o,children:a})=>oV(o,a,s));break}case"toFront":{r.forEach(({moving:o,children:a})=>aV(o,a,s));break}case"forward":{r.forEach(({moving:o,children:a})=>iV(o,a,s));break}case"backward":{r.forEach(({moving:o,children:a})=>lV(o,a,s));break}}return s}function oV(e,t,n){const r=t.length;if(e.size===r)return;let s,o;for(let a=0;a<r;a++){const i=t[a];if(e.has(i))s=i.index,e.delete(i);else{o=i.index;break}}if(e.size!==0){const a=fh(s,o,e.size);n.push(...Array.from(e.values()).sort(cr).map((i,l)=>({...i,index:a[l]})))}}function aV(e,t,n){const r=t.length;if(e.size===r)return;let s,o;for(let a=r-1;a>-1;a--){const i=t[a];if(e.has(i))o=i.index,e.delete(i);else{s=i.index;break}}if(e.size!==0){const a=fh(s,o,e.size);n.push(...Array.from(e.values()).sort(cr).map((i,l)=>({...i,index:a[l]})))}}function iV(e,t,n){var o;const r=t.length;if(e.size===r)return;let s={name:"skipping"};for(let a=0;a<r;a++){const i=e.has(t[a]);switch(s.name){case"skipping":{if(!i)continue;s={name:"selecting",selectIndex:a};break}case"selecting":{if(i)continue;const{selectIndex:l}=s;fh(t[a].index,(o=t[a+1])==null?void 0:o.index,a-l).forEach((c,d)=>n.push({...t[l+d],index:c})),s={name:"skipping"};break}}}}function lV(e,t,n){var o;const r=t.length;if(e.size===r)return;let s={name:"skipping"};for(let a=r-1;a>-1;a--){const i=e.has(t[a]);switch(s.name){case"skipping":{if(!i)continue;s={name:"selecting",selectIndex:a};break}case"selecting":{if(i)continue;fh((o=t[a-1])==null?void 0:o.index,t[a].index,s.selectIndex-a).forEach((l,c)=>{n.push({...t[a+c+1],index:l})}),s={name:"skipping"};break}}}}function dP({editor:e}){const t=e.getSelectedShapes(),n=e.getSelectionRotation(),r=e.getSelectionRotatedPageBounds(),{inputs:{originPagePoint:s}}=e;if(!r)return null;const o=r.center.clone().rotWith(r.point,n);return{selectionPageCenter:o,initialCursorAngle:o.angle(s),initialSelectionRotation:n,shapeSnapshots:t.map(a=>({shape:Cd(a),initialPagePoint:e.getShapePageTransform(a.id).point()}))}}function $0({delta:e,editor:t,snapshot:n,stage:r}){const{selectionPageCenter:s,shapeSnapshots:o}=n;t.updateShapes(o.map(({shape:i,initialPagePoint:l})=>{const c=js(i.parentId)?t.getShapePageTransform(i.parentId):ge.Identity(),d=P.RotWith(l,s,e),h=ge.applyToPoint(ge.Inverse(c),d),u=xo(i.rotation+e);return{id:i.id,type:i.type,x:h.x,y:h.y,rotation:u}}));const a=[];o.forEach(({shape:i})=>{var h,u,p;const l=t.getShape(i.id);if(!l)return;const c=t.getShapeUtil(i);if(r==="start"||r==="one-off"){const y=(h=c.onRotateStart)==null?void 0:h.call(c,i);y&&a.push(y)}const d=(u=c.onRotate)==null?void 0:u.call(c,i,l);if(d&&a.push(d),r==="end"||r==="one-off"){const y=(p=c.onRotateEnd)==null?void 0:p.call(c,i,l);y&&a.push(y)}}),a.length>0&&t.updateShapes(a)}const cV=e=>{const{store:t}=e,n=t.query.filterHistory("shape"),r=t.query.records("shape",()=>({type:{eq:"arrow"}}));function s(){const o=r.get(),a={};for(const i of o){const{start:l,end:c}=i.props;if(l.type==="binding"){const d=a[l.boundShapeId];d?d.push({arrowId:i.id,handleId:"start"}):a[l.boundShapeId]=[{arrowId:i.id,handleId:"start"}]}if(c.type==="binding"){const d=a[c.boundShapeId];d?d.push({arrowId:i.id,handleId:"end"}):a[c.boundShapeId]=[{arrowId:i.id,handleId:"end"}]}}return a}return oe("arrowBindingsIndex",(o,a)=>{if(MS(o))return s();const i=o,l=n.getDiffSince(a);if(l===Go)return s();let c;function d(p){c||(c={...i}),c[p]?c[p]===i[p]&&(c[p]=[...c[p]]):c[p]=[]}function h(p,y,g){d(p),c[p]=c[p].filter(x=>x.arrowId!==y||x.handleId!==g),c[p].length===0&&delete c[p]}function u(p,y,g){d(p),c[p].push({arrowId:y,handleId:g})}for(const p of l){for(const y of Object.values(p.added))if(e.isShapeOfType(y,"arrow")){const{start:g,end:x}=y.props;g.type==="binding"&&u(g.boundShapeId,y.id,"start"),x.type==="binding"&&u(x.boundShapeId,y.id,"end")}for(const[y,g]of Object.values(p.updated))if(!(!e.isShapeOfType(y,"arrow")||!e.isShapeOfType(g,"arrow")))for(const x of["start","end"]){const w=y.props[x],S=g.props[x];w.type==="binding"&&S.type==="point"?h(w.boundShapeId,y.id,x):w.type==="point"&&S.type==="binding"?u(S.boundShapeId,g.id,x):w.type==="binding"&&S.type==="binding"&&w.boundShapeId!==S.boundShapeId&&(h(w.boundShapeId,y.id,x),u(S.boundShapeId,g.id,x))}for(const y of Object.values(p.removed))if(e.isShapeOfType(y,"arrow")){const{start:g,end:x}=y.props;g.type==="binding"&&h(g.boundShapeId,y.id,"start"),x.type==="binding"&&h(x.boundShapeId,y.id,"end")}}return c??i})},dV=e=>{const t=e.query.ids("shape");function n(){const r={},s=t.get(),o=Array(s.size);return s.forEach(a=>o.push(e.get(a))),o.sort(cr),o.forEach(a=>{r[a.parentId]||(r[a.parentId]=[]),r[a.parentId].push(a.id)}),r}return oe("parentsToChildrenWithIndexes",(r,s)=>{if(MS(r))return n();const o=e.history.getDiffSince(s);if(o===Go)return n();if(o.length===0)return r;let a=null;const i=d=>{a||(a={...r}),a[d]?a[d]===r[d]&&(a[d]=[...a[d]]):a[d]=[]},l=new Set;let c;for(let d=0,h=o.length;d<h;d++){c=o[d];for(const u of Object.values(c.added))Vl(u)&&(i(u.parentId),a[u.parentId].push(u.id),l.add(a[u.parentId]));for(const[u,p]of Object.values(c.updated))if(Vl(p)&&Vl(u)){if(u.parentId!==p.parentId)i(u.parentId),i(p.parentId),a[u.parentId].splice(a[u.parentId].indexOf(p.id),1),a[p.parentId].push(p.id),l.add(a[p.parentId]);else if(u.index!==p.index){i(p.parentId);const y=a[p.parentId].indexOf(p.id);a[p.parentId][y]=p.id,l.add(a[p.parentId])}}for(const u of Object.values(c.removed))Vl(u)&&(i(u.parentId),a[u.parentId].splice(a[u.parentId].indexOf(u.id),1))}for(const d of l){const h=ze(d.map(u=>e.get(u)));h.sort(cr),d.splice(0,d.length,...h.map(u=>u.id))}return a??r})},X2=(e,t,n)=>{for(;!Rr(n.parentId);){const r=e.get(n.parentId);if(!r)return!1;n=r}return n.parentId===t},hV=(e,t)=>{const n=e.query.ids("shape");let r=null;function s(){const o=t();return r=o,new Set([...n.get()].filter(a=>X2(e,o,e.get(a))))}return oe("_shapeIdsInCurrentPage",(o,a)=>{if(MS(o))return s();const i=t();if(i!==r)return s();const l=e.history.getDiffSince(a);if(l===Go)return s();const c=new L0(o);for(const h of l){for(const u of Object.values(h.added))Vl(u)&&X2(e,i,u)&&c.add(u.id);for(const[u,p]of Object.values(h.updated))Vl(p)&&(X2(e,i,p)?c.add(p.id):c.remove(p.id));for(const u of Object.keys(h.removed))js(u)&&c.remove(u)}const d=c.get();return d?LO(d.value,d.diff):o})},uV=40;let pV=class{constructor(t){m(this,"_clickId","");m(this,"_clickTimeout");m(this,"_clickScreenPoint");m(this,"_previousScreenPoint");m(this,"_getClickTimeout",(t,n=bt())=>{this._clickId=n,clearTimeout(this._clickTimeout),this._clickTimeout=setTimeout(()=>{if(this._clickState===t&&this._clickId===n){switch(this._clickState){case"pendingTriple":{this.editor.dispatch({...this.lastPointerInfo,type:"click",name:"double_click",phase:"settle"});break}case"pendingQuadruple":{this.editor.dispatch({...this.lastPointerInfo,type:"click",name:"triple_click",phase:"settle"});break}case"pendingOverflow":{this.editor.dispatch({...this.lastPointerInfo,type:"click",name:"quadruple_click",phase:"settle"});break}}this._clickState="idle"}},t==="idle"||t==="pendingDouble"?yF:xF)});m(this,"_clickState","idle");m(this,"lastPointerInfo",{});m(this,"transformPointerDownEvent",t=>{if(!this._clickState)return t;switch(this._clickScreenPoint=P.From(t.point),this._previousScreenPoint&&this._previousScreenPoint.dist(this._clickScreenPoint)>uV&&(this._clickState="idle"),this._previousScreenPoint=this._clickScreenPoint,this.lastPointerInfo=t,this._clickState){case"idle":return this._clickState="pendingDouble",this._clickTimeout=this._getClickTimeout(this._clickState),t;case"pendingDouble":return this._clickState="pendingTriple",this._clickTimeout=this._getClickTimeout(this._clickState),{...t,type:"click",name:"double_click",phase:"down"};case"pendingTriple":return this._clickState="pendingQuadruple",this._clickTimeout=this._getClickTimeout(this._clickState),{...t,type:"click",name:"triple_click",phase:"down"};case"pendingQuadruple":return this._clickState="pendingOverflow",this._clickTimeout=this._getClickTimeout(this._clickState),{...t,type:"click",name:"quadruple_click",phase:"down"};case"pendingOverflow":return this._clickState="overflow",this._clickTimeout=this._getClickTimeout(this._clickState),t;default:return this._clickTimeout=this._getClickTimeout(this._clickState),t}});m(this,"transformPointerUpEvent",t=>{if(!this._clickState)return t;switch(this._clickScreenPoint=P.From(t.point),this._clickState){case"pendingTriple":return{...this.lastPointerInfo,type:"click",name:"double_click",phase:"up"};case"pendingQuadruple":return{...this.lastPointerInfo,type:"click",name:"triple_click",phase:"up"};case"pendingOverflow":return{...this.lastPointerInfo,type:"click",name:"quadruple_click",phase:"up"};default:return t}});m(this,"cancelDoubleClickTimeout",()=>{this._clickTimeout=clearTimeout(this._clickTimeout),this._clickState="idle"});m(this,"handleMove",()=>{this._clickState!=="idle"&&this._clickScreenPoint&&this._clickScreenPoint.dist(this.editor.inputs.currentScreenPoint)>(this.editor.getInstanceState().isCoarsePointer?Ew:Lp)&&this.cancelDoubleClickTimeout()});this.editor=t}get clickState(){return this._clickState}},fV=class{constructor(t){m(this,"isSafari");m(this,"isIos");m(this,"isChromeForIos");m(this,"isFirefox");m(this,"isAndroid");this.editor=t,typeof window<"u"&&"navigator"in window?(this.isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),this.isIos=!!navigator.userAgent.match(/iPad/i)||!!navigator.userAgent.match(/iPhone/i),this.isChromeForIos=/crios.*safari/i.test(navigator.userAgent),this.isFirefox=/firefox/i.test(navigator.userAgent),this.isAndroid=/android/i.test(navigator.userAgent)):(this.isSafari=!1,this.isIos=!1,this.isChromeForIos=!1,this.isFirefox=!1,this.isAndroid=!1)}};function Tl(e){if(e){let t=Iv;for(;e.length;)t=t.push(e.pop());return t}return Iv}let gV=class{constructor(){m(this,"length",0);m(this,"head",null);m(this,"tail",this)}push(t){return new mV(t,this)}toArray(){return Ri}[Symbol.iterator](){return{next(){return{value:void 0,done:!0}}}}};const Iv=new gV;let mV=class hP{constructor(t,n){m(this,"length");this.head=t,this.tail=n,this.length=n.length+1}push(t){return new hP(t,this)}toArray(){return Array.from(this)}[Symbol.iterator](){let t=this;return{next(){if(t.length){const n=t.head;return t=t.tail,{value:n,done:!1}}else return{value:void 0,done:!0}}}}},yV=class{constructor(t,n){m(this,"_undos",ys("HistoryManager.undos",Tl()));m(this,"_redos",ys("HistoryManager.redos",Tl()));m(this,"_batchDepth",0);m(this,"onBatchComplete",()=>{});m(this,"_commands",{});m(this,"createCommand",(t,n,r)=>{if(this._commands[t])throw new Error(`Duplicate command: ${t}`);this._commands[t]=r;const s=(...o)=>{if(!this._batchDepth)return this.batch(()=>s(...o)),this.ctx;const a=n(...o);if(!a)return this.ctx;const{data:i,ephemeral:l,squashing:c,preservesRedoStack:d}=a;if(this.ignoringUpdates((h,u)=>(r.do(i),{undos:h,redos:u})),!l){const h=this._undos.get().head;c&&h&&h.type==="command"&&h.name===t&&h.preservesRedoStack===d?this._undos.update(u=>u.tail.push({...h,id:bt(),data:r.squash(h.data,i)})):this._undos.update(u=>u.push({type:"command",name:t,data:i,id:bt(),preservesRedoStack:d})),a.preservesRedoStack||this._redos.set(Tl()),this.ctx.emit("change-history",{reason:"push"})}return this.ctx};return s});m(this,"batch",t=>{try{this._batchDepth++,this._batchDepth===1?Ep(()=>{var r,s;const n=(r=this._undos.get().head)==null?void 0:r.id;t(),n!==((s=this._undos.get().head)==null?void 0:s.id)&&this.onBatchComplete()}):t()}catch(n){throw this.annotateError(n),n}finally{this._batchDepth--}return this});m(this,"ignoringUpdates",t=>{let n=this._undos.get(),r=this._redos.get();this._undos.set(Tl()),this._redos.set(Tl());try{({undos:n,redos:r}=Ep(()=>t(n,r)))}finally{this._undos.set(n),this._redos.set(r)}});m(this,"_undo",({pushToRedoStack:t,toMark:n=void 0})=>(this.ignoringUpdates((r,s)=>{var o;if(r.length===0)return{undos:r,redos:s};for(;((o=r.head)==null?void 0:o.type)==="STOP";){const a=r.head;if(r=r.tail,t&&(s=s.push(a)),a.id===n)return this.ctx.emit("change-history",t?{reason:"undo"}:{reason:"bail",markId:n}),{undos:r,redos:s}}if(r.length===0)return this.ctx.emit("change-history",t?{reason:"undo"}:{reason:"bail",markId:n}),{undos:r,redos:s};for(;r.head;){const a=r.head;if(r=r.tail,t&&(s=s.push(a)),a.type==="STOP"){if(a.onUndo&&(!n||a.id===n))return this.ctx.emit("change-history",t?{reason:"undo"}:{reason:"bail",markId:n}),{undos:r,redos:s}}else this._commands[a.name].undo(a.data)}return this.ctx.emit("change-history",t?{reason:"undo"}:{reason:"bail",markId:n}),{undos:r,redos:s}}),this));m(this,"undo",()=>(this._undo({pushToRedoStack:!0}),this));m(this,"redo",()=>(this.ignoringUpdates((t,n)=>{var r;if(n.length===0)return{undos:t,redos:n};for(;((r=n.head)==null?void 0:r.type)==="STOP";)t=t.push(n.head),n=n.tail;if(n.length===0)return this.ctx.emit("change-history",{reason:"redo"}),{undos:t,redos:n};for(;n.head;){const s=n.head;if(t=t.push(n.head),n=n.tail,s.type==="STOP"){if(s.onRedo)break}else{const o=this._commands[s.name];o.redo?o.redo(s.data):o.do(s.data)}}return this.ctx.emit("change-history",{reason:"redo"}),{undos:t,redos:n}}),this));m(this,"bail",()=>(this._undo({pushToRedoStack:!1}),this));m(this,"bailToMark",t=>(this._undo({pushToRedoStack:!1,toMark:t}),this));m(this,"mark",(t=bt(),n=!0,r=!0)=>{const s=this._undos.get().head;return s&&s.type==="STOP"&&s.id===t&&s.onUndo===n&&s.onRedo===r?s.id:(this._undos.update(o=>o.push({type:"STOP",id:t,onUndo:n,onRedo:r})),this.ctx.emit("mark-history",{id:t}),t)});this.ctx=t,this.annotateError=n}getNumUndos(){return this._undos.get().length}getNumRedos(){return this._redos.get().length}clear(){this._undos.set(Tl()),this._redos.set(Tl())}},xV=class{constructor(t){m(this,"scribbleItems",new Map);m(this,"state","paused");m(this,"addScribble",(t,n=bt())=>{const r={id:n,scribble:{id:n,size:20,color:"accent",opacity:.8,delay:0,points:[],shrink:.1,taper:!0,...t,state:"starting"},timeoutMs:0,delayRemaining:t.delay??0,prev:null,next:null};return this.scribbleItems.set(n,r),this.state==="paused"&&this.resume(),r});m(this,"stop",t=>{const n=this.scribbleItems.get(t);if(!n)throw Error(`Scribble with id ${t} not found`);return n.delayRemaining=Math.min(n.delayRemaining,200),n.scribble.state="stopping",n});m(this,"addPoint",(t,n,r)=>{const s=this.scribbleItems.get(t);if(!s)throw Error(`Scribble with id ${t} not found`);const{prev:o}=s,a={x:n,y:r,z:.5};return(!o||P.Dist(o,a)>=1)&&(s.next=a),s});m(this,"tick",t=>{this.editor.batch(()=>{this.scribbleItems.forEach(n=>{if(n.scribble.state==="starting"){const{next:l,prev:c}=n;l&&l!==c&&(n.prev=l,n.scribble.points.push(l)),n.scribble.points.length>8&&(n.scribble.state="active");return}n.delayRemaining>0&&(n.delayRemaining=Math.max(0,n.delayRemaining-t)),n.timeoutMs+=t,n.timeoutMs>=16&&(n.timeoutMs=0);const{delayRemaining:r,timeoutMs:s,prev:o,next:a,scribble:i}=n;switch(i.state){case"active":{a&&a!==o?(n.prev=a,i.points.push(a),r===0&&i.points.length>8&&i.points.shift()):s===0&&(i.points.length>1?i.points.shift():n.delayRemaining=i.delay);break}case"stopping":{if(n.delayRemaining===0&&s===0){if(i.points.length===1){this.scribbleItems.delete(n.id);return}i.shrink&&(i.size=Math.max(1,i.size*(1-i.shrink))),i.points.shift()}break}}}),this.editor.updateInstanceState({scribbles:Array.from(this.scribbleItems.values()).map(({scribble:n})=>({...n,points:[...n.points]})).slice(-5)}),this.scribbleItems.size===0&&this.pause()})});this.editor=t}resume(){this.state="running",this.editor.addListener("tick",this.tick)}pause(){this.editor.removeListener("tick",this.tick),this.state="paused"}reset(){this.editor.updateInstanceState({scribbles:[]}),this.scribbleItems.clear(),this.pause()}},wV=class{constructor(t){m(this,"_beforeCreateHandlers",{});m(this,"_afterCreateHandlers",{});m(this,"_beforeChangeHandlers",{});m(this,"_afterChangeHandlers",{});m(this,"_beforeDeleteHandlers",{});m(this,"_afterDeleteHandlers",{});m(this,"_batchCompleteHandlers",[]);this.editor=t,t.store.onBeforeCreate=(r,s)=>{const o=this._beforeCreateHandlers[r.typeName];if(o){let a=r;for(const i of o)a=i(a,s);return a}return r},t.store.onAfterCreate=(r,s)=>{const o=this._afterCreateHandlers[r.typeName];if(o)for(const a of o)a(r,s)},t.store.onBeforeChange=(r,s,o)=>{const a=this._beforeChangeHandlers[s.typeName];if(a){let i=s;for(const l of a)i=l(r,i,o);return i}return s};let n=0;t.store.onAfterChange=(r,s,o)=>{if(n++,n>1e3)console.error("[CleanupManager.onAfterChange] Maximum update depth exceeded, bailing out.");else{const a=this._afterChangeHandlers[s.typeName];if(a)for(const i of a)i(r,s,o)}n--},t.store.onBeforeDelete=(r,s)=>{const o=this._beforeDeleteHandlers[r.typeName];if(o){for(const a of o)if(a(r,s)===!1)return!1}},t.store.onAfterDelete=(r,s)=>{const o=this._afterDeleteHandlers[r.typeName];if(o)for(const a of o)a(r,s)},t.history.onBatchComplete=()=>{this._batchCompleteHandlers.forEach(r=>r())}}registerBeforeCreateHandler(t,n){return this._beforeCreateHandlers[t]||(this._beforeCreateHandlers[t]=[]),this._beforeCreateHandlers[t].push(n),()=>Ll(this._beforeCreateHandlers[t],n)}registerAfterCreateHandler(t,n){return this._afterCreateHandlers[t]||(this._afterCreateHandlers[t]=[]),this._afterCreateHandlers[t].push(n),()=>Ll(this._afterCreateHandlers[t],n)}registerBeforeChangeHandler(t,n){return this._beforeChangeHandlers[t]||(this._beforeChangeHandlers[t]=[]),this._beforeChangeHandlers[t].push(n),()=>Ll(this._beforeChangeHandlers[t],n)}registerAfterChangeHandler(t,n){return this._afterChangeHandlers[t]||(this._afterChangeHandlers[t]=[]),this._afterChangeHandlers[t].push(n),()=>Ll(this._afterChangeHandlers[t],n)}registerBeforeDeleteHandler(t,n){return this._beforeDeleteHandlers[t]||(this._beforeDeleteHandlers[t]=[]),this._beforeDeleteHandlers[t].push(n),()=>Ll(this._beforeDeleteHandlers[t],n)}registerAfterDeleteHandler(t,n){return this._afterDeleteHandlers[t]||(this._afterDeleteHandlers[t]=[]),this._afterDeleteHandlers[t].push(n),()=>Ll(this._afterDeleteHandlers[t],n)}registerBatchCompleteHandler(t){return this._batchCompleteHandlers.push(t),()=>Ll(this._batchCompleteHandlers,t)}};function Ll(e,t){const n=e.indexOf(t);n>=0&&e.splice(n,1)}var SV=Object.defineProperty,bV=Object.getOwnPropertyDescriptor,zc=(e,t,n,r)=>{for(var s=r>1?void 0:r?bV(t,n):t,o=e.length-1,a;o>=0;o--)(a=e[o])&&(s=(r?a(t,n,s):a(s))||s);return r&&s&&SV(t,n,s),s};const Ee=e=>Math.round(e*10**8)/10**8;function ba(e,t,n,r,s){const o=e.filter(i=>(r==="forward"?i.startNode.id===t:i.endNode.id===t)&&Ee(i.length)===Ee(n)&&oo(i.breadthIntersection[0],i.breadthIntersection[1],s[0],s[1]));if(o.length===0)return[];const a=new Set;return o.forEach(i=>{const l=r==="forward"?i.endNode.id:i.startNode.id;if(!a.has(l)){a.add(l);const c=ba(e,l,n,r,oo(i.breadthIntersection[0],i.breadthIntersection[1],s[0],s[1]));o.push(...c)}}),o}function vV(e){e.sort((t,n)=>n.gaps.length-t.gaps.length);for(let t=e.length-1;t>0;t--){const n=e[t];for(let r=t-1;r>=0;r--){const s=e[r];if(s.direction===n.direction&&n.gaps.every(o=>s.gaps.some(a=>Ee(o.startEdge[0].x)===Ee(a.startEdge[0].x)&&Ee(o.startEdge[0].y)===Ee(a.startEdge[0].y)&&Ee(o.startEdge[1].x)===Ee(a.startEdge[1].x)&&Ee(o.startEdge[1].y)===Ee(a.startEdge[1].y))&&s.gaps.some(a=>Ee(o.endEdge[0].x)===Ee(a.endEdge[0].x)&&Ee(o.endEdge[0].y)===Ee(a.endEdge[0].y)&&Ee(o.endEdge[1].x)===Ee(a.endEdge[1].x)&&Ee(o.endEdge[1].y)===Ee(a.endEdge[1].y)))){e.splice(t,1);break}}}}let al=class{constructor(t){m(this,"_snapLines",ys("snapLines",void 0));this.editor=t}getLines(){return this._snapLines.get()??Ri}clear(){this.getLines().length&&this._snapLines.set(void 0)}setLines(t){this._snapLines.set(t)}getSnapPointsCache(){const{editor:t}=this;return t.store.createComputedCache("snapPoints",n=>{const r=t.getShapePageTransform(n.id);return r?this.editor.getShapeGeometry(n).snapPoints.map((o,a)=>{const{x:i,y:l}=ge.applyToPoint(r,o);return{x:i,y:l,id:`${n.id}:${a}`}}):void 0})}getSnapThreshold(){return 8/this.editor.getZoomLevel()}getSnappableShapes(){const{editor:t}=this,n=t.getRenderingBounds(),r=t.getSelectedShapeIds(),s=[],o=a=>{const i=t.getSortedChildIdsForParent(a);for(const l of i){if(r.includes(l))continue;const c=t.getShape(l);if(!c||!t.getShapeUtil(c).canSnap(c))continue;const h=t.getShapePageBounds(l);if(h&&n.includes(h)){if(t.isShapeOfType(c,"group")){o(l);continue}s.push({id:l,pageBounds:h,isClosed:t.getShapeGeometry(c).isClosed})}}};return o(this.getCurrentCommonAncestor()??t.getCurrentPageId()),s}getCurrentCommonAncestor(){return this.editor.findCommonAncestor(this.editor.getSelectedShapes())}getSnappablePoints(){const t=this.getSnapPointsCache(),n=this.getSnappableShapes(),r=[];return n.forEach(s=>{const o=t.get(s.id);o&&r.push(...o)}),r}getVisibleGaps(){const t=[],n=[];let r,s;const o=this.getSnappableShapes().sort((i,l)=>i.pageBounds.minX-l.pageBounds.minX);for(let i=0;i<o.length;i++){r=o[i];for(let l=i+1;l<o.length;l++)s=o[l],r.pageBounds.maxX<s.pageBounds.minX&&au(r.pageBounds.minY,r.pageBounds.maxY,s.pageBounds.minY,s.pageBounds.maxY)&&t.push({startNode:r,endNode:s,startEdge:[new P(r.pageBounds.maxX,r.pageBounds.minY),new P(r.pageBounds.maxX,r.pageBounds.maxY)],endEdge:[new P(s.pageBounds.minX,s.pageBounds.minY),new P(s.pageBounds.minX,s.pageBounds.maxY)],length:s.pageBounds.minX-r.pageBounds.maxX,breadthIntersection:oo(r.pageBounds.minY,r.pageBounds.maxY,s.pageBounds.minY,s.pageBounds.maxY)})}const a=o.sort((i,l)=>i.pageBounds.minY-l.pageBounds.minY);for(let i=0;i<a.length;i++){r=a[i];for(let l=i+1;l<a.length;l++)s=a[l],r.pageBounds.maxY<s.pageBounds.minY&&au(r.pageBounds.minX,r.pageBounds.maxX,s.pageBounds.minX,s.pageBounds.maxX)&&n.push({startNode:r,endNode:s,startEdge:[new P(r.pageBounds.minX,r.pageBounds.maxY),new P(r.pageBounds.maxX,r.pageBounds.maxY)],endEdge:[new P(s.pageBounds.minX,s.pageBounds.minY),new P(s.pageBounds.maxX,s.pageBounds.minY)],length:s.pageBounds.minY-r.pageBounds.maxY,breadthIntersection:oo(r.pageBounds.minX,r.pageBounds.maxX,s.pageBounds.minX,s.pageBounds.maxX)})}return{horizontal:t,vertical:n}}snapTranslate({lockedAxis:t,initialSelectionPageBounds:n,initialSelectionSnapPoints:r,dragDelta:s}){var x,w;const o=this.getSnapThreshold(),a=this.getSnappablePoints(),i=n.clone().translate(s),l=r.map(({x:S,y:v},k)=>({id:"selection:"+k,x:S+s.x,y:v+s.y})),c=a,d=[],h=[],u=new P(o,o);this.collectPointSnaps({minOffset:u,nearestSnapsX:d,nearestSnapsY:h,otherNodeSnapPoints:c,selectionSnapPoints:l}),this.collectGapSnaps({selectionPageBounds:i,nearestSnapsX:d,nearestSnapsY:h,minOffset:u});const p=new P(t==="x"?0:((x=d[0])==null?void 0:x.nudge)??0,t==="y"?0:((w=h[0])==null?void 0:w.nudge)??0);u.x=0,u.y=0,d.length=0,h.length=0,l.forEach(S=>{S.x+=p.x,S.y+=p.y}),i.translate(p),this.collectPointSnaps({minOffset:u,nearestSnapsX:d,nearestSnapsY:h,otherNodeSnapPoints:c,selectionSnapPoints:l}),this.collectGapSnaps({selectionPageBounds:i,nearestSnapsX:d,nearestSnapsY:h,minOffset:u});const y=this.getPointSnapLines({nearestSnapsX:d,nearestSnapsY:h}),g=this.getGapSnapLines({selectionPageBounds:i,nearestSnapsX:d,nearestSnapsY:h});return this._snapLines.set([...g,...y]),{nudge:p}}getOutlinesInPageSpace(){return this.getSnappableShapes().map(({id:t,isClosed:n})=>{const r=Fr(this.editor.getShapeGeometry(t).vertices);n&&r.push(r[0]);const s=this.editor.getShapePageTransform(t);if(!s)throw Error("No page transform");return ge.applyToPoints(s,r)})}getSnappingHandleDelta({handlePoint:t,additionalSegments:n}){const r=this.getSnapThreshold(),s=this.getOutlinesInPageSpace();let o=r,a=null,i,l,c,d;const h=[...s,...n];for(const u of h)for(let p=0;p<u.length-1;p++)i=u[p],l=u[p+1],c=P.NearestPointOnLineSegment(i,l,t),d=P.Dist(t,c),!isNaN(d)&&d<o&&(o=d,a=c);return a?(this._snapLines.set([{id:bt(),type:"points",points:[a]}]),P.Sub(a,t)):null}snapResize({initialSelectionPageBounds:t,dragDelta:n,handle:r,isAspectRatioLocked:s,isResizingFromCenter:o}){var E,I;const a=this.getSnapThreshold(),{box:i,scaleX:l,scaleY:c}=xe.Resize(t,r,o?n.x*2:n.x,o?n.y*2:n.y,s);let d=r;l<0&&(d=QB(d)),c<0&&(d=ZB(d)),o&&(i.center=t.center);const h=d==="top"||d==="bottom",u=d==="left"||d==="right",p=Pv(d,i),y=this.getSnappablePoints(),g=[],x=[],w=new P(a,a);this.collectPointSnaps({minOffset:w,nearestSnapsX:g,nearestSnapsY:x,otherNodeSnapPoints:y,selectionSnapPoints:p});const S=new P(h?0:((E=g[0])==null?void 0:E.nudge)??0,u?0:((I=x[0])==null?void 0:I.nudge)??0);if(s&&JB(d)&&S.len()!==0){const z=g.length&&x.length?Math.abs(S.x)<Math.abs(S.y)?"x":"y":g.length?"x":"y",A=t.aspectRatio;z==="x"?(x.length=0,S.y=S.x/A,(d==="bottom_left"||d==="top_right")&&(S.y=-S.y)):(g.length=0,S.x=S.y*A,(d==="bottom_left"||d==="top_right")&&(S.x=-S.x))}const v=P.Add(n,S),{box:k}=xe.Resize(t,r,o?v.x*2:v.x,o?v.y*2:v.y,s);o&&(k.center=t.center);const C=Pv("any",k);g.length=0,x.length=0,w.x=0,w.y=0,this.collectPointSnaps({minOffset:w,nearestSnapsX:g,nearestSnapsY:x,otherNodeSnapPoints:y,selectionSnapPoints:C});const _=this.getPointSnapLines({nearestSnapsX:g,nearestSnapsY:x});return this._snapLines.set([..._]),{nudge:S}}collectPointSnaps({selectionSnapPoints:t,otherNodeSnapPoints:n,minOffset:r,nearestSnapsX:s,nearestSnapsY:o}){for(const a of t)for(const i of n){const l=P.Sub(a,i),c=Math.abs(l.x),d=Math.abs(l.y);Ee(c)<=Ee(r.x)&&(Ee(c)<Ee(r.x)&&(s.length=0),s.push({type:"points",points:{thisPoint:a,otherPoint:i},nudge:i.x-a.x}),r.x=c),Ee(d)<=Ee(r.y)&&(Ee(d)<Ee(r.y)&&(o.length=0),o.push({type:"points",points:{thisPoint:a,otherPoint:i},nudge:i.y-a.y}),r.y=d)}}collectGapSnaps({selectionPageBounds:t,minOffset:n,nearestSnapsX:r,nearestSnapsY:s}){const{horizontal:o,vertical:a}=this.getVisibleGaps();for(const i of o){if(!au(i.breadthIntersection[0],i.breadthIntersection[1],t.minY,t.maxY))continue;const c=i.startEdge[0].x+i.length/2-t.center.x;if(i.length>t.width&&Ee(Math.abs(c))<=Ee(n.x)){Ee(Math.abs(c))<Ee(n.x)&&(r.length=0),n.x=Math.abs(c);const w={type:"gap_center",gap:i,nudge:c},S=r.find(({type:k})=>k==="gap_center"),v=S&&oo(i.breadthIntersection[0],i.breadthIntersection[1],S.gap.breadthIntersection[0],S.gap.breadthIntersection[1]);S&&S.gap.length>i.length&&v?r[r.indexOf(S)]=w:(!S||!v)&&r.push(w)}const h=i.startNode.pageBounds.minX-i.length,u=t.maxX,p=h-u;Ee(Math.abs(p))<=Ee(n.x)&&(Ee(Math.abs(p))<Ee(n.x)&&(r.length=0),n.x=Math.abs(p),r.push({type:"gap_duplicate",gap:i,protrusionDirection:"left",nudge:p}));const y=i.endNode.pageBounds.maxX+i.length,g=t.minX,x=y-g;Ee(Math.abs(x))<=Ee(n.x)&&(Ee(Math.abs(x))<Ee(n.x)&&(r.length=0),n.x=Math.abs(x),r.push({type:"gap_duplicate",gap:i,protrusionDirection:"right",nudge:x}))}for(const i of a){if(!au(i.breadthIntersection[0],i.breadthIntersection[1],t.minX,t.maxX))continue;const c=i.startEdge[0].y+i.length/2-t.center.y;if(i.length>t.height&&Ee(Math.abs(c))<=Ee(n.y)){Ee(Math.abs(c))<Ee(n.y)&&(s.length=0),n.y=Math.abs(c);const w={type:"gap_center",gap:i,nudge:c},S=s.find(({type:k})=>k==="gap_center"),v=S&&au(S.gap.breadthIntersection[0],S.gap.breadthIntersection[1],i.breadthIntersection[0],i.breadthIntersection[1]);S&&S.gap.length>i.length&&v?s[s.indexOf(S)]=w:(!S||!v)&&s.push(w);continue}const h=i.startNode.pageBounds.minY-i.length,u=t.maxY,p=h-u;Ee(Math.abs(p))<=Ee(n.y)&&(Ee(Math.abs(p))<Ee(n.y)&&(s.length=0),n.y=Math.abs(p),s.push({type:"gap_duplicate",gap:i,protrusionDirection:"top",nudge:p}));const y=i.endNode.pageBounds.maxY+i.length,g=t.minY,x=y-g;Ee(Math.abs(x))<=Ee(n.y)&&(Ee(Math.abs(x))<Ee(n.y)&&(s.length=0),n.y=Math.abs(x),s.push({type:"gap_duplicate",gap:i,protrusionDirection:"bottom",nudge:x}))}}getPointSnapLines({nearestSnapsX:t,nearestSnapsY:n}){const r={},s={};if(t.length>0){for(const o of t)if(o.type==="points"){const a=Ee(o.points.otherPoint.x);r[a]||(r[a]=[]),r[a].push(o.points)}}if(n.length>0){for(const o of n)if(o.type==="points"){const a=Ee(o.points.otherPoint.y);s[a]||(s[a]=[]),s[a].push(o.points)}}return Object.values(r).concat(Object.values(s)).map(o=>({id:bt(),type:"points",points:Ym(o.map(a=>P.From(a.otherPoint)).concat(o.map(a=>P.From(a.thisPoint))),(a,i)=>a.equals(i))}))}getGapSnapLines({selectionPageBounds:t,nearestSnapsX:n,nearestSnapsY:r}){const{vertical:s,horizontal:o}=this.getVisibleGaps(),a={top:t.sides[0],right:t.sides[1],bottom:[t.corners[3],t.corners[2]],left:[t.corners[0],t.corners[3]]},i=[];if(n.length>0)for(const l of n){if(l.type==="points")continue;const{gap:{breadthIntersection:c,startEdge:d,startNode:h,endNode:u,length:p,endEdge:y}}=l;switch(l.type){case"gap_center":{const g=(p-t.width)/2,x=oo(c[0],c[1],t.minY,t.maxY);i.push({type:"gaps",direction:"horizontal",id:bt(),gaps:[...ba(o,h.id,g,"backward",x),{startEdge:d,endEdge:a.left},{startEdge:a.right,endEdge:y},...ba(o,u.id,g,"forward",x)]});break}case"gap_duplicate":{const g=oo(c[0],c[1],t.minY,t.maxY);i.push({type:"gaps",direction:"horizontal",id:bt(),gaps:l.protrusionDirection==="left"?[{startEdge:a.right,endEdge:d.map(x=>x.clone().addXY(-h.pageBounds.width,0))},{startEdge:d,endEdge:y},...ba(o,u.id,p,"forward",g)]:[...ba(o,h.id,p,"backward",g),{startEdge:d,endEdge:y},{startEdge:y.map(x=>x.clone().addXY(l.gap.endNode.pageBounds.width,0)),endEdge:a.left}]});break}}}if(r.length>0)for(const l of r){if(l.type==="points")continue;const{gap:{breadthIntersection:c,startEdge:d,startNode:h,endNode:u,length:p,endEdge:y}}=l;switch(l.type){case"gap_center":{const g=(p-t.height)/2,x=oo(c[0],c[1],t.minX,t.maxX);i.push({type:"gaps",direction:"vertical",id:bt(),gaps:[...ba(s,h.id,g,"backward",x),{startEdge:d,endEdge:a.top},{startEdge:a.bottom,endEdge:y},...ba(s,l.gap.endNode.id,g,"forward",x)]});break}case"gap_duplicate":{const g=oo(c[0],c[1],t.minX,t.maxX);i.push({type:"gaps",direction:"vertical",id:bt(),gaps:l.protrusionDirection==="top"?[{startEdge:a.bottom,endEdge:d.map(x=>x.clone().addXY(0,-h.pageBounds.height))},{startEdge:d,endEdge:y},...ba(s,u.id,p,"forward",g)]:[...ba(s,h.id,p,"backward",g),{startEdge:d,endEdge:y},{startEdge:y.map(x=>x.clone().addXY(0,u.pageBounds.height)),endEdge:a.top}]})}break}}return vV(i),i}};zc([oe],al.prototype,"getSnapPointsCache",1);zc([oe],al.prototype,"getSnapThreshold",1);zc([oe],al.prototype,"getSnappableShapes",1);zc([oe],al.prototype,"getCurrentCommonAncestor",1);zc([oe],al.prototype,"getSnappablePoints",1);zc([oe],al.prototype,"getVisibleGaps",1);zc([oe],al.prototype,"getOutlinesInPageSpace",1);function Pv(e,t){const{minX:n,maxX:r,minY:s,maxY:o}=t,a=[];switch(e){case"top":case"left":case"top_left":case"any":a.push({id:"top_left",handle:"top_left",x:n,y:s})}switch(e){case"top":case"right":case"top_right":case"any":a.push({id:"top_right",handle:"top_right",x:r,y:s})}switch(e){case"bottom":case"right":case"bottom_right":case"any":a.push({id:"bottom_right",handle:"bottom_right",x:r,y:o})}switch(e){case"bottom":case"left":case"bottom_left":case"any":a.push({id:"bottom_left",handle:"bottom_left",x:n,y:o})}return a}const kV=/\r?\n|\r/g;function zv(e){return e.replace(kV,`
`).split(`
`).map(t=>t||" ").join(`
`)}const CV={start:"left","start-legacy":"left",middle:"center","middle-legacy":"center",end:"right","end-legacy":"right"},_V=/\s/;let EV=class{constructor(t){m(this,"measureText",(t,n)=>{const r=this.getTextElement();r.setAttribute("dir","ltr"),r.style.setProperty("font-family",n.fontFamily),r.style.setProperty("font-style",n.fontStyle),r.style.setProperty("font-weight",n.fontWeight),r.style.setProperty("font-size",n.fontSize+"px"),r.style.setProperty("line-height",n.lineHeight*n.fontSize+"px"),r.style.setProperty("max-width",n.maxWidth===null?null:n.maxWidth+"px"),r.style.setProperty("min-width",n.minWidth??null),r.style.setProperty("padding",n.padding),r.textContent=zv(t);const s=r.getBoundingClientRect();return{x:0,y:0,w:s.width,h:s.height}});this.editor=t}getTextElement(){const t=document.querySelector(".tl-text-measure");t==null||t.remove();const n=document.createElement("div");return this.editor.getContainer().appendChild(n),n.id=`__textMeasure_${bt()}`,n.classList.add("tl-text"),n.classList.add("tl-text-measure"),n.tabIndex=-1,n}measureElementTextNodeSpans(t,{shouldTruncateToFirstLine:n=!1}={}){const r=[],s=t.getBoundingClientRect(),o=-s.left,a=-s.top,i=new Range,l=t.childNodes[0];let c=0,d=null,h=null,u=0,p=!1;for(const y of t.childNodes)if(y.nodeType===Node.TEXT_NODE)for(const g of y.textContent??""){i.setStart(l,c),i.setEnd(l,c+g.length);const x=i.getClientRects(),w=x[x.length-1],S=w.top+a,v=w.left+o,k=w.right+o,C=_V.test(g);if(C!==h||S!==u||!d){if(d){if(n&&S!==u){p=!0;break}r.push(d)}d={box:{x:v,y:S,w:w.width,h:w.height},text:g}}else d.box.w=k-d.box.x,d.text+=g;h=C,u=S,c+=g.length}return d&&r.push(d),{spans:r,didTruncate:p}}measureTextSpans(t,n){if(t==="")return[];const r=n.overflow==="truncate-ellipsis"||n.overflow==="truncate-clip",s=this.getTextElement(),o=Math.ceil(n.width-n.padding*2);s.style.setProperty("width",`${o}px`),s.style.setProperty("height","min-content"),s.style.setProperty("dir","ltr"),s.style.setProperty("font-size",`${n.fontSize}px`),s.style.setProperty("font-family",n.fontFamily),s.style.setProperty("font-weight",n.fontWeight),s.style.setProperty("line-height",`${n.lineHeight*n.fontSize}px`),s.style.setProperty("text-align",CV[n.textAlign]),r&&(s.style.setProperty("overflow-wrap","anywhere"),s.style.setProperty("word-break","break-all")),t=zv(t),s.textContent=t;const{spans:a,didTruncate:i}=this.measureElementTextNodeSpans(s,{shouldTruncateToFirstLine:r});if(n.overflow==="truncate-ellipsis"&&i){s.textContent="";const l=Math.ceil(this.measureElementTextNodeSpans(s).spans[0].box.w);s.style.setProperty("width",`${o-l}px`),s.textContent=t;const c=this.measureElementTextNodeSpans(s,{shouldTruncateToFirstLine:!0}).spans,d=c[c.length-1];return c.push({text:"",box:{x:Math.min(d.box.x+d.box.w,n.width-n.padding-l),y:d.box.y,w:l,h:d.box.h}}),c}return s.remove(),a}},IV=class{constructor(t){m(this,"raf");m(this,"isPaused",!0);m(this,"last",0);m(this,"t",0);m(this,"start",()=>{this.isPaused=!1,cancelAnimationFrame(this.raf),this.raf=requestAnimationFrame(this.tick),this.last=Date.now()});m(this,"tick",()=>{if(this.isPaused)return;const t=Date.now(),n=t-this.last;if(this.last=t,this.t+=n,this.editor.emit("frame",n),this.t<16){this.raf=requestAnimationFrame(this.tick);return}this.t-=16,this.updatePointerVelocity(n),this.editor.emit("tick",n),this.raf=requestAnimationFrame(this.tick)});m(this,"dispose",()=>{this.isPaused=!0,cancelAnimationFrame(this.raf)});m(this,"prevPoint",new P);m(this,"updatePointerVelocity",t=>{const{prevPoint:n,editor:{inputs:{currentScreenPoint:r,pointerVelocity:s}}}=this;if(t===0)return;const o=P.Sub(r,n);this.prevPoint=r.clone();const a=o.len(),i=a?o.div(a):new P(0,0),l=s.clone().lrp(i.mul(a/t),.5);Math.abs(l.x)<.01&&(l.x=0),Math.abs(l.y)<.01&&(l.y=0),s.equals(l)||(this.editor.inputs.pointerVelocity=l)});this.editor=t,this.editor.disposables.add(this.dispose),this.start()}};var PV=Object.defineProperty,zV=Object.getOwnPropertyDescriptor,Qa=(e,t,n,r)=>{for(var s=r>1?void 0:r?zV(t,n):t,o=e.length-1,a;o>=0;o--)(a=e[o])&&(s=(r?a(t,n,s):a(s))||s);return r&&s&&PV(t,n,s),s};let pa=class{constructor(t,n){m(this,"updateUserPreferences",t=>{this.user.setUserPreferences({...this.user.userPreferences.get(),...t})});this.user=t,this.inferDarkMode=n}getUserPreferences(){return{id:this.getId(),name:this.getName(),locale:this.getLocale(),color:this.getColor(),isDarkMode:this.getIsDarkMode(),animationSpeed:this.getAnimationSpeed(),isSnapMode:this.getIsSnapMode()}}getIsDarkMode(){return this.user.userPreferences.get().isDarkMode??(this.inferDarkMode?OU():!1)}getEdgeScrollSpeed(){return this.user.userPreferences.get().edgeScrollSpeed??Os.edgeScrollSpeed}getAnimationSpeed(){return this.user.userPreferences.get().animationSpeed??Os.animationSpeed}getId(){return this.user.userPreferences.get().id}getName(){return this.user.userPreferences.get().name??Os.name}getLocale(){return this.user.userPreferences.get().locale??Os.locale}getColor(){return this.user.userPreferences.get().color??Os.color}getIsSnapMode(){return this.user.userPreferences.get().isSnapMode??Os.isSnapMode}};Qa([oe],pa.prototype,"getUserPreferences",1);Qa([oe],pa.prototype,"getIsDarkMode",1);Qa([oe],pa.prototype,"getEdgeScrollSpeed",1);Qa([oe],pa.prototype,"getAnimationSpeed",1);Qa([oe],pa.prototype,"getId",1);Qa([oe],pa.prototype,"getName",1);Qa([oe],pa.prototype,"getLocale",1);Qa([oe],pa.prototype,"getColor",1);Qa([oe],pa.prototype,"getIsSnapMode",1);function cu(e){return Math.abs(e.props.bend)<8}function ly(e,t){if(t.type==="point")return;const n=e.getShape(t.boundShapeId),r=e.getShapePageTransform(n),s=e.getShapeGeometry(n),o=s instanceof zi?s.children[0].vertices:s.vertices;return{shape:n,transform:r,isClosed:s.isClosed,isExact:t.isExact,didIntersect:!1,outline:o}}function Av(e,t,n,r){if(n.type==="point")return P.From(n);const s=e.getShape(n.boundShapeId);if(s){const{point:o,size:a}=e.getShapeGeometry(s).bounds,i=P.Add(o,P.MulV(n.isPrecise||r?n.normalizedAnchor:{x:.5,y:.5},a)),l=ge.applyToPoint(e.getShapePageTransform(s),i);return ge.applyToPoint(ge.Inverse(t),l)}else return new P(0,0)}function po(e,t){const n=e.getShapePageTransform(t);let r,s;t.props.start.type==="binding"&&t.props.end.type==="binding"&&(r=t.props.start.boundShapeId,s=t.props.end.boundShapeId);const o=i9(e,r,s),a=Av(e,n,t.props.start,o==="double-bound"||o==="start-contains-end"),i=Av(e,n,t.props.end,o==="double-bound"||o==="end-contains-start");return{start:a,end:i}}const Ed=10,cy=10,AV=10,Ai={s:2,m:3.5,l:5,xl:10};function i9(e,t,n){if(!t||!n)return"safe";if(t===n)return"double-bound";const r=e.getShapePageBounds(t),s=e.getShapePageBounds(n);if(r&&s){if(r.contains(s))return"start-contains-end";if(s.contains(r))return"end-contains-start"}return"safe"}function ip(e,t){const{start:n,end:r,arrowheadStart:s,arrowheadEnd:o}=t.props,a=po(e,t),i=a.start.clone(),l=a.end.clone(),c=P.Med(i,l);if(P.Equals(i,l))return{isStraight:!0,start:{handle:i,point:i,arrowhead:t.props.arrowheadStart},end:{handle:l,point:l,arrowhead:t.props.arrowheadEnd},middle:c,isValid:!1,length:0};const d=P.Sub(l,i).uni(),h=ly(e,n),u=ly(e,r),p=e.getShapePageTransform(t);Nv(l,a.start,p,u),Nv(i,a.end,p,h);let y=0,g=0,x=0,w=0,S=Ed;const v=h&&u&&h.shape===u.shape,k=h&&u?i9(e,h.shape.id,u.shape.id):"safe";k==="safe"&&h&&u&&!v&&!h.isExact&&!u.isExact&&(u.didIntersect&&!h.didIntersect?h.isClosed&&i.setTo(l.clone().add(d.clone().mul(Ed))):u.didIntersect||u.isClosed&&l.setTo(i.clone().sub(d.clone().mul(Ed))));const C=P.Sub(l,i).uni(),_=!P.Equals(C,d);v||(k!=="start-contains-end"&&h&&s!=="none"&&!h.isExact&&(x=Ai[t.props.size]/2+("size"in h.shape.props?Ai[h.shape.props.size]/2:0),y=cy+x,S+=x),k!=="end-contains-start"&&u&&o!=="none"&&!u.isExact&&(w=Ai[t.props.size]/2+("size"in u.shape.props?Ai[u.shape.props.size]/2:0),g=cy+w,S+=w));const E=i.clone().add(C.clone().mul(y*(_?-1:1))),I=l.clone().sub(C.clone().mul(g*(_?-1:1)));P.Dist(E,I)<S&&(y!==0&&g!==0?(y*=-1.5,g*=-1.5):y!==0?y*=-1:g!==0&&(g*=-1)),i.add(C.clone().mul(y*(_?-1:1))),l.sub(C.clone().mul(g*(_?-1:1))),_?(h&&u&&l.setTo(P.Add(i,C.clone().mul(-Ed))),c.setTo(P.Med(a.start,a.end))):c.setTo(P.Med(i,l));const A=P.Dist(i,l);return{isStraight:!0,start:{handle:a.start,point:i,arrowhead:t.props.arrowheadStart},end:{handle:a.end,point:l,arrowhead:t.props.arrowheadEnd},middle:c,isValid:A>0,length:A}}function Nv(e,t,n,r){if(r===void 0||r.isExact)return;const s=ge.applyToPoint(n,t),o=ge.applyToPoint(n,e),a=ge.applyToPoint(ge.Inverse(r.transform),s),i=ge.applyToPoint(ge.Inverse(r.transform),o),l=r.isClosed,d=(l?VU:nP)(a,i,r.outline);let h;if(d!==null&&(h=d.sort((y,g)=>P.Dist(y,a)-P.Dist(g,a))[0]??(l?void 0:i)),h===void 0)return;const u=ge.applyToPoint(r.transform,h),p=ge.applyToPoint(ge.Inverse(n),u);e.setTo(p),r.didIntersect=!0}function NV(e){return uP(e.start.handle,e.end.handle)}function Y2(e){return uP(e.start.point,e.end.point)}function uP(e,t){return`M${e.x},${e.y}L${t.x},${t.y}`}function H2(e,t,n=0){const{arrowheadEnd:r,arrowheadStart:s}=t.props,o=t.props.bend+n;if(Math.abs(o)>Math.abs(t.props.bend*AV))return ip(e,t);const a=po(e,t),i=P.Med(a.start,a.end),l=P.Sub(a.end,a.start).uni(),c=P.Add(i,l.per().mul(-o)),d=ly(e,t.props.start),h=ly(e,t.props.end),u=a.start.clone(),p=a.end.clone(),y=c.clone();if(P.Equals(u,p))return{isStraight:!0,start:{handle:u,point:u,arrowhead:t.props.arrowheadStart},end:{handle:p,point:p,arrowhead:t.props.arrowheadEnd},middle:y,isValid:!1,length:0};const g=t.props.bend<0,x=g?w1:tF,w=Tv(u,p,y),S=P.Angle(w.center,u),v=P.Angle(w.center,p),k=x(S,v);if(w.length===0||w.size===0||!Z7(w.length)||!Z7(w.size))return ip(e,t);const C=u.clone(),_=p.clone(),E=y.clone(),I=e.getShapePageTransform(t);let z=0,A=0,T=Ed;if(d&&!d.isExact){const W=ge.applyToPoint(I,C),G=ge.applyToPoint(I,w.center),ne=ge.applyToPoint(I,_),ce=ge.Inverse(d.transform),Le=ge.applyToPoint(ce,W),re=ge.applyToPoint(ce,G),Pe=ge.applyToPoint(ce,ne),{isClosed:Me}=d,ht=Me?Sv:bv;let je,Ke=ht(re,w.radius,d.outline);if(Ke){const Ae=re.angle(Le),at=re.angle(Pe),Lt=x(Ae,at);Ke=Ke.filter(He=>x(Ae,re.angle(He))<=Lt);const ln=Lt*.25;Ke.sort(Me?(He,tt)=>Math.abs(x(Ae,re.angle(He))-ln)<Math.abs(x(Ae,re.angle(tt))-ln)?-1:1:(He,tt)=>x(Ae,re.angle(He))<x(Ae,re.angle(tt))?-1:1),je=Ke[0]??(Me?void 0:Le)}else je=Me?void 0:Le;if(je&&(C.setTo(e.getPointInShapeSpace(t,ge.applyToPoint(d.transform,je))),d.didIntersect=!0,s!=="none")){const Ae=Ai[t.props.size]/2+("size"in d.shape.props?Ai[d.shape.props.size]/2:0);z=cy+Ae,T+=Ae}}if(h&&!h.isExact){const W=ge.applyToPoint(I,C),G=ge.applyToPoint(I,_),ne=ge.applyToPoint(I,w.center),ce=ge.Inverse(h.transform),Le=ge.applyToPoint(ce,W),re=ge.applyToPoint(ce,ne),Pe=ge.applyToPoint(ce,G),Me=h.isClosed,ht=Me?Sv:bv;let je,Ke=ht(re,w.radius,h.outline);if(Ke){const Ae=re.angle(Le),at=re.angle(Pe),Lt=x(Ae,at),ln=Lt*.75;Ke=Ke.filter(He=>x(Ae,re.angle(He))<=Lt),Ke.sort(Me?(He,tt)=>Math.abs(x(Ae,re.angle(He))-ln)<Math.abs(x(Ae,re.angle(tt))-ln)?-1:1:(He,tt)=>x(Ae,re.angle(He))<x(Ae,re.angle(tt))?-1:1),Ke[0]?je=Ke[0]:je=Me?void 0:Pe}else je=Me?void 0:Pe;if(je&&(_.setTo(e.getPointInShapeSpace(t,ge.applyToPoint(h.transform,je))),h.didIntersect=!0,r!=="none")){const Ae=Ai[t.props.size]/2+("size"in h.shape.props?Ai[h.shape.props.size]/2:0);A=cy+Ae,T+=Ae}}let j=P.Angle(w.center,C),R=P.Angle(w.center,_),M=x(j,R),D=M*w.radius;const U=C.clone(),Y=_.clone();if(z!==0){const W=z/D*(g?1:-1),G=P.FromAngle(j+M*W);U.setTo(w.center).add(G.mul(w.radius))}if(A!==0){const W=A/D*(g?-1:1),G=P.FromAngle(R+M*W);Y.setTo(w.center).add(G.mul(w.radius))}if(P.Dist(U,Y)<T&&(z!==0&&A!==0?(z*=-1.5,A*=-1.5):z!==0?z*=-2:A!==0&&(A*=-2)),z!==0){const W=z/D*(g?1:-1),G=P.FromAngle(j+M*W);C.setTo(w.center).add(G.mul(w.radius))}if(A!==0){const W=A/D*(g?-1:1),G=P.FromAngle(R+M*W);_.setTo(w.center).add(G.mul(w.radius))}if(d&&h&&!d.isExact&&!h.isExact){j=P.Angle(w.center,C),R=P.Angle(w.center,_),M=x(j,R),D=M*w.radius;const W=i9(e,d.shape.id,h.shape.id);if(W==="double-bound"&&D<30)C.setTo(u),_.setTo(p),E.setTo(y);else if(W==="safe"&&(d&&!d.didIntersect&&C.setTo(u),h&&!h.didIntersect||x(S,j)>x(S,R))){const G=Math.min(.9,Ed/D)*(g?1:-1),ne=P.FromAngle(j+M*G);_.setTo(w.center).add(ne.mul(w.radius))}}LV(w.center,w.radius,C,_,E,k,g),C.equals(_)&&(C.setTo(E.clone().addXY(1,1)),_.setTo(E.clone().subXY(1,1))),u.setTo(C),p.setTo(_),y.setTo(E);const K=Tv(u,p,y);return{isStraight:!1,start:{point:u,handle:a.start,arrowhead:t.props.arrowheadStart},end:{point:p,handle:a.end,arrowhead:t.props.arrowheadEnd},middle:y,handleArc:w,bodyArc:K,isValid:K.length!==0&&isFinite(K.center.x)&&isFinite(K.center.y)}}function TV(e){const{start:t,end:n,handleArc:{radius:r,largeArcFlag:s,sweepFlag:o}}=e;return`M${t.handle.x},${t.handle.y} A${r} ${r} 0 ${s} ${o} ${n.handle.x},${n.handle.y}`}function G2(e){const{start:t,end:n,bodyArc:{radius:r,largeArcFlag:s,sweepFlag:o}}=e;return`M${t.point.x},${t.point.y} A${r} ${r} 0 ${s} ${o} ${n.point.x},${n.point.y}`}function Tv(e,t,n){const r=-2*(e.x*(t.y-n.y)-e.y*(t.x-n.x)+t.x*n.y-n.x*t.y),s={x:((e.x*e.x+e.y*e.y)*(n.y-t.y)+(t.x*t.x+t.y*t.y)*(e.y-n.y)+(n.x*n.x+n.y*n.y)*(t.y-e.y))/r,y:((e.x*e.x+e.y*e.y)*(t.x-n.x)+(t.x*t.x+t.y*t.y)*(n.x-e.x)+(n.x*n.x+n.y*n.y)*(e.x-t.x))/r},o=P.Dist(s,e),a=+P.Clockwise(e,n,t),i=Math.hypot(e.y-t.y,e.x-t.x),l=Math.hypot(t.y-n.y,t.x-n.x),c=Math.hypot(n.y-e.y,n.x-e.x),d=Math.acos((l*l+c*c-i*i)/(2*l*c))*2,h=+(lt>d),u=(dt-d)*(a?1:-1),p=u*o;return{center:s,radius:o,size:u,length:p,largeArcFlag:h,sweepFlag:a}}function LV(e,t,n,r,s,o,a){const i=P.Angle(e,n),l=P.Angle(e,r);let c=w1(i,l);a||(c=dt-c);const d=.5*(a?1:-1),h=P.FromAngle(i+c*d);if(s.setTo(e).add(h.mul(t)),c>o){s.rotWith(e,lt);const u=r.clone();r.setTo(n),n.setTo(u)}}const MV={wheel:"onWheel",pointer_down:"onPointerDown",pointer_move:"onPointerMove",pointer_up:"onPointerUp",right_click:"onRightClick",middle_click:"onMiddleClick",key_down:"onKeyDown",key_up:"onKeyUp",key_repeat:"onKeyRepeat",cancel:"onCancel",complete:"onComplete",interrupt:"onInterrupt",double_click:"onDoubleClick",triple_click:"onTripleClick",quadruple_click:"onQuadrupleClick"};var Ku;let he=(Ku=class{constructor(t,n){m(this,"id");m(this,"type");m(this,"shapeType");m(this,"initial");m(this,"children");m(this,"parent");m(this,"_path");m(this,"_current");m(this,"_isActive");m(this,"transition",(t,n={})=>{var o;const r=t.split(".");let s=this;for(let a=0;a<r.length;a++){const i=r[a],l=s.getCurrent(),c=(o=s.children)==null?void 0:o[i];if(!c)throw Error(`${s.id} - no child state exists with the id ${i}.`);if((l==null?void 0:l.id)!==c.id&&(l==null||l.exit(n,i),s._current.set(c),c.enter(n,(l==null?void 0:l.id)||"initial"),!c.getIsActive()))break;s=c}return this});m(this,"handleEvent",t=>{var s;const n=MV[t.name],r=this.getCurrent();(s=this[n])==null||s.call(this,t),this.getCurrent()===r&&this.getIsActive()&&(r==null||r.handleEvent(t))});m(this,"enter",(t,n)=>{var r;if(this._isActive.set(!0),(r=this.onEnter)==null||r.call(this,t,n),this.onTick&&this.editor.on("tick",this.onTick),this.children&&this.initial&&this.getIsActive()){const s=this.children[this.initial];this._current.set(s),s.enter(t,n)}});m(this,"exit",(t,n)=>{var r,s;this._isActive.set(!1),this.onTick&&this.editor.off("tick",this.onTick),(r=this.onExit)==null||r.call(this,t,n),this.getIsActive()||(s=this.getCurrent())==null||s.exit(t,n)});m(this,"_currentToolIdMask",ys("curent tool id mask",void 0));m(this,"onWheel");m(this,"onPointerDown");m(this,"onPointerMove");m(this,"onPointerUp");m(this,"onDoubleClick");m(this,"onTripleClick");m(this,"onQuadrupleClick");m(this,"onRightClick");m(this,"onMiddleClick");m(this,"onKeyDown");m(this,"onKeyUp");m(this,"onKeyRepeat");m(this,"onCancel");m(this,"onComplete");m(this,"onInterrupt");m(this,"onEnter");m(this,"onExit");m(this,"onTick");this.editor=t;const{id:r,children:s,initial:o}=this.constructor;this.id=r,this._isActive=ys("toolIsActive"+this.id,!1),this._current=ys("toolState"+this.id,void 0),this._path=oe("toolPath"+this.id,()=>{const a=this.getCurrent();return this.id+(a?`.${a.getPath()}`:"")}),this.parent=n??{},this.parent?s&&o?(this.type="branch",this.initial=o,this.children=Object.fromEntries(s().map(a=>[a.id,new a(this.editor,this)])),this._current.set(this.children[this.initial])):this.type="leaf":(this.type="root",s&&o&&(this.initial=o,this.children=Object.fromEntries(s().map(a=>[a.id,new a(this.editor,this)])),this._current.set(this.children[this.initial])))}getPath(){return this._path.get()}getCurrent(){return this._current.get()}getIsActive(){return this._isActive.get()}getCurrentToolIdMask(){return this._currentToolIdMask.get()}setCurrentToolIdMask(t){this._currentToolIdMask.set(t)}},m(Ku,"id"),m(Ku,"initial"),m(Ku,"children"),Ku);var Wu;let jV=(Wu=class extends he{constructor(){super(...arguments);m(this,"onKeyDown",n=>{var r;switch(n.code){case"KeyZ":{if(!(n.shiftKey||n.ctrlKey)){const s=this.getCurrent();s&&((r=s.getCurrent())==null?void 0:r.id)==="idle"&&this.children.zoom&&this.editor.setCurrentTool("zoom",{...n,onInteractionEnd:s.id})}break}}})}},m(Wu,"id","root"),m(Wu,"initial",""),m(Wu,"children",()=>[]),Wu);var RV=Object.defineProperty,$V=Object.getOwnPropertyDescriptor,ve=(e,t,n,r)=>{for(var s=r>1?void 0:r?$V(t,n):t,o=e.length-1,a;o>=0;o--)(a=e[o])&&(s=(r?a(t,n,s):a(s))||s);return r&&s&&RV(t,n,s),s};let Se=class extends tP.EventEmitter{constructor({store:n,user:r,shapeUtils:s,tools:o,getContainer:a,initialState:i,inferDarkMode:l}){super();m(this,"store");m(this,"root");m(this,"disposables",new Set);m(this,"_tickManager",new IV(this));m(this,"snaps");m(this,"user");m(this,"textMeasure");m(this,"environment");m(this,"scribbles");m(this,"getContainer");m(this,"sideEffects");m(this,"shapeUtils");m(this,"styleProps");m(this,"history",new yV(this,n=>{this.annotateError(n,{origin:"history.batch",willCrashApp:!0}),this.crash(n)}));m(this,"_crashingError",null);m(this,"_updateInstanceState",this.history.createCommand("updateInstanceState",(n,r)=>{const s=this.store.get(this.getInstanceState().id),o={...s,...n};return{data:{prev:s,next:o},ephemeral:!1,squashing:!1,...r}},{do:({next:n})=>{this.store.put([n])},undo:({prev:n})=>{this.store.put([n])},squash({prev:n},{next:r}){return{prev:n,next:r}}}));m(this,"_isChangingStyleTimeout",-1);m(this,"setCursor",n=>(this.updateInstanceState({cursor:{...this.getInstanceState().cursor,...n}},{ephemeral:!0}),this));m(this,"_setInstancePageState",this.history.createCommand("setInstancePageState",(n,r)=>({data:{prev:this.store.get(n.id??this.getCurrentPageState().id),partial:n},...r}),{do:({prev:n,partial:r})=>{this.store.update(n.id,s=>({...s,...r}))},undo:({prev:n})=>{this.store.update(n.id,()=>n)}}));m(this,"_setSelectedShapes",this.history.createCommand("setSelectedShapes",(n,r)=>{const{selectedShapeIds:s}=this.getCurrentPageState(),o=new Set(s);return n.length===o.size&&n.every(a=>o.has(a))?null:{data:{selectedShapeIds:n,prevSelectedShapeIds:s},preservesRedoStack:!0,...r}},{do:({selectedShapeIds:n})=>{this.store.put([{...this.getCurrentPageState(),selectedShapeIds:n}])},undo:({prevSelectedShapeIds:n})=>{this.store.put([{...this.getCurrentPageState(),selectedShapeIds:n}])},squash({prevSelectedShapeIds:n},{selectedShapeIds:r}){return{selectedShapeIds:r,prevSelectedShapeIds:n}}}));m(this,"_setFocusedGroupId",this.history.createCommand("setFocusedGroupId",n=>{const r=this.getCurrentPageState().focusedGroupId;if(r!==n)return{data:{prev:r,next:n},preservesRedoStack:!0,squashing:!0}},{do:({next:n})=>{this.store.update(this.getCurrentPageState().id,r=>({...r,focusedGroupId:n}))},undo:({prev:n})=>{this.store.update(this.getCurrentPageState().id,r=>({...r,focusedGroupId:n}))},squash({prev:n},{next:r}){return{prev:n,next:r}}}));m(this,"_cameraOptions",ys("camera options",hF));m(this,"_viewportAnimation",null);m(this,"_willSetInitialBounds",!0);m(this,"_cameraState",ys("camera state","idle"));m(this,"_cameraStateTimeoutRemaining",0);m(this,"_lastUpdateRenderingBoundsTimestamp",Date.now());m(this,"_decayCameraStateTimeout",n=>{this._cameraStateTimeoutRemaining-=n,this._cameraStateTimeoutRemaining<=0&&(this.off("tick",this._decayCameraStateTimeout),this._cameraState.set("idle"),this.updateRenderingBounds())});m(this,"_tickCameraState",()=>{this._cameraStateTimeoutRemaining=kF;const n=Date.now();this._cameraState.__unsafe__getWithoutCapture()==="idle"?(this._lastUpdateRenderingBoundsTimestamp=n,this._cameraState.set("moving"),this.on("tick",this._decayCameraStateTimeout)):n-this._lastUpdateRenderingBoundsTimestamp>CF&&this.updateRenderingBounds()});m(this,"_renderingBounds",ys("rendering viewport",new xe));m(this,"_renderingBoundsExpanded",ys("rendering viewport expanded",new xe));m(this,"renderingBoundsMargin",100);m(this,"_currentPageShapeIds");m(this,"_setCurrentPageId",this.history.createCommand("setCurrentPage",(n,r)=>{if(!this.store.has(n)){console.error("Tried to set the current page id to a page that doesn't exist.");return}return this.stopFollowingUser(),{data:{toId:n,fromId:this.getCurrentPageId()},squashing:!0,preservesRedoStack:!0,...r}},{do:({toId:n})=>{if(this.store.has(n)){if(!this.getPageStates().find(r=>r.pageId===n)){const r=or.create({id:or.createId(n)});this.store.put([r,ar.create({id:ar.createId(n),pageId:n})])}this.store.put([{...this.getInstanceState(),currentPageId:n}]),this.updateRenderingBounds()}},undo:({fromId:n})=>{this.store.has(n)&&(this.store.put([{...this.getInstanceState(),currentPageId:n}]),this.updateRenderingBounds())},squash:({fromId:n},{toId:r})=>({toId:r,fromId:n})}));m(this,"_updatePage",this.history.createCommand("updatePage",(n,r)=>{if(this.getInstanceState().isReadonly)return null;const s=this.getPage(n.id);return s?{data:{prev:s,partial:n},...r}:null},{do:({partial:n})=>{this.store.update(n.id,r=>({...r,...n}))},undo:({prev:n,partial:r})=>{this.store.update(r.id,()=>n)},squash(n,r){return{prev:{...n.prev,...r.prev},partial:r.partial}}}));m(this,"_createPage",this.history.createCommand("createPage",n=>{if(this.getInstanceState().isReadonly||this.getPages().length>=ty)return null;const r=this.getPages(),s=tV(n.name??"Page 1",r.map(c=>c.name));let o=n.index;(!o||r.some(c=>c.index===o))&&(o=Ea(r[r.length-1].index));const a=Ba.create({meta:{},...n,name:s,index:o}),i=or.create({id:or.createId(a.id)}),l=ar.create({id:ar.createId(a.id),pageId:a.id});return{data:{newPage:a,newTabPageState:l,newCamera:i}}},{do:({newPage:n,newTabPageState:r,newCamera:s})=>{this.store.put([n,s,r])},undo:({newPage:n,newTabPageState:r,newCamera:s})=>{this.getPages().length!==1&&this.store.remove([r.id,n.id,s.id])}}));m(this,"_deletePage",this.history.createCommand("delete_page",n=>{if(this.getInstanceState().isReadonly)return null;const r=this.getPages();if(r.length===1)return null;const s=this.getPage(n),o=this.getPageStates().filter(a=>a.pageId===n);if(!s)return null;if(n===this.getCurrentPageId()){const a=r.findIndex(l=>l.id===n),i=r[a-1]??r[a+1];this.setCurrentPage(i.id)}return{data:{id:n,deletedPage:s,deletedPageStates:o}}},{do:({deletedPage:n,deletedPageStates:r})=>{const s=this.getPages();if(s.length!==1){if(n.id===this.getCurrentPageId()){const o=s.findIndex(i=>i.id===n.id),a=s[o-1]??s[o+1];this.setCurrentPage(a.id)}this.store.remove(r.map(o=>o.id)),this.store.remove([n.id]),this.updateRenderingBounds()}},undo:({deletedPage:n,deletedPageStates:r})=>{this.store.put([n]),this.store.put(r),this.updateRenderingBounds()}}));m(this,"_createAssets",this.history.createCommand("createAssets",n=>this.getInstanceState().isReadonly||n.length<=0?null:{data:{assets:n}},{do:({assets:n})=>{this.store.put(n)},undo:({assets:n})=>{this.store.remove(n.map(r=>r.id))}}));m(this,"_updateAssets",this.history.createCommand("updateAssets",n=>this.getInstanceState().isReadonly||n.length<=0?void 0:{data:{snapshots:{},assets:n}},{do:({assets:n,snapshots:r})=>{this.store.put(n.map(s=>{const o=this.store.get(s.id);return r[s.id]=o,{...o,...s}}))},undo:({snapshots:n})=>{this.store.put(Object.values(n))}}));m(this,"_deleteAssets",this.history.createCommand("deleteAssets",n=>{if(this.getInstanceState().isReadonly||n.length<=0)return;const r=ze(n.map(s=>this.store.get(s)));return{data:{ids:n,prev:r}}},{do:({ids:n})=>{this.store.remove(n)},undo:({prev:n})=>{this.store.put(n)}}));m(this,"_parentIdsToChildIds");m(this,"_childIdsCache",new a9);m(this,"_createShapes",this.history.createCommand("createShapes",n=>{if(this.getInstanceState().isReadonly||n.length<=0)return null;const r=this.getCurrentPageShapeIds();if(n.length+r.size>Sa){Ig(this);return}return n.length===0?null:{data:{currentPageId:this.getCurrentPageId(),partials:n.map(o=>o.id?o:{...o,id:gt()})}}},{do:({partials:n})=>{var i,l;const r=this.getFocusedGroupId(),s=this.getCurrentPageShapesSorted();n=n.map(c=>{if(!c.parentId||!(this.store.has(c.parentId)||n.some(d=>d.id===c.parentId))){let d=this.getFocusedGroupId();for(let u=s.length-1;u>=0;u--){const p=s[u];if(this.getShapeUtil(p).canReceiveNewChildrenOfType(p,c.type)&&this.isPointInShape(p,{x:c.x??0,y:c.y??0},{margin:0,hitInside:!0})){d=p.id;break}}const h=c.parentId;if(d===c.id&&(d=r),d!==h&&(c={...c},c.parentId=d,js(d))){const u=this.getPointInShapeSpace(this.getShape(d),{x:c.x??0,y:c.y??0});c.x=u.x,c.y=u.y,c.rotation=-this.getShapePageTransform(d).rotation()+(c.rotation??0)}}return c});const o=new Map,a=[];for(const c of n){const d=this.getShapeUtil(c);let h=c.index;if(!h){const g=c.parentId??r;o.has(g)||o.set(g,this.getHighestIndexForParent(g)),h=o.get(g),o.set(g,Ea(h))}const u=d.getDefaultProps();for(const[g,x]of this.styleProps[c.type])u[x]=this.getStyleForNextShape(g);let p=this.store.schema.types.shape.create({...c,index:h,opacity:c.opacity??this.getInstanceState().opacityForNextShape,parentId:c.parentId??r,props:"props"in c?{...u,...c.props}:u});if(p.index===void 0)throw Error("no index!");const y=(l=(i=this.getShapeUtil(p)).onBeforeCreate)==null?void 0:l.call(i,p);y&&(p=y),a.push(p)}a.forEach(c=>{c.meta={...this.getInitialMetaForShape(c),...c.meta}}),this.store.put(a)},undo:({partials:n})=>{this.store.remove(n.map(r=>r.id))}}));m(this,"animatingShapes",new Map);m(this,"_updateShapes",this.history.createCommand("updateShapes",(n,r)=>{if(this.getInstanceState().isReadonly)return null;const s=ze(n),o=Object.fromEntries(ze(s.map(({id:l})=>this.getShape(l))).map(l=>[l.id,l]));if(s.length<=0)return null;const a=ze(s.map(l=>{const c=o[l.id];if(!c)return null;let d=null;for(const[h,u]of Object.entries(l))if(u!==void 0)switch(h){case"id":case"type":continue;default:if(u!==c[h])if(d||(d={...c}),h==="props"){const p={...c.props};for(const[y,g]of Object.entries(u))g!==void 0&&(p[y]=g);d.props=p}else if(h==="meta"){const p={...c.meta};for(const[y,g]of Object.entries(u))g!==void 0&&(p[y]=g);d.meta=p}else d[h]=u}return d??c})),i=Object.fromEntries(a.map(l=>[l.id,l]));return{data:{snapshots:o,updates:i},...r}},{do:({updates:n})=>{var s,o;const r=Object.values(n);for(let a=0;a<r.length;a++){const i=r[a],l=this.store.get(i.id);if(!l)continue;const c=(o=(s=this.getShapeUtil(i)).onBeforeUpdate)==null?void 0:o.call(s,l,i);c&&(r[a]=c)}this.store.put(r)},undo:({snapshots:n})=>{this.store.put(Object.values(n))},squash(n,r){return{snapshots:{...r.snapshots,...n.snapshots},updates:{...n.updates,...r.updates}}}}));m(this,"_deleteShapes",this.history.createCommand("delete_shapes",n=>{if(this.getInstanceState().isReadonly||n.length===0)return null;const r=[...this.getCurrentPageState().selectedShapeIds],s=new Set(n);for(const c of n)this.visitDescendants(c,d=>{s.add(d)});const o=[...s],a=this._getArrowBindingsIndex().get(),i=ze(o.flatMap(c=>{const d=this.getShape(c),h=a[c];return h&&h.length>0?h.map(({arrowId:u})=>this.getShape(u)).concat(d):d})),l=r.filter(c=>!s.has(c));return{data:{deletedIds:o,snapshots:i,prevSelectedShapeIds:r,postSelectedShapeIds:l}}},{do:({deletedIds:n,postSelectedShapeIds:r})=>{this.store.remove(n),this.store.update(this.getCurrentPageState().id,s=>({...s,selectedShapeIds:r}))},undo:({snapshots:n,prevSelectedShapeIds:r})=>{this.store.put(n),this.store.update(this.getCurrentPageState().id,s=>({...s,selectedShapeIds:r}))}}));m(this,"_selectionSharedStyles",oe("_selectionSharedStyles",()=>{const n=this.getSelectedShapes(),r=new Aw;for(const s of n)this._extractSharedStyles(s,r);return r}));m(this,"externalAssetContentHandlers",{file:null,url:null});m(this,"externalContentHandlers",{text:null,files:null,embed:null,"svg-text":null,url:null});m(this,"inputs",{originPagePoint:new P,originScreenPoint:new P,previousPagePoint:new P,previousScreenPoint:new P,currentPagePoint:new P,currentScreenPoint:new P,keys:new Set,buttons:new Set,isPen:!1,shiftKey:!1,ctrlKey:!1,altKey:!1,isDragging:!1,isPointing:!1,isPinching:!1,isEditing:!1,isPanning:!1,pointerVelocity:new P});m(this,"_clickManager",new pV(this));m(this,"_prevCursor","default");m(this,"_shiftKeyTimeout",-1);m(this,"_setShiftKeyTimeout",()=>{this.inputs.shiftKey=!1,this.dispatch({type:"keyboard",name:"key_up",key:"Shift",shiftKey:this.inputs.shiftKey,ctrlKey:this.inputs.ctrlKey,altKey:this.inputs.altKey,code:"ShiftLeft"})});m(this,"_altKeyTimeout",-1);m(this,"_setAltKeyTimeout",()=>{this.inputs.altKey=!1,this.dispatch({type:"keyboard",name:"key_up",key:"Alt",shiftKey:this.inputs.shiftKey,ctrlKey:this.inputs.ctrlKey,altKey:this.inputs.altKey,code:"AltLeft"})});m(this,"_ctrlKeyTimeout",-1);m(this,"_setCtrlKeyTimeout",()=>{this.inputs.ctrlKey=!1,this.dispatch({type:"keyboard",name:"key_up",key:"Ctrl",shiftKey:this.inputs.shiftKey,ctrlKey:this.inputs.ctrlKey,altKey:this.inputs.altKey,code:"ControlLeft"})});m(this,"_restoreToolId","select");m(this,"_pinchStart",1);m(this,"_didPinch",!1);m(this,"_selectedShapeIdsAtPointerDown",[]);m(this,"capturedPointerId",null);m(this,"dispatch",n=>{if(this.getCrashingError())return this;const{inputs:r}=this,{type:s}=n;return this.batch(()=>{if(n.type==="misc"){(n.name==="cancel"||n.name==="complete")&&(this.inputs.isDragging=!1,this.inputs.isPanning&&(this.inputs.isPanning=!1,this.updateInstanceState({cursor:{type:this._prevCursor,rotation:0}}))),this.root.handleEvent(n);return}n.shiftKey?(clearInterval(this._shiftKeyTimeout),this._shiftKeyTimeout=-1,r.shiftKey=!0):!n.shiftKey&&r.shiftKey&&this._shiftKeyTimeout===-1&&(this._shiftKeyTimeout=setTimeout(this._setShiftKeyTimeout,150)),n.altKey?(clearInterval(this._altKeyTimeout),this._altKeyTimeout=-1,r.altKey=!0):!n.altKey&&r.altKey&&this._altKeyTimeout===-1&&(this._altKeyTimeout=setTimeout(this._setAltKeyTimeout,150)),n.ctrlKey?(clearInterval(this._ctrlKeyTimeout),this._ctrlKeyTimeout=-1,r.ctrlKey=!0):!n.ctrlKey&&r.ctrlKey&&this._ctrlKeyTimeout===-1&&(this._ctrlKeyTimeout=setTimeout(this._setCtrlKeyTimeout,150));const{originPagePoint:o,originScreenPoint:a,currentPagePoint:i,currentScreenPoint:l}=r;switch(r.isPointing||(r.isDragging=!1),s){case"pinch":{if(!this.getInstanceState().canMoveCamera)return;switch(this._updateInputsFromEvent(n),n.name){case"pinch_start":{if(r.isPinching)return;r.isEditing||(this._pinchStart=this.getCamera().z,this._selectedShapeIdsAtPointerDown.length||(this._selectedShapeIdsAtPointerDown=this.getSelectedShapeIds()),this._didPinch=!0,r.isPinching=!0,this.interrupt());return}case"pinch":{if(!r.isPinching)return;const{point:{x:c,y:d,z:h=1},delta:{x:u,y:p}}=n,{x:y,y:g,z:x}=this.getCamera(),w=Math.min(_i,Math.max(iu,h));this.setCamera({x:y+u/x-c/x+c/w,y:g+p/x-d/x+d/w,z:w});return}case"pinch_end":{if(!r.isPinching)return this;r.isPinching=!1;const{_selectedShapeIdsAtPointerDown:c}=this;this.setSelectedShapes(this._selectedShapeIdsAtPointerDown,{squashing:!0}),this._selectedShapeIdsAtPointerDown=[],this._didPinch&&(this._didPinch=!1,requestAnimationFrame(()=>{this._didPinch||this.setSelectedShapes(c,{squashing:!0})}));return}}}case"wheel":{if(!this.getInstanceState().canMoveCamera)return;if(this._updateInputsFromEvent(n),!this.getIsMenuOpen()){if(r.ctrlKey){const{x:c,y:d}=this.inputs.currentScreenPoint,{x:h,y:u,z:p}=this.getCamera(),y=Math.min(_i,Math.max(iu,p+(n.delta.z??0)*p));this.setCamera({x:h+(c/y-c)-(c/p-c),y:u+(d/y-d)-(d/p-d),z:y});return}this.pan(n.delta),!r.isDragging&&r.isPointing&&o.dist(i)>(this.getInstanceState().isCoarsePointer?Ew:Lp)/this.getZoomLevel()&&(r.isDragging=!0)}break}case"pointer":{if(r.isPinching)return;this._updateInputsFromEvent(n);const{isPen:c}=n;switch(n.name){case"pointer_down":{if(this._selectedShapeIdsAtPointerDown=this.getSelectedShapeIds(),n.button===0&&(this.capturedPointerId=n.pointerId),r.buttons.add(n.button),r.isPointing=!0,r.isDragging=!1,this.getInstanceState().isPenMode){if(!c)return}else c&&this.updateInstanceState({isPenMode:!0});if(n.button===5?(this._restoreToolId=this.getCurrentToolId(),this.complete(),this.setCurrentTool("eraser")):n.button===1&&(this.inputs.isPanning||(this._prevCursor=this.getInstanceState().cursor.type),this.inputs.isPanning=!0),this.inputs.isPanning)return this.stopCameraAnimation(),this.updateInstanceState({cursor:{type:"grabbing",rotation:0}}),this;a.setTo(l),o.setTo(i);break}case"pointer_move":{if(!c&&this.getInstanceState().isPenMode)return;if(this.inputs.isPanning&&this.inputs.isPointing){const{currentScreenPoint:d,previousScreenPoint:h}=this.inputs;this.pan(P.Sub(d,h));return}!r.isDragging&&r.isPointing&&o.dist(i)>(this.getInstanceState().isCoarsePointer?Ew:Lp)/this.getZoomLevel()&&(r.isDragging=!0);break}case"pointer_up":{if(r.buttons.delete(n.button),r.isPointing=!1,r.isDragging=!1,this.getIsMenuOpen()||!c&&this.getInstanceState().isPenMode)return;this.capturedPointerId===n.pointerId&&(this.capturedPointerId=null,n.button=0),r.isPanning?n.button===1?this.inputs.keys.has(" ")?(this.slideCamera({speed:Math.min(2,this.inputs.pointerVelocity.len()),direction:this.inputs.pointerVelocity,friction:j0}),this.updateInstanceState({cursor:{type:"grab",rotation:0}})):(r.isPanning=!1,this.slideCamera({speed:Math.min(2,this.inputs.pointerVelocity.len()),direction:this.inputs.pointerVelocity,friction:j0}),this.updateInstanceState({cursor:{type:this._prevCursor,rotation:0}})):n.button===0&&(this.slideCamera({speed:Math.min(2,this.inputs.pointerVelocity.len()),direction:this.inputs.pointerVelocity,friction:j0}),this.updateInstanceState({cursor:{type:"grab",rotation:0}})):n.button===5&&(this.complete(),this.setCurrentTool(this._restoreToolId));break}}break}case"keyboard":{switch(n.key==="ShiftRight"&&(n.key="ShiftLeft"),n.key==="AltRight"&&(n.key="AltLeft"),n.code==="ControlRight"&&(n.code="ControlLeft"),n.name){case"key_down":{r.keys.add(n.code),!n.ctrlKey&&n.code==="Space"&&(this.inputs.isPanning||(this._prevCursor=this.getInstanceState().cursor.type),this.inputs.isPanning=!0,this.updateInstanceState({cursor:{type:this.inputs.isPointing?"grabbing":"grab",rotation:0}}));break}case"key_up":{r.keys.delete(n.code),n.code==="Space"&&!this.inputs.buttons.has(1)&&(this.inputs.isPanning=!1,this.updateInstanceState({cursor:{type:this._prevCursor,rotation:0}}));break}}break}}if(n.type==="pointer"&&(n.button===1?n.name="middle_click":n.button===2&&(n.name="right_click"),n.isPen===this.getInstanceState().isPenMode))switch(n.name){case"pointer_down":{const c=this._clickManager.transformPointerDownEvent(n);if(n.name!==c.name){this.root.handleEvent(n),this.emit("event",n),this.root.handleEvent(c),this.emit("event",c);return}break}case"pointer_up":{const c=this._clickManager.transformPointerUpEvent(n);if(n.name!==c.name){this.root.handleEvent(n),this.emit("event",n),this.root.handleEvent(c),this.emit("event",c);return}break}case"pointer_move":{this._clickManager.handleMove();break}}this.root.handleEvent(n),this.emit("event",n)}),this});this.store=n,this.snaps=new al(this),this.user=new pa(r??JI(),l??!1),this.getContainer=a??(()=>document.body),this.textMeasure=new EV(this);class c extends jV{}m(c,"initial",i??""),this.root=new c(this),this.root.children={};const d=oP(s),h=new Set(Object.keys(n.schema.types.shape.migrations.subTypeMigrations));for(const k of d){if(!h.has(k.type))throw Error(`Editor and store have different shapes: "${k.type}" was passed into the editor but not the schema`);h.delete(k.type)}if(h.size>0)throw Error(`Editor and store have different shapes: "${[...h][0]}" is present in the store schema but not provided to the editor`);const u={},p={},y=new Map;for(const k of d){const C=new k(this);u[k.type]=C;const _=nI(k.props??{});p[k.type]=_;for(const E of _.keys())if(!y.has(E.id))y.set(E.id,E);else if(y.get(E.id)!==E)throw Error(`Multiple style props with id "${E.id}" in use. Style prop IDs must be unique.`)}this.shapeUtils=u,this.styleProps=p;for(const k of[...o]){if(dI(this.root.children,k.id))throw Error(`Can't override tool with id "${k.id}"`);this.root.children[k.id]=new k(this,this.root)}this.environment=new fV(this),this.scribbles=new xV(this);const g=new Set,x=k=>{var q;const C=this.getShape(k);if(!C)return;const{start:_,end:E}=C.props,I=_.type==="binding"?this.getShape(_.boundShapeId):void 0,z=E.type==="binding"?this.getShape(E.boundShapeId):void 0,A=this.getAncestorPageId(C);if(!A)return;let T;if(I&&z)T=this.findCommonAncestor([I,z])??A;else if(I||z){const K=(q=I||z)==null?void 0:q.parentId;K&&K===C.parentId?T=C.parentId:T=A}else return;T&&T!==C.parentId&&this.reparentShapes([k],T);const j=this.getShape(k);if(!j)throw Error("no reparented arrow");const R=this.getShapeNearestSibling(j,I),M=this.getShapeNearestSibling(j,z);let D;if(R&&M)D=R.index>M.index?R:M;else if(R&&!M)D=R;else if(M&&!R)D=M;else return;let U;const Y=this.getSortedChildIdsForParent(D.parentId).map(K=>this.getShape(K)).filter(K=>K.index>D.index);if(Y.length){const K=Y.find(W=>W.type!=="arrow");if(j.index>D.index&&(!K||j.index<K.index))return;U=ap(D.index,Y[0].index)}else U=Ea(D.index);U!==j.index&&this.updateShapes([{id:k,type:"arrow",index:U}])},w=(k,C)=>{const{x:_,y:E}=po(this,k)[C];this.store.put([{...k,props:{...k.props,[C]:{type:"point",x:_,y:E}}}])},S=k=>{for(const C of["start","end"]){const _=k.props[C];if(_.type!=="binding")continue;const E=this.getShape(_.boundShapeId),I=this.getAncestorPageId(k)===this.getAncestorPageId(E);(!E||!I)&&w(k,C)}x(k.id)},v=(k,C)=>{let _=null;const E=k.selectedShapeIds.filter(A=>!C.has(A));E.length!==k.selectedShapeIds.length&&(_||(_={...k}),_.selectedShapeIds=E);const I=k.erasingShapeIds.filter(A=>!C.has(A));I.length!==k.erasingShapeIds.length&&(_||(_={...k}),_.erasingShapeIds=I),k.hoveredShapeId&&C.has(k.hoveredShapeId)&&(_||(_={...k}),_.hoveredShapeId=null),k.editingShapeId&&C.has(k.editingShapeId)&&(_||(_={...k}),_.editingShapeId=null);const z=k.hintingShapeIds.filter(A=>!C.has(A));return z.length!==k.hintingShapeIds.length&&(_||(_={...k}),_.hintingShapeIds=z),k.focusedGroupId&&C.has(k.focusedGroupId)&&(_||(_={...k}),_.focusedGroupId=null),_};if(this.sideEffects=new wV(this),this.sideEffects.registerBatchCompleteHandler(()=>{var k;for(const C of g){g.delete(C);const _=this.getShape(C);if(!_)continue;const E=this.getShapeUtil(_),I=(k=E.onChildrenChange)==null?void 0:k.call(E,_);I!=null&&I.length&&this.updateShapes(I,{squashing:!0})}this.emit("update")}),this.sideEffects.registerBeforeDeleteHandler("shape",k=>{k.parentId&&js(k.parentId)&&g.add(k.parentId);const C=this._getArrowBindingsIndex().get()[k.id];if(C!=null&&C.length)for(const{arrowId:I,handleId:z}of C){const A=this.getShape(I);A&&w(A,z)}const _=new Set([k.id]),E=ze(this.getPageStates().map(I=>v(I,_)));E.length&&this.store.put(E)}),this.sideEffects.registerBeforeDeleteHandler("page",k=>{var I;if(this.getInstanceState().currentPageId!==k.id)return;const C=(I=this.getPages().find(z=>z.id!==k.id))==null?void 0:I.id;if(!C)return;this.store.put([{...this.getInstanceState(),currentPageId:C}]);const _=or.createId(k.id),E=ar.createId(k.id);this.store.remove([_,E])}),this.sideEffects.registerAfterChangeHandler("shape",(k,C)=>{if(this.isShapeOfType(C,"arrow")&&S(C),k.parentId!==C.parentId){const _=E=>{const I=this._getArrowBindingsIndex().get()[E];if(I!=null&&I.length)for(const z of I)x(z.arrowId)};_(C.id),this.visitDescendants(C.id,_)}if(k.parentId!==C.parentId&&Rr(C.parentId)){const _=new Set([k.id]);this.visitDescendants(k.id,E=>{_.add(E)});for(const E of this.getPageStates()){if(E.pageId===C.parentId)continue;const I=v(E,_);I&&this.store.put([I])}}k.parentId&&js(k.parentId)&&g.add(k.parentId),C.parentId!==k.parentId&&js(C.parentId)&&g.add(C.parentId)}),this.sideEffects.registerAfterChangeHandler("instance_page_state",(k,C)=>{if((k==null?void 0:k.selectedShapeIds)!==(C==null?void 0:C.selectedShapeIds)){const _=C.selectedShapeIds.filter(I=>{var A,T;let z=(A=this.getShape(I))==null?void 0:A.parentId;for(;js(z);){if(C.selectedShapeIds.includes(z))return!1;z=(T=this.getShape(z))==null?void 0:T.parentId}return!0});let E=null;if(_.length>0){const I=this.findCommonAncestor(ze(_.map(z=>this.getShape(z))),z=>this.isShapeOfType(z,"group"));I&&(E=I)}else C!=null&&C.focusedGroupId&&(E=C.focusedGroupId);(_.length!==C.selectedShapeIds.length||E!==C.focusedGroupId)&&this.store.put([{...C,selectedShapeIds:_,focusedGroupId:E??null}])}}),this.sideEffects.registerAfterCreateHandler("shape",k=>{this.isShapeOfType(k,"arrow")&&S(k)}),this.sideEffects.registerAfterCreateHandler("page",k=>{const C=or.createId(k.id),_=ar.createId(k.id);this.store.has(C)||this.store.put([or.create({id:C})]),this.store.has(_)||this.store.put([ar.create({id:_,pageId:k.id})])}),this._currentPageShapeIds=hV(this.store,()=>this.getCurrentPageId()),this._parentIdsToChildIds=dV(this.store),this.disposables.add(this.store.listen(k=>{this.emit("change",k)})),this.store.ensureStoreIsUsable(),this._setInstancePageState({editingShapeId:null,hoveredShapeId:null,erasingShapeIds:[]},{ephemeral:!0}),i&&this.root.children[i]===void 0)throw Error(`No state found for initialState "${i}".`);this.root.enter(void 0,"initial"),this.getInstanceState().followingUserId&&this.stopFollowingUser(),this.updateRenderingBounds(),requestAnimationFrame(()=>{this._tickManager.start()})}dispose(){this.disposables.forEach(n=>n()),this.disposables.clear()}getShapeUtil(n){const r=typeof n=="string"?n:n.type,s=D2(this.shapeUtils,r);return lc(s,`No shape util found for type "${r}"`),s}undo(){return this.history.undo(),this}getCanUndo(){return this.history.getNumUndos()>0}redo(){return this.history.redo(),this}getCanRedo(){return this.history.getNumRedos()>0}mark(n,r,s){return this.history.mark(n,r,s),this}bail(){return this.history.bail(),this}bailToMark(n){return this.history.bailToMark(n),this}batch(n){return this.history.batch(n),this}_getArrowBindingsIndex(){return cV(this)}getArrowsBoundTo(n){return this._getArrowBindingsIndex().get()[n]||Ri}getArrowInfoCache(){return this.store.createComputedCache("arrow infoCache",n=>cu(n)?ip(this,n):H2(this,n))}getArrowInfo(n){const r=typeof n=="string"?n:n.id;return this.getArrowInfoCache().get(r)}annotateError(n,{origin:r,willCrashApp:s,tags:o,extras:a}){const i=this.createErrorAnnotations(r,s);return cI(n,{tags:{...i.tags,...o},extras:{...i.extras,...a}}),s&&this.store.markAsPossiblyCorrupted(),this}createErrorAnnotations(n,r){try{const s=this.getEditingShapeId();return{tags:{origin:n,willCrashApp:r},extras:{activeStateNode:this.root.getPath(),selectedShapes:this.getSelectedShapes(),editingShape:s?this.getShape(s):void 0,inputs:this.inputs}}}catch{return{tags:{origin:n,willCrashApp:r},extras:{}}}}getCrashingError(){return this._crashingError}crash(n){return this._crashingError=n,this.store.markAsPossiblyCorrupted(),this.emit("crash",{error:n}),this}getPath(){return this.root.getPath().split("root.")[1]}isIn(n){const r=n.split(".").reverse();let s=this.root;for(;r.length>0;){const o=r.pop();if(!o)return!0;const a=s.getCurrent();if((a==null?void 0:a.id)===o){if(r.length===0)return!0;s=a;continue}else return!1}return!1}isInAny(...n){return n.some(r=>this.isIn(r))}setCurrentTool(n,r={}){return this.root.transition(n,r),this}getCurrentTool(){return this.root.getCurrent()}getCurrentToolId(){const n=this.getCurrentTool();return n?n.getCurrentToolIdMask()??n.id:""}getStateDescendant(n){var o;const r=n.split(".").reverse();let s=this.root;for(;r.length>0;){const a=r.pop();if(!a)return s;const i=(o=s.children)==null?void 0:o[a];if(!i)return;s=i}return s}getDocumentSettings(){return this.store.get(Sw)}updateDocumentSettings(n){return this.store.put([{...this.getDocumentSettings(),...n}]),this}getInstanceState(){return this.store.get(pr)}updateInstanceState(n,r){return this._updateInstanceState(n,{ephemeral:!0,squashing:!0,...r}),n.isChangingStyle!==void 0&&(clearTimeout(this._isChangingStyleTimeout),n.isChangingStyle===!0&&(this._isChangingStyleTimeout=setTimeout(()=>{this.updateInstanceState({isChangingStyle:!1})},2e3))),this}getOpenMenus(){return this.getInstanceState().openMenus}addOpenMenu(n){const r=new Set(this.getOpenMenus());return r.has(n)||(r.add(n),this.updateInstanceState({openMenus:[...r]})),this}deleteOpenMenu(n){const r=new Set(this.getOpenMenus());return r.has(n)&&(r.delete(n),this.updateInstanceState({openMenus:[...r]})),this}getIsMenuOpen(){return this.getOpenMenus().length>0}getPageStates(){return this._getPageStatesQuery().get()}_getPageStatesQuery(){return this.store.query.records("instance_page_state")}getCurrentPageState(){return this.store.get(this._getCurrentPageStateId())}_getCurrentPageStateId(){return ar.createId(this.getCurrentPageId())}updateCurrentPageState(n,r){return this._setInstancePageState(n,r),this}getSelectedShapeIds(){return this.getCurrentPageState().selectedShapeIds}getSelectedShapes(){const{selectedShapeIds:n}=this.getCurrentPageState();return ze(n.map(r=>this.store.get(r)))}setSelectedShapes(n,r){const s=n.map(o=>typeof o=="string"?o:o.id);return this._setSelectedShapes(s,r),this}isAncestorSelected(n){const r=typeof n=="string"?n:(n==null?void 0:n.id)??null,s=this.getShape(r);if(!s)return!1;const o=this.getSelectedShapeIds();return!!this.findShapeAncestor(s,a=>o.includes(a.id))}select(...n){const r=typeof n[0]=="string"?n:n.map(s=>s.id);return this.setSelectedShapes(r),this}deselect(...n){const r=typeof n[0]=="string"?n:n.map(o=>o.id),s=this.getSelectedShapeIds();return s.length>0&&r.length>0&&this.setSelectedShapes(s.filter(o=>!r.includes(o))),this}selectAll(){const n=this.getSortedChildIdsForParent(this.getCurrentPageId());return n.length<=0?this:(this.setSelectedShapes(this._getUnlockedShapeIds(n)),this)}selectNone(){return this.getSelectedShapeIds().length>0&&this.setSelectedShapes([]),this}getOnlySelectedShape(){const n=this.getSelectedShapes();return n.length===1?n[0]:null}getSelectionPageBounds(){const n=this.getCurrentPageState().selectedShapeIds;return n.length===0?null:xe.Common(ze(n.map(r=>this.getShapePageBounds(r))))}getSelectionRotation(){const n=this.getSelectedShapeIds();if(n.length===0)return 0;if(n.length===1)return this.getShapePageTransform(this.getSelectedShapeIds()[0]).rotation();const r=n.map(s=>this.getShapePageTransform(s).rotation());return r.every(s=>Math.abs(s-r[0])<Math.PI/180)?this.getShapePageTransform(n[0]).rotation():0}getSelectionRotatedPageBounds(){const n=this.getSelectedShapeIds();if(n.length===0)return;const r=this.getSelectionRotation();if(r===0)return this.getSelectionPageBounds();if(n.length===1){const o=this.getShapeGeometry(n[0]).bounds.clone(),a=this.getShapePageTransform(n[0]);return o.point=a.applyToPoint(o.point),o}const s=xe.FromPoints(this.getSelectedShapeIds().flatMap(o=>{const a=this.getShapePageTransform(o);return a?a.applyToPoints(this.getShapeGeometry(o).vertices):[]}).map(o=>P.Rot(o,-r)));return s.point=s.point.rot(r),s}getFocusedGroupId(){return this.getCurrentPageState().focusedGroupId??this.getCurrentPageId()}getFocusedGroup(){const n=this.getFocusedGroupId();return n?this.getShape(n):void 0}setFocusedGroup(n){const r=typeof n=="string"?n:(n==null?void 0:n.id)??null;if(r!==null){const s=this.getShape(r);if(!s)throw Error(`Editor.setFocusedGroup: Shape with id ${r} does not exist`);if(!this.isShapeOfType(s,"group"))throw Error(`Editor.setFocusedGroup: Cannot set focused group to shape of type ${s.type}`)}return r===this.getFocusedGroupId()?this:(this._setFocusedGroupId(r),this)}popFocusedGroupId(){const n=this.getFocusedGroup();if(n){const r=this.findShapeAncestor(n,s=>this.isShapeOfType(s,"group"));this.setFocusedGroup((r==null?void 0:r.id)??null),this.select(n.id)}else this.setFocusedGroup(null),this.selectNone();return this}getEditingShapeId(){return this.getCurrentPageState().editingShapeId}getEditingShape(){const n=this.getEditingShapeId();return n?this.getShape(n):void 0}setEditingShape(n){const r=typeof n=="string"?n:(n==null?void 0:n.id)??null;if(r!==this.getEditingShapeId()){if(r){const s=this.getShape(r);if(s&&this.getShapeUtil(s).canEdit(s))return this._setInstancePageState({editingShapeId:r}),this}this._setInstancePageState({editingShapeId:null})}return this}getHoveredShapeId(){return this.getCurrentPageState().hoveredShapeId}getHoveredShape(){const n=this.getHoveredShapeId();return n?this.getShape(n):void 0}setHoveredShape(n){const r=typeof n=="string"?n:(n==null?void 0:n.id)??null;return r===this.getHoveredShapeId()?this:(this.updateCurrentPageState({hoveredShapeId:r},{ephemeral:!0}),this)}getHintingShapeIds(){return this.getCurrentPageState().hintingShapeIds}getHintingShape(){const n=this.getHintingShapeIds();return ze(n.map(r=>this.getShape(r)))}setHintingShapes(n){const r=typeof n[0]=="string"?n:n.map(s=>s.id);return this.updateCurrentPageState({hintingShapeIds:Ym(r)},{ephemeral:!0}),this}getErasingShapeIds(){return this.getCurrentPageState().erasingShapeIds}getErasingShapes(){const n=this.getErasingShapeIds();return ze(n.map(r=>this.getShape(r)))}setErasingShapes(n){const r=typeof n[0]=="string"?n:n.map(o=>o.id);r.sort();const s=this.getErasingShapeIds();if(r.length===s.length){for(let o=0;o<r.length;o++)if(r[o]!==s[o]){this._setInstancePageState({erasingShapeIds:r},{ephemeral:!0});break}}else this._setInstancePageState({erasingShapeIds:r},{ephemeral:!0});return this}getCroppingShapeId(){return this.getCurrentPageState().croppingShapeId}setCroppingShape(n){const r=typeof n=="string"?n:(n==null?void 0:n.id)??null;if(r!==this.getCroppingShapeId())if(!r)this.updateCurrentPageState({croppingShapeId:null});else{const s=this.getShape(r),o=this.getShapeUtil(s);s&&o.canCrop(s)&&this.updateCurrentPageState({croppingShapeId:r})}return this}getCameraId(){return or.createId(this.getCurrentPageId())}getBaseZoom(){const n=this.getCameraOptions();if(!n.constraints||n.constraints.baseZoom==="default")return 1;const{zx:r,zy:s}=Lv(this,n);switch(n.constraints.baseZoom){case"fit-min":return Math.max(r,s);case"fit-max":return Math.min(r,s);case"fit-x":return r;case"fit-y":return s;case"fit-min-100":return Math.min(1,Math.max(r,s));case"fit-max-100":return Math.min(1,Math.min(r,s));case"fit-x-100":return Math.min(1,r);case"fit-y-100":return Math.min(1,s);default:throw Hm(n.constraints.baseZoom)}}getCameraOptions(){return this._cameraOptions.get()}getCamera(){return this.store.get(this.getCameraId())}getZoomLevel(){return this.getCamera().z}getInitialZoom(){const n=this.getCameraOptions();if(!n.constraints||n.constraints.initialZoom==="default")return 1;const{zx:r,zy:s}=Lv(this,n);switch(n.constraints.initialZoom){case"fit-min":return Math.max(r,s);case"fit-max":return Math.min(r,s);case"fit-x":return r;case"fit-y":return s;case"fit-min-100":return Math.min(1,Math.max(r,s));case"fit-max-100":return Math.min(1,Math.min(r,s));case"fit-x-100":return Math.min(1,r);case"fit-y-100":return Math.min(1,s);default:throw Hm(n.constraints.initialZoom)}}getConstrainedCamera(n,r){const s=this.getCamera();let{x:o,y:a,z:i=s.z}=n;if(!(r!=null&&r.force)){const l=this.getCameraOptions(),c=l.zoomSteps[0],d=Pr(l.zoomSteps),h=this.getViewportScreenBounds();if(l.constraints){const{constraints:u}=l,p=Math.min(u.padding.y,h.w/2),y=Math.min(u.padding.x,h.h/2),g=xe.From(l.constraints.bounds),x=(h.w-y*2)/g.w,w=(h.h-p*2)/g.h,S=this.getBaseZoom(),v=d*S,k=c*S;if(r!=null&&r.reset&&(i=this.getInitialZoom()),i<k||i>v){const{x:R,y:M,z:D}=s,U=-R+h.w/D/2,Y=-M+h.h/D/2;i=yn(i,k,v);const q=-R+h.w/i/2,K=-M+h.h/i/2;o=R+q-U,a=M+K-Y}const C=y/i-g.x,_=p/i-g.y,E=(h.w-y*2)/i-g.w,I=(h.h-p*2)/i-g.h,z=C+E*u.origin.x,A=_+I*u.origin.y,T=typeof u.behavior=="string"?u.behavior:u.behavior.x,j=typeof u.behavior=="string"?u.behavior:u.behavior.y;if(r!=null&&r.reset)o=z,a=A;else{switch(T){case"fixed":{o=z;break}case"contain":{i<x?o=z:o=yn(o,C+E,C);break}case"inside":{i<x?o=yn(o,C,(h.w-y)/i-g.w):o=yn(o,C+E,C);break}case"outside":{o=yn(o,y/i-g.w,(h.w-y)/i);break}case"free":break;default:throw"Exhaustive switch error"}switch(j){case"fixed":{a=A;break}case"contain":{i<w?a=A:a=yn(a,_+I,_);break}case"inside":{i<w?a=yn(a,_,(h.h-p)/i-g.h):a=yn(a,_+I,_);break}case"outside":{a=yn(a,p/i-g.h,(h.h-p)/i);break}case"free":break;default:throw"Exhaustive switch error"}}}else if(i>d||i<c){const{x:u,y:p,z:y}=s;i=yn(i,c,d),o=u+(-u+h.w/i/2)-(-u+h.w/y/2),a=p+(-p+h.h/i/2)-(-p+h.h/y/2)}}return{x:o,y:a,z:i}}_setCamera(n,r){const s=this.getCamera(),{x:o,y:a,z:i}=this.getConstrainedCamera(n,r);return s.x===n.x&&s.y===n.y&&s.z===n.z?this:(this.batch(()=>{const{currentScreenPoint:l,currentPagePoint:c}=this.inputs,{screenBounds:d}=this.store.unsafeGetWithoutCapture(pr);if(l.x/i-o!==c.x||l.y/i-a!==c.y){const h={type:"pointer",target:"canvas",name:"pointer_move",point:P.AddXY(l,d.x,d.y),pointerId:ev.CAMERA_MOVE,ctrlKey:this.inputs.ctrlKey,altKey:this.inputs.altKey,shiftKey:this.inputs.shiftKey,button:0,isPen:this.getInstanceState().isPenMode??!1};this.dispatch(h)}this._tickCameraState()}),this)}setCamera(n,r){const{isLocked:s}=this._cameraOptions.__unsafe__getWithoutCapture();if(s&&!(r!=null&&r.force))return this;this.stopCameraAnimation(),this.getInstanceState().followingUserId&&this.stopFollowingUser();const o=P.Cast(n);Number.isFinite(o.x)||(o.x=0),Number.isFinite(o.y)||(o.y=0),(o.z===void 0||!Number.isFinite(o.z))&&(n.z=this.getZoomLevel());const a=this.getConstrainedCamera(o,r);if(r!=null&&r.animation){const{width:i,height:l}=this.getViewportScreenBounds();this._animateToViewport(new xe(-a.x,-a.y,i/a.z,l/a.z),r.animation)}else this._setCamera(a,{...r,force:!0});return this}setCameraOptions(n){var s;const r=Cd({...this._cameraOptions.__unsafe__getWithoutCapture(),...n});return((s=r.zoomSteps)==null?void 0:s.length)<1&&(r.zoomSteps=[1]),this._cameraOptions.set(r),this}centerOnPoint(n,r){if(!this.getInstanceState().canMoveCamera)return this;const{width:s,height:o}=this.getViewportPageBounds();return this.setCamera({x:-(n.x-s/2),y:-(n.y-o/2),z:this.getCamera().z},{animation:r}),this}zoomToContent(){const n=this.getSelectionPageBounds()??this.getCurrentPageBounds();return n&&this.zoomToBounds(n,Math.min(1,this.getZoomLevel()),{duration:220}),this}zoomToFit(n){if(!this.getInstanceState().canMoveCamera)return this;const r=[...this.getCurrentPageShapeIds()];if(r.length<=0)return this;const s=xe.Common(ze(r.map(o=>this.getShapePageBounds(o))));return this.zoomToBounds(s,void 0,n),this}resetZoom(n=this.getViewportScreenCenter(),r){if(!this.getInstanceState().canMoveCamera)return this;const{x:s,y:o,z:a}=this.getCamera(),{x:i,y:l}=n;return this.setCamera({x:s+(i/1-i)-(i/a-i),y:o+(l/1-l)-(l/a-l),z:1},{animation:r}),this}zoomIn(n=this.getViewportScreenCenter(),r){if(!this.getInstanceState().canMoveCamera)return this;const{x:s,y:o,z:a}=this.getCamera();let i=_i;for(let d=1;d<Zc.length;d++){const h=Zc[d-1],u=Zc[d];if(!(u-a<=(u-h)/2)){i=u;break}}const{x:l,y:c}=n;return this.setCamera({x:s+(l/i-l)-(l/a-l),y:o+(c/i-c)-(c/a-c),z:i},{animation:r}),this}zoomOut(n=this.getViewportScreenCenter(),r){if(!this.getInstanceState().canMoveCamera)return this;const{x:s,y:o,z:a}=this.getCamera();let i=iu;for(let d=Zc.length-1;d>0;d--){const h=Zc[d-1],u=Zc[d];if(!(u-a>=(u-h)/2)){i=h;break}}const{x:l,y:c}=n;return this.setCamera({x:s+(l/i-l)-(l/a-l),y:o+(c/i-c)-(c/a-c),z:i},{animation:r}),this}zoomToSelection(n){if(!this.getInstanceState().canMoveCamera)return this;const r=this.getSelectionPageBounds();return r?(this.zoomToBounds(r,Math.max(1,this.getZoomLevel()),n),this):this}panZoomIntoView(n,r){if(!this.getInstanceState().canMoveCamera)return this;if(n.length<=0)return this;const s=xe.Common(ze(n.map(a=>this.getShapePageBounds(a)))),o=this.getViewportPageBounds();if(o.h<s.h||o.w<s.w)return this.zoomToBounds(s,this.getCamera().z,r),this;{const a=this.getViewportPageBounds().clone().expandBy(-32/this.getZoomLevel());let i=0,l=0;a.maxY<s.maxY?l=a.maxY-s.maxY:a.minY>s.minY&&(l=a.minY-s.minY),a.maxX<s.maxX?i=a.maxX-s.maxX:a.minX>s.minX&&(i=a.minX-s.minX);const c=this.getCamera();this.setCamera({x:c.x+i,y:c.y+l,z:c.z},{animation:r})}return this}zoomToBounds(n,r,s){if(!this.getInstanceState().canMoveCamera)return this;const o=this.getViewportScreenBounds(),a=Math.min(256,o.width*.28);let i=yn(Math.min((o.width-a)/n.width,(o.height-a)/n.height),iu,_i);return r!==void 0&&(i=Math.min(r,i)),this.setCamera({x:-n.minX+(o.width-n.width*i)/2/i,y:-n.minY+(o.height-n.height*i)/2/i,z:i},{animation:s}),this}pan(n,r){if(!this.getInstanceState().canMoveCamera)return this;const{x:s,y:o,z:a}=this.getCamera();return this.setCamera({x:s+n.x/a,y:o+n.y/a,z:a},{animation:r}),this}pageToViewport(n){const{x:r,y:s,z:o=1}=this.getCamera();return new P((n.x+r)*o,(n.y+s)*o,n.z??.5)}stopCameraAnimation(){return this.emit("stop-camera-animation"),this}_animateViewport(n){if(!this._viewportAnimation)return;const r=()=>{this.removeListener("tick",this._animateViewport),this.removeListener("stop-camera-animation",r),this._viewportAnimation=null};this.once("stop-camera-animation",r),this._viewportAnimation.elapsed+=n;const{elapsed:s,easing:o,duration:a,start:i,end:l}=this._viewportAnimation;if(s>a){this._setCamera({x:-l.x,y:-l.y,z:this.getViewportScreenBounds().width/l.width}),r();return}const c=a-s,d=o(1-c/a),h=i.minX+(l.minX-i.minX)*d,u=i.minY+(l.minY-i.minY)*d,p=i.maxX+(l.maxX-i.maxX)*d;this._setCamera({x:-h,y:-u,z:this.getViewportScreenBounds().width/(p-h)})}_animateToViewport(n,r={}){const{duration:s=0,easing:o=xr.easeInOutCubic}=r,a=this.user.getAnimationSpeed(),i=this.getViewportPageBounds();return this.stopCameraAnimation(),this.getInstanceState().followingUserId&&this.stopFollowingUser(),s===0||a===0?this._setCamera({x:-n.x,y:-n.y,z:this.getViewportScreenBounds().width/n.width}):(this._viewportAnimation={elapsed:0,duration:s/a,easing:o,start:i.clone(),end:n.clone()},this.addListener("tick",this._animateViewport),this)}slideCamera(n={}){if(!this.getInstanceState().canMoveCamera)return this;if(this.stopCameraAnimation(),this.user.getAnimationSpeed()===0)return this;const{speed:s,friction:o,direction:a,speedThreshold:i=.01}=n;let l=Math.min(s,1);const c=()=>{this.removeListener("tick",d),this.removeListener("stop-camera-animation",c)};this.once("stop-camera-animation",c);const d=h=>{const{x:u,y:p,z:y}=this.getCamera(),g=P.Mul(a,l*h/y);l*=1-o,l<i?c():this._setCamera({x:u+g.x,y:p+g.y,z:y})};return this.addListener("tick",d),this}animateToUser(n){const s=[...this.store.query.records("instance_presence",()=>({userId:{eq:n}})).get()].sort((o,a)=>o.lastActivityTimestamp-a.lastActivityTimestamp).pop();return s?(this.batch(()=>{this.getInstanceState().followingUserId!==null&&this.stopFollowingUser();const o=s.currentPageId===this.getCurrentPageId();o||this.setCurrentPage(s.currentPageId);const a=o?{duration:500}:void 0;this.centerOnPoint(s.cursor,a);const{highlightedUserIds:i}=this.getInstanceState();this.updateInstanceState({highlightedUserIds:[...i,n]}),setTimeout(()=>{const l=[...this.getInstanceState().highlightedUserIds],c=l.indexOf(n);c<0||(l.splice(c,1),this.updateInstanceState({highlightedUserIds:l}))},bI)}),this):this}animateToShape(n,r=SF){if(!this.getInstanceState().canMoveCamera)return this;const s=this.getViewportScreenBounds().clone().expandBy(-32),o=s.width/s.height,a=this.getShapePageBounds(n);if(!a)return this;const i=a.width/a.height,l=a.clone(),c=a.width/s.width;return l.width+=(s.minX+s.maxX)*c,l.height+=(s.minY+s.maxY)*c,l.x-=s.minX*c,l.y-=s.minY*c,i>o?(l.height=a.width/o,l.y-=(l.height-a.height)/2):(l.width=a.height*o,l.x-=(l.width-a.width)/2),this._animateToViewport(l,r)}updateViewportScreenBounds(n=!1){const r=this.getContainer();if(!r)return this;const s=r.getBoundingClientRect(),o=new xe(s.left||s.x,s.top||s.y,Math.max(s.width,1),Math.max(s.height,1)),a=o.equals(this.getViewportScreenBounds()),{_willSetInitialBounds:i}=this;if(a)this._willSetInitialBounds=!1;else if(i)this._willSetInitialBounds=!1,this.updateInstanceState({screenBounds:o.toJson()},{squashing:!0,ephemeral:!0});else if(n&&!this.getInstanceState().followingUserId){const l=this.getViewportPageCenter();this.updateInstanceState({screenBounds:o.toJson()},{squashing:!0,ephemeral:!0}),this.centerOnPoint(l)}else this.updateInstanceState({screenBounds:o.toJson()},{squashing:!0,ephemeral:!0});return this._tickCameraState(),this.updateRenderingBounds(),this}getViewportScreenBounds(){const{x:n,y:r,w:s,h:o}=this.getInstanceState().screenBounds;return new xe(n,r,s,o)}getViewportScreenCenter(){return this.getViewportScreenBounds().center}getViewportPageBounds(){const{w:n,h:r}=this.getViewportScreenBounds(),{x:s,y:o,z:a}=this.getCamera();return new xe(-s,-o,n/a,r/a)}getViewportPageCenter(){return this.getViewportPageBounds().center}screenToPage(n){const{screenBounds:r}=this.store.unsafeGetWithoutCapture(pr),{x:s,y:o,z:a=1}=this.getCamera();return{x:(n.x-r.x)/a-s,y:(n.y-r.y)/a-o,z:n.z??.5}}pageToScreen(n){const{screenBounds:r}=this.store.unsafeGetWithoutCapture(pr),{x:s,y:o,z:a=1}=this.getCamera();return{x:(n.x+s)*a+r.x,y:(n.y+o)*a+r.y,z:n.z??.5}}startFollowingUser(n){const r=this.store.query.records("instance_presence",()=>({userId:{eq:n}})),s=this.user.getId();if(s||console.warn("You should set the userId for the current instance before following a user"),r.get().some(l=>l.followingUserId===s))return this;Ep(()=>{this.stopFollowingUser(),this.updateInstanceState({followingUserId:n},{ephemeral:!0})});const o=()=>{this.removeListener("frame",i),this.removeListener("stop-following",o)};let a=!1;const i=()=>{const l=[...r.get()].sort((R,M)=>R.lastActivityTimestamp-M.lastActivityTimestamp).pop();if(!l){this.stopFollowingUser();return}const c=l.currentPageId===this.getCurrentPageId(),d=c?uF:1;if(!c){this.stopFollowingUser(),this.setCurrentPage(l.currentPageId),this.startFollowingUser(n);return}const{center:h,width:u,height:p}=this.getViewportPageBounds(),y=xe.From(l.screenBounds),g=y.width/l.camera.z,x=y.height/l.camera.z,w=new P(g/2-l.camera.x,x/2-l.camera.y),S=l.followingUserId===s,v=u+(g-u)*d,k=p+(x-p)*d,C=S?p/k:Math.min(u/v,p/k),_=yn(this.getCamera().z*C,iu,_i),E=this.getViewportScreenBounds().w/_,I=this.getViewportScreenBounds().h/_,z=w.sub(h),A=P.Add(h,P.Mul(z,d)),T=P.Sub(A,h).len(),j=Math.abs(_-this.getCamera().z);if(T<pF&&j<gF){a=!0;return}a&&T<fF&&j<mF||(a=!1,this.stopCameraAnimation(),this._setCamera({x:-(A.x-E/2),y:-(A.y-I/2),z:_}))};return this.once("stop-following",o),this.addListener("frame",i),this}stopFollowingUser(){return this.updateInstanceState({followingUserId:null},{ephemeral:!0}),this.emit("stop-following"),this}getCameraState(){return this._cameraState.get()}getUnorderedRenderingShapes(n){const r=[];let s=Sa*2,o=Sa;const a=this.getEditingShapeId(),i=this.getSelectedShapeIds(),l=this.getErasingShapeIds(),c=this.getRenderingBoundsExpanded(),d=Number.isFinite(this.renderingBoundsMargin),h=(u,p,y)=>{const g=this.getShape(u);if(!g)return;p*=g.opacity;let x=!1,w=!1;const S=this.getShapeUtil(g),v=this.getShapeMaskedPageBounds(u);n&&(w=!y&&l.includes(u),w&&(p*=.32),x=d&&S.canUnmount(g)&&a!==u&&(v===void 0||!c.includes(v)&&!i.includes(u))),r.push({id:u,shape:g,util:S,index:s,backgroundIndex:o,opacity:p,isCulled:x,maskedPageBounds:v}),s+=1,o+=1;const k=this.getSortedChildIdsForParent(u);if(!k.length)return;let C=null;S.providesBackgroundForChildren(g)&&(C=o,o=s,s+=Sa);for(const _ of k)h(_,p,y||w);C!==null&&(o=C)};for(const u of this.getSortedChildIdsForParent(this.getCurrentPageId()))h(u,1,!1);return r}getRenderingShapes(){return this.getUnorderedRenderingShapes(!0).sort(bB)}getRenderingBounds(){return this._renderingBounds.get()}getRenderingBoundsExpanded(){return this._renderingBoundsExpanded.get()}updateRenderingBounds(){const n=this.getViewportPageBounds();return n.equals(this._renderingBounds.__unsafe__getWithoutCapture())?this:(this._renderingBounds.set(n.clone()),Number.isFinite(this.renderingBoundsMargin)?this._renderingBoundsExpanded.set(n.clone().expandBy(this.renderingBoundsMargin/this.getZoomLevel())):this._renderingBoundsExpanded.set(n),this)}_getAllPagesQuery(){return this.store.query.records("page")}getPages(){return this._getAllPagesQuery().get().sort(cr)}getCurrentPage(){return this.getPage(this.getCurrentPageId())}getCurrentPageId(){return this.getInstanceState().currentPageId}getPage(n){return this.store.get(typeof n=="string"?n:n.id)}getCurrentPageShapeIds(){return this._currentPageShapeIds.get()}getPageShapeIds(n){const r=typeof n=="string"?n:n.id,s=this.store.query.exec("shape",{parentId:{eq:r}});return this.getShapeAndDescendantIds(s.map(o=>o.id))}setCurrentPage(n,r){const s=typeof n=="string"?n:n.id;return this._setCurrentPageId(s,r),this}updatePage(n,r){return this._updatePage(n,r),this}createPage(n){return this._createPage(n),this}deletePage(n){const r=typeof n=="string"?n:n.id;return this._deletePage(r),this}duplicatePage(n,r=Ba.createId()){if(this.getPages().length>=ty)return this;const s=typeof n=="string"?n:n.id,o=this.getPage(s);if(!o)return this;const a={...this.getCamera()},i=this.getContentFromCurrentPage(this.getSortedChildIdsForParent(o.id));return this.batch(()=>{var d;const l=this.getPages(),c=ap(o.index,(d=l[l.indexOf(o)+1])==null?void 0:d.index);if(this.createPage({name:o.name+" Copy",id:r,index:c}),this.setCurrentPage(r),this.setCamera(a),i)return this.putContentOntoCurrentPage(i)}),this}renamePage(n,r,s){const o=typeof n=="string"?n:n.id;return this.getInstanceState().isReadonly?this:(this.updatePage({id:o,name:r},s),this)}_getAllAssetsQuery(){return this.store.query.records("asset")}getAssets(){return this._getAllAssetsQuery().get()}createAssets(n){return this._createAssets(n),this}updateAssets(n){return this._updateAssets(n),this}deleteAssets(n){const r=typeof n[0]=="string"?n:n.map(s=>s.id);return this._deleteAssets(r),this}getAsset(n){return this.store.get(typeof n=="string"?n:n.id)}_getShapeGeometryCache(){return this.store.createComputedCache("bounds",n=>this.getShapeUtil(n).getGeometry(n),(n,r)=>n.props===r.props)}getShapeGeometry(n){return this._getShapeGeometryCache().get(typeof n=="string"?n:n.id)}_getShapeOutlineSegmentsCache(){return this.store.createComputedCache("outline-segments",n=>this.getShapeUtil(n).getOutlineSegments(n))}getShapeOutlineSegments(n){return this._getShapeOutlineSegmentsCache().get(typeof n=="string"?n:n.id)??Ri}_getShapeHandlesCache(){return this.store.createComputedCache("handles",n=>{var r,s;return(s=(r=this.getShapeUtil(n)).getHandles)==null?void 0:s.call(r,n)})}getShapeHandles(n){return this._getShapeHandlesCache().get(typeof n=="string"?n:n.id)}getShapeLocalTransform(n){const r=typeof n=="string"?n:n.id,s=this.getShape(r);if(!s)throw Error("Editor.getTransform: shape not found");return ge.Identity().translate(s.x,s.y).rotate(s.rotation)}_getShapePageTransformCache(){return this.store.createComputedCache("pageTransformCache",n=>{if(Rr(n.parentId))return this.getShapeLocalTransform(n);const r=this._getShapePageTransformCache().get(n.parentId)??ge.Identity();return ge.Compose(r,this.getShapeLocalTransform(n))})}getShapeParentTransform(n){const r=typeof n=="string"?n:n.id,s=this.getShape(r);return!s||Rr(s.parentId)?ge.Identity():this._getShapePageTransformCache().get(s.parentId)??ge.Identity()}getShapePageTransform(n){const r=typeof n=="string"?n:this.getShape(n).id;return this._getShapePageTransformCache().get(r)??ge.Identity()}_getShapePageBoundsCache(){return this.store.createComputedCache("pageBoundsCache",n=>{const r=this._getShapePageTransformCache().get(n.id);return r?xe.FromPoints(ge.applyToPoints(r,this.getShapeGeometry(n).vertices)):new xe})}getShapePageBounds(n){return this._getShapePageBoundsCache().get(typeof n=="string"?n:n.id)}_getShapeClipPathCache(){return this.store.createComputedCache("clipPathCache",n=>{const r=this._getShapeMaskCache().get(n.id);if(!r)return;if(r.length===0)return"polygon(0px 0px, 0px 0px, 0px 0px)";const s=this._getShapePageTransformCache().get(n.id);return s?`polygon(${ge.applyToPoints(ge.Inverse(s),r).map(a=>`${a.x}px ${a.y}px`).join(",")})`:void 0})}getShapeClipPath(n){return this._getShapeClipPathCache().get(typeof n=="string"?n:n.id)}_getShapeMaskCache(){return this.store.createComputedCache("pageMaskCache",n=>{if(Rr(n.parentId))return;const r=this.getShapeAncestors(n.id).filter(o=>this.isShapeOfType(o,"frame"));return r.length===0?void 0:r.map(o=>this._getShapePageTransformCache().get(o.id).applyToPoints(this.getShapeGeometry(o).vertices)).reduce((o,a)=>{if(!(a&&o))return;const i=zw(o,a);return i?i.map(P.Cast):[]})})}getShapeMask(n){return this._getShapeMaskCache().get(typeof n=="string"?n:n.id)}getShapeMaskedPageBounds(n){typeof n!="string"&&(n=n.id);const r=this._getShapePageBoundsCache().get(n);if(!r)return;const s=this._getShapeMaskCache().get(n);if(s){if(s.length===0)return;const{corners:o}=r;if(o.every((i,l)=>P.Equals(i,s[l])))return r.clone();const a=zw(s,o);return a?xe.FromPoints(a):void 0}return r}getShapeAncestors(n,r=[]){const s=typeof n=="string"?n:n.id,o=this.getShape(s);if(!o)return r;const a=o.parentId;if(Rr(a))return r.reverse(),r;const i=this.store.get(a);return i?(r.push(i),this.getShapeAncestors(i,r)):r}findShapeAncestor(n,r){const s=typeof n=="string"?n:n.id,o=this.getShape(s);if(!o)return;const a=o.parentId;if(Rr(a))return;const i=this.getShape(a);if(i)return r(i)?i:this.findShapeAncestor(i,r)}hasAncestor(n,r){const s=typeof n=="string"?n:n==null?void 0:n.id,o=s&&this.getShape(s);return o?o.parentId===r?!0:this.hasAncestor(this.getShapeParent(o),r):!1}findCommonAncestor(n,r){var c;if(n.length===0)return;const s=typeof n[0]=="string"?n:n.map(d=>d.id),o=ze(s.map(d=>this.getShape(d)));if(o.length===1){const d=o[0].parentId;return Rr(d)?void 0:r?(c=this.findShapeAncestor(o[0],r))==null?void 0:c.id:d}const[a,...i]=o;let l=this.getShapeParent(a);for(;l;){if(r&&!r(l)){l=this.getShapeParent(l);continue}if(i.every(d=>this.hasAncestor(d,l.id)))return l.id;l=this.getShapeParent(l)}}isShapeOrAncestorLocked(n){const r=typeof n=="string"?this.getShape(n):n;return r===void 0?!1:r.isLocked?!0:this.isShapeOrAncestorLocked(this.getShapeParent(r))}getCurrentPageBounds(){let n;return this.getCurrentPageShapeIds().forEach(r=>{const s=this.getShapeMaskedPageBounds(r);s&&(n?n=n.expand(s):n=s.clone())}),n}getSelectedShapeAtPoint(n){const r=this.getSelectedShapeIds();return this.getCurrentPageShapesSorted().filter(s=>s.type!=="group"&&r.includes(s.id)).reverse().find(s=>this.isPointInShape(s,n,{hitInside:!0,margin:0}))}getShapeAtPoint(n,r={}){const s=this.getZoomLevel(),o=this.getViewportPageBounds(),{filter:a,margin:i=0,hitLabels:l=!1,hitInside:c=!1,hitFrameInside:d=!1}=r;let h=1/0,u=null,p=1/0,y=null;const g=(r.renderingOnly?this.getCurrentPageRenderingShapesSorted():this.getCurrentPageShapesSorted()).filter(x=>{if(this.isShapeOfType(x,"group"))return!1;const w=this.getShapeMask(x);return w&&!aa(n,w)?!1:a?a(x):!0});for(let x=g.length-1;x>=0;x--){const w=g[x],S=this.getShapeGeometry(w),v=S instanceof zi,k=this.getPointInShapeSpace(w,n);if((this.isShapeOfType(w,"arrow")||this.isShapeOfType(w,"geo")&&w.props.fill==="none")&&w.props.text.trim()){for(const _ of S.children)if(_.isLabel&&_.isPointInBounds(k))return w}if(this.isShapeOfType(w,"frame")){const _=S.distanceToPoint(k,c);if(Math.abs(_)<=i)return y||w;if(S.hitTestPoint(k,0,!0))return y||u||(d?w:void 0);continue}let C;if(v){let _=1/0;for(const E of S.children){if(E.isLabel&&!l)continue;const I=E.distanceToPoint(k,c);I<_&&(_=I)}C=_}else i===0&&(S.bounds.w<1||S.bounds.h<1)||S.bounds.containsPoint(k,i)?C=S.distanceToPoint(k,c):C=1/0;if(S.isClosed){if(C<=i){if(S.isFilled||v&&S.children[0].isFilled)return y||w;if(this.getShapePageBounds(w).contains(o))continue;if(Math.abs(C)<i)Math.abs(C)<p&&(p=Math.abs(C),y=w);else if(!y){const{area:_}=S;_<h&&(h=_,u=w)}}}else if(C<ko/s)return w}return y||u||void 0}getShapesAtPoint(n,r={}){return this.getCurrentPageShapes().filter(s=>this.isPointInShape(s,n,r))}isPointInShape(n,r,s={}){const{hitInside:o=!1,margin:a=0}=s,i=typeof n=="string"?n:n.id,l=this.getShapeMask(i);return l&&!aa(r,l)?!1:this.getShapeGeometry(i).hitTestPoint(this.getPointInShapeSpace(n,r),a,o)}getPointInShapeSpace(n,r){const s=typeof n=="string"?n:n.id;return this._getShapePageTransformCache().get(s).clone().invert().applyToPoint(r)}getPointInParentSpace(n,r){const s=typeof n=="string"?n:n.id,o=this.getShape(s);if(!o)return new P(0,0);if(Rr(o.parentId))return P.From(r);const a=this.getShapePageTransform(o.parentId);return a?a.clone().invert().applyToPoint(r):P.From(r)}getCurrentPageShapes(){return Array.from(this.getCurrentPageShapeIds(),n=>this.store.get(n))}getCurrentPageShapesSorted(){const n=new Set(this.getCurrentPageShapes().sort(cr)),r=[];function s(o){r.push(o),n.delete(o),n.forEach(a=>{a.parentId===o.id&&s(a)})}return n.forEach(o=>{const a=this.getShape(o.parentId);Vl(a)||s(o)}),r}getCurrentPageRenderingShapesSorted(){return this.getRenderingShapes().filter(({isCulled:n})=>!n).sort((n,r)=>n.index-r.index).map(({shape:n})=>n)}isShapeOfType(n,r){return(typeof n=="string"?this.getShape(n):n).type===r}getShape(n){const r=typeof n=="string"?n:n.id;if(js(r))return this.store.get(r)}getShapeParent(n){const r=typeof n=="string"?n:n==null?void 0:n.id;if(!r)return;const s=this.getShape(r);if(!(s===void 0||!js(s.parentId)))return this.store.get(s.parentId)}getShapeNearestSibling(n,r){return r?r.parentId===n.parentId?r:this.findShapeAncestor(r,o=>o.parentId===n.parentId):void 0}isShapeInPage(n,r=this.getCurrentPageId()){const s=typeof n=="string"?n:n.id,o=this.getShape(s);if(!o)return!1;let a=!1;if(o.parentId===r)a=!0;else{let i=this.getShape(o.parentId);e:for(;i;){if(i.parentId===r){a=!0;break e}i=this.getShape(i.parentId)}}return a}getAncestorPageId(n){const r=typeof n=="string"?n:n==null?void 0:n.id,s=r&&this.getShape(r);if(s)return Rr(s.parentId)?s.parentId:this.getAncestorPageId(this.getShape(s.parentId))}reparentShapes(n,r,s){const o=typeof n[0]=="string"?n:n.map(y=>y.id);if(o.length===0)return this;const a=[],i=Rr(r)?ge.Identity():this.getShapePageTransform(r),l=i.rotation();let c=[];const d=ze(this.getSortedChildIdsForParent(r).map(y=>this.getShape(y)));if(s){const y=d.find(g=>g.index===s);if(y){const g=d[d.indexOf(y)+1];g?c=fh(s,g.index,o.length):c=V2(s,o.length)}else{const g=d.sort(cr).find(x=>x.index>s);g?c=fh(s,g.index,o.length):c=V2(s,o.length)}}else{const y=d.length&&d[d.length-1];c=y?V2(y.index,o.length):cP(o.length)}const h=i.clone().invert(),u=ze(o.map(y=>this.getShape(y))),p=u.filter(y=>y.isLocked);p.length&&this.updateShapes(p.map(({id:y,type:g})=>({id:y,type:g,isLocked:!1})));for(let y=0;y<u.length;y++){const g=u[y],x=this.getShapePageTransform(g);if(!x)continue;const w=x.point();if(!w)continue;const S=h.applyToPoint(w),v=x.rotation()-l;a.push({id:g.id,type:g.type,parentId:r,x:S.x,y:S.y,rotation:v,index:c[y],isLocked:g.isLocked})}return this.updateShapes(a),this}getHighestIndexForParent(n){const r=typeof n=="string"?n:n.id,s=this._parentIdsToChildIds.get()[r];if(!s||s.length===0)return"a1";const o=this.getShape(s[s.length-1]);return Ea(o.index)}getSortedChildIdsForParent(n){const r=typeof n=="string"?n:n.id,s=this._parentIdsToChildIds.get()[r];return s?this._childIdsCache.get(s,()=>s):Ri}visitDescendants(n,r){const s=typeof n=="string"?n:n.id,o=this.getSortedChildIdsForParent(s);for(const a of o)r(a)!==!1&&this.visitDescendants(a,r);return this}getShapeAndDescendantIds(n){const r=new Set,s=[...n];for(;s.length>0;){const o=s.pop();if(!o)break;if(!r.has(o)){r.add(o);for(const a of this.getSortedChildIdsForParent(o))s.push(a)}}return r}getDroppingOverShape(n,r=[]){const s=this.getCurrentPageShapesSorted();for(let o=s.length-1;o>=0;o--){const a=s[o];if(!this.getShapeUtil(a).canDropShapes(a,r)||r.find(l=>l.id===a.id||this.hasAncestor(a,l.id)))continue;const i=this.getShapeMaskedPageBounds(a.id);if(i&&i.containsPoint(n)&&this.getShapeGeometry(a).hitTestPoint(this.getPointInShapeSpace(a,n),0,!0))return a}}getOutermostSelectableShape(n,r){const s=typeof n=="string"?n:n.id,o=this.getShape(s);let a=o,i=o;const l=this.getFocusedGroup();for(;i;){if(this.isShapeOfType(i,"group")&&(l==null?void 0:l.id)!==i.id&&!this.hasAncestor(l,i.id)&&((r==null?void 0:r(i))??!0))a=i;else if((l==null?void 0:l.id)===i.id)break;i=this.getShapeParent(i)}return a}rotateShapesBy(n,r){if((typeof n[0]=="string"?n:n.map(a=>a.id)).length<=0)return this;const o=dP({editor:this});return o?($0({delta:r,snapshot:o,editor:this,stage:"one-off"}),this):this}nudgeShapes(n,r,s){var i,l;const o=typeof n[0]=="string"?n:n.map(c=>c.id);if(o.length<=0)return this;const a=[];for(const c of o){const d=this.getShape(c);if(!d)throw Error(`Could not find a shape with the id ${c}.`);const h=P.Cast(r),u=this.getShapeParentTransform(d);u&&h.rot(-u.rotation());const p=(l=(i=this.getShapeUtil(d)).onTranslateStart)==null?void 0:l.call(i,d);a.push(p?{...p,x:d.x+h.x,y:d.y+h.y}:{id:c,x:d.x+h.x,y:d.y+h.y,type:d.type})}return this.updateShapes(a,{squashing:!0,...s}),this}duplicateShapes(n,r){const s=typeof n[0]=="string"?n:n.map(d=>d.id);if(s.length<=0)return this;const o=new Set(s),a=[],i=[...s];for(;i.length>0;){const d=i.pop();if(!d)break;a.push(d),this.getSortedChildIdsForParent(d).forEach(h=>i.push(h))}a.reverse();const l=new Map(a.map(d=>[d,gt()])),c=ze(a.map(d=>{const h=this.getShape(d);if(!h)return null;const u=l.get(d);let p=0,y=0;if(r&&o.has(d)){const _=this.getShapeParentTransform(h),E=new P(r.x,r.y).rot(-_.rotation());p=E.x,y=E.y}const g=h.parentId??this.getCurrentPageId(),x=this.getSortedChildIdsForParent(g),w=x.indexOf(h.id),S=x[w+1],v=S?this.getShape(S):null,k=v?ap(h.index,v.index):Ea(h.index);let C=Fr(h);if(this.isShapeOfType(h,"arrow")&&this.isShapeOfType(C,"arrow")){const _=this.getArrowInfo(h);let E,I;if(h.props.start.type==="binding"&&(E=l.get(h.props.start.boundShapeId),!E))if(_!=null&&_.isValid){const{x:A,y:T}=_.start.point;C.props.start={type:"point",x:A,y:T}}else{const{start:A}=po(this,h);C.props.start={type:"point",x:A.x,y:A.y}}if(h.props.end.type==="binding"&&(I=l.get(h.props.end.boundShapeId),!I))if(_!=null&&_.isValid){const{x:A,y:T}=_.end.point;C.props.end={type:"point",x:A,y:T}}else{const{end:A}=po(this,h);C.props.start={type:"point",x:A.x,y:A.y}}const z=cu(C)?ip(this,C):H2(this,C);if(_!=null&&_.isValid&&(z!=null&&z.isValid)&&!cu(h)){const A=P.Med(_.start.handle,_.end.handle),T=P.Dist(_.middle,A),j=P.Dist(z.middle,A);C.props.bend<0?C.props.bend+=j-T:C.props.bend-=j-T}C.props.start.type==="binding"&&E&&(C.props.start.boundShapeId=E),C.props.end.type==="binding"&&I&&(C.props.end.boundShapeId=I)}return C={...C,id:u,x:h.x+p,y:h.y+y,index:k},C}));return c.forEach(d=>{js(d.parentId)&&l.has(d.parentId)&&(d.parentId=l.get(d.parentId))}),this.history.batch(()=>{const d=c.length+this.getCurrentPageShapeIds().size>Sa;d&&Ig(this);const h=d?c.slice(0,Sa-this.getCurrentPageShapeIds().size):c,u=h.map(p=>p.id);if(this.createShapes(h),this.setSelectedShapes(u),r!==void 0){const p=this.getSelectionPageBounds(),y=this.getViewportPageBounds();p&&!y.contains(p)&&this.centerOnPoint(p.center,{duration:Aa})}}),this}moveShapesToPage(n,r){const s=typeof n[0]=="string"?n:n.map(l=>l.id);if(s.length===0)return this;if(this.getInstanceState().isReadonly)return this;const o=this.getCurrentPageId();if(r===o)return this;if(!this.store.has(r))return this;const a=this.getContentFromCurrentPage(s);if(!a)return this;if(this.getPageShapeIds(r).size+a.shapes.length>Sa)return Ig(this,r),this;const i=this.getCamera().z;return this.history.batch(()=>{this.deleteShapes(s),this.setCurrentPage(r),this.setFocusedGroup(null),this.selectNone(),this.putContentOntoCurrentPage(a,{select:!0,preserveIds:!0,preservePosition:!0}),this.setCamera({...this.getCamera(),z:i}),this.centerOnPoint(this.getSelectionRotatedPageBounds().center)}),this}toggleLock(n){const r=typeof n[0]=="string"?n:n.map(i=>i.id);if(this.getInstanceState().isReadonly||r.length===0)return this;let s=!0,o=!0;const a=[];for(const i of r){const l=this.getShape(i);l&&(a.push(l),l.isLocked?o=!1:s=!1)}return this.batch(()=>{o?(this.updateShapes(a.map(i=>({id:i.id,type:i.type,isLocked:!0}))),this.setSelectedShapes([])):s?this.updateShapes(a.map(i=>({id:i.id,type:i.type,isLocked:!1}))):this.updateShapes(a.map(i=>({id:i.id,type:i.type,isLocked:!0})))}),this}sendToBack(n){const r=typeof n[0]=="string"?n:n.map(o=>o.id),s=Eg(this,"toBack",r);return s&&this.updateShapes(s),this}sendBackward(n){const r=typeof n[0]=="string"?n:n.map(o=>o.id),s=Eg(this,"backward",r);return s&&this.updateShapes(s),this}bringForward(n){const r=typeof n[0]=="string"?n:n.map(o=>o.id),s=Eg(this,"forward",r);return s&&this.updateShapes(s),this}bringToFront(n){const r=typeof n[0]=="string"?n:n.map(o=>o.id),s=Eg(this,"toFront",r);return s&&this.updateShapes(s),this}flipShapes(n,r){const s=typeof n[0]=="string"?n:n.map(i=>i.id);if(this.getInstanceState().isReadonly)return this;let o=ze(s.map(i=>this.getShape(i)));if(!o.length)return this;o=ze(o.map(i=>this.isShapeOfType(i,"group")?this.getSortedChildIdsForParent(i.id).map(l=>this.getShape(l)):i).flat());const a=xe.Common(ze(o.map(i=>this.getShapePageBounds(i)))).center;return this.batch(()=>{for(const i of o){const l=this.getShapeGeometry(i).bounds,c=this.getShapePageTransform(i.id);c&&this.resizeShape(i.id,{x:r==="horizontal"?-1:1,y:r==="vertical"?-1:1},{initialBounds:l,initialPageTransform:c,initialShape:i,mode:"scale_shape",scaleOrigin:a,scaleAxisRotation:0})}}),this}stackShapes(n,r,s){const o=typeof n[0]=="string"?n:n.map(x=>x.id);if(this.getInstanceState().isReadonly)return this;const a=ze(o.map(x=>this.getShape(x)).filter(x=>!(!x||this.isShapeOfType(x,"arrow")&&(x.props.start.type==="binding"||x.props.end.type==="binding")))),i=a.length;if(s===0&&i<3||i<2)return this;const l=Object.fromEntries(a.map(x=>[x.id,this.getShapePageBounds(x)]));let c,d,h,u;r==="horizontal"?(c="x",d="minX",h="maxX",u="width"):(c="y",d="minY",h="maxY",u="height");let p;if(s===0){const x=[];a.sort((S,v)=>l[S.id][d]-l[v.id][d]);for(let S=0;S<i-1;S++){const v=a[S],k=a[S+1],C=l[v.id],E=l[k.id][d]-C[h],I=x.find(z=>z.gap===E);I?I.count++:x.push({gap:E,count:1})}let w=0;x.forEach(S=>{S.count>w&&(w=S.count,p=S.gap)}),w===1&&(p=Math.max(0,x.reduce((S,v)=>S+v.gap*v.count,0)/(i-1)))}else p=s;const y=[];let g=l[a[0].id][h];return a.forEach((x,w)=>{var _,E;if(w===0)return;const S={x:0,y:0};S[c]=g+p-l[x.id][c];const v=this.getShapeParent(x),k=v?P.Rot(S,-this.getShapePageTransform(v).decompose().rotation):S,C=(E=(_=this.getShapeUtil(x)).onTranslateStart)==null?void 0:E.call(_,x);y.push(C?{...C,[c]:x[c]+k[c]}:{id:x.id,type:x.type,[c]:x[c]+k[c]}),g+=l[x.id][u]+p}),this.updateShapes(y),this}packShapes(n,r){var E,I;const s=typeof n[0]=="string"?n:n.map(z=>z.id);if(this.getInstanceState().isReadonly)return this;if(s.length<2)return this;const o=ze(s.map(z=>this.getShape(z)).filter(z=>!(!z||this.isShapeOfType(z,"arrow")&&(z.props.start.type==="binding"||z.props.end.type==="binding")))),a={},i={};let l,c,d=0;for(let z=0;z<o.length;z++)l=o[z],c=this.getShapePageBounds(l),a[l.id]=c,i[l.id]=c.clone(),d+=c.width*c.height;const h=xe.Common(ze(Object.values(a))),u=h.width;o.sort((z,A)=>a[A.id].height-a[z.id].height);const p=Math.max(Math.ceil(Math.sqrt(d/.95)),u),y=[new xe(h.x,h.y,p,1/0)];let g=0,x=0,w,S;for(let z=0;z<o.length;z++){l=o[z],c=i[l.id];for(let A=y.length-1;A>=0;A--)if(w=y[A],!(c.width>w.width||c.height>w.height)){c.x=w.x,c.y=w.y,x=Math.max(x,c.maxY),g=Math.max(g,c.maxX),c.width===w.width&&c.height===w.height?(S=y.pop(),A<y.length&&(y[A]=S)):c.height===w.height?(w.x+=c.width+r,w.width-=c.width+r):c.width===w.width?(w.y+=c.height+r,w.height-=c.height+r):(y.push(new xe(w.x+(c.width+r),w.y,w.width-(c.width+r),c.height)),w.y+=c.height+r,w.height-=c.height+r);break}}const v=xe.Common(Object.values(i)),k=P.Sub(h.center,v.center);let C;const _=[];for(let z=0;z<o.length;z++){l=o[z],c=a[l.id],C=i[l.id];const A=P.Sub(C.point,c.point).add(k),T=this.getShapeParentTransform(l);T&&A.rot(-T.rotation());const j={id:l.id,type:l.type,x:l.x+A.x,y:l.y+A.y},R=(I=(E=this.getShapeUtil(l)).onTranslateStart)==null?void 0:I.call(E,{...l,...j});R?_.push({...j,...R}):_.push(j)}return _.length&&this.updateShapes(_),this}alignShapes(n,r){const s=typeof n[0]=="string"?n:n.map(c=>c.id);if(this.getInstanceState().isReadonly)return this;if(s.length<2)return this;const o=ze(s.map(c=>this.getShape(c))),a=Object.fromEntries(o.map(c=>[c.id,this.getShapePageBounds(c)])),i=xe.Common(ze(Object.values(a))),l=[];return o.forEach(c=>{var g,x;const d=a[c.id];if(!d)return;const h={x:0,y:0};switch(r){case"top":{h.y=i.minY-d.minY;break}case"center-vertical":{h.y=i.midY-d.minY-d.height/2;break}case"bottom":{h.y=i.maxY-d.minY-d.height;break}case"left":{h.x=i.minX-d.minX;break}case"center-horizontal":{h.x=i.midX-d.minX-d.width/2;break}case"right":{h.x=i.maxX-d.minX-d.width;break}}const u=this.getShapeParent(c),p=u?P.Rot(h,-this.getShapePageTransform(u).decompose().rotation):h,y=(x=(g=this.getShapeUtil(c)).onTranslateStart)==null?void 0:x.call(g,c);l.push(y?{...y,x:c.x+p.x,y:c.y+p.y}:{id:c.id,type:c.type,x:c.x+p.x,y:c.y+p.y})}),this.updateShapes(l),this}distributeShapes(n,r){const s=typeof n[0]=="string"?n:n.map(v=>v.id);if(this.getInstanceState().isReadonly)return this;if(s.length<3)return this;const o=s.length,a=ze(s.map(v=>this.getShape(v))),i=Object.fromEntries(a.map(v=>[v.id,this.getShapePageBounds(v)]));let l,c,d,h,u;r==="horizontal"?(l="x",c="minX",d="maxX",h="midX",u="width"):(l="y",c="minY",d="maxY",h="midY",u="height");const p=[],y=a.sort((v,k)=>i[v.id][c]-i[k.id][c])[0],g=a.sort((v,k)=>i[k.id][d]-i[v.id][d])[0],x=i[y.id][h],w=(i[g.id][h]-x)/(o-1),S=x+w;return a.filter(v=>v!==y&&v!==g).sort((v,k)=>i[v.id][h]-i[k.id][h]).forEach((v,k)=>{var z,A;const C={x:0,y:0};C[l]=S+w*k-i[v.id][u]/2-i[v.id][l];const _=this.getShapeParent(v),E=_?P.Rot(C,-this.getShapePageTransform(_).rotation()):C,I=(A=(z=this.getShapeUtil(v)).onTranslateStart)==null?void 0:A.call(z,v);p.push(I?{...I,[l]:v[l]+E[l]}:{id:v.id,type:v.type,[l]:v[l]+E[l]})}),this.updateShapes(p),this}stretchShapes(n,r){const s=typeof n[0]=="string"?n:n.map(c=>c.id);if(this.getInstanceState().isReadonly)return this;if(s.length<2)return this;const o=ze(s.map(c=>this.getShape(c))),a=Object.fromEntries(s.map(c=>[c,this.getShapeGeometry(c).bounds])),i=Object.fromEntries(s.map(c=>[c,this.getShapePageBounds(c)])),l=xe.Common(ze(Object.values(i)));switch(r){case"vertical":{this.batch(()=>{for(const c of o){if(this.getShapePageTransform(c).rotation()%dt)continue;const h=a[c.id],u=i[c.id],p=new P(0,l.minY-u.minY),y=this.getShapeParentTransform(c);y&&p.rot(-y.rotation());const{x:g,y:x}=P.Add(p,c);this.updateShapes([{id:c.id,type:c.type,x:g,y:x}],{squashing:!0});const w=new P(1,l.height/u.height);this.resizeShape(c.id,w,{initialBounds:h,scaleOrigin:new P(u.center.x,l.minY),scaleAxisRotation:0})}});break}case"horizontal":{this.batch(()=>{for(const c of o){const d=a[c.id],h=i[c.id];if(this.getShapePageTransform(c).rotation()%dt)continue;const p=new P(l.minX-h.minX,0),y=this.getShapeParentTransform(c);y&&p.rot(-y.rotation());const{x:g,y:x}=P.Add(p,c);this.updateShapes([{id:c.id,type:c.type,x:g,y:x}],{squashing:!0});const w=new P(l.width/h.width,1);this.resizeShape(c.id,w,{initialBounds:d,scaleOrigin:new P(l.minX,h.center.y),scaleAxisRotation:0})}});break}}return this}resizeShape(n,r,s={}){var p;const o=typeof n=="string"?n:n.id;if(this.getInstanceState().isReadonly)return this;Number.isFinite(r.x)||(r=new P(1,r.y)),Number.isFinite(r.y)||(r=new P(r.x,1));const a=s.initialShape??this.getShape(o);if(!a)return this;const i=s.scaleOrigin??((p=this.getShapePageBounds(o))==null?void 0:p.center);if(!i)return this;const l=s.initialPageTransform?ge.Cast(s.initialPageTransform):this.getShapePageTransform(o);if(!l)return this;const c=l.rotation();if(c==null)return this;const d=s.scaleAxisRotation??c,h=s.initialBounds??this.getShapeGeometry(o).bounds;if(!h)return this;if(!xI(c,d))return this._resizeUnalignedShape(o,r,{...s,initialBounds:h,scaleOrigin:i,scaleAxisRotation:d,initialPageTransform:l,initialShape:a});const u=this.getShapeUtil(a);if(u.isAspectRatioLocked(a)&&(Math.abs(r.x)>Math.abs(r.y)?r=new P(r.x,Math.sign(r.y)*Math.abs(r.x)):r=new P(Math.sign(r.x)*Math.abs(r.y),r.y)),u.onResize&&u.canResize(a)){const y=this._scalePagePoint(ge.applyToPoint(l,new P(0,0)),i,r,d),g=this.getPointInParentSpace(a.id,y),x=new P(r.x,r.y),w=sp((c-d)%Math.PI,0);x.x=w?r.x:r.y,x.y=w?r.y:r.x;const S=ge.applyToPoint(l,new P),{x:v,y:k}=this.getPointInParentSpace(a.id,S);this.updateShapes([{id:o,type:a.type,x:g.x,y:g.y,...u.onResize({...a,x:v,y:k},{newPoint:g,handle:s.dragHandle??"bottom_right",mode:s.mode??"scale_shape",scaleX:x.x,scaleY:x.y,initialBounds:h,initialShape:a})}],{squashing:!0})}else{const y=ge.applyToPoint(l,h.center),g=this._scalePagePoint(y,i,r,d),x=this.getPointInParentSpace(a.id,y),w=this.getPointInParentSpace(a.id,g),S=P.Sub(w,x);this.updateShapes([{id:o,type:a.type,x:a.x+S.x,y:a.y+S.y}],{squashing:!0})}return this}_scalePagePoint(n,r,s,o){const a=P.RotWith(n,r,-o).sub(r),i=P.MulV(a,s);return P.Add(i,r).rotWith(r,o)}_resizeUnalignedShape(n,r,s){const{type:o}=s.initialShape,a=new P(r.x,r.y);if(Math.abs(r.x)>Math.abs(r.y)?a.x=Math.sign(r.x)*Math.abs(r.y):a.y=Math.sign(r.y)*Math.abs(r.x),this.resizeShape(n,a,{initialShape:s.initialShape,initialBounds:s.initialBounds}),Math.sign(r.x)*Math.sign(r.y)<0){let{rotation:w}=ge.Decompose(s.initialPageTransform);w-=2*w,this.updateShapes([{id:n,type:o,rotation:w}],{squashing:!0})}const i=ge.applyToPoint(s.initialPageTransform,s.initialBounds.center),l=this._scalePagePoint(i,s.scaleOrigin,r,s.scaleAxisRotation),c=this.getShapePageBounds(n),d=this.getShapePageTransform(n),h=c.center,u=d.point();if(!h||!u)return this;const p=P.Sub(l,h),y=P.Add(u,p),{x:g,y:x}=this.getPointInParentSpace(n,y);return this.updateShapes([{id:n,type:o,x:g,y:x}],{squashing:!0}),this}getInitialMetaForShape(n){return{}}createShape(n){return this._createShapes([n]),this}createShapes(n){if(!Array.isArray(n))throw Error("Editor.createShapes: must provide an array of shapes or shape partials");return this._createShapes(n),this}animateShape(n,r){return this.animateShapes([n],r)}animateShapes(n,r={}){const{duration:s=500,easing:o=xr.linear}=r,a=bt();let i=s,l;const c=[];n.forEach(u=>{if(!u)return;const p={partial:u,values:[]},y=this.getShape(u.id);if(y){for(const g of["x","y","rotation"])u[g]!==void 0&&y[g]!==u[g]&&p.values.push({prop:g,from:y[g],to:u[g]});c.push(p),this.animatingShapes.set(y.id,a)}});let d;const h=u=>{if(i-=u,i<0){const{animatingShapes:y}=this,g=n.filter(x=>x&&y.get(x.id)===a);g.length&&this.updateShapes(g,{squashing:!1}),this.removeListener("tick",h);return}l=o(1-i/s);const{animatingShapes:p}=this;try{const y=[];for(let g=0;g<c.length;g++)d=c[g],p.get(d.partial.id)===a&&y.push({id:d.partial.id,type:d.partial.type,...d.values.reduce((x,{prop:w,from:S,to:v})=>(x[w]=S+(v-S)*l,x),{})});this._updateShapes(y,{squashing:!0})}catch{}};return this.addListener("tick",h),this}groupShapes(n,r=gt()){var p;if(!Array.isArray(n))throw Error("Editor.groupShapes: must provide an array of shapes or shape ids");if(this.getInstanceState().isReadonly)return this;const s=typeof n[0]=="string"?n:n.map(y=>y.id);if(s.length<=1)return this;const o=ze(this._getUnlockedShapeIds(s).map(y=>this.getShape(y))),a=o.sort(cr).map(y=>y.id),i=xe.Common(ze(o.map(y=>this.getShapePageBounds(y)))),{x:l,y:c}=i.point,d=this.findCommonAncestor(o)??this.getCurrentPageId();if(this.getCurrentToolId()!=="select")return this;this.isIn("select.idle")||this.cancel();const h=o.filter(y=>y.parentId===d).sort(cr),u=(p=h[h.length-1])==null?void 0:p.index;return this.batch(()=>{this.createShapes([{id:r,type:"group",parentId:d,index:u,x:l,y:c,opacity:1,props:{}}]),this.reparentShapes(a,r),this.select(r)}),this}ungroupShapes(n){const r=typeof n[0]=="string"?n:n.map(i=>i.id);if(this.getInstanceState().isReadonly)return this;if(r.length===0)return this;if(this.getCurrentToolId()!=="select")return this;this.isIn("select.idle")||this.cancel();const s=new Set,o=ze(r.map(i=>this.getShape(i))),a=[];return o.forEach(i=>{this.isShapeOfType(i,"group")?a.push(i):s.add(i.id)}),a.length===0?this:(this.batch(()=>{let i;for(let l=0,c=a.length;l<c;l++){i=a[l];const d=this.getSortedChildIdsForParent(i.id);for(let h=0,u=d.length;h<u;h++)s.add(d[h]);this.reparentShapes(d,i.parentId,i.index)}this.deleteShapes(a.map(l=>l.id)),this.select(...s)}),this)}updateShape(n,r){return this.updateShapes([n],r),this}updateShapes(n,r){let s=ze(n);return this.animatingShapes.size>0&&s.forEach(o=>this.animatingShapes.delete(o.id)),s=s.filter(o=>{const a=this.getShape(o.id);return!(!a||this.isShapeOrAncestorLocked(a)&&!Object.hasOwn(o,"isLocked"))}),this._updateShapes(s,r),this}_getUnlockedShapeIds(n){return n.filter(r=>{var s;return!((s=this.getShape(r))!=null&&s.isLocked)})}deleteShapes(n){if(!Array.isArray(n))throw Error("Editor.deleteShapes: must provide an array of shapes or shapeIds");return this._deleteShapes(this._getUnlockedShapeIds(typeof n[0]=="string"?n:n.map(r=>r.id))),this}deleteShape(n){return this.deleteShapes([typeof n=="string"?n:n.id]),this}_extractSharedStyles(n,r){if(this.isShapeOfType(n,"group")){const s=this._parentIdsToChildIds.get()[n.id];if(!s)return;for(let o=0,a=s.length;o<a;o++)this._extractSharedStyles(this.getShape(s[o]),r)}else for(const[s,o]of this.styleProps[n.type])r.applyValue(s,D2(n.props,o))}getStyleForNextShape(n){const r=this.getInstanceState().stylesForNextShape[n.id];return r===void 0?n.defaultValue:r}getShapeStyleIfExists(n,r){const s=this.styleProps[n.type].get(r);if(s!==void 0)return D2(n.props,s)}getSharedStyles(){if(this.isIn("select")&&this.getSelectedShapeIds().length>0)return this._selectionSharedStyles.get();const n=this.root.getCurrent(),r=new Aw;if(!n)return r;if(n.shapeType)for(const s of this.styleProps[n.shapeType].keys())r.applyValue(s,this.getStyleForNextShape(s));return r}getSharedOpacity(){if(this.isIn("select")&&this.getSelectedShapeIds().length>0){const n=[],r=o=>{const a=this.getShape(o);if(a)if(this.isShapeOfType(a,"group"))for(const i of this.getSortedChildIdsForParent(a.id))r(i);else n.push(a)};for(const o of this.getSelectedShapeIds())r(o);let s=null;for(const o of n)if(s===null)s=o.opacity;else if(s!==o.opacity)return{type:"mixed"};if(s!==null)return{type:"shared",value:s}}return{type:"shared",value:this.getInstanceState().opacityForNextShape}}setOpacityForNextShapes(n,r){return this.updateInstanceState({opacityForNextShape:n},r),this}setOpacityForSelectedShapes(n,r){const s=this.getSelectedShapes();if(s.length>0){const o=[],a=i=>{if(this.isShapeOfType(i,"group")){const l=this.getSortedChildIdsForParent(i);for(const c of l)a(this.getShape(c))}else o.push(i)};for(const i of s)a(i);this.updateShapes(o.map(i=>({id:i.id,type:i.type,opacity:n})),r)}return this}setStyleForNextShapes(n,r,s){const o=this.getInstanceState().stylesForNextShape;return this.updateInstanceState({stylesForNextShape:{...o,[n.id]:r}},s),this}setStyleForSelectedShapes(n,r,s){const o=this.getSelectedShapes();if(o.length>0){const a=[],i=l=>{if(this.isShapeOfType(l,"group")){const c=this.getSortedChildIdsForParent(l.id);for(const d of c)i(this.getShape(d))}else{const c=this.getShapeUtil(l),d=this.styleProps[l.type].get(n);if(d){const h={id:l.id,type:l.type,props:{[d]:r}};a.push({util:c,originalShape:l,updatePartial:h})}}};for(const l of o)i(l);this.updateShapes(a.map(({updatePartial:l})=>l),s)}return this}registerExternalAssetHandler(n,r){return this.externalAssetContentHandlers[n]=r,this}async getAssetForExternalContent(n){var r,s;return await((s=(r=this.externalAssetContentHandlers)[n.type])==null?void 0:s.call(r,n))}registerExternalContentHandler(n,r){return this.externalContentHandlers[n]=r,this}async putExternalContent(n){var r,s;return(s=(r=this.externalContentHandlers)[n.type])==null?void 0:s.call(r,n)}getContentFromCurrentPage(n){const r=typeof n[0]=="string"?n:n.map(l=>l.id);if(!r||r.length===0)return;const s={};let o=Ym(r.map(l=>this.getShape(l)).sort(cr).flatMap(l=>{const c=[l];return this.visitDescendants(l.id,d=>{c.push(this.getShape(d))}),c}));o=o.map(l=>{if(s[l.id]=this.getShapePageTransform(l.id),l=Cd(l),this.isShapeOfType(l,"arrow")){const c=l.props.start.type==="binding"?l.props.start.boundShapeId:void 0,d=l.props.end.type==="binding"?l.props.end.boundShapeId:void 0,h=this.getArrowInfo(l);if(l.props.start.type==="binding"&&!o.some(p=>p.id===c))if(h!=null&&h.isValid){const{x:p,y}=h.start.point;l.props.start={type:"point",x:p,y}}else{const{start:p}=po(this,l);l.props.start={type:"point",x:p.x,y:p.y}}if(l.props.end.type==="binding"&&!o.some(p=>p.id===d))if(h!=null&&h.isValid){const{x:p,y}=h.end.point;l.props.end={type:"point",x:p,y}}else{const{end:p}=po(this,l);l.props.end={type:"point",x:p.x,y:p.y}}const u=cu(l)?ip(this,l):H2(this,l);if(h!=null&&h.isValid&&(u!=null&&u.isValid)&&!cu(l)){const p=P.Med(h.start.handle,h.end.handle),y=P.Dist(h.middle,p),g=P.Dist(u.middle,p);l.props.bend<0?l.props.bend+=g-y:l.props.bend-=g-y}return l}return l});const a=[];o.forEach(l=>{if(o.find(c=>c.id===l.parentId)===void 0){const c=this.getShapePageTransform(l.id),d=c.point(),h=c.rotation();l.x=d.x,l.y=d.y,l.rotation=h,l.parentId=this.getCurrentPageId(),a.push(l.id)}});const i=new Set;return o.forEach(l=>{"assetId"in l.props&&l.props.assetId!==null&&i.add(l.props.assetId)}),{shapes:o,rootShapeIds:a,schema:this.store.schema.serialize(),assets:ze(Array.from(i).map(l=>this.getAsset(l)))}}putContentOntoCurrentPage(n,r={}){if(this.getInstanceState().isReadonly)return this;if(!n.schema)throw Error(`Could not put content:
content is missing a schema.`);const{select:s=!1,preserveIds:o=!1,preservePosition:a=!1}=r;let{point:i=void 0}=r;const l=this.getCurrentPageId(),{assets:c,shapes:d,rootShapeIds:h}=n,u=new Map(d.map(C=>[C.id,gt()]));let p=this.getCurrentPageId(),y=1/0,g=[];for(const C of this.getSelectedShapes()){if(y===0)break;const _=this.isShapeOfType(C,"frame"),E=this.getShapeAncestors(C);_&&E.push(C);const I=_?E.length+1:E.length;if(I<y)y=I,g=E,p=_?C.id:C.parentId;else if(I===y){if(g.length!==E.length)throw Error(`Ancestors: ${g.length} !== ${E.length}`);if(g.length===0){p=l;break}else{p=l;for(let z=0;z<g.length&&E[z]===g[z];z++)p=E[z].id}}}let x=!1;if(!Rr(p)){const C=this.getShape(p);if(C){if(!this.getViewportPageBounds().includes(this.getShapePageBounds(C)))p=l;else if(h.length===1){const _=d.find(E=>E.id===h[0]);this.isShapeOfType(C,"frame")&&this.isShapeOfType(_,"frame")&&_.props.w===(C==null?void 0:C.props.w)&&_.props.h===(C==null?void 0:C.props.h)&&(x=!0)}}else p=l}x||(x=u.has(p)),x&&(p=this.getShape(p).parentId);let w=this.getHighestIndexForParent(p);const S=[],v=d.map(C=>{let _;if(o)_=Fr(C),u.set(C.id,C.id);else{const E=u.get(C.id);_=Fr({...C,id:E})}if(h.includes(C.id)&&(_.parentId=l,S.push(_)),u.has(_.parentId)?_.parentId=u.get(C.parentId):(h.push(_.id),_.index=w,w=Ea(w)),this.isShapeOfType(_,"arrow")){if(_.props.start.type==="binding"){const E=u.get(_.props.start.boundShapeId);_.props.start=E?{..._.props.start,boundShapeId:E}:{type:"point",x:0,y:0}}if(_.props.end.type==="binding"){const E=u.get(_.props.end.boundShapeId);_.props.end=E?{..._.props.end,boundShapeId:E}:{type:"point",x:0,y:0}}}return _});if(v.length+this.getCurrentPageShapeIds().size>Sa)return Ig(this),this;let k=[];if(c){for(let _=0;_<c.length;_++){const E=c[_],I=this.store.schema.migratePersistedRecord(E,n.schema);if(I.type==="success")c[_]=I.value;else throw Error(`Could not put content:
could not migrate content for asset:
${E.id}
${E.type}
reason:${I.reason}`)}const C=[];k=c.filter(_=>!this.store.has(_.id)).map(_=>{var E;return(_.type==="image"||_.type==="video")&&(_.props.src&&((E=_.props.src)!=null&&E.startsWith("data:image"))?(C.push(Cd(_)),_.props.src=null):C.push(Cd(_))),_}),Promise.allSettled(C.map(async _=>{const E=await eV(_.props.src,_.props.name,_.props.mimeType??"image/png"),I=await this.getAssetForExternalContent({type:"file",file:E});return I?[_,I]:null})).then(_=>{this.updateAssets(ze(_.map(E=>E.status==="fulfilled"&&E.value?{...E.value[1],id:E.value[0].id}:void 0)))})}for(let C=0;C<v.length;C++){const _=v[C],E=this.store.schema.migratePersistedRecord(_,n.schema);if(E.type==="success")v[C]=E.value;else throw Error(`Could not put content:
could not migrate content for shape:
${_.id}, ${_.type}
reason:${E.reason}`)}return this.batch(()=>{k.length>0&&this.createAssets(k),this.createShapes(v),s&&this.select(...S.map(z=>z.id)),p!==l&&this.reparentShapes(S.map(z=>z.id),p);const C=v.map(z=>this.getShape(z.id)),_=xe.Common(C.map(z=>this.getShapePageBounds(z)));if(i===void 0)if(Rr(p)){const z=this.getViewportPageBounds();a||z.includes(xe.From(_))?i=_.center:i=z.center}else{const z=this.getShape(p);i=ge.applyToPoint(this.getShapePageTransform(z),this.getShapeGeometry(z).bounds.center)}if(S.length===1){const z=S[0];if(this.isShapeOfType(z,"frame"))for(;this.getShapesAtPoint(i).some(A=>this.isShapeOfType(A,"frame")&&A.props.w===z.props.w&&A.props.h===z.props.h);)i.x+=_.w+16}const E=xe.Common(ze(S.map(({id:z})=>this.getShapePageBounds(z)))).center,I=P.Sub(i,E);this.updateShapes(S.map(({id:z})=>{const A=this.getShape(z),T=this.getShapeParentTransform(z).decompose().rotation,j=P.Rot(I,-T);return{id:A.id,type:A.type,x:A.x+j.x,y:A.y+j.y}}))}),this}async getSvg(n,r={}){var C,_;const s=typeof n[0]=="string"?n:n.map(E=>E.id);if(s.length===0)return;if(!window.document)throw Error("No document");const{scale:o=1,background:a=!1,padding:i=wF,preserveAspectRatio:l=!1}=r,c=br({isDarkMode:this.user.getIsDarkMode()}),d=this.getShapeAndDescendantIds(s),h=this.getUnorderedRenderingShapes(!1).filter(({id:E})=>d.has(E));let u=null;if(r.bounds)u=r.bounds;else for(const{maskedPageBounds:E}of h)E&&(u?u.union(E):u=E.clone());if(!u)return;const p=s.length===1&&this.isShapeOfType(this.getShape(s[0]),"frame")?s[0]:null;p||u.expandBy(i);const y=u.width*o,g=u.height*o,x=window.document.createElementNS("http://www.w3.org/2000/svg","svg");l&&x.setAttribute("preserveAspectRatio",l),x.setAttribute("direction","ltr"),x.setAttribute("width",y+""),x.setAttribute("height",g+""),x.setAttribute("viewBox",`${u.minX} ${u.minY} ${u.width} ${u.height}`),x.setAttribute("stroke-linecap","round"),x.setAttribute("stroke-linejoin","round"),a?p?x.style.setProperty("background",c.solid):x.style.setProperty("background-color",c.background):x.style.setProperty("background-color","transparent");try{(_=(C=document.body).focus)==null||_.call(C)}catch{}const w=window.document.createElementNS("http://www.w3.org/2000/svg","defs");x.append(w);const S=new Map,v={addExportDef:E=>{if(S.has(E.key))return;const I=(async()=>{const z=await E.getElement();if(!z)return;const A=document.createComment(`def: ${E.key}`);w.appendChild(A);for(const T of Array.isArray(z)?z:[z])w.appendChild(T)})();S.set(E.key,I)}},k=(await Promise.all(h.map(async({id:E,opacity:I,index:z,backgroundIndex:A})=>{var q,K;if(E===p)return[];const T=this.getShape(E);if(this.isShapeOfType(T,"group"))return[];const j=this.getShapeUtil(T);let R=await((q=j.toSvg)==null?void 0:q.call(j,T,v)),M=await((K=j.toBackgroundSvg)==null?void 0:K.call(j,T,v));if(R){const W=document.createElementNS("http://www.w3.org/2000/svg","g");W.appendChild(R),R=W}if(M){const W=document.createElementNS("http://www.w3.org/2000/svg","g");W.appendChild(M),M=W}if(!R&&!M){const W=this.getShapePageBounds(T),G=window.document.createElementNS("http://www.w3.org/2000/svg","rect");G.setAttribute("width",W.width+""),G.setAttribute("height",W.height+""),G.setAttribute("fill",c.solid),G.setAttribute("stroke",c.grey.pattern),G.setAttribute("stroke-width","1"),R=G}let D=this.getShapePageTransform(T).toCssString();"scale"in T.props&&T.props.scale!==1&&(D=`${D} scale(${T.props.scale}, ${T.props.scale})`),R==null||R.setAttribute("transform",D),M==null||M.setAttribute("transform",D),R==null||R.setAttribute("opacity",I+""),M==null||M.setAttribute("opacity",I+"");const U=this.getShapeMask(T.id);if(U){const W=document.createElementNS("http://www.w3.org/2000/svg","clipPath");w.appendChild(W);const G=bt();W.id=G;const ne=document.createElementNS("http://www.w3.org/2000/svg","path");if(ne.setAttribute("d",`M${U.map(({x:ce,y:Le})=>`${ce},${Le}`).join("L")}Z`),W.appendChild(ne),R){const ce=document.createElementNS("http://www.w3.org/2000/svg","g");ce.setAttribute("clip-path",`url(#${G})`),ce.appendChild(R),R=ce}if(M){const ce=document.createElementNS("http://www.w3.org/2000/svg","g");ce.setAttribute("clip-path",`url(#${G})`),ce.appendChild(M),M=ce}}const Y=[];return R&&Y.push({zIndex:z,element:R}),M&&Y.push({zIndex:A,element:M}),Y}))).flat();await Promise.all(S.values());for(const{element:E}of k.sort((I,z)=>I.zIndex-z.zIndex))x.appendChild(E);return x}_updateInputsFromEvent(n){var y;const{previousScreenPoint:r,previousPagePoint:s,currentScreenPoint:o,currentPagePoint:a}=this.inputs,{screenBounds:i}=this.store.unsafeGetWithoutCapture(pr),{x:l,y:c,z:d}=n.point,{x:h,y:u,z:p}=this.getCamera();r.setTo(o),s.setTo(a),o.set(l,c),a.set((l-i.x)/p-h,(c-i.y)/p-u,d??.5),this.inputs.isPen=n.type==="pointer"&&n.isPen,n.name==="pointer_down"&&this.inputs.pointerVelocity.set(0,0),this.store.put([{id:Bm,typeName:"pointer",x:a.x,y:a.y,lastActivityTimestamp:n.type==="pointer"&&n.pointerId===ev.CAMERA_MOVE?((y=this.store.get(Bm))==null?void 0:y.lastActivityTimestamp)??Date.now():Date.now(),meta:{}}])}cancel(){return this.dispatch({type:"misc",name:"cancel"}),this}interrupt(){return this.dispatch({type:"misc",name:"interrupt"}),this}complete(){return this.dispatch({type:"misc",name:"complete"}),this}cancelDoubleClick(){this._clickManager.cancelDoubleClickTimeout()}};ve([oe],Se.prototype,"getCanUndo",1);ve([oe],Se.prototype,"getCanRedo",1);ve([oe],Se.prototype,"_getArrowBindingsIndex",1);ve([oe],Se.prototype,"getArrowInfoCache",1);ve([oe],Se.prototype,"getPath",1);ve([oe],Se.prototype,"getCurrentTool",1);ve([oe],Se.prototype,"getCurrentToolId",1);ve([oe],Se.prototype,"getDocumentSettings",1);ve([oe],Se.prototype,"getInstanceState",1);ve([oe],Se.prototype,"getOpenMenus",1);ve([oe],Se.prototype,"getIsMenuOpen",1);ve([oe],Se.prototype,"getPageStates",1);ve([oe],Se.prototype,"_getPageStatesQuery",1);ve([oe],Se.prototype,"getCurrentPageState",1);ve([oe],Se.prototype,"_getCurrentPageStateId",1);ve([oe],Se.prototype,"getSelectedShapeIds",1);ve([oe],Se.prototype,"getSelectedShapes",1);ve([oe],Se.prototype,"getOnlySelectedShape",1);ve([oe],Se.prototype,"getSelectionPageBounds",1);ve([oe],Se.prototype,"getSelectionRotation",1);ve([oe],Se.prototype,"getSelectionRotatedPageBounds",1);ve([oe],Se.prototype,"getFocusedGroupId",1);ve([oe],Se.prototype,"getFocusedGroup",1);ve([oe],Se.prototype,"getEditingShapeId",1);ve([oe],Se.prototype,"getEditingShape",1);ve([oe],Se.prototype,"getHoveredShapeId",1);ve([oe],Se.prototype,"getHoveredShape",1);ve([oe],Se.prototype,"getHintingShapeIds",1);ve([oe],Se.prototype,"getHintingShape",1);ve([oe],Se.prototype,"getErasingShapeIds",1);ve([oe],Se.prototype,"getErasingShapes",1);ve([oe],Se.prototype,"getCameraId",1);ve([oe],Se.prototype,"getCamera",1);ve([oe],Se.prototype,"getZoomLevel",1);ve([oe],Se.prototype,"getViewportScreenBounds",1);ve([oe],Se.prototype,"getViewportScreenCenter",1);ve([oe],Se.prototype,"getViewportPageBounds",1);ve([oe],Se.prototype,"getViewportPageCenter",1);ve([oe],Se.prototype,"getRenderingShapes",1);ve([oe],Se.prototype,"_getAllPagesQuery",1);ve([oe],Se.prototype,"getPages",1);ve([oe],Se.prototype,"_getAllAssetsQuery",1);ve([oe],Se.prototype,"_getShapeGeometryCache",1);ve([oe],Se.prototype,"_getShapeOutlineSegmentsCache",1);ve([oe],Se.prototype,"_getShapeHandlesCache",1);ve([oe],Se.prototype,"_getShapePageTransformCache",1);ve([oe],Se.prototype,"_getShapePageBoundsCache",1);ve([oe],Se.prototype,"_getShapeClipPathCache",1);ve([oe],Se.prototype,"_getShapeMaskCache",1);ve([oe],Se.prototype,"getCurrentPageBounds",1);ve([oe],Se.prototype,"getCurrentPageShapes",1);ve([oe],Se.prototype,"getCurrentPageShapesSorted",1);ve([oe],Se.prototype,"getCurrentPageRenderingShapesSorted",1);ve([oe({isEqual:(e,t)=>e.equals(t)})],Se.prototype,"getSharedStyles",1);ve([oe],Se.prototype,"getSharedOpacity",1);function Ig(e,t=e.getCurrentPageId()){const n=e.getPage(t).name;e.emit("max-shapes",{name:n,pageId:t,count:Sa})}function Lv(e,t){if(!t.constraints)throw Error("Should have constraints here");const{padding:{x:n,y:r}}=t.constraints,s=e.getViewportScreenBounds(),o=xe.From(t.constraints.bounds),a=(s.w-n*2)/o.w,i=(s.h-r*2)/o.h;return{zx:a,zy:i}}function C1(){const e=H();return J("isDarkMode",()=>e.user.getIsDarkMode(),[e])}const OV='<path d="m12 24.4219v-16.015l11.591 11.619h-6.781l-.411.124z" fill="white"/><path d="m21.0845 25.0962-3.605 1.535-4.682-11.089 3.686-1.553z" fill="white"/><path d="m19.751 24.4155-1.844.774-3.1-7.374 1.841-.775z" fill="black"/><path d="m13 10.814v11.188l2.969-2.866.428-.139h4.768z" fill="black"/>',DV='<path d="m13.3315 21.3799c-.284-.359-.629-1.093-1.243-1.984-.348-.504-1.211-1.453-1.468-1.935-.223-.426-.199-.617-.146-.97.094-.628.738-1.117 1.425-1.051.519.049.959.392 1.355.716.239.195.533.574.71.788.163.196.203.277.377.509.23.307.302.459.214.121-.071-.496-.187-1.343-.355-2.092-.128-.568-.159-.657-.281-1.093-.129-.464-.195-.789-.316-1.281-.084-.348-.235-1.059-.276-1.459-.057-.547-.087-1.439.264-1.849.275-.321.906-.418 1.297-.22.512.259.803 1.003.936 1.3.239.534.387 1.151.516 1.961.164 1.031.466 2.462.476 2.763.024-.369-.068-1.146-.004-1.5.058-.321.328-.694.666-.795.286-.085.621-.116.916-.055.313.064.643.288.766.499.362.624.369 1.899.384 1.831.086-.376.071-1.229.284-1.584.14-.234.497-.445.687-.479.294-.052.655-.068.964-.008.249.049.586.345.677.487.218.344.342 1.317.379 1.658.015.141.074-.392.293-.736.406-.639 1.843-.763 1.898.639.025.654.02.624.02 1.064 0 .517-.012.828-.04 1.202-.031.4-.117 1.304-.242 1.742-.086.301-.371.978-.652 1.384 0 0-1.074 1.25-1.191 1.813-.118.562-.079.566-.102.965-.023.398.121.922.121.922s-.802.104-1.234.035c-.391-.063-.875-.841-1-1.079-.172-.328-.539-.265-.682-.023-.225.383-.709 1.07-1.051 1.113-.668.084-2.054.031-3.139.02 0 0 .185-1.011-.227-1.358-.305-.259-.83-.784-1.144-1.06z" fill="white"/><g stroke="black" stroke-linecap="round" stroke-width=".75"><path d="m13.3315 21.3799c-.284-.359-.629-1.093-1.243-1.984-.348-.504-1.211-1.453-1.468-1.935-.223-.426-.199-.617-.146-.97.094-.628.738-1.117 1.425-1.051.519.049.959.392 1.355.716.239.195.533.574.71.788.163.196.203.277.377.509.23.307.302.459.214.121-.071-.496-.187-1.343-.355-2.092-.128-.568-.159-.657-.281-1.093-.129-.464-.195-.789-.316-1.281-.084-.348-.235-1.059-.276-1.459-.057-.547-.087-1.439.264-1.849.275-.321.906-.418 1.297-.22.512.259.803 1.003.936 1.3.239.534.387 1.151.516 1.961.164 1.031.466 2.462.476 2.763.024-.369-.068-1.146-.004-1.5.058-.321.328-.694.666-.795.286-.085.621-.116.916-.055.313.064.643.288.766.499.362.624.369 1.899.384 1.831.086-.376.071-1.229.284-1.584.14-.234.497-.445.687-.479.294-.052.655-.068.964-.008.249.049.586.345.677.487.218.344.342 1.317.379 1.658.015.141.074-.392.293-.736.406-.639 1.843-.763 1.898.639.025.654.02.624.02 1.064 0 .517-.012.828-.04 1.202-.031.4-.117 1.304-.242 1.742-.086.301-.371.978-.652 1.384 0 0-1.074 1.25-1.191 1.813-.118.562-.079.566-.102.965-.023.398.121.922.121.922s-.802.104-1.234.035c-.391-.063-.875-.841-1-1.079-.172-.328-.539-.265-.682-.023-.225.383-.709 1.07-1.051 1.113-.668.084-2.054.031-3.139.02 0 0 .185-1.011-.227-1.358-.305-.259-.83-.784-1.144-1.06z" stroke-linejoin="round"/><path d="m21.5664 21.7344v-3.459"/><path d="m19.5508 21.7461-.016-3.473"/><path d="m17.5547 18.3047.021 3.426"/></g>',qV='<path d="m25 16h-6.01v-6h-2.98v6h-6.01v3h6.01v6h2.98v-6h6.01z" fill="white"/><path d="m23.9902 17.0103h-6v-6.01h-.98v6.01h-6v.98h6v6.01h.98v-6.01h6z" fill="%23231f1f"/>',BV='<path d="m19 14h1v1h-1zm1 6h-1v-1h1zm-5-5h-1v-1h1zm0 5h-1v-1h1zm2-10.987-7.985 7.988 5.222 5.221 2.763 2.763 7.984-7.985z" fill="white"/><g fill="black"><path d="m23.5664 16.9971-2.557-2.809v1.829h-4.009-4.001v-1.829l-2.571 2.809 2.572 2.808-.001-1.808h4.001 4.009l-.001 1.808z"/><path d="m17.9873 17h.013v-4.001l1.807.001-2.807-2.571-2.809 2.57h1.809v4.001h.008v4.002l-1.828-.001 2.807 2.577 2.805-2.576h-1.805z"/></g>',Mv="<path d='m19.7432 17.0869-4.072 4.068 2.829 2.828-8.473-.013-.013-8.47 2.841 2.842 4.075-4.068 1.414-1.415-2.844-2.842h8.486v8.484l-2.83-2.827z' fill='%23fff'/><path d='m18.6826 16.7334-4.427 4.424 1.828 1.828-5.056-.016-.014-5.054 1.842 1.841 4.428-4.422 2.474-2.475-1.844-1.843h5.073v5.071l-1.83-1.828z' fill='%23000'/>",jv="<path d='m9 17.9907v.005l5.997 5.996.001-3.999h1.999 2.02v4l5.98-6.001-5.98-5.999.001 4.019-2.021.002h-2l.001-4.022zm1.411.003 3.587-3.588-.001 2.587h3.5 2.521v-2.585l3.565 3.586-3.564 3.585-.001-2.585h-2.521l-3.499-.001-.001 2.586z' fill='%23fff'/><path d='m17.4971 18.9932h2.521v2.586l3.565-3.586-3.565-3.585v2.605h-2.521-3.5v-2.607l-3.586 3.587 3.586 3.586v-2.587z' fill='%23000'/>",Pg='<path d="M22.4789 9.45728L25.9935 12.9942L22.4789 16.5283V14.1032C18.126 14.1502 14.6071 17.6737 14.5675 22.0283H17.05L13.513 25.543L9.97889 22.0283H12.5674C12.6071 16.5691 17.0214 12.1503 22.4789 12.1031L22.4789 9.45728Z" fill="black"/><path fill-rule="evenodd" clip-rule="evenodd" d="M21.4789 7.03223L27.4035 12.9945L21.4789 18.9521V15.1868C18.4798 15.6549 16.1113 18.0273 15.649 21.0284H19.475L13.5128 26.953L7.55519 21.0284H11.6189C12.1243 15.8155 16.2679 11.6677 21.4789 11.1559L21.4789 7.03223ZM22.4789 12.1031C17.0214 12.1503 12.6071 16.5691 12.5674 22.0284H9.97889L13.513 25.543L17.05 22.0284H14.5675C14.5705 21.6896 14.5947 21.3558 14.6386 21.0284C15.1157 17.4741 17.9266 14.6592 21.4789 14.1761C21.8063 14.1316 22.1401 14.1069 22.4789 14.1032V16.5284L25.9935 12.9942L22.4789 9.45729L22.4789 12.1031Z" fill="white"/>',FV='<path fill="white" d="M7.94 0a5.25 5.25 0 0 0-3.47 1.17A5.27 5.27 0 0 0 1 0H0v3h1c1.41 0 1.85.7 2 1v3.94H2v3h1v3c-.13.3-.57 1-2 1H0v3h1a5.27 5.27 0 0 0 3.47-1.17c.98.8 2.21 1.21 3.47 1.17h1v-3h-1c-1.41 0-1.85-.7-2-1v-3H7v-3H6V4c.13-.3.57-1 2-1h1V0H7.94z"/><path fill="black" d="M7.94 2V1a4 4 0 0 0-3.47 1.64A4 4 0 0 0 1 1v1c1.3-.17 2.56.6 3 1.84v5.1H3v1h1v4.16c-.45 1.24-1.7 2-3 1.84v1a4.05 4.05 0 0 0 3.47-1.63 4.05 4.05 0 0 0 3.47 1.63v-1A2.82 2.82 0 0 1 5 14.1V9.93h1v-1H5V3.85A2.81 2.81 0 0 1 7.94 2z"/>',KV="<path d='m13.5732 12.0361c.48-.178 1.427-.069 1.677.473.213.462.396 1.241.406 1.075.024-.369-.024-1.167.137-1.584.117-.304.347-.59.686-.691.285-.086.62-.116.916-.055.313.064.642.287.765.499.362.623.368 1.899.385 1.831.064-.272.07-1.229.283-1.584.141-.235.497-.445.687-.479.294-.052.656-.068.964-.008.249.049.586.344.677.487.219.344.342 1.316.379 1.658.016.141.074-.393.293-.736.406-.639 1.844-.763 1.898.639.026.654.02.624.02 1.064 0 .516-.012.828-.04 1.202-.03.399-.116 1.304-.241 1.742-.086.301-.371.978-.653 1.384 0 0-1.074 1.25-1.191 1.812-.117.563-.078.567-.102.965-.023.399.121.923.121.923s-.801.104-1.234.034c-.391-.062-.875-.84-1-1.078-.172-.328-.539-.265-.682-.023-.224.383-.709 1.07-1.05 1.113-.669.084-2.055.03-3.14.02 0 0 .185-1.011-.227-1.358-.305-.26-.83-.784-1.144-1.06l-.832-.921c-.283-.36-1.002-.929-1.243-1.985-.213-.936-.192-1.395.037-1.77.232-.381.67-.589.854-.625.208-.042.692-.039.875.062.223.123.313.159.488.391.23.307.312.456.213.121-.076-.262-.322-.595-.434-.97-.109-.361-.401-.943-.38-1.526.008-.221.103-.771.832-1.042' fill='white'/><g stroke='black' stroke-width='.75'><path d='m13.5732 12.0361c.48-.178 1.427-.069 1.677.473.213.462.396 1.241.406 1.075.024-.369-.024-1.167.137-1.584.117-.304.347-.59.686-.691.285-.086.62-.116.916-.055.313.064.642.287.765.499.362.623.368 1.899.385 1.831.064-.272.07-1.229.283-1.584.141-.235.497-.445.687-.479.294-.052.656-.068.964-.008.249.049.586.344.677.487.219.344.342 1.316.379 1.658.016.141.074-.393.293-.736.406-.639 1.844-.763 1.898.639.026.654.02.624.02 1.064 0 .516-.012.828-.04 1.202-.03.399-.116 1.304-.241 1.742-.086.301-.371.978-.653 1.384 0 0-1.074 1.25-1.191 1.812-.117.563-.078.567-.102.965-.023.399.121.923.121.923s-.801.104-1.234.034c-.391-.062-.875-.84-1-1.078-.172-.328-.539-.265-.682-.023-.224.383-.709 1.07-1.05 1.113-.669.084-2.055.03-3.14.02 0 0 .185-1.011-.227-1.358-.305-.26-.83-.784-1.144-1.06l-.832-.921c-.283-.36-1.002-.929-1.243-1.985-.213-.936-.192-1.395.037-1.77.232-.381.67-.589.854-.625.208-.042.692-.039.875.062.223.123.313.159.488.391.23.307.312.456.213.121-.076-.262-.322-.595-.434-.97-.109-.361-.401-.943-.38-1.526.008-.221.103-.771.832-1.042z' stroke-linejoin='round'/><path d='m20.5664 19.7344v-3.459' stroke-linecap='round'/><path d='m18.5508 19.7461-.016-3.473' stroke-linecap='round'/><path d='m16.5547 16.3047.021 3.426' stroke-linecap='round'/></g>",WV='<path d="m13.5557 17.5742c-.098-.375-.196-.847-.406-1.552-.167-.557-.342-.859-.47-1.233-.155-.455-.303-.721-.496-1.181-.139-.329-.364-1.048-.457-1.44-.119-.509.033-.924.244-1.206.253-.339.962-.49 1.357-.351.371.13.744.512.916.788.288.46.357.632.717 1.542.393.992.564 1.918.611 2.231l.085.452c-.001-.04-.043-1.122-.044-1.162-.035-1.029-.06-1.823-.038-2.939.002-.126.064-.587.084-.715.078-.5.305-.8.673-.979.412-.201.926-.215 1.401-.017.423.173.626.55.687 1.022.014.109.094.987.093 1.107-.013 1.025.006 1.641.015 2.174.004.231.003 1.625.017 1.469.061-.656.094-3.189.344-3.942.144-.433.405-.746.794-.929.431-.203 1.113-.07 1.404.243.285.305.446.692.482 1.153.032.405-.019.897-.02 1.245 0 .867-.021 1.324-.037 2.121-.001.038-.015.298.023.182.094-.28.188-.542.266-.745.049-.125.241-.614.359-.859.114-.234.211-.369.415-.688.2-.313.415-.448.668-.561.54-.235 1.109.112 1.301.591.086.215.009.713-.028 1.105-.061.647-.254 1.306-.352 1.648-.128.447-.274 1.235-.34 1.601-.072.394-.234 1.382-.359 1.82-.086.301-.371.978-.652 1.384 0 0-1.074 1.25-1.192 1.812-.117.563-.078.567-.101.965-.024.399.121.923.121.923s-.802.104-1.234.034c-.391-.062-.875-.841-1-1.078-.172-.328-.539-.265-.682-.023-.225.383-.709 1.07-1.051 1.113-.668.084-2.054.03-3.139.02 0 0 .185-1.011-.227-1.358-.305-.26-.83-.784-1.144-1.06l-.832-.921c-.284-.36-.629-1.093-1.243-1.985-.348-.504-1.027-1.085-1.284-1.579-.223-.425-.331-.954-.19-1.325.225-.594.675-.897 1.362-.832.519.05.848.206 1.238.537.225.19.573.534.75.748.163.195.203.276.377.509.23.307.302.459.214.121" fill="white"/><g stroke="black" stroke-linecap="round" stroke-width=".75"><path d="m13.5557 17.5742c-.098-.375-.196-.847-.406-1.552-.167-.557-.342-.859-.47-1.233-.155-.455-.303-.721-.496-1.181-.139-.329-.364-1.048-.457-1.44-.119-.509.033-.924.244-1.206.253-.339.962-.49 1.357-.351.371.13.744.512.916.788.288.46.357.632.717 1.542.393.992.564 1.918.611 2.231l.085.452c-.001-.04-.043-1.122-.044-1.162-.035-1.029-.06-1.823-.038-2.939.002-.126.064-.587.084-.715.078-.5.305-.8.673-.979.412-.201.926-.215 1.401-.017.423.173.626.55.687 1.022.014.109.094.987.093 1.107-.013 1.025.006 1.641.015 2.174.004.231.003 1.625.017 1.469.061-.656.094-3.189.344-3.942.144-.433.405-.746.794-.929.431-.203 1.113-.07 1.404.243.285.305.446.692.482 1.153.032.405-.019.897-.02 1.245 0 .867-.021 1.324-.037 2.121-.001.038-.015.298.023.182.094-.28.188-.542.266-.745.049-.125.241-.614.359-.859.114-.234.211-.369.415-.688.2-.313.415-.448.668-.561.54-.235 1.109.112 1.301.591.086.215.009.713-.028 1.105-.061.647-.254 1.306-.352 1.648-.128.447-.274 1.235-.34 1.601-.072.394-.234 1.382-.359 1.82-.086.301-.371.978-.652 1.384 0 0-1.074 1.25-1.192 1.812-.117.563-.078.567-.101.965-.024.399.121.923.121.923s-.802.104-1.234.034c-.391-.062-.875-.841-1-1.078-.172-.328-.539-.265-.682-.023-.225.383-.709 1.07-1.051 1.113-.668.084-2.054.03-3.139.02 0 0 .185-1.011-.227-1.358-.305-.26-.83-.784-1.144-1.06l-.832-.921c-.284-.36-.629-1.093-1.243-1.985-.348-.504-1.027-1.085-1.284-1.579-.223-.425-.331-.954-.19-1.325.225-.594.675-.897 1.362-.832.519.05.848.206 1.238.537.225.19.573.534.75.748.163.195.203.276.377.509.23.307.302.459.214.121" stroke-linejoin="round"/><path d="m20.5664 21.7344v-3.459"/><path d="m18.5508 21.7461-.016-3.473"/><path d="m16.5547 18.3047.021 3.426"/></g>',UV='<path d="m20.5 15c0 3.038-2.462 5.5-5.5 5.5s-5.5-2.462-5.5-5.5 2.462-5.5 5.5-5.5 5.5 2.462 5.5 5.5" fill="white"/><path d="m20.5 15c0 3.038-2.462 5.5-5.5 5.5s-5.5-2.462-5.5-5.5 2.462-5.5 5.5-5.5 5.5 2.462 5.5 5.5z" stroke="black"/><g fill="black"><path d="m18 14h-2v-2h-2v2h-2v1.98h2v2.02h2v-2.02h2z"/><path d="m23.5859 25 1.414-1.414-5.449-5.449-1.414 1.414z"/></g>',VV='<path d="m20.5 15c0 3.038-2.462 5.5-5.5 5.5s-5.5-2.462-5.5-5.5 2.462-5.5 5.5-5.5 5.5 2.462 5.5 5.5" fill="white"/><path d="m20.5 15c0 3.038-2.462 5.5-5.5 5.5s-5.5-2.462-5.5-5.5 2.462-5.5 5.5-5.5 5.5 2.462 5.5 5.5z" stroke="black"/><g fill="black"><path d="m18 16h-5.98v-1.98h5.98z"/><path d="m23.5859 25 1.414-1.414-5.449-5.449-1.414 1.414z"/></g>';function Rn(e,t,n,r,s,o=16,a=16){const i=(-n-t)*(lt/180),l=Math.sin(i),c=Math.cos(i),d=1*c-1*l,h=1*l+1*c;return`url("data:image/svg+xml,<svg height='32' width='32' viewBox='0 0 32 32' xmlns='http://www.w3.org/2000/svg' style='color: ${s};'><defs><filter id='shadow' y='-40%' x='-40%' width='180px' height='180%' color-interpolation-filters='sRGB'><feDropShadow dx='${d}' dy='${h}' stdDeviation='1.2' flood-opacity='.5'/></filter></defs><g fill='none' transform='rotate(${t+n} 16 16)${r?" scale(-1,-1) translate(0, -32)":""}' filter='url(%23shadow)'>`+e.replaceAll('"',"'")+`</g></svg>") ${o} ${a}, pointer`}const XV={none:()=>"none",default:(e,t,n)=>Rn(OV,e,0,t,n,12,8),pointer:(e,t,n)=>Rn(DV,e,0,t,n,14,10),cross:(e,t,n)=>Rn(qV,e,0,t,n),move:(e,t,n)=>Rn(BV,e,0,t,n),grab:(e,t,n)=>Rn(WV,e,0,t,n),grabbing:(e,t,n)=>Rn(KV,e,0,t,n),text:(e,t,n)=>Rn(FV,e,0,t,n,4,10),"ew-resize":(e,t,n)=>Rn(jv,e,0,t,n),"ns-resize":(e,t,n)=>Rn(jv,e,90,t,n),"nesw-resize":(e,t,n)=>Rn(Mv,e,0,t,n),"nwse-resize":(e,t,n)=>Rn(Mv,e,90,t,n),"nwse-rotate":(e,t,n)=>Rn(Pg,e,0,t,n),"nesw-rotate":(e,t,n)=>Rn(Pg,e,90,t,n),"senw-rotate":(e,t,n)=>Rn(Pg,e,180,t,n),"swne-rotate":(e,t,n)=>Rn(Pg,e,270,t,n),"zoom-in":(e,t,n)=>Rn(UV,e,0,t,n),"zoom-out":(e,t,n)=>Rn(VV,e,0,t,n)};function es(e,t=0,n="black"){return XV[e](sF(t),!1,n)}const YV=["default","pointer","cross","move","grab","grabbing","text"];function HV(){const e=H(),t=zn(),n=C1();oc("useCursor",()=>{const{type:r,rotation:s}=e.getInstanceState().cursor;if(YV.includes(r)){t.style.setProperty("--tl-cursor",`var(--tl-cursor-${r})`);return}t.style.setProperty("--tl-cursor",es(r,s,n?"white":"black"))},[e,t,n])}function GV(){const e=H(),t=zn(),n=C1(),r=J(Pt.forceSrgb);le.useEffect(()=>{n?(t.setAttribute("data-color-mode","dark"),t.classList.remove("tl-theme__light"),t.classList.add("tl-theme__dark")):(t.setAttribute("data-color-mode","light"),t.classList.remove("tl-theme__dark"),t.classList.add("tl-theme__light")),r?t.classList.add("tl-theme__force-sRGB"):t.classList.remove("tl-theme__force-sRGB")},[e,t,r,n])}function ZV(e){const t=b.useRef();return b.useLayoutEffect(()=>{t.current=e}),b.useDebugValue(e),b.useCallback((...n)=>{const r=t.current;return lc(r,"fn does not exist"),r(...n)},[])}function QV(e){const t=H(),n=zn();b.useLayoutEffect(()=>{e?(t.getInstanceState().isFocused||t.updateInstanceState({isFocused:!0}),t.getContainer().focus()):t.getInstanceState().isFocused&&t.updateInstanceState({isFocused:!1})},[t,n,e])}function JV(){const[e,t]=b.useState(0);b.useEffect(()=>t(n=>n+1),[])}const Gd="TLDRAW_TAB_ID_v2",Kn=globalThis.window;function eX(){return Kn?["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(Kn.navigator.platform)||Kn.navigator.userAgent.includes("Mac")&&"ontouchend"in document:!1}const dy=(Kn==null?void 0:Kn[Gd])??(Kn==null?void 0:Kn.sessionStorage[Gd])??"TLDRAW_INSTANCE_STATE_V1_"+bt();Kn&&(Kn[Gd]=dy,eX()?Kn.sessionStorage[Gd]=dy:delete Kn.sessionStorage[Gd]);Kn==null||Kn.addEventListener("beforeunload",()=>{Kn.sessionStorage[Gd]=dy});const tX={Initial:0},jp=tX.Initial,pP=Pi({version:zr,currentPageId:Pp,isFocusMode:Ol,exportBackground:Ol,isDebugMode:Ol,isToolLocked:Ol,isGridMode:Ol,pageStates:Cw(Pi({pageId:Pp,camera:Pi({x:zr,y:zr,z:zr}),selectedShapeIds:Cw(so),focusedGroupId:so.nullable()}))}),nX=DS({currentVersion:jp});function rX(e){if(!e||typeof e!="object")return console.warn("Invalid instance state"),null;if(!("version"in e)||typeof e.version!="number")return console.warn("No version in instance state"),null;const t=_E({value:e,fromVersion:e.version,toVersion:jp,migrations:nX});if(t.type==="error")return console.warn(t.reason),null;const n={...t.value,version:jp};try{pP.validate(n)}catch(r){return console.warn(r),null}return n}function sX(e){const t=e.query.ids("page");return oe("sessionStateSnapshot",()=>{const n=e.get(pr);if(!n)return null;const r=[...t.get()];return{version:jp,currentPageId:n.currentPageId,exportBackground:n.exportBackground,isFocusMode:n.isFocusMode,isDebugMode:n.isDebugMode,isToolLocked:n.isToolLocked,isGridMode:n.isGridMode,pageStates:r.map(s=>{const o=e.get(ar.createId(s)),a=e.get(or.createId(s));return{pageId:s,camera:{x:(a==null?void 0:a.x)??0,y:(a==null?void 0:a.y)??0,z:(a==null?void 0:a.z)??1},selectedShapeIds:(o==null?void 0:o.selectedShapeIds)??[],focusedGroupId:(o==null?void 0:o.focusedGroupId)??null}})}})}function oX(e,t){const n=rX(t);if(!n)return;const r=e.allRecords().filter(a=>a.typeName==="instance_page_state"||a.typeName==="camera"),s={added:{},updated:{},removed:{...SB(r.map(a=>[a.id,a]))}};e.has(pr)&&(s.removed[pr]=e.get(pr));const o={removed:{},updated:{},added:{[pr]:e.schema.types.instance.create({id:pr,currentPageId:n.currentPageId,isDebugMode:n.isDebugMode,isFocusMode:n.isFocusMode,isToolLocked:n.isToolLocked,isGridMode:n.isGridMode,exportBackground:n.exportBackground})}};for(const a of n.pageStates){const i=or.createId(a.pageId),l=ar.createId(a.pageId);o.added[i]=or.create({id:or.createId(a.pageId),x:a.camera.x,y:a.camera.y,z:a.camera.z}),o.added[l]=ar.create({id:ar.createId(a.pageId),pageId:a.pageId,selectedShapeIds:a.selectedShapeIds,focusedGroupId:a.focusedGroupId})}Ep(()=>{e.applyDiff(g1([s,o])),e.ensureStoreIsUsable()})}function aX(e){var s;const t=[];for(const o of Object.values(e))(s=o.typeName)!=null&&s.match(/^(instance.*|pointer|camera)$/)&&t.push(o);const n=t.filter(o=>o.typeName==="instance"&&o.id!==pr)[0];if(!n)return null;const r={version:jp,currentPageId:n.currentPageId,exportBackground:!!n.exportBackground,isFocusMode:!!n.isFocusMode,isDebugMode:!!n.isDebugMode,isToolLocked:!!n.isToolLocked,isGridMode:!1,pageStates:t.filter(o=>o.typeName==="instance_page_state"&&o.instanceId===n.id).map(o=>{const a=e[o.cameraId]??{x:0,y:0,z:1};return{pageId:o.pageId,camera:{x:a.x,y:a.y,z:a.z},selectedShapeIds:o.selectedShapeIds,focusedGroupId:o.focusedGroupId}})};try{return pP.validate(r),r}catch{return null}}function iX(){window.alert(`Oops! We could not save changes to your browser's storage. We now need to reload the page and try again.

Keep seeing this message?
 If you're using tldraw in a private or "incognito" window, try loading tldraw in a regular window or in a different browser.
 If your hard disk is full, try clearing up some space and then reload the page.`)}function lX(){window.alert(`Oops! We could not access your browser's storageand the app won't work correctly without that. We now need to reload the page and try again.

Keep seeing this message?
 If you're using tldraw in a private or "incognito" window, try loading tldraw in a regular window or in a different browser.`)}const cX=(e,t)=>t.some(n=>e instanceof n);let Rv,$v;function dX(){return Rv||(Rv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hX(){return $v||($v=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fP=new WeakMap,Nw=new WeakMap,gP=new WeakMap,Z2=new WeakMap,l9=new WeakMap;function uX(e){const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("success",o),e.removeEventListener("error",a)},o=()=>{n(ja(e.result)),s()},a=()=>{r(e.error),s()};e.addEventListener("success",o),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&fP.set(n,e)}).catch(()=>{}),l9.set(t,e),t}function pX(e){if(Nw.has(e))return;const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",a),e.removeEventListener("abort",a)},o=()=>{n(),s()},a=()=>{r(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",o),e.addEventListener("error",a),e.addEventListener("abort",a)});Nw.set(e,t)}let Tw={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Nw.get(e);if(t==="objectStoreNames")return e.objectStoreNames||gP.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ja(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function fX(e){Tw=e(Tw)}function gX(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Q2(this),t,...n);return gP.set(r,t.sort?t.sort():[t]),ja(r)}:hX().includes(e)?function(...t){return e.apply(Q2(this),t),ja(fP.get(this))}:function(...t){return ja(e.apply(Q2(this),t))}}function mX(e){return typeof e=="function"?gX(e):(e instanceof IDBTransaction&&pX(e),cX(e,dX())?new Proxy(e,Tw):e)}function ja(e){if(e instanceof IDBRequest)return uX(e);if(Z2.has(e))return Z2.get(e);const t=mX(e);return t!==e&&(Z2.set(e,t),l9.set(t,e)),t}const Q2=e=>l9.get(e);function mP(e,t,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const a=indexedDB.open(e,t),i=ja(a);return r&&a.addEventListener("upgradeneeded",l=>{r(ja(a.result),l.oldVersion,l.newVersion,ja(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),i.then(l=>{o&&l.addEventListener("close",()=>o()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),i}function yP(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",r=>t(r.oldVersion,r)),ja(n).then(()=>{})}const yX=["get","getKey","getAll","getAllKeys","count"],xX=["put","add","delete","clear"],J2=new Map;function Ov(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(J2.get(t))return J2.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=xX.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||yX.includes(n)))return;const o=async function(a,...i){const l=this.transaction(a,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(i.shift())),(await Promise.all([c[n](...i),s&&l.done]))[0]};return J2.set(t,o),o}fX(e=>({...e,get:(t,n,r)=>Ov(t,n)||e.get(t,n,r),has:(t,n)=>!!Ov(t,n)||e.has(t,n)}));const _1="TLDRAW_DOCUMENT_v2",xP="TLDRAW_DB_NAME_INDEX_v2",pt={Records:"records",Schema:"schema",SessionState:"session_state"};async function E1(e,t){kX(e);const n=await mP(e,3,{upgrade(r){r.objectStoreNames.contains(pt.Records)||r.createObjectStore(pt.Records),r.objectStoreNames.contains(pt.Schema)||r.createObjectStore(pt.Schema),r.objectStoreNames.contains(pt.SessionState)||r.createObjectStore(pt.SessionState)}});try{return await t(n)}finally{n.close()}}async function wX({persistenceKey:e,sessionId:t,didCancel:n}){const r=_1+e;if(c9().includes(r))return await vX({persistenceKey:e,didCancel:n}),await E1(r,async s=>{var h,u;if(n!=null&&n())return;const o=s.transaction([pt.Records,pt.Schema,pt.SessionState],"readonly"),a=o.objectStore(pt.Records),i=o.objectStore(pt.Schema),l=o.objectStore(pt.SessionState);let c=t?(h=await l.get(t))==null?void 0:h.snapshot:null;c||(c=(u=(await l.getAll()).sort((y,g)=>y.updatedAt-g.updatedAt).pop())==null?void 0:u.snapshot);const d={records:await a.getAll(),schema:await i.get(pt.Schema),sessionStateSnapshot:c};if(n!=null&&n()){o.abort();return}return await o.done,d})}async function SX({persistenceKey:e,schema:t,changes:n,sessionId:r,sessionStateSnapshot:s,didCancel:o}){const a=_1+e;await E1(a,async i=>{const l=i.transaction([pt.Records,pt.Schema,pt.SessionState],"readwrite"),c=l.objectStore(pt.Records),d=l.objectStore(pt.Schema),h=l.objectStore(pt.SessionState);for(const[u,p]of Object.entries(n.added))await c.put(p,u);for(const[u,p]of Object.values(n.updated))await c.put(p,p.id);for(const u of Object.keys(n.removed))await c.delete(u);if(d.put(t.serialize(),pt.Schema),s&&r?h.put({snapshot:s,updatedAt:Date.now(),id:r},r):(s||r)&&console.error("sessionStateSnapshot and instanceId must be provided together"),o!=null&&o())return l.abort();await l.done})}async function bX({persistenceKey:e,schema:t,snapshot:n,sessionId:r,sessionStateSnapshot:s,didCancel:o}){const a=_1+e;await E1(a,async i=>{const l=i.transaction([pt.Records,pt.Schema,pt.SessionState],"readwrite"),c=l.objectStore(pt.Records),d=l.objectStore(pt.Schema),h=l.objectStore(pt.SessionState);await c.clear();for(const[u,p]of Object.entries(n))await c.put(p,u);if(d.put(t.serialize(),pt.Schema),s&&r?h.put({snapshot:s,updatedAt:Date.now(),id:r},r):(s||r)&&console.error("sessionStateSnapshot and instanceId must be provided together"),o!=null&&o())return l.abort();await l.done})}async function vX({persistenceKey:e,didCancel:t}){await E1(_1+e,async n=>{const r=n.transaction([pt.SessionState],"readwrite"),s=r.objectStore(pt.SessionState),o=(await s.getAll()).sort((i,l)=>i.updatedAt-l.updatedAt);if(o.length<10){await r.done;return}const a=o.slice(0,o.length-10);for(const{id:i}of a)await s.delete(i);if(t!=null&&t())return r.abort();await r.done})}function c9(){const e=JSON.parse((window==null?void 0:window.localStorage.getItem(xP))||"[]")??[];return Array.isArray(e)?e:[]}function kX(e){const t=new Set(c9());t.add(e),window==null||window.localStorage.setItem(xP,JSON.stringify([...t]))}const CX=350,_X=1e4,Dv=Symbol("UPDATE_INSTANCE_STATE"),EX=e=>e;let IX=class{constructor(t){m(this,"onmessage")}postMessage(t){}close(){}};const PX=typeof BroadcastChannel>"u"?IX:BroadcastChannel;let zX=class{constructor(t,{persistenceKey:n,sessionId:r=dy,onLoad:s,onLoadError:o},a=new PX(`tldraw-tab-sync-${n}`)){m(this,"disposables",new Set);m(this,"diffQueue",[]);m(this,"didDispose",!1);m(this,"shouldDoFullDBWrite",!0);m(this,"isReloading",!1);m(this,"persistenceKey");m(this,"sessionId");m(this,"serializedSchema");m(this,"isDebugging",!1);m(this,"documentTypes");m(this,"$sessionStateSnapshot");m(this,"initTime",Date.now());m(this,"isPersisting",!1);m(this,"didLastWriteError",!1);m(this,"scheduledPersistTimeout",null);this.store=t,this.channel=a,typeof window<"u"&&(window.tlsync=this),this.persistenceKey=n,this.sessionId=r,this.serializedSchema=this.store.schema.serialize(),this.$sessionStateSnapshot=sX(this.store),this.disposables.add(t.listen(({changes:i})=>{this.diffQueue.push(i),this.channel.postMessage(EX({type:"diff",storeId:this.store.id,changes:i,schema:this.serializedSchema})),this.schedulePersist()},{source:"user",scope:"document"})),this.disposables.add(t.listen(()=>{this.diffQueue.push(Dv),this.schedulePersist()},{scope:"session"})),this.connect(s,o),this.documentTypes=new Set(Object.values(this.store.schema.types).filter(i=>i.scope==="document").map(i=>i.typeName))}debug(...t){this.isDebugging&&console.debug(...t)}async connect(t,n){this.debug("connecting");let r;try{r=await wX({persistenceKey:this.persistenceKey,sessionId:this.sessionId,didCancel:()=>this.didDispose})}catch(s){n(s),lX(),typeof window<"u"&&window.location.reload();return}if(this.debug("loaded data from store",r,"didDispose",this.didDispose),!this.didDispose)try{if(r){const s=Object.fromEntries(r.records.map(i=>[i.id,i])),o=r.sessionStateSnapshot??aX(s),a=this.store.schema.migrateStoreSnapshot({store:s,schema:r.schema??this.store.schema.serializeEarliestVersion()});if(a.type==="error"){console.error("failed to migrate store",a),n(new Error(`Failed to migrate store: ${a.reason}`));return}this.store.mergeRemoteChanges(()=>{this.store.put(Object.values(a.value).filter(i=>this.documentTypes.has(i.typeName)),"initialize")}),o&&oX(this.store,o)}this.channel.onmessage=({data:s})=>{var i,l;this.debug("got message",s);const o=s,a=pD(this.serializedSchema,o.schema??this.store.schema.serializeEarliestVersion());if(a===-1){if(Date.now()-this.initTime<5e3){n(new Error("Schema mismatch, please close other tabs and reload the page"));return}this.debug("reloading"),this.isReloading=!0,(l=(i=window==null?void 0:window.location)==null?void 0:i.reload)==null||l.call(i);return}else if(a===1){this.debug("telling them to reload"),this.channel.postMessage({type:"announce",schema:this.serializedSchema}),this.shouldDoFullDBWrite=!0,this.persistIfNeeded();return}o.type==="diff"&&(this.debug("applying diff"),Ep(()=>{this.store.mergeRemoteChanges(()=>{this.store.applyDiff(o.changes),this.store.ensureStoreIsUsable()})}))},this.channel.postMessage({type:"announce",schema:this.serializedSchema}),this.disposables.add(()=>{this.channel.close()}),t(this)}catch(s){if(this.debug("error loading data from store",s),this.didDispose)return;n(s);return}}close(){this.debug("closing"),this.didDispose=!0,this.disposables.forEach(t=>t())}schedulePersist(){this.debug("schedulePersist",this.scheduledPersistTimeout),!this.scheduledPersistTimeout&&(this.scheduledPersistTimeout=setTimeout(()=>{this.scheduledPersistTimeout=null,this.persistIfNeeded()},this.didLastWriteError?_X:CX))}persistIfNeeded(){this.debug("persistIfNeeded",{isPersisting:this.isPersisting,isReloading:this.isReloading,shouldDoFullDBWrite:this.shouldDoFullDBWrite,diffQueueLength:this.diffQueue.length,storeIsPossiblyCorrupt:this.store.isPossiblyCorrupted()}),this.scheduledPersistTimeout&&(clearTimeout(this.scheduledPersistTimeout),this.scheduledPersistTimeout=null),!this.isPersisting&&(this.isReloading||this.store.isPossiblyCorrupted()||(this.shouldDoFullDBWrite||this.diffQueue.length>0)&&this.doPersist())}async doPersist(){lc(!this.isPersisting,"persist already in progress"),this.isPersisting=!0,this.debug("doPersist start");const t=this.diffQueue;this.diffQueue=[];try{if(this.shouldDoFullDBWrite)this.shouldDoFullDBWrite=!1,await bX({persistenceKey:this.persistenceKey,schema:this.store.schema,snapshot:this.store.serialize(),didCancel:()=>this.didDispose,sessionId:this.sessionId,sessionStateSnapshot:this.$sessionStateSnapshot.get()});else{const n=g1(t.filter(r=>r!==Dv));await SX({persistenceKey:this.persistenceKey,changes:n,schema:this.store.schema,didCancel:()=>this.didDispose,sessionId:this.sessionId,sessionStateSnapshot:this.$sessionStateSnapshot.get()})}this.didLastWriteError=!1}catch(n){this.shouldDoFullDBWrite=!0,this.didLastWriteError=!0,console.error("failed to store changes in indexed db",n),iX(),typeof window<"u"&&window.location.reload()}this.isPersisting=!1,this.debug("doPersist end"),this.schedulePersist()}};function wP({initialData:e,defaultName:t="",...n}){const r="schema"in n&&n.schema?n.schema:Lq({shapes:AX(oP("shapeUtils"in n&&n.shapeUtils?n.shapeUtils:[]))});return new CE({schema:r,initialData:e,props:{defaultName:t}})}function AX(e){return Object.fromEntries(e.map(t=>[t.type,{props:t.props,migrations:t.migrations}]))}function qv(e){const t=wP(e);return e.snapshot&&t.loadSnapshot(e.snapshot),{store:t,opts:e}}function NX(e){const[t,n]=b.useState(()=>qv(e));if(!uI(t.opts,e)){const r=qv(e);return n(r),r.store}return t.store}function TX({persistenceKey:e,sessionId:t,...n}){const[r,s]=b.useState(null),o=NX(n);return b.useEffect(()=>{const a=bt();if(!e){s({id:a,storeWithStatus:{status:"not-synced",store:o}});return}s({id:a,storeWithStatus:{status:"loading"}});const i=c=>{s(d=>(d==null?void 0:d.id)===a?{id:a,storeWithStatus:c}:d)},l=new zX(o,{sessionId:t,persistenceKey:e,onLoad(){i({store:o,status:"synced-local"})},onLoadError(c){i({status:"error",error:c})}});return()=>{s(c=>(c==null?void 0:c.id)===a?null:c),l.close()}},[e,o,t]),(r==null?void 0:r.storeWithStatus)??{status:"loading"}}let SP=!1;if(typeof window<"u"){const e=window.navigator.userAgent,t=!!e.match(/iPad/i)||!!e.match(/iPhone/i),n=!!e.match(/WebKit/i);SP=t&&n&&!e.match(/CriOS/i)}function LX(){const e=H();b.useEffect(()=>{if(!SP)return;function t(n){(n.target instanceof HTMLInputElement&&n.target.type==="text"||n.target instanceof HTMLTextAreaElement)&&e.complete()}return document.addEventListener("focusout",t),()=>document.removeEventListener("focusout",t)},[e])}function MX(){const e=H(),t=zn();b.useEffect(()=>{const n=o=>t.style.setProperty("--tl-zoom",o.toString()),r=lI(n,100),s=new Cf("useZoomCss",()=>{e.getCurrentPageShapeIds().size<300?n(e.getZoomLevel()):r(e.getZoomLevel())});return s.attach(),s.execute(),()=>{s.detach()}},[e,t])}const jX=[],RX=[],bP=b.memo(function({store:t,components:n,className:r,user:s,...o}){const[a,i]=le.useState(null),l=b.useMemo(()=>s??JI(),[s]),c=(n==null?void 0:n.ErrorFallback)===void 0?JS:n==null?void 0:n.ErrorFallback,d={...o,shapeUtils:o.shapeUtils??jX,tools:o.tools??RX,components:n};return f.jsx("div",{ref:i,draggable:!1,className:me("tl-container tl-theme__light",r),onPointerDown:hn,tabIndex:-1,children:f.jsx(Np,{fallback:c,onError:h=>cI(h,{tags:{origin:"react.tldraw-before-app"}}),children:a&&f.jsx(BB,{container:a,children:f.jsx(OF,{overrides:n,children:t?t instanceof CE?f.jsx(kP,{...d,store:t,user:l}):f.jsx(vP,{...d,store:t,user:l}):f.jsx($X,{...d,store:t,user:l})})})})})});function $X(e){const{defaultName:t,snapshot:n,initialData:r,shapeUtils:s,persistenceKey:o,sessionId:a,user:i}=e,l=TX({shapeUtils:s,initialData:r,persistenceKey:o,sessionId:a,defaultName:t,snapshot:n});return f.jsx(vP,{...e,store:l,user:i})}const vP=b.memo(function({store:t,user:n,...r}){var o;const s=zn();switch(b.useLayoutEffect(()=>{n.userPreferences.get().isDarkMode&&(s.classList.remove("tl-theme__light"),s.classList.add("tl-theme__dark"))},[s,n]),t.status){case"error":throw t.error;case"loading":{const a=((o=r.components)==null?void 0:o.LoadingScreen)??RU;return f.jsx(a,{})}}return f.jsx(kP,{...r,store:t.store,user:n})});function kP({onMount:e,children:t,store:n,tools:r,shapeUtils:s,user:o,initialState:a,autoFocus:i=!0,inferDarkMode:l}){const{ErrorFallback:c}=An(),d=zn(),[h,u]=b.useState(null);b.useLayoutEffect(()=>{const y=new Se({store:n,shapeUtils:s,tools:r,getContainer:()=>d,user:o,initialState:a,inferDarkMode:l});return window.app=y,window.editor=y,u(y),()=>{y.dispose()}},[d,s,r,n,o,a,l]);const p=b.useSyncExternalStore(b.useCallback(y=>h?(h.on("crash",y),()=>h.off("crash",y)):()=>{},[h]),()=>(h==null?void 0:h.getCrashingError())??null);return h?f.jsx(Np,{fallback:c,onError:y=>h.annotateError(y,{origin:"react.tldraw",willCrashApp:!0}),children:p?f.jsx(DX,{crashingError:p}):f.jsx(GS.Provider,{value:h,children:f.jsx(OX,{autoFocus:i,onMount:e,children:t})})}):null}function OX({children:e,onMount:t,autoFocus:n}){return MX(),HV(),GV(),LX(),JV(),QV(n),BX(t),dU(),H().updateViewportScreenBounds(),e??f.jsx(v1,{})}function DX({crashingError:e}){throw e}function CP({children:e}){const{Spinner:t}=An();return f.jsxs("div",{className:"tl-loading",children:[t?f.jsx(t,{}):null,e]})}function qX({children:e}){return f.jsx("div",{className:"tl-loading",children:e})}function BX(e){const t=H(),n=ZV(r=>{const s=e==null?void 0:e(r);return r.emit("mount"),window.tldrawReady=!0,s});le.useLayoutEffect(()=>{if(t)return n==null?void 0:n(t)},[t,n])}function Co({children:e,className:t="",...n}){return f.jsx("div",{...n,className:`tl-html-container ${t}`,children:e})}et(function({x:t=0,y:n=0,rotation:r=0,...s}){const o=H(),a=b.useRef(null),i=o.getCamera();return b.useLayoutEffect(()=>{const{x:l,y:c,z:d}=o.getCamera(),h=a.current;h&&l!==void 0&&(h.style.transform=`translate(${l}px, ${c}px) scale(${d}) rotate(${r}rad) translate(${t}px, ${n}px)`)},[i,o,t,n,r]),f.jsx("div",{ref:a,...s,className:me("tl-positioned",s.className)})});function d9(e,t,n={}){const{newPoint:r,handle:s,scaleX:o,scaleY:a}=t,{minWidth:i=1,maxWidth:l=1/0,minHeight:c=1,maxHeight:d=1/0}=n;let h=e.props.w*o,u=e.props.h*a;const p=new P(0,0);if(h>0){if(h<i){switch(s){case"top_left":case"left":case"bottom_left":{p.x=h-i;break}case"top":case"bottom":{p.x=(h-i)/2;break}default:p.x=0}h=i}}else if(p.x=h,h=-h,h<i){switch(s){case"top_left":case"left":case"bottom_left":{p.x=-h;break}default:p.x=-i}h=i}if(u>0){if(u<c){switch(s){case"top_left":case"top":case"top_right":{p.y=u-c;break}case"right":case"left":{p.y=(u-c)/2;break}default:p.y=0}u=c}}else if(p.y=u,u=-u,u<c){switch(s){case"top_left":case"top":case"top_right":{p.y=-u;break}default:p.y=-c}u=c}const{x:y,y:g}=p.rot(e.rotation).add(r);return{x:y,y:g,props:{w:Math.min(l,h),h:Math.min(d,u)}}}class fa extends Za{constructor(){super(...arguments);m(this,"onResize",(n,r)=>d9(n,r))}getGeometry(n){return new Fa({width:n.props.w,height:n.props.h,isFilled:!0})}}function FX(e,t,n){const r=t==="end"?e.end.point:e.start.point,s=t==="end"?e.start.point:e.end.point,o=e.isStraight?P.Dist(s,r):Math.abs(e.bodyArc.length),a=Math.max(Math.min(o/5,n*3),n);let i;if(e.isStraight)i=P.Nudge(r,s,a);else{const l=XU(r,a,e.handleArc.center,e.handleArc.radius);i=t==="end"?e.handleArc.sweepFlag?l[0]:l[1]:e.handleArc.sweepFlag?l[1]:l[0]}return{point:r,int:i}}function KX({point:e,int:t}){const n=P.RotWith(t,e,lt/6),r=P.RotWith(t,e,-lt/6);return`M ${n.x} ${n.y} L ${e.x} ${e.y} L ${r.x} ${r.y}`}function WX({point:e,int:t}){const n=P.RotWith(t,e,lt/6),r=P.RotWith(t,e,-lt/6);return`M ${n.x} ${n.y} L ${e.x} ${e.y} L ${r.x} ${r.y} Z`}function UX({point:e,int:t}){const n=P.Sub(t,e).div(2),r=P.Add(e,P.Rot(n,ct)),s=P.Sub(e,P.Rot(n,ct));return`M ${r.x} ${r.y} L ${t.x} ${t.y} L ${s.x} ${s.y} Z`}function VX({point:e,int:t}){const n=P.Lrp(e,t,.45),r=P.Dist(n,e);return`M ${n.x-r},${n.y}
  a ${r},${r} 0 1,0 ${r*2},0
  a ${r},${r} 0 1,0 -${r*2},0 `}function XX({point:e,int:t}){const n=P.Lrp(e,t,.75),r=P.RotWith(n,e,lt/4),s=P.RotWith(n,e,-lt/4),o=P.Lrp(r,s,.5);return o.add(P.Sub(o,e)),`M ${o.x} ${o.y} L ${r.x} ${r.y} ${e.x} ${e.y} L ${s.x} ${s.y} Z`}function YX({int:e,point:t}){const n=P.Lrp(t,e,.85),r=P.Sub(n,t).div(2),s=P.Add(t,P.Rot(r,ct)),o=P.Sub(t,P.Rot(r,ct)),a=P.Add(n,P.Rot(r,ct)),i=P.Sub(n,P.Rot(r,ct));return`M ${s.x} ${s.y} L ${a.x} ${a.y} L ${i.x} ${i.y} L ${o.x} ${o.y} Z`}function HX({int:e,point:t}){const n=P.Sub(e,t).div(2),r=P.Add(t,P.Rot(n,ct)),s=P.Sub(t,P.Rot(n,ct));return`M ${r.x} ${r.y} L ${s.x} ${s.y}`}function nd(e,t,n){const r=t==="end"?e.end.arrowhead:e.start.arrowhead;if(r==="none")return;const s=FX(e,t,n);if(s){switch(r){case"bar":return HX(s);case"square":return YX(s);case"diamond":return XX(s);case"dot":return VX(s);case"inverted":return UX(s);case"arrow":return KX(s);case"triangle":return WX(s)}return""}}var K5;let GX=(K5=class extends he{constructor(){super(...arguments);m(this,"onPointerDown",n=>{this.parent.transition("pointing",n)});m(this,"onEnter",()=>{this.editor.setCursor({type:"cross",rotation:0})});m(this,"onCancel",()=>{this.editor.setCurrentTool("select")})}},m(K5,"id","idle"),K5);var W5;let ZX=(W5=class extends he{constructor(){super(...arguments);m(this,"markId","");m(this,"wasFocusedOnEnter",!1);m(this,"onEnter",()=>{this.wasFocusedOnEnter=!this.editor.getIsMenuOpen()});m(this,"onPointerMove",n=>{if(this.editor.inputs.isDragging){const{originPagePoint:r}=this.editor.inputs,s=this.parent.shapeType,o=gt();this.markId=`creating:${o}`,this.editor.mark(this.markId),this.editor.createShapes([{id:o,type:s,x:r.x,y:r.y,props:{w:1,h:1}}]).select(o),this.editor.setCurrentTool("select.resizing",{...n,target:"selection",handle:"bottom_right",isCreating:!0,creationCursorOffset:{x:1,y:1},onInteractionEnd:this.parent.id,onCreate:this.parent.onCreate})}});m(this,"onPointerUp",()=>{this.complete()});m(this,"onCancel",()=>{this.cancel()});m(this,"onComplete",()=>{this.complete()});m(this,"onInterrupt",()=>{this.cancel()})}complete(){const{originPagePoint:n}=this.editor.inputs;if(!this.wasFocusedOnEnter)return;this.editor.mark(this.markId);const r=this.parent.shapeType,s=gt();this.editor.mark(this.markId),this.editor.createShapes([{id:s,type:r,x:n.x,y:n.y}]);const o=this.editor.getShape(s),{w:a,h:i}=this.editor.getShapeUtil(o).getDefaultProps(),l=new P(a/2,i/2),c=this.editor.getShapeParentTransform(o);c&&l.rot(-c.rotation()),this.editor.updateShapes([{id:s,type:r,x:o.x-l.x,y:o.y-l.y}]),this.editor.setSelectedShapes([s]),this.editor.getInstanceState().isToolLocked?this.parent.transition("idle"):this.editor.setCurrentTool("select.idle")}cancel(){this.parent.transition("idle")}},m(W5,"id","pointing"),W5);class Zd extends he{constructor(){super(...arguments);m(this,"onCreate")}}m(Zd,"id","box"),m(Zd,"initial","idle"),m(Zd,"children",()=>[GX,ZX]);function _P(e,t){const n=b.useRef(e);return t(e,n.current)?n.current:(n.current=e,e)}function Bv(e){return _P(e,fB)}function QX(e){return _P(e,uI)}function Fv(e){const t=H();return J("isCropping",()=>t.getCroppingShapeId()===e,[t,e])}function I1(e){const t=H();return J("isEditing",()=>t.getEditingShapeId()===e,[t,e])}function jo(e){const t=H();return b.useMemo(function(){const s=c=>{if(c.isKilled)return;if(c.button===2){t.dispatch({type:"pointer",target:"selection",handle:e,name:"right_click",...qr(c)});return}if(c.button!==0)return;const d=Qm(c.currentTarget);function h(){d.removeEventListener("pointerup",h),zf(d,c)}Pf(d,c),d.addEventListener("pointerup",h),t.dispatch({name:"pointer_down",type:"pointer",target:"selection",handle:e,...qr(c)}),hn(c)};let o,a;function i(c){c.isKilled||c.button===0&&(c.clientX===o&&c.clientY===a||(o=c.clientX,a=c.clientY,t.dispatch({name:"pointer_move",type:"pointer",target:"selection",handle:e,...qr(c)})))}return{onPointerDown:s,onPointerMove:i,onPointerUp:c=>{c.isKilled||c.button===0&&t.dispatch({name:"pointer_up",type:"pointer",target:"selection",handle:e,...qr(c)})}}},[t,e])}const JX=20,eY=8;function h9(e,t=JX){return Math.max(eY,Math.ceil(e/t))}class tY extends Ic{constructor(n){super({...n,isFilled:!1,isClosed:!1});m(this,"_center");m(this,"radius");m(this,"start");m(this,"end");m(this,"measure");m(this,"length");m(this,"angleStart");m(this,"angleEnd");const{center:r,radius:s,sweepFlag:o,largeArcFlag:a,start:i,end:l}=n;if(i.equals(l))throw Error("Arc must have different start and end points.");this.angleStart=P.Angle(r,i),this.angleEnd=P.Angle(r,l),this.measure=nY(this.angleStart,this.angleEnd,o,a),this.length=this.measure*s,this.start=i,this.end=l,this._center=r,this.radius=s}nearestPoint(n){const{_center:r,measure:s,radius:o,angleEnd:a,angleStart:i,start:l,end:c}=this,d=Kv(s,i,a,r.angle(n));if(d<=0)return l;if(d>=1)return c;const h=r.clone().add(n.clone().sub(r).uni().mul(o));let u=1/0,p;for(const y of[l,c,h])n.dist(y)<u&&(p=y,u=n.dist(y));if(!p)throw Error("nearest point not found");return p}hitTestLineSegment(n,r,s){const{_center:o,radius:a,measure:i,angleStart:l,angleEnd:c}=this,d=k1(n,r,o,a);return d===null?!1:d.some(h=>{const u=Kv(i,l,c,o.angle(h));return u>=0&&u<=1})}getVertices(){const{_center:n,measure:r,length:s,radius:o,angleStart:a}=this,i=[];for(let l=0,c=h9(Math.abs(s));l<c+1;l++){const d=l/c*r,h=a+d;i.push(n.clone().add(new P(Math.cos(h),Math.sin(h)).mul(o)))}return i}}function Kv(e,t,n,r){let s;if(Math.abs(e)>lt){s=op(t,r);const o=op(r,n);return Math.abs(s)<Math.abs(o)?s/e:(e-o)/e}else return s=op(t,r),s/e}function nY(e,t,n,r){const s=2*((t-e)%dt)%dt-(t-e)%dt;return r?(dt-Math.abs(s))*(n?1:-1):s}class EP extends Ic{constructor(n){super({isClosed:!0,...n});m(this,"_center");m(this,"radius");m(this,"x");m(this,"y");this.config=n;const{x:r=0,y:s=0,radius:o}=n;this.x=r,this.y=s,this._center=new P(o+r,o+s),this.radius=o}getBounds(){return new xe(this.x,this.y,this.radius*2,this.radius*2)}getVertices(){const{_center:n,radius:r}=this,s=dt*r,o=[];for(let a=0,i=h9(s);a<i;a++){const l=a/i*dt;o.push(n.clone().add(P.FromAngle(l).mul(r)))}return o}nearestPoint(n){const{_center:r,radius:s}=this;return r.equals(n)?P.AddXY(r,s,0):r.clone().add(n.clone().sub(r).uni().mul(s))}hitTestLineSegment(n,r,s){const{_center:o,radius:a}=this;return k1(n,r,o,a)!==null}}class rY extends Pc{constructor(n){const{start:r,cp1:s,cp2:o,end:a}=n;super({...n,points:[r,a]});m(this,"a");m(this,"b");m(this,"c");m(this,"d");this.a=r,this.b=s,this.c=o,this.d=a}getVertices(){const n=[],{a:r,b:s,c:o,d:a}=this;for(let i=0,l=10;i<=l;i++){const c=i/l;n.push(new P((1-c)*(1-c)*(1-c)*r.x+3*((1-c)*(1-c))*c*s.x+3*(1-c)*(c*c)*o.x+c*c*c*a.x,(1-c)*(1-c)*(1-c)*r.y+3*((1-c)*(1-c))*c*s.y+3*(1-c)*(c*c)*o.y+c*c*c*a.y))}return n}midPoint(){return sY(this,.5)}nearestPoint(n){let r,s=1/0;for(const o of this.segments){const a=o.nearestPoint(n),i=a.dist(n);i<s&&(r=a,s=i)}if(!r)throw Error("nearest point not found");return r}}function sY(e,t){const{a:n,b:r,c:s,d:o}=e;return new P((1-t)*(1-t)*(1-t)*n.x+3*((1-t)*(1-t))*t*r.x+3*(1-t)*(t*t)*s.x+t*t*t*o.x,(1-t)*(1-t)*(1-t)*n.y+3*((1-t)*(1-t))*t*r.y+3*(1-t)*(t*t)*s.y+t*t*t*o.y)}class O0 extends Ic{constructor(n){super({...n,isClosed:!1,isFilled:!1});m(this,"points");m(this,"_segments");m(this,"_length");const{points:r}=n;this.points=r}get segments(){if(!this._segments){this._segments=[];const{points:n}=this,r=n.length,s=r-2,o=1.25;for(let a=0;a<r-1;a++){const i=a===0?n[0]:n[a-1],l=n[a],c=n[a+1],d=a===s?c:n[a+2],h=l,u=a===0?i:new P(l.x+(c.x-i.x)/6*o,l.y+(c.y-i.y)/6*o),p=a===s?c:new P(c.x-(d.x-l.x)/6*o,c.y-(d.y-l.y)/6*o),y=c;this._segments.push(new rY({start:h,cp1:u,cp2:p,end:y}))}}return this._segments}get length(){return this._length||(this._length=this.segments.reduce((n,r)=>n+r.length,0)),this._length}getVertices(){const n=this.segments.reduce((r,s)=>r.concat(s.vertices),[]);return n.push(this.points[this.points.length-1]),n}nearestPoint(n){let r,s=1/0;for(const o of this.segments){const a=o.nearestPoint(n),i=a.dist(n);i<s&&(r=a,s=i)}if(!r)throw Error("nearest point not found");return r}hitTestLineSegment(n,r,s){return this.segments.some(o=>o.hitTestLineSegment(n,r,s))}}class IP extends Ic{constructor(n){super({...n,isClosed:!0});m(this,"w");m(this,"h");m(this,"_edges");this.config=n;const{width:r,height:s}=n;this.w=r,this.h=s}get edges(){if(!this._edges){const{vertices:n}=this;this._edges=[];for(let r=0,s=n.length;r<s;r++){const o=n[r],a=n[(r+1)%s];this._edges.push(new iy({start:o,end:a}))}}return this._edges}getVertices(){const n=Math.max(1,this.w),r=Math.max(1,this.h),s=n/2,o=r/2,a=Math.pow(s-o,2)/Math.pow(s+o,2),i=lt*(s+o)*(1+3*a/(10+Math.sqrt(4-3*a))),l=h9(i),c=dt/l,d=Math.cos(c),h=Math.sin(c);let u=0,p=1,y=0,g=1;const x=Array(l);for(let w=0;w<l;w++)x[w]=new P(s+s*p,o+o*u),y=h*p+d*u,g=d*p-h*u,u=y,p=g;return x}nearestPoint(n){let r,s=1/0;for(const o of this.edges){const a=o.nearestPoint(n),i=a.dist(n);i<s&&(r=a,s=i)}if(!r)throw Error("nearest point not found");return r}hitTestLineSegment(n,r,s){return this.edges.some(o=>o.hitTestLineSegment(n,r,s))}getBounds(){return new xe(0,0,this.w,this.h)}}class oY extends IP{constructor(t){super({...t}),this.config=t}getVertices(){const t=Math.max(1,this.w),n=Math.max(1,this.h),r=t/2,s=n/2,o=10,a=Array(o*2-2);if(n>t)for(let i=0;i<o-1;i++){const l=-lt+lt*i/(o-2),c=lt*i/(o-2);a[i]=new P(r+r*Math.cos(l),r+r*Math.sin(l)),a[i+(o-1)]=new P(r+r*Math.cos(c),n-r+r*Math.sin(c))}else for(let i=0;i<o-1;i++){const l=-ct+lt*i/(o-2),c=ct+lt*-i/(o-2);a[i]=new P(t-s+s*Math.cos(l),n-s+s*Math.sin(l)),a[i+(o-1)]=new P(s-s*Math.cos(c),n-s+s*Math.sin(c))}return a}}function Wv(e,t,n){return e<0?1:e>n?-1:e<t?(t-e)/t:e>n-t?-(t-n+e)/t:0}function u9(e){if(!e.inputs.isDragging||e.inputs.isPanning)return;const{inputs:{currentScreenPoint:{x:t,y:n}}}=e,r=e.getZoomLevel(),s=e.getViewportScreenBounds(),o=s.w<1e3?40:32,a=s.h<1e3?40:32,i=s.w<1e3?.612:1,l=s.h<1e3?.612:1,c=e.user.getEdgeScrollSpeed()*_F,d=Wv(t,o,s.w),h=Wv(n,a,s.h);if(d===0&&h===0)return;const u=c*d*i/r,p=c*h*l/r,y=e.getCamera();e.setCamera({x:y.x+u,y:y.y+p})}async function aY({shouldReload:e=!0}={}){sessionStorage.clear(),await Promise.all(c9().map(t=>yP(t))),localStorage.clear(),e&&window.location.reload()}typeof window<"u"&&(window.__tldraw__hardReset=aY);function iY(e,t="_blank"){QS.openWindow(e,t)}var du=function(e){return e&&e.Math===Math&&e},Gr=du(typeof globalThis=="object"&&globalThis)||du(typeof window=="object"&&window)||du(typeof self=="object"&&self)||du(typeof Un=="object"&&Un)||du(typeof Un=="object"&&Un)||function(){return this}()||Function("return this")(),p9={},Tr=function(e){try{return!!e()}catch{return!0}},lY=Tr,il=!lY(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),cY=Tr,P1=!cY(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),dY=P1,zg=Function.prototype.call,Ja=dY?zg.bind(zg):function(){return zg.apply(zg,arguments)},PP={},zP={}.propertyIsEnumerable,AP=Object.getOwnPropertyDescriptor,hY=AP&&!zP.call({1:2},1);PP.f=hY?function(t){var n=AP(this,t);return!!n&&n.enumerable}:zP;var NP=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}},TP=P1,LP=Function.prototype,Lw=LP.call,uY=TP&&LP.bind.bind(Lw,Lw),Nn=TP?uY:function(e){return function(){return Lw.apply(e,arguments)}},MP=Nn,pY=MP({}.toString),fY=MP("".slice),jh=function(e){return fY(pY(e),8,-1)},gY=Nn,mY=Tr,yY=jh,ex=Object,xY=gY("".split),wY=mY(function(){return!ex("z").propertyIsEnumerable(0)})?function(e){return yY(e)==="String"?xY(e,""):ex(e)}:ex,z1=function(e){return e==null},SY=z1,bY=TypeError,Rh=function(e){if(SY(e))throw new bY("Can't call method on "+e);return e},vY=wY,kY=Rh,A1=function(e){return vY(kY(e))},tx=typeof document=="object"&&document.all,Lr=typeof tx>"u"&&tx!==void 0?function(e){return typeof e=="function"||e===tx}:function(e){return typeof e=="function"},CY=Lr,Ac=function(e){return typeof e=="object"?e!==null:CY(e)},nx=Gr,_Y=Lr,EY=function(e){return _Y(e)?e:void 0},N1=function(e,t){return arguments.length<2?EY(nx[e]):nx[e]&&nx[e][t]},IY=Nn,jP=IY({}.isPrototypeOf),PY=typeof navigator<"u"&&String(navigator.userAgent)||"",RP=Gr,rx=PY,Uv=RP.process,Vv=RP.Deno,Xv=Uv&&Uv.versions||Vv&&Vv.version,Yv=Xv&&Xv.v8,ho,hy;Yv&&(ho=Yv.split("."),hy=ho[0]>0&&ho[0]<4?1:+(ho[0]+ho[1]));!hy&&rx&&(ho=rx.match(/Edge\/(\d+)/),(!ho||ho[1]>=74)&&(ho=rx.match(/Chrome\/(\d+)/),ho&&(hy=+ho[1])));var zY=hy,Hv=zY,AY=Tr,NY=Gr,TY=NY.String,$P=!!Object.getOwnPropertySymbols&&!AY(function(){var e=Symbol("symbol detection");return!TY(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&Hv&&Hv<41}),LY=$P,OP=LY&&!Symbol.sham&&typeof Symbol.iterator=="symbol",MY=N1,jY=Lr,RY=jP,$Y=OP,OY=Object,DP=$Y?function(e){return typeof e=="symbol"}:function(e){var t=MY("Symbol");return jY(t)&&RY(t.prototype,OY(e))},DY=String,qY=function(e){try{return DY(e)}catch{return"Object"}},BY=Lr,FY=qY,KY=TypeError,f9=function(e){if(BY(e))return e;throw new KY(FY(e)+" is not a function")},WY=f9,UY=z1,g9=function(e,t){var n=e[t];return UY(n)?void 0:WY(n)},sx=Ja,ox=Lr,ax=Ac,VY=TypeError,XY=function(e,t){var n,r;if(t==="string"&&ox(n=e.toString)&&!ax(r=sx(n,e))||ox(n=e.valueOf)&&!ax(r=sx(n,e))||t!=="string"&&ox(n=e.toString)&&!ax(r=sx(n,e)))return r;throw new VY("Can't convert object to primitive value")},qP={exports:{}},Gv=Gr,YY=Object.defineProperty,m9=function(e,t){try{YY(Gv,e,{value:t,configurable:!0,writable:!0})}catch{Gv[e]=t}return t},HY=Gr,GY=m9,Zv="__core-js_shared__",Qv=qP.exports=HY[Zv]||GY(Zv,{});(Qv.versions||(Qv.versions=[])).push({version:"3.37.1",mode:"global",copyright:" 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.37.1/LICENSE",source:"https://github.com/zloirock/core-js"});var y9=qP.exports,Jv=y9,x9=function(e,t){return Jv[e]||(Jv[e]=t||{})},ZY=Rh,QY=Object,jf=function(e){return QY(ZY(e))},JY=Nn,eH=jf,tH=JY({}.hasOwnProperty),ll=Object.hasOwn||function(t,n){return tH(eH(t),n)},nH=Nn,rH=0,sH=Math.random(),oH=nH(1 .toString),BP=function(e){return"Symbol("+(e===void 0?"":e)+")_"+oH(++rH+sH,36)},aH=Gr,iH=x9,e4=ll,lH=BP,cH=$P,dH=OP,Id=aH.Symbol,ix=iH("wks"),hH=dH?Id.for||Id:Id&&Id.withoutSetter||lH,ei=function(e){return e4(ix,e)||(ix[e]=cH&&e4(Id,e)?Id[e]:hH("Symbol."+e)),ix[e]},uH=Ja,t4=Ac,n4=DP,pH=g9,fH=XY,gH=ei,mH=TypeError,yH=gH("toPrimitive"),xH=function(e,t){if(!t4(e)||n4(e))return e;var n=pH(e,yH),r;if(n){if(t===void 0&&(t="default"),r=uH(n,e,t),!t4(r)||n4(r))return r;throw new mH("Can't convert object to primitive value")}return t===void 0&&(t="number"),fH(e,t)},wH=xH,SH=DP,FP=function(e){var t=wH(e,"string");return SH(t)?t:t+""},bH=Gr,r4=Ac,Mw=bH.document,vH=r4(Mw)&&r4(Mw.createElement),KP=function(e){return vH?Mw.createElement(e):{}},kH=il,CH=Tr,_H=KP,WP=!kH&&!CH(function(){return Object.defineProperty(_H("div"),"a",{get:function(){return 7}}).a!==7}),EH=il,IH=Ja,PH=PP,zH=NP,AH=A1,NH=FP,TH=ll,LH=WP,s4=Object.getOwnPropertyDescriptor;p9.f=EH?s4:function(t,n){if(t=AH(t),n=NH(n),LH)try{return s4(t,n)}catch{}if(TH(t,n))return zH(!IH(PH.f,t,n),t[n])};var $h={},MH=il,jH=Tr,UP=MH&&jH(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),RH=Ac,$H=String,OH=TypeError,Nc=function(e){if(RH(e))return e;throw new OH($H(e)+" is not an object")},DH=il,qH=WP,BH=UP,Ag=Nc,o4=FP,FH=TypeError,lx=Object.defineProperty,KH=Object.getOwnPropertyDescriptor,cx="enumerable",dx="configurable",hx="writable";$h.f=DH?BH?function(t,n,r){if(Ag(t),n=o4(n),Ag(r),typeof t=="function"&&n==="prototype"&&"value"in r&&hx in r&&!r[hx]){var s=KH(t,n);s&&s[hx]&&(t[n]=r.value,r={configurable:dx in r?r[dx]:s[dx],enumerable:cx in r?r[cx]:s[cx],writable:!1})}return lx(t,n,r)}:lx:function(t,n,r){if(Ag(t),n=o4(n),Ag(r),qH)try{return lx(t,n,r)}catch{}if("get"in r||"set"in r)throw new FH("Accessors not supported");return"value"in r&&(t[n]=r.value),t};var WH=il,UH=$h,VH=NP,w9=WH?function(e,t,n){return UH.f(e,t,VH(1,n))}:function(e,t,n){return e[t]=n,e},VP={exports:{}},jw=il,XH=ll,XP=Function.prototype,YH=jw&&Object.getOwnPropertyDescriptor,S9=XH(XP,"name"),HH=S9&&(function(){}).name==="something",GH=S9&&(!jw||jw&&YH(XP,"name").configurable),ZH={EXISTS:S9,PROPER:HH,CONFIGURABLE:GH},QH=Nn,JH=Lr,Rw=y9,eG=QH(Function.toString);JH(Rw.inspectSource)||(Rw.inspectSource=function(e){return eG(e)});var YP=Rw.inspectSource,tG=Gr,nG=Lr,a4=tG.WeakMap,rG=nG(a4)&&/native code/.test(String(a4)),sG=x9,oG=BP,i4=sG("keys"),HP=function(e){return i4[e]||(i4[e]=oG(e))},b9={},aG=rG,GP=Gr,iG=Ac,lG=w9,ux=ll,px=y9,cG=HP,dG=b9,l4="Object already initialized",$w=GP.TypeError,hG=GP.WeakMap,uy,Rp,py,uG=function(e){return py(e)?Rp(e):uy(e,{})},pG=function(e){return function(t){var n;if(!iG(t)||(n=Rp(t)).type!==e)throw new $w("Incompatible receiver, "+e+" required");return n}};if(aG||px.state){var Lo=px.state||(px.state=new hG);Lo.get=Lo.get,Lo.has=Lo.has,Lo.set=Lo.set,uy=function(e,t){if(Lo.has(e))throw new $w(l4);return t.facade=e,Lo.set(e,t),t},Rp=function(e){return Lo.get(e)||{}},py=function(e){return Lo.has(e)}}else{var rd=cG("state");dG[rd]=!0,uy=function(e,t){if(ux(e,rd))throw new $w(l4);return t.facade=e,lG(e,rd,t),t},Rp=function(e){return ux(e,rd)?e[rd]:{}},py=function(e){return ux(e,rd)}}var ZP={set:uy,get:Rp,has:py,enforce:uG,getterFor:pG},v9=Nn,fG=Tr,gG=Lr,Ng=ll,Ow=il,mG=ZH.CONFIGURABLE,yG=YP,QP=ZP,xG=QP.enforce,wG=QP.get,c4=String,D0=Object.defineProperty,SG=v9("".slice),bG=v9("".replace),vG=v9([].join),kG=Ow&&!fG(function(){return D0(function(){},"length",{value:8}).length!==8}),CG=String(String).split("String"),_G=VP.exports=function(e,t,n){SG(c4(t),0,7)==="Symbol("&&(t="["+bG(c4(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!Ng(e,"name")||mG&&e.name!==t)&&(Ow?D0(e,"name",{value:t,configurable:!0}):e.name=t),kG&&n&&Ng(n,"arity")&&e.length!==n.arity&&D0(e,"length",{value:n.arity});try{n&&Ng(n,"constructor")&&n.constructor?Ow&&D0(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch{}var r=xG(e);return Ng(r,"source")||(r.source=vG(CG,typeof t=="string"?t:"")),e};Function.prototype.toString=_G(function(){return gG(this)&&wG(this).source||yG(this)},"toString");var EG=VP.exports,IG=Lr,PG=$h,zG=EG,AG=m9,JP=function(e,t,n,r){r||(r={});var s=r.enumerable,o=r.name!==void 0?r.name:t;if(IG(n)&&zG(n,o,r),r.global)s?e[t]=n:AG(t,n);else{try{r.unsafe?e[t]&&(s=!0):delete e[t]}catch{}s?e[t]=n:PG.f(e,t,{value:n,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return e},ez={},NG=Math.ceil,TG=Math.floor,LG=Math.trunc||function(t){var n=+t;return(n>0?TG:NG)(n)},MG=LG,Tc=function(e){var t=+e;return t!==t||t===0?0:MG(t)},jG=Tc,RG=Math.max,$G=Math.min,OG=function(e,t){var n=jG(e);return n<0?RG(n+t,0):$G(n,t)},DG=Tc,qG=Math.min,tz=function(e){var t=DG(e);return t>0?qG(t,9007199254740991):0},BG=tz,Rf=function(e){return BG(e.length)},FG=A1,KG=OG,WG=Rf,d4=function(e){return function(t,n,r){var s=FG(t),o=WG(s);if(o===0)return!e&&-1;var a=KG(r,o),i;if(e&&n!==n){for(;o>a;)if(i=s[a++],i!==i)return!0}else for(;o>a;a++)if((e||a in s)&&s[a]===n)return e||a||0;return!e&&-1}},UG={includes:d4(!0),indexOf:d4(!1)},VG=Nn,fx=ll,XG=A1,YG=UG.indexOf,HG=b9,h4=VG([].push),nz=function(e,t){var n=XG(e),r=0,s=[],o;for(o in n)!fx(HG,o)&&fx(n,o)&&h4(s,o);for(;t.length>r;)fx(n,o=t[r++])&&(~YG(s,o)||h4(s,o));return s},k9=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],GG=nz,ZG=k9,QG=ZG.concat("length","prototype");ez.f=Object.getOwnPropertyNames||function(t){return GG(t,QG)};var rz={};rz.f=Object.getOwnPropertySymbols;var JG=N1,eZ=Nn,tZ=ez,nZ=rz,rZ=Nc,sZ=eZ([].concat),oZ=JG("Reflect","ownKeys")||function(t){var n=tZ.f(rZ(t)),r=nZ.f;return r?sZ(n,r(t)):n},u4=ll,aZ=oZ,iZ=p9,lZ=$h,cZ=function(e,t,n){for(var r=aZ(t),s=lZ.f,o=iZ.f,a=0;a<r.length;a++){var i=r[a];!u4(e,i)&&!(n&&u4(n,i))&&s(e,i,o(t,i))}},dZ=Tr,hZ=Lr,uZ=/#|\.prototype\./,$f=function(e,t){var n=fZ[pZ(e)];return n===mZ?!0:n===gZ?!1:hZ(t)?dZ(t):!!t},pZ=$f.normalize=function(e){return String(e).replace(uZ,".").toLowerCase()},fZ=$f.data={},gZ=$f.NATIVE="N",mZ=$f.POLYFILL="P",yZ=$f,Tg=Gr,xZ=p9.f,wZ=w9,SZ=JP,bZ=m9,vZ=cZ,kZ=yZ,Oh=function(e,t){var n=e.target,r=e.global,s=e.stat,o,a,i,l,c,d;if(r?a=Tg:s?a=Tg[n]||bZ(n,{}):a=Tg[n]&&Tg[n].prototype,a)for(i in t){if(c=t[i],e.dontCallGetSet?(d=xZ(a,i),l=d&&d.value):l=a[i],o=kZ(r?i:n+(s?".":"#")+i,e.forced),!o&&l!==void 0){if(typeof c==typeof l)continue;vZ(c,l)}(e.sham||l&&l.sham)&&wZ(c,"sham",!0),SZ(a,i,c,e)}},sz={},CZ=nz,_Z=k9,EZ=Object.keys||function(t){return CZ(t,_Z)},IZ=il,PZ=UP,zZ=$h,AZ=Nc,NZ=A1,TZ=EZ;sz.f=IZ&&!PZ?Object.defineProperties:function(t,n){AZ(t);for(var r=NZ(n),s=TZ(n),o=s.length,a=0,i;o>a;)zZ.f(t,i=s[a++],r[i]);return t};var LZ=N1,MZ=LZ("document","documentElement"),jZ=Nc,RZ=sz,p4=k9,$Z=b9,OZ=MZ,DZ=KP,qZ=HP,f4=">",g4="<",Dw="prototype",qw="script",oz=qZ("IE_PROTO"),gx=function(){},az=function(e){return g4+qw+f4+e+g4+"/"+qw+f4},m4=function(e){e.write(az("")),e.close();var t=e.parentWindow.Object;return e=null,t},BZ=function(){var e=DZ("iframe"),t="java"+qw+":",n;return e.style.display="none",OZ.appendChild(e),e.src=String(t),n=e.contentWindow.document,n.open(),n.write(az("document.F=Object")),n.close(),n.F},Lg,q0=function(){try{Lg=new ActiveXObject("htmlfile")}catch{}q0=typeof document<"u"?document.domain&&Lg?m4(Lg):BZ():m4(Lg);for(var e=p4.length;e--;)delete q0[Dw][p4[e]];return q0()};$Z[oz]=!0;var iz=Object.create||function(t,n){var r;return t!==null?(gx[Dw]=jZ(t),r=new gx,gx[Dw]=null,r[oz]=t):r=q0(),n===void 0?r:RZ.f(r,n)},FZ=ei,KZ=iz,WZ=$h.f,Bw=FZ("unscopables"),Fw=Array.prototype;Fw[Bw]===void 0&&WZ(Fw,Bw,{configurable:!0,value:KZ(null)});var C9=function(e){Fw[Bw][e]=!0},UZ=Oh,VZ=jf,XZ=Rf,YZ=Tc,HZ=C9;UZ({target:"Array",proto:!0},{at:function(t){var n=VZ(this),r=XZ(n),s=YZ(t),o=s>=0?s:r+s;return o<0||o>=r?void 0:n[o]}});HZ("at");var GZ=Gr,ZZ=Nn,Of=function(e,t){return ZZ(GZ[e].prototype[t])},QZ=Of;QZ("Array","at");var JZ=jh,lz=Array.isArray||function(t){return JZ(t)==="Array"},eQ=TypeError,tQ=9007199254740991,nQ=function(e){if(e>tQ)throw eQ("Maximum allowed index exceeded");return e},rQ=jh,sQ=Nn,oQ=function(e){if(rQ(e)==="Function")return sQ(e)},y4=oQ,aQ=f9,iQ=P1,lQ=y4(y4.bind),cQ=function(e,t){return aQ(e),t===void 0?e:iQ?lQ(e,t):function(){return e.apply(t,arguments)}},dQ=lz,hQ=Rf,uQ=nQ,pQ=cQ,cz=function(e,t,n,r,s,o,a,i){for(var l=s,c=0,d=a?pQ(a,i):!1,h,u;c<r;)c in n&&(h=d?d(n[c],c,t):n[c],o>0&&dQ(h)?(u=hQ(h),l=cz(e,t,h,u,l,o-1)-1):(uQ(l+1),e[l]=h),l++),c++;return l},dz=cz,fQ=ei,gQ=fQ("toStringTag"),hz={};hz[gQ]="z";var mQ=String(hz)==="[object z]",yQ=mQ,xQ=Lr,B0=jh,wQ=ei,SQ=wQ("toStringTag"),bQ=Object,vQ=B0(function(){return arguments}())==="Arguments",kQ=function(e,t){try{return e[t]}catch{}},uz=yQ?B0:function(e){var t,n,r;return e===void 0?"Undefined":e===null?"Null":typeof(n=kQ(t=bQ(e),SQ))=="string"?n:vQ?B0(t):(r=B0(t))==="Object"&&xQ(t.callee)?"Arguments":r},CQ=Nn,_Q=Tr,pz=Lr,EQ=uz,IQ=N1,PQ=YP,fz=function(){},gz=IQ("Reflect","construct"),_9=/^\s*(?:class|function)\b/,zQ=CQ(_9.exec),AQ=!_9.test(fz),hu=function(t){if(!pz(t))return!1;try{return gz(fz,[],t),!0}catch{return!1}},mz=function(t){if(!pz(t))return!1;switch(EQ(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return AQ||!!zQ(_9,PQ(t))}catch{return!0}};mz.sham=!0;var NQ=!gz||_Q(function(){var e;return hu(hu.call)||!hu(Object)||!hu(function(){e=!0})||e})?mz:hu,x4=lz,TQ=NQ,LQ=Ac,MQ=ei,jQ=MQ("species"),w4=Array,RQ=function(e){var t;return x4(e)&&(t=e.constructor,TQ(t)&&(t===w4||x4(t.prototype))?t=void 0:LQ(t)&&(t=t[jQ],t===null&&(t=void 0))),t===void 0?w4:t},$Q=RQ,yz=function(e,t){return new($Q(e))(t===0?0:t)},OQ=Oh,DQ=dz,qQ=jf,BQ=Rf,FQ=Tc,KQ=yz;OQ({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,n=qQ(this),r=BQ(n),s=KQ(n,0);return s.length=DQ(s,n,n,r,0,t===void 0?1:FQ(t)),s}});var WQ=C9;WQ("flat");var UQ=Of;UQ("Array","flat");var VQ=Oh,XQ=dz,YQ=f9,HQ=jf,GQ=Rf,ZQ=yz;VQ({target:"Array",proto:!0},{flatMap:function(t){var n=HQ(this),r=GQ(n),s;return YQ(t),s=ZQ(n,0),s.length=XQ(s,n,n,r,0,1,t,arguments.length>1?arguments[1]:void 0),s}});var QQ=C9;QQ("flatMap");var JQ=Of;JQ("Array","flatMap");var eJ=uz,tJ=String,Df=function(e){if(eJ(e)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return tJ(e)},nJ=Oh,rJ=Nn,sJ=Rh,oJ=Tc,aJ=Df,iJ=Tr,lJ=rJ("".charAt),cJ=iJ(function(){return"".at(-2)!=="\uD842"});nJ({target:"String",proto:!0,forced:cJ},{at:function(t){var n=aJ(sJ(this)),r=n.length,s=oJ(t),o=s>=0?s:r+s;return o<0||o>=r?void 0:lJ(n,o)}});var dJ=Of;dJ("String","at");var hJ=Nc,xz=function(){var e=hJ(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t},E9=Tr,uJ=Gr,I9=uJ.RegExp,P9=E9(function(){var e=I9("a","y");return e.lastIndex=2,e.exec("abcd")!==null}),pJ=P9||E9(function(){return!I9("a","y").sticky}),fJ=P9||E9(function(){var e=I9("^r","gy");return e.lastIndex=2,e.exec("str")!==null}),gJ={BROKEN_CARET:fJ,MISSED_STICKY:pJ,UNSUPPORTED_Y:P9},mJ=Tr,yJ=Gr,xJ=yJ.RegExp,wJ=mJ(function(){var e=xJ(".","s");return!(e.dotAll&&e.test(`
`)&&e.flags==="s")}),SJ=Tr,bJ=Gr,vJ=bJ.RegExp,kJ=SJ(function(){var e=vJ("(?<a>b)","g");return e.exec("b").groups.a!=="b"||"b".replace(e,"$<a>c")!=="bc"}),Pd=Ja,T1=Nn,CJ=Df,_J=xz,EJ=gJ,IJ=x9,PJ=iz,zJ=ZP.get,AJ=wJ,NJ=kJ,TJ=IJ("native-string-replace",String.prototype.replace),fy=RegExp.prototype.exec,Kw=fy,LJ=T1("".charAt),MJ=T1("".indexOf),jJ=T1("".replace),mx=T1("".slice),Ww=function(){var e=/a/,t=/b*/g;return Pd(fy,e,"a"),Pd(fy,t,"a"),e.lastIndex!==0||t.lastIndex!==0}(),wz=EJ.BROKEN_CARET,Uw=/()??/.exec("")[1]!==void 0,RJ=Ww||Uw||wz||AJ||NJ;RJ&&(Kw=function(t){var n=this,r=zJ(n),s=CJ(t),o=r.raw,a,i,l,c,d,h,u;if(o)return o.lastIndex=n.lastIndex,a=Pd(Kw,o,s),n.lastIndex=o.lastIndex,a;var p=r.groups,y=wz&&n.sticky,g=Pd(_J,n),x=n.source,w=0,S=s;if(y&&(g=jJ(g,"y",""),MJ(g,"g")===-1&&(g+="g"),S=mx(s,n.lastIndex),n.lastIndex>0&&(!n.multiline||n.multiline&&LJ(s,n.lastIndex-1)!==`
`)&&(x="(?: "+x+")",S=" "+S,w++),i=new RegExp("^(?:"+x+")",g)),Uw&&(i=new RegExp("^"+x+"$(?!\\s)",g)),Ww&&(l=n.lastIndex),c=Pd(fy,y?i:n,S),y?c?(c.input=mx(c.input,w),c[0]=mx(c[0],w),c.index=n.lastIndex,n.lastIndex+=c[0].length):n.lastIndex=0:Ww&&c&&(n.lastIndex=n.global?c.index+c[0].length:l),Uw&&c&&c.length>1&&Pd(TJ,c[0],i,function(){for(d=1;d<arguments.length-2;d++)arguments[d]===void 0&&(c[d]=void 0)}),c&&p)for(c.groups=h=PJ(null),d=0;d<p.length;d++)u=p[d],h[u[0]]=c[u[1]];return c});var z9=Kw,$J=Oh,S4=z9;$J({target:"RegExp",proto:!0,forced:/./.exec!==S4},{exec:S4});var OJ=P1,Sz=Function.prototype,b4=Sz.apply,v4=Sz.call,DJ=typeof Reflect=="object"&&Reflect.apply||(OJ?v4.bind(b4):function(){return v4.apply(b4,arguments)}),k4=Ja,C4=JP,qJ=z9,_4=Tr,bz=ei,BJ=w9,FJ=bz("species"),yx=RegExp.prototype,KJ=function(e,t,n,r){var s=bz(e),o=!_4(function(){var c={};return c[s]=function(){return 7},""[e](c)!==7}),a=o&&!_4(function(){var c=!1,d=/a/;return e==="split"&&(d={},d.constructor={},d.constructor[FJ]=function(){return d},d.flags="",d[s]=/./[s]),d.exec=function(){return c=!0,null},d[s](""),!c});if(!o||!a||n){var i=/./[s],l=t(s,""[e],function(c,d,h,u,p){var y=d.exec;return y===qJ||y===yx.exec?o&&!p?{done:!0,value:k4(i,d,h,u)}:{done:!0,value:k4(c,h,d,u)}:{done:!1}});C4(String.prototype,e,l[0]),C4(yx,s,l[1])}r&&BJ(yx[s],"sham",!0)},A9=Nn,WJ=Tc,UJ=Df,VJ=Rh,XJ=A9("".charAt),E4=A9("".charCodeAt),YJ=A9("".slice),I4=function(e){return function(t,n){var r=UJ(VJ(t)),s=WJ(n),o=r.length,a,i;return s<0||s>=o?e?"":void 0:(a=E4(r,s),a<55296||a>56319||s+1===o||(i=E4(r,s+1))<56320||i>57343?e?XJ(r,s):a:e?YJ(r,s,s+2):(a-55296<<10)+(i-56320)+65536)}},HJ={codeAt:I4(!1),charAt:I4(!0)},GJ=HJ.charAt,ZJ=function(e,t,n){return t+(n?GJ(e,t).length:1)},N9=Nn,QJ=jf,JJ=Math.floor,xx=N9("".charAt),eee=N9("".replace),wx=N9("".slice),tee=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,nee=/\$([$&'`]|\d{1,2})/g,vz=function(e,t,n,r,s,o){var a=n+e.length,i=r.length,l=nee;return s!==void 0&&(s=QJ(s),l=tee),eee(o,l,function(c,d){var h;switch(xx(d,0)){case"$":return"$";case"&":return e;case"`":return wx(t,0,n);case"'":return wx(t,a);case"<":h=s[wx(d,1,-1)];break;default:var u=+d;if(u===0)return c;if(u>i){var p=JJ(u/10);return p===0?c:p<=i?r[p-1]===void 0?xx(d,1):r[p-1]+xx(d,1):c}h=r[u-1]}return h===void 0?"":h})},P4=Ja,ree=Nc,see=Lr,oee=jh,aee=z9,iee=TypeError,lee=function(e,t){var n=e.exec;if(see(n)){var r=P4(n,e,t);return r!==null&&ree(r),r}if(oee(e)==="RegExp")return P4(aee,e,t);throw new iee("RegExp#exec called on incompatible receiver")},cee=DJ,z4=Ja,L1=Nn,dee=KJ,hee=Tr,uee=Nc,pee=Lr,fee=z1,gee=Tc,mee=tz,sd=Df,yee=Rh,xee=ZJ,wee=g9,See=vz,bee=lee,vee=ei,Vw=vee("replace"),kee=Math.max,Cee=Math.min,_ee=L1([].concat),Sx=L1([].push),A4=L1("".indexOf),N4=L1("".slice),Eee=function(e){return e===void 0?e:String(e)},Iee=function(){return"a".replace(/./,"$0")==="$0"}(),T4=function(){return/./[Vw]?/./[Vw]("a","$0")==="":!1}(),Pee=!hee(function(){var e=/./;return e.exec=function(){var t=[];return t.groups={a:"7"},t},"".replace(e,"$<a>")!=="7"});dee("replace",function(e,t,n){var r=T4?"$":"$0";return[function(o,a){var i=yee(this),l=fee(o)?void 0:wee(o,Vw);return l?z4(l,o,i,a):z4(t,sd(i),o,a)},function(s,o){var a=uee(this),i=sd(s);if(typeof o=="string"&&A4(o,r)===-1&&A4(o,"$<")===-1){var l=n(t,a,i,o);if(l.done)return l.value}var c=pee(o);c||(o=sd(o));var d=a.global,h;d&&(h=a.unicode,a.lastIndex=0);for(var u=[],p;p=bee(a,i),!(p===null||(Sx(u,p),!d));){var y=sd(p[0]);y===""&&(a.lastIndex=xee(i,mee(a.lastIndex),h))}for(var g="",x=0,w=0;w<u.length;w++){p=u[w];for(var S=sd(p[0]),v=kee(Cee(gee(p.index),i.length),0),k=[],C,_=1;_<p.length;_++)Sx(k,Eee(p[_]));var E=p.groups;if(c){var I=_ee([S],k,v,i);E!==void 0&&Sx(I,E),C=sd(cee(o,void 0,I))}else C=See(S,i,v,k,E,o);v>=x&&(g+=N4(i,x,v)+C,x=v+S.length)}return g+N4(i,x)}]},!Pee||!Iee||T4);var zee=Ac,Aee=jh,Nee=ei,Tee=Nee("match"),Lee=function(e){var t;return zee(e)&&((t=e[Tee])!==void 0?!!t:Aee(e)==="RegExp")},Mee=Ja,jee=ll,Ree=jP,$ee=xz,L4=RegExp.prototype,Oee=function(e){var t=e.flags;return t===void 0&&!("flags"in L4)&&!jee(e,"flags")&&Ree(L4,e)?Mee($ee,e):t},Dee=Oh,qee=Ja,T9=Nn,M4=Rh,Bee=Lr,Fee=z1,Kee=Lee,uu=Df,Wee=g9,Uee=Oee,Vee=vz,Xee=ei,Yee=Xee("replace"),Hee=TypeError,bx=T9("".indexOf);T9("".replace);var j4=T9("".slice),Gee=Math.max;Dee({target:"String",proto:!0},{replaceAll:function(t,n){var r=M4(this),s,o,a,i,l,c,d,h,u,p=0,y=0,g="";if(!Fee(t)){if(s=Kee(t),s&&(o=uu(M4(Uee(t))),!~bx(o,"g")))throw new Hee("`.replaceAll` does not allow non-global regexes");if(a=Wee(t,Yee),a)return qee(a,t,r,n)}for(i=uu(r),l=uu(t),c=Bee(n),c||(n=uu(n)),d=l.length,h=Gee(1,d),p=bx(i,l);p!==-1;)u=c?uu(n(l,p,i)):Vee(l,i,p,[],void 0,n),g+=j4(i,y,p)+u,y=p+d,p=p+h>i.length?-1:bx(i,l,p+h);return y<i.length&&(g+=j4(i,y)),g}});var Zee=Of;Zee("String","replaceAll");const kz=({children:e})=>{const t=H();return J("shouldDisplayHandles",()=>t.isInAny("select.idle","select.pointing_handle"),[t])?f.jsx("svg",{className:"tl-user-handles tl-overlays__item",children:e}):null},Cz=({shapeId:e})=>{const t=H();return J("show hovered",()=>t.isIn("select.editing_shape")?t.getHoveredShapeId()!==t.getEditingShapeId():t.isInAny("select.idle"),[t])?f.jsx(Af,{className:"tl-user-indicator__hovered",id:e}):null},{PI:Qee}=Math,Qd=Qee+1e-4;function _z(e,t={}){const{size:n=16,smoothing:r=.5}=t;if(e.length===0||n<=0)return{left:[],right:[]};const s=e[0],o=e[e.length-1],a=o.runningLength,i=Math.pow(n*r,2),l=[],c=[];let d=e[0].vector,h=e[0].point,u=h,p=h,y=u,g=!1,x;for(let w=0;w<e.length;w++){x=e[w];const{point:S,vector:v}=e[w],k=x.vector.dpr(d),C=(w<e.length-1?e[w+1]:e[w]).vector,_=w<e.length-1?C.dpr(x.vector):1,E=k<0&&!g,I=_!==null&&_<.2;if(E||I){if(_>-.62&&a-x.runningLength>x.radius){const A=d.clone().mul(x.radius);d.clone().cpr(C)<0?(p=P.Add(S,A),y=P.Sub(S,A)):(p=P.Sub(S,A),y=P.Add(S,A)),l.push(p),c.push(y)}else{const A=d.clone().mul(x.radius).per(),T=P.Sub(x.input,A);for(let j=1/13,R=0;R<1;R+=j)p=P.RotWith(T,x.input,Qd*R),l.push(p),y=P.RotWith(T,x.input,Qd+Qd*-R),c.push(y)}h=p,u=y,I&&(g=!0);continue}if(g=!1,x===s||x===o){const A=P.Per(v).mul(x.radius);l.push(P.Sub(S,A)),c.push(P.Add(S,A));continue}const z=P.Lrp(C,v,_).per().mul(x.radius);p=P.Sub(S,z),(w<=1||P.Dist2(h,p)>i)&&(l.push(p),h=p),y=P.Add(S,z),(w<=1||P.Dist2(u,y)>i)&&(c.push(y),u=y),d=v}return{left:l,right:c}}function qf(e,t={}){const{size:n=16,start:r={},end:s={},last:o=!1}=t,{cap:a=!0}=r,{cap:i=!0}=s;if(e.length===0||n<=0)return[];const l=e[0],c=e[e.length-1],d=c.runningLength,h=r.taper===!1?0:r.taper===!0?Math.max(n,d):r.taper,u=s.taper===!1?0:s.taper===!0?Math.max(n,d):s.taper,{left:p,right:y}=_z(e,t),g=l.point,x=e.length>1?e[e.length-1].point:P.AddXY(l.point,1,1);if(e.length===1&&(!(h||u)||o)){const k=P.Add(g,P.Sub(g,x).uni().per().mul(-l.radius)),C=[];for(let _=1/13,E=_;E<=1;E+=_)C.push(P.RotWith(k,g,Qd*2*E));return C}const w=[];if(!(h||u&&e.length===1))if(a)for(let k=1/8,C=k;C<=1;C+=k){const _=P.RotWith(y[0],g,Qd*C);w.push(_)}else{const k=P.Sub(p[0],y[0]),C=P.Mul(k,.5),_=P.Mul(k,.51);w.push(P.Sub(g,C),P.Sub(g,_),P.Add(g,_),P.Add(g,C))}const S=[],v=c.vector.clone().per().neg();if(u||h&&e.length===1)S.push(x);else if(i){const k=P.Add(x,P.Mul(v,c.radius));for(let C=1/29,_=C;_<1;_+=C)S.push(P.RotWith(k,x,Qd*3*_))}else S.push(P.Add(x,P.Mul(v,c.radius)),P.Add(x,P.Mul(v,c.radius*.99)),P.Sub(x,P.Mul(v,c.radius*.99)),P.Sub(x,P.Mul(v,c.radius)));return p.concat(S,y.reverse(),w)}const Jee=.025,ete=.01;function fo(e,t={}){var x;const{streamline:n=.5,size:r=16,simulatePressure:s=!1}=t;if(e.length===0)return[];const o=.15+(1-n)*.85;let a=e.map(P.From),i=0;if(!s){let w=a[0];for(;w&&!(w.z>=Jee);)a.shift(),w=a[0]}if(!s){let w=a[a.length-1];for(;w&&!(w.z>=ete);)a.pop(),w=a[a.length-1]}if(a.length===0)return[{point:P.From(e[0]),input:P.From(e[0]),pressure:s?.5:.15,vector:new P(1,1),distance:0,runningLength:0,radius:1}];let l=a[1];for(;l&&!(P.Dist(l,a[0])>r/3);)a[0].z=Math.max(a[0].z,l.z),a.splice(1,1),l=a[1];const c=a.pop();for(l=a[a.length-1];l&&!(P.Dist(l,c)>r/3);)a.pop(),l=a[a.length-1],i++;a.push(c);const d=t.last||!t.simulatePressure||a.length>1&&P.Dist(a[a.length-1],a[a.length-2])<r||i>0;if(a.length===2&&t.simulatePressure){const w=a[1];a=a.slice(0,-1);for(let S=1;S<5;S++){const v=P.Lrp(a[0],w,S/4);v.z=(a[0].z+(w.z-a[0].z))*S/4,a.push(v)}}const h=[{point:a[0],input:a[0],pressure:s?.5:a[0].z,vector:new P(1,1),distance:0,runningLength:0,radius:1}];let u=0,p=h[0],y,g;d&&n>0&&a.push(a[a.length-1].clone());for(let w=1,S=a.length;w<S;w++)y=!o||t.last&&w===S-1?a[w].clone():a[w].clone().lrp(p.point,1-o),!p.point.equals(y)&&(g=P.Dist(y,p.point),u+=g,!(w<4&&u<r)&&(p={input:a[w],point:y,pressure:s?.5:a[w].z,vector:P.Sub(p.point,y).uni(),distance:g,runningLength:u,radius:1},h.push(p)));if((x=h[1])!=null&&x.vector&&(h[0].vector=h[1].vector.clone()),u<1){const w=Math.max(.5,...h.map(S=>S.pressure));h.forEach(S=>S.pressure=w)}return h}const{min:yi}=Math,vx=.275;function Dh(e,t){const{size:n=16,thinning:r=.5,simulatePressure:s=!0,easing:o=x=>x,start:a={},end:i={}}=t,{easing:l=xr.easeOutQuad}=a,{easing:c=xr.easeOutCubic}=i,d=e[e.length-1].runningLength;let h,u=e[0].pressure,p;if(!s&&d<n){const x=e.reduce((w,S)=>Math.max(w,S.pressure),.5);return e.forEach(w=>{w.pressure=x,w.radius=n*o(.5-r*(.5-w.pressure))}),e}else{let x;for(let w=0,S=e.length;w<S&&(p=e[w],!(p.runningLength>n*5));w++){const v=yi(1,p.distance/n);if(s){const k=yi(1,1-v);x=yi(1,u+(k-u)*(v*vx))}else x=yi(1,u+(p.pressure-u)*.5);u=u+(x-u)*.5}for(let w=0;w<e.length;w++){if(p=e[w],r){let{pressure:S}=p;const v=yi(1,p.distance/n);if(s){const k=yi(1,1-v);S=yi(1,u+(k-u)*(v*vx))}else S=yi(1,u+(S-u)*(v*vx));p.radius=n*o(.5-r*(.5-S)),u=S}else p.radius=n/2;h===void 0&&(h=p.radius)}}const y=a.taper===!1?0:a.taper===!0?Math.max(n,d):a.taper,g=i.taper===!1?0:i.taper===!0?Math.max(n,d):i.taper;if(y||g)for(let x=0;x<e.length;x++){p=e[x];const{runningLength:w}=p,S=w<y?l(w/y):1,v=d-w<g?c((d-w)/g):1;p.radius=Math.max(.01,p.radius*Math.min(S,v))}return e}function tte(e,t={}){return qf(Dh(fo(e,t),t),t)}const gy=({scribble:e,zoom:t,color:n,opacity:r,className:s})=>{if(!e.points.length)return null;const o=tte(e.points,{size:e.size/t,start:{taper:e.taper,easing:xr.linear},last:e.state==="stopping",simulatePressure:!1,streamline:.32});let a;if(o.length<4){const i=e.size/t/2,{x:l,y:c}=e.points[e.points.length-1];a=`M ${l-i},${c} a ${i},${i} 0 1,0 ${i*2},0 a ${i},${i} 0 1,0 ${-i*2},0`}else a=Nf(o);return f.jsx("svg",{className:s&&me("tl-overlays__item",s),children:f.jsx("path",{className:"tl-scribble",d:a,fill:n??`var(--color-${e.color})`,opacity:r??e.opacity})})},Ez=({bounds:e,rotation:t})=>{const n=H();return J("should display",()=>n.isInAny("select.idle","select.brushing","select.scribble_brushing","select.pointing_shape","select.pointing_selection","text.resizing"),[n])?f.jsx(vI,{bounds:e,rotation:t}):null};function Gs(){const e=H();return J("isReadonlyMode",()=>e.getInstanceState().isReadonly,[e])}function nte({size:e,width:t,height:n,hideAlternateHandles:r}){const s=O(e/3),o=s/2;return f.jsxs("svg",{className:"tl-overlays__item",children:[f.jsx("polyline",{className:"tl-corner-crop-handle",points:`
						${O(0-o)},${O(e)} 
						${O(0-o)},${O(0-o)} 
						${O(e)},${O(0-o)}`,strokeWidth:s,"data-testid":"selection.crop.top_left","aria-label":"top_left handle"}),f.jsx("line",{className:me("tl-corner-crop-edge-handle",{"tl-hidden":r}),x1:O(t/2-e),y1:O(0-o),x2:O(t/2+e),y2:O(0-o),strokeWidth:s,"data-testid":"selection.crop.top","aria-label":"top handle"}),f.jsx("polyline",{className:me("tl-corner-crop-handle",{"tl-hidden":r}),points:`
						${O(t-e)},${O(0-o)} 
						${O(t+o)},${O(0-o)} 
						${O(t+o)},${O(e)}`,strokeWidth:s,"data-testid":"selection.crop.top_right","aria-label":"top_right handle"}),f.jsx("line",{className:me("tl-corner-crop-edge-handle",{"tl-hidden":r}),x1:O(t+o),y1:O(n/2-e),x2:O(t+o),y2:O(n/2+e),strokeWidth:s,"data-testid":"selection.crop.right","aria-label":"right handle"}),f.jsx("polyline",{className:"tl-corner-crop-handle",points:`
						${O(t+o)},${O(n-e)} 
						${O(t+o)},${O(n+o)}
						${O(t-e)},${O(n+o)}`,strokeWidth:s,"data-testid":"selection.crop.bottom_right","aria-label":"bottom_right handle"}),f.jsx("line",{className:me("tl-corner-crop-edge-handle",{"tl-hidden":r}),x1:O(t/2-e),y1:O(n+o),x2:O(t/2+e),y2:O(n+o),strokeWidth:s,"data-testid":"selection.crop.bottom","aria-label":"bottom handle"}),f.jsx("polyline",{className:me("tl-corner-crop-handle",{"tl-hidden":r}),points:`
						${O(0+e)},${O(n+o)} 
						${O(0-o)},${O(n+o)}
						${O(0-o)},${O(n-e)}`,strokeWidth:s,"data-testid":"selection.crop.bottom_left","aria-label":"bottom_left handle"}),f.jsx("line",{className:me("tl-corner-crop-edge-handle",{"tl-hidden":r}),x1:O(0-o),y1:O(n/2-e),x2:O(0-o),y2:O(n/2+e),strokeWidth:s,"data-testid":"selection.crop.left","aria-label":"left handle"})]})}const Iz=et(function({bounds:t,rotation:n}){const r=H(),s=b.useRef(null),o=Gs(),a=jo("top"),i=jo("right"),l=jo("bottom"),c=jo("left"),d=jo("top_left"),h=jo("top_right"),u=jo("bottom_right"),p=jo("bottom_left"),y=!r.getIsMenuOpen()&&r.getInstanceState().cursor.type==="default",g=r.getInstanceState().isCoarsePointer,x=r.getSelectedShapes(),w=r.getOnlySelectedShape(),S=w&&r.isShapeOrAncestorLocked(w),v=w?r.getShapeUtil(w).expandSelectionOutlinePx(w):0;if(Th(s,t==null?void 0:t.x,t==null?void 0:t.y,1,r.getSelectionRotation(),{x:-v,y:-v}),!t)return null;t=t.clone().expandBy(v).zeroFix();const k=r.getZoomLevel(),C=r.getInstanceState().isChangingStyle,_=t.width,E=t.height,I=8/k,z=_<I*2,A=E<I*2,T=_<I*4,j=E<I*4,R=_<I*5,M=E<I*5,D=g?1.75:1,U=6/k*D,Y=(T?U/2:U)*(D*.75),q=(j?U/2:U)*(D*.75),K=(w?!r.getShapeUtil(w).hideSelectionBoundsFg(w):!0)&&!C;let W=K&&r.isInAny("select.idle","select.brushing","select.scribble_brushing","select.pointing_canvas","select.pointing_selection","select.pointing_shape","select.crop.idle","select.crop.pointing_crop","select.pointing_resize_handle","select.pointing_crop_handle")||K&&r.isIn("select.resizing")&&w&&r.isShapeOfType(w,"text");w&&W&&r.environment.isFirefox&&r.isShapeOfType(w,"embed")&&(W=!1);const G=r.isInAny("select.pointing_crop_handle","select.crop.idle","select.crop.pointing_crop")&&!C&&!o,ne=r.isInAny("select.idle","select.pointing_selection","select.pointing_shape","select.crop.idle")&&!C&&!o,ce=!g&&!(z||A)&&(ne||G)&&(w?!r.getShapeUtil(w).hideRotateHandle(w):!0)&&!S,Le=g&&(!T||!j)&&(ne||G)&&(w?!r.getShapeUtil(w).hideRotateHandle(w):!0)&&!S,re=ne&&(w?r.getShapeUtil(w).canResize(w)&&!r.getShapeUtil(w).hideResizeHandles(w):!0)&&!G&&!S,Pe=z||A,Me=z&&A,ht=R||M,je=re||G,Ke=!ce,Ae=!ne||!Le,at=!ne||!je,Lt=!ne||!je||Pe,ln=!ne||!je||Pe,He=!ne||!je||Me&&!G;let tt=g;tt&&x.every(ci=>r.getShapeUtil(ci).isAspectRatioLocked(ci))&&(tt=!1);let Is=!0;G?Is=ht:re&&(Is=Pe||Me||tt);const Qs=Math.min(24/k,E-q*3),bl=ne&&g&&w&&r.isShapeOfType(w,"text")&&Qs*k>=4;return f.jsx("svg",{className:"tl-overlays__item tl-selection__fg tl-svg-context","data-testid":"selection-foreground",children:f.jsxs("g",{ref:s,children:[W&&f.jsx("rect",{className:me("tl-selection__fg__outline"),width:O(_),height:O(E)}),f.jsx(Mg,{"data-testid":"selection.rotate.top-left",cx:0,cy:0,targetSize:U,corner:"top_left_rotate",cursor:y?es("nwse-rotate",n):void 0,isHidden:Ke}),f.jsx(Mg,{"data-testid":"selection.rotate.top-right",cx:_+U*3,cy:0,targetSize:U,corner:"top_right_rotate",cursor:y?es("nesw-rotate",n):void 0,isHidden:Ke}),f.jsx(Mg,{"data-testid":"selection.rotate.bottom-left",cx:0,cy:E+U*3,targetSize:U,corner:"bottom_left_rotate",cursor:y?es("swne-rotate",n):void 0,isHidden:Ke}),f.jsx(Mg,{"data-testid":"selection.rotate.bottom-right",cx:_+U*3,cy:E+U*3,targetSize:U,corner:"bottom_right_rotate",cursor:y?es("senw-rotate",n):void 0,isHidden:Ke}),f.jsx(ste,{"data-testid":"selection.rotate.mobile",cx:T?-U*1.5:_/2,cy:T?E/2:-U*1.5,size:I,isHidden:Ae}),f.jsx("rect",{className:me("tl-transparent",{"tl-hidden":Is}),"data-testid":"selection.resize.top","aria-label":"top target",pointerEvents:"all",x:0,y:O(0-(j?q*2:q)),width:O(_),height:O(Math.max(1,q*2)),style:y?{cursor:es("ns-resize",n)}:void 0,...a}),f.jsx("rect",{className:me("tl-transparent",{"tl-hidden":Is}),"data-testid":"selection.resize.right","aria-label":"right target",pointerEvents:"all",x:O(_-(T?0:Y)),y:0,height:O(E),width:O(Math.max(1,Y*2)),style:y?{cursor:es("ew-resize",n)}:void 0,...i}),f.jsx("rect",{className:me("tl-transparent",{"tl-hidden":Is}),"data-testid":"selection.resize.bottom","aria-label":"bottom target",pointerEvents:"all",x:0,y:O(E-(j?0:q)),width:O(_),height:O(Math.max(1,q*2)),style:y?{cursor:es("ns-resize",n)}:void 0,...l}),f.jsx("rect",{className:me("tl-transparent",{"tl-hidden":Is}),"data-testid":"selection.resize.left","aria-label":"left target",pointerEvents:"all",x:O(0-(T?Y*2:Y)),y:0,height:O(E),width:O(Math.max(1,Y*2)),style:y?{cursor:es("ew-resize",n)}:void 0,...c}),f.jsx("rect",{className:me("tl-transparent",{"tl-hidden":at}),"data-testid":"selection.target.top-left","aria-label":"top-left target",pointerEvents:"all",x:O(0-(T?Y*2:Y*1.5)),y:O(0-(j?q*2:q*1.5)),width:O(Y*3),height:O(q*3),style:y?{cursor:es("nwse-resize",n)}:void 0,...d}),f.jsx("rect",{className:me("tl-transparent",{"tl-hidden":Lt}),"data-testid":"selection.target.top-right","aria-label":"top-right target",pointerEvents:"all",x:O(_-(T?0:Y*1.5)),y:O(0-(j?q*2:q*1.5)),width:O(Y*3),height:O(q*3),style:y?{cursor:es("nesw-resize",n)}:void 0,...h}),f.jsx("rect",{className:me("tl-transparent",{"tl-hidden":He}),"data-testid":"selection.target.bottom-right","aria-label":"bottom-right target",pointerEvents:"all",x:O(_-(T?Y:Y*1.5)),y:O(E-(j?q:q*1.5)),width:O(Y*3),height:O(q*3),style:y?{cursor:es("nwse-resize",n)}:void 0,...u}),f.jsx("rect",{className:me("tl-transparent",{"tl-hidden":ln}),"data-testid":"selection.target.bottom-left","aria-label":"bottom-left target",pointerEvents:"all",x:O(0-(T?Y*3:Y*1.5)),y:O(E-(j?0:q*1.5)),width:O(Y*3),height:O(q*3),style:y?{cursor:es("nesw-resize",n)}:void 0,...p}),re&&f.jsxs(f.Fragment,{children:[f.jsx("rect",{"data-testid":"selection.resize.top-left",className:me("tl-corner-handle",{"tl-hidden":at}),"aria-label":"top_left handle",x:O(0-I/2),y:O(0-I/2),width:O(I),height:O(I)}),f.jsx("rect",{"data-testid":"selection.resize.top-right",className:me("tl-corner-handle",{"tl-hidden":Lt}),"aria-label":"top_right handle",x:O(_-I/2),y:O(0-I/2),width:O(I),height:O(I)}),f.jsx("rect",{"data-testid":"selection.resize.bottom-right",className:me("tl-corner-handle",{"tl-hidden":He}),"aria-label":"bottom_right handle",x:O(_-I/2),y:O(E-I/2),width:O(I),height:O(I)}),f.jsx("rect",{"data-testid":"selection.resize.bottom-left",className:me("tl-corner-handle",{"tl-hidden":ln}),"aria-label":"bottom_left handle",x:O(0-I/2),y:O(E-I/2),width:O(I),height:O(I)})]}),bl&&f.jsxs(f.Fragment,{children:[f.jsx("rect",{"data-testid":"selection.text-resize.left.handle",className:"tl-text-handle","aria-label":"bottom_left handle",x:O(0-I/4),y:O(E/2-Qs/2),rx:I/4,width:O(I/2),height:O(Qs)}),f.jsx("rect",{"data-testid":"selection.text-resize.right.handle",className:"tl-text-handle","aria-label":"bottom_left handle",rx:I/4,x:O(_-I/4),y:O(E/2-Qs/2),width:O(I/2),height:O(Qs)})]}),G&&f.jsx(nte,{size:I,width:_,height:E,hideAlternateHandles:ht})]})})}),Mg=function({cx:t,cy:n,targetSize:r,corner:s,cursor:o,isHidden:a,"data-testid":i}){const l=jo(s);return f.jsx("rect",{className:me("tl-transparent","tl-rotate-corner",{"tl-hidden":a}),"data-testid":i,"aria-label":`${s} target`,pointerEvents:"all",x:O(t-r*3),y:O(n-r*3),width:O(Math.max(1,r*3)),height:O(Math.max(1,r*3)),cursor:o,...l})},rte=Math.sqrt(Math.PI),ste=function({cx:t,cy:n,size:r,isHidden:s,"data-testid":o}){const a=jo("mobile_rotate"),i=H(),l=J("zoom level",()=>i.getZoomLevel(),[i]),c=Math.max(14*(1/l),20/Math.max(1,l));return f.jsxs("g",{children:[f.jsx("circle",{"data-testid":o,pointerEvents:"all",className:me("tl-transparent","tl-mobile-rotate__bg",{"tl-hidden":s}),cx:t,cy:n,r:c,...a}),f.jsx("circle",{className:me("tl-mobile-rotate__fg",{"tl-hidden":s}),cx:t,cy:n,r:r/rte})]})},Xn={lineHeight:1.35,fontWeight:"normal",fontVariant:"normal",fontStyle:"normal",padding:"0px"},fr={s:2,m:3.5,l:5,xl:10},Ni={s:18,m:24,l:36,xl:44},gh={s:18,m:22,l:26,xl:32},vi={s:18,m:20,l:24,xl:28},Ra={draw:"var(--tl-font-draw)",sans:"var(--tl-font-sans)",serif:"var(--tl-font-serif)",mono:"var(--tl-font-mono)"};var Pz={exports:{}};(function(e){(function(t,n){e.exports?e.exports=n():t.downscale=n()})(Un,function(){function t(I,w,S,v,k,C,_,E){var I=document.createElement("canvas");I.width=S,I.height=v;var z=I.getContext("2d");return z.mozImageSmoothingEnabled=!0,z.imageSmoothingQuality="high",z.webkitImageSmoothingEnabled=!0,z.msImageSmoothingEnabled=!0,z.imageSmoothingEnabled=!0,z.drawImage(w,k,C,_,E,0,0,S,v),I}function n(x){return x+.49<<0}function r(x,w,S,v,k,C,_){for(var E=new ImageData(w,S),I=new Int32Array(x.data.buffer),z=x.width,A=new Int32Array(E.data.buffer),T=E.width,j=w/C,R=S/_,M=n(1/j),D=n(1/R),U=M*D,Y=0;Y<E.height;Y++)for(var q=0;q<T;q++){for(var K=v+n(q/j)+(k+n(Y/R))*z,W=0,G=0,ne=0,ce=0,Le=0;Le<D;Le++)for(var re=0;re<M;re++){var Pe=I[K+re+Le*z];W+=Pe<<24>>>24,G+=Pe<<16>>>24,ne+=Pe<<8>>>24,ce+=Pe>>>24}W=n(W/U),G=n(G/U),ne=n(ne/U),ce=n(ce/U),A[q+Y*T]=ce<<24|ne<<16|G<<8|W}return E}function s(x,w,S,v){var k=new Date,C={},_=k,E="01";return{mark:x?function(I){I=E+". "+(I||"..."),C[I]={"time (ms)":new Date-_},_=new Date,E=("0"+((E>>0)+1)).substr(-2)}:new Function,finish:x?function(){C[E+" TOTAL"]={"time (ms)":new Date-k},console.log("IMAGE SOURCE:",w),console.log("DOWNSCALE TO:",S+"x"+v),console.table(C)}:new Function}}function o(){var x=[],w=[],S=[],v=new Object;return{createSetter:function(k){if(!this.get(k)){var C=x.push(k)-1;return w.push(v),S.push([]),function(_){w[C]=_,S[C]=S[C].reduce(function(E,I){I(_)},[])}}},get:function(k,C){var _=x.indexOf(k);if(~_){if(w[_]===v){S[_].push(C);return}C(w[_])}},has:function(k){return!!~x.indexOf(k)}}}function a(x,w,S,v){x.width=S,x.height=v;var k=x.getContext("2d");return k.drawImage(w,0,0),k.getImageData(0,0,S,v)}function i(x,w){x.width=w.width,x.height=w.height;var S=x.getContext("2d");return S.putImageData(w,0,0),x}function l(x,w,A,T,k,C){var _=k,E=C,I=k/C;x===0&&(x=w*I>>0),w===0&&(w=x/I>>0);var z=x/w;z>I?C=k/z>>0:k=C*z>>0;var A=A||(_-k)/2>>0,T=T||(E-C)/2>>0;return{destWidth:x,destHeight:w,sourceX:A,sourceY:T,sourceWidth:k,sourceHeight:C}}function c(x,w,S){if(w.returnCanvas){S(x);return}if(w.returnBlob){x.toBlob(S,"image/"+(w.imageType||"jpeg"),w.quality||.85);return}var v=x.toDataURL("image/"+(w.imageType||"jpeg"),w.quality||.85);S(v)}function d(x,w){var S=new XMLHttpRequest;S.open("GET",x),S.responseType="arraybuffer",S.addEventListener("load",function(){w(this.response)}),S.send()}function h(x,w){x.complete?w():x.addEventListener("load",w)}function u(x,w){x.readyState>1?w():x.addEventListener("loadeddata",w)}function p(x){if(x instanceof File)return"File";if(x instanceof HTMLImageElement)return"HTMLImageElement";if(x instanceof HTMLVideoElement)return"HTMLVideoElement";if(typeof x=="string")return"URL"}function y(x){if(x.length<3)return new TypeError("3 arguments required, but only "+x.length+" present.");if(!p(x[0]))return new TypeError("First argument should be HTMLImageElement, HTMLVideoElement, File of String");if(typeof x[1]!="number")return new TypeError("Second argument should be a number");if(typeof x[2]!="number")return new TypeError("Third argument should be a number")}function g(x,w,S,v){var k=s(v&&v.debug||!1,x,w,S),C=y(arguments);if(C instanceof TypeError)return Promise.reject(C);v=v||{};var _,E=new Promise(function(R,M){_=R});g.canvas=g.canvas||document.createElement("canvas"),g.cache=g.cache||o();var I=g.canvas,z=g.cache;if(z.has(x))return k.mark(),z.get(x,function(R){k.mark("PENDING CACHE");var M=R[0],D=R[1],U=l(w,S,v.sourceX,v.sourceY,D.width,D.height);if(U.sourceWidth/U.destWidth>=2&&U.sourceHeight/U.destHeight>=2){k.mark();var Y=r(D,U.destWidth,U.destHeight,U.sourceX,U.sourceY,U.sourceWidth,U.sourceHeight);k.mark("DOWNSCALE"),I=i(I,Y)}else I=t(I,M,U.destWidth,U.destHeight,U.sourceX,U.sourceY,U.sourceWidth,U.sourceHeight),k.mark("RESIZE WITH CANVAS");c(I,v,function(q){k.mark("PRODUCE RESULT"),_(q),k.finish()})}),E;var A=function(R,M,D){var U=l(w,S,v.sourceX,v.sourceY,M,D);if(U.sourceWidth/U.destWidth>=2&&U.sourceHeight/U.destHeight>=2){k.mark();var Y=a(I,R,M,D);k.mark("GET IMAGE DATA");var q=r(Y,U.destWidth,U.destHeight,U.sourceX,U.sourceY,U.sourceWidth,U.sourceHeight);k.mark("DOWNSCALE"),I=i(I,q),p(R)!=="HTMLVideoElement"&&z.createSetter(R)([R,Y])}else I=t(I,R,U.destWidth,U.destHeight,U.sourceX,U.sourceY,U.sourceWidth,U.sourceHeight),k.mark("RESIZE WITH CANVAS");c(I,v,function(K){k.mark("PRODUCE RESULT"),_(K),k.finish()})},T=window.URL||window.webkitURL;switch(p(x)){case"File":var j=document.createElement("img");k.mark(),j.src=T.createObjectURL(x),k.mark("READ FILE"),h(j,function(){k.mark("LOAD IMAGE"),A(j,j.naturalWidth,j.naturalHeight)});break;case"HTMLImageElement":k.mark(),h(x,function(){k.mark("LOAD IMAGE"),A(x,x.naturalWidth,x.naturalHeight)});break;case"HTMLVideoElement":u(x,function(){A(x,x.videoWidth,x.videoHeight)});break;case"URL":k.mark(),setTimeout(function(){d(x,function(R){k.mark("LOAD ARRAY BUFFER");var M=new Uint8Array(R),D=new Blob([M],{type:"image/jpeg"}),U=document.createElement("img");U.src=T.createObjectURL(D),k.mark(),h(U,function(){k.mark("LOAD IMAGE"),A(U,U.naturalWidth,U.naturalHeight)})})});break}return E}return g})})(Pz);var ote=Pz.exports;const ate=_c(ote);/*!
 * canvas-size
 * v1.2.6
 * https://github.com/jhildenbiddle/canvas-size
 * (c) 2015-2023 John Hildenbiddle <http://hildenbiddle.com>
 * MIT license
 */function ite(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,o,a,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(d){c=!0,s=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return i}}function R4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ns(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?R4(Object(n),!0).forEach(function(r){lte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lte(e,t,n){return t=yte(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cte(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,o;for(o=0;o<r.length;o++)s=r[o],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function dte(e,t){if(e==null)return{};var n=cte(e,t),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)r=o[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function $4(e,t){return ute(e)||ite(e,t)||zz(e,t)||gte()}function jg(e){return hte(e)||pte(e)||zz(e)||fte()}function hte(e){if(Array.isArray(e))return Xw(e)}function ute(e){if(Array.isArray(e))return e}function pte(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zz(e,t){if(e){if(typeof e=="string")return Xw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xw(e,t)}}function Xw(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mte(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yte(e){var t=mte(e,"string");return typeof t=="symbol"?t:String(t)}function lp(e){var t=e.sizes.shift(),n=Math.max(Math.ceil(t[0]),1),r=Math.max(Math.ceil(t[1]),1),s=[n-1,r-1,1,1],o=Date.now(),a=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,i,l;a?(i=new OffscreenCanvas(1,1),l=new OffscreenCanvas(n,r)):(i=document.createElement("canvas"),i.width=1,i.height=1,l=document.createElement("canvas"),l.width=n,l.height=r);var c=i.getContext("2d"),d=l.getContext("2d");d&&(d.fillRect.apply(d,s),c.drawImage(l,n-1,r-1,1,1,0,0,1,1));var h=c&&c.getImageData(0,0,1,1).data[3]!==0,u=Date.now()-o;return[i,l].forEach(function(p){p.height=0,p.width=0}),a?(postMessage({width:n,height:r,benchmark:u,isTestPass:h}),!h&&e.sizes.length&&lp(e)):h?e.onSuccess(n,r,u):(e.onError(n,r,u),e.sizes.length&&lp(e)),h}var kx={area:[16384,14188,11402,11180,10836,8192,4096,1],height:[8388607,65535,32767,16384,8192,4096,1],width:[4194303,65535,32767,16384,8192,4096,1]},xte=["onError","onSuccess"],zd={max:null,min:1,sizes:[],step:1024,usePromise:!1,useWorker:!1,onError:Function.prototype,onSuccess:Function.prototype},pu={};function Cx(e){var t=e.width===e.height,n=e.height===1,r=e.width===1,s=[];if(!e.width||!e.height)e.sizes.forEach(function(d){var h=t||n?d:1,u=t||r?d:1;s.push([h,u])});else for(var o=e.min||zd.min,a=e.step||zd.step,i=Math.max(e.width,e.height);i>=o;){var l=t||n?i:1,c=t||r?i:1;s.push([l,c]),i-=a}return s}function Rg(e){var t=window&&"HTMLCanvasElement"in window,n=window&&"OffscreenCanvas"in window,r=Date.now(),s=e.onError,o=e.onSuccess,a=dte(e,xte),i=null;if(!t)return!1;if(e.useWorker&&n){var l=`
            var canvasTest = `.concat(lp.toString(),`;
            onmessage = function(e) {
                canvasTest(e.data);
            };
        `),c=new Blob([l],{type:"application/javascript"}),d=URL.createObjectURL(c);i=new Worker(d),URL.revokeObjectURL(d),i.onmessage=function(h){var u=h.data,p=u.width,y=u.height,g=u.benchmark,x=u.isTestPass;x?(pu[r].onSuccess(p,y,g),delete pu[r]):pu[r].onError(p,y,g)}}if(e.usePromise)return new Promise(function(h,u){var p=ns(ns({},e),{},{onError:function(w,S,v){var k;if(e.sizes.length===0)k=!0;else{var C=e.sizes.slice(-1),_=$4(C,1),E=$4(_[0],2),I=E[0],z=E[1];k=w===I&&S===z}s(w,S,v),k&&u({width:w,height:S,benchmark:v})},onSuccess:function(w,S,v){o(w,S,v),h({width:w,height:S,benchmark:v})}});if(i){var y=p.onError,g=p.onSuccess;pu[r]={onError:y,onSuccess:g},i.postMessage(a)}else lp(p)});if(i)pu[r]={onError:s,onSuccess:o},i.postMessage(a);else return lp(e)}var _x={maxArea:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=Cx({width:t.max,height:t.max,min:t.min,step:t.step,sizes:jg(kx.area)}),r=ns(ns(ns({},zd),t),{},{sizes:n});return Rg(r)},maxHeight:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=Cx({width:1,height:t.max,min:t.min,step:t.step,sizes:jg(kx.height)}),r=ns(ns(ns({},zd),t),{},{sizes:n});return Rg(r)},maxWidth:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=Cx({width:t.max,height:1,min:t.min,step:t.step,sizes:jg(kx.width)}),r=ns(ns(ns({},zd),t),{},{sizes:n});return Rg(r)},test:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=ns(ns({},zd),t);return n.sizes=jg(n.sizes),n.width&&n.height&&(n.sizes=[[n.width,n.height]]),Rg(n)}};let Ex=null;function Az(){return Ex||(Ex=wte()),Ex}async function wte(){const e=await _x.maxWidth({usePromise:!0}),t=await _x.maxHeight({usePromise:!0}),n=await _x.maxArea({usePromise:!0});return{maxWidth:e.width,maxHeight:t.height,maxArea:n.width*n.height}}function O4(e,t){let n=0;for(;e[t+n];)n+=e[t+n]+1;return n+1}function Ste(e){return new TextDecoder("ascii").decode(e.slice(0,3))==="GIF"}function bte(e){const t=new Uint8Array(e);let n,r,s=0,o=0;if(!Ste(e))return!1;for(n=t[10]&128,r=t[10]&7,s+=6,s+=7,s+=n?3*Math.pow(2,r+1):0;o<2&&s<t.length;)switch(t[s]){case 44:o+=1,n=t[s+9]&128,r=t[s+9]&7,s+=10,s+=n?3*Math.pow(2,r+1):0,s+=O4(t,s+1)+1;break;case 33:s+=2,s+=O4(t,s);break;case 59:s=t.length;break;default:s=t.length;break}return o>1}function vte(e,t){const n=e.w/t.w,r=e.h/t.h;return n<=1&&r<=1?e:n>r?{w:e.w/n,h:e.h/n}:{w:e.w/r,h:e.h/r}}async function kte(e,t,n,r={}){let s=t*2,o=n*2;const{type:a="image/jpeg",quality:i=.92}=r,l=await Az(),c=t/n;if(s>l.maxWidth&&(s=l.maxWidth,o=s/c),o>l.maxHeight&&(o=l.maxHeight,s=o*c),s*o>l.maxArea){const d=Math.sqrt(l.maxArea/(s*o));s*=d,o*=d}return await ate(e,s,o,{imageType:a.replace("image/",""),quality:i})}async function Cte(e){return await new Promise((t,n)=>{const r=new FileReader;r.onerror=()=>n(r.error),r.onload=()=>{t(r.result?bte(r.result):!1)},r.readAsArrayBuffer(e)})}function _te(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Ete(e){const t=new URL(e).host.replace("www.","");for(const n of ph)if(Nz(n.hostnames,t)){const r=n.fromEmbedUrl(e);if(r)return{definition:n,url:r,embedUrl:e}}}const Ite=e=>e.split("*").map(t=>_te(t)).join(".+"),Nz=(e,t)=>!!e.find(n=>{const r=new RegExp(Ite(n));return t.match(r)});function Pte(e){const t=new URL(e).host.replace("www.","");for(const n of ph)if(Nz(n.hostnames,t)){const r=n.toEmbedUrl(e);if(r)return{definition:n,embedUrl:r,url:e}}}function Tz(e){return Pte(e)??Ete(e)}function Na(e){try{return Tz(e)}catch(t){console.error(t)}}const Ad="  ",Er=class Er{static insertTextFirefox(t,n){t.setRangeText(n,t.selectionStart||0,t.selectionEnd||0,"end"),t.dispatchEvent(new InputEvent("input",{data:n,inputType:"insertText",isComposing:!1}))}static insert(t,n){const r=t.ownerDocument,s=r.activeElement;s!==t&&t.focus(),r.execCommand("insertText",!1,n)||Er.insertTextFirefox(t,n),s===r.body?t.blur():s instanceof HTMLElement&&s!==t&&s.focus()}static set(t,n){t.select(),Er.insert(t,n)}static getSelection(t){const{selectionStart:n,selectionEnd:r}=t;return t.value.slice(n||void 0,r||void 0)}static wrapSelection(t,n,r){const{selectionStart:s,selectionEnd:o}=t,a=Er.getSelection(t);Er.insert(t,n+a+(r??n)),t.selectionStart=(s||0)+n.length,t.selectionEnd=(o||0)+n.length}static replace(t,n,r){let s=0;t.value.replace(n,(...o)=>{const a=s+o[o.length-2],i=o[0].length;t.selectionStart=a,t.selectionEnd=a+i;const l=typeof r=="string"?r:r(...o);return Er.insert(t,l),t.selectionStart=a,s+=l.length-i,l})}static findLineEnd(t,n){const r=t.lastIndexOf(`
`,n-1)+1;return t.charAt(r)!=="	"?n:r+1}static indent(t){var i;const{selectionStart:n,selectionEnd:r,value:s}=t,o=s.slice(n,r),a=(i=/\n/g.exec(o))==null?void 0:i.length;if(a&&a>0){const l=s.lastIndexOf(`
`,n-1)+1,c=t.value.slice(l,r-1),d=c.replace(/^|\n/g,`$&${Ad}`),h=d.length-c.length;t.setSelectionRange(l,r-1),Er.insert(t,d),t.setSelectionRange(n+1,r+h)}else Er.insert(t,Ad)}static unindent(t){const{selectionStart:n,selectionEnd:r,value:s}=t,o=s.lastIndexOf(`
`,n-1)+1,a=Er.findLineEnd(s,r),i=t.value.slice(o,a),l=i.replace(/(^|\n)(\t| {1,2})/g,"$1"),c=i.length-l.length;t.setSelectionRange(o,a),Er.insert(t,l);const d=/\t| {1,2}/.exec(s.slice(o,n)),h=d?d[0].length:0,u=n-h;t.setSelectionRange(n-h,Math.max(u,r-c))}static indentCE(t){var l;const n=window.getSelection(),r=t.innerText,s=$g(t)??0,o=$g(t)??0,a=r.slice(s,o),i=(l=/\n/g.exec(a))==null?void 0:l.length;if(i&&i>0){const c=r.lastIndexOf(`
`,s-1)+1,d=r.slice(c,o-1),u=d.replace(/^|\n/g,`$&${Ad}`).length-d.length;n&&n.setBaseAndExtent(t,s+1,t,o+u)}else{const c=window.getSelection();t.innerText=r.slice(0,s)+Ad+r.slice(s),c==null||c.setBaseAndExtent(t,s+1,t,s+2)}}static unindentCE(t){const n=window.getSelection(),r=t.innerText,s=$g(t)??0,o=$g(t)??0,a=r.lastIndexOf(`
`,s-1)+1,i=Er.findLineEnd(r,o),l=r.slice(a,i),c=l.replace(/(^|\n)(\t| {1,2})/g,"$1"),d=l.length-c.length;if(n){n.setBaseAndExtent(t,a,t,i);const h=/\t| {1,2}/.exec(r.slice(a,s)),u=h?h[0].length:0,p=s-u;n.setBaseAndExtent(t,s-u,t,Math.max(p,o-d))}}static normalizeText(t){return t.replace(Er.fixNewLines,`
`)}static normalizeTextForDom(t){return t.replace(Er.fixNewLines,`
`).split(`
`).map(n=>n||" ").join(`
`)}};m(Er,"fixNewLines",/\r?\n|\r/g);let Oi=Er;function $g(e){if(typeof window.getSelection>"u")return;const t=window.getSelection();if(!t)return;let n=0;if(t.rangeCount!==0){const r=t.getRangeAt(0),s=r.cloneRange();s.selectNodeContents(e),s.setEnd(r.endContainer,r.endOffset),n=s.toString().length}return n}const zte=/[\u0590-\u05FF\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]/;function Ate(e){return zte.test(e)}function Nte(e){return e.replace(/\t/g,Ad)}function Tte(e){const t=e.split(`
`);for(;t[0]&&t[0].trim().length===0;)t.shift();let n=1/0;for(const r of t)if(r.trim().length>0){const s=r.length-r.trimStart().length;n=Math.min(n,s)}return t.map(r=>r.slice(n)).join(`
`)}function Lte(e){return e.replace(/[ \t]+$/gm,"").replace(/\n+$/,"")}function Mte(e){return Lte(Tte(Nte(e)))}const cp=(e,t)=>e.length<=t?e:e.substring(0,t-3)+"...";function jte(e,{maxImageDimension:t,maxAssetSize:n,acceptedImageMimeTypes:r,acceptedVideoMimeTypes:s}){e.registerExternalAssetHandler("file",async({file:o})=>await new Promise((a,i)=>{!r.includes(o.type)&&!s.includes(o.type)&&(console.warn(`File type not allowed: ${o.type}`),i()),o.size>n&&(console.warn(`File size too big: ${(o.size/1024).toFixed()}kb > ${(n/1024).toFixed()}kb`),i());const l=new FileReader;l.onerror=()=>i(l.error),l.onload=async()=>{let c=l.result;o.type==="video/quicktime"&&c.includes("video/quicktime")&&(c=c.replace("video/quicktime","video/mp4"));const d=r.includes(o.type);let h,u;if(d?(h=await Gm.getImageSizeFromSrc(c),u=o.type==="image/gif"&&await Cte(o)):(u=!0,h=await Gm.getVideoSizeFromSrc(c)),isFinite(t)){const g=vte(h,{w:t,h:t});h!==g&&(o.type==="image/jpeg"||o.type==="image/png")&&(h=g)}(o.type==="image/jpeg"||o.type==="image/png")&&(c=await kte(c,h.w,h.h,{type:o.type,quality:.92}));const p=Ul.createId(M0(c)),y=Ul.create({id:p,type:d?"image":"video",typeName:"asset",props:{name:o.name,src:c,w:h.w,h:h.h,mimeType:o.type,isAnimated:u}});a(y)},l.readAsDataURL(o)})),e.registerExternalAssetHandler("url",async({url:o})=>{var i,l,c;let a;try{const h=await(await fetch(o,{method:"GET",mode:"no-cors"})).text(),u=new DOMParser().parseFromString(h,"text/html");a={image:((i=u.head.querySelector('meta[property="og:image"]'))==null?void 0:i.getAttribute("content"))??"",title:((l=u.head.querySelector('meta[property="og:title"]'))==null?void 0:l.getAttribute("content"))??cp(o,32),description:((c=u.head.querySelector('meta[property="og:description"]'))==null?void 0:c.getAttribute("content"))??""}}catch(d){console.error(d),a={image:"",title:cp(o,32),description:""}}return{id:Ul.createId(M0(o)),typeName:"asset",type:"bookmark",props:{src:o,description:a.description,image:a.image,title:a.title},meta:{}}}),e.registerExternalContentHandler("svg-text",async({point:o,text:a})=>{const i=o??(e.inputs.shiftKey?e.inputs.currentPagePoint:e.getViewportPageCenter()),l=new DOMParser().parseFromString(a,"image/svg+xml").querySelector("svg");if(!l)throw new Error("No <svg/> element present");let c=parseFloat(l.getAttribute("width")||"0"),d=parseFloat(l.getAttribute("height")||"0");if(!(c&&d)){document.body.appendChild(l);const u=l.getBoundingClientRect();document.body.removeChild(l),c=u.width,d=u.height}const h=await e.getAssetForExternalContent({type:"file",file:new File([a],"asset.svg",{type:"image/svg+xml"})});if(!h)throw Error("Could not create an asset");D4(e,[h],i)}),e.registerExternalContentHandler("embed",({point:o,url:a,embed:i})=>{const l=o??(e.inputs.shiftKey?e.inputs.currentPagePoint:e.getViewportPageCenter()),{width:c,height:d}=i,h=gt(),u={id:h,type:"embed",x:l.x-(c||450)/2,y:l.y-(d||450)/2,props:{w:c,h:d,url:a}};e.createShapes([u]).select(h)}),e.registerExternalContentHandler("files",async({point:o,files:a})=>{const i=o??(e.inputs.shiftKey?e.inputs.currentPagePoint:e.getViewportPageCenter()),l=new P(i.x,i.y),c=[];await Promise.all(a.map(async(d,h)=>{if(d.size>n)return console.warn(`File size too big: ${(d.size/1024).toFixed()}kb > ${(n/1024).toFixed()}kb`),null;if(!d.type)throw new Error("No mime type");if(!r.concat(s).includes(d.type))return console.warn(`${d.name} not loaded - Extension not allowed.`),null;try{const u=await e.getAssetForExternalContent({type:"file",file:d});if(!u)throw Error("Could not create an asset");c[h]=u}catch(u){return console.error(u),null}})),D4(e,ze(c),l)}),e.registerExternalContentHandler("text",async({point:o,text:a})=>{const i=o??(e.inputs.shiftKey?e.inputs.currentPagePoint:e.getViewportPageCenter()),l=e.getShapeUtil("text").getDefaultProps(),c=Mte(a);let d,h,u,p="middle";const y=c.split(`
`).length>1,g=Ate(c);y&&(p=y?g?"end":"start":"middle");const x=e.textMeasure.measureText(c,{...Xn,fontFamily:Ra[l.font],fontSize:Ni[l.size],maxWidth:null}),w=Math.min(y?e.getViewportPageBounds().width*.9:920,Math.max(200,e.getViewportPageBounds().width*.9));if(x.w>w){const S=e.textMeasure.measureText(c,{...Xn,fontFamily:Ra[l.font],fontSize:Ni[l.size],maxWidth:w});d=S.w,h=S.h,u=!1,p=g?"end":"start"}else d=x.w,h=x.h,u=!0;i.y-h/2<e.getViewportPageBounds().minY+40&&(i.y=e.getViewportPageBounds().minY+40+h/2),e.createShapes([{id:gt(),type:"text",x:i.x-d/2,y:i.y-h/2,props:{text:c,align:p,autoSize:u,w:d}}])}),e.registerExternalContentHandler("url",async({point:o,url:a})=>{const i=Na(a);if(i)return e.putExternalContent({type:"embed",url:i.url,point:o,embed:i.definition});const l=o??(e.inputs.shiftKey?e.inputs.currentPagePoint:e.getViewportPageCenter()),c=Ul.createId(M0(a)),d=Rte(e,a,l);let h=e.getAsset(c),u=!1;if(!h){u=!0;const p=await e.getAssetForExternalContent({type:"url",url:a});if(!p)throw Error("Could not create an asset");h=p}e.batch(()=>{u&&e.createAssets([h]),e.updateShapes([{id:d.id,type:d.type,props:{assetId:h.id}}])})})}async function D4(e,t,n){if(!t.length)return[];const r=P.From(n),s=[];for(const o of t)switch(o.type){case"bookmark":{s.push({id:gt(),type:"bookmark",x:r.x-150,y:r.y-160,opacity:1,props:{assetId:o.id,url:o.props.src}}),r.x+=300;break}case"image":{s.push({id:gt(),type:"image",x:r.x-o.props.w/2,y:r.y-o.props.h/2,opacity:1,props:{assetId:o.id,w:o.props.w,h:o.props.h}}),r.x+=o.props.w;break}case"video":s.push({id:gt(),type:"video",x:r.x-o.props.w/2,y:r.y-o.props.h/2,opacity:1,props:{assetId:o.id,w:o.props.w,h:o.props.h}}),r.x+=o.props.w}return e.batch(()=>{const o=t.filter(a=>!e.getAsset(a.id));o.length&&e.createAssets(o),e.createShapes(s).select(...s.map(a=>a.id)),Lz(e,n)}),s.map(o=>o.id)}function Lz(e,t){const n=e.getViewportPageBounds();let r=e.getSelectionPageBounds();if(r){const s=r.center.sub(t);e.updateShapes(e.getSelectedShapes().map(o=>{const a=e.getShapeParentTransform(o).decompose().rotation,i=P.Rot(s,-a);return{id:o.id,type:o.type,x:o.x-i.x,y:o.y-i.y}}))}r=e.getSelectionPageBounds(),r&&!n.contains(r)&&e.zoomToSelection()}function Rte(e,t,n){const r={id:gt(),type:"bookmark",x:n.x-150,y:n.y-160,opacity:1,props:{assetId:null,url:t}};return e.batch(()=>{e.createShapes([r]).select(r.id),Lz(e,n)}),e.getShape(r.id)}var U5;let $te=(U5=class extends he{constructor(){super(...arguments);m(this,"onPointerDown",n=>{this.parent.transition("pointing",n)});m(this,"onEnter",()=>{this.editor.setCursor({type:"cross",rotation:0})});m(this,"onCancel",()=>{this.editor.setCurrentTool("select")});m(this,"onKeyUp",n=>{var r;if(n.key==="Enter"){if(this.editor.getInstanceState().isReadonly)return null;const s=this.editor.getOnlySelectedShape();s&&this.editor.getShapeUtil(s).canEdit(s)&&(this.editor.setCurrentTool("select"),this.editor.setEditingShape(s.id),(r=this.editor.root.getCurrent())==null||r.transition("editing_shape",{...n,target:"shape",shape:s}))}})}},m(U5,"id","idle"),U5);var V5;let Ote=(V5=class extends he{constructor(){super(...arguments);m(this,"shape");m(this,"markId","");m(this,"onEnter",()=>{this.didTimeout=!1;const n=this.editor.getShapeAtPoint(this.editor.inputs.currentPagePoint,{filter:r=>!r.isLocked&&this.editor.getShapeUtil(r).canBind(r),margin:0,hitInside:!0,renderingOnly:!0});n?this.editor.setHintingShapes([n.id]):this.createArrowShape(),this.startPreciseTimeout()});m(this,"onExit",()=>{this.shape=void 0,this.editor.setHintingShapes([]),this.clearPreciseTimeout()});m(this,"onPointerMove",()=>{if(this.editor.inputs.isDragging){if(this.shape||this.createArrowShape(),!this.shape)throw Error("expected shape");this.updateArrowShapeEndHandle(),this.editor.setCurrentTool("select.dragging_handle",{shape:this.shape,handle:this.editor.getShapeHandles(this.shape).find(n=>n.id==="end"),isCreating:!0,onInteractionEnd:"arrow"})}});m(this,"onPointerUp",()=>{this.cancel()});m(this,"onCancel",()=>{this.cancel()});m(this,"onComplete",()=>{this.cancel()});m(this,"onInterrupt",()=>{this.cancel()});m(this,"preciseTimeout",-1);m(this,"didTimeout",!1)}cancel(){this.shape&&this.editor.bailToMark(this.markId),this.editor.setHintingShapes([]),this.parent.transition("idle")}createArrowShape(){var d,h;const{originPagePoint:n}=this.editor.inputs,r=gt();this.markId=`creating:${r}`,this.editor.mark(this.markId),this.editor.createShapes([{id:r,type:"arrow",x:n.x,y:n.y}]);const s=this.editor.getShape(r);if(!s)throw Error("expected shape");const o=this.editor.getShapeHandles(s);if(!o)throw Error("expected handles for arrow");const a=this.editor.getShapeUtil("arrow"),i=this.shape,l=o.find(u=>u.id==="start"),c=(d=a.onHandleChange)==null?void 0:d.call(a,s,{handle:{...l,x:0,y:0},isPrecise:!0,initial:i});if(c){const u=(h=c.props)==null?void 0:h.start;(u==null?void 0:u.type)==="binding"&&this.editor.setHintingShapes([u.boundShapeId]),this.editor.updateShapes([c],{squashing:!0})}this.shape=this.editor.getShape(r),this.editor.select(r)}updateArrowShapeEndHandle(){var o,a,i;const n=this.shape;if(!n)throw Error("expected shape");const r=this.editor.getShapeHandles(n);if(!r)throw Error("expected handles for arrow");const s={...n,props:{...n.props,end:{...n.props.end,x:0,y:0}}};{const l=this.editor.getShapeUtil("arrow"),c=this.shape,d=this.editor.getPointInShapeSpace(n,this.editor.inputs.currentPagePoint),h=r.find(p=>p.id==="end"),u=(o=l.onHandleChange)==null?void 0:o.call(l,s,{handle:{...h,x:d.x,y:d.y},isPrecise:!1,initial:c});if(u){const p=(a=u.props)==null?void 0:a.end;(p==null?void 0:p.type)==="binding"&&this.editor.setHintingShapes([p.boundShapeId]),this.editor.updateShapes([u],{squashing:!0})}}{const l=this.editor.getShapeUtil("arrow"),c=this.shape,d=r.find(u=>u.id==="start"),h=(i=l.onHandleChange)==null?void 0:i.call(l,s,{handle:{...d,x:0,y:0},isPrecise:this.didTimeout,initial:c});h&&this.editor.updateShapes([h],{squashing:!0})}this.shape=this.editor.getShape(n.id)}startPreciseTimeout(){this.preciseTimeout=window.setTimeout(()=>{this.getIsActive()&&(this.didTimeout=!0)},320)}clearPreciseTimeout(){clearTimeout(this.preciseTimeout)}},m(V5,"id","pointing"),V5);class F0 extends he{constructor(){super(...arguments);m(this,"shapeType","arrow")}}m(F0,"id","arrow"),m(F0,"initial","idle"),m(F0,"children",()=>[$te,Ote]);class L9 extends he{constructor(){super(...arguments);m(this,"info",{});m(this,"initialShape");m(this,"shapeType",this.parent.id==="highlight"?"highlight":"draw");m(this,"util",this.editor.getShapeUtil(this.shapeType));m(this,"isPen",!1);m(this,"segmentMode","free");m(this,"didJustShiftClickToExtendPreviousShapeLine",!1);m(this,"pagePointWhereCurrentSegmentChanged",{});m(this,"pagePointWhereNextSegmentChanged",null);m(this,"lastRecordedPoint",{});m(this,"mergeNextPoint",!1);m(this,"currentLineLength",0);m(this,"canDraw",!1);m(this,"markId",null);m(this,"onEnter",n=>{this.markId=null,this.info=n,this.canDraw=!this.editor.getIsMenuOpen(),this.lastRecordedPoint=this.editor.inputs.currentPagePoint.clone(),this.canDraw&&this.startShape()});m(this,"onPointerMove",()=>{const{editor:{inputs:n}}=this;if(this.isPen!==n.isPen){if(this.markId){this.editor.bailToMark(this.markId),this.startShape();return}}else!this.canDraw&&n.isDragging&&(this.startShape(),this.canDraw=!0);this.canDraw&&(n.isPen?P.Dist(n.currentPagePoint,this.lastRecordedPoint)>=1/this.editor.getZoomLevel()?(this.lastRecordedPoint=n.currentPagePoint.clone(),this.mergeNextPoint=!1):this.mergeNextPoint=!0:this.mergeNextPoint=!1,this.updateShapes())});m(this,"onKeyDown",n=>{if(n.key==="Shift")switch(this.segmentMode){case"free":{this.segmentMode="starting_straight",this.pagePointWhereNextSegmentChanged=this.editor.inputs.currentPagePoint.clone();break}case"starting_free":this.segmentMode="starting_straight"}this.updateShapes()});m(this,"onKeyUp",n=>{if(n.key==="Shift")switch(this.editor.snaps.clear(),this.segmentMode){case"straight":{this.segmentMode="starting_free",this.pagePointWhereNextSegmentChanged=this.editor.inputs.currentPagePoint.clone();break}case"starting_straight":{this.pagePointWhereNextSegmentChanged=null,this.segmentMode="free";break}}this.updateShapes()});m(this,"onExit",()=>{this.editor.snaps.clear(),this.pagePointWhereCurrentSegmentChanged=this.editor.inputs.currentPagePoint.clone()});m(this,"onPointerUp",()=>{this.complete()});m(this,"onCancel",()=>{this.cancel()});m(this,"onComplete",()=>{this.complete()});m(this,"onInterrupt",()=>{this.editor.inputs.isDragging||(this.markId&&this.editor.bailToMark(this.markId),this.cancel())})}canClose(){return this.shapeType!=="highlight"}getIsClosed(n,r){if(!this.canClose())return!1;const s=fr[r],o=n[0].points[0],a=n[n.length-1],i=a.points[a.points.length-1];return o!==i&&this.currentLineLength>s*4&&P.Dist(o,i)<s*2}startShape(){const{inputs:{originPagePoint:n,isPen:r}}=this.editor;this.markId="draw start "+bt(),this.editor.mark(this.markId),this.isPen=r;const s=this.isPen?this.info.point.z*1.25:.5;if(this.segmentMode=this.editor.inputs.shiftKey?"straight":"free",this.didJustShiftClickToExtendPreviousShapeLine=!1,this.lastRecordedPoint=n.clone(),this.initialShape){const a=this.editor.getShape(this.initialShape.id);if(a&&this.segmentMode==="straight"){this.didJustShiftClickToExtendPreviousShapeLine=!0;const i=Pr(a.props.segments);if(!i)throw Error("Expected a previous segment!");const l=Pr(i.points);if(!l)throw Error("Expected a previous point!");const{x:c,y:d}=this.editor.getPointInShapeSpace(a,n).toFixed(),h=this.isPen?this.info.point.z*1.25:.5,u={type:this.segmentMode,points:[{x:l.x,y:l.y,z:+h.toFixed(2)},{x:c,y:d,z:+h.toFixed(2)}]},p=ge.applyToPoint(this.editor.getShapePageTransform(a.id),l);this.pagePointWhereCurrentSegmentChanged=p,this.pagePointWhereNextSegmentChanged=null;const y=[...a.props.segments,u];this.currentLineLength=this.getLineLength(y);const g={id:a.id,type:this.shapeType,props:{segments:y}};this.canClose()&&(g.props.isClosed=this.getIsClosed(y,a.props.size)),this.editor.updateShapes([g]);return}}this.pagePointWhereCurrentSegmentChanged=n.clone();const o=gt();this.editor.createShapes([{id:o,type:this.shapeType,x:n.x,y:n.y,props:{isPen:this.isPen,segments:[{type:this.segmentMode,points:[{x:0,y:0,z:+s.toFixed(2)}]}]}}]),this.currentLineLength=0,this.initialShape=this.editor.getShape(o)}updateShapes(){const{inputs:n}=this.editor,{initialShape:r}=this;if(!r)return;const{id:s,props:{size:o}}=r,a=this.editor.getShape(s);if(!a)return;const{segments:i}=a.props,{x:l,y:c,z:d}=this.editor.getPointInShapeSpace(a,n.currentPagePoint).toFixed(),h={x:l,y:c,z:this.isPen?+(d*1.25).toFixed(2):.5};switch(this.segmentMode){case"starting_straight":{const{pagePointWhereNextSegmentChanged:u}=this;if(u===null)throw Error("We should have a point where the segment changed");if(P.Dist(u,n.currentPagePoint)>Lp){this.pagePointWhereCurrentSegmentChanged=this.pagePointWhereNextSegmentChanged.clone(),this.pagePointWhereNextSegmentChanged=null,this.segmentMode="straight";const y=Pr(i);if(!y)throw Error("Expected a previous segment!");const g=Pr(y.points);if(!g)throw Error("Expected a previous last point!");let x;const w=this.editor.getPointInShapeSpace(a,this.pagePointWhereCurrentSegmentChanged).toFixed().toJson();if(y.type==="straight"){this.currentLineLength+=P.Dist(g,w),x={type:"straight",points:[{...g},w]};const v=this.editor.getShapePageTransform(a);this.pagePointWhereCurrentSegmentChanged=ge.applyToPoint(v,g)}else x={type:"straight",points:[w,h]};const S={id:s,type:this.shapeType,props:{segments:[...i,x]}};this.canClose()&&(S.props.isClosed=this.getIsClosed(i,o)),this.editor.updateShapes([S],{squashing:!0})}break}case"starting_free":{const{pagePointWhereNextSegmentChanged:u}=this;if(u===null)throw Error("We should have a point where the segment changed");if(P.Dist(u,n.currentPagePoint)>Lp){this.pagePointWhereCurrentSegmentChanged=this.pagePointWhereNextSegmentChanged.clone(),this.pagePointWhereNextSegmentChanged=null,this.segmentMode="free";const y=i.slice(),g=y[y.length-1],x=Pr(g.points);if(!x)throw Error("No previous point!");const w={type:"free",points:[...P.PointsBetween(x,h,6).map(k=>k.toFixed().toJson())]},S=[...y,w];this.currentLineLength=this.getLineLength(S);const v={id:s,type:this.shapeType,props:{segments:S}};this.canClose()&&(v.props.isClosed=this.getIsClosed(S,o)),this.editor.updateShapes([v],{squashing:!0})}break}case"straight":{const u=i.slice(),p=u[u.length-1],{pagePointWhereCurrentSegmentChanged:y}=this,{currentPagePoint:g,ctrlKey:x}=this.editor.inputs;if(!y)throw Error("We should have a point where the segment changed");let w,S=!1;this.didJustShiftClickToExtendPreviousShapeLine?this.editor.inputs.isDragging&&(S=!x,this.didJustShiftClickToExtendPreviousShapeLine=!1):S=!x;let v=this.editor.getPointInShapeSpace(a,g).toFixed().toJson(),k=!1,C;if((this.editor.user.getIsSnapMode()?!x:x)&&u.length>2){let I,z=8/this.editor.getZoomLevel();for(let A=0,T=i.length-2;A<T;A++){const j=i[A];if(!j)break;if(j.type==="free")continue;const R=j.points[0],M=Pr(j.points);if(!(R&&M))continue;const D=P.NearestPointOnLineSegment(R,M,v),U=P.Dist(D,v);if(U<z){I=D.toFixed().toJson(),z=U,C=j;break}}I&&(k=!0,v=I)}if(k&&C){const I=this.editor.getShapePageTransform(a),z=C.points[0],A=Pr(C.points);if(!A)throw Error("Expected a last point!");const T=ge.applyToPoint(I,z),j=ge.applyToPoint(I,A),R=ge.applyToPoint(I,v);this.editor.snaps.setLines([{id:bt(),type:"points",points:[T,R,j]}])}else{if(this.editor.snaps.clear(),S){const I=P.Angle(y,g),A=Jm(I,24)-I;w=P.RotWith(g,y,A)}else w=g;v=this.editor.getPointInShapeSpace(a,w).toFixed().toJson()}this.currentLineLength+=P.Dist(p.points[0],v),u[u.length-1]={...p,type:"straight",points:[p.points[0],v]};const E={id:s,type:this.shapeType,props:{segments:u}};this.canClose()&&(E.props.isClosed=this.getIsClosed(i,o)),this.editor.updateShapes([E],{squashing:!0});break}case"free":{const u=i.slice(),p=u[u.length-1],y=[...p.points];if(y.length&&this.mergeNextPoint){const{z:x}=y[y.length-1];y[y.length-1]={x:h.x,y:h.y,z:x?Math.max(x,h.z):h.z}}else this.currentLineLength+=P.Dist(y[y.length-1],h),y.push(h);u[u.length-1]={...p,points:y},this.currentLineLength=this.getLineLength(u);const g={id:s,type:this.shapeType,props:{segments:u}};if(this.canClose()&&(g.props.isClosed=this.getIsClosed(u,o)),this.editor.updateShapes([g],{squashing:!0}),y.length>500){this.editor.updateShapes([{id:s,type:this.shapeType,props:{isComplete:!0}}]);const{currentPagePoint:x}=this.editor.inputs,w=gt();this.editor.createShapes([{id:w,type:this.shapeType,x:ey(x.x),y:ey(x.y),props:{isPen:this.isPen,segments:[{type:"free",points:[{x:0,y:0,z:this.isPen?+(d*1.25).toFixed():.5}]}]}}]),this.initialShape=structuredClone(this.editor.getShape(w)),this.mergeNextPoint=!1,this.lastRecordedPoint=this.editor.inputs.currentPagePoint.clone(),this.currentLineLength=0}break}}}getLineLength(n){let r=0;for(const s of n)for(let o=0;o<s.points.length-1;o++){const a=s.points[o],i=s.points[o+1];r+=P.Sub(i,a).len2()}return Math.sqrt(r)}complete(){if(!this.canDraw){this.cancel();return}const{initialShape:n}=this;n&&(this.editor.updateShapes([{id:n.id,type:n.type,props:{isComplete:!0}}]),this.parent.transition("idle"))}cancel(){this.parent.transition("idle",this.info)}}m(L9,"id","drawing");var X5;let Mz=(X5=class extends he{constructor(){super(...arguments);m(this,"onPointerDown",n=>{this.parent.transition("drawing",n)});m(this,"onEnter",()=>{this.editor.setCursor({type:"cross",rotation:0})});m(this,"onCancel",()=>{this.editor.setCurrentTool("select")})}},m(X5,"id","idle"),X5);class K0 extends he{constructor(){super(...arguments);m(this,"shapeType","draw");m(this,"onExit",()=>{const n=this.children.drawing;n.initialShape=void 0})}}m(K0,"id","draw"),m(K0,"initial","idle"),m(K0,"children",()=>[Mz,L9]);class Yw extends Zd{constructor(){super(...arguments);m(this,"shapeType","frame");m(this,"onCreate",n=>{if(!n)return;const r=this.editor.getShapePageBounds(n),s=[],o=this.editor.getShapeAncestors(n).map(a=>a.id);this.editor.getCurrentPageShapes().map(a=>{if(a.id===n.id||a.isLocked)return;const i=this.editor.getShapePageBounds(a);i&&r.contains(i)&&Dte(a,o,n)&&s.push(a.id)}),this.editor.reparentShapes(s,n.id),this.editor.getInstanceState().isToolLocked?this.editor.setCurrentTool("frame"):this.editor.setCurrentTool("select.idle")})}}m(Yw,"id","frame"),m(Yw,"initial","idle");function Dte(e,t,n){return t.includes(e.id)?!1:e.parentId===n.parentId}var Y5;let qte=(Y5=class extends he{constructor(){super(...arguments);m(this,"onPointerDown",n=>{this.parent.transition("pointing",n)});m(this,"onEnter",()=>{this.editor.setCursor({type:"cross",rotation:0})});m(this,"onKeyUp",n=>{var r;if(n.key==="Enter"){if(this.editor.getInstanceState().isReadonly)return null;const s=this.editor.getOnlySelectedShape();s&&this.editor.getShapeUtil(s).canEdit(s)&&(this.editor.setCurrentTool("select"),this.editor.setEditingShape(s.id),(r=this.editor.root.getCurrent())==null||r.transition("editing_shape",{...n,target:"shape",shape:s}))}});m(this,"onCancel",()=>{this.editor.setCurrentTool("select")})}},m(Y5,"id","idle"),Y5);var H5;let Bte=(H5=class extends he{constructor(){super(...arguments);m(this,"markId","");m(this,"onPointerUp",()=>{this.complete()});m(this,"onPointerMove",n=>{if(this.editor.inputs.isDragging){const{originPagePoint:r}=this.editor.inputs,s=gt();this.markId=`creating:${s}`,this.editor.mark(this.markId),this.editor.createShapes([{id:s,type:"geo",x:r.x,y:r.y,props:{w:1,h:1,geo:this.editor.getStyleForNextShape(Qo)}}]).select(s).setCurrentTool("select.resizing",{...n,target:"selection",handle:"bottom_right",isCreating:!0,creationCursorOffset:{x:1,y:1},onInteractionEnd:"geo"})}});m(this,"onCancel",()=>{this.cancel()});m(this,"onComplete",()=>{this.complete()});m(this,"onInterrupt",()=>{this.cancel()})}complete(){const{originPagePoint:n}=this.editor.inputs,r=gt();this.markId=`creating:${r}`,this.editor.mark(this.markId),this.editor.createShapes([{id:r,type:"geo",x:n.x,y:n.y,props:{geo:this.editor.getStyleForNextShape(Qo),w:1,h:1}}]);const s=this.editor.getShape(r);if(!s)return;const o=s.props.geo==="star"?oF(5,200,200):s.props.geo==="cloud"?new xe(0,0,300,180):new xe(0,0,200,200),a=o.center,i=this.editor.getShapeParentTransform(s);i&&a.rot(-i.rotation()),this.editor.select(r),this.editor.updateShapes([{id:s.id,type:"geo",x:s.x-a.x,y:s.y-a.y,props:{geo:this.editor.getStyleForNextShape(Qo),w:o.width,h:o.height}}]),this.editor.getInstanceState().isToolLocked?this.parent.transition("idle"):this.editor.setCurrentTool("select",{})}cancel(){this.parent.transition("idle")}},m(H5,"id","pointing"),H5);class W0 extends he{constructor(){super(...arguments);m(this,"shapeType","geo")}}m(W0,"id","geo"),m(W0,"initial","idle"),m(W0,"children",()=>[qte,Bte]);class U0 extends he{constructor(){super(...arguments);m(this,"shapeType","highlight");m(this,"onExit",()=>{const n=this.children.drawing;n.initialShape=void 0})}}m(U0,"id","highlight"),m(U0,"initial","idle"),m(U0,"children",()=>[Mz,L9]);var G5;let Fte=(G5=class extends he{constructor(){super(...arguments);m(this,"shapeId","");m(this,"onEnter",n=>{this.shapeId=n.shapeId,this.editor.setCursor({type:"cross",rotation:0})});m(this,"onPointerDown",()=>{this.parent.transition("pointing",{shapeId:this.shapeId})});m(this,"onCancel",()=>{this.editor.setCurrentTool("select")})}},m(G5,"id","idle"),G5);const q4=2;var Z5;let Kte=(Z5=class extends he{constructor(){super(...arguments);m(this,"shape",{});m(this,"markId");m(this,"onEnter",n=>{const{inputs:r}=this.editor,{currentPagePoint:s}=r;this.markId=void 0;const o=n.shapeId&&this.editor.getShape(n.shapeId);if(o&&r.shiftKey){this.markId=`creating:${o.id}`,this.editor.mark(this.markId),this.shape=o;const a=this.editor.getShapeHandles(this.shape);if(!a)return;const i=a.filter(x=>x.type==="vertex").sort(cr),l=i[i.length-1],c=i[i.length-2],d=ge.applyToPoint(this.editor.getShapeParentTransform(this.shape),new P(this.shape.x,this.shape.y));let h,u,p;const y=P.Sub(s,d);P.Dist(l,c)<q4||P.Dist(y,l)<q4?(h=l.index,u=l.id,p={...l,x:y.x+.1,y:y.y+.1}):(h=Ea(l.index),u="handle:"+h,p={id:u,type:"vertex",index:h,x:y.x+.1,y:y.y+.1,canBind:!1});const g=Cd(this.shape.props.handles);g[p.id]=p,this.editor.updateShapes([{id:this.shape.id,type:this.shape.type,props:{handles:g}}])}else{const a=gt();this.markId=`creating:${a}`,this.editor.mark(this.markId),this.editor.createShapes([{id:a,type:"line",x:s.x,y:s.y}]),this.editor.select(a),this.shape=this.editor.getShape(a)}});m(this,"onPointerMove",()=>{if(this.shape&&this.editor.inputs.isDragging){const n=this.editor.getShapeHandles(this.shape);if(!n)throw this.markId&&this.editor.bailToMark(this.markId),Error("No handles found");const r=Pr(n);this.editor.setCurrentTool("select.dragging_handle",{shape:this.shape,isCreating:!0,handle:{...r,x:r.x-.1,y:r.y-.1},onInteractionEnd:"line"})}});m(this,"onPointerUp",()=>{this.complete()});m(this,"onCancel",()=>{this.cancel()});m(this,"onComplete",()=>{this.complete()});m(this,"onInterrupt",()=>{this.parent.transition("idle"),this.markId&&this.editor.bailToMark(this.markId),this.editor.snaps.clear()})}complete(){this.parent.transition("idle",{shapeId:this.shape.id}),this.editor.snaps.clear()}cancel(){this.markId&&this.editor.bailToMark(this.markId),this.parent.transition("idle",{shapeId:this.shape.id}),this.editor.snaps.clear()}},m(Z5,"id","pointing"),Z5);class V0 extends he{constructor(){super(...arguments);m(this,"shapeType","line")}}m(V0,"id","line"),m(V0,"initial","idle"),m(V0,"children",()=>[Fte,Kte]);var Q5;let Wte=(Q5=class extends he{constructor(){super(...arguments);m(this,"onPointerDown",n=>{this.parent.transition("pointing",n)});m(this,"onEnter",()=>{this.editor.setCursor({type:"cross",rotation:0})});m(this,"onCancel",()=>{this.editor.setCurrentTool("select")})}},m(Q5,"id","idle"),Q5);var J5;let Ute=(J5=class extends he{constructor(){super(...arguments);m(this,"dragged",!1);m(this,"info",{});m(this,"wasFocusedOnEnter",!1);m(this,"markId","");m(this,"shape",{});m(this,"onEnter",()=>{this.wasFocusedOnEnter=!this.editor.getIsMenuOpen(),this.wasFocusedOnEnter&&(this.shape=this.createShape())});m(this,"onPointerMove",n=>{this.editor.inputs.isDragging&&(this.wasFocusedOnEnter||(this.shape=this.createShape()),this.editor.setCurrentTool("select.translating",{...n,target:"shape",shape:this.shape,onInteractionEnd:"note",isCreating:!0,onCreate:()=>{this.editor.setEditingShape(this.shape.id),this.editor.setCurrentTool("select.editing_shape")}}))});m(this,"onPointerUp",()=>{this.complete()});m(this,"onInterrupt",()=>{this.cancel()});m(this,"onComplete",()=>{this.complete()});m(this,"onCancel",()=>{this.cancel()})}complete(){this.wasFocusedOnEnter&&(this.editor.getInstanceState().isToolLocked?this.parent.transition("idle"):(this.editor.setEditingShape(this.shape.id),this.editor.setCurrentTool("select.editing_shape",{...this.info,target:"shape",shape:this.shape})))}cancel(){this.editor.bailToMark(this.markId),this.parent.transition("idle",this.info)}createShape(){const{inputs:{originPagePoint:n}}=this.editor,r=gt();this.markId=`creating:${r}`,this.editor.mark(this.markId),this.editor.createShapes([{id:r,type:"note",x:n.x,y:n.y}]).select(r);const s=this.editor.getShape(r),o=this.editor.getShapeGeometry(s).bounds;return this.editor.updateShapes([{id:r,type:"note",x:s.x-o.width/2,y:s.y-o.height/2}]),this.editor.getShape(r)}},m(J5,"id","pointing"),J5);class X0 extends he{constructor(){super(...arguments);m(this,"shapeType","note")}}m(X0,"id","note"),m(X0,"initial","idle"),m(X0,"children",()=>[Wte,Ute]);function $p(e){const t=e.getShapeAtPoint(e.inputs.currentPagePoint,{hitInside:!1,hitLabels:!1,margin:ko/e.getZoomLevel(),renderingOnly:!0});if(!t)return e.setHoveredShape(null);let n;const r=e.getOutermostSelectableShape(t);return r===t||r.id===e.getFocusedGroupId()||e.getSelectedShapeIds().includes(r.id)?n=t:n=r,e.setHoveredShape(n.id)}var ew;let Vte=(ew=class extends he{constructor(){super(...arguments);m(this,"onPointerMove",n=>{switch(n.target){case"shape":case"canvas":$p(this.editor)}});m(this,"onPointerDown",n=>{this.parent.transition("pointing",n)});m(this,"onEnter",()=>{this.editor.setCursor({type:"cross",rotation:0})});m(this,"onKeyDown",n=>{var r;if(n.key==="Enter"){if(this.editor.getInstanceState().isReadonly)return null;const s=this.editor.getOnlySelectedShape();s&&this.editor.getShapeUtil(s).canEdit(s)&&(this.editor.setCurrentTool("select"),this.editor.setEditingShape(s.id),(r=this.editor.root.getCurrent())==null||r.transition("editing_shape",{...n,target:"shape",shape:s}))}});m(this,"onCancel",()=>{this.editor.setCurrentTool("select")})}},m(ew,"id","idle"),ew);var tw;let Xte=(tw=class extends he{constructor(){super(...arguments);m(this,"shape");m(this,"markId","");m(this,"onExit",()=>{this.editor.setHintingShapes([])});m(this,"onPointerMove",n=>{if(this.editor.inputs.isDragging){const{inputs:{originPagePoint:r}}=this.editor,s=gt();if(this.markId=`creating:${s}`,this.editor.mark(this.markId),this.editor.createShapes([{id:s,type:"text",x:r.x,y:r.y,props:{text:"",autoSize:!1,w:20}}]),this.editor.select(s),this.shape=this.editor.getShape(s),!this.shape)return;const{shape:o}=this;this.editor.setCurrentTool("select.resizing",{...n,target:"selection",handle:"right",isCreating:!0,creationCursorOffset:{x:1,y:1},onInteractionEnd:"text",onCreate:()=>{this.editor.setEditingShape(o.id),this.editor.setCurrentTool("select.editing_shape")}})}});m(this,"onPointerUp",()=>{this.complete()});m(this,"onComplete",()=>{this.cancel()});m(this,"onCancel",()=>{this.cancel()});m(this,"onInterrupt",()=>{this.cancel()})}complete(){var o;this.editor.mark("creating text shape");const n=gt(),{x:r,y:s}=this.editor.inputs.currentPagePoint;this.editor.createShapes([{id:n,type:"text",x:r,y:s,props:{text:"",autoSize:!0}}]).select(n),this.editor.setEditingShape(n),this.editor.setCurrentTool("select"),(o=this.editor.root.getCurrent())==null||o.transition("editing_shape")}cancel(){this.parent.transition("idle"),this.editor.bailToMark(this.markId)}},m(tw,"id","pointing"),tw);class Y0 extends he{constructor(){super(...arguments);m(this,"shapeType","text")}}m(Y0,"id","text"),m(Y0,"initial","idle"),m(Y0,"children",()=>[Vte,Xte]);const jz=[Y0,K0,W0,X0,V0,Yw,F0,U0];function Tn(){return br({isDarkMode:C1()})}const fn=le.memo(function({theme:t,d:n,color:r,fill:s}){switch(s){case"none":return null;case"solid":return f.jsx("path",{fill:t[r].semi,d:n});case"semi":return f.jsx("path",{fill:t.solid,d:n});case"pattern":return f.jsx(Yte,{theme:t,color:r,fill:s,d:n})}}),Yte=function({d:t,color:n,theme:r}){const s=H(),o=J("zoomLevel",()=>s.getZoomLevel(),[s]),a=Math.ceil(o),i=s.getZoomLevel()<=.18;return f.jsxs(f.Fragment,{children:[f.jsx("path",{fill:r[n].pattern,d:t}),f.jsx("path",{fill:i?r[n].semi:`url(#${ny[`${a}_${r.id}`]})`,d:t})]})};function ks({d:e,color:t,fill:n,theme:r}){if(n==="none")return;if(n==="pattern"){const o=document.createElementNS("http://www.w3.org/2000/svg","g"),a=document.createElementNS("http://www.w3.org/2000/svg","path");a.setAttribute("d",e),a.setAttribute("fill",r[t].pattern);const i=document.createElementNS("http://www.w3.org/2000/svg","path");return i.setAttribute("d",e),i.setAttribute("fill","url(#hash_pattern)"),o.appendChild(a),o.appendChild(i),o}const s=document.createElementNS("http://www.w3.org/2000/svg","path");switch(s.setAttribute("d",e),n){case"semi":{s.setAttribute("fill",r.solid);break}case"solid":{s.setAttribute("fill",r[t].semi);break}}return s}function Io(e,t){if(t){const n=document.createElementNS("http://www.w3.org/2000/svg","g");return n.appendChild(t),n.appendChild(e),n}else return e}function Hte(e){return e.replace(/\s/g,"")}function M1(e,t,n){const{padding:r=0}=n,s=document.createElementNS("http://www.w3.org/2000/svg","text");if(s.setAttribute("font-size",n.fontSize+"px"),s.setAttribute("font-family",n.fontFamily),s.setAttribute("font-style",n.fontStyle),s.setAttribute("font-weight",n.fontWeight),s.setAttribute("line-height",n.lineHeight*n.fontSize+"px"),s.setAttribute("dominant-baseline","mathematical"),s.setAttribute("alignment-baseline","mathematical"),t.length===0)return s;const o=xe.From(t[0].box);for(const{box:c}of t)o.union(c);const a=r+(n.offsetX??0),i=(n.offsetY??0)+n.fontSize/2+(n.verticalTextAlign==="start"?r:n.verticalTextAlign==="end"?n.height-r-o.height:(Math.ceil(n.height)-o.height)/2);let l=null;for(const{text:c,box:d}of t){if(l!==null&&d.y>l){const y=document.createElementNS("http://www.w3.org/2000/svg","tspan");y.setAttribute("alignment-baseline","mathematical"),y.setAttribute("x",a+"px"),y.setAttribute("y",d.y+i+"px"),y.textContent=`
`,s.appendChild(y)}const u=document.createElementNS("http://www.w3.org/2000/svg","tspan");u.setAttribute("alignment-baseline","mathematical"),u.setAttribute("x",d.x+a+"px"),u.setAttribute("y",d.y+i+"px");const p=Hte(c);u.textContent=p,s.appendChild(u),l=d.y}return n.stroke&&n.strokeWidth&&(s.setAttribute("stroke",n.stroke),s.setAttribute("stroke-width",n.strokeWidth+"px")),n.fill&&s.setAttribute("fill",n.fill),s}function j1(e){return{key:`${sa.id}:${e}`,getElement:async()=>{const t=Gte(e);if(!t)return null;const n=t.$$_url,r=t.$$_fontface;if(!n||!r)return null;const s=await(await fetch(n)).blob(),o=await new Promise((l,c)=>{const d=new FileReader;d.onload=()=>l(d.result),d.onerror=c,d.readAsDataURL(s)}),a=r.replace(n,o),i=document.createElementNS("http://www.w3.org/2000/svg","style");return i.textContent=a,i}}}function Gte(e){const t=If[e];for(const n of document.fonts)if(t.includes(n.family))return n;return null}function M9(e,t){return{key:`${sa.id}:${e}`,getElement:async()=>{if(e!=="pattern")return null;const n=8/12,r=document.createElement("div");return r.innerHTML=`
				<svg>
					<defs>
						<mask id="hash_pattern_mask">
							<rect x="0" y="0" width="8" height="8" fill="white" />
							<g
								strokeLinecap="round"
								stroke="black"
							>
								<line x1="${n*1}" y1="${n*3}" x2="${n*3}" y2="${n*1}" />
								<line x1="${n*5}" y1="${n*7}" x2="${n*7}" y2="${n*5}" />
								<line x1="${n*9}" y1="${n*11}" x2="${n*11}" y2="${n*9}" />
							</g>
						</mask>
						<pattern
							id="hash_pattern"
							width="8"
							height="8"
							patternUnits="userSpaceOnUse"
						>
							<rect x="0" y="0" width="8" height="8" fill="${t.solid}" mask="url(#hash_pattern_mask)" />
						</pattern>
					</defs>
				</svg>
			`,Array.from(r.querySelectorAll("defs > *"))}}}function j9(){return{key:`${sa.id}:pattern`,component:Jte}}const Yu=8,B4=(e,t,n)=>new Promise((r,s)=>{const o=Yu*t*e,a=document.createElement("canvas");a.width=o,a.height=o;const i=a.getContext("2d");if(!i)return;i.fillStyle=n?"#212529":"#f8f9fa",i.fillRect(0,0,o,o),i.globalCompositeOperation="destination-out",i.lineCap="round",i.lineWidth=1.25*t*e;const l=8/12,c=d=>d*t*e;i.beginPath(),i.moveTo(c(l*1),c(l*3)),i.lineTo(c(l*3),c(l*1)),i.moveTo(c(l*5),c(l*7)),i.lineTo(c(l*7),c(l*5)),i.moveTo(c(l*9),c(l*11)),i.lineTo(c(l*11),c(l*9)),i.stroke(),a.toBlob(d=>{!d||Pt.throwToBlob.get()?s():r(d)})}),F4=(e,t)=>{const n=document.createElement("canvas");n.width=e[0],n.height=e[1];const r=n.getContext("2d");return r?(t(r),n.toDataURL()):""},Zte=()=>{const e=[];for(let t=1;t<=Math.ceil(_i);t++){const n=F4([1,1],s=>{s.fillStyle=Km.lightMode.black.semi,s.fillRect(0,0,1,1)}),r=F4([1,1],s=>{s.fillStyle=Km.darkMode.black.semi,s.fillRect(0,0,1,1)});e.push({zoom:t,url:n,darkMode:!1}),e.push({zoom:t,url:r,darkMode:!0})}return e};function Qte(){const t=H().getInstanceState().devicePixelRatio,[n,r]=b.useState(!1),s=b.useMemo(()=>Zte(),[]),[o,a]=b.useState(s);return b.useEffect(()=>{const l=[];for(let d=1;d<=Math.ceil(_i);d++)l.push(B4(t,d,!1).then(h=>({zoom:d,url:URL.createObjectURL(h),darkMode:!1}))),l.push(B4(t,d,!0).then(h=>({zoom:d,url:URL.createObjectURL(h),darkMode:!0})));let c=!1;return Promise.all(l).then(d=>{c||(a(d),r(!0))}),()=>{c=!0,r(!1)}},[t]),{defs:f.jsx(f.Fragment,{children:o.map(l=>{const c=l.zoom+(l.darkMode?"_dark":"_light");return f.jsx("pattern",{id:ny[c],width:Yu,height:Yu,patternUnits:"userSpaceOnUse",children:f.jsx("image",{href:l.url,width:Yu,height:Yu})},c)})}),isReady:n}}function Jte(){const e=H(),t=b.useRef(null),{defs:n,isReady:r}=Qte();return b.useEffect(()=>{if(r&&e.environment.isSafari){const s=Rz(t.current);s&&requestAnimationFrame(()=>{s.style.display="none",requestAnimationFrame(()=>{s.style.display=""})})}},[e,r]),f.jsx("g",{ref:t,children:n})}function Rz(e){return e.classList.contains("tl-html-layer")?e:e.parentElement?Rz(e.parentElement):null}function wr(e,t,n={}){const{closed:r=!1,snap:s=1,start:o="outset",end:a="outset",lengthRatio:i=2,style:l="dashed"}=n;let c=0,d=0,h=1,u=0,p=0;switch(l){case"dashed":{h=1,c=Math.min(t*i,e/4);break}case"dotted":{h=100,c=t/h;break}default:return{strokeDasharray:"none",strokeDashoffset:"none"}}return r||(o==="outset"?(e+=c/2,p+=c/2):o==="skip"&&(e-=c,p-=c),a==="outset"?e+=c/2:a==="skip"&&(e-=c)),d=Math.floor(e/c/(2*h)),d-=d%s,d<3&&l==="dashed"?e/t<5?(c=e,d=1,u=0):(c=e*.333,u=e*.333):(d=Math.max(d,3),c=e/d/(2*h),r?(p=c/2,u=(e-d*c)/d):u=(e-d*c)/Math.max(1,d-1)),{strokeDasharray:[c,u].join(" "),strokeDashoffset:p.toString()}}function R9(e,t,n){const r=H(),s=b.useRef(null),o=b.useRef(!1),a=b.useRef(),i=J("isEditing",()=>r.getEditingShapeId()===e,[r,e]);b.useEffect(()=>{const g=s.current;g&&i&&document.activeElement!==g&&g.focus()},[i]);const l=b.useCallback(()=>{const g=o.current;o.current=!1,requestAnimationFrame(()=>{const x=s.current;if(!x)return;const w=r.getShape(e);w&&(x.value=w.props.text,x.value.length&&!g&&x.select())})},[r,e]),c=b.useCallback(()=>{const g=a.current;requestAnimationFrame(()=>{var S;const x=s.current,w=r.getEditingShapeId();if(x&&w){if(w===e)if(g)if(!g.length)x.focus();else{o.current=!0,x.focus();const v=window.getSelection();v&&g.forEach(k=>v.addRange(k))}else x.focus()}else(S=window.getSelection())==null||S.removeAllRanges(),r.complete()})},[r,e]),d=b.useCallback(g=>{if(i)switch((g.ctrlKey||g.metaKey)&&hn(g),g.key){case"Enter":{(g.ctrlKey||g.metaKey)&&r.complete();break}case"Tab":{rt(g),g.shiftKey?Oi.unindent(g.currentTarget):Oi.indent(g.currentTarget);break}}},[r,i]),h=b.useCallback(g=>{if(!i)return;let x=Oi.normalizeText(g.currentTarget.value);const w=x.replace(/\t/g,Ad);if(w!==x){const S=g.currentTarget.selectionStart;g.currentTarget.value=w,g.currentTarget.selectionStart=S+(w.length-x.length),g.currentTarget.selectionEnd=S+(w.length-x.length),x=w}r.updateShapes([{id:e,type:t,props:{text:x}}])},[r,e,t,i]),u=n.trim().length===0;b.useEffect(()=>{if(!i)return;if(s.current){let x=function(){var S,v;const w=(S=window.getSelection)==null?void 0:S.call(window);if(w&&w.type!=="None"){const k=[];if(w)for(let C=0;C<w.rangeCount;C++)k.push((v=w.getRangeAt)==null?void 0:v.call(w,C));a.current=k}};return document.addEventListener("selectionchange",x),()=>{document.removeEventListener("selectionchange",x)}}},[i]);const p=b.useCallback(g=>{r.dispatch({...qr(g),type:"pointer",name:"pointer_down",target:"shape",shape:r.getShape(e)}),hn(g)},[r,e]);return{rInput:s,isEditing:i,handleFocus:l,handleBlur:c,handleKeyDown:d,handleChange:h,handleInputPointerDown:p,handleDoubleClick:hn,isEmpty:u}}const ene=b.memo(function({id:t,text:n,size:r,font:s,position:o,width:a,labelColor:i}){const{rInput:l,isEditing:c,handleFocus:d,handleBlur:h,handleKeyDown:u,handleChange:p,isEmpty:y,handleInputPointerDown:g,handleDoubleClick:x}=R9(t,"arrow",n),S=Oi.normalizeTextForDom(n).trim().length>0;return!c&&!S?null:f.jsx("div",{className:"tl-arrow-label","data-font":s,"data-align":"center","data-hastext":!y,"data-isediting":c,style:{textAlign:"center",fontSize:vi[r],lineHeight:vi[r]*Xn.lineHeight+"px",transform:`translate(${o.x}px, ${o.y}px)`,color:i},children:f.jsxs("div",{className:"tl-arrow-label__inner",children:[f.jsx("p",{style:{width:a||"9px"},children:n?Oi.normalizeTextForDom(n):" "}),c&&f.jsx("textarea",{ref:l,className:"tl-text tl-text-input",name:"text",tabIndex:-1,autoComplete:"false",autoCapitalize:"false",autoCorrect:"false",autoSave:"false",autoFocus:!0,placeholder:"",spellCheck:"true",wrap:"off",dir:"auto",datatype:"wysiwyg",defaultValue:n,onFocus:d,onChange:p,onKeyDown:u,onBlur:h,onContextMenu:hn,onPointerDown:g,onDoubleClick:x})]})})});let tne=0;class H0 extends Za{constructor(){super(...arguments);m(this,"canEdit",()=>!0);m(this,"canBind",()=>!1);m(this,"canSnap",()=>!1);m(this,"hideResizeHandles",()=>!0);m(this,"hideRotateHandle",()=>!0);m(this,"hideSelectionBoundsBg",()=>!0);m(this,"hideSelectionBoundsFg",()=>!0);m(this,"onHandleChange",(n,{handle:r,isPrecise:s})=>{const o=r.id;if(o==="middle"){const{start:x,end:w}=po(this.editor,n),S=P.Sub(w,x),v=P.Per(S),k=P.Med(w,x),C=P.Sub(k,v),_=P.Add(k,v),E=P.NearestPointOnLineSegment(C,_,r,!1);let I=P.Dist(E,k);return P.Clockwise(E,w,k)&&(I*=-1),{id:n.id,type:n.type,props:{bend:I}}}const a=Fr(n),l=this.editor.getShapePageTransform(a.id).applyToPoint(r);if(this.editor.inputs.ctrlKey)return a.props[o]={type:"point",x:r.x,y:r.y},a;const c=this.editor.getShapePageTransform(n.id).applyToPoint(r),d=this.editor.getShapeAtPoint(c,{hitInside:!0,hitFrameInside:!0,margin:0,filter:x=>!x.isLocked&&this.editor.getShapeUtil(x).canBind(x)});if(!d)return a.props[o]={type:"point",x:r.x,y:r.y},a;const h=this.editor.getShapeGeometry(d),u=xe.ZeroFix(h.bounds),p=this.editor.getPointInShapeSpace(d,l);let y=s;if(!y){const x=a.props[o];(x.type==="point"||x.type==="binding"&&d.id!==x.boundShapeId)&&(y=this.editor.inputs.pointerVelocity.len()<.5)}if(!s){h.isClosed||(y=!0);const x=a.props[o==="start"?"end":"start"];x.type==="binding"&&d.id===x.boundShapeId&&x.isPrecise&&(y=!0)}const g={x:(p.x-u.minX)/u.width,y:(p.y-u.minY)/u.height};return y&&P.Dist(p,u.center)<Math.max(4,Math.min(Math.min(u.width,u.height)*.15,16))/this.editor.getZoomLevel()&&(g.x=.5,g.y=.5),a.props[o]={type:"binding",boundShapeId:d.id,normalizedAnchor:g,isPrecise:y,isExact:this.editor.inputs.altKey},a.props.start.type==="binding"&&a.props.end.type==="binding"&&a.props.start.boundShapeId===a.props.end.boundShapeId&&P.Equals(a.props.start.normalizedAnchor,a.props.end.normalizedAnchor)&&(a.props.end.normalizedAnchor.x+=.05),a});m(this,"onTranslateStart",n=>{const r=n.props.start.type==="binding"?n.props.start.boundShapeId:null,s=n.props.end.type==="binding"?n.props.end.boundShapeId:null,o=this.editor.getSelectedShapeIds();if(r&&(o.includes(r)||this.editor.isAncestorSelected(r))||s&&(o.includes(s)||this.editor.isAncestorSelected(s)))return;const{start:a,end:i}=po(this.editor,n);return{id:n.id,type:n.type,props:{...n.props,start:{type:"point",x:a.x,y:a.y},end:{type:"point",x:i.x,y:i.y}}}});m(this,"onResize",(n,r)=>{const{scaleX:s,scaleY:o}=r,a=po(this.editor,n),{start:i,end:l}=Fr(n.props);let{bend:c}=n.props;i.type==="point"&&(i.x=a.start.x*s,i.y=a.start.y*o),l.type==="point"&&(l.x=a.end.x*s,l.y=a.end.y*o);const d=Math.abs(s),h=Math.abs(o);return s<0&&o>=0?(c!==0&&(c*=-1,c*=Math.max(d,h)),i.type==="binding"&&(i.normalizedAnchor.x=1-i.normalizedAnchor.x),l.type==="binding"&&(l.normalizedAnchor.x=1-l.normalizedAnchor.x)):s>=0&&o<0?(c!==0&&(c*=-1,c*=Math.max(d,h)),i.type==="binding"&&(i.normalizedAnchor.y=1-i.normalizedAnchor.y),l.type==="binding"&&(l.normalizedAnchor.y=1-l.normalizedAnchor.y)):s>=0&&o>=0?c!==0&&(c*=Math.max(d,h)):s<0&&o<0&&(c!==0&&(c*=Math.max(d,h)),i.type==="binding"&&(i.normalizedAnchor.x=1-i.normalizedAnchor.x,i.normalizedAnchor.y=1-i.normalizedAnchor.y),l.type==="binding"&&(l.normalizedAnchor.x=1-l.normalizedAnchor.x,l.normalizedAnchor.y=1-l.normalizedAnchor.y)),{props:{start:i,end:l,bend:c}}});m(this,"onDoubleClickHandle",(n,r)=>{switch(r.id){case"start":return{id:n.id,type:n.type,props:{...n.props,arrowheadStart:n.props.arrowheadStart==="none"?"arrow":"none"}};case"end":return{id:n.id,type:n.type,props:{...n.props,arrowheadEnd:n.props.arrowheadEnd==="none"?"arrow":"none"}}}});m(this,"onEditEnd",n=>{const{id:r,type:s,props:{text:o}}=n;o.trimEnd()!==n.props.text&&this.editor.updateShapes([{id:r,type:s,props:{text:o.trimEnd()}}])})}getDefaultProps(){return{dash:"draw",size:"m",fill:"none",color:"black",labelColor:"black",bend:0,start:{type:"point",x:0,y:0},end:{type:"point",x:2,y:0},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"}}getGeometry(n){const r=this.editor.getArrowInfo(n),s=r.isStraight?new iy({start:P.From(r.start.point),end:P.From(r.end.point)}):new tY({center:P.Cast(r.handleArc.center),radius:r.handleArc.radius,start:P.Cast(r.start.point),end:P.Cast(r.end.point),sweepFlag:r.bodyArc.sweepFlag,largeArcFlag:r.bodyArc.largeArcFlag});let o;if(n.props.text.trim()){const a=s.bounds,{w:i,h:l}=this.editor.textMeasure.measureText(n.props.text,{...Xn,fontFamily:Ra[n.props.font],fontSize:vi[n.props.size],maxWidth:null});let c=i,d=l;if(a.width>a.height){c=Math.max(Math.min(i,64),Math.min(a.width-64,i));const{w:h,h:u}=this.editor.textMeasure.measureText(n.props.text,{...Xn,fontFamily:Ra[n.props.font],fontSize:vi[n.props.size],maxWidth:c});c=h,d=u}if(c>16*vi[n.props.size]){c=16*vi[n.props.size];const{w:h,h:u}=this.editor.textMeasure.measureText(n.props.text,{...Xn,fontFamily:Ra[n.props.font],fontSize:vi[n.props.size],maxWidth:c});c=h,d=u}o=new Fa({x:r.middle.x-c/2-4.25,y:r.middle.y-d/2-4.25,width:c+8.5,height:d+8.5,isFilled:!0,isLabel:!0})}return new zi({children:o?[s,o]:[s],isSnappable:!1})}getHandles(n){const r=this.editor.getArrowInfo(n);return[{id:"start",type:"vertex",index:"a0",x:r.start.handle.x,y:r.start.handle.y,canBind:!0},{id:"middle",type:"virtual",index:"a2",x:r.middle.x,y:r.middle.y,canBind:!1},{id:"end",type:"vertex",index:"a3",x:r.end.handle.x,y:r.end.handle.y,canBind:!0}]}component(n){const r=Tn(),s=this.editor.getOnlySelectedShape(),o=this.editor.isInAny("select.idle","select.pointing_handle","select.dragging_handle","arrow.dragging")&&!this.editor.getInstanceState().isReadonly,a=this.editor.getArrowInfo(n),i=xe.ZeroFix(this.editor.getShapeGeometry(n).bounds),l=le.useMemo(()=>this.editor.environment.isSafari?tne+=1:0,[n]);if(!(a!=null&&a.isValid))return null;const c=fr[n.props.size],d=a.start.arrowhead&&nd(a,"start",c),h=a.end.arrowhead&&nd(a,"end",c),u=a.isStraight?Y2(a):G2(a);let p=null;if(s===n&&o){const{strokeDasharray:C,strokeDashoffset:_}=wr(a.isStraight?P.Dist(a.start.handle,a.end.handle):Math.abs(a.handleArc.length),2,{end:"skip",start:"skip",lengthRatio:2.5});p=n.props.start.type==="binding"||n.props.end.type==="binding"?f.jsx("path",{className:"tl-arrow-hint",d:a.isStraight?NV(a):TV(a),strokeDasharray:C,strokeDashoffset:_,strokeWidth:2,markerStart:n.props.start.type==="binding"?n.props.start.isExact?"":n.props.start.isPrecise?"url(#arrowhead-cross)":"url(#arrowhead-dot)":"",markerEnd:n.props.end.type==="binding"?n.props.end.isExact?"":n.props.end.isPrecise?"url(#arrowhead-cross)":"url(#arrowhead-dot)":"",opacity:.16}):null}const{strokeDasharray:y,strokeDashoffset:g}=wr(a.isStraight?a.length:Math.abs(a.bodyArc.length),c,{style:n.props.dash}),x=n.props.text.trim()?this.editor.getShapeGeometry(n).children[1]:null,w=!(a.start.arrowhead==="none"||a.start.arrowhead==="arrow"),S=!(a.end.arrowhead==="none"||a.end.arrowhead==="arrow"),v=(n.id+"_clip_"+l).replace(":","_");return f.jsxs(f.Fragment,{children:[f.jsxs(ls,{id:n.id,style:{minWidth:50,minHeight:50},children:[f.jsx("defs",{children:f.jsxs("mask",{id:v,children:[f.jsx("rect",{x:O(-100+i.minX),y:O(-100+i.minY),width:O(i.width+200),height:O(i.height+200),fill:"white"}),x&&f.jsx("rect",{x:x.x,y:x.y,width:x.w,height:x.h,fill:"black",rx:4,ry:4}),d&&w&&f.jsx("path",{d,fill:a.start.arrowhead==="arrow"?"none":"black",stroke:"none"}),h&&S&&f.jsx("path",{d:h,fill:a.end.arrowhead==="arrow"?"none":"black",stroke:"none"})]})}),f.jsxs("g",{fill:"none",stroke:r[n.props.color].solid,strokeWidth:c,strokeLinejoin:"round",strokeLinecap:"round",pointerEvents:"none",children:[p,f.jsxs("g",{mask:`url(#${v})`,children:[f.jsx("rect",{x:O(i.minX-100),y:O(i.minY-100),width:O(i.width+200),height:O(i.height+200),opacity:0}),f.jsx("path",{d:u,strokeDasharray:y,strokeDashoffset:g})]}),d&&w&&n.props.fill!=="none"&&f.jsx(fn,{theme:r,d,color:n.props.color,fill:n.props.fill}),h&&S&&n.props.fill!=="none"&&f.jsx(fn,{theme:r,d:h,color:n.props.color,fill:n.props.fill}),d&&f.jsx("path",{d}),h&&f.jsx("path",{d:h})]})]}),f.jsx(ene,{id:n.id,text:n.props.text,font:n.props.font,size:n.props.size,position:a.middle,width:(x==null?void 0:x.w)??0,labelColor:r[n.props.labelColor].solid})]})}indicator(n){const{start:r,end:s}=po(this.editor,n),o=this.editor.getArrowInfo(n),a=this.editor.getShapeGeometry(n),i=a.bounds,l=n.props.text.trim()?a.children[1]:null,c=I1(n.id);if(!o||P.Equals(r,s))return null;const d=fr[n.props.size],h=o.start.arrowhead&&nd(o,"start",d),u=o.end.arrowhead&&nd(o,"end",d),p=o.isStraight?Y2(o):G2(o),y=h&&o.start.arrowhead!=="arrow"||u&&o.end.arrowhead!=="arrow"||!!l,g=(n.id+"_clip").replace(":","_");return c&&l?f.jsx("rect",{x:O(l.x),y:O(l.y),width:l.w,height:l.h,rx:3.5,ry:3.5}):f.jsxs("g",{children:[y&&f.jsx("defs",{children:f.jsxs("mask",{id:g,children:[f.jsx("rect",{x:i.minX-100,y:i.minY-100,width:i.w+200,height:i.h+200,fill:"white"}),l&&f.jsx("rect",{x:O(l.x),y:O(l.y),width:l.w,height:l.h,fill:"black",rx:3.5,ry:3.5}),h&&f.jsx("path",{d:h,fill:o.start.arrowhead==="arrow"?"none":"black",stroke:"none"}),u&&f.jsx("path",{d:u,fill:o.end.arrowhead==="arrow"?"none":"black",stroke:"none"})]})}),f.jsxs("g",{...y?{mask:`url(#${g})`}:void 0,children:[y&&f.jsx("rect",{x:i.minX-100,y:i.minY-100,width:i.width+200,height:i.height+200,opacity:0}),f.jsx("path",{d:p})]}),h&&f.jsx("path",{d:h}),u&&f.jsx("path",{d:u}),l&&f.jsx("rect",{x:O(l.x),y:O(l.y),width:l.w,height:l.h,rx:3.5,ry:3.5})]})}toSvg(n,r){const s=br({isDarkMode:this.editor.user.getIsDarkMode()});r.addExportDef(M9(n.props.fill,s));const o=s[n.props.color].solid,a=this.editor.getArrowInfo(n),i=fr[n.props.size],l=document.createElementNS("http://www.w3.org/2000/svg","g");if(!a)return l;const c=a.start.arrowhead&&nd(a,"start",i),d=a.end.arrowhead&&nd(a,"end",i),h=this.editor.getShapeGeometry(n),u=h.bounds,p=n.props.text.trim()?h.children[1]:null,y=(n.id+"_clip").replace(":","_");if(c||d||p){const k=document.createElementNS("http://www.w3.org/2000/svg","defs"),C=document.createElementNS("http://www.w3.org/2000/svg","mask");C.id=y;const _=document.createElementNS("http://www.w3.org/2000/svg","rect");if(_.setAttribute("x",u.minX-100+""),_.setAttribute("y",u.minY-100+""),_.setAttribute("width",u.width+200+""),_.setAttribute("height",u.height+200+""),_.setAttribute("fill","white"),C.appendChild(_),c&&C.appendChild(K4(c,a.start.arrowhead)),d&&C.appendChild(K4(d,a.end.arrowhead)),p){const E=document.createElementNS("http://www.w3.org/2000/svg","rect");E.setAttribute("x",p.x+""),E.setAttribute("y",p.y+""),E.setAttribute("width",p.w+""),E.setAttribute("height",p.h+""),E.setAttribute("fill","black"),C.appendChild(E)}k.appendChild(C),l.appendChild(k)}const g=document.createElementNS("http://www.w3.org/2000/svg","g");g.setAttribute("mask",`url(#${y})`),l.appendChild(g);const x=document.createElementNS("http://www.w3.org/2000/svg","rect");x.setAttribute("x","-100"),x.setAttribute("y","-100"),x.setAttribute("width",u.width+200+""),x.setAttribute("height",u.height+200+""),x.setAttribute("fill","transparent"),x.setAttribute("stroke","none"),g.appendChild(x);const w=nne(a.isStraight?Y2(a):G2(a),o,i),{strokeDasharray:S,strokeDashoffset:v}=wr(a.isStraight?a.length:Math.abs(a.bodyArc.length),i,{style:n.props.dash});if(w.setAttribute("stroke-dasharray",S),w.setAttribute("stroke-dashoffset",v),g.appendChild(w),c&&l.appendChild(W4(c,n.props.color,i,n.props.arrowheadStart==="arrow"?"none":n.props.fill,s)),d&&l.appendChild(W4(d,n.props.color,i,n.props.arrowheadEnd==="arrow"?"none":n.props.fill,s)),p){r.addExportDef(j1(n.props.font));const k={fontSize:vi[n.props.size],lineHeight:Xn.lineHeight,fontFamily:If[n.props.font],padding:0,textAlign:"middle",width:p.w-8,verticalTextAlign:"middle",height:p.h,fontStyle:"normal",fontWeight:"normal",overflow:"wrap"},C=M1(this.editor,this.editor.textMeasure.measureTextSpans(n.props.text,k),k);C.setAttribute("fill",s[n.props.labelColor].solid),Array.from(C.children).forEach(I=>{const z=parseFloat(I.getAttribute("x")||"0"),A=parseFloat(I.getAttribute("y")||"0");I.setAttribute("x",z+4+p.x+"px"),I.setAttribute("y",A+p.y+"px")});const E=C.cloneNode(!0);E.setAttribute("stroke-width","2"),E.setAttribute("fill",s.background),E.setAttribute("stroke",s.background),l.appendChild(E),l.appendChild(C)}return l}getCanvasSvgDefs(){return[j9()]}}m(H0,"type","arrow"),m(H0,"props",Mq),m(H0,"migrations",jq);function K4(e,t){const n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("d",e),n.setAttribute("fill",t==="arrow"?"none":"black"),n.setAttribute("stroke","none"),n}function nne(e,t,n){const r=document.createElementNS("http://www.w3.org/2000/svg","path");return r.setAttribute("d",e),r.setAttribute("fill","none"),r.setAttribute("stroke",t),r.setAttribute("stroke-width",n+""),r}function W4(e,t,n,r,s){const o=document.createElementNS("http://www.w3.org/2000/svg","path");o.setAttribute("d",e),o.setAttribute("fill","none"),o.setAttribute("stroke",s[t].solid),o.setAttribute("stroke-width",n+"");const a=ks({d:e,fill:r,color:t,theme:s});if(a){const i=document.createElementNS("http://www.w3.org/2000/svg","g");return i.appendChild(a),i.appendChild(o),i}else return o}const U4="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='30' height='30' fill='none'%3E%3Cpath stroke='%23000' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M13 5H7a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6M19 5h6m0 0v6m0-6L13 17'/%3E%3C/svg%3E";function Bf({url:e,zoomLevel:t}){return f.jsx("a",{className:me("tl-hyperlink-button",{"tl-hyperlink-button__hidden":t<.32}),href:e,target:"_blank",rel:"noopener noreferrer",onPointerDown:hn,onPointerUp:hn,title:e,draggable:!1,children:f.jsx("div",{className:"tl-hyperlink-button__icon",style:{mask:`url("${U4}") center 100% / 100% no-repeat`,WebkitMask:`url("${U4}") center 100% / 100% no-repeat`}})})}const rne=[{offsetX:0,offsetY:2,blur:4,spread:0,color:"#00000029"},{offsetX:0,offsetY:3,blur:6,spread:0,color:"#0000001f"}];function $9(e){return rne.map(n=>{const{offsetX:r,offsetY:s,blur:o,spread:a,color:i}=n,l=new P(r,s),{x:c,y:d}=l.rot(-e);return`${c}px ${d}px ${o}px ${a}px ${i}`}).join(", ")}class G0 extends fa{constructor(){super(...arguments);m(this,"canResize",()=>!1);m(this,"hideSelectionBoundsFg",()=>!0);m(this,"onBeforeCreate",n=>{V4(this.editor,n)});m(this,"onBeforeUpdate",(n,r)=>{if(n.props.url!==r.props.url)if(vw(r.props.url))V4(this.editor,r);else return{...r,props:{...r.props,url:n.props.url}}})}getDefaultProps(){return{url:"",w:300,h:320,assetId:null}}component(n){const r=n.props.assetId?this.editor.getAsset(n.props.assetId):null,s=this.editor.getShapePageTransform(n).rotation(),o=sne(n);return f.jsx(Co,{children:f.jsxs("div",{className:"tl-bookmark__container",style:{boxShadow:$9(s)},children:[f.jsxs("div",{className:"tl-bookmark__image_container",children:[r!=null&&r.props.image?f.jsx("img",{className:"tl-bookmark__image",draggable:!1,src:r==null?void 0:r.props.image,alt:(r==null?void 0:r.props.title)||""}):f.jsx("div",{className:"tl-bookmark__placeholder"}),f.jsx(Bf,{url:n.props.url,zoomLevel:this.editor.getZoomLevel()})]}),f.jsxs("div",{className:"tl-bookmark__copy_container",children:[(r==null?void 0:r.props.title)&&f.jsx("h2",{className:"tl-bookmark__heading",children:cp((r==null?void 0:r.props.title)||"",54)}),(r==null?void 0:r.props.description)&&f.jsx("p",{className:"tl-bookmark__description",children:cp((r==null?void 0:r.props.description)||"",128)}),f.jsx("a",{className:"tl-bookmark__link",href:n.props.url||"",target:"_blank",rel:"noopener noreferrer",onPointerDown:hn,onPointerUp:hn,onClick:hn,children:cp(o,45)})]})]})})}indicator(n){return f.jsx("rect",{width:O(n.props.w),height:O(n.props.h),rx:"6",ry:"6"})}}m(G0,"type","bookmark"),m(G0,"props",Rq),m(G0,"migrations",$q);const sne=e=>{try{const t=new URL(e.props.url),n=t.pathname.replace(/\/*$/,"");return`${t.hostname}${n}`}catch{return e.props.url}};function V4(e,t){const{url:n}=t.props,r=Ul.createId(M0(n));e.getAsset(r)?t.props.assetId!==r&&e.updateShapes([{id:t.id,type:t.type,props:{assetId:r}}]):(e.updateShapes([{id:t.id,type:t.type,props:{assetId:null}}]),one(e,t))}const one=lI(async(e,t)=>{const{url:n}=t.props,r=await e.getAssetForExternalContent({type:"url",url:n});r&&e.batch(()=>{e.createAssets([r]),e.updateShapes([{id:t.id,type:t.type,props:{assetId:r.id}}])})},500);function Ti(e,t=!1){const n=e.length;if(n<2)return"";let r=e[0].point,s=e[1].point;if(n===2)return`M${Fn(r)}L${Fn(s)}`;let o="";for(let a=2,i=n-1;a<i;a++)r=e[a].point,s=e[a+1].point,o+=Or(r,s);return t?`M${Or(e[0].point,e[1].point)}Q${Fn(e[1].point)}${Or(e[1].point,e[2].point)}T${o}${Or(e[n-1].point,e[0].point)}${Or(e[0].point,e[1].point)}Z`:`M${Fn(e[0].point)}Q${Fn(e[1].point)}${Or(e[1].point,e[2].point)}${e.length>3?"T":""}${o}L${Fn(e[n-1].point)}`}function ane(e,t={}){const{start:n={},end:r={}}=t,{cap:s=!0}=n,{cap:o=!0}=r;lc(!n.taper&&!r.taper,"cap taper not supported here"),lc(!n.easing&&!r.easing,"cap easing not supported here"),lc(s&&o,"cap must be true");const a=fo(e,t);Dh(a,t);const i=ine(a);let l="";for(const c of i)l+=cne(c,t);return l}function ine(e){if(e.length<=2)return[e];const t=[];let n=[e[0]];for(let r=1;r<e.length-1;r++){const s=e[r-1],o=e[r],a=e[r+1],i=P.Angle(s.point,o.point),l=P.Angle(o.point,a.point),c=Math.abs(op(i,l))/Math.PI;if(c>.8){const y={...o,point:o.input};n.push(y),t.push(Ix(n)),n=[y];continue}if(n.push(o),c<.25)continue;const d=(s.radius+o.radius+a.radius)/3,h=P.Dist(s.point,o.point)/d,u=P.Dist(o.point,a.point)/d;if(h+u<1.5){n.push(o),t.push(Ix(n)),n=[o];continue}}return n.push(e[e.length-1]),t.push(Ix(n)),t}function Ix(e){const t=e[0];for(;e.length>2;){const r=e[1],s=P.Dist(t.point,r.point),o=(t.radius+r.radius)/2;if(s<o*.5)e.splice(1,1);else break}const n=e[e.length-1];for(;e.length>2;){const r=e[e.length-2],s=P.Dist(n.point,r.point),o=(n.radius+r.radius)/2;if(s<o*.5)e.splice(e.length-2,1);else break}return e.length>1&&(e[0]={...e[0],vector:P.FromAngle(P.Angle(e[1].point,e[0].point))},e[e.length-1]={...e[e.length-1],vector:P.FromAngle(P.Angle(e[e.length-1].point,e[e.length-2].point))}),e}function lne(e,t,n){return"M "+e+" "+t+" m -"+n+", 0 a "+n+","+n+" 0 1,1 "+n*2+",0 a "+n+","+n+" 0 1,1 -"+n*2+",0"}function cne(e,t={}){if(e.length===0)return"";if(e.length===1)return lne(e[0].point.x,e[0].point.y,e[0].radius);const{left:n,right:r}=_z(e,t);r.reverse();let s=`M${Fn(n[0])}T`;for(let o=1;o<n.length;o++)s+=Or(n[o-1],n[o]);{const o=e[e.length-1],a=o.radius,i=o.vector.clone().per().neg(),l=P.Add(o.point,P.Mul(i,a)),c=P.Add(o.point,P.Mul(i,-a));s+=`${Fn(l)}A${O(a)},${O(a)} 0 0 1 ${Fn(c)}T`}for(let o=1;o<r.length;o++)s+=Or(r[o-1],r[o]);{const o=e[0],a=o.radius,i=o.vector.clone().per(),l=P.Add(o.point,P.Mul(i,a)),c=P.Add(o.point,P.Mul(i,-a));s+=`${Fn(l)}A${O(a)},${O(a)} 0 0 1 ${Fn(c)}Z`}return s}function my(){const e=H();return J("zoom",()=>e.getZoomLevel()<.35,[e])}const dne=e=>e*.65+eF(e*lt/2)*.35,hne=e=>({size:1+e,thinning:.5,streamline:.62+(1+e)/8*.06,smoothing:.62,easing:xr.easeOutSine,simulatePressure:!0}),une=e=>({size:1+e*1.2,thinning:.62,streamline:.62,smoothing:.62,simulatePressure:!1,easing:dne}),X4=e=>({size:1+e,thinning:0,streamline:.62+(1+e)/8*.06,smoothing:.62,simulatePressure:!1,easing:xr.linear});function Hw({strokeWidth:e,showAsComplete:t}){return{size:1+e,thinning:0,streamline:.5,smoothing:.5,simulatePressure:!1,easing:xr.easeOutSine,last:t}}function Og(e,t,n,r){return{...r?X4(t):e.dash==="draw"?e.isPen?une(t):hne(t):X4(t),last:e.isComplete||n}}function Nd(e){const t=[];for(const n of e)if(n.type==="free"||n.points.length<2)t.push(...n.points.map(P.Cast));else{const r=Math.max(4,Math.floor(P.Dist(n.points[0],n.points[1])/16));t.push(...P.PointsBetween(n.points[0],n.points[1],r))}return t}function Y4(e,t){return{draw:"none",solid:"none",dotted:`0.1 ${t*2}`,dashed:`${t*2} ${t*2}`}[e.props.dash]}class Z0 extends Za{constructor(){super(...arguments);m(this,"hideResizeHandles",n=>zx(n));m(this,"hideRotateHandle",n=>zx(n));m(this,"hideSelectionBoundsFg",n=>zx(n));m(this,"onResize",(n,r)=>{const{scaleX:s,scaleY:o}=r,a=[];for(const i of n.props.segments)a.push({...i,points:i.points.map(({x:l,y:c,z:d})=>({x:ey(s*l),y:ey(o*c),z:d}))});return{props:{segments:a}}})}getDefaultProps(){return{segments:[],color:"black",fill:"none",dash:"draw",size:"m",isComplete:!1,isClosed:!1,isPen:!1}}getGeometry(n){const r=Nd(n.props.segments),s=fr[n.props.size];if(n.props.segments.length===1){const a=xe.FromPoints(r);if(a.width<s*2&&a.height<s*2)return new EP({x:-s,y:-s,radius:s,isFilled:!0})}const o=fo(r,Og(n.props,s,!0,!0)).map(a=>a.point);return n.props.isClosed?new Cn({points:o,isFilled:n.props.fill!=="none"}):new Pc({points:o})}component(n){var p;const r=Tn(),s=my(),o=fr[n.props.size],a=Nd(n.props.segments),i=n.props.isComplete||((p=Pr(n.props.segments))==null?void 0:p.type)==="straight";let l=o;!s&&!n.props.isPen&&n.props.dash==="draw"&&a.length===1&&(l+=$i(n.id)()*(o/6));const c=Og(n.props,l,i,s);if(!s&&n.props.dash==="draw")return f.jsxs(ls,{id:n.id,children:[n.props.isClosed&&n.props.fill&&a.length>1?f.jsx(fn,{theme:r,fill:n.props.isClosed?n.props.fill:"none",color:n.props.color,d:Ti(fo(a,c),n.props.isClosed)}):null,f.jsx("path",{d:ane(a,c),strokeLinecap:"round",fill:r[n.props.color].solid})]});const d=fo(a,c),h=d.length<2,u=h?Px(a[0],0):Ti(d,n.props.isClosed);return f.jsxs(ls,{id:n.id,children:[f.jsx(fn,{theme:r,color:n.props.color,fill:h||n.props.isClosed?n.props.fill:"none",d:u}),f.jsx("path",{d:u,strokeLinecap:"round",fill:h?r[n.props.color].solid:"none",stroke:r[n.props.color].solid,strokeWidth:o,strokeDasharray:h?"none":Y4(n,o),strokeDashoffset:"0"})]})}indicator(n){var h;const r=my(),s=fr[n.props.size],o=Nd(n.props.segments);let a=s;!r&&!n.props.isPen&&n.props.dash==="draw"&&o.length===1&&(a+=$i(n.id)()*(s/6));const i=n.props.isComplete||((h=Pr(n.props.segments))==null?void 0:h.type)==="straight",l=Og(n.props,a,i,!0),c=fo(o,l),d=c.length>1?Ti(c,n.props.isClosed):Px(o[0],a);return f.jsx("path",{d})}toSvg(n,r){var g;const s=br({isDarkMode:this.editor.user.getIsDarkMode()});r.addExportDef(M9(n.props.fill,s));const{color:o}=n.props,a=fr[n.props.size],i=Nd(n.props.segments),l=n.props.isComplete||((g=Pr(n.props.segments))==null?void 0:g.type)==="straight";let c=a;!n.props.isPen&&n.props.dash==="draw"&&i.length===1&&(c+=$i(n.id)()*(a/6));const d=Og(n.props,c,l,!1),h=fo(i,d),u=h.length>1?Ti(h,n.props.isClosed):Px(i[0],c);let p;if(n.props.dash==="draw"||h.length<2){Dh(h,d);const x=qf(h,d),w=document.createElementNS("http://www.w3.org/2000/svg","path");w.setAttribute("d",Nf(x,!0)),w.setAttribute("fill",s[o].solid),w.setAttribute("stroke-linecap","round"),p=w}else{const x=document.createElementNS("http://www.w3.org/2000/svg","path");x.setAttribute("d",u),x.setAttribute("stroke",s[o].solid),x.setAttribute("fill","none"),x.setAttribute("stroke-linecap","round"),x.setAttribute("stroke-width",a.toString()),x.setAttribute("stroke-dasharray",Y4(n,a)),x.setAttribute("stroke-dashoffset","0"),p=x}const y=ks({fill:n.props.isClosed?n.props.fill:"none",d:u,color:n.props.color,theme:s});if(y){const x=document.createElementNS("http://www.w3.org/2000/svg","g");return x.appendChild(y),x.appendChild(p),x}return p}getCanvasSvgDefs(){return[j9()]}expandSelectionOutlinePx(n){const r=n.props.dash==="draw"?1.6:1;return fr[n.props.size]*r/2}}m(Z0,"type","draw"),m(Z0,"props",Oq),m(Z0,"migrations",Dq);function Px(e,t){const n=(t+1)*.5;return`M ${e.x} ${e.y} m -${n}, 0 a ${n},${n} 0 1,0 ${n*2},0 a ${n},${n} 0 1,0 -${n*2},0`}function zx(e){return e.props.segments.length===1&&e.props.segments[0].points.length<2}function pne(e,t,n={}){const{newPoint:r,handle:s,scaleX:o,scaleY:a}=t,{minWidth:i=1,maxWidth:l=1/0,minHeight:c=1,maxHeight:d=1/0}=n;let h=e.props.w*o,u=e.props.h*a;const p=new P(0,0);if(h>0){if(h<i){switch(s){case"top_left":case"left":case"bottom_left":{p.x=h-i;break}case"top":case"bottom":{p.x=(h-i)/2;break}default:p.x=0}h=i}}else if(p.x=h,h=-h,h<i){switch(s){case"top_left":case"left":case"bottom_left":{p.x=-h;break}default:p.x=-i}h=i}if(u>0){if(u<c){switch(s){case"top_left":case"top":case"top_right":{p.y=u-c;break}case"right":case"left":{p.y=(u-c)/2;break}default:p.y=0}u=c}}else if(p.y=u,u=-u,u<c){switch(s){case"top_left":case"top":case"top_right":{p.y=-u;break}default:p.y=-c}u=c}const{x:y,y:g}=p.rot(e.rotation).add(r);return{x:y,y:g,props:{w:Math.min(l,h),h:Math.min(d,u)}}}const fne=e=>Object.entries(e).filter(([t,n])=>n).map(([t])=>t).join(" ");class Q0 extends fa{constructor(){super(...arguments);m(this,"hideSelectionBoundsFg",n=>!this.canResize(n));m(this,"canEdit",()=>!0);m(this,"canUnmount",n=>{var r,s;return!!((s=(r=Na(n.props.url))==null?void 0:r.definition)!=null&&s.canUnmount)});m(this,"canResize",n=>{var r,s;return!!((s=(r=Na(n.props.url))==null?void 0:r.definition)!=null&&s.doesResize)});m(this,"canEditInReadOnly",()=>!0);m(this,"isAspectRatioLocked",n=>{const r=Na(n.props.url);return(r==null?void 0:r.definition.isAspectRatioLocked)??!1});m(this,"onResize",(n,r)=>{const s=this.isAspectRatioLocked(n),o=Na(n.props.url);let a=(o==null?void 0:o.definition.minWidth)??200,i=(o==null?void 0:o.definition.minHeight)??200;if(s){const l=n.props.w/n.props.h;l>1?a*=l:i/=l}return pne(n,r,{minWidth:a,minHeight:i})})}getDefaultProps(){return{w:300,h:300,url:""}}component(n){const{w:r,h:s,url:o}=n.props,a=I1(n.id),i=b.useMemo(()=>Tz(o),[o]),l=J("is hovering",()=>{const{editingShapeId:u,hoveredShapeId:p}=this.editor.getCurrentPageState();if(u&&p!==u){const y=this.editor.getShape(u);if(y&&this.editor.isShapeOfType(y,"embed"))return!0}return!1},[]),c=this.editor.getShapePageTransform(n).rotation(),d=a||l;if((i==null?void 0:i.definition.type)==="github_gist"){const u=i.url.split("/").pop();if(!u)throw Error("No gist id!");return f.jsx(Co,{className:"tl-embed-container",id:n.id,children:f.jsx(gne,{id:u,width:O(r),height:O(s),isInteractive:d,pageRotation:c})})}const h=fne({...qq,...(i==null?void 0:i.definition.overridePermissions)??{}});return f.jsx(Co,{className:"tl-embed-container",id:n.id,children:i!=null&&i.definition?f.jsx("iframe",{className:"tl-embed",sandbox:h,src:i.embedUrl,width:O(r),height:O(s),draggable:!1,frameBorder:"0",referrerPolicy:"no-referrer-when-downgrade",style:{border:0,pointerEvents:d?"auto":"none",zIndex:d?"":"-1",boxShadow:$9(c),borderRadius:(i==null?void 0:i.definition.overrideOutlineRadius)??8,background:i==null?void 0:i.definition.backgroundColor}}):null})}indicator(n){const r=b.useMemo(()=>Na(n.props.url),[n.props.url]);return f.jsx("rect",{width:O(n.props.w),height:O(n.props.h),rx:(r==null?void 0:r.definition.overrideOutlineRadius)??8,ry:(r==null?void 0:r.definition.overrideOutlineRadius)??8})}}m(Q0,"type","embed"),m(Q0,"props",Bq),m(Q0,"migrations",Fq);function gne({id:e,file:t,isInteractive:n,width:r,height:s,style:o,pageRotation:a}){return f.jsx("iframe",{className:"tl-embed",draggable:!1,width:O(r),height:O(s),frameBorder:"0",scrolling:"no",seamless:!0,referrerPolicy:"no-referrer-when-downgrade",style:{...o,pointerEvents:n?"all":"none",zIndex:n?"":"-1",boxShadow:$9(a)},srcDoc:`
			<html>
				<head>
					<base target="_blank">
				</head>
				<body>
					<script src=${`https://gist.github.com/${e}.js${t?`?file=${t}`:""}`}><\/script>
					<style type="text/css">
						* { margin: 0px; }
						table { height: 100%; background-color: red; }
						.gist { background-color: none; height: 100%;  }
						.gist .gist-file { height: calc(100vh - 2px); padding: 0px; display: grid; grid-template-rows: 1fr auto; }
					</style>
				</body>
			</html>`})}const mne=b.forwardRef(({id:e,name:t,isEditing:n},r)=>{const s=H(),o=b.useCallback(l=>{l.key==="Enter"&&!l.nativeEvent.isComposing&&(hn(l),l.currentTarget.blur(),s.setEditingShape(null))},[s]),a=b.useCallback(l=>{const c=s.getShape(e);if(!c)return;const d=c.props.name,h=l.currentTarget.value.trim();d!==h&&s.updateShapes([{id:e,type:"frame",props:{name:h}}],{squashing:!0})},[e,s]),i=b.useCallback(l=>{const c=s.getShape(e);if(!c)return;const d=c.props.name,h=l.currentTarget.value;d!==h&&s.updateShapes([{id:e,type:"frame",props:{name:h}}],{squashing:!0})},[e,s]);return f.jsxs("div",{className:`tl-frame-label ${n?"tl-frame-label__editing":""}`,children:[f.jsx("input",{className:"tl-frame-name-input",ref:r,style:{display:n?void 0:"none"},value:t,autoFocus:!0,onKeyDown:o,onBlur:a,onChange:i}),$z(t,"Frame")+String.fromCharCode(8203)]})}),yne=function({id:t,name:n,width:r,height:s}){const o=H(),a=J("shape rotation",()=>xo(o.getShapePageTransform(t).rotation()),[o,t]),i=I1(t),l=b.useRef(null),c=b.useCallback(y=>{const g=qr(y);o.getEditingShapeId()!==t&&(o.dispatch({type:"pointer",name:"pointer_down",target:"shape",shape:o.getShape(t),...g}),y.preventDefault())},[o,t]);b.useEffect(()=>{const y=l.current;y&&i&&(y.focus(),y.select(),requestAnimationFrame(()=>{document.activeElement!==y&&(y.focus(),y.select())}))},[l,i]);const h=((a+Math.PI/4)*(2/Math.PI)+4)%4,u=["top","left","bottom","right"][Math.floor(h)];let p;switch(u){case"top":p="";break;case"right":p=`translate(${O(r)}px, 0px) rotate(90deg)`;break;case"bottom":p=`translate(${O(r)}px, ${O(s)}px) rotate(180deg)`;break;case"left":p=`translate(0px, ${O(s)}px) rotate(270deg)`;break}return f.jsx("div",{className:"tl-frame-heading",style:{overflow:i?"visible":"hidden",maxWidth:`calc(var(--tl-zoom) * ${Math.ceil(u==="top"||u==="bottom"?r:s)}px + var(--space-5))`,bottom:"100%",transform:`${p} scale(var(--tl-scale)) translateX(calc(-1 * var(--space-3))`},onPointerDown:c,children:f.jsx("div",{className:"tl-frame-heading-hit-area",children:f.jsx(mne,{ref:l,id:t,name:n,isEditing:i})})})};function $z(e,t){return e.match(/^\s*$/)?t:e}class J0 extends fa{constructor(){super(...arguments);m(this,"canBind",()=>!0);m(this,"canEdit",()=>!0);m(this,"canReceiveNewChildrenOfType",(n,r)=>!n.isLocked);m(this,"canDropShapes",(n,r)=>!n.isLocked);m(this,"onDragShapesOver",(n,r)=>r.every(s=>s.parentId===n.id)?{shouldHint:!1}:(this.editor.reparentShapes(r.map(s=>s.id),n.id),{shouldHint:!0}));m(this,"onDragShapesOut",(n,r)=>{const s=this.editor.getShape(n.parentId);s&&this.editor.isShapeOfType(s,"group")?this.editor.reparentShapes(r,s.id):this.editor.reparentShapes(r,this.editor.getCurrentPageId())});m(this,"onResizeEnd",n=>{const r=this.editor.getShapePageBounds(n),s=this.editor.getSortedChildIdsForParent(n.id),o=[];for(const a of s){const i=this.editor.getShapePageBounds(a);r.includes(i)||o.push(a)}o.length>0&&this.editor.reparentShapes(o,this.editor.getCurrentPageId())});m(this,"onResize",(n,r)=>d9(n,r))}getDefaultProps(){return{w:160*2,h:90*2,name:""}}getGeometry(n){return new Fa({width:n.props.w,height:n.props.h,isFilled:!1})}component(n){const r=this.editor.getShapeGeometry(n).bounds,s=Tn(),o=J("is creating this shape",()=>{var l;const a=this.editor.getStateDescendant("select.resizing");if(!a||!a.getIsActive())return!1;const i=a==null?void 0:a.info;return i?i.isCreating&&((l=this.editor.getOnlySelectedShape())==null?void 0:l.id)===n.id:!1},[n.id]);return f.jsxs(f.Fragment,{children:[f.jsx(ls,{children:f.jsx("rect",{className:me("tl-frame__body",{"tl-frame__creating":o}),width:r.width,height:r.height,fill:s.solid,stroke:s.text})}),o?null:f.jsx(yne,{id:n.id,name:n.props.name,width:r.width,height:r.height})]})}toSvg(n){const r=br({isDarkMode:this.editor.user.getIsDarkMode()}),s=document.createElementNS("http://www.w3.org/2000/svg","g"),o=document.createElementNS("http://www.w3.org/2000/svg","rect");o.setAttribute("width",n.props.w.toString()),o.setAttribute("height",n.props.h.toString()),o.setAttribute("fill",r.solid),o.setAttribute("stroke",r.black.solid),o.setAttribute("stroke-width","1"),o.setAttribute("rx","1"),o.setAttribute("ry","1"),s.appendChild(o);const l=((xo(this.editor.getShapePageTransform(n.id).rotation())+Math.PI/4)*(2/Math.PI)+4)%4,c=["top","left","bottom","right"][Math.floor(l)];let d;switch(c){case"top":d="";break;case"right":d=`translate(${O(n.props.w)}px, 0px) rotate(90deg)`;break;case"bottom":d=`translate(${O(n.props.w)}px, ${O(n.props.h)}px) rotate(180deg)`;break;case"left":d=`translate(0px, ${O(n.props.h)}px) rotate(270deg)`;break;default:d=""}const h={fontSize:12,fontFamily:"Inter, sans-serif",textAlign:"start",width:n.props.w,height:32,padding:0,lineHeight:1,fontStyle:"normal",fontWeight:"normal",overflow:"truncate-ellipsis",verticalTextAlign:"middle"},u=this.editor.textMeasure.measureTextSpans($z(n.props.name,"Frame")+String.fromCharCode(8203),h),p=u[0],y=Pr(u),g=y.box.w+y.box.x-p.box.x,x=M1(this.editor,u,{offsetY:-h.height-2,...h});x.style.setProperty("transform",d);const w=document.createElementNS("http://www.w3.org/2000/svg","rect");return w.setAttribute("x","-8px"),w.setAttribute("y",-h.height-4+"px"),w.setAttribute("width",g+16+"px"),w.setAttribute("height",`${h.height}px`),w.setAttribute("rx","4px"),w.setAttribute("ry","4px"),w.setAttribute("fill",r.background),s.appendChild(w),s.appendChild(x),s}indicator(n){const r=this.editor.getShapeGeometry(n).bounds;return f.jsx("rect",{width:O(r.width),height:O(r.height),className:"tl-frame-indicator"})}providesBackgroundForChildren(){return!0}}m(J0,"type","frame"),m(J0,"props",Kq),m(J0,"migrations",Wq);function xne(e,t,n,r){if((e==="start-legacy"||e==="end-legacy")&&n.length!==0){const s=xe.From(n[0].box);for(const{box:o}of n)s.union(o);if(e==="start-legacy")return(r-2*t-s.width)/2;if(e==="end-legacy")return-(r-2*t-s.width)/2}}function wne(e){return e==="start-legacy"||e==="middle-legacy"||e==="end-legacy"}const Oz=le.memo(function({id:t,type:n,text:r,size:s,labelColor:o,font:a,align:i,verticalAlign:l,wrap:c,bounds:d}){const{rInput:h,isEmpty:u,isEditing:p,handleFocus:y,handleChange:g,handleKeyDown:x,handleBlur:w,handleInputPointerDown:S,handleDoubleClick:v}=R9(t,n,r),k=Oi.normalizeTextForDom(r),C=k.length>0,_=wne(i),E=Tn();return!p&&!C?null:f.jsx("div",{className:"tl-text-label","data-font":a,"data-align":i,"data-hastext":!u,"data-isediting":p,"data-textwrap":!!c,style:{justifyContent:i==="middle"||_?"center":i,alignItems:l==="middle"?"center":l,...d?{top:d.minY,left:d.minX,width:d.width,height:d.height,position:"absolute"}:{}},children:f.jsxs("div",{className:"tl-text-label__inner",style:{fontSize:gh[s],lineHeight:gh[s]*Xn.lineHeight+"px",minHeight:Xn.lineHeight+32,minWidth:0,color:E[o].solid},children:[f.jsx("div",{className:"tl-text tl-text-content",dir:"ltr",children:k}),p&&f.jsx("textarea",{ref:h,className:"tl-text tl-text-input",name:"text",tabIndex:-1,autoComplete:"false",autoCapitalize:"false",autoCorrect:"false",autoSave:"false",autoFocus:!0,placeholder:"",spellCheck:"true",wrap:"off",dir:"auto",datatype:"wysiwyg",defaultValue:r,onFocus:y,onChange:g,onKeyDown:x,onBlur:w,onContextMenu:hn,onPointerDown:S,onDoubleClick:v})]})})});function Dz({bounds:e,editor:t,font:n,shape:r}){const o={fontSize:gh[r.props.size],fontFamily:n,textAlign:r.props.align,verticalTextAlign:r.props.verticalAlign,width:Math.ceil(e.width),height:Math.ceil(e.height),padding:16,lineHeight:Xn.lineHeight,fontStyle:"normal",fontWeight:"normal",overflow:"wrap",offsetX:0},a=t.textMeasure.measureTextSpans(r.props.text,o),i=xne(r.props.align,16,a,e.width);return i&&(o.offsetX=i),M1(t,a,o)}function rr(e){return`${O(e.x)},${O(e.y)} `}function qz(e=""){let t=0,n=0,r=0,s=0;function o(){const a=t^t<<11;return t=n,n=r,r=s,s^=(s>>>19^a^a>>>8)>>>0,s/4294967296*2}for(let a=0;a<e.length+64;a++)t^=e.charCodeAt(a)|0,o();return o}function Op(e){let t="M";const n=e.length;let r,s,o;for(let a=0,i=n;a<i;a+=3)r=e[a],s=e[a+1],o=e[a+2],t+=`${rr(r)}L${rr(s)}Q${rr(o)}`;return t+=`${rr(e[0])}`,t}function Dp(e,t,n,r,s){const o=[],a=qz(e);let i=t[0],l;const c=t.length;for(let d=0,h=c*s;d<h;d++){l=P.AddXY(t[(d+1)%c],a()*n,a()*n);const u=P.Sub(l,i),p=P.Len(u),y=P.Div(u,p).mul(Math.min(p/4,r));o.push(P.Add(i,y),P.Add(l,y.neg()),l),i=l}return o}function Ax(e,t,n){let r=`M ${rr(t[0])}L`,s=`M ${rr(t[0])}L`;const o=n/3,a=n*2,i=qz(e);let l=t[0],c,d=t[0],h;const u=t.length;for(let p=0,y=u-1;p<y;p++){c=t[p+1],h=P.AddXY(t[p+1],i()*o,i()*o);const g=P.Sub(c,l),x=P.Len(g),w=P.Div(g,x).mul(Math.min(x/4,a)),S=P.Add(l,w),v=P.Add(c,w.neg()),k=P.Sub(h,d),C=P.Len(k),_=P.Div(k,C).mul(Math.min(C/4,a)),E=P.Add(d,_),I=P.Add(h,_.neg());p===y-1?(r+=`${rr(S)}L ${rr(c)}`,s+=`${rr(E)}L ${rr(h)}`):(r+=`${rr(S)}L ${rr(v)}Q ${rr(c)}`,s+=`${rr(E)}L ${rr(I)}Q ${rr(h)}`,l=c,d=h)}return[r,r+s]}function H4(e,t){const n=Math.min(e,t)/2,r=Math.max(e,t)-n*2;return Math.PI*(n*2)+2*r}function Sne(e,t,n){const r=Math.min(e,t)/2,s=Math.max(e,t)-r*2,a=(Math.PI*(r*2)+2*s)/n,i=e>t?[{type:"straight",start:new P(r,0),delta:new P(1,0)},{type:"arc",center:new P(e-r,r),startAngle:-lt/2},{type:"straight",start:new P(e-r,t),delta:new P(-1,0)},{type:"arc",center:new P(r,r),startAngle:lt/2}]:[{type:"straight",start:new P(e,r),delta:new P(0,1)},{type:"arc",center:new P(r,t-r),startAngle:0},{type:"straight",start:new P(0,t-r),delta:new P(0,-1)},{type:"arc",center:new P(r,r),startAngle:lt}];let l=0;const c=[];for(let d=0;d<n;d++){const h=i[0];h.type==="straight"?c.push(P.Add(h.start,P.Mul(h.delta,l))):c.push(wI(h.center.x,h.center.y,r,h.startAngle+l/r)),l+=a;let u=h.type==="straight"?s:lt*r;for(;l>u;)l-=u,i.push(i.shift()),u=i[0].type==="straight"?s:lt*r}return c}const bne=(e,t,n,r,s)=>{switch(e){case"s":return t;case"m":return n;case"l":return r;case"xl":return s}};function Ff(e,t,n,r){const s=$i(n),o=H4(e,t),a=Math.max(Math.ceil(o/bne(r,50,70,100,130)),6,Math.ceil(o/Math.min(e,t))),i=o/a*.2,l=Math.max(e-i*2,1),c=Math.max(t-i*2,1),d=(e-l)/2,h=(t-c)/2,u=H4(l,c)/a,p=Sne(l,c,a).map(S=>S.addXY(d,h)),y=e<20?0:i*.3,g=t<20?0:i*.3,x=p.slice(0);for(let S=0;S<Math.floor(a/2);S++)x[S]=P.AddXY(x[S],s()*y,s()*g),x[a-S-1]=P.AddXY(x[a-S-1],s()*y,s()*g);const w=[];for(let S=0;S<x.length;S++){const v=S===x.length-1?0:S+1,k=x[S],C=x[v],_=p[S],E=p[v],I=P.Average([_,E]),z=P.Angle(_,E)-Math.PI/2,A=P.Dist(_,E),T=u-A,R=P.Dist(k,C)/A,M=(Math.max(d,h)+T)*R,D=P.Add(I,P.FromAngle(z,M));D.x<0?D.x=0:D.x>e&&(D.x=e),D.y<0?D.y=0:D.y>t&&(D.y=t);const U=Bz(k,C,D),Y=P.Dist(U||P.Average([k,C]),k);w.push({leftPoint:k,rightPoint:C,arcPoint:D,center:U,radius:Y})}return w}function Bz(e,t,n){const r=e.x*(t.y-n.y)-e.y*(t.x-n.x)+t.x*n.y-n.x*t.y,s=(e.x*e.x+e.y*e.y)*(n.y-t.y)+(t.x*t.x+t.y*t.y)*(e.y-n.y)+(n.x*n.x+n.y*n.y)*(t.y-e.y),o=(e.x*e.x+e.y*e.y)*(t.x-n.x)+(t.x*t.x+t.y*t.y)*(n.x-e.x)+(n.x*n.x+n.y*n.y)*(e.x-t.x),a=-s/(2*r),i=-o/(2*r);return!Number.isFinite(a)||!Number.isFinite(i)?null:new P(a,i)}function vne(e,t,n,r){const s=[],o=Ff(e,t,n,r);for(const{center:a,radius:i,leftPoint:l,rightPoint:c}of o)s.push(...kne(l,c,a,i,10));return s}function Kf(e,t,n,r){const s=Ff(e,t,n,r);let o=`M${O(s[0].leftPoint.x)},${O(s[0].leftPoint.y)}`;for(const{leftPoint:a,rightPoint:i,radius:l,center:c}of s){if(c===null){o+=` L${O(i.x)},${O(i.y)}`;continue}const d=Kz(a,i,c)?"0":"1";o+=` A${O(l)},${O(l)} 0 ${d},1 ${O(i.x)},${O(i.y)}`}return o+=" Z",o}function Fz(e,t,n,r){const s=$i(n),o=r==="s"?.5:r==="m"?.7:r==="l"?.9:1.6,a=y=>y+s()*o*2,i=Ff(e,t,n,r),d=i.reduce((y,g)=>y+P.Dist(g.leftPoint,g.rightPoint),0)/i.length>o*15?y=>new P(a(y.x),a(y.y)):y=>y;let h=`M${O(i[0].leftPoint.x)},${O(i[0].leftPoint.y)}`,u=d(i[0].leftPoint),p=`M${O(u.x)},${O(u.y)}`;for(const{leftPoint:y,center:g,rightPoint:x,radius:w,arcPoint:S}of i){if(g===null){h+=` L${O(x.x)},${O(x.y)}`;const I=d(x);p+=` L${O(I.x)},${O(I.y)}`,u=I;continue}const v=Kz(y,x,g)?"0":"1";h+=` A${O(w)},${O(w)} 0 ${v},1 ${O(x.x)},${O(x.y)}`;const k=d(x),C=d(S),_=Bz(u,k,C);if(!_){p+=` L${O(k.x)},${O(k.y)}`,u=k;continue}const E=Math.abs(P.Dist(_,u));p+=` A${O(E)},${O(E)} 0 ${v},1 ${O(k.x)},${O(k.y)}`,u=k}return h+p+" Z"}function kne(e,t,n,r,s){if(n===null)return[P.From(e),P.From(t)];const o=[],a=P.Angle(n,e),i=P.Angle(n,t),l=w1(a,i);for(let c=0;c<s;c++){const d=c/(s-1),h=a+l*d,u=wI(n.x,n.y,r,h);o.push(u)}return o}function Kz(e,t,n){return(t.x-e.x)*(n.y-e.y)-(t.y-e.y)*(n.x-e.x)>0}const Cne=b.memo(function({dash:t,fill:n,color:r,strokeWidth:s,w:o,h:a,id:i,size:l}){const c=Tn(),d=Kf(o,a,i,l),h=Ff(o,a,i,l);return f.jsxs(f.Fragment,{children:[f.jsx(fn,{theme:c,d,fill:n,color:r}),f.jsx("g",{strokeWidth:s,stroke:c[r].solid,fill:"none",pointerEvents:"all",children:h.map(({leftPoint:u,rightPoint:p,center:y,radius:g},x)=>{const w=y?g*xo(xo(P.Angle(y,p))-xo(P.Angle(y,u))):P.Dist(u,p),{strokeDasharray:S,strokeDashoffset:v}=wr(w,s,{style:t,start:"outset",end:"outset"});return f.jsx("path",{d:y?`M${u.x},${u.y}A${g},${g},0,0,1,${p.x},${p.y}`:`M${u.x},${u.y}L${p.x},${p.y}`,strokeDasharray:S,strokeDashoffset:v},x)})})]})});function _ne({dash:e,fill:t,color:n,theme:r,strokeWidth:s,w:o,h:a,id:i,size:l}){const c=Kf(o,a,i,l),d=Ff(o,a,i,l),h=document.createElementNS("http://www.w3.org/2000/svg","g");h.setAttribute("stroke-width",s.toString()),h.setAttribute("stroke",r[n].solid),h.setAttribute("fill","none");for(const{leftPoint:p,rightPoint:y,center:g,radius:x}of d){const w=g?x*xo(xo(P.Angle(g,y))-xo(P.Angle(g,p))):P.Dist(p,y),{strokeDasharray:S,strokeDashoffset:v}=wr(w,s,{style:e,start:"outset",end:"outset"}),k=document.createElementNS("http://www.w3.org/2000/svg","path");k.setAttribute("d",g?`M${p.x},${p.y}A${x},${x},0,0,1,${y.x},${y.y}`:`M${p.x},${p.y}L${y.x},${y.y}`),k.setAttribute("stroke-dasharray",S.toString()),k.setAttribute("stroke-dashoffset",v.toString()),h.appendChild(k)}const u=ks({d:c,fill:t,color:n,theme:r});return Io(h,u)}const Ene=b.memo(function({w:t,h:n,strokeWidth:r,dash:s,color:o,fill:a}){const i=Tn(),l=t/2,c=n/2,d=Math.max(0,l),h=Math.max(0,c),u=Tp(d,h),{strokeDasharray:p,strokeDashoffset:y}=wr(u<64?u*2:u,r,{style:s,snap:4,closed:!0}),g=`M${l-d},${c}a${d},${h},0,1,1,${d*2},0a${d},${h},0,1,1,-${d*2},0`;return f.jsxs(f.Fragment,{children:[f.jsx(fn,{theme:i,d:g,color:o,fill:a}),f.jsx("path",{d:g,strokeWidth:r,width:O(t),height:O(n),fill:"none",stroke:i[o].solid,strokeDasharray:p,strokeDashoffset:y,pointerEvents:"all"})]})});function Ine({w:e,h:t,strokeWidth:n,dash:r,color:s,theme:o,fill:a}){const i=e/2,l=t/2,c=Math.max(0,i-n/2),d=Math.max(0,l-n/2),h=Tp(c,d),{strokeDasharray:u,strokeDashoffset:p}=wr(h<64?h*2:h,n,{style:r,snap:4,closed:!0}),y=`M${i-c},${l}a${c},${d},0,1,1,${c*2},0a${c},${d},0,1,1,-${c*2},0`,g=document.createElementNS("http://www.w3.org/2000/svg","path");g.setAttribute("d",y),g.setAttribute("stroke-width",n.toString()),g.setAttribute("width",e.toString()),g.setAttribute("height",t.toString()),g.setAttribute("fill","none"),g.setAttribute("stroke",o[s].solid),g.setAttribute("stroke-dasharray",u),g.setAttribute("stroke-dashoffset",p);const x=ks({d:y,fill:a,color:s,theme:o});return Io(g,x)}function Wz(e,t){if(t>e){const r=e/2;return`
    M0,${r}
    a${r},${r},0,1,1,${r*2},0
    L${e},${t-r}
    a${r},${r},0,1,1,-${r*2},0
    Z`}const n=t/2;return`
    M${n},0
    L${e-n},0
    a${n},${n},0,1,1,0,${n*2}
    L${n},${t}
    a${n},${n},0,1,1,0,${-n*2}
    Z`}function Uz(e,t){if(e>t){const r=t/2;return Tp(r,r)+(e-r*2)*2}const n=e/2;return Tp(n,n)+(t-n*2)*2}const Pne=b.memo(function({w:t,h:n,strokeWidth:r,dash:s,color:o,fill:a}){const i=Tn(),l=Wz(t,n),c=Uz(t,n),{strokeDasharray:d,strokeDashoffset:h}=wr(c<64?c*2:c,r,{style:s,snap:4,start:"outset",end:"outset",closed:!0});return f.jsxs(f.Fragment,{children:[f.jsx(fn,{theme:i,d:l,color:o,fill:a}),f.jsx("path",{d:l,strokeWidth:r,width:O(t),height:O(n),fill:"none",stroke:i[o].solid,strokeDasharray:d,strokeDashoffset:h,pointerEvents:"all"})]})});function G4({w:e,h:t,strokeWidth:n,dash:r,color:s,theme:o,fill:a}){const i=Wz(e,t),l=Uz(e,t),{strokeDasharray:c,strokeDashoffset:d}=wr(l<64?l*2:l,n,{style:r,snap:4,closed:!0}),h=document.createElementNS("http://www.w3.org/2000/svg","path");h.setAttribute("d",i),h.setAttribute("stroke-width",n.toString()),h.setAttribute("width",e.toString()),h.setAttribute("height",t.toString()),h.setAttribute("fill","none"),h.setAttribute("stroke",o[s].solid),h.setAttribute("stroke-dasharray",c),h.setAttribute("stroke-dashoffset",d);const u=ks({d:i,fill:a,color:s,theme:o});return Io(h,u)}const zne=b.memo(function({dash:t,fill:n,color:r,strokeWidth:s,outline:o,lines:a}){const i=Tn(),l="M"+o[0]+"L"+o.slice(1)+"Z";return f.jsxs(f.Fragment,{children:[f.jsx(fn,{theme:i,d:l,fill:n,color:r}),f.jsxs("g",{strokeWidth:s,stroke:i[r].solid,fill:"none",pointerEvents:"all",children:[Array.from(Array(o.length)).map((c,d)=>{const h=o[d],u=o[(d+1)%o.length],p=P.Dist(h,u),{strokeDasharray:y,strokeDashoffset:g}=wr(p,s,{style:t,start:"outset",end:"outset"});return f.jsx("line",{x1:h.x,y1:h.y,x2:u.x,y2:u.y,strokeDasharray:y,strokeDashoffset:g},d)}),a&&a.map(([c,d],h)=>{const u=P.Dist(c,d),{strokeDasharray:p,strokeDashoffset:y}=wr(u,s,{style:t,start:"skip",end:"outset",snap:t==="dotted"?4:void 0});return f.jsx("path",{d:`M${c.x},${c.y}L${d.x},${d.y}`,stroke:i[r].solid,strokeWidth:s,fill:"none",strokeDasharray:p,strokeDashoffset:y},`line_fg_${h}`)})]})]})});function Ane({dash:e,fill:t,color:n,theme:r,strokeWidth:s,outline:o,lines:a}){const i=document.createElementNS("http://www.w3.org/2000/svg","g");if(i.setAttribute("stroke-width",s.toString()),i.setAttribute("stroke",r[n].solid),i.setAttribute("fill","none"),Array.from(Array(o.length)).forEach((c,d)=>{const h=o[d],u=o[(d+1)%o.length],p=P.Dist(h,u),{strokeDasharray:y,strokeDashoffset:g}=wr(p,s,{style:e}),x=document.createElementNS("http://www.w3.org/2000/svg","line");x.setAttribute("x1",h.x.toString()),x.setAttribute("y1",h.y.toString()),x.setAttribute("x2",u.x.toString()),x.setAttribute("y2",u.y.toString()),x.setAttribute("stroke-dasharray",y.toString()),x.setAttribute("stroke-dashoffset",g.toString()),i.appendChild(x)}),a)for(const[c,d]of a){const h=P.Dist(c,d),{strokeDasharray:u,strokeDashoffset:p}=wr(h,s,{style:e,start:"skip",end:"skip",snap:e==="dotted"?4:2}),y=document.createElementNS("http://www.w3.org/2000/svg","line");y.setAttribute("x1",c.x.toString()),y.setAttribute("y1",c.y.toString()),y.setAttribute("x2",d.x.toString()),y.setAttribute("y2",d.y.toString()),y.setAttribute("stroke-dasharray",u.toString()),y.setAttribute("stroke-dashoffset",p.toString()),i.appendChild(y)}const l=ks({d:"M"+o[0]+"L"+o.slice(1)+"Z",fill:t,color:n,theme:r});return Io(i,l)}const Nne=b.memo(function({fill:t,color:n,strokeWidth:r,w:s,h:o,id:a,size:i}){const l=Tn(),c=Fz(s,o,a,i);return f.jsxs(f.Fragment,{children:[f.jsx(fn,{theme:l,d:c,fill:t,color:n}),f.jsx("path",{d:c,stroke:l[n].solid,strokeWidth:r,fill:"none"})]})});function Tne({fill:e,color:t,strokeWidth:n,theme:r,w:s,h:o,id:a,size:i}){const l=Fz(s,o,a,i),c=document.createElementNS("http://www.w3.org/2000/svg","path");c.setAttribute("d",l),c.setAttribute("stroke-width",n.toString()),c.setAttribute("stroke",r[t].solid),c.setAttribute("fill","none");const d=ks({d:l,fill:e,color:t,theme:r});return Io(c,d)}b.memo(function({id:t,w:n,h:r,strokeWidth:s,fill:o,color:a}){const i=Tn(),l=O9(t,n,r,s),c=Yz(t,n,r,s);return f.jsxs(f.Fragment,{children:[f.jsx(fn,{theme:i,d:l,color:a,fill:o}),f.jsx("path",{d:c,fill:i[a].solid,strokeWidth:0,pointerEvents:"all"})]})});function Lne({id:e,w:t,h:n,strokeWidth:r,fill:s,color:o,theme:a}){const i=document.createElementNS("http://www.w3.org/2000/svg","path");i.setAttribute("d",Yz(e,t,n,r)),i.setAttribute("fill",a[o].solid);const l=ks({d:O9(e,t,n,r),fill:s,color:o,theme:a});return Io(i,l)}function Vz(e){return{size:1+e,thinning:.25,end:{taper:e},start:{taper:e},streamline:0,smoothing:1,simulatePressure:!1}}function Xz(e,t,n,r){const s=$i(e),o=t/2,a=n/2,i=Tp(o,a),l=[],c=dt*s(),d=dt+ct/2+Math.abs(s())*ct,h=Math.max(16,i/10);for(let u=0;u<h;u++){const p=u/(h-1),y=c+p*d,g=Math.cos(y),x=Math.sin(y);l.push(new P(o*g+t*.5+.05*s(),a*x+n/2+.05*s(),Math.min(1,.5+Math.abs(.5-(s()>0?xr.easeInOutSine(p):xr.easeInExpo(p)))/2)))}return fo(l,Vz(r))}function Yz(e,t,n,r){const s=Vz(r);return Nf(qf(Dh(Xz(e,t,n,r),s),s))}function O9(e,t,n,r){return Ti(Xz(e,t,n,r))}const Mne=b.memo(function({id:t,outline:n,lines:r,fill:s,color:o,strokeWidth:a}){const i=Tn(),l=Dp(t,n,a/3,a*2,2);let c=Op(l);if(r)for(const[u,p]of r)c+=`M${u.x},${u.y}L${p.x},${p.y}`;const d=Dp(t,n,0,a*2,1),h=Op(d);return f.jsxs(f.Fragment,{children:[f.jsx(fn,{d:h,fill:s,color:o,theme:i}),f.jsx("path",{d:c,stroke:i[o].solid,strokeWidth:a,fill:"none"})]})});function jne({id:e,outline:t,lines:n,fill:r,color:s,theme:o,strokeWidth:a}){const i=Dp(e,t,a/3,a*2,2);let l=Op(i);if(n)for(const[p,y]of n)l+=`M${p.x},${p.y}L${y.x},${y.y}`;const c=Dp(e,t,0,a*2,1),d=Op(c),h=document.createElementNS("http://www.w3.org/2000/svg","path");h.setAttribute("d",l),h.setAttribute("fill","none"),h.setAttribute("stroke",o[s].solid),h.setAttribute("stroke-width",a.toString());const u=ks({d,fill:r,color:s,theme:o});return Io(h,u)}const Rne=b.memo(function({fill:t,color:n,strokeWidth:r,w:s,h:o,id:a,size:i}){const l=Tn(),c=Kf(s,o,a,i);return f.jsxs(f.Fragment,{children:[f.jsx(fn,{theme:l,d:c,fill:t,color:n}),f.jsx("path",{d:c,stroke:l[n].solid,strokeWidth:r,fill:"none"})]})});function $ne({fill:e,color:t,strokeWidth:n,theme:r,w:s,h:o,id:a,size:i}){const l=Kf(s,o,a,i),c=document.createElementNS("http://www.w3.org/2000/svg","path");c.setAttribute("d",l),c.setAttribute("stroke-width",n.toString()),c.setAttribute("stroke",r[t].solid),c.setAttribute("fill","none");const d=ks({d:l,fill:e,color:t,theme:r});return Io(c,d)}const Z4=b.memo(function({w:t,h:n,strokeWidth:r,fill:s,color:o}){const a=Tn(),i=t/2,l=n/2,c=Math.max(0,i),d=Math.max(0,l),h=`M${i-c},${l}a${c},${d},0,1,1,${c*2},0a${c},${d},0,1,1,-${c*2},0`;return f.jsxs(f.Fragment,{children:[f.jsx(fn,{d:h,color:o,fill:s,theme:a}),f.jsx("path",{d:h,stroke:a[o].solid,strokeWidth:r,fill:"none"})]})});function One({w:e,h:t,strokeWidth:n,fill:r,color:s,theme:o}){const a=e/2,i=t/2,l=Math.max(0,a),c=Math.max(0,i),d=`M${a-l},${i}a${l},${c},0,1,1,${l*2},0a${l},${c},0,1,1,-${l*2},0`,h=document.createElementNS("http://www.w3.org/2000/svg","path");h.setAttribute("d",d),h.setAttribute("stroke-width",n.toString()),h.setAttribute("width",e.toString()),h.setAttribute("height",t.toString()),h.setAttribute("fill","none"),h.setAttribute("stroke",o[s].solid);const u=ks({d,fill:r,color:s,theme:o});return Io(h,u)}const Q4=b.memo(function({w:t,h:n,strokeWidth:r,fill:s,color:o}){const a=Tn(),i=D9(t,n);return f.jsxs(f.Fragment,{children:[f.jsx(fn,{d:i,color:o,fill:s,theme:a}),f.jsx("path",{d:i,stroke:a[o].solid,strokeWidth:r,fill:"none"})]})});function Dne({w:e,h:t,strokeWidth:n,fill:r,color:s,theme:o}){const a=D9(e,t),i=document.createElementNS("http://www.w3.org/2000/svg","path");i.setAttribute("d",a),i.setAttribute("stroke-width",n.toString()),i.setAttribute("width",e.toString()),i.setAttribute("height",t.toString()),i.setAttribute("fill","none"),i.setAttribute("stroke",o[s].solid);const l=ks({d:a,fill:r,color:s,theme:o});return Io(i,l)}function D9(e,t){let n;if(t>e){const r=e/2;n=`
    M0,${r}
    a${r},${r},0,1,1,${r*2},0
    L${e},${t-r}
    a${r},${r},0,1,1,-${r*2},0
    Z`}else{const r=t/2;n=`
    M${r},0
    L${e-r},0
    a${r},${r},0,1,1,0,${r*2}
    L${r},${t}
    a${r},${r},0,1,1,0,${-r*2}
    Z`}return n}const qne=b.memo(function({outline:t,lines:n,fill:r,color:s,strokeWidth:o}){const a=Tn();let i="M"+t[0]+"L"+t.slice(1)+"Z";if(n)for(const[l,c]of n)i+=`M${l.x},${l.y}L${c.x},${c.y}`;return f.jsxs(f.Fragment,{children:[f.jsx(fn,{d:i,fill:r,color:s,theme:a}),f.jsx("path",{d:i,stroke:a[s].solid,strokeWidth:o,fill:"none"})]})});function Bne({outline:e,lines:t,fill:n,color:r,strokeWidth:s,theme:o}){const a="M"+e[0]+"L"+e.slice(1)+"Z",i=a;let l=a;if(t)for(const[h,u]of t)l+=`M${h.x},${h.y}L${u.x},${u.y}`;const c=document.createElementNS("http://www.w3.org/2000/svg","path");c.setAttribute("d",l),c.setAttribute("stroke-width",s.toString()),c.setAttribute("stroke",o[r].solid),c.setAttribute("fill","none");const d=ks({d:i,fill:n,color:r,theme:o});return Io(c,d)}const Nx=16,Ls=17*3;class em extends fa{constructor(){super(...arguments);m(this,"canEdit",()=>!0);m(this,"onEditEnd",n=>{const{id:r,type:s,props:{text:o}}=n;o.trimEnd()!==n.props.text&&this.editor.updateShapes([{id:r,type:s,props:{text:o.trimEnd()}}])});m(this,"onResize",(n,{handle:r,newPoint:s,scaleX:o,scaleY:a,initialShape:i})=>{let l=i.props.w*o,c=(i.props.h+i.props.growY)*a,d=0,h=0;if(n.props.text.trim()){let g=Math.max(Math.abs(l),Ls),x=Math.max(Math.abs(c),Ls);g<Ls&&x===Ls&&(g=Ls),g===Ls&&x<Ls&&(x=Ls);const w=Dg(this.editor,{...n,props:{...n.props,w:g,h:x}}),S=Math.max(Math.abs(l),w.w)*Math.sign(l),v=Math.max(Math.abs(c),w.h)*Math.sign(c);d=Math.abs(S)-Math.abs(l),h=Math.abs(v)-Math.abs(c),l=S,c=v}const u=new P(0,0);o<0&&(u.x+=l),(r==="left"||r==="top_left"||r==="bottom_left")&&(u.x+=o<0?d:-d),a<0&&(u.y+=c),(r==="top"||r==="top_left"||r==="top_right")&&(u.y+=a<0?h:-h);const{x:p,y}=u.rot(n.rotation).add(s);return{x:p,y,props:{w:Math.max(Math.abs(l),1),h:Math.max(Math.abs(c),1),growY:0}}});m(this,"onBeforeCreate",n=>{if(!n.props.text)return n.props.growY?{...n,props:{...n.props,growY:0}}:void 0;const r=n.props.h,s=Dg(this.editor,n).h;let o=null;if(s>r?o=s-r:n.props.growY&&(o=0),o!==null)return{...n,props:{...n.props,growY:o}}});m(this,"onBeforeUpdate",(n,r)=>{const s=n.props.text,o=r.props.text;if(s===o&&n.props.font===r.props.font&&n.props.size===r.props.size)return;if(s&&!o)return{...r,props:{...r.props,growY:0}};const a=n.props.w,i=n.props.h,l=Dg(this.editor,r),c=l.w,d=l.h;if(!s&&o&&o.length===1){let u=Math.max(a,c),p=Math.max(i,d);return n.props.w<Ls&&n.props.h<Ls&&(u=Math.max(u,Ls),p=Math.max(p,Ls),u=Math.max(u,p),p=Math.max(u,p)),{...r,props:{...r.props,w:u,h:p,growY:0}}}let h=null;if(d>i?h=d-i:n.props.growY&&(h=0),h!==null)return{...r,props:{...r.props,growY:h,w:Math.max(r.props.w,c)}};if(c>n.props.w)return{...r,props:{...r.props,w:c}}});m(this,"onDoubleClick",n=>{if(this.editor.inputs.altKey)switch(n.props.geo){case"rectangle":return{...n,props:{geo:"check-box"}};case"check-box":return{...n,props:{geo:"rectangle"}}}})}getDefaultProps(){return{w:100,h:100,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:""}}getGeometry(n){const r=Math.max(1,n.props.w),s=Math.max(1,n.props.h+n.props.growY),o=r/2,a=s/2,i=fr[n.props.size],l=n.props.fill!=="none";let c;switch(n.props.geo){case"cloud":{c=new Cn({points:vne(r,s,n.id,n.props.size),isFilled:l});break}case"triangle":{c=new Cn({points:[new P(o,0),new P(r,s),new P(0,s)],isFilled:l});break}case"diamond":{c=new Cn({points:[new P(o,0),new P(r,a),new P(o,s),new P(0,a)],isFilled:l});break}case"pentagon":{c=new Cn({points:B2(r,s,5),isFilled:l});break}case"hexagon":{c=new Cn({points:B2(r,s,6),isFilled:l});break}case"octagon":{c=new Cn({points:B2(r,s,8),isFilled:l});break}case"ellipse":{c=new IP({width:r,height:s,isFilled:l});break}case"oval":{c=new oY({width:r,height:s,isFilled:l});break}case"star":{const x=dt/5/2,w=Math.floor(5/4)*2,S=5*2-w,v=0,k=Math.floor(5/2)*2,C=Math.cos(-ct+w*x)*r/2,_=Math.cos(-ct+S*x)*r/2,E=Math.sin(-ct+v*x)*s/2,I=Math.sin(-ct+k*x)*s/2,z=r-Math.abs(C-_),A=s-Math.abs(I-E),T=r/2+_-(r/2-C),j=s/2+E-(s/2-I),R=1,M=(r-T)/2,D=(s-j)/2,U=(r+z)/2,Y=(s+A)/2,q=U*R/2,K=Y*R/2;c=new Cn({points:Array.from(Array(5*2)).map((W,G)=>{const ne=-ct+G*x;return new P(M+(G%2?q:U)*Math.cos(ne),D+(G%2?K:Y)*Math.sin(ne))}),isFilled:l});break}case"rhombus":{const g=Math.min(r*.38,s*.38);c=new Cn({points:[new P(g,0),new P(r,0),new P(r-g,s),new P(0,s)],isFilled:l});break}case"rhombus-2":{const g=Math.min(r*.38,s*.38);c=new Cn({points:[new P(0,0),new P(r-g,0),new P(r,s),new P(g,s)],isFilled:l});break}case"trapezoid":{const g=Math.min(r*.38,s*.38);c=new Cn({points:[new P(g,0),new P(r-g,0),new P(r,s),new P(0,s)],isFilled:l});break}case"arrow-right":{const g=Math.min(r,s)*.38,x=s*.16;c=new Cn({points:[new P(0,x),new P(r-g,x),new P(r-g,0),new P(r,s/2),new P(r-g,s),new P(r-g,s-x),new P(0,s-x)],isFilled:l});break}case"arrow-left":{const g=Math.min(r,s)*.38,x=s*.16;c=new Cn({points:[new P(g,0),new P(g,x),new P(r,x),new P(r,s-x),new P(g,s-x),new P(g,s),new P(0,s/2)],isFilled:l});break}case"arrow-up":{const g=r*.16,x=Math.min(r,s)*.38;c=new Cn({points:[new P(r/2,0),new P(r,x),new P(r-g,x),new P(r-g,s),new P(g,s),new P(g,x),new P(0,x)],isFilled:l});break}case"arrow-down":{const g=r*.16,x=Math.min(r,s)*.38;c=new Cn({points:[new P(g,0),new P(r-g,0),new P(r-g,s-x),new P(r,s-x),new P(r/2,s),new P(0,s-x),new P(g,s-x)],isFilled:l});break}case"check-box":case"x-box":case"rectangle":{c=new Fa({width:r,height:s,isFilled:l,isSnappable:!0});break}}const d=Dg(this.editor,n),h=Math.min(r,Math.max(d.w,Math.min(32,Math.max(1,r-8)))),u=Math.min(s,Math.max(d.h,Math.min(32,Math.max(1,r-8)))),p=qg(n.props,i),y=p?p.map(g=>new Pc({points:g})):[];return new zi({children:[c,new Fa({x:n.props.align==="start"?0:n.props.align==="end"?r-h:(r-h)/2,y:n.props.verticalAlign==="start"?0:n.props.verticalAlign==="end"?s-u:(s-u)/2,width:h,height:u,isFilled:!0,isSnappable:!1,isLabel:!0}),...y],isSnappable:!1})}component(n){const{id:r,type:s,props:o}=n,a=fr[o.size],{w:i,color:l,labelColor:c,fill:d,dash:h,growY:u,font:p,align:y,verticalAlign:g,size:x,text:w}=o,S=()=>{const v=o.h+u;switch(o.geo){case"cloud":{if(h==="solid")return f.jsx(Rne,{color:l,fill:d,strokeWidth:a,w:i,h:v,id:r,size:x});if(h==="dashed"||h==="dotted")return f.jsx(Cne,{color:l,fill:d,strokeWidth:a,w:i,h:v,id:r,size:x,dash:h});if(h==="draw")return f.jsx(Nne,{color:l,fill:d,strokeWidth:a,w:i,h:v,id:r,size:x});break}case"ellipse":{if(h==="solid")return f.jsx(Z4,{strokeWidth:a,w:i,h:v,color:l,fill:d});if(h==="dashed"||h==="dotted")return f.jsx(Ene,{id:r,strokeWidth:a,w:i,h:v,dash:h,color:l,fill:d});if(h==="draw")return f.jsx(Z4,{strokeWidth:a,w:i,h:v,color:l,fill:d});break}case"oval":{if(h==="solid")return f.jsx(Q4,{strokeWidth:a,w:i,h:v,color:l,fill:d});if(h==="dashed"||h==="dotted")return f.jsx(Pne,{id:r,strokeWidth:a,w:i,h:v,dash:h,color:l,fill:d});if(h==="draw")return f.jsx(Q4,{strokeWidth:a,w:i,h:v,color:l,fill:d});break}default:{const k=this.editor.getShapeGeometry(n),C=k instanceof zi?k.children[0].vertices:k.vertices,_=qg(n.props,a);if(h==="solid")return f.jsx(qne,{fill:d,color:l,strokeWidth:a,outline:C,lines:_});if(h==="dashed"||h==="dotted")return f.jsx(zne,{dash:h,fill:d,color:l,strokeWidth:a,outline:C,lines:_});if(h==="draw")return f.jsx(Mne,{id:r,fill:d,color:l,strokeWidth:a,outline:C,lines:_})}}};return f.jsxs(f.Fragment,{children:[f.jsx(ls,{id:r,children:S()}),f.jsxs(Co,{id:n.id,style:{overflow:"hidden",width:n.props.w,height:n.props.h+o.growY},children:[f.jsx(Oz,{id:r,type:s,font:p,fill:d,size:x,align:y,verticalAlign:g,text:w,labelColor:c,wrap:!0,bounds:o.geo==="cloud"?this.getGeometry(n).bounds:void 0}),n.props.url&&f.jsx(Bf,{url:n.props.url,zoomLevel:this.editor.getZoomLevel()})]})]})}indicator(n){const{id:r,props:s}=n,{w:o,size:a}=s,i=s.h+s.growY,l=fr[a];switch(s.geo){case"ellipse":return s.dash==="draw"?f.jsx("path",{d:O9(r,o,i,l)}):f.jsx("ellipse",{cx:o/2,cy:i/2,rx:o/2,ry:i/2});case"oval":return f.jsx("path",{d:D9(o,i)});case"cloud":return f.jsx("path",{d:Kf(o,i,r,a)});default:{const c=this.editor.getShapeGeometry(n),d=c instanceof zi?c.children[0].vertices:c.vertices;let h;if(s.dash==="draw"){const p=Dp(r,d,0,l*2,1);h=Op(p)}else h="M"+d[0]+"L"+d.slice(1)+"Z";const u=qg(n.props,l);if(u)for(const[p,y]of u)h+=`M${p.x},${p.y}L${y.x},${y.y}`;return f.jsx("path",{d:h})}}}toSvg(n,r){const{id:s,props:o}=n,a=fr[o.size],i=br({isDarkMode:this.editor.user.getIsDarkMode()});r.addExportDef(M9(n.props.fill,i));let l;switch(o.geo){case"ellipse":{switch(o.dash){case"draw":l=Lne({id:s,w:o.w,h:o.h,color:o.color,fill:o.fill,strokeWidth:a,theme:i});break;case"solid":l=One({strokeWidth:a,w:o.w,h:o.h,color:o.color,fill:o.fill,theme:i});break;default:l=Ine({id:s,strokeWidth:a,w:o.w,h:o.h,dash:o.dash,color:o.color,fill:o.fill,theme:i});break}break}case"oval":{switch(o.dash){case"draw":l=G4({id:s,strokeWidth:a,w:o.w,h:o.h,dash:o.dash,color:o.color,fill:o.fill,theme:i});break;case"solid":l=Dne({strokeWidth:a,w:o.w,h:o.h,color:o.color,fill:o.fill,theme:i});break;default:l=G4({id:s,strokeWidth:a,w:o.w,h:o.h,dash:o.dash,color:o.color,fill:o.fill,theme:i})}break}case"cloud":{switch(o.dash){case"draw":l=Tne({id:s,strokeWidth:a,w:o.w,h:o.h,color:o.color,fill:o.fill,size:o.size,theme:i});break;case"solid":l=$ne({strokeWidth:a,w:o.w,h:o.h,color:o.color,fill:o.fill,size:o.size,id:s,theme:i});break;default:l=_ne({id:s,strokeWidth:a,w:o.w,h:o.h,dash:o.dash,color:o.color,fill:o.fill,theme:i,size:o.size})}break}default:{const c=this.editor.getShapeGeometry(n),d=c instanceof zi?c.children[0].vertices:c.vertices,h=qg(n.props,a);switch(o.dash){case"draw":l=jne({id:s,fill:o.fill,color:o.color,strokeWidth:a,outline:d,lines:h,theme:i});break;case"solid":l=Bne({fill:o.fill,color:o.color,strokeWidth:a,outline:d,lines:h,theme:i});break;default:l=Ane({dash:o.dash,fill:o.fill,color:o.color,strokeWidth:a,outline:d,lines:h,theme:i});break}break}}if(o.text){const c=this.editor.getShapeGeometry(n).bounds;r.addExportDef(j1(n.props.font));const d=Dz({editor:this.editor,shape:n,font:If[n.props.font],bounds:c}),h=d.cloneNode(!0);h.setAttribute("fill",i[n.props.labelColor].solid),h.setAttribute("stroke","none");const u=d.cloneNode(!0);u.setAttribute("stroke-width","2"),u.setAttribute("fill",i.background),u.setAttribute("stroke",i.background);const p=document.createElementNS("http://www.w3.org/2000/svg","g");if(p.append(u),p.append(h),l.nodeName==="g")return l.appendChild(p),l;{const y=document.createElementNS("http://www.w3.org/2000/svg","g");return y.appendChild(l),y.appendChild(p),y}}return l}getCanvasSvgDefs(){return[j9()]}}m(em,"type","geo"),m(em,"props",Uq),m(em,"migrations",Vq);function Dg(e,t){const n=t.props.text;if(!n)return{w:0,h:0};const r=e.textMeasure.measureText("w",{...Xn,fontFamily:Ra[t.props.font],fontSize:gh[t.props.size],maxWidth:100}),s={s:2,m:3.5,l:5,xl:10},o=e.textMeasure.measureText(n,{...Xn,fontFamily:Ra[t.props.font],fontSize:gh[t.props.size],minWidth:r.w+"px",maxWidth:Math.max(0,Math.ceil(r.w+s[t.props.size]),Math.ceil(t.props.w-Nx*2))});return{w:o.w+Nx*2,h:o.h+Nx*2}}function qg(e,t){switch(e.geo){case"x-box":return Fne(e.w,e.h,t,e.dash);case"check-box":return Kne(e.w,e.h);default:return}}function Fne(e,t,n,r){const s=r==="draw"?.62:0;if(r==="dashed")return[[new P(0,0),new P(e/2,t/2)],[new P(e,t),new P(e/2,t/2)],[new P(0,t),new P(e/2,t/2)],[new P(e,0),new P(e/2,t/2)]];const o=i=>Math.max(0,Math.min(e,i)),a=i=>Math.max(0,Math.min(t,i));return[[new P(o(n*s),a(n*s)),new P(o(e-n*s),a(t-n*s))],[new P(o(n*s),a(t-n*s)),new P(o(e-n*s),a(n*s))]]}function Kne(e,t){const n=Math.min(e,t)*.82,r=(e-n)/2,s=(t-n)/2,o=i=>Math.max(0,Math.min(e,i)),a=i=>Math.max(0,Math.min(t,i));return[[new P(o(r+n*.25),a(s+n*.52)),new P(o(r+n*.45),a(s+n*.82))],[new P(o(r+n*.45),a(s+n*.82)),new P(o(r+n*.82),a(s+n*.22))]]}function Wne(){const[e,t]=b.useState(!1);return b.useEffect(()=>{const r=CSS.supports("color","color(display-p3 1 1 1)"),s=matchMedia("(color-gamut: p3)");t(r&&s.matches);const o=()=>t(r&&s.matches);return s.addEventListener("change",o),()=>s.removeEventListener("change",o)},[]),J(Pt.forceSrgb)||!e?"srgb":"p3"}const J4=.35,e8=.82;class tm extends Za{constructor(){super(...arguments);m(this,"hideResizeHandles",n=>Bg(n));m(this,"hideRotateHandle",n=>Bg(n));m(this,"hideSelectionBoundsFg",n=>Bg(n));m(this,"onResize",(n,r)=>{const{scaleX:s,scaleY:o}=r,a=[];for(const i of n.props.segments)a.push({...i,points:i.points.map(({x:l,y:c,z:d})=>({x:s*l,y:o*c,z:d}))});return{props:{segments:a}}})}getDefaultProps(){return{segments:[],color:"black",size:"m",isComplete:!1,isPen:!1}}getGeometry(n){const r=od(n);if(Bg(n))return new EP({x:-r/2,y:-r/2,radius:r/2,isFilled:!0});const{strokePoints:s,sw:o}=Hz(n,r,!0),a=Hw({strokeWidth:o,showAsComplete:!0});return Dh(s,a),new Cn({points:qf(s,a),isFilled:!0})}component(n){return f.jsx(t8,{strokeWidth:od(n),shape:n,opacity:J4})}backgroundComponent(n){return f.jsx(t8,{strokeWidth:od(n),shape:n,opacity:e8})}indicator(n){var h;const r=my(),s=od(n),o=Nd(n.props.segments);let a=s;!r&&!n.props.isPen&&o.length===1&&(a+=$i(n.id)()*(s/6));const i=n.props.isComplete||((h=Pr(n.props.segments))==null?void 0:h.type)==="straight",l=Hw({strokeWidth:s,showAsComplete:i}),c=fo(o,l);let d;return c.length<2?d=Vne(o[0],a):d=Ti(c,!1),f.jsx("path",{d})}toSvg(n){const r=br({isDarkMode:this.editor.user.getIsDarkMode()});return n8(od(n),n,J4,r)}toBackgroundSvg(n){const r=br({isDarkMode:this.editor.user.getIsDarkMode()});return n8(od(n),n,e8,r)}}m(tm,"type","highlight"),m(tm,"props",Hq),m(tm,"migrations",Gq);function Une(e){return`M ${e.x} ${e.y} m -${.1}, 0 a ${.1},${.1} 0 1,0 ${.1*2},0 a ${.1},${.1} 0 1,0 -${.1*2},0`}function Vne(e,t){const n=t/2;return`M ${e.x} ${e.y} m -${n}, 0 a ${n},${n} 0 1,0 ${n*2},0 a ${n},${n} 0 1,0 -${n*2},0`}function Hz(e,t,n){var l;const r=Nd(e.props.segments),s=e.props.isComplete||((l=Pr(e.props.segments))==null?void 0:l.type)==="straight";let o=t;!n&&!e.props.isPen&&r.length===1&&(o+=$i(e.id)()*(t/6));const a=Hw({strokeWidth:o,showAsComplete:s});return{strokePoints:fo(r,a),sw:o}}function Gz(e,t,n){const{strokePoints:r,sw:s}=Hz(e,t,n);return{solidStrokePath:r.length>1?Ti(r,!1):Une(e.props.segments[0].points[0]),sw:s}}function t8({strokeWidth:e,shape:t,opacity:n}){const r=Tn(),s=my(),{solidStrokePath:o,sw:a}=Gz(t,e,s),i=Wne(),l=r[t.props.color].highlight[i];return f.jsx(ls,{id:t.id,style:{opacity:n},children:f.jsx("path",{d:o,strokeLinecap:"round",fill:"none",pointerEvents:"all",stroke:l,strokeWidth:a})})}function n8(e,t,n,r){const{solidStrokePath:s,sw:o}=Gz(t,e,!1),a=document.createElementNS("http://www.w3.org/2000/svg","path");return a.setAttribute("d",s),a.setAttribute("fill","none"),a.setAttribute("stroke",r[t.props.color].highlight.srgb),a.setAttribute("stroke-width",`${o}`),a.setAttribute("opacity",`${n}`),a}function od(e){return Ni[e.props.size]*1.12}function Bg(e){return e.props.segments.length===1&&e.props.segments[0].points.length<2}function Zz(){const[e,t]=b.useState(!1);return b.useEffect(()=>{const n=window.matchMedia("(prefers-reduced-motion: reduce)"),r=()=>{t(n.matches)};return r(),n.addEventListener("change",r),()=>n.removeEventListener("change",r)},[]),e}const Xne=async e=>new Promise((t,n)=>{const r=new Image;r.onload=()=>t(r),r.onerror=()=>n(new Error("Failed to load image")),r.crossOrigin="anonymous",r.src=e}),Yne=async e=>{const t=await Xne(e),n=document.createElement("canvas");n.width=t.width,n.height=t.height;const r=n.getContext("2d");if(r)return r.drawImage(t,0,0),n.toDataURL()};async function Hne(e){const n=await(await fetch(e)).blob();return new Promise((r,s)=>{const o=new FileReader;o.onloadend=()=>r(o.result),o.onerror=s,o.readAsDataURL(n)})}class nm extends fa{constructor(){super(...arguments);m(this,"isAspectRatioLocked",()=>!0);m(this,"canCrop",()=>!0);m(this,"onDoubleClick",n=>{const r=n.props.assetId?this.editor.getAsset(n.props.assetId):void 0;!r||!(r.props.src&&"mimeType"in r.props&&r.props.mimeType==="image/gif")||this.editor.updateShapes([{type:"image",id:n.id,props:{playing:!n.props.playing}}])});m(this,"onDoubleClickEdge",n=>{const r=n.props;if(!r||this.editor.getCroppingShapeId()!==n.id)return;const s=Fr(r.crop)||{topLeft:{x:0,y:0},bottomRight:{x:1,y:1}},o=1/(s.bottomRight.x-s.topLeft.x)*n.props.w,a=1/(s.bottomRight.y-s.topLeft.y)*n.props.h,i=new P(s.topLeft.x*o,s.topLeft.y*a).rot(n.rotation),l={id:n.id,type:n.type,x:n.x-i.x,y:n.y-i.y,props:{crop:{topLeft:{x:0,y:0},bottomRight:{x:1,y:1}},w:o,h:a}};this.editor.updateShapes([l])})}getDefaultProps(){return{w:100,h:100,assetId:null,playing:!0,url:"",crop:null}}component(n){var u,p;const r=r8(n),s=Fv(n.id),o=Zz(),[a,i]=b.useState(""),l=n.props.assetId?this.editor.getAsset(n.props.assetId):void 0;if((l==null?void 0:l.type)==="bookmark")throw Error("Bookmark assets can't be rendered as images");const d=J("onlySelectedShape",()=>{var y;return n.id===((y=this.editor.getOnlySelectedShape())==null?void 0:y.id)},[this.editor])&&s&&this.editor.isInAny("select.crop","select.cropping","select.pointing_crop_handle"),h=o&&(((u=l==null?void 0:l.props.mimeType)==null?void 0:u.includes("video"))||((p=l==null?void 0:l.props.mimeType)==null?void 0:p.includes("gif")));return b.useEffect(()=>{if(l!=null&&l.props.src&&"mimeType"in l.props&&(l==null?void 0:l.props.mimeType)==="image/gif"){let y=!1;return(async()=>{const x=await Yne(l.props.src);y||x&&i(x)})(),()=>{y=!0}}},[o,l==null?void 0:l.props]),f.jsxs(f.Fragment,{children:[(l==null?void 0:l.props.src)&&d&&f.jsx("div",{style:r,children:f.jsx("div",{className:"tl-image",style:{opacity:.1,backgroundImage:`url(${!n.props.playing||h?a:l.props.src})`},draggable:!1})}),f.jsxs(Co,{id:n.id,style:{overflow:"hidden",width:n.props.w,height:n.props.h},children:[f.jsxs("div",{className:"tl-image-container",style:r,children:[l!=null&&l.props.src?f.jsx("div",{className:"tl-image",style:{backgroundImage:`url(${!n.props.playing||h?a:l.props.src})`},draggable:!1}):null,(l==null?void 0:l.props.isAnimated)&&!n.props.playing&&f.jsx("div",{className:"tl-image__tg",children:"GIF"})]}),"url"in n.props&&n.props.url&&f.jsx(Bf,{url:n.props.url,zoomLevel:this.editor.getZoomLevel()})]})]})}indicator(n){return Fv(n.id)?null:f.jsx("rect",{width:O(n.props.w),height:O(n.props.h)})}async toSvg(n){const r=document.createElementNS("http://www.w3.org/2000/svg","g"),s=n.props.assetId?this.editor.getAsset(n.props.assetId):null;let o=(s==null?void 0:s.props.src)||"";o&&o.startsWith("http")&&(o=await Hne(o)||"");const a=document.createElementNS("http://www.w3.org/2000/svg","image");a.setAttributeNS("http://www.w3.org/1999/xlink","href",o);const i=r8(n),l=n.props.crop;if(i.transform&&l){const{transform:c,width:d,height:h}=i,u=(l.bottomRight.x-l.topLeft.x)*d,p=(l.bottomRight.y-l.topLeft.y)*h,y=[new P(0,0),new P(u,0),new P(u,p),new P(0,p)],g=document.createElementNS("http://www.w3.org/2000/svg","polygon");g.setAttribute("points",y.map(v=>`${v.x},${v.y}`).join(" "));const x=document.createElementNS("http://www.w3.org/2000/svg","clipPath");x.setAttribute("id","cropClipPath"),x.appendChild(g);const w=document.createElementNS("http://www.w3.org/2000/svg","defs");w.appendChild(x),r.appendChild(w);const S=document.createElementNS("http://www.w3.org/2000/svg","g");S.setAttribute("clip-path","url(#cropClipPath)"),a.setAttribute("width",d.toString()),a.setAttribute("height",h.toString()),a.style.transform=c,S.appendChild(a),r.appendChild(S)}else a.setAttribute("width",n.props.w.toString()),a.setAttribute("height",n.props.h.toString()),r.appendChild(a);return r}}m(nm,"type","image"),m(nm,"props",Qq),m(nm,"migrations",Jq);function r8(e){const t=e.props.crop,n=t==null?void 0:t.topLeft;if(!n)return{width:e.props.w,height:e.props.h};const r=1/(t.bottomRight.x-t.topLeft.x)*e.props.w,s=1/(t.bottomRight.y-t.topLeft.y)*e.props.h,o=-n.x*r,a=-n.y*s;return{transform:`translate(${o}px, ${a}px)`,width:r,height:s}}function Gw(e,t){const{start:n,end:r}=e;return t?`M${O(n.x)},${O(n.y)} L${O(r.x)},${O(r.y)} `:`${O(r.x)},${O(r.y)} `}function Zw(e,t){const{a:n,b:r,c:s,d:o}=e;return P.Equals(n,o)?"":`${t?`M${O(n.x)},${O(n.y)}`:""}C${O(r.x)},${O(r.y)} ${O(s.x)},${O(s.y)} ${O(o.x)},${O(o.y)}`}function Qz(e,t){let n=e.segments.reduce((r,s,o)=>r+Zw(s,o===0),"");return t&&(n+="Z"),n}function Gne(e,t){let n=e.segments.reduce((r,s,o)=>r+Gw(s,o===0),"");return t&&(n+="Z"),n}function Jz(e,t=!1){return e instanceof Pc?Gne(e,t):Qz(e,t)}function eA(e){return{size:e,thinning:.4,streamline:0,smoothing:.5,simulatePressure:!0,last:!0}}function tA(e,t,n){const r=t.vertices,s=eA(n);return fo(r,s)}function Zne(e,t,n){const r=eA(n);return qf(Dh(tA(e,t,n),r),r)}function s8(e,t,n){const r=Zne(e,t,n);return Nf(r)}function Qne(e,t,n){if(e.props.dash==="draw"){const r=tA(e,t,n);return Ti(r)}return Jz(t)}const Jne=new a9;class rm extends Za{constructor(){super(...arguments);m(this,"hideResizeHandles",()=>!0);m(this,"hideRotateHandle",()=>!0);m(this,"hideSelectionBoundsFg",()=>!0);m(this,"hideSelectionBoundsBg",()=>!0);m(this,"onResize",(n,r)=>{const{scaleX:s,scaleY:o}=r,a=Fr(n.props.handles);return Object.values(n.props.handles).forEach(({id:i,x:l,y:c})=>{a[i].x=l*s,a[i].y=c*o}),{props:{handles:a}}});m(this,"onHandleChange",(n,{handle:r})=>{const s=Fr(n);switch(r.id){case"start":case"end":{s.props.handles[r.id]={...s.props.handles[r.id],x:r.x,y:r.y};break}default:{const o="handle:"+r.index,a=n.props.handles[o];a?s.props.handles[o]={...a,x:r.x,y:r.y}:s.props.handles[o]={id:o,type:"vertex",canBind:!1,index:r.index,x:r.x,y:r.y};break}}return s})}getDefaultProps(){return{dash:"draw",size:"m",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,canSnap:!0,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,canSnap:!0,index:"a2",x:.1,y:.1}}}}getGeometry(n){return fu(n)}getHandles(n){return Jne.get(n.props,()=>{const r=n.props.handles,s=fu(n),o=Object.values(r).sort(cr),a=o.slice();for(let i=0;i<s.segments.length;i++){const c=s.segments[i].midPoint(),d=ap(o[i].index,o[i+1].index);a.push({id:`mid-${i}`,type:"create",index:d,x:c.x,y:c.y})}return a.sort(cr)})}getOutlineSegments(n){return this.editor.getShapeGeometry(n).segments.map(s=>s.vertices)}component(n){const r=Tn(),s=fu(n),o=fr[n.props.size],{dash:a,color:i}=n.props;if(n.props.spline==="line"){if(a==="solid"){const l=s.points,c="M"+l[0]+"L"+l.slice(1);return f.jsxs(ls,{id:n.id,children:[f.jsx(fn,{d:c,fill:"none",color:i,theme:r}),f.jsx("path",{d:c,stroke:r[i].solid,strokeWidth:o,fill:"none"})]})}if(a==="dashed"||a==="dotted"){const l=s.points,c="M"+l[0]+"L"+l.slice(1);return f.jsxs(ls,{id:n.id,children:[f.jsx(fn,{d:c,fill:"none",color:i,theme:r}),f.jsx("g",{stroke:r[i].solid,strokeWidth:o,children:s.segments.map((d,h)=>{const{strokeDasharray:u,strokeDashoffset:p}=wr(d.length,o,{style:a,start:h>0?"outset":"none",end:h<s.segments.length-1?"outset":"none"});return f.jsx("path",{strokeDasharray:u,strokeDashoffset:p,d:Gw(d,!0),fill:"none"},h)})})]})}if(a==="draw"){const l=s.points,[c,d]=Ax(n.id,l,o);return f.jsxs(ls,{id:n.id,children:[f.jsx(fn,{d:c,fill:"none",color:i,theme:r}),f.jsx("path",{d,stroke:r[i].solid,strokeWidth:o,fill:"none"})]})}}if(n.props.spline==="cubic"){const l=Jz(s);if(a==="solid")return f.jsxs(ls,{id:n.id,children:[f.jsx(fn,{d:l,fill:"none",color:i,theme:r}),f.jsx("path",{strokeWidth:o,stroke:r[i].solid,fill:"none",d:l})]});if(a==="dashed"||a==="dotted")return f.jsxs(ls,{id:n.id,children:[f.jsx(fn,{d:l,fill:"none",color:i,theme:r}),f.jsx("g",{stroke:r[i].solid,strokeWidth:o,children:s.segments.map((c,d)=>{const{strokeDasharray:h,strokeDashoffset:u}=wr(c.length,o,{style:a,start:d>0?"outset":"none",end:d<s.segments.length-1?"outset":"none"});return f.jsx("path",{strokeDasharray:h,strokeDashoffset:u,d:Zw(c,!0),fill:"none"},d)})})]});if(a==="draw")return f.jsxs(ls,{id:n.id,children:[f.jsx(fn,{d:l,fill:"none",color:i,theme:r}),f.jsx("path",{d:s8(n,s,o),strokeWidth:1,stroke:r[i].solid,fill:r[i].solid})]})}}indicator(n){const r=fr[n.props.size],s=fu(n),{dash:o}=n.props;let a;if(n.props.spline==="line"){const i=s.points;if(o==="solid"||o==="dotted"||o==="dashed")a="M"+i[0]+"L"+i.slice(1);else{const[l]=Ax(n.id,i,r);a=l}}else a=Qne(n,s,r);return f.jsx("path",{d:a})}toSvg(n){const s=br({isDarkMode:this.editor.user.getIsDarkMode()})[n.props.color].solid,o=fu(n),a=fr[n.props.size];switch(n.props.dash){case"draw":{let i;if(o instanceof O0)i=s8(n,o,a);else{const[c,d]=Ax(n.id,o.points,a);i=d}const l=document.createElementNS("http://www.w3.org/2000/svg","path");return l.setAttribute("stroke-width",a+"px"),l.setAttribute("stroke",s),l.setAttribute("fill","none"),l.setAttribute("d",i),l}case"solid":{let i;if(o instanceof O0)i=Qz(o,!1);else{const c=o.points;i="M"+c[0]+"L"+c.slice(1)}const l=document.createElementNS("http://www.w3.org/2000/svg","path");return l.setAttribute("stroke-width",a+"px"),l.setAttribute("stroke",s),l.setAttribute("fill","none"),l.setAttribute("d",i),l}default:{const{segments:i}=o,l=document.createElementNS("http://www.w3.org/2000/svg","g");l.setAttribute("stroke",s),l.setAttribute("stroke-width",a.toString());const c=o instanceof O0?Zw:Gw;return i.forEach((d,h)=>{const u=document.createElementNS("http://www.w3.org/2000/svg","path"),{strokeDasharray:p,strokeDashoffset:y}=wr(d.length,a,{style:n.props.dash,start:h>0?"outset":"none",end:h<i.length-1?"outset":"none"});u.setAttribute("stroke-dasharray",p.toString()),u.setAttribute("stroke-dashoffset",y.toString()),u.setAttribute("d",c(d,!0)),u.setAttribute("fill","none"),l.appendChild(u)}),l}}}}m(rm,"type","line"),m(rm,"props",nB),m(rm,"migrations",rB);function fu(e){const{spline:t,handles:n}=e.props,r=Object.values(n).sort(cr).map(P.From);switch(t){case"cubic":return new O0({points:r});case"line":return new Pc({points:r})}}const Ia=200;class sm extends Za{constructor(){super(...arguments);m(this,"canEdit",()=>!0);m(this,"hideResizeHandles",()=>!0);m(this,"hideSelectionBoundsFg",()=>!0);m(this,"onBeforeCreate",n=>o8(this.editor,n,n.props.growY));m(this,"onBeforeUpdate",(n,r)=>{if(!(n.props.text===r.props.text&&n.props.font===r.props.font&&n.props.size===r.props.size))return o8(this.editor,r,n.props.growY)});m(this,"onEditEnd",n=>{const{id:r,type:s,props:{text:o}}=n;o.trimEnd()!==n.props.text&&this.editor.updateShapes([{id:r,type:s,props:{text:o.trimEnd()}}])})}getDefaultProps(){return{color:"black",size:"m",text:"",font:"draw",align:"middle",verticalAlign:"middle",growY:0,url:""}}getHeight(n){return Ia+n.props.growY}getGeometry(n){const r=this.getHeight(n);return new Fa({width:Ia,height:r,isFilled:!0})}component(n){const{id:r,type:s,props:{color:o,font:a,size:i,align:l,text:c,verticalAlign:d}}=n,h=Tn(),u=o==="black"?"yellow":o;return f.jsxs(f.Fragment,{children:[f.jsx("div",{style:{position:"absolute",width:Ia,height:this.getHeight(n)},children:f.jsxs("div",{className:"tl-note__container",style:{color:h[u].solid,backgroundColor:h[u].solid},children:[f.jsx("div",{className:"tl-note__scrim"}),f.jsx(Oz,{id:r,type:s,font:a,size:i,align:l,verticalAlign:d,text:c,labelColor:"black",wrap:!0})]})}),"url"in n.props&&n.props.url&&f.jsx(Bf,{url:n.props.url,zoomLevel:this.editor.getZoomLevel()})]})}indicator(n){return f.jsx("rect",{rx:"7",width:O(Ia),height:O(this.getHeight(n))})}toSvg(n,r){r.addExportDef(j1(n.props.font));const s=br({isDarkMode:this.editor.user.getIsDarkMode()}),o=this.editor.getShapeGeometry(n).bounds,a=document.createElementNS("http://www.w3.org/2000/svg","g"),i=n.props.color==="black"?"yellow":n.props.color,l=document.createElementNS("http://www.w3.org/2000/svg","rect");l.setAttribute("rx","10"),l.setAttribute("width",Ia.toString()),l.setAttribute("height",o.height.toString()),l.setAttribute("fill",s[i].solid),l.setAttribute("stroke",s[i].solid),l.setAttribute("stroke-width","1"),a.appendChild(l);const c=document.createElementNS("http://www.w3.org/2000/svg","rect");c.setAttribute("rx","10"),c.setAttribute("width",Ia.toString()),c.setAttribute("height",o.height.toString()),c.setAttribute("fill",s.background),c.setAttribute("opacity",".28"),a.appendChild(c);const d=Dz({editor:this.editor,shape:n,font:If[n.props.font],bounds:o});return d.setAttribute("fill",s.text),d.setAttribute("stroke","none"),a.appendChild(d),a}}m(sm,"type","note"),m(sm,"props",sB),m(sm,"migrations",oB);function o8(e,t,n=0){const o=e.textMeasure.measureText(t.props.text,{...Xn,fontFamily:Ra[t.props.font],fontSize:gh[t.props.size],maxWidth:Ia-34}).h+17*2;let a=null;if(o>Ia?a=o-Ia:n&&(a=0),a!==null)return{...t,props:{...t.props,growY:a}}}function ere(e,{initialBounds:t,scaleX:n,scaleY:r,newPoint:s}){const o=Math.max(.01,Math.min(Math.abs(n),Math.abs(r))),a=new P(0,0);n<0&&(a.x=-(t.width*o)),r<0&&(a.y=-(t.height*o));const{x:i,y:l}=P.Add(s,a.rot(e.rotation));return{x:i,y:l,props:{scale:o*e.props.scale}}}const tre=new a9;class om extends Za{constructor(){super(...arguments);m(this,"canEdit",()=>!0);m(this,"isAspectRatioLocked",()=>!0);m(this,"onResize",(n,r)=>{const{initialBounds:s,initialShape:o,scaleX:a,handle:i}=r;if(r.mode==="scale_shape"||i!=="right"&&i!=="left")return{id:n.id,type:n.type,...ere(n,r)};{const l=s.width;let c=l*a;const d=new P(0,0);c=Math.max(1,Math.abs(c)),i==="left"?(d.x=l-c,a<0&&(d.x+=c)):a<0&&(d.x-=c);const{x:h,y:u}=d.rot(n.rotation).add(o);return{id:n.id,type:n.type,x:h,y:u,props:{w:c/o.props.scale,autoSize:!1}}}});m(this,"onBeforeCreate",n=>{if(!n.props.autoSize||n.props.text.trim())return;const r=this.getMinDimensions(n);return{...n,x:n.x-r.width/2,y:n.y-r.height/2}});m(this,"onEditEnd",n=>{const{id:r,type:s,props:{text:o}}=n,a=n.props.text.trimEnd();a.length===0?this.editor.deleteShapes([n.id]):a!==n.props.text&&this.editor.updateShapes([{id:r,type:s,props:{text:o.trimEnd()}}])});m(this,"onBeforeUpdate",(n,r)=>{if(!r.props.autoSize)return;const s=n.props.size!==r.props.size||n.props.align!==r.props.align||n.props.font!==r.props.font||n.props.scale!==1&&r.props.scale===1,o=n.props.text!==r.props.text;if(!s&&!o)return;const a=this.getMinDimensions(n),i=a8(this.editor,r.props),l=a.width*n.props.scale,c=a.height*n.props.scale,d=i.width*r.props.scale,h=i.height*r.props.scale;let u;switch(r.props.align){case"middle":{u=new P((d-l)/2,o?0:(h-c)/2);break}case"end":{u=new P(d-l,o?0:(h-c)/2);break}default:{if(o)break;u=new P(0,(h-c)/2);break}}if(u){u.rot(r.rotation);const{x:p,y}=r;return{...r,x:p-u.x,y:y-u.y,props:{...r.props,w:d}}}else return{...r,props:{...r.props,w:d}}});m(this,"onDoubleClickEdge",n=>{if(!n.props.autoSize)return{id:n.id,type:n.type,props:{autoSize:!0}};if(n.props.scale!==1)return{id:n.id,type:n.type,props:{scale:1}}})}getDefaultProps(){return{color:"black",size:"m",w:8,text:"",font:"draw",align:"middle",autoSize:!0,scale:1}}getMinDimensions(n){return tre.get(n.props,r=>a8(this.editor,r))}getGeometry(n){const{scale:r}=n.props,{width:s,height:o}=this.getMinDimensions(n);return new Fa({width:s*r,height:o*r,isFilled:!0})}component(n){const{id:r,type:s,props:{text:o,color:a}}=n,i=br({isDarkMode:this.editor.user.getIsDarkMode()}),{width:l,height:c}=this.getMinDimensions(n),{rInput:d,isEmpty:h,isEditing:u,handleFocus:p,handleChange:y,handleKeyDown:g,handleBlur:x,handleInputPointerDown:w,handleDoubleClick:S}=R9(r,s,o);return f.jsx(Co,{id:n.id,children:f.jsxs("div",{className:"tl-text-shape__wrapper tl-text-shadow","data-font":n.props.font,"data-align":n.props.align,"data-hastext":!h,"data-isediting":u,"data-textwrap":!0,style:{fontSize:Ni[n.props.size],lineHeight:Ni[n.props.size]*Xn.lineHeight+"px",transform:`scale(${n.props.scale})`,transformOrigin:"top left",width:Math.max(1,l),height:Math.max(Ni[n.props.size]*Xn.lineHeight,c),color:i[a].solid},children:[f.jsx("div",{className:"tl-text tl-text-content",dir:"ltr",children:o}),u?f.jsx("textarea",{ref:d,className:"tl-text tl-text-input",name:"text",tabIndex:-1,autoComplete:"false",autoCapitalize:"false",autoCorrect:"false",autoSave:"false",autoFocus:u,placeholder:"",spellCheck:"true",wrap:"off",dir:"ltr",datatype:"wysiwyg",defaultValue:o,onFocus:p,onChange:y,onKeyDown:g,onBlur:x,onTouchEnd:hn,onContextMenu:hn,onPointerDown:w,onDoubleClick:S}):null]})})}indicator(n){const r=this.editor.getShapeGeometry(n).bounds,s=H();return n.props.autoSize&&s.getEditingShapeId()===n.id?null:f.jsx("rect",{width:O(r.width),height:O(r.height)})}toSvg(n,r){r.addExportDef(j1(n.props.font));const s=br({isDarkMode:this.editor.user.getIsDarkMode()}),o=this.editor.getShapeGeometry(n).bounds,a=n.props.text,i=o.width/(n.props.scale??1),l=o.height/(n.props.scale??1),c={fontSize:Ni[n.props.size],fontFamily:If[n.props.font],textAlign:n.props.align,verticalTextAlign:"middle",width:i,height:l,padding:0,lineHeight:Xn.lineHeight,fontStyle:"normal",fontWeight:"normal",overflow:"wrap"},d=s[n.props.color].solid,h=document.createElementNS("http://www.w3.org/2000/svg","g"),u=M1(this.editor,this.editor.textMeasure.measureTextSpans(a,c),{...c,stroke:s.background,strokeWidth:2,fill:s.background,padding:0}),p=u.cloneNode(!0);return p.setAttribute("fill",d),p.setAttribute("stroke","none"),h.append(u),h.append(p),h}}m(om,"type","text"),m(om,"props",aB),m(om,"migrations",iB);function a8(e,t){const{font:n,text:r,autoSize:s,size:o,w:a}=t,i=s?16:Math.max(16,a),l=Ni[o],c=s?null:Math.floor(Math.max(i,a)),d=e.textMeasure.measureText(r,{...Xn,fontFamily:Ra[n],fontSize:l,maxWidth:c});return s&&(d.w+=1),{width:Math.max(i,d.w),height:Math.max(l,d.h)}}class am extends fa{constructor(){super(...arguments);m(this,"canEdit",()=>!0);m(this,"isAspectRatioLocked",()=>!0)}getDefaultProps(){return{w:100,h:100,assetId:null,time:0,playing:!0,url:""}}component(n){return f.jsx(rre,{shape:n,videoUtil:this})}indicator(n){return f.jsx("rect",{width:O(n.props.w),height:O(n.props.h)})}toSvg(n){const r=document.createElementNS("http://www.w3.org/2000/svg","g"),s=document.createElementNS("http://www.w3.org/2000/svg","image");return s.setAttributeNS("http://www.w3.org/1999/xlink","href",nre(n.id)),s.setAttribute("width",n.props.w.toString()),s.setAttribute("height",n.props.h.toString()),r.appendChild(s),r}}m(am,"type","video"),m(am,"props",lB),m(am,"migrations",cB);function nre(e){const t=e.split(":")[1],n=document.querySelector(`.tl-video-shape-${t}`);if(n){const r=document.createElement("canvas");return r.width=n.videoWidth,r.height=n.videoHeight,r.getContext("2d").drawImage(n,0,0),r.toDataURL("image/png")}else throw new Error("Video with id "+t+" not found")}const rre=et(function(t){const{shape:n,videoUtil:r}=t,s=r.editor.getShapeGeometry(n).bounds.w*r.editor.getZoomLevel()>=110,o=n.props.assetId?r.editor.getAsset(n.props.assetId):null,{time:a,playing:i}=n.props,l=I1(n.id),c=Zz(),d=le.useRef(null),h=le.useCallback(w=>{const S=w.currentTarget;r.editor.updateShapes([{type:"video",id:n.id,props:{playing:!0,time:S.currentTime}}])},[n.id,r.editor]),u=le.useCallback(w=>{const S=w.currentTarget;r.editor.updateShapes([{type:"video",id:n.id,props:{playing:!1,time:S.currentTime}}])},[n.id,r.editor]),p=le.useCallback(w=>{const S=w.currentTarget;l&&r.editor.updateShapes([{type:"video",id:n.id,props:{time:S.currentTime}}])},[l,n.id,r.editor]),[y,g]=le.useState(!1),x=le.useCallback(w=>{const S=w.currentTarget;a!==S.currentTime&&(S.currentTime=a),i||S.pause(),g(!0)},[i,a]);return le.useEffect(()=>{const w=d.current;w&&(y&&!l&&a!==w.currentTime&&(w.currentTime=a),l&&document.activeElement!==w&&w.focus())},[l,y,a]),le.useEffect(()=>{if(c){const w=d.current;w.pause(),w.currentTime=0}},[d,c]),f.jsxs(f.Fragment,{children:[f.jsx(Co,{id:n.id,children:f.jsx("div",{className:"tl-counter-scaled",children:o!=null&&o.props.src?f.jsx("video",{ref:d,style:l?{pointerEvents:"all"}:void 0,className:`tl-video tl-video-shape-${n.id.split(":")[1]}`,width:"100%",height:"100%",draggable:!1,playsInline:!0,autoPlay:!0,muted:!0,loop:!0,disableRemotePlayback:!0,disablePictureInPicture:!0,controls:l&&s,onPlay:h,onPause:u,onTimeUpdate:p,onLoadedData:x,hidden:!y,children:f.jsx("source",{src:o.props.src})}):null})}),"url"in n.props&&n.props.url&&f.jsx(Bf,{url:n.props.url,zoomLevel:r.editor.getZoomLevel()})]})}),q9=[om,G0,Z0,em,sm,rm,J0,H0,tm,Q0,nm,am];function sre(e){return[e.sideEffects.registerAfterChangeHandler("instance",(t,n)=>{t.isFocused!==n.isFocused&&(n.isFocused?(e.getContainer().focus(),e.updateViewportScreenBounds()):(e.complete(),e.getContainer().blur(),e.updateViewportScreenBounds()))}),e.sideEffects.registerAfterChangeHandler("instance_page_state",(t,n)=>{if(t.croppingShapeId!==n.croppingShapeId){const r=e.isInAny("select.crop","select.pointing_crop_handle","select.cropping");!t.croppingShapeId&&n.croppingShapeId?r||e.setCurrentTool("select.crop.idle"):t.croppingShapeId&&!n.croppingShapeId&&r&&e.setCurrentTool("select.idle")}t.editingShapeId!==n.editingShapeId&&(!t.editingShapeId&&n.editingShapeId?e.isIn("select.editing_shape")||e.setCurrentTool("select.editing_shape"):t.editingShapeId&&!n.editingShapeId&&e.isIn("select.editing_shape")&&e.setCurrentTool("select.idle"))})]}class nA extends he{constructor(){super(...arguments);m(this,"info",{});m(this,"scribbleId","id");m(this,"markId","");m(this,"excludedShapeIds",new Set);m(this,"onEnter",n=>{this.markId="erase scribble begin",this.editor.mark(this.markId),this.info=n;const{originPagePoint:r}=this.editor.inputs;this.excludedShapeIds=new Set(this.editor.getCurrentPageShapes().filter(o=>{if(this.editor.isShapeOrAncestorLocked(o))return!0;if(this.editor.isShapeOfType(o,"group")||this.editor.isShapeOfType(o,"frame")){const a=this.editor.getPointInShapeSpace(o,r);return this.editor.getShapeGeometry(o).bounds.containsPoint(a)}return!1}).map(o=>o.id));const s=this.editor.scribbles.addScribble({color:"muted-1",size:12});this.scribbleId=s.id,this.update()});m(this,"pushPointToScribble",()=>{const{x:n,y:r}=this.editor.inputs.currentPagePoint;this.editor.scribbles.addPoint(this.scribbleId,n,r)});m(this,"onExit",()=>{this.editor.scribbles.stop(this.scribbleId)});m(this,"onPointerMove",()=>{this.update()});m(this,"onPointerUp",()=>{this.complete()});m(this,"onCancel",()=>{this.cancel()});m(this,"onComplete",()=>{this.complete()})}update(){const n=this.editor.getErasingShapeIds(),r=this.editor.getZoomLevel(),s=this.editor.getCurrentPageShapes(),{inputs:{currentPagePoint:o,previousPagePoint:a}}=this.editor,{excludedShapeIds:i}=this;this.pushPointToScribble();const l=new Set(n);for(const c of s){if(this.editor.isShapeOfType(c,"group"))continue;const d=this.editor.getShapeMask(c.id);if(d&&!aa(o,d))continue;const h=this.editor.getShapeGeometry(c),u=this.editor.getPointInShapeSpace(c,a),p=this.editor.getPointInShapeSpace(c,o);h.hitTestLineSegment(u,p,ko/r)&&l.add(this.editor.getOutermostSelectableShape(c).id)}this.editor.setErasingShapes([...l].filter(c=>!i.has(c)))}complete(){this.editor.deleteShapes(this.editor.getCurrentPageState().erasingShapeIds),this.editor.setErasingShapes([]),this.parent.transition("idle")}cancel(){this.editor.setErasingShapes([]),this.editor.bailToMark(this.markId),this.parent.transition("idle",this.info)}}m(nA,"id","erasing");var nw;let ore=(nw=class extends he{constructor(){super(...arguments);m(this,"onPointerDown",n=>{this.parent.transition("pointing",n)});m(this,"onCancel",()=>{this.editor.setCurrentTool("select")})}},m(nw,"id","idle"),nw);var rw;let are=(rw=class extends he{constructor(){super(...arguments);m(this,"onEnter",()=>{const n=this.editor.getZoomLevel(),r=this.editor.getCurrentPageShapesSorted(),{inputs:{currentPagePoint:s}}=this.editor,o=new Set,a=o.size;for(let i=r.length,l=i-1;l>=0;l--){const c=r[l];if(!(this.editor.isShapeOrAncestorLocked(c)||this.editor.isShapeOfType(c,"group"))&&this.editor.isPointInShape(c,s,{hitInside:!1,margin:ko/n})){const d=this.editor.getOutermostSelectableShape(c);if(this.editor.isShapeOfType(d,"frame")&&o.size>a)break;o.add(d.id)}}this.editor.setErasingShapes([...o])});m(this,"onPointerMove",n=>{this.editor.inputs.isDragging&&this.parent.transition("erasing",n)});m(this,"onPointerUp",()=>{this.complete()});m(this,"onCancel",()=>{this.cancel()});m(this,"onComplete",()=>{this.complete()});m(this,"onInterrupt",()=>{this.cancel()})}complete(){const n=this.editor.getErasingShapeIds();n.length&&(this.editor.mark("erase end"),this.editor.deleteShapes(n)),this.editor.setErasingShapes([]),this.parent.transition("idle")}cancel(){this.editor.setErasingShapes([]),this.parent.transition("idle")}},m(rw,"id","pointing"),rw);class im extends he{constructor(){super(...arguments);m(this,"onEnter",()=>{this.editor.setCursor({type:"cross",rotation:0})})}}m(im,"id","eraser"),m(im,"initial","idle"),m(im,"children",()=>[ore,are,nA]);class rA extends he{constructor(){super(...arguments);m(this,"onEnter",()=>{this.update()});m(this,"onPointerMove",()=>{this.update()});m(this,"onPointerUp",()=>{this.complete()});m(this,"onCancel",()=>{this.complete()});m(this,"onComplete",()=>{this.complete()})}update(){const{currentScreenPoint:n,previousScreenPoint:r}=this.editor.inputs,s=P.Sub(n,r);(Math.abs(s.x)>0||Math.abs(s.y)>0)&&this.editor.pan(s)}complete(){this.editor.slideCamera({speed:Math.min(2,this.editor.inputs.pointerVelocity.len()),direction:this.editor.inputs.pointerVelocity,friction:j0}),this.parent.transition("idle")}}m(rA,"id","dragging");var sw;let ire=(sw=class extends he{constructor(){super(...arguments);m(this,"onEnter",()=>{this.editor.setCursor({type:"grab",rotation:0})});m(this,"onPointerDown",n=>{this.parent.transition("pointing",n)});m(this,"onCancel",()=>{this.editor.setCurrentTool("select")})}},m(sw,"id","idle"),sw);var ow;let lre=(ow=class extends he{constructor(){super(...arguments);m(this,"onEnter",()=>{this.editor.stopCameraAnimation(),this.editor.updateInstanceState({cursor:{type:"grabbing",rotation:0}},{ephemeral:!0})});m(this,"onPointerMove",n=>{this.editor.inputs.isDragging&&this.parent.transition("dragging",n)});m(this,"onPointerUp",()=>{this.complete()});m(this,"onCancel",()=>{this.complete()});m(this,"onComplete",()=>{this.complete()});m(this,"onInterrupt",()=>{this.complete()})}complete(){this.parent.transition("idle")}},m(ow,"id","pointing"),ow);class lm extends he{constructor(){super(...arguments);m(this,"onDoubleClick",n=>{if(n.phase==="settle"){const{currentScreenPoint:r}=this.editor.inputs;this.editor.zoomIn(r,{duration:220,easing:xr.easeOutQuint})}});m(this,"onTripleClick",n=>{if(n.phase==="settle"){const{currentScreenPoint:r}=this.editor.inputs;this.editor.zoomOut(r,{duration:320,easing:xr.easeOutQuint})}});m(this,"onQuadrupleClick",n=>{if(n.phase==="settle"){const r=this.editor.getZoomLevel(),{inputs:{currentScreenPoint:s}}=this.editor;r===1?this.editor.zoomToFit({duration:400,easing:xr.easeOutQuint}):this.editor.resetZoom(s,{duration:320,easing:xr.easeOutQuint})}})}}m(lm,"id","hand"),m(lm,"initial","idle"),m(lm,"children",()=>[ire,lre,rA]);var aw;let cre=(aw=class extends he{constructor(){super(...arguments);m(this,"onPointerDown",n=>{this.parent.transition("lasering",n)})}},m(aw,"id","idle"),aw);class sA extends he{constructor(){super(...arguments);m(this,"scribbleId","id");m(this,"onEnter",()=>{const n=this.editor.scribbles.addScribble({color:"laser",opacity:.7,size:4,delay:1200,shrink:.05,taper:!0});this.scribbleId=n.id,this.pushPointToScribble()});m(this,"onExit",()=>{this.editor.scribbles.stop(this.scribbleId)});m(this,"onPointerMove",()=>{this.pushPointToScribble()});m(this,"onPointerUp",()=>{this.complete()});m(this,"pushPointToScribble",()=>{const{x:n,y:r}=this.editor.inputs.currentPagePoint;this.editor.scribbles.addPoint(this.scribbleId,n,r)});m(this,"onCancel",()=>{this.cancel()});m(this,"onComplete",()=>{this.complete()})}complete(){this.parent.transition("idle")}cancel(){this.parent.transition("idle")}}m(sA,"id","lasering");class cm extends he{constructor(){super(...arguments);m(this,"onEnter",()=>{this.editor.setCursor({type:"cross",rotation:0})})}}m(cm,"id","laser"),m(cm,"initial","idle"),m(cm,"children",()=>[cre,sA]);class oA extends he{constructor(){super(...arguments);m(this,"info",{});m(this,"brush",new xe);m(this,"initialSelectedShapeIds",[]);m(this,"excludedShapeIds",new Set);m(this,"initialStartShape",null);m(this,"onEnter",n=>{const{altKey:r,currentPagePoint:s}=this.editor.inputs;if(r){this.parent.transition("scribble_brushing",n);return}this.excludedShapeIds=new Set(this.editor.getCurrentPageShapes().filter(o=>this.editor.isShapeOfType(o,"group")||this.editor.isShapeOrAncestorLocked(o)).map(o=>o.id)),this.info=n,this.initialSelectedShapeIds=this.editor.getSelectedShapeIds().slice(),this.initialStartShape=this.editor.getShapesAtPoint(s)[0],this.onPointerMove()});m(this,"onExit",()=>{this.initialSelectedShapeIds=[],this.editor.updateInstanceState({brush:null})});m(this,"onTick",()=>{u9(this.editor)});m(this,"onPointerMove",()=>{this.hitTestShapes()});m(this,"onPointerUp",()=>{this.complete()});m(this,"onComplete",()=>{this.complete()});m(this,"onCancel",n=>{this.editor.setSelectedShapes(this.initialSelectedShapeIds,{squashing:!0}),this.parent.transition("idle",n)});m(this,"onKeyDown",n=>{this.editor.inputs.altKey?this.parent.transition("scribble_brushing",n):this.hitTestShapes()});m(this,"onKeyUp",()=>{this.hitTestShapes()});m(this,"onInterrupt",()=>{this.editor.updateInstanceState({brush:null})})}complete(){this.parent.transition("idle")}hitTestShapes(){const n=this.editor.getZoomLevel(),r=this.editor.getCurrentPageShapes(),s=this.editor.getCurrentPageId(),{inputs:{originPagePoint:o,currentPagePoint:a,shiftKey:i,ctrlKey:l}}=this.editor;this.brush.setTo(xe.FromPoints([o,a]));const c=new Set(i?this.initialSelectedShapeIds:[]);let d,h,u,p,y,g;const{corners:x}=this.brush,{excludedShapeIds:w}=this;e:for(let S=0,v=r.length;S<v;S++){if(u=r[S],w.has(u.id)||c.has(u.id)||(p=this.editor.getShapePageBounds(u),!p))continue e;if(this.brush.contains(p)){this.handleHit(u,a,s,c,x);continue e}if(l||this.editor.isShapeOfType(u,"frame"))continue e;if(this.brush.collides(p)){const k=this.editor.getShapeGeometry(u);if(y=this.editor.getShapePageTransform(u),!y)continue e;g=y.clone().invert().applyToPoints(x);t:for(let C=0;C<g.length;C++)if(d=g[C],h=g[(C+1)%g.length],k.hitTestLineSegment(d,h,ko/n)){this.handleHit(u,a,s,c,x);break t}}}this.editor.updateInstanceState({brush:{...this.brush.toJson()}}),this.editor.setSelectedShapes(Array.from(c),{squashing:!0})}handleHit(n,r,s,o,a){if(n.parentId===s){o.add(n.id);return}const i=this.editor.getOutermostSelectableShape(n),l=this.editor.getShapeMask(i.id);l&&!HU(l,a)&&!aa(r,l)||o.add(i.id)}}m(oA,"id","brushing");function B9(e){const t=e.getZoomLevel(),{inputs:{currentPagePoint:n}}=e;return e.getShapeAtPoint(n,{hitInside:!1,hitLabels:!1,margin:ko/t,renderingOnly:!0})??e.getSelectedShapeAtPoint(n)}function aA(e,t,n){if(!t)throw Error("Needs to translate a cropped shape!");const{crop:r}=t.props;if(!r)return;const s=e.inputs.shiftKey?Math.abs(n.x)<Math.abs(n.y)?"x":"y":null;s==="x"?n.x=0:s==="y"&&(n.y=0),n.rot(-t.rotation);const o=1/(r.bottomRight.x-r.topLeft.x)*t.props.w,a=1/(r.bottomRight.y-r.topLeft.y)*t.props.h,i=r.bottomRight.y-r.topLeft.y,l=r.bottomRight.x-r.topLeft.x,c=Fr(r);return c.topLeft.x=Math.min(1-l,Math.max(0,c.topLeft.x-n.x/o)),c.topLeft.y=Math.min(1-i,Math.max(0,c.topLeft.y-n.y/a)),c.bottomRight.x=c.topLeft.x+l,c.bottomRight.y=c.topLeft.y+i,{id:t.id,type:t.type,props:{crop:c}}}var iw;let dre=(iw=class extends he{constructor(){super(...arguments);m(this,"onEnter",()=>{this.editor.updateInstanceState({cursor:{type:"default",rotation:0}},{ephemeral:!0});const n=this.editor.getOnlySelectedShape();this.editor.on("change-history",this.cleanupCroppingState),n&&(this.editor.mark("crop"),this.editor.setCroppingShape(n.id))});m(this,"onExit",()=>{this.editor.updateInstanceState({cursor:{type:"default",rotation:0}},{ephemeral:!0}),this.editor.off("change-history",this.cleanupCroppingState)});m(this,"onCancel",()=>{this.editor.setCroppingShape(null),this.editor.setCurrentTool("select.idle",{})});m(this,"onPointerDown",n=>{var r;if(!this.editor.getIsMenuOpen()){if(n.ctrlKey){this.cancel(),this.editor.root.handleEvent(n);return}switch(n.target){case"canvas":{const s=B9(this.editor);if(s&&!this.editor.isShapeOfType(s,"group")){this.onPointerDown({...n,shape:s,target:"shape"});return}this.cancel(),this.editor.root.handleEvent(n);break}case"shape":{if(n.shape.id===this.editor.getCroppingShapeId()){this.editor.setCurrentTool("select.crop.pointing_crop",n);return}else(r=this.editor.getShapeUtil(n.shape))!=null&&r.canCrop(n.shape)?(this.editor.setCroppingShape(n.shape.id),this.editor.setSelectedShapes([n.shape.id]),this.editor.setCurrentTool("select.crop.pointing_crop",n)):(this.cancel(),this.editor.root.handleEvent(n));break}case"selection":{switch(n.handle){case"mobile_rotate":case"top_left_rotate":case"top_right_rotate":case"bottom_left_rotate":case"bottom_right_rotate":{this.editor.setCurrentTool("select.pointing_rotate_handle",{...n,onInteractionEnd:"select.crop"});break}case"top":case"right":case"bottom":case"left":{this.editor.setCurrentTool("select.pointing_crop_handle",{...n,onInteractionEnd:"select.crop"});break}case"top_left":case"top_right":case"bottom_left":case"bottom_right":{this.editor.setCurrentTool("select.pointing_crop_handle",{...n,onInteractionEnd:"select.crop"});break}default:this.cancel()}break}}}});m(this,"onDoubleClick",n=>{var a;if(this.editor.inputs.shiftKey||n.phase!=="up")return;const r=this.editor.getCroppingShapeId();if(!r)return;const s=this.editor.getShape(r);if(!s)return;const o=this.editor.getShapeUtil(s);o&&n.target==="selection"&&((a=o.onDoubleClickEdge)==null||a.call(o,s))});m(this,"onKeyDown",()=>{this.nudgeCroppingImage(!1)});m(this,"onKeyRepeat",()=>{this.nudgeCroppingImage(!0)});m(this,"onKeyUp",n=>{switch(n.code){case"Enter":{this.editor.setCroppingShape(null),this.editor.setCurrentTool("select.idle",{});break}}});m(this,"cleanupCroppingState",()=>{this.editor.getCroppingShapeId()||this.editor.setCurrentTool("select.idle",{})})}cancel(){this.editor.setCroppingShape(null),this.editor.setCurrentTool("select.idle",{})}nudgeCroppingImage(n=!1){const{editor:{inputs:{keys:r}}}=this,s=r.has("ShiftLeft"),o=new P(0,0);if(r.has("ArrowLeft")&&(o.x+=1),r.has("ArrowRight")&&(o.x-=1),r.has("ArrowUp")&&(o.y+=1),r.has("ArrowDown")&&(o.y-=1),o.equals(new P(0,0)))return;s&&o.mul(10);const a=this.editor.getShape(this.editor.getCroppingShapeId());if(!a)return;const i=aA(this.editor,a,o);i&&(n||this.editor.mark("translate crop"),this.editor.updateShapes([i]))}},m(iw,"id","idle"),iw);class iA extends he{constructor(){super(...arguments);m(this,"onCancel",()=>{this.editor.setCurrentTool("select.crop.idle",{})});m(this,"onPointerMove",n=>{this.editor.inputs.isDragging&&this.editor.setCurrentTool("select.crop.translating_crop",n)});m(this,"onPointerUp",n=>{this.editor.setCurrentTool("select.crop.idle",n)})}}m(iA,"id","pointing_crop");class lA extends he{constructor(){super(...arguments);m(this,"info",{});m(this,"markId","translating crop");m(this,"snapshot",{});m(this,"onEnter",n=>{this.info=n,this.snapshot=this.createSnapshot(),this.editor.mark(this.markId),this.editor.setCursor({type:"move",rotation:0}),this.updateShapes()});m(this,"onExit",()=>{this.editor.updateInstanceState({cursor:{type:"default",rotation:0}},{ephemeral:!0})});m(this,"onPointerMove",()=>{this.updateShapes()});m(this,"onPointerUp",()=>{this.complete()});m(this,"onComplete",()=>{this.complete()});m(this,"onCancel",()=>{this.cancel()});m(this,"onKeyDown",n=>{switch(n.key){case"Alt":case"Shift":{this.updateShapes();return}}});m(this,"onKeyUp",n=>{switch(n.key){case"Enter":{this.complete();return}case"Alt":case"Shift":this.updateShapes()}})}complete(){this.updateShapes(),this.editor.setCurrentTool("select.crop.idle",this.info)}cancel(){this.editor.bailToMark(this.markId),this.editor.setCurrentTool("select.crop.idle",this.info)}createSnapshot(){return{shape:this.editor.getOnlySelectedShape()}}updateShapes(){const n=this.snapshot.shape;if(!n)return;const{originPagePoint:r,currentPagePoint:s}=this.editor.inputs,o=s.clone().sub(r),a=aA(this.editor,n,o);a&&this.editor.updateShapes([a],{squashing:!0})}}m(lA,"id","translating_crop");class dm extends he{}m(dm,"id","crop"),m(dm,"initial","idle"),m(dm,"children",()=>[dre,lA,iA]);const Ms=8,mh={bottom:"ns-resize",top:"ns-resize",left:"ew-resize",right:"ew-resize",bottom_left:"nesw-resize",bottom_right:"nwse-resize",top_left:"nwse-resize",top_right:"nesw-resize",bottom_left_rotate:"swne-rotate",bottom_right_rotate:"senw-rotate",top_left_rotate:"nwse-rotate",top_right_rotate:"nesw-rotate",mobile_rotate:"grabbing"};class cA extends he{constructor(){super(...arguments);m(this,"info",{});m(this,"onEnter",n=>{this.info=n,this.updateCursor()});m(this,"onPointerMove",()=>{this.editor.inputs.isDragging&&this.parent.transition("resizing",this.info)});m(this,"onPointerUp",()=>{this.complete()});m(this,"onCancel",()=>{this.cancel()});m(this,"onComplete",()=>{this.cancel()});m(this,"onInterrupt",()=>{this.cancel()})}updateCursor(){const n=this.editor.getSelectedShapes(),r=mh[this.info.handle];this.editor.updateInstanceState({cursor:{type:r,rotation:n.length===1?n[0].rotation:0}})}complete(){this.info.onInteractionEnd?this.editor.setCurrentTool(this.info.onInteractionEnd,{}):this.parent.transition("idle")}cancel(){this.info.onInteractionEnd?this.editor.setCurrentTool(this.info.onInteractionEnd,{}):this.parent.transition("idle")}}m(cA,"id","pointing_resize_handle");class dA extends he{constructor(){super(...arguments);m(this,"info",{});m(this,"markId","");m(this,"snapshot",{});m(this,"onEnter",n=>{this.info=n,this.markId="cropping",this.editor.mark(this.markId),this.snapshot=this.createSnapshot(),this.updateShapes()});m(this,"onPointerMove",()=>{this.updateShapes()});m(this,"onPointerUp",()=>{this.complete()});m(this,"onComplete",()=>{this.complete()});m(this,"onCancel",()=>{this.cancel()});m(this,"getDefaultCrop",()=>({topLeft:{x:0,y:0},bottomRight:{x:1,y:1}}))}updateCursor(){const n=this.editor.getSelectedShapes()[0];if(!n)return;const r=mh[this.info.handle];this.editor.updateInstanceState({cursor:{type:r,rotation:n.rotation}})}updateShapes(){const{shape:n,cursorHandleOffset:r}=this.snapshot;if(!n||!this.editor.getShapeUtil("image"))return;const o=n.props,a=this.editor.inputs.currentPagePoint.clone().sub(r),i=this.editor.inputs.originPagePoint.clone().sub(r),l=a.clone().sub(i).rot(-n.rotation),c=o.crop??this.getDefaultCrop(),d=Fr(c),h=new P(n.x,n.y),u=new P(0,0),p=1/(c.bottomRight.x-c.topLeft.x)*o.w,y=1/(c.bottomRight.y-c.topLeft.y)*o.h;let g=!1;switch(this.info.handle){case"top":case"top_left":case"top_right":{if(y<Ms)break;g=!0,d.topLeft.y=d.topLeft.y+l.y/y,y*(d.bottomRight.y-d.topLeft.y)<Ms?(d.topLeft.y=d.bottomRight.y-Ms/y,u.y=(d.topLeft.y-c.topLeft.y)*y):d.topLeft.y<=0?(d.topLeft.y=0,u.y=(d.topLeft.y-c.topLeft.y)*y):u.y=l.y;break}case"bottom":case"bottom_left":case"bottom_right":{if(y<Ms)break;g=!0,d.bottomRight.y=Math.min(1,d.bottomRight.y+l.y/y),y*(d.bottomRight.y-d.topLeft.y)<Ms&&(d.bottomRight.y=d.topLeft.y+Ms/y);break}}switch(this.info.handle){case"left":case"top_left":case"bottom_left":{if(p<Ms)break;g=!0,d.topLeft.x=d.topLeft.x+l.x/p,p*(d.bottomRight.x-d.topLeft.x)<Ms?(d.topLeft.x=d.bottomRight.x-Ms/p,u.x=(d.topLeft.x-c.topLeft.x)*p):d.topLeft.x<=0?(d.topLeft.x=0,u.x=(d.topLeft.x-c.topLeft.x)*p):u.x=l.x;break}case"right":case"top_right":case"bottom_right":{if(p<Ms)break;g=!0,d.bottomRight.x=Math.min(1,d.bottomRight.x+l.x/p),p*(d.bottomRight.x-d.topLeft.x)<Ms&&(d.bottomRight.x=d.topLeft.x+Ms/p);break}}if(!g)return;h.add(u.rot(n.rotation));const x={id:n.id,type:n.type,x:h.x,y:h.y,props:{crop:d,w:(d.bottomRight.x-d.topLeft.x)*p,h:(d.bottomRight.y-d.topLeft.y)*y}};this.editor.updateShapes([x],{squashing:!0}),this.updateCursor()}complete(){this.info.onInteractionEnd?this.editor.setCurrentTool(this.info.onInteractionEnd,this.info):(this.editor.setCroppingShape(null),this.parent.transition("idle"))}cancel(){this.editor.bailToMark(this.markId),this.info.onInteractionEnd?this.editor.setCurrentTool(this.info.onInteractionEnd,this.info):(this.editor.setCroppingShape(null),this.parent.transition("idle"))}createSnapshot(){const n=this.editor.getSelectionRotation(),{inputs:{originPagePoint:r}}=this.editor,s=this.editor.getOnlySelectedShape(),o=this.editor.getSelectionRotatedPageBounds(),a=P.RotWith(o.getHandlePoint(this.info.handle),o.point,n),i=P.Sub(r,a);return{shape:s,cursorHandleOffset:i}}}m(dA,"id","cropping");class hA extends he{constructor(){super(...arguments);m(this,"shapeId","");m(this,"initialHandle",{});m(this,"initialAdjacentHandle",null);m(this,"initialPagePoint",{});m(this,"markId","");m(this,"initialPageTransform");m(this,"initialPageRotation");m(this,"info",{});m(this,"isPrecise",!1);m(this,"isPreciseId",null);m(this,"pointingId",null);m(this,"onEnter",n=>{const{shape:r,isCreating:s,handle:o}=n;this.info=n,this.parent.setCurrentToolIdMask(n.onInteractionEnd),this.shapeId=r.id,this.markId=s?`creating:${r.id}`:"dragging handle",s||this.editor.mark(this.markId),this.initialHandle=Fr(o),this.initialPageTransform=this.editor.getShapePageTransform(r),this.initialPageRotation=this.initialPageTransform.rotation(),this.initialPagePoint=this.editor.inputs.originPagePoint.clone(),this.editor.updateInstanceState({cursor:{type:s?"cross":"grabbing",rotation:0}},{ephemeral:!0});const a=this.editor.getShapeHandles(r).sort(cr),i=a.findIndex(c=>c.id===n.handle.id);this.initialAdjacentHandle=null;for(let c=i+1;c<a.length;c++){const d=a[c];if(d.type==="vertex"&&d.id!=="middle"&&d.id!==n.handle.id){this.initialAdjacentHandle=d;break}}if(!this.initialAdjacentHandle)for(let c=a.length-1;c>=0;c--){const d=a[c];if(d.type==="vertex"&&d.id!=="middle"&&d.id!==n.handle.id){this.initialAdjacentHandle=d;break}}const l=r.props[n.handle.id];this.isPrecise=!1,(l==null?void 0:l.type)==="binding"?(this.editor.setHintingShapes([l.boundShapeId]),this.isPrecise=l.isPrecise,this.isPrecise?this.isPreciseId=l.boundShapeId:this.resetExactTimeout()):this.editor.setHintingShapes([]),this.update(),this.editor.select(this.shapeId)});m(this,"exactTimeout",-1);m(this,"onPointerMove",()=>{this.update()});m(this,"onKeyDown",()=>{this.update()});m(this,"onKeyUp",()=>{this.update()});m(this,"onPointerUp",()=>{this.complete()});m(this,"onComplete",()=>{this.complete()});m(this,"onCancel",()=>{this.cancel()});m(this,"onExit",()=>{this.parent.setCurrentToolIdMask(void 0),this.editor.setHintingShapes([]),this.editor.snaps.clear(),this.editor.updateInstanceState({cursor:{type:"default",rotation:0}},{ephemeral:!0})})}resetExactTimeout(){this.exactTimeout!==-1&&this.clearExactTimeout(),this.exactTimeout=setTimeout(()=>{this.getIsActive()&&!this.isPrecise&&(this.isPrecise=!0,this.isPreciseId=this.pointingId,this.update()),this.exactTimeout=-1},750)}clearExactTimeout(){this.exactTimeout!==-1&&(clearTimeout(this.exactTimeout),this.exactTimeout=-1)}complete(){this.editor.snaps.clear();const{onInteractionEnd:n}=this.info;if(this.editor.getInstanceState().isToolLocked&&n){this.editor.setCurrentTool(n,{shapeId:this.shapeId});return}this.parent.transition("idle")}cancel(){this.editor.bailToMark(this.markId),this.editor.snaps.clear();const{onInteractionEnd:n}=this.info;if(n){this.editor.setCurrentTool(n,{shapeId:this.shapeId});return}this.parent.transition("idle")}update(){var _;const{editor:n,shapeId:r,initialPagePoint:s}=this,{initialHandle:o,initialPageRotation:a,initialAdjacentHandle:i}=this,l=this.editor.getHintingShapeIds(),c=this.editor.user.getIsSnapMode(),{snaps:d,inputs:{currentPagePoint:h,shiftKey:u,ctrlKey:p,altKey:y,pointerVelocity:g}}=n,x=this.info.shape,w=n.getShape(r);if(!w)return;const S=n.getShapeUtil(w);let v=h.clone().sub(s).rot(-a).add(o);if(u&&i&&o.id!=="middle"){const E=P.Angle(i,v),z=Jm(E,24)-E;v=P.RotWith(v,i,z)}if(n.snaps.clear(),o.canSnap&&(c?!p:p)){const E=n.getShapePageTransform(w.id);if(!E)throw Error("Expected a page transform");const I=n.getShapeHandles(w).filter(({type:T})=>T==="vertex").sort(cr).findIndex(({index:T})=>o.index===T),z=S.getOutlineSegments(w).map(T=>ge.applyToPoints(E,T)).filter((T,j)=>j!==I-1&&j!==I),A=d.getSnappingHandleDelta({additionalSegments:z,handlePoint:ge.applyToPoint(E,v)});A&&(A.rot(-n.getShapeParentTransform(w).rotation()),v.add(A))}const k=(_=S.onHandleChange)==null?void 0:_.call(S,w,{handle:{...o,x:v.x,y:v.y},isPrecise:this.isPrecise||y,initial:x}),C={...w,...k};if(o.canBind){const E=C.props[o.id];(E==null?void 0:E.type)==="binding"?l[0]!==E.boundShapeId&&(n.setHintingShapes([E.boundShapeId]),this.pointingId=E.boundShapeId,this.isPrecise=g.len()<.5||y,this.isPreciseId=this.isPrecise?E.boundShapeId:null,this.resetExactTimeout()):l.length>0&&(n.setHintingShapes([]),this.pointingId=null,this.isPrecise=!1,this.isPreciseId=null,this.resetExactTimeout())}k&&n.updateShapes([C],{squashing:!0})}}m(hA,"id","dragging_handle");class uA extends he{constructor(){super(...arguments);m(this,"onEnter",()=>{const n=this.editor.getEditingShape();if(!n)throw Error("Entered editing state without an editing shape");$p(this.editor),this.editor.select(n)});m(this,"onExit",()=>{var o;const{editingShapeId:n}=this.editor.getCurrentPageState();if(!n)return;this.editor.setEditingShape(null);const r=this.editor.getShape(n),s=this.editor.getShapeUtil(r);(o=s.onEditEnd)==null||o.call(s,r),setTimeout(()=>{this.editor.updateViewportScreenBounds()},500)});m(this,"onPointerMove",n=>{switch(n.target){case"shape":case"canvas":{$p(this.editor);return}}});m(this,"onPointerDown",n=>{switch(n.target){case"canvas":{const r=B9(this.editor);if(r){this.onPointerDown({...n,shape:r,target:"shape"});return}break}case"shape":{const{shape:r}=n,s=this.editor.getEditingShape();if(!s)throw Error("Expected an editing shape!");if(r.type===s.type)if(this.editor.isShapeOfType(r,"geo")||this.editor.isShapeOfType(r,"arrow")){const a=this.editor.getShapeUtil(r).getGeometry(r).children[1];if(a){const i=this.editor.getPointInShapeSpace(r,this.editor.inputs.currentPagePoint);if(a.bounds.containsPoint(i)){if(r.id===s.id)return;this.parent.transition("pointing_shape",n);return}}}else{if(r.id===s.id)this.editor.isShapeOfType(r,"frame")&&this.editor.setEditingShape(null);else{this.parent.transition("pointing_shape",n);return}return}break}}this.parent.transition("idle",n),this.editor.root.handleEvent(n)});m(this,"onComplete",n=>{this.parent.transition("idle",n)});m(this,"onCancel",n=>{this.parent.transition("idle",n)})}}m(uA,"id","editing_shape");function i8(e){const t=e.getOnlySelectedShape();return!!(t&&!e.isShapeOrAncestorLocked(t)&&e.getShapeUtil(t).canCrop(t))}function yy(e){const t=e.getSelectedShapeIds(),{shiftKey:n,altKey:r,currentPagePoint:s}=e.inputs,o=e.getShapeAtPoint(s,{hitInside:!1,margin:ko/e.getZoomLevel(),hitLabels:!0,renderingOnly:!0,filter:a=>!a.isLocked});if(o){const a=e.getOutermostSelectableShape(o);if(n&&!r)e.cancelDoubleClick(),t.includes(a.id)?(e.mark("deselecting shape"),e.deselect(a)):(e.mark("shift selecting shape"),e.setSelectedShapes([...t,a.id]));else{let i;a===o||a.id===e.getFocusedGroupId()||t.includes(a.id)?i=o:i=a,i&&!t.includes(i.id)&&(e.mark("selecting shape"),e.select(i.id))}}else{if(n)return;{t.length>0&&(e.mark("selecting none"),e.selectNone());const a=e.getFocusedGroupId();if(js(a)){const i=e.getShape(a);e.isPointInShape(i,s,{margin:0,hitInside:!0})||e.setFocusedGroup(null)}}}}var lw;let hre=(lw=class extends he{constructor(){super(...arguments);m(this,"onEnter",()=>{this.parent.setCurrentToolIdMask(void 0),$p(this.editor),this.editor.updateInstanceState({cursor:{type:"default",rotation:0}},{ephemeral:!0})});m(this,"onPointerMove",()=>{$p(this.editor)});m(this,"onPointerDown",n=>{if(this.editor.getIsMenuOpen())return;const r=n.ctrlKey&&i8(this.editor);if(n.ctrlKey&&!r){if(n.target==="shape"&&this.isDarwin&&this.editor.inputs.keys.has("ControlLeft")&&!this.editor.isShapeOrAncestorLocked(n.shape)){this.parent.transition("pointing_shape",n);return}this.parent.transition("brushing",n);return}switch(n.target){case"canvas":{const s=B9(this.editor);if(s&&!s.isLocked){this.onPointerDown({...n,shape:s,target:"shape"});return}const o=this.editor.getSelectedShapeIds(),a=this.editor.getOnlySelectedShape(),{inputs:{currentPagePoint:i}}=this.editor;if((o.length>1||a&&!this.editor.getShapeUtil(a).hideSelectionBoundsBg(a))&&l8(this.editor,i)){this.onPointerDown({...n,target:"selection"});return}this.parent.transition("pointing_canvas",n);break}case"shape":{if(this.editor.isShapeOrAncestorLocked(n.shape)){this.parent.transition("pointing_canvas",n);break}this.parent.transition("pointing_shape",n);break}case"handle":{if(this.editor.getInstanceState().isReadonly)break;this.editor.inputs.altKey?this.parent.transition("pointing_shape",n):this.parent.transition("pointing_handle",n);break}case"selection":{switch(n.handle){case"mobile_rotate":case"top_left_rotate":case"top_right_rotate":case"bottom_left_rotate":case"bottom_right_rotate":{this.parent.transition("pointing_rotate_handle",n);break}case"top":case"right":case"bottom":case"left":{r?this.parent.transition("pointing_crop_handle",n):this.parent.transition("pointing_resize_handle",n);break}case"top_left":case"top_right":case"bottom_left":case"bottom_right":{r?this.parent.transition("pointing_crop_handle",n):this.parent.transition("pointing_resize_handle",n);break}default:{const s=this.editor.getHoveredShape();if(s&&!this.editor.getSelectedShapeIds().includes(s.id)&&!s.isLocked){this.onPointerDown({...n,shape:s,target:"shape"});return}this.parent.transition("pointing_selection",n)}}break}}});m(this,"onDoubleClick",n=>{var r,s,o,a;if(!(this.editor.inputs.shiftKey||n.phase!=="up"))switch(n.target){case"canvas":{const i=this.editor.getHoveredShape(),l=i&&!this.editor.isShapeOfType(i,"group")?i:this.editor.getSelectedShapeAtPoint(this.editor.inputs.currentPagePoint)??this.editor.getShapeAtPoint(this.editor.inputs.currentPagePoint,{margin:ko/this.editor.getZoomLevel(),hitInside:!1}),c=this.editor.getFocusedGroupId();if(l){if(this.editor.isShapeOfType(l,"group")){yy(this.editor);return}else{const d=this.editor.getShape(l.parentId);if(d&&this.editor.isShapeOfType(d,"group")&&!(c&&d.id===c)){yy(this.editor);return}}this.onDoubleClick({...n,shape:l,target:"shape"});return}this.editor.inputs.shiftKey||this.handleDoubleClickOnCanvas(n);break}case"selection":{if(this.editor.getInstanceState().isReadonly)break;const i=this.editor.getOnlySelectedShape();if(i){const l=this.editor.getShapeUtil(i);if(!this.canInteractWithShapeInReadOnly(i))return;if(n.handle==="right"||n.handle==="left"||n.handle==="top"||n.handle==="bottom"){const c=(r=l.onDoubleClickEdge)==null?void 0:r.call(l,i);if(c){this.editor.mark("double click edge"),this.editor.updateShapes([c]);return}}if(l.canCrop(i)&&!this.editor.isShapeOrAncestorLocked(i)){this.parent.transition("crop",n);return}this.shouldStartEditingShape(i)&&this.startEditingShape(i,n)}break}case"shape":{const{shape:i}=n,l=this.editor.getShapeUtil(i);if(i.type!=="video"&&i.type!=="embed"&&this.editor.getInstanceState().isReadonly)break;if(l.onDoubleClick){const c=(s=l.onDoubleClick)==null?void 0:s.call(l,i);if(c){this.editor.updateShapes([c]);return}else if(l.canCrop(i)&&!this.editor.isShapeOrAncestorLocked(i)){this.editor.mark("select and crop"),this.editor.select((o=n.shape)==null?void 0:o.id),this.parent.transition("crop",n);return}}this.shouldStartEditingShape(i)?this.startEditingShape(i,n):this.handleDoubleClickOnCanvas(n);break}case"handle":{if(this.editor.getInstanceState().isReadonly)break;const{shape:i,handle:l}=n,c=this.editor.getShapeUtil(i),d=(a=c.onDoubleClickHandle)==null?void 0:a.call(c,i,l);d?this.editor.updateShapes([d]):this.shouldStartEditingShape(i)&&this.startEditingShape(i,n)}}});m(this,"onRightClick",n=>{switch(n.target){case"canvas":{const r=this.editor.getHoveredShape(),s=r&&!this.editor.isShapeOfType(r,"group")?r:this.editor.getShapeAtPoint(this.editor.inputs.currentPagePoint,{margin:ko/this.editor.getZoomLevel(),hitInside:!1,hitLabels:!0,hitFrameInside:!1,renderingOnly:!0});if(s){this.onRightClick({...n,shape:s,target:"shape"});return}const o=this.editor.getSelectedShapeIds(),a=this.editor.getOnlySelectedShape(),{inputs:{currentPagePoint:i}}=this.editor;if((o.length>1||a&&!this.editor.getShapeUtil(a).hideSelectionBoundsBg(a))&&l8(this.editor,i)){this.onRightClick({...n,target:"selection"});return}this.editor.selectNone();break}case"shape":{const{selectedShapeIds:r}=this.editor.getCurrentPageState(),{shape:s}=n,o=this.editor.getOutermostSelectableShape(s,a=>!r.includes(a.id));r.includes(o.id)||(this.editor.mark("selecting shape"),this.editor.setSelectedShapes([o.id]));break}}});m(this,"onCancel",()=>{this.editor.getFocusedGroupId()!==this.editor.getCurrentPageId()&&this.editor.getSelectedShapeIds().length>0?this.editor.popFocusedGroupId():(this.editor.mark("clearing selection"),this.editor.selectNone())});m(this,"onKeyDown",n=>{switch(n.code){case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"ArrowDown":{this.nudgeSelectedShapes(!1);break}}});m(this,"onKeyRepeat",n=>{switch(n.code){case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"ArrowDown":{this.nudgeSelectedShapes(!0);break}}});m(this,"onKeyUp",n=>{switch(n.code){case"Enter":{const r=this.editor.getSelectedShapes();if(r.every(o=>this.editor.isShapeOfType(o,"group"))){this.editor.setSelectedShapes(r.flatMap(o=>this.editor.getSortedChildIdsForParent(o.id)));return}const s=this.editor.getOnlySelectedShape();if(s&&this.shouldStartEditingShape(s)){this.startEditingShape(s,{...n,target:"shape",shape:s});return}i8(this.editor)&&this.parent.transition("crop",n);break}}});m(this,"isDarwin",window.navigator.userAgent.toLowerCase().indexOf("mac")>-1)}shouldStartEditingShape(n=this.editor.getOnlySelectedShape()){return!n||this.editor.isShapeOrAncestorLocked(n)&&n.type!=="embed"||!this.canInteractWithShapeInReadOnly(n)?!1:this.editor.getShapeUtil(n).canEdit(n)}startEditingShape(n,r){this.editor.isShapeOrAncestorLocked(n)&&n.type!=="embed"||(this.editor.mark("editing shape"),this.editor.setEditingShape(n.id),this.parent.transition("editing_shape",r))}handleDoubleClickOnCanvas(n){if(this.editor.getInstanceState().isReadonly)return;this.editor.mark("creating text shape");const r=gt(),{x:s,y:o}=this.editor.inputs.currentPagePoint;this.editor.createShapes([{id:r,type:"text",x:s,y:o,props:{text:"",autoSize:!0}}]);const a=this.editor.getShape(r);if(!a)return;const i=this.editor.getShapeUtil(a);this.editor.getInstanceState().isReadonly&&!i.canEditInReadOnly(a)||(this.editor.setEditingShape(r),this.editor.select(r),this.parent.transition("editing_shape",n))}nudgeSelectedShapes(n=!1){const{editor:{inputs:{keys:r}}}=this,s=r.has("ShiftLeft"),o=new P(0,0);if(r.has("ArrowLeft")&&(o.x-=1),r.has("ArrowRight")&&(o.x+=1),r.has("ArrowUp")&&(o.y-=1),r.has("ArrowDown")&&(o.y+=1),o.equals(new P(0,0)))return;n||this.editor.mark("nudge shapes");const{gridSize:a}=this.editor.getDocumentSettings(),i=this.editor.getInstanceState().isGridMode?s?a*fre:a:s?ure:pre;this.editor.nudgeShapes(this.editor.getSelectedShapeIds(),o.mul(i))}canInteractWithShapeInReadOnly(n){return!!(!this.editor.getInstanceState().isReadonly||this.editor.getShapeUtil(n).canEditInReadOnly(n))}},m(lw,"id","idle"),lw);const ure=10,pre=1,fre=5;function l8(e,t){const n=e.getSelectionRotatedPageBounds();if(!n)return!1;const r=e.getSelectionRotation();return r?aa(t,n.corners.map(s=>P.RotWith(s,n.point,r))):n.containsPoint(t)}class pA extends he{constructor(){super(...arguments);m(this,"onEnter",()=>{const{inputs:n}=this.editor;n.shiftKey||this.editor.getSelectedShapeIds().length>0&&(this.editor.mark("selecting none"),this.editor.selectNone())});m(this,"onPointerMove",n=>{this.editor.inputs.isDragging&&this.parent.transition("brushing",n)});m(this,"onPointerUp",()=>{yy(this.editor),this.complete()});m(this,"onComplete",()=>{this.complete()});m(this,"onInterrupt",()=>{this.parent.transition("idle")})}complete(){this.parent.transition("idle")}}m(pA,"id","pointing_canvas");class fA extends he{constructor(){super(...arguments);m(this,"info",{});m(this,"onEnter",n=>{this.info=n,this.parent.setCurrentToolIdMask(n.onInteractionEnd);const r=this.editor.getSelectedShapes()[0];r&&(this.updateCursor(r),this.editor.setCroppingShape(r.id))});m(this,"onExit",()=>{this.editor.updateInstanceState({cursor:{type:"default",rotation:0}},{ephemeral:!0}),this.parent.setCurrentToolIdMask(void 0)});m(this,"onPointerMove",()=>{this.editor.inputs.isDragging&&this.parent.transition("cropping",{...this.info,onInteractionEnd:this.info.onInteractionEnd})});m(this,"onPointerUp",()=>{this.info.onInteractionEnd?this.editor.setCurrentTool(this.info.onInteractionEnd,this.info):(this.editor.setCroppingShape(null),this.parent.transition("idle"))});m(this,"onCancel",()=>{this.cancel()});m(this,"onComplete",()=>{this.cancel()});m(this,"onInterrupt",()=>{this.cancel()})}updateCursor(n){const r=mh[this.info.handle];this.editor.updateInstanceState({cursor:{type:r,rotation:n.rotation}})}cancel(){this.info.onInteractionEnd?this.editor.setCurrentTool(this.info.onInteractionEnd,this.info):(this.editor.setCroppingShape(null),this.parent.transition("idle"))}}m(fA,"id","pointing_crop_handle");class gA extends he{constructor(){super(...arguments);m(this,"info",{});m(this,"onEnter",n=>{this.info=n;const r=n.shape.props[n.handle.id];(r==null?void 0:r.type)==="binding"&&this.editor.setHintingShapes([r.boundShapeId]),this.editor.updateInstanceState({cursor:{type:"grabbing",rotation:0}},{ephemeral:!0})});m(this,"onExit",()=>{this.editor.setHintingShapes([]),this.editor.updateInstanceState({cursor:{type:"default",rotation:0}},{ephemeral:!0})});m(this,"onPointerUp",()=>{this.parent.transition("idle",this.info)});m(this,"onPointerMove",()=>{this.editor.inputs.isDragging&&this.parent.transition("dragging_handle",this.info)});m(this,"onCancel",()=>{this.cancel()});m(this,"onComplete",()=>{this.cancel()});m(this,"onInterrupt",()=>{this.cancel()})}cancel(){this.parent.transition("idle")}}m(gA,"id","pointing_handle");class mA extends he{constructor(){super(...arguments);m(this,"info",{});m(this,"onEnter",n=>{this.parent.setCurrentToolIdMask(n.onInteractionEnd),this.info=n,this.updateCursor()});m(this,"onExit",()=>{this.parent.setCurrentToolIdMask(void 0),this.editor.updateInstanceState({cursor:{type:"default",rotation:0}},{ephemeral:!0})});m(this,"onPointerMove",()=>{const{isDragging:n}=this.editor.inputs;n&&this.parent.transition("rotating",this.info)});m(this,"onPointerUp",()=>{this.complete()});m(this,"onCancel",()=>{this.cancel()});m(this,"onComplete",()=>{this.cancel()});m(this,"onInterrupt",()=>{this.cancel()})}updateCursor(){const n=this.editor.getSelectionRotation();this.editor.updateInstanceState({cursor:{type:mh[this.info.handle],rotation:n}})}complete(){this.info.onInteractionEnd?this.editor.setCurrentTool(this.info.onInteractionEnd,{}):this.parent.transition("idle")}cancel(){this.info.onInteractionEnd?this.editor.setCurrentTool(this.info.onInteractionEnd,{}):this.parent.transition("idle")}}m(mA,"id","pointing_rotate_handle");class yA extends he{constructor(){super(...arguments);m(this,"info",{});m(this,"onEnter",n=>{this.info=n});m(this,"onPointerUp",n=>{yy(this.editor),this.parent.transition("idle",n)});m(this,"onPointerMove",n=>{if(this.editor.inputs.isDragging){if(this.editor.getInstanceState().isReadonly)return;this.parent.transition("translating",n)}});m(this,"onDoubleClick",n=>{var o,a;const r=this.editor.getHoveredShape(),s=r&&!this.editor.isShapeOfType(r,"group")?r:this.editor.getShapeAtPoint(this.editor.inputs.currentPagePoint,{hitInside:!0,margin:0,renderingOnly:!0});if(s){this.parent.transition("idle"),(a=(o=this.parent).onDoubleClick)==null||a.call(o,{...n,target:"shape",shape:this.editor.getShape(s)});return}});m(this,"onCancel",()=>{this.cancel()});m(this,"onComplete",()=>{this.cancel()});m(this,"onInterrupt",()=>{this.cancel()})}cancel(){this.parent.transition("idle")}}m(yA,"id","pointing_selection");class xA extends he{constructor(){super(...arguments);m(this,"hitShape",{});m(this,"hitShapeForPointerUp",{});m(this,"didSelectOnEnter",!1);m(this,"onEnter",n=>{const r=this.editor.getSelectedShapeIds(),s=this.editor.getSelectionRotatedPageBounds(),o=this.editor.getFocusedGroupId(),{inputs:{currentPagePoint:a,shiftKey:i,altKey:l}}=this.editor;this.hitShape=n.shape;const c=this.editor.getOutermostSelectableShape(n.shape);if(this.editor.getShapeUtil(n.shape).onClick||c.id===o||r.includes(c.id)||this.editor.isAncestorSelected(c.id)||r.length>1&&(s!=null&&s.containsPoint(a))){this.didSelectOnEnter=!1,this.hitShapeForPointerUp=c;return}this.didSelectOnEnter=!0,i&&!l?(this.editor.cancelDoubleClick(),r.includes(c.id)||(this.editor.mark("shift selecting shape"),this.editor.setSelectedShapes([...r,c.id]))):(this.editor.mark("selecting shape"),this.editor.setSelectedShapes([c.id]))});m(this,"onPointerUp",n=>{var d;const r=this.editor.getSelectedShapeIds(),s=this.editor.getFocusedGroupId(),o=this.editor.getZoomLevel(),{inputs:{currentPagePoint:a,shiftKey:i}}=this.editor,l=this.editor.getShapeAtPoint(a,{margin:ko/o,hitInside:!0,renderingOnly:!0})??this.hitShape,c=l?this.editor.getOutermostSelectableShape(l):this.hitShapeForPointerUp;if(c){const h=this.editor.getShapeUtil(c);if(h.onClick){const u=(d=h.onClick)==null?void 0:d.call(h,c);if(u){this.editor.mark("shape on click"),this.editor.updateShapes([u]),this.parent.transition("idle",n);return}}if(c.id===s){r.length>0?(this.editor.mark("clearing shape ids"),this.editor.setSelectedShapes([])):this.editor.popFocusedGroupId(),this.parent.transition("idle",n);return}}if(!this.didSelectOnEnter){const h=this.editor.getOutermostSelectableShape(l,u=>!r.includes(u.id));if(r.includes(h.id))if(i)this.editor.mark("deselecting on pointer up"),this.editor.deselect(c);else if(r.includes(c.id)){if(r.length===1&&(this.editor.isShapeOfType(c,"geo")||this.editor.isShapeOfType(c,"arrow"))){const p=this.editor.getShapeGeometry(c).children[1];if(p){const y=this.editor.getPointInShapeSpace(c,a);if(p.bounds.containsPoint(y,0)&&p.hitTestPoint(y)){this.editor.batch(()=>{this.editor.mark("editing on pointer up"),this.editor.select(c.id);const g=this.editor.getShapeUtil(c);this.editor.getInstanceState().isReadonly&&!g.canEditInReadOnly(c)||(this.editor.setEditingShape(c.id),this.editor.setCurrentTool("select.editing_shape"))});return}}}this.editor.mark("selecting on pointer up"),this.editor.select(c.id)}else this.editor.mark("selecting on pointer up"),this.editor.select(c);else if(i){const u=this.editor.getShapeAncestors(h);this.editor.mark("shift deselecting on pointer up"),this.editor.setSelectedShapes([...this.editor.getSelectedShapeIds().filter(p=>!u.find(y=>y.id===p)),h.id])}else this.editor.mark("selecting on pointer up"),this.editor.setSelectedShapes([h.id])}this.parent.transition("idle",n)});m(this,"onPointerMove",n=>{if(this.editor.inputs.isDragging){if(this.editor.getInstanceState().isReadonly)return;this.parent.transition("translating",n)}});m(this,"onCancel",()=>{this.cancel()});m(this,"onComplete",()=>{this.cancel()});m(this,"onInterrupt",()=>{this.cancel()})}cancel(){this.parent.transition("idle")}}m(xA,"id","pointing_shape");class wA extends he{constructor(){super(...arguments);m(this,"info",{});m(this,"markId","");m(this,"didHoldCommand",!1);m(this,"creationCursorOffset",{x:0,y:0});m(this,"snapshot",{});m(this,"onEnter",n=>{const{isCreating:r=!1,creationCursorOffset:s={x:0,y:0}}=n;this.info=n,this.didHoldCommand=!1,this.parent.setCurrentToolIdMask(n.onInteractionEnd),this.creationCursorOffset=s,this.snapshot=this._createSnapshot(),r?(this.markId=`creating:${this.editor.getOnlySelectedShape().id}`,this.editor.updateInstanceState({cursor:{type:"cross",rotation:0}},{ephemeral:!0})):(this.markId="starting resizing",this.editor.mark(this.markId)),this.handleResizeStart(),this.updateShapes()});m(this,"onTick",()=>{u9(this.editor)});m(this,"onPointerMove",()=>{this.updateShapes()});m(this,"onKeyDown",()=>{this.updateShapes()});m(this,"onKeyUp",()=>{this.updateShapes()});m(this,"onPointerUp",()=>{this.complete()});m(this,"onComplete",()=>{this.complete()});m(this,"onCancel",()=>{this.cancel()});m(this,"onExit",()=>{this.parent.setCurrentToolIdMask(void 0),this.editor.updateInstanceState({cursor:{type:"default",rotation:0}},{ephemeral:!0}),this.editor.snaps.clear()});m(this,"_createSnapshot",()=>{const n=this.editor.getSelectedShapeIds(),r=this.editor.getSelectionRotation(),{inputs:{originPagePoint:s}}=this.editor,o=this.editor.getSelectionRotatedPageBounds(),a=P.RotWith(o.getHandlePoint(this.info.handle),o.point,r),i=P.Sub(s,a),l=new Map,c=[];n.forEach(h=>{const u=this.editor.getShape(h);if(u){if(u.type==="frame"&&c.push({id:h,children:ze(this.editor.getSortedChildIdsForParent(u).map(p=>this.editor.getShape(p)))}),l.set(u.id,this._createShapeSnapshot(u)),this.editor.isShapeOfType(u,"frame")&&n.length===1)return;this.editor.visitDescendants(u.id,p=>{const y=this.editor.getShape(p);if(y&&(l.set(y.id,this._createShapeSnapshot(y)),this.editor.isShapeOfType(y,"frame")))return!1})}});const d=![...l.values()].some(h=>!xI(h.pageRotation,r)||h.isAspectRatioLocked);return{shapeSnapshots:l,selectionBounds:o,cursorHandleOffset:i,selectionRotation:r,selectedShapeIds:n,canShapesDeform:d,initialSelectionPageBounds:this.editor.getSelectionPageBounds(),frames:c}});m(this,"_createShapeSnapshot",n=>{const r=this.editor.getShapePageTransform(n),s=this.editor.getShapeUtil(n);return{shape:n,bounds:this.editor.getShapeGeometry(n).bounds,pageTransform:r,pageRotation:ge.Decompose(r).rotation,isAspectRatioLocked:s.isAspectRatioLocked(n)}})}cancel(){this.editor.bailToMark(this.markId),this.info.onInteractionEnd?this.editor.setCurrentTool(this.info.onInteractionEnd,{}):this.parent.transition("idle")}complete(){var n,r;if(this.handleResizeEnd(),this.info.isCreating&&this.info.onCreate){(r=(n=this.info).onCreate)==null||r.call(n,this.editor.getOnlySelectedShape());return}if(this.editor.getInstanceState().isToolLocked&&this.info.onInteractionEnd){this.editor.setCurrentTool(this.info.onInteractionEnd,{});return}this.parent.transition("idle")}handleResizeStart(){const{shapeSnapshots:n}=this.snapshot,r=[];n.forEach(({shape:s})=>{var i;const o=this.editor.getShapeUtil(s),a=(i=o.onResizeStart)==null?void 0:i.call(o,s);a&&r.push(a)}),r.length>0&&this.editor.updateShapes(r)}handleResizeEnd(){const{shapeSnapshots:n}=this.snapshot,r=[];n.forEach(({shape:s})=>{var l;const o=this.editor.getShape(s.id),a=this.editor.getShapeUtil(s),i=(l=a.onResizeEnd)==null?void 0:l.call(a,s,o);i&&r.push(i)}),r.length>0&&this.editor.updateShapes(r)}updateShapes(){const{altKey:n,shiftKey:r}=this.editor.inputs,{frames:s,shapeSnapshots:o,selectionBounds:a,cursorHandleOffset:i,selectedShapeIds:l,selectionRotation:c,canShapesDeform:d}=this.snapshot,h=r||!d,{ctrlKey:u}=this.editor.inputs,p=this.editor.inputs.currentPagePoint.clone().sub(i).sub(this.creationCursorOffset),y=this.editor.inputs.originPagePoint.clone().sub(i);if(this.editor.getInstanceState().isGridMode&&!u){const{gridSize:I}=this.editor.getDocumentSettings();p.snapToGrid(I)}const g=this.info.handle,x=c8(g,Math.PI);if(this.editor.snaps.clear(),(this.editor.user.getIsSnapMode()?!u:u)&&c%ct===0){const{nudge:I}=this.editor.snaps.snapResize({dragDelta:P.Sub(p,y),initialSelectionPageBounds:this.snapshot.initialSelectionPageBounds,handle:c8(g,c),isAspectRatioLocked:h,isResizingFromCenter:n});p.add(I)}const S=P.RotWith(n?a.center:a.getHandlePoint(x),a.point,c),v=P.Sub(p,S).rot(-c),k=P.Sub(y,S).rot(-c),C=P.DivV(v,k);Number.isFinite(C.x)||(C.x=1),Number.isFinite(C.y)||(C.y=1);const _=g==="top"||g==="bottom",E=g==="left"||g==="right";h?E?C.y=Math.abs(C.x):_?C.x=Math.abs(C.y):Math.abs(C.x)>Math.abs(C.y)?C.y=Math.abs(C.x)*(C.y<0?-1:1):C.x=Math.abs(C.y)*(C.x<0?-1:1):(_&&(C.x=1),E&&(C.y=1)),this.info.isCreating||this.updateCursor({dragHandle:g,isFlippedX:C.x<0,isFlippedY:C.y<0,rotation:c});for(const I of o.keys()){const z=o.get(I);this.editor.resizeShape(I,C,{initialShape:z.shape,initialBounds:z.bounds,initialPageTransform:z.pageTransform,dragHandle:g,mode:l.length===1&&I===l[0]?"resize_bounds":"scale_shape",scaleOrigin:S,scaleAxisRotation:c})}if(this.editor.inputs.ctrlKey){this.didHoldCommand=!0;for(const{id:I,children:z}of s){if(!z.length)continue;const A=o.get(I).shape,T=this.editor.getShape(I);if(!(A&&T))continue;const j=T.x-A.x,R=T.y-A.y,M=new P(j,R).rot(-A.rotation);if(M.x!==0||M.y!==0)for(const D of z)this.editor.updateShape({id:D.id,type:D.type,x:D.x-M.x,y:D.y-M.y})}}else if(this.didHoldCommand){this.didHoldCommand=!1;for(const{children:I}of s)if(I.length)for(const z of I)this.editor.updateShape({id:z.id,type:z.type,x:z.x,y:z.y})}}updateCursor({dragHandle:n,isFlippedX:r,isFlippedY:s,rotation:o}){const a={...this.editor.getInstanceState().cursor};switch(n){case"top_left":case"bottom_right":{a.type="nwse-resize",r!==s&&(a.type="nesw-resize");break}case"top_right":case"bottom_left":{a.type="nesw-resize",r!==s&&(a.type="nwse-resize");break}}a.rotation=o,this.editor.setCursor(a)}}m(wA,"id","resizing");const Tx=["top","top_right","right","bottom_right","bottom","bottom_left","left","top_left"];function c8(e,t){t=t%dt;const n=Math.round(t/(lt/4)),r=Tx.indexOf(e);return Tx[(r+n)%Tx.length]}class SA extends he{constructor(){super(...arguments);m(this,"snapshot",{});m(this,"info",{});m(this,"markId","");m(this,"onEnter",n=>{this.info=n,this.parent.setCurrentToolIdMask(n.onInteractionEnd),this.markId="rotate start",this.editor.mark(this.markId);const r=dP({editor:this.editor});if(!r)return this.parent.transition("idle",this.info);this.snapshot=r,this.handleStart()});m(this,"onExit",()=>{this.editor.setCursor({type:"default",rotation:0}),this.parent.setCurrentToolIdMask(void 0),this.snapshot={}});m(this,"onPointerMove",()=>{this.update()});m(this,"onKeyDown",()=>{this.update()});m(this,"onKeyUp",()=>{this.update()});m(this,"onPointerUp",()=>{this.complete()});m(this,"onComplete",()=>{this.complete()});m(this,"onCancel",()=>{this.cancel()});m(this,"update",()=>{const n=this._getRotationFromPointerPosition({snapToNearestDegree:!1});$0({editor:this.editor,delta:n,snapshot:this.snapshot,stage:"update"}),this.editor.updateInstanceState({cursor:{type:mh[this.info.handle],rotation:n+this.snapshot.initialSelectionRotation}})});m(this,"cancel",()=>{this.editor.bailToMark(this.markId),this.info.onInteractionEnd?this.editor.setCurrentTool(this.info.onInteractionEnd,this.info):this.parent.transition("idle",this.info)});m(this,"complete",()=>{$0({editor:this.editor,delta:this._getRotationFromPointerPosition({snapToNearestDegree:!0}),snapshot:this.snapshot,stage:"end"}),this.info.onInteractionEnd?this.editor.setCurrentTool(this.info.onInteractionEnd,this.info):this.parent.transition("idle",this.info)})}handleStart(){const n=this._getRotationFromPointerPosition({snapToNearestDegree:!1});$0({editor:this.editor,delta:this._getRotationFromPointerPosition({snapToNearestDegree:!1}),snapshot:this.snapshot,stage:"start"}),this.editor.updateInstanceState({cursor:{type:mh[this.info.handle],rotation:n+this.snapshot.initialSelectionRotation}})}_getRotationFromPointerPosition({snapToNearestDegree:n}){const r=this.editor.getSelectionRotation(),s=this.editor.getSelectionRotatedPageBounds(),{inputs:{shiftKey:o,currentPagePoint:a}}=this.editor,{initialCursorAngle:i,initialSelectionRotation:l}=this.snapshot;if(!s)return l;const d=s.center.clone().rotWith(s.point,r).angle(a)-i;let h=l+d;if(o)h=Jm(h,24);else if(n&&(h=Math.round(h/H7)*H7,this.editor.getInstanceState().isCoarsePointer)){const u=Jm(h,4),p=nF(h,u);Math.abs(p)<rF(5)&&(h=u)}return h-l}}m(SA,"id","rotating");class bA extends he{constructor(){super(...arguments);m(this,"hits",new Set);m(this,"size",0);m(this,"scribbleId","id");m(this,"initialSelectedShapeIds",new Set);m(this,"newlySelectedShapeIds",new Set);m(this,"onEnter",()=>{this.initialSelectedShapeIds=new Set(this.editor.inputs.shiftKey?this.editor.getSelectedShapeIds():[]),this.newlySelectedShapeIds=new Set,this.size=0,this.hits.clear();const n=this.editor.scribbles.addScribble({color:"selection-stroke",opacity:.32,size:12});this.scribbleId=n.id,this.updateScribbleSelection(!0),requestAnimationFrame(()=>{this.editor.updateInstanceState({brush:null})})});m(this,"onExit",()=>{this.editor.scribbles.stop(this.scribbleId)});m(this,"onPointerMove",()=>{this.updateScribbleSelection(!0)});m(this,"onPointerUp",()=>{this.complete()});m(this,"onKeyDown",()=>{this.updateScribbleSelection(!1)});m(this,"onKeyUp",()=>{this.editor.inputs.altKey?this.updateScribbleSelection(!1):this.parent.transition("brushing")});m(this,"onCancel",()=>{this.cancel()});m(this,"onComplete",()=>{this.complete()});m(this,"pushPointToScribble",()=>{const{x:n,y:r}=this.editor.inputs.currentPagePoint;this.editor.scribbles.addPoint(this.scribbleId,n,r)})}updateScribbleSelection(n){const r=this.editor.getZoomLevel(),s=this.editor.getCurrentPageShapes(),{inputs:{shiftKey:o,originPagePoint:a,previousPagePoint:i,currentPagePoint:l}}=this.editor,{newlySelectedShapeIds:c,initialSelectedShapeIds:d}=this;n&&this.pushPointToScribble();const h=s;let u,p,y,g;for(let x=0,w=h.length;x<w;x++)if(u=h[x],p=this.editor.getShapeGeometry(u),!(this.editor.isShapeOfType(u,"group")||c.has(u.id)||this.editor.isShapeOrAncestorLocked(u))){if(this.editor.isShapeOfType(u,"frame")){const S=this.editor.getPointInShapeSpace(u,a);if(p.bounds.containsPoint(S))continue}if(y=this.editor.getPointInShapeSpace(u,i),g=this.editor.getPointInShapeSpace(u,l),p.hitTestLineSegment(y,g,ko/r)){const S=this.editor.getOutermostSelectableShape(u),v=this.editor.getShapeMask(S.id);if(v&&nP(i,l,v)!==null&&!aa(l,v))continue;c.add(S.id)}}this.editor.setSelectedShapes([...new Set(o?[...c,...d]:[...c])],{squashing:!0})}complete(){this.parent.transition("idle")}cancel(){this.editor.setSelectedShapes([...this.initialSelectedShapeIds],{squashing:!0}),this.parent.transition("idle")}}m(bA,"id","scribble_brushing");const d8=100;class gre{constructor(t){m(this,"prevDroppingShapeId",null);m(this,"droppingNodeTimer",null);m(this,"first",!0);m(this,"dispose",()=>{this.clear()});this.editor=t,t.disposables.add(this.dispose)}updateDroppingNode(t,n){var r;this.first&&(this.prevDroppingShapeId=((r=this.editor.getDroppingOverShape(this.editor.inputs.originPagePoint,t))==null?void 0:r.id)??null,this.first=!1),this.droppingNodeTimer===null?this.setDragTimer(t,d8*10,n):this.editor.inputs.pointerVelocity.len()>.5&&(clearInterval(this.droppingNodeTimer),this.setDragTimer(t,d8,n))}setDragTimer(t,n,r){this.droppingNodeTimer=setTimeout(()=>{this.editor.batch(()=>{this.handleDrag(this.editor.inputs.currentPagePoint,t,r)}),this.droppingNodeTimer=null},n)}handleDrag(t,n,r){var l,c,d,h,u;n=ze(n.map(p=>this.editor.getShape(p.id)));const s=((l=this.editor.getDroppingOverShape(t,n))==null?void 0:l.id)??null;if(s===this.prevDroppingShapeId)return;const{prevDroppingShapeId:o}=this,a=o&&this.editor.getShape(o),i=s&&this.editor.getShape(s);if(a&&((d=(c=this.editor.getShapeUtil(a)).onDragShapesOut)==null||d.call(c,a,n)),i){const p=(u=(h=this.editor.getShapeUtil(i)).onDragShapesOver)==null?void 0:u.call(h,i,n);p&&p.shouldHint&&this.editor.setHintingShapes([i.id])}else this.editor.setHintingShapes([]);r==null||r(),this.prevDroppingShapeId=s}dropShapes(t){var r,s;const{prevDroppingShapeId:n}=this;if(this.handleDrag(this.editor.inputs.currentPagePoint,t),n){const o=this.editor.getShape(n);if(!o)return;(s=(r=this.editor.getShapeUtil(o)).onDropShapesOver)==null||s.call(r,o,t)}}clear(){this.prevDroppingShapeId=null,this.droppingNodeTimer!==null&&clearInterval(this.droppingNodeTimer),this.droppingNodeTimer=null,this.editor.setHintingShapes([]),this.first=!0}}class vA extends he{constructor(){super(...arguments);m(this,"info",{});m(this,"selectionSnapshot",{});m(this,"snapshot",{});m(this,"markId","");m(this,"isCloning",!1);m(this,"isCreating",!1);m(this,"onCreate",()=>{});m(this,"dragAndDropManager",new gre(this.editor));m(this,"onEnter",n=>{const{isCreating:r=!1,onCreate:s=()=>{}}=n;if(this.info=n,this.parent.setCurrentToolIdMask(n.onInteractionEnd),this.isCreating=r,this.onCreate=s,r?this.markId=`creating:${this.editor.getOnlySelectedShape().id}`:(this.markId="translating",this.editor.mark(this.markId)),this.isCloning=!1,this.info=n,this.editor.setCursor({type:"move",rotation:0}),this.selectionSnapshot=h8(this.editor),!this.isCreating&&this.editor.inputs.altKey){this.startCloning();return}this.snapshot=this.selectionSnapshot,this.handleStart(),this.updateShapes()});m(this,"onExit",()=>{this.parent.setCurrentToolIdMask(void 0),this.selectionSnapshot={},this.snapshot={},this.editor.snaps.clear(),this.editor.updateInstanceState({cursor:{type:"default",rotation:0}},{ephemeral:!0}),this.dragAndDropManager.clear()});m(this,"onTick",()=>{this.dragAndDropManager.updateDroppingNode(this.snapshot.movingShapes,this.updateParentTransforms),u9(this.editor)});m(this,"onPointerMove",()=>{this.updateShapes()});m(this,"onKeyDown",()=>{if(this.editor.inputs.altKey&&!this.isCloning){this.startCloning();return}this.updateShapes()});m(this,"onKeyUp",()=>{if(!this.editor.inputs.altKey&&this.isCloning){this.stopCloning();return}this.updateShapes()});m(this,"onPointerUp",()=>{this.complete()});m(this,"onComplete",()=>{this.complete()});m(this,"onCancel",()=>{this.cancel()});m(this,"updateParentTransforms",()=>{const{editor:n,snapshot:{shapeSnapshots:r}}=this;r.forEach(s=>{const o=n.getShape(s.shape.id);if(!o)return null;const a=Rr(o.parentId)?null:ge.Inverse(n.getShapePageTransform(o.parentId));s.parentTransform=a})})}startCloning(){this.isCreating||(this.isCloning=!0,this.reset(),this.markId="translating",this.editor.mark(this.markId),this.editor.duplicateShapes(Array.from(this.editor.getSelectedShapeIds())),this.snapshot=h8(this.editor),this.handleStart(),this.updateShapes())}stopCloning(){this.isCloning=!1,this.snapshot=this.selectionSnapshot,this.reset(),this.markId="translating",this.editor.mark(this.markId),this.updateShapes()}reset(){this.editor.bailToMark(this.markId)}complete(){var n;this.updateShapes(),this.dragAndDropManager.dropShapes(this.snapshot.movingShapes),this.handleEnd(),this.editor.getInstanceState().isToolLocked&&this.info.onInteractionEnd?this.editor.setCurrentTool(this.info.onInteractionEnd):this.isCreating?(n=this.onCreate)==null||n.call(this,this.editor.getOnlySelectedShape()):this.parent.transition("idle")}cancel(){this.reset(),this.info.onInteractionEnd?this.editor.setCurrentTool(this.info.onInteractionEnd):this.parent.transition("idle",this.info)}handleStart(){const{movingShapes:n}=this.snapshot,r=[];n.forEach(s=>{var i;const o=this.editor.getShapeUtil(s),a=(i=o.onTranslateStart)==null?void 0:i.call(o,s);a&&r.push(a)}),r.length>0&&this.editor.updateShapes(r),this.editor.setHoveredShape(null)}handleEnd(){const{movingShapes:n}=this.snapshot,r=[];n.forEach(s=>{var l;const o=this.editor.getShape(s.id),a=this.editor.getShapeUtil(s),i=(l=a.onTranslateEnd)==null?void 0:l.call(a,s,o);i&&r.push(i)}),r.length>0&&this.editor.updateShapes(r)}handleChange(){const{movingShapes:n}=this.snapshot,r=[];n.forEach(s=>{var l;const o=this.editor.getShape(s.id),a=this.editor.getShapeUtil(s),i=(l=a.onTranslate)==null?void 0:l.call(a,s,o);i&&r.push(i)}),r.length>0&&this.editor.updateShapes(r)}updateShapes(){const{snapshot:n}=this;this.dragAndDropManager.updateDroppingNode(n.movingShapes,this.updateParentTransforms),mre({editor:this.editor,shapeSnapshots:n.shapeSnapshots,averagePagePoint:n.averagePagePoint,initialSelectionPageBounds:n.initialPageBounds,initialSelectionSnapPoints:n.initialSnapPoints}),this.handleChange()}}m(vA,"id","translating");function h8(e){const t=[],n=[],r=ze(e.getSelectedShapeIds().map(o=>{const a=e.getShape(o);if(!a)return null;t.push(a);const i=e.getShapePageTransform(o).point();if(!i)return null;n.push(i);const l=Ba.isId(a.parentId)?null:ge.Inverse(e.getShapePageTransform(a.parentId));return{shape:a,pagePoint:i,parentTransform:l}}));let s=[];if(e.getSelectedShapeIds().length===1)s=e.snaps.getSnapPointsCache().get(e.getSelectedShapeIds()[0]);else{const o=e.getSelectionPageBounds();o&&(s=o.snapPoints.map((a,i)=>({id:"selection:"+i,x:a.x,y:a.y})))}return{averagePagePoint:P.Average(n),movingShapes:t,shapeSnapshots:r,initialPageBounds:e.getSelectionPageBounds(),initialSnapPoints:s}}function mre({editor:e,shapeSnapshots:t,averagePagePoint:n,initialSelectionPageBounds:r,initialSelectionSnapPoints:s}){const{inputs:o}=e,a=e.getInstanceState().isGridMode,i=e.getDocumentSettings().gridSize,l=P.Sub(o.currentPagePoint,o.originPagePoint),c=e.inputs.shiftKey?Math.abs(l.x)<Math.abs(l.y)?"x":"y":null;if(c==="x"?l.x=0:c==="y"&&(l.y=0),e.snaps.clear(),(e.user.getIsSnapMode()?!o.ctrlKey:o.ctrlKey)&&e.inputs.pointerVelocity.len()<.5){const{nudge:p}=e.snaps.snapTranslate({dragDelta:l,initialSelectionPageBounds:r,lockedAxis:c,initialSelectionSnapPoints:s});l.add(p)}const h=P.Add(n,l);a&&!o.ctrlKey&&h.snapToGrid(i);const u=P.Sub(h,n);e.updateShapes(ze(t.map(({shape:p,pagePoint:y,parentTransform:g})=>{const x=P.Add(y,u),w=g?ge.applyToPoint(g,x):x;return{id:p.id,type:p.type,x:w.x,y:w.y}})),{squashing:!0})}class hm extends he{constructor(){super(...arguments);m(this,"onExit",()=>{this.editor.getCurrentPageState().editingShapeId&&this.editor.setEditingShape(null)})}}m(hm,"id","select"),m(hm,"initial","idle"),m(hm,"children",()=>[dm,dA,hre,pA,xA,vA,oA,bA,fA,yA,cA,uA,wA,SA,mA,gA,hA]);class kA extends he{constructor(){super(...arguments);m(this,"info",{});m(this,"onEnter",n=>{this.info=n});m(this,"onPointerDown",()=>{this.parent.transition("pointing",this.info)})}}m(kA,"id","idle");class CA extends he{constructor(){super(...arguments);m(this,"info",{});m(this,"onEnter",n=>{this.info=n});m(this,"onPointerUp",()=>{this.complete()});m(this,"onPointerMove",()=>{this.editor.inputs.isDragging&&this.parent.transition("zoom_brushing",this.info)});m(this,"onCancel",()=>{this.cancel()})}complete(){const{currentScreenPoint:n}=this.editor.inputs;this.editor.inputs.altKey?this.editor.zoomOut(n,{duration:220}):this.editor.zoomIn(n,{duration:220}),this.parent.transition("idle",this.info)}cancel(){this.parent.transition("idle",this.info)}}m(CA,"id","pointing");class _A extends he{constructor(){super(...arguments);m(this,"info",{});m(this,"zoomBrush",new xe);m(this,"onEnter",n=>{this.info=n,this.update()});m(this,"onExit",()=>{this.editor.updateInstanceState({zoomBrush:null})});m(this,"onPointerMove",()=>{this.update()});m(this,"onPointerUp",()=>{this.complete()});m(this,"onCancel",()=>{this.cancel()})}update(){const{inputs:{originPagePoint:n,currentPagePoint:r}}=this.editor;this.zoomBrush.setTo(xe.FromPoints([n,r])),this.editor.updateInstanceState({zoomBrush:this.zoomBrush.toJson()})}cancel(){this.parent.transition("idle",this.info)}complete(){const{zoomBrush:n}=this,r=8/this.editor.getZoomLevel();if(n.width<r&&n.height<r){const s=this.editor.inputs.currentScreenPoint;this.editor.inputs.altKey?this.editor.zoomOut(s,{duration:220}):this.editor.zoomIn(s,{duration:220})}else{const s=this.editor.inputs.altKey?this.editor.getZoomLevel()/2:void 0;this.editor.zoomToBounds(n,s,{duration:220})}this.parent.transition("idle",this.info)}}m(_A,"id","zoom_brushing");class um extends he{constructor(){super(...arguments);m(this,"info",{});m(this,"onEnter",n=>{this.info=n,this.parent.setCurrentToolIdMask(n.onInteractionEnd),this.updateCursor()});m(this,"onExit",()=>{this.parent.setCurrentToolIdMask(void 0),this.editor.updateInstanceState({zoomBrush:null,cursor:{type:"default",rotation:0}},{ephemeral:!0}),this.parent.setCurrentToolIdMask(void 0)});m(this,"onKeyDown",()=>{this.updateCursor()});m(this,"onKeyUp",n=>{this.updateCursor(),n.code==="KeyZ"&&this.complete()});m(this,"onInterrupt",()=>{this.complete()})}complete(){this.info.onInteractionEnd&&this.info.onInteractionEnd!=="select"?this.editor.setCurrentTool(this.info.onInteractionEnd,this.info):this.parent.transition("select")}updateCursor(){this.editor.inputs.altKey?this.editor.updateInstanceState({cursor:{type:"zoom-out",rotation:0}},{ephemeral:!0}):this.editor.updateInstanceState({cursor:{type:"zoom-in",rotation:0}},{ephemeral:!0})}}m(um,"id","zoom"),m(um,"initial","idle"),m(um,"children",()=>[kA,_A,CA]);const EA=[im,lm,cm,um,hm];function se(){return se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},se.apply(null,arguments)}var IA={exports:{}},Cs={},PA={exports:{}},zA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(q,K){var W=q.length;q.push(K);e:for(;0<W;){var G=W-1>>>1,ne=q[G];if(0<s(ne,K))q[G]=K,q[W]=ne,W=G;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var K=q[0],W=q.pop();if(W!==K){q[0]=W;e:for(var G=0,ne=q.length,ce=ne>>>1;G<ce;){var Le=2*(G+1)-1,re=q[Le],Pe=Le+1,Me=q[Pe];if(0>s(re,W))Pe<ne&&0>s(Me,re)?(q[G]=Me,q[Pe]=W,G=Pe):(q[G]=re,q[Le]=W,G=Le);else if(Pe<ne&&0>s(Me,W))q[G]=Me,q[Pe]=W,G=Pe;else break e}}return K}function s(q,K){var W=q.sortIndex-K.sortIndex;return W!==0?W:q.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,i=a.now();e.unstable_now=function(){return a.now()-i}}var l=[],c=[],d=1,h=null,u=3,p=!1,y=!1,g=!1,x=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(q){for(var K=n(c);K!==null;){if(K.callback===null)r(c);else if(K.startTime<=q)r(c),K.sortIndex=K.expirationTime,t(l,K);else break;K=n(c)}}function k(q){if(g=!1,v(q),!y)if(n(l)!==null)y=!0,U(C);else{var K=n(c);K!==null&&Y(k,K.startTime-q)}}function C(q,K){y=!1,g&&(g=!1,w(I),I=-1),p=!0;var W=u;try{for(v(K),h=n(l);h!==null&&(!(h.expirationTime>K)||q&&!T());){var G=h.callback;if(typeof G=="function"){h.callback=null,u=h.priorityLevel;var ne=G(h.expirationTime<=K);K=e.unstable_now(),typeof ne=="function"?h.callback=ne:h===n(l)&&r(l),v(K)}else r(l);h=n(l)}if(h!==null)var ce=!0;else{var Le=n(c);Le!==null&&Y(k,Le.startTime-K),ce=!1}return ce}finally{h=null,u=W,p=!1}}var _=!1,E=null,I=-1,z=5,A=-1;function T(){return!(e.unstable_now()-A<z)}function j(){if(E!==null){var q=e.unstable_now();A=q;var K=!0;try{K=E(!0,q)}finally{K?R():(_=!1,E=null)}}else _=!1}var R;if(typeof S=="function")R=function(){S(j)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,D=M.port2;M.port1.onmessage=j,R=function(){D.postMessage(null)}}else R=function(){x(j,0)};function U(q){E=q,_||(_=!0,R())}function Y(q,K){I=x(function(){q(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_continueExecution=function(){y||p||(y=!0,U(C))},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return u},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(q){switch(u){case 1:case 2:case 3:var K=3;break;default:K=u}var W=u;u=K;try{return q()}finally{u=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(q,K){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var W=u;u=q;try{return K()}finally{u=W}},e.unstable_scheduleCallback=function(q,K,W){var G=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?G+W:G):W=G,q){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=W+ne,q={id:d++,callback:K,priorityLevel:q,startTime:W,expirationTime:ne,sortIndex:-1},W>G?(q.sortIndex=W,t(c,q),n(l)===null&&q===n(c)&&(g?(w(I),I=-1):g=!0,Y(k,W-G))):(q.sortIndex=ne,t(l,q),y||p||(y=!0,U(C))),q},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(q){var K=u;return function(){var W=u;u=K;try{return q.apply(this,arguments)}finally{u=W}}}})(zA);PA.exports=zA;var yre=PA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xre=b,bs=yre;function ee(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var AA=new Set,qp={};function Lc(e,t){yh(e,t),yh(e+"Capture",t)}function yh(e,t){for(qp[e]=t,e=0;e<t.length;e++)AA.add(t[e])}var Ka=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qw=Object.prototype.hasOwnProperty,wre=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u8={},p8={};function Sre(e){return Qw.call(p8,e)?!0:Qw.call(u8,e)?!1:wre.test(e)?p8[e]=!0:(u8[e]=!0,!1)}function bre(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function vre(e,t,n,r){if(t===null||typeof t>"u"||bre(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Mr(e,t,n,r,s,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var Zn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Zn[e]=new Mr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Zn[t]=new Mr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Zn[e]=new Mr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Zn[e]=new Mr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Zn[e]=new Mr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Zn[e]=new Mr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Zn[e]=new Mr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Zn[e]=new Mr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Zn[e]=new Mr(e,5,!1,e.toLowerCase(),null,!1,!1)});var F9=/[\-:]([a-z])/g;function K9(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(F9,K9);Zn[t]=new Mr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(F9,K9);Zn[t]=new Mr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(F9,K9);Zn[t]=new Mr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Zn[e]=new Mr(e,1,!1,e.toLowerCase(),null,!1,!1)});Zn.xlinkHref=new Mr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Zn[e]=new Mr(e,1,!1,e.toLowerCase(),null,!0,!0)});function W9(e,t,n,r){var s=Zn.hasOwnProperty(t)?Zn[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(vre(t,n,s,r)&&(n=null),r||s===null?Sre(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ti=xre.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fg=Symbol.for("react.element"),Td=Symbol.for("react.portal"),Ld=Symbol.for("react.fragment"),U9=Symbol.for("react.strict_mode"),Jw=Symbol.for("react.profiler"),NA=Symbol.for("react.provider"),TA=Symbol.for("react.context"),V9=Symbol.for("react.forward_ref"),e3=Symbol.for("react.suspense"),t3=Symbol.for("react.suspense_list"),X9=Symbol.for("react.memo"),ki=Symbol.for("react.lazy"),LA=Symbol.for("react.offscreen"),f8=Symbol.iterator;function gu(e){return e===null||typeof e!="object"?null:(e=f8&&e[f8]||e["@@iterator"],typeof e=="function"?e:null)}var an=Object.assign,Lx;function Hu(e){if(Lx===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Lx=t&&t[1]||""}return`
`+Lx+e}var Mx=!1;function jx(e,t){if(!e||Mx)return"";Mx=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),o=r.stack.split(`
`),a=s.length-1,i=o.length-1;1<=a&&0<=i&&s[a]!==o[i];)i--;for(;1<=a&&0<=i;a--,i--)if(s[a]!==o[i]){if(a!==1||i!==1)do if(a--,i--,0>i||s[a]!==o[i]){var l=`
`+s[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=i);break}}}finally{Mx=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Hu(e):""}function kre(e){switch(e.tag){case 5:return Hu(e.type);case 16:return Hu("Lazy");case 13:return Hu("Suspense");case 19:return Hu("SuspenseList");case 0:case 2:case 15:return e=jx(e.type,!1),e;case 11:return e=jx(e.type.render,!1),e;case 1:return e=jx(e.type,!0),e;default:return""}}function n3(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ld:return"Fragment";case Td:return"Portal";case Jw:return"Profiler";case U9:return"StrictMode";case e3:return"Suspense";case t3:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case TA:return(e.displayName||"Context")+".Consumer";case NA:return(e._context.displayName||"Context")+".Provider";case V9:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case X9:return t=e.displayName||null,t!==null?t:n3(e.type)||"Memo";case ki:t=e._payload,e=e._init;try{return n3(e(t))}catch{}}return null}function Cre(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return n3(t);case 8:return t===U9?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Hi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function MA(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function _re(e){var t=MA(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Kg(e){e._valueTracker||(e._valueTracker=_re(e))}function jA(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=MA(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function xy(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function r3(e,t){var n=t.checked;return an({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function g8(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Hi(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function RA(e,t){t=t.checked,t!=null&&W9(e,"checked",t,!1)}function s3(e,t){RA(e,t);var n=Hi(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?o3(e,t.type,n):t.hasOwnProperty("defaultValue")&&o3(e,t.type,Hi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function m8(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function o3(e,t,n){(t!=="number"||xy(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Gu=Array.isArray;function Jd(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Hi(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function a3(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ee(91));return an({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function y8(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ee(92));if(Gu(n)){if(1<n.length)throw Error(ee(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Hi(n)}}function $A(e,t){var n=Hi(t.value),r=Hi(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function x8(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function OA(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function i3(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?OA(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Wg,DA=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Wg=Wg||document.createElement("div"),Wg.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Wg.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Bp(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var dp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ere=["Webkit","ms","Moz","O"];Object.keys(dp).forEach(function(e){Ere.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),dp[t]=dp[e]})});function qA(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||dp.hasOwnProperty(e)&&dp[e]?(""+t).trim():t+"px"}function BA(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=qA(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Ire=an({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function l3(e,t){if(t){if(Ire[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ee(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ee(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ee(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ee(62))}}function c3(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var d3=null;function Y9(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var h3=null,eh=null,th=null;function w8(e){if(e=Vf(e)){if(typeof h3!="function")throw Error(ee(280));var t=e.stateNode;t&&(t=q1(t),h3(e.stateNode,e.type,t))}}function FA(e){eh?th?th.push(e):th=[e]:eh=e}function KA(){if(eh){var e=eh,t=th;if(th=eh=null,w8(e),t)for(e=0;e<t.length;e++)w8(t[e])}}function WA(e,t){return e(t)}function UA(){}var Rx=!1;function VA(e,t,n){if(Rx)return e(t,n);Rx=!0;try{return WA(e,t,n)}finally{Rx=!1,(eh!==null||th!==null)&&(UA(),KA())}}function Fp(e,t){var n=e.stateNode;if(n===null)return null;var r=q1(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ee(231,t,typeof n));return n}var u3=!1;if(Ka)try{var mu={};Object.defineProperty(mu,"passive",{get:function(){u3=!0}}),window.addEventListener("test",mu,mu),window.removeEventListener("test",mu,mu)}catch{u3=!1}function Pre(e,t,n,r,s,o,a,i,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var hp=!1,wy=null,Sy=!1,p3=null,zre={onError:function(e){hp=!0,wy=e}};function Are(e,t,n,r,s,o,a,i,l){hp=!1,wy=null,Pre.apply(zre,arguments)}function Nre(e,t,n,r,s,o,a,i,l){if(Are.apply(this,arguments),hp){if(hp){var c=wy;hp=!1,wy=null}else throw Error(ee(198));Sy||(Sy=!0,p3=c)}}function Mc(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function XA(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function S8(e){if(Mc(e)!==e)throw Error(ee(188))}function Tre(e){var t=e.alternate;if(!t){if(t=Mc(e),t===null)throw Error(ee(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return S8(s),e;if(o===r)return S8(s),t;o=o.sibling}throw Error(ee(188))}if(n.return!==r.return)n=s,r=o;else{for(var a=!1,i=s.child;i;){if(i===n){a=!0,n=s,r=o;break}if(i===r){a=!0,r=s,n=o;break}i=i.sibling}if(!a){for(i=o.child;i;){if(i===n){a=!0,n=o,r=s;break}if(i===r){a=!0,r=o,n=s;break}i=i.sibling}if(!a)throw Error(ee(189))}}if(n.alternate!==r)throw Error(ee(190))}if(n.tag!==3)throw Error(ee(188));return n.stateNode.current===n?e:t}function YA(e){return e=Tre(e),e!==null?HA(e):null}function HA(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=HA(e);if(t!==null)return t;e=e.sibling}return null}var GA=bs.unstable_scheduleCallback,b8=bs.unstable_cancelCallback,Lre=bs.unstable_shouldYield,Mre=bs.unstable_requestPaint,gn=bs.unstable_now,jre=bs.unstable_getCurrentPriorityLevel,H9=bs.unstable_ImmediatePriority,ZA=bs.unstable_UserBlockingPriority,by=bs.unstable_NormalPriority,Rre=bs.unstable_LowPriority,QA=bs.unstable_IdlePriority,R1=null,Jo=null;function $re(e){if(Jo&&typeof Jo.onCommitFiberRoot=="function")try{Jo.onCommitFiberRoot(R1,e,void 0,(e.current.flags&128)===128)}catch{}}var wo=Math.clz32?Math.clz32:qre,Ore=Math.log,Dre=Math.LN2;function qre(e){return e>>>=0,e===0?32:31-(Ore(e)/Dre|0)|0}var Ug=64,Vg=4194304;function Zu(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function vy(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,a=n&268435455;if(a!==0){var i=a&~s;i!==0?r=Zu(i):(o&=a,o!==0&&(r=Zu(o)))}else a=n&~s,a!==0?r=Zu(a):o!==0&&(r=Zu(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-wo(t),s=1<<n,r|=e[n],t&=~s;return r}function Bre(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fre(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-wo(o),i=1<<a,l=s[a];l===-1?(!(i&n)||i&r)&&(s[a]=Bre(i,t)):l<=t&&(e.expiredLanes|=i),o&=~i}}function f3(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function JA(){var e=Ug;return Ug<<=1,!(Ug&4194240)&&(Ug=64),e}function $x(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Wf(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-wo(t),e[t]=n}function Kre(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-wo(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function G9(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-wo(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var mt=0;function eN(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var tN,Z9,nN,rN,sN,g3=!1,Xg=[],Di=null,qi=null,Bi=null,Kp=new Map,Wp=new Map,Ei=[],Wre="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function v8(e,t){switch(e){case"focusin":case"focusout":Di=null;break;case"dragenter":case"dragleave":qi=null;break;case"mouseover":case"mouseout":Bi=null;break;case"pointerover":case"pointerout":Kp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wp.delete(t.pointerId)}}function yu(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=Vf(t),t!==null&&Z9(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Ure(e,t,n,r,s){switch(t){case"focusin":return Di=yu(Di,e,t,n,r,s),!0;case"dragenter":return qi=yu(qi,e,t,n,r,s),!0;case"mouseover":return Bi=yu(Bi,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return Kp.set(o,yu(Kp.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,Wp.set(o,yu(Wp.get(o)||null,e,t,n,r,s)),!0}return!1}function oN(e){var t=Xl(e.target);if(t!==null){var n=Mc(t);if(n!==null){if(t=n.tag,t===13){if(t=XA(n),t!==null){e.blockedOn=t,sN(e.priority,function(){nN(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function pm(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=m3(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);d3=r,n.target.dispatchEvent(r),d3=null}else return t=Vf(n),t!==null&&Z9(t),e.blockedOn=n,!1;t.shift()}return!0}function k8(e,t,n){pm(e)&&n.delete(t)}function Vre(){g3=!1,Di!==null&&pm(Di)&&(Di=null),qi!==null&&pm(qi)&&(qi=null),Bi!==null&&pm(Bi)&&(Bi=null),Kp.forEach(k8),Wp.forEach(k8)}function xu(e,t){e.blockedOn===t&&(e.blockedOn=null,g3||(g3=!0,bs.unstable_scheduleCallback(bs.unstable_NormalPriority,Vre)))}function Up(e){function t(s){return xu(s,e)}if(0<Xg.length){xu(Xg[0],e);for(var n=1;n<Xg.length;n++){var r=Xg[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Di!==null&&xu(Di,e),qi!==null&&xu(qi,e),Bi!==null&&xu(Bi,e),Kp.forEach(t),Wp.forEach(t),n=0;n<Ei.length;n++)r=Ei[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ei.length&&(n=Ei[0],n.blockedOn===null);)oN(n),n.blockedOn===null&&Ei.shift()}var nh=ti.ReactCurrentBatchConfig,ky=!0;function Xre(e,t,n,r){var s=mt,o=nh.transition;nh.transition=null;try{mt=1,Q9(e,t,n,r)}finally{mt=s,nh.transition=o}}function Yre(e,t,n,r){var s=mt,o=nh.transition;nh.transition=null;try{mt=4,Q9(e,t,n,r)}finally{mt=s,nh.transition=o}}function Q9(e,t,n,r){if(ky){var s=m3(e,t,n,r);if(s===null)Xx(e,t,r,Cy,n),v8(e,r);else if(Ure(s,e,t,n,r))r.stopPropagation();else if(v8(e,r),t&4&&-1<Wre.indexOf(e)){for(;s!==null;){var o=Vf(s);if(o!==null&&tN(o),o=m3(e,t,n,r),o===null&&Xx(e,t,r,Cy,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else Xx(e,t,r,null,n)}}var Cy=null;function m3(e,t,n,r){if(Cy=null,e=Y9(r),e=Xl(e),e!==null)if(t=Mc(e),t===null)e=null;else if(n=t.tag,n===13){if(e=XA(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Cy=e,null}function aN(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jre()){case H9:return 1;case ZA:return 4;case by:case Rre:return 16;case QA:return 536870912;default:return 16}default:return 16}}var Li=null,J9=null,fm=null;function iN(){if(fm)return fm;var e,t=J9,n=t.length,r,s="value"in Li?Li.value:Li.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===s[o-r];r++);return fm=s.slice(e,1<r?1-r:void 0)}function gm(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Yg(){return!0}function C8(){return!1}function _s(e){function t(n,r,s,o,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(n=e[i],this[i]=n?n(o):o[i]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Yg:C8,this.isPropagationStopped=C8,this}return an(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Yg)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Yg)},persist:function(){},isPersistent:Yg}),t}var qh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},eb=_s(qh),Uf=an({},qh,{view:0,detail:0}),Hre=_s(Uf),Ox,Dx,wu,$1=an({},Uf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tb,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==wu&&(wu&&e.type==="mousemove"?(Ox=e.screenX-wu.screenX,Dx=e.screenY-wu.screenY):Dx=Ox=0,wu=e),Ox)},movementY:function(e){return"movementY"in e?e.movementY:Dx}}),_8=_s($1),Gre=an({},$1,{dataTransfer:0}),Zre=_s(Gre),Qre=an({},Uf,{relatedTarget:0}),qx=_s(Qre),Jre=an({},qh,{animationName:0,elapsedTime:0,pseudoElement:0}),ese=_s(Jre),tse=an({},qh,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),nse=_s(tse),rse=an({},qh,{data:0}),E8=_s(rse),sse={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ose={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ase={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ise(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ase[e])?!!t[e]:!1}function tb(){return ise}var lse=an({},Uf,{key:function(e){if(e.key){var t=sse[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=gm(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ose[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tb,charCode:function(e){return e.type==="keypress"?gm(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gm(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),cse=_s(lse),dse=an({},$1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I8=_s(dse),hse=an({},Uf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tb}),use=_s(hse),pse=an({},qh,{propertyName:0,elapsedTime:0,pseudoElement:0}),fse=_s(pse),gse=an({},$1,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),mse=_s(gse),yse=[9,13,27,32],nb=Ka&&"CompositionEvent"in window,up=null;Ka&&"documentMode"in document&&(up=document.documentMode);var xse=Ka&&"TextEvent"in window&&!up,lN=Ka&&(!nb||up&&8<up&&11>=up),P8=String.fromCharCode(32),z8=!1;function cN(e,t){switch(e){case"keyup":return yse.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dN(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Md=!1;function wse(e,t){switch(e){case"compositionend":return dN(t);case"keypress":return t.which!==32?null:(z8=!0,P8);case"textInput":return e=t.data,e===P8&&z8?null:e;default:return null}}function Sse(e,t){if(Md)return e==="compositionend"||!nb&&cN(e,t)?(e=iN(),fm=J9=Li=null,Md=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return lN&&t.locale!=="ko"?null:t.data;default:return null}}var bse={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function A8(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!bse[e.type]:t==="textarea"}function hN(e,t,n,r){FA(r),t=_y(t,"onChange"),0<t.length&&(n=new eb("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var pp=null,Vp=null;function vse(e){vN(e,0)}function O1(e){var t=$d(e);if(jA(t))return e}function kse(e,t){if(e==="change")return t}var uN=!1;if(Ka){var Bx;if(Ka){var Fx="oninput"in document;if(!Fx){var N8=document.createElement("div");N8.setAttribute("oninput","return;"),Fx=typeof N8.oninput=="function"}Bx=Fx}else Bx=!1;uN=Bx&&(!document.documentMode||9<document.documentMode)}function T8(){pp&&(pp.detachEvent("onpropertychange",pN),Vp=pp=null)}function pN(e){if(e.propertyName==="value"&&O1(Vp)){var t=[];hN(t,Vp,e,Y9(e)),VA(vse,t)}}function Cse(e,t,n){e==="focusin"?(T8(),pp=t,Vp=n,pp.attachEvent("onpropertychange",pN)):e==="focusout"&&T8()}function _se(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return O1(Vp)}function Ese(e,t){if(e==="click")return O1(t)}function Ise(e,t){if(e==="input"||e==="change")return O1(t)}function Pse(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _o=typeof Object.is=="function"?Object.is:Pse;function Xp(e,t){if(_o(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Qw.call(t,s)||!_o(e[s],t[s]))return!1}return!0}function L8(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function M8(e,t){var n=L8(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=L8(n)}}function fN(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?fN(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function gN(){for(var e=window,t=xy();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=xy(e.document)}return t}function rb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function zse(e){var t=gN(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fN(n.ownerDocument.documentElement,n)){if(r!==null&&rb(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=M8(n,o);var a=M8(n,r);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Ase=Ka&&"documentMode"in document&&11>=document.documentMode,jd=null,y3=null,fp=null,x3=!1;function j8(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;x3||jd==null||jd!==xy(r)||(r=jd,"selectionStart"in r&&rb(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),fp&&Xp(fp,r)||(fp=r,r=_y(y3,"onSelect"),0<r.length&&(t=new eb("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=jd)))}function Hg(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Rd={animationend:Hg("Animation","AnimationEnd"),animationiteration:Hg("Animation","AnimationIteration"),animationstart:Hg("Animation","AnimationStart"),transitionend:Hg("Transition","TransitionEnd")},Kx={},mN={};Ka&&(mN=document.createElement("div").style,"AnimationEvent"in window||(delete Rd.animationend.animation,delete Rd.animationiteration.animation,delete Rd.animationstart.animation),"TransitionEvent"in window||delete Rd.transitionend.transition);function D1(e){if(Kx[e])return Kx[e];if(!Rd[e])return e;var t=Rd[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in mN)return Kx[e]=t[n];return e}var yN=D1("animationend"),xN=D1("animationiteration"),wN=D1("animationstart"),SN=D1("transitionend"),bN=new Map,R8="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cl(e,t){bN.set(e,t),Lc(t,[e])}for(var Wx=0;Wx<R8.length;Wx++){var Ux=R8[Wx],Nse=Ux.toLowerCase(),Tse=Ux[0].toUpperCase()+Ux.slice(1);cl(Nse,"on"+Tse)}cl(yN,"onAnimationEnd");cl(xN,"onAnimationIteration");cl(wN,"onAnimationStart");cl("dblclick","onDoubleClick");cl("focusin","onFocus");cl("focusout","onBlur");cl(SN,"onTransitionEnd");yh("onMouseEnter",["mouseout","mouseover"]);yh("onMouseLeave",["mouseout","mouseover"]);yh("onPointerEnter",["pointerout","pointerover"]);yh("onPointerLeave",["pointerout","pointerover"]);Lc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Lc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Lc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Lc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Lc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Lc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lse=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qu));function $8(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Nre(r,t,void 0,e),e.currentTarget=null}function vN(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var i=r[a],l=i.instance,c=i.currentTarget;if(i=i.listener,l!==o&&s.isPropagationStopped())break e;$8(s,i,c),o=l}else for(a=0;a<r.length;a++){if(i=r[a],l=i.instance,c=i.currentTarget,i=i.listener,l!==o&&s.isPropagationStopped())break e;$8(s,i,c),o=l}}}if(Sy)throw e=p3,Sy=!1,p3=null,e}function Rt(e,t){var n=t[k3];n===void 0&&(n=t[k3]=new Set);var r=e+"__bubble";n.has(r)||(kN(t,e,2,!1),n.add(r))}function Vx(e,t,n){var r=0;t&&(r|=4),kN(n,e,r,t)}var Gg="_reactListening"+Math.random().toString(36).slice(2);function Yp(e){if(!e[Gg]){e[Gg]=!0,AA.forEach(function(n){n!=="selectionchange"&&(Lse.has(n)||Vx(n,!1,e),Vx(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Gg]||(t[Gg]=!0,Vx("selectionchange",!1,t))}}function kN(e,t,n,r){switch(aN(t)){case 1:var s=Xre;break;case 4:s=Yre;break;default:s=Q9}n=s.bind(null,t,n,e),s=void 0,!u3||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Xx(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var i=r.stateNode.containerInfo;if(i===s||i.nodeType===8&&i.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;a=a.return}for(;i!==null;){if(a=Xl(i),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}i=i.parentNode}}r=r.return}VA(function(){var c=o,d=Y9(n),h=[];e:{var u=bN.get(e);if(u!==void 0){var p=eb,y=e;switch(e){case"keypress":if(gm(n)===0)break e;case"keydown":case"keyup":p=cse;break;case"focusin":y="focus",p=qx;break;case"focusout":y="blur",p=qx;break;case"beforeblur":case"afterblur":p=qx;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=_8;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Zre;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=use;break;case yN:case xN:case wN:p=ese;break;case SN:p=fse;break;case"scroll":p=Hre;break;case"wheel":p=mse;break;case"copy":case"cut":case"paste":p=nse;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=I8}var g=(t&4)!==0,x=!g&&e==="scroll",w=g?u!==null?u+"Capture":null:u;g=[];for(var S=c,v;S!==null;){v=S;var k=v.stateNode;if(v.tag===5&&k!==null&&(v=k,w!==null&&(k=Fp(S,w),k!=null&&g.push(Hp(S,k,v)))),x)break;S=S.return}0<g.length&&(u=new p(u,y,null,n,d),h.push({event:u,listeners:g}))}}if(!(t&7)){e:{if(u=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",u&&n!==d3&&(y=n.relatedTarget||n.fromElement)&&(Xl(y)||y[Wa]))break e;if((p||u)&&(u=d.window===d?d:(u=d.ownerDocument)?u.defaultView||u.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=c,y=y?Xl(y):null,y!==null&&(x=Mc(y),y!==x||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=c),p!==y)){if(g=_8,k="onMouseLeave",w="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(g=I8,k="onPointerLeave",w="onPointerEnter",S="pointer"),x=p==null?u:$d(p),v=y==null?u:$d(y),u=new g(k,S+"leave",p,n,d),u.target=x,u.relatedTarget=v,k=null,Xl(d)===c&&(g=new g(w,S+"enter",y,n,d),g.target=v,g.relatedTarget=x,k=g),x=k,p&&y)t:{for(g=p,w=y,S=0,v=g;v;v=ad(v))S++;for(v=0,k=w;k;k=ad(k))v++;for(;0<S-v;)g=ad(g),S--;for(;0<v-S;)w=ad(w),v--;for(;S--;){if(g===w||w!==null&&g===w.alternate)break t;g=ad(g),w=ad(w)}g=null}else g=null;p!==null&&O8(h,u,p,g,!1),y!==null&&x!==null&&O8(h,x,y,g,!0)}}e:{if(u=c?$d(c):window,p=u.nodeName&&u.nodeName.toLowerCase(),p==="select"||p==="input"&&u.type==="file")var C=kse;else if(A8(u))if(uN)C=Ise;else{C=_se;var _=Cse}else(p=u.nodeName)&&p.toLowerCase()==="input"&&(u.type==="checkbox"||u.type==="radio")&&(C=Ese);if(C&&(C=C(e,c))){hN(h,C,n,d);break e}_&&_(e,u,c),e==="focusout"&&(_=u._wrapperState)&&_.controlled&&u.type==="number"&&o3(u,"number",u.value)}switch(_=c?$d(c):window,e){case"focusin":(A8(_)||_.contentEditable==="true")&&(jd=_,y3=c,fp=null);break;case"focusout":fp=y3=jd=null;break;case"mousedown":x3=!0;break;case"contextmenu":case"mouseup":case"dragend":x3=!1,j8(h,n,d);break;case"selectionchange":if(Ase)break;case"keydown":case"keyup":j8(h,n,d)}var E;if(nb)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Md?cN(e,n)&&(I="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(lN&&n.locale!=="ko"&&(Md||I!=="onCompositionStart"?I==="onCompositionEnd"&&Md&&(E=iN()):(Li=d,J9="value"in Li?Li.value:Li.textContent,Md=!0)),_=_y(c,I),0<_.length&&(I=new E8(I,e,null,n,d),h.push({event:I,listeners:_}),E?I.data=E:(E=dN(n),E!==null&&(I.data=E)))),(E=xse?wse(e,n):Sse(e,n))&&(c=_y(c,"onBeforeInput"),0<c.length&&(d=new E8("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=E))}vN(h,t)})}function Hp(e,t,n){return{instance:e,listener:t,currentTarget:n}}function _y(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Fp(e,n),o!=null&&r.unshift(Hp(e,o,s)),o=Fp(e,t),o!=null&&r.push(Hp(e,o,s))),e=e.return}return r}function ad(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function O8(e,t,n,r,s){for(var o=t._reactName,a=[];n!==null&&n!==r;){var i=n,l=i.alternate,c=i.stateNode;if(l!==null&&l===r)break;i.tag===5&&c!==null&&(i=c,s?(l=Fp(n,o),l!=null&&a.unshift(Hp(n,l,i))):s||(l=Fp(n,o),l!=null&&a.push(Hp(n,l,i)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var Mse=/\r\n?/g,jse=/\u0000|\uFFFD/g;function D8(e){return(typeof e=="string"?e:""+e).replace(Mse,`
`).replace(jse,"")}function Zg(e,t,n){if(t=D8(t),D8(e)!==t&&n)throw Error(ee(425))}function Ey(){}var w3=null,S3=null;function b3(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var v3=typeof setTimeout=="function"?setTimeout:void 0,Rse=typeof clearTimeout=="function"?clearTimeout:void 0,q8=typeof Promise=="function"?Promise:void 0,$se=typeof queueMicrotask=="function"?queueMicrotask:typeof q8<"u"?function(e){return q8.resolve(null).then(e).catch(Ose)}:v3;function Ose(e){setTimeout(function(){throw e})}function Yx(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Up(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Up(t)}function Fi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function B8(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Bh=Math.random().toString(36).slice(2),Uo="__reactFiber$"+Bh,Gp="__reactProps$"+Bh,Wa="__reactContainer$"+Bh,k3="__reactEvents$"+Bh,Dse="__reactListeners$"+Bh,qse="__reactHandles$"+Bh;function Xl(e){var t=e[Uo];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Wa]||n[Uo]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=B8(e);e!==null;){if(n=e[Uo])return n;e=B8(e)}return t}e=n,n=e.parentNode}return null}function Vf(e){return e=e[Uo]||e[Wa],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function $d(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ee(33))}function q1(e){return e[Gp]||null}var C3=[],Od=-1;function dl(e){return{current:e}}function Ut(e){0>Od||(e.current=C3[Od],C3[Od]=null,Od--)}function zt(e,t){Od++,C3[Od]=e.current,e.current=t}var Gi={},vr=dl(Gi),Kr=dl(!1),gc=Gi;function xh(e,t){var n=e.type.contextTypes;if(!n)return Gi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Wr(e){return e=e.childContextTypes,e!=null}function Iy(){Ut(Kr),Ut(vr)}function F8(e,t,n){if(vr.current!==Gi)throw Error(ee(168));zt(vr,t),zt(Kr,n)}function CN(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(ee(108,Cre(e)||"Unknown",s));return an({},n,r)}function Py(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Gi,gc=vr.current,zt(vr,e),zt(Kr,Kr.current),!0}function K8(e,t,n){var r=e.stateNode;if(!r)throw Error(ee(169));n?(e=CN(e,t,gc),r.__reactInternalMemoizedMergedChildContext=e,Ut(Kr),Ut(vr),zt(vr,e)):Ut(Kr),zt(Kr,n)}var Pa=null,B1=!1,Hx=!1;function _N(e){Pa===null?Pa=[e]:Pa.push(e)}function Bse(e){B1=!0,_N(e)}function hl(){if(!Hx&&Pa!==null){Hx=!0;var e=0,t=mt;try{var n=Pa;for(mt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Pa=null,B1=!1}catch(s){throw Pa!==null&&(Pa=Pa.slice(e+1)),GA(H9,hl),s}finally{mt=t,Hx=!1}}return null}var Dd=[],qd=0,zy=null,Ay=0,Ds=[],qs=0,mc=null,Ta=1,La="";function Rl(e,t){Dd[qd++]=Ay,Dd[qd++]=zy,zy=e,Ay=t}function EN(e,t,n){Ds[qs++]=Ta,Ds[qs++]=La,Ds[qs++]=mc,mc=e;var r=Ta;e=La;var s=32-wo(r)-1;r&=~(1<<s),n+=1;var o=32-wo(t)+s;if(30<o){var a=s-s%5;o=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Ta=1<<32-wo(t)+s|n<<s|r,La=o+e}else Ta=1<<o|n<<s|r,La=e}function sb(e){e.return!==null&&(Rl(e,1),EN(e,1,0))}function ob(e){for(;e===zy;)zy=Dd[--qd],Dd[qd]=null,Ay=Dd[--qd],Dd[qd]=null;for(;e===mc;)mc=Ds[--qs],Ds[qs]=null,La=Ds[--qs],Ds[qs]=null,Ta=Ds[--qs],Ds[qs]=null}var ws=null,xs=null,Yt=!1,uo=null;function IN(e,t){var n=Ks(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function W8(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ws=e,xs=Fi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ws=e,xs=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=mc!==null?{id:Ta,overflow:La}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ks(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ws=e,xs=null,!0):!1;default:return!1}}function _3(e){return(e.mode&1)!==0&&(e.flags&128)===0}function E3(e){if(Yt){var t=xs;if(t){var n=t;if(!W8(e,t)){if(_3(e))throw Error(ee(418));t=Fi(n.nextSibling);var r=ws;t&&W8(e,t)?IN(r,n):(e.flags=e.flags&-4097|2,Yt=!1,ws=e)}}else{if(_3(e))throw Error(ee(418));e.flags=e.flags&-4097|2,Yt=!1,ws=e}}}function U8(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ws=e}function Qg(e){if(e!==ws)return!1;if(!Yt)return U8(e),Yt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!b3(e.type,e.memoizedProps)),t&&(t=xs)){if(_3(e))throw PN(),Error(ee(418));for(;t;)IN(e,t),t=Fi(t.nextSibling)}if(U8(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ee(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){xs=Fi(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}xs=null}}else xs=ws?Fi(e.stateNode.nextSibling):null;return!0}function PN(){for(var e=xs;e;)e=Fi(e.nextSibling)}function wh(){xs=ws=null,Yt=!1}function ab(e){uo===null?uo=[e]:uo.push(e)}var Fse=ti.ReactCurrentBatchConfig;function Su(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ee(309));var r=n.stateNode}if(!r)throw Error(ee(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var i=s.refs;a===null?delete i[o]:i[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(ee(284));if(!n._owner)throw Error(ee(290,e))}return e}function Jg(e,t){throw e=Object.prototype.toString.call(t),Error(ee(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function V8(e){var t=e._init;return t(e._payload)}function zN(e){function t(w,S){if(e){var v=w.deletions;v===null?(w.deletions=[S],w.flags|=16):v.push(S)}}function n(w,S){if(!e)return null;for(;S!==null;)t(w,S),S=S.sibling;return null}function r(w,S){for(w=new Map;S!==null;)S.key!==null?w.set(S.key,S):w.set(S.index,S),S=S.sibling;return w}function s(w,S){return w=Vi(w,S),w.index=0,w.sibling=null,w}function o(w,S,v){return w.index=v,e?(v=w.alternate,v!==null?(v=v.index,v<S?(w.flags|=2,S):v):(w.flags|=2,S)):(w.flags|=1048576,S)}function a(w){return e&&w.alternate===null&&(w.flags|=2),w}function i(w,S,v,k){return S===null||S.tag!==6?(S=n5(v,w.mode,k),S.return=w,S):(S=s(S,v),S.return=w,S)}function l(w,S,v,k){var C=v.type;return C===Ld?d(w,S,v.props.children,k,v.key):S!==null&&(S.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===ki&&V8(C)===S.type)?(k=s(S,v.props),k.ref=Su(w,S,v),k.return=w,k):(k=vm(v.type,v.key,v.props,null,w.mode,k),k.ref=Su(w,S,v),k.return=w,k)}function c(w,S,v,k){return S===null||S.tag!==4||S.stateNode.containerInfo!==v.containerInfo||S.stateNode.implementation!==v.implementation?(S=r5(v,w.mode,k),S.return=w,S):(S=s(S,v.children||[]),S.return=w,S)}function d(w,S,v,k,C){return S===null||S.tag!==7?(S=dc(v,w.mode,k,C),S.return=w,S):(S=s(S,v),S.return=w,S)}function h(w,S,v){if(typeof S=="string"&&S!==""||typeof S=="number")return S=n5(""+S,w.mode,v),S.return=w,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Fg:return v=vm(S.type,S.key,S.props,null,w.mode,v),v.ref=Su(w,null,S),v.return=w,v;case Td:return S=r5(S,w.mode,v),S.return=w,S;case ki:var k=S._init;return h(w,k(S._payload),v)}if(Gu(S)||gu(S))return S=dc(S,w.mode,v,null),S.return=w,S;Jg(w,S)}return null}function u(w,S,v,k){var C=S!==null?S.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return C!==null?null:i(w,S,""+v,k);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Fg:return v.key===C?l(w,S,v,k):null;case Td:return v.key===C?c(w,S,v,k):null;case ki:return C=v._init,u(w,S,C(v._payload),k)}if(Gu(v)||gu(v))return C!==null?null:d(w,S,v,k,null);Jg(w,v)}return null}function p(w,S,v,k,C){if(typeof k=="string"&&k!==""||typeof k=="number")return w=w.get(v)||null,i(S,w,""+k,C);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Fg:return w=w.get(k.key===null?v:k.key)||null,l(S,w,k,C);case Td:return w=w.get(k.key===null?v:k.key)||null,c(S,w,k,C);case ki:var _=k._init;return p(w,S,v,_(k._payload),C)}if(Gu(k)||gu(k))return w=w.get(v)||null,d(S,w,k,C,null);Jg(S,k)}return null}function y(w,S,v,k){for(var C=null,_=null,E=S,I=S=0,z=null;E!==null&&I<v.length;I++){E.index>I?(z=E,E=null):z=E.sibling;var A=u(w,E,v[I],k);if(A===null){E===null&&(E=z);break}e&&E&&A.alternate===null&&t(w,E),S=o(A,S,I),_===null?C=A:_.sibling=A,_=A,E=z}if(I===v.length)return n(w,E),Yt&&Rl(w,I),C;if(E===null){for(;I<v.length;I++)E=h(w,v[I],k),E!==null&&(S=o(E,S,I),_===null?C=E:_.sibling=E,_=E);return Yt&&Rl(w,I),C}for(E=r(w,E);I<v.length;I++)z=p(E,w,I,v[I],k),z!==null&&(e&&z.alternate!==null&&E.delete(z.key===null?I:z.key),S=o(z,S,I),_===null?C=z:_.sibling=z,_=z);return e&&E.forEach(function(T){return t(w,T)}),Yt&&Rl(w,I),C}function g(w,S,v,k){var C=gu(v);if(typeof C!="function")throw Error(ee(150));if(v=C.call(v),v==null)throw Error(ee(151));for(var _=C=null,E=S,I=S=0,z=null,A=v.next();E!==null&&!A.done;I++,A=v.next()){E.index>I?(z=E,E=null):z=E.sibling;var T=u(w,E,A.value,k);if(T===null){E===null&&(E=z);break}e&&E&&T.alternate===null&&t(w,E),S=o(T,S,I),_===null?C=T:_.sibling=T,_=T,E=z}if(A.done)return n(w,E),Yt&&Rl(w,I),C;if(E===null){for(;!A.done;I++,A=v.next())A=h(w,A.value,k),A!==null&&(S=o(A,S,I),_===null?C=A:_.sibling=A,_=A);return Yt&&Rl(w,I),C}for(E=r(w,E);!A.done;I++,A=v.next())A=p(E,w,I,A.value,k),A!==null&&(e&&A.alternate!==null&&E.delete(A.key===null?I:A.key),S=o(A,S,I),_===null?C=A:_.sibling=A,_=A);return e&&E.forEach(function(j){return t(w,j)}),Yt&&Rl(w,I),C}function x(w,S,v,k){if(typeof v=="object"&&v!==null&&v.type===Ld&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Fg:e:{for(var C=v.key,_=S;_!==null;){if(_.key===C){if(C=v.type,C===Ld){if(_.tag===7){n(w,_.sibling),S=s(_,v.props.children),S.return=w,w=S;break e}}else if(_.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===ki&&V8(C)===_.type){n(w,_.sibling),S=s(_,v.props),S.ref=Su(w,_,v),S.return=w,w=S;break e}n(w,_);break}else t(w,_);_=_.sibling}v.type===Ld?(S=dc(v.props.children,w.mode,k,v.key),S.return=w,w=S):(k=vm(v.type,v.key,v.props,null,w.mode,k),k.ref=Su(w,S,v),k.return=w,w=k)}return a(w);case Td:e:{for(_=v.key;S!==null;){if(S.key===_)if(S.tag===4&&S.stateNode.containerInfo===v.containerInfo&&S.stateNode.implementation===v.implementation){n(w,S.sibling),S=s(S,v.children||[]),S.return=w,w=S;break e}else{n(w,S);break}else t(w,S);S=S.sibling}S=r5(v,w.mode,k),S.return=w,w=S}return a(w);case ki:return _=v._init,x(w,S,_(v._payload),k)}if(Gu(v))return y(w,S,v,k);if(gu(v))return g(w,S,v,k);Jg(w,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,S!==null&&S.tag===6?(n(w,S.sibling),S=s(S,v),S.return=w,w=S):(n(w,S),S=n5(v,w.mode,k),S.return=w,w=S),a(w)):n(w,S)}return x}var Sh=zN(!0),AN=zN(!1),Ny=dl(null),Ty=null,Bd=null,ib=null;function lb(){ib=Bd=Ty=null}function cb(e){var t=Ny.current;Ut(Ny),e._currentValue=t}function I3(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function rh(e,t){Ty=e,ib=Bd=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Br=!0),e.firstContext=null)}function Ys(e){var t=e._currentValue;if(ib!==e)if(e={context:e,memoizedValue:t,next:null},Bd===null){if(Ty===null)throw Error(ee(308));Bd=e,Ty.dependencies={lanes:0,firstContext:e}}else Bd=Bd.next=e;return t}var Yl=null;function db(e){Yl===null?Yl=[e]:Yl.push(e)}function NN(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,db(t)):(n.next=s.next,s.next=n),t.interleaved=n,Ua(e,r)}function Ua(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ci=!1;function hb(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function TN(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function $a(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ki(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Je&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Ua(e,n)}return s=r.interleaved,s===null?(t.next=t,db(r)):(t.next=s.next,s.next=t),r.interleaved=t,Ua(e,n)}function mm(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,G9(e,n)}}function X8(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ly(e,t,n,r){var s=e.updateQueue;Ci=!1;var o=s.firstBaseUpdate,a=s.lastBaseUpdate,i=s.shared.pending;if(i!==null){s.shared.pending=null;var l=i,c=l.next;l.next=null,a===null?o=c:a.next=c,a=l;var d=e.alternate;d!==null&&(d=d.updateQueue,i=d.lastBaseUpdate,i!==a&&(i===null?d.firstBaseUpdate=c:i.next=c,d.lastBaseUpdate=l))}if(o!==null){var h=s.baseState;a=0,d=c=l=null,i=o;do{var u=i.lane,p=i.eventTime;if((r&u)===u){d!==null&&(d=d.next={eventTime:p,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var y=e,g=i;switch(u=t,p=n,g.tag){case 1:if(y=g.payload,typeof y=="function"){h=y.call(p,h,u);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,u=typeof y=="function"?y.call(p,h,u):y,u==null)break e;h=an({},h,u);break e;case 2:Ci=!0}}i.callback!==null&&i.lane!==0&&(e.flags|=64,u=s.effects,u===null?s.effects=[i]:u.push(i))}else p={eventTime:p,lane:u,tag:i.tag,payload:i.payload,callback:i.callback,next:null},d===null?(c=d=p,l=h):d=d.next=p,a|=u;if(i=i.next,i===null){if(i=s.shared.pending,i===null)break;u=i,i=u.next,u.next=null,s.lastBaseUpdate=u,s.shared.pending=null}}while(1);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);xc|=a,e.lanes=a,e.memoizedState=h}}function Y8(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(ee(191,s));s.call(r)}}}var Xf={},ea=dl(Xf),Zp=dl(Xf),Qp=dl(Xf);function Hl(e){if(e===Xf)throw Error(ee(174));return e}function ub(e,t){switch(zt(Qp,t),zt(Zp,e),zt(ea,Xf),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:i3(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=i3(t,e)}Ut(ea),zt(ea,t)}function bh(){Ut(ea),Ut(Zp),Ut(Qp)}function LN(e){Hl(Qp.current);var t=Hl(ea.current),n=i3(t,e.type);t!==n&&(zt(Zp,e),zt(ea,n))}function pb(e){Zp.current===e&&(Ut(ea),Ut(Zp))}var tn=dl(0);function My(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Gx=[];function fb(){for(var e=0;e<Gx.length;e++)Gx[e]._workInProgressVersionPrimary=null;Gx.length=0}var ym=ti.ReactCurrentDispatcher,Zx=ti.ReactCurrentBatchConfig,yc=0,on=null,Sn=null,En=null,jy=!1,gp=!1,Jp=0,Kse=0;function tr(){throw Error(ee(321))}function gb(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!_o(e[n],t[n]))return!1;return!0}function mb(e,t,n,r,s,o){if(yc=o,on=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ym.current=e===null||e.memoizedState===null?Xse:Yse,e=n(r,s),gp){o=0;do{if(gp=!1,Jp=0,25<=o)throw Error(ee(301));o+=1,En=Sn=null,t.updateQueue=null,ym.current=Hse,e=n(r,s)}while(gp)}if(ym.current=Ry,t=Sn!==null&&Sn.next!==null,yc=0,En=Sn=on=null,jy=!1,t)throw Error(ee(300));return e}function yb(){var e=Jp!==0;return Jp=0,e}function Ro(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return En===null?on.memoizedState=En=e:En=En.next=e,En}function Hs(){if(Sn===null){var e=on.alternate;e=e!==null?e.memoizedState:null}else e=Sn.next;var t=En===null?on.memoizedState:En.next;if(t!==null)En=t,Sn=e;else{if(e===null)throw Error(ee(310));Sn=e,e={memoizedState:Sn.memoizedState,baseState:Sn.baseState,baseQueue:Sn.baseQueue,queue:Sn.queue,next:null},En===null?on.memoizedState=En=e:En=En.next=e}return En}function ef(e,t){return typeof t=="function"?t(e):t}function Qx(e){var t=Hs(),n=t.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=e;var r=Sn,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var a=s.next;s.next=o.next,o.next=a}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var i=a=null,l=null,c=o;do{var d=c.lane;if((yc&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(i=l=h,a=r):l=l.next=h,on.lanes|=d,xc|=d}c=c.next}while(c!==null&&c!==o);l===null?a=r:l.next=i,_o(r,t.memoizedState)||(Br=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,on.lanes|=o,xc|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Jx(e){var t=Hs(),n=t.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do o=e(o,a.action),a=a.next;while(a!==s);_o(o,t.memoizedState)||(Br=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function MN(){}function jN(e,t){var n=on,r=Hs(),s=t(),o=!_o(r.memoizedState,s);if(o&&(r.memoizedState=s,Br=!0),r=r.queue,xb(ON.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||En!==null&&En.memoizedState.tag&1){if(n.flags|=2048,tf(9,$N.bind(null,n,r,s,t),void 0,null),Pn===null)throw Error(ee(349));yc&30||RN(n,t,s)}return s}function RN(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=on.updateQueue,t===null?(t={lastEffect:null,stores:null},on.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function $N(e,t,n,r){t.value=n,t.getSnapshot=r,DN(t)&&qN(e)}function ON(e,t,n){return n(function(){DN(t)&&qN(e)})}function DN(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!_o(e,n)}catch{return!0}}function qN(e){var t=Ua(e,1);t!==null&&So(t,e,1,-1)}function H8(e){var t=Ro();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ef,lastRenderedState:e},t.queue=e,e=e.dispatch=Vse.bind(null,on,e),[t.memoizedState,e]}function tf(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=on.updateQueue,t===null?(t={lastEffect:null,stores:null},on.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function BN(){return Hs().memoizedState}function xm(e,t,n,r){var s=Ro();on.flags|=e,s.memoizedState=tf(1|t,n,void 0,r===void 0?null:r)}function F1(e,t,n,r){var s=Hs();r=r===void 0?null:r;var o=void 0;if(Sn!==null){var a=Sn.memoizedState;if(o=a.destroy,r!==null&&gb(r,a.deps)){s.memoizedState=tf(t,n,o,r);return}}on.flags|=e,s.memoizedState=tf(1|t,n,o,r)}function G8(e,t){return xm(8390656,8,e,t)}function xb(e,t){return F1(2048,8,e,t)}function FN(e,t){return F1(4,2,e,t)}function KN(e,t){return F1(4,4,e,t)}function WN(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function UN(e,t,n){return n=n!=null?n.concat([e]):null,F1(4,4,WN.bind(null,t,e),n)}function wb(){}function VN(e,t){var n=Hs();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&gb(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function XN(e,t){var n=Hs();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&gb(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function YN(e,t,n){return yc&21?(_o(n,t)||(n=JA(),on.lanes|=n,xc|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Br=!0),e.memoizedState=n)}function Wse(e,t){var n=mt;mt=n!==0&&4>n?n:4,e(!0);var r=Zx.transition;Zx.transition={};try{e(!1),t()}finally{mt=n,Zx.transition=r}}function HN(){return Hs().memoizedState}function Use(e,t,n){var r=Ui(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},GN(e))ZN(t,n);else if(n=NN(e,t,n,r),n!==null){var s=Ar();So(n,e,r,s),QN(n,t,r)}}function Vse(e,t,n){var r=Ui(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(GN(e))ZN(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,i=o(a,n);if(s.hasEagerState=!0,s.eagerState=i,_o(i,a)){var l=t.interleaved;l===null?(s.next=s,db(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=NN(e,t,s,r),n!==null&&(s=Ar(),So(n,e,r,s),QN(n,t,r))}}function GN(e){var t=e.alternate;return e===on||t!==null&&t===on}function ZN(e,t){gp=jy=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function QN(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,G9(e,n)}}var Ry={readContext:Ys,useCallback:tr,useContext:tr,useEffect:tr,useImperativeHandle:tr,useInsertionEffect:tr,useLayoutEffect:tr,useMemo:tr,useReducer:tr,useRef:tr,useState:tr,useDebugValue:tr,useDeferredValue:tr,useTransition:tr,useMutableSource:tr,useSyncExternalStore:tr,useId:tr,unstable_isNewReconciler:!1},Xse={readContext:Ys,useCallback:function(e,t){return Ro().memoizedState=[e,t===void 0?null:t],e},useContext:Ys,useEffect:G8,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,xm(4194308,4,WN.bind(null,t,e),n)},useLayoutEffect:function(e,t){return xm(4194308,4,e,t)},useInsertionEffect:function(e,t){return xm(4,2,e,t)},useMemo:function(e,t){var n=Ro();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ro();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Use.bind(null,on,e),[r.memoizedState,e]},useRef:function(e){var t=Ro();return e={current:e},t.memoizedState=e},useState:H8,useDebugValue:wb,useDeferredValue:function(e){return Ro().memoizedState=e},useTransition:function(){var e=H8(!1),t=e[0];return e=Wse.bind(null,e[1]),Ro().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=on,s=Ro();if(Yt){if(n===void 0)throw Error(ee(407));n=n()}else{if(n=t(),Pn===null)throw Error(ee(349));yc&30||RN(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,G8(ON.bind(null,r,o,e),[e]),r.flags|=2048,tf(9,$N.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Ro(),t=Pn.identifierPrefix;if(Yt){var n=La,r=Ta;n=(r&~(1<<32-wo(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Jp++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Kse++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Yse={readContext:Ys,useCallback:VN,useContext:Ys,useEffect:xb,useImperativeHandle:UN,useInsertionEffect:FN,useLayoutEffect:KN,useMemo:XN,useReducer:Qx,useRef:BN,useState:function(){return Qx(ef)},useDebugValue:wb,useDeferredValue:function(e){var t=Hs();return YN(t,Sn.memoizedState,e)},useTransition:function(){var e=Qx(ef)[0],t=Hs().memoizedState;return[e,t]},useMutableSource:MN,useSyncExternalStore:jN,useId:HN,unstable_isNewReconciler:!1},Hse={readContext:Ys,useCallback:VN,useContext:Ys,useEffect:xb,useImperativeHandle:UN,useInsertionEffect:FN,useLayoutEffect:KN,useMemo:XN,useReducer:Jx,useRef:BN,useState:function(){return Jx(ef)},useDebugValue:wb,useDeferredValue:function(e){var t=Hs();return Sn===null?t.memoizedState=e:YN(t,Sn.memoizedState,e)},useTransition:function(){var e=Jx(ef)[0],t=Hs().memoizedState;return[e,t]},useMutableSource:MN,useSyncExternalStore:jN,useId:HN,unstable_isNewReconciler:!1};function ro(e,t){if(e&&e.defaultProps){t=an({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function P3(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:an({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var K1={isMounted:function(e){return(e=e._reactInternals)?Mc(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ar(),s=Ui(e),o=$a(r,s);o.payload=t,n!=null&&(o.callback=n),t=Ki(e,o,s),t!==null&&(So(t,e,s,r),mm(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ar(),s=Ui(e),o=$a(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Ki(e,o,s),t!==null&&(So(t,e,s,r),mm(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ar(),r=Ui(e),s=$a(n,r);s.tag=2,t!=null&&(s.callback=t),t=Ki(e,s,r),t!==null&&(So(t,e,r,n),mm(t,e,r))}};function Z8(e,t,n,r,s,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,a):t.prototype&&t.prototype.isPureReactComponent?!Xp(n,r)||!Xp(s,o):!0}function JN(e,t,n){var r=!1,s=Gi,o=t.contextType;return typeof o=="object"&&o!==null?o=Ys(o):(s=Wr(t)?gc:vr.current,r=t.contextTypes,o=(r=r!=null)?xh(e,s):Gi),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=K1,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function Q8(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&K1.enqueueReplaceState(t,t.state,null)}function z3(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},hb(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=Ys(o):(o=Wr(t)?gc:vr.current,s.context=xh(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(P3(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&K1.enqueueReplaceState(s,s.state,null),Ly(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function vh(e,t){try{var n="",r=t;do n+=kre(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function e5(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function A3(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Gse=typeof WeakMap=="function"?WeakMap:Map;function eT(e,t,n){n=$a(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Oy||(Oy=!0,q3=r),A3(e,t)},n}function tT(e,t,n){n=$a(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){A3(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){A3(e,t),typeof r!="function"&&(Wi===null?Wi=new Set([this]):Wi.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function J8(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Gse;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=doe.bind(null,e,t,n),t.then(e,e))}function ek(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function tk(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=$a(-1,1),t.tag=2,Ki(n,t,1))),n.lanes|=1),e)}var Zse=ti.ReactCurrentOwner,Br=!1;function Ir(e,t,n,r){t.child=e===null?AN(t,null,n,r):Sh(t,e.child,n,r)}function nk(e,t,n,r,s){n=n.render;var o=t.ref;return rh(t,s),r=mb(e,t,n,r,o,s),n=yb(),e!==null&&!Br?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Va(e,t,s)):(Yt&&n&&sb(t),t.flags|=1,Ir(e,t,r,s),t.child)}function rk(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!Ib(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,nT(e,t,o,r,s)):(e=vm(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Xp,n(a,r)&&e.ref===t.ref)return Va(e,t,s)}return t.flags|=1,e=Vi(o,r),e.ref=t.ref,e.return=t,t.child=e}function nT(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(Xp(o,r)&&e.ref===t.ref)if(Br=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&(Br=!0);else return t.lanes=e.lanes,Va(e,t,s)}return N3(e,t,n,r,s)}function rT(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},zt(Kd,rs),rs|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,zt(Kd,rs),rs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,zt(Kd,rs),rs|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,zt(Kd,rs),rs|=r;return Ir(e,t,s,n),t.child}function sT(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function N3(e,t,n,r,s){var o=Wr(n)?gc:vr.current;return o=xh(t,o),rh(t,s),n=mb(e,t,n,r,o,s),r=yb(),e!==null&&!Br?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Va(e,t,s)):(Yt&&r&&sb(t),t.flags|=1,Ir(e,t,n,s),t.child)}function sk(e,t,n,r,s){if(Wr(n)){var o=!0;Py(t)}else o=!1;if(rh(t,s),t.stateNode===null)wm(e,t),JN(t,n,r),z3(t,n,r,s),r=!0;else if(e===null){var a=t.stateNode,i=t.memoizedProps;a.props=i;var l=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ys(c):(c=Wr(n)?gc:vr.current,c=xh(t,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(i!==r||l!==c)&&Q8(t,a,r,c),Ci=!1;var u=t.memoizedState;a.state=u,Ly(t,r,a,s),l=t.memoizedState,i!==r||u!==l||Kr.current||Ci?(typeof d=="function"&&(P3(t,n,d,r),l=t.memoizedState),(i=Ci||Z8(t,n,i,r,u,l,c))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=i):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,TN(e,t),i=t.memoizedProps,c=t.type===t.elementType?i:ro(t.type,i),a.props=c,h=t.pendingProps,u=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ys(l):(l=Wr(n)?gc:vr.current,l=xh(t,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(i!==h||u!==l)&&Q8(t,a,r,l),Ci=!1,u=t.memoizedState,a.state=u,Ly(t,r,a,s);var y=t.memoizedState;i!==h||u!==y||Kr.current||Ci?(typeof p=="function"&&(P3(t,n,p,r),y=t.memoizedState),(c=Ci||Z8(t,n,c,r,u,y,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,y,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,y,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||i===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),a.props=r,a.state=y,a.context=l,r=c):(typeof a.componentDidUpdate!="function"||i===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),r=!1)}return T3(e,t,n,r,o,s)}function T3(e,t,n,r,s,o){sT(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return s&&K8(t,n,!1),Va(e,t,o);r=t.stateNode,Zse.current=t;var i=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Sh(t,e.child,null,o),t.child=Sh(t,null,i,o)):Ir(e,t,i,o),t.memoizedState=r.state,s&&K8(t,n,!0),t.child}function oT(e){var t=e.stateNode;t.pendingContext?F8(e,t.pendingContext,t.pendingContext!==t.context):t.context&&F8(e,t.context,!1),ub(e,t.containerInfo)}function ok(e,t,n,r,s){return wh(),ab(s),t.flags|=256,Ir(e,t,n,r),t.child}var L3={dehydrated:null,treeContext:null,retryLane:0};function M3(e){return{baseLanes:e,cachePool:null,transitions:null}}function aT(e,t,n){var r=t.pendingProps,s=tn.current,o=!1,a=(t.flags&128)!==0,i;if((i=a)||(i=e!==null&&e.memoizedState===null?!1:(s&2)!==0),i?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),zt(tn,s&1),e===null)return E3(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,o?(r=t.mode,o=t.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=V1(a,r,0,null),e=dc(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=M3(n),t.memoizedState=L3,e):Sb(t,a));if(s=e.memoizedState,s!==null&&(i=s.dehydrated,i!==null))return Qse(e,t,a,r,i,s,n);if(o){o=r.fallback,a=t.mode,s=e.child,i=s.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Vi(s,l),r.subtreeFlags=s.subtreeFlags&14680064),i!==null?o=Vi(i,o):(o=dc(o,a,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,a=e.child.memoizedState,a=a===null?M3(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=L3,r}return o=e.child,e=o.sibling,r=Vi(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Sb(e,t){return t=V1({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function e0(e,t,n,r){return r!==null&&ab(r),Sh(t,e.child,null,n),e=Sb(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Qse(e,t,n,r,s,o,a){if(n)return t.flags&256?(t.flags&=-257,r=e5(Error(ee(422))),e0(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=V1({mode:"visible",children:r.children},s,0,null),o=dc(o,s,a,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Sh(t,e.child,null,a),t.child.memoizedState=M3(a),t.memoizedState=L3,o);if(!(t.mode&1))return e0(e,t,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var i=r.dgst;return r=i,o=Error(ee(419)),r=e5(o,r,void 0),e0(e,t,a,r)}if(i=(a&e.childLanes)!==0,Br||i){if(r=Pn,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Ua(e,s),So(r,e,s,-1))}return Eb(),r=e5(Error(ee(421))),e0(e,t,a,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=hoe.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,xs=Fi(s.nextSibling),ws=t,Yt=!0,uo=null,e!==null&&(Ds[qs++]=Ta,Ds[qs++]=La,Ds[qs++]=mc,Ta=e.id,La=e.overflow,mc=t),t=Sb(t,r.children),t.flags|=4096,t)}function ak(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),I3(e.return,t,n)}function t5(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function iT(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(Ir(e,t,r.children,n),r=tn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ak(e,n,t);else if(e.tag===19)ak(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(zt(tn,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&My(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),t5(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&My(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}t5(t,!0,n,null,o);break;case"together":t5(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function wm(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Va(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),xc|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ee(153));if(t.child!==null){for(e=t.child,n=Vi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Vi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Jse(e,t,n){switch(t.tag){case 3:oT(t),wh();break;case 5:LN(t);break;case 1:Wr(t.type)&&Py(t);break;case 4:ub(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;zt(Ny,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(zt(tn,tn.current&1),t.flags|=128,null):n&t.child.childLanes?aT(e,t,n):(zt(tn,tn.current&1),e=Va(e,t,n),e!==null?e.sibling:null);zt(tn,tn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return iT(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),zt(tn,tn.current),r)break;return null;case 22:case 23:return t.lanes=0,rT(e,t,n)}return Va(e,t,n)}var lT,j3,cT,dT;lT=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};j3=function(){};cT=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Hl(ea.current);var o=null;switch(n){case"input":s=r3(e,s),r=r3(e,r),o=[];break;case"select":s=an({},s,{value:void 0}),r=an({},r,{value:void 0}),o=[];break;case"textarea":s=a3(e,s),r=a3(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ey)}l3(n,r);var a;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var i=s[c];for(a in i)i.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(qp.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(i=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==i&&(l!=null||i!=null))if(c==="style")if(i){for(a in i)!i.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&i[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,i=i?i.__html:void 0,l!=null&&i!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(qp.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Rt("scroll",e),o||i===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};dT=function(e,t,n,r){n!==r&&(t.flags|=4)};function bu(e,t){if(!Yt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nr(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function eoe(e,t,n){var r=t.pendingProps;switch(ob(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nr(t),null;case 1:return Wr(t.type)&&Iy(),nr(t),null;case 3:return r=t.stateNode,bh(),Ut(Kr),Ut(vr),fb(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Qg(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,uo!==null&&(K3(uo),uo=null))),j3(e,t),nr(t),null;case 5:pb(t);var s=Hl(Qp.current);if(n=t.type,e!==null&&t.stateNode!=null)cT(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ee(166));return nr(t),null}if(e=Hl(ea.current),Qg(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Uo]=t,r[Gp]=o,e=(t.mode&1)!==0,n){case"dialog":Rt("cancel",r),Rt("close",r);break;case"iframe":case"object":case"embed":Rt("load",r);break;case"video":case"audio":for(s=0;s<Qu.length;s++)Rt(Qu[s],r);break;case"source":Rt("error",r);break;case"img":case"image":case"link":Rt("error",r),Rt("load",r);break;case"details":Rt("toggle",r);break;case"input":g8(r,o),Rt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Rt("invalid",r);break;case"textarea":y8(r,o),Rt("invalid",r)}l3(n,o),s=null;for(var a in o)if(o.hasOwnProperty(a)){var i=o[a];a==="children"?typeof i=="string"?r.textContent!==i&&(o.suppressHydrationWarning!==!0&&Zg(r.textContent,i,e),s=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(o.suppressHydrationWarning!==!0&&Zg(r.textContent,i,e),s=["children",""+i]):qp.hasOwnProperty(a)&&i!=null&&a==="onScroll"&&Rt("scroll",r)}switch(n){case"input":Kg(r),m8(r,o,!0);break;case"textarea":Kg(r),x8(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Ey)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=OA(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Uo]=t,e[Gp]=r,lT(e,t,!1,!1),t.stateNode=e;e:{switch(a=c3(n,r),n){case"dialog":Rt("cancel",e),Rt("close",e),s=r;break;case"iframe":case"object":case"embed":Rt("load",e),s=r;break;case"video":case"audio":for(s=0;s<Qu.length;s++)Rt(Qu[s],e);s=r;break;case"source":Rt("error",e),s=r;break;case"img":case"image":case"link":Rt("error",e),Rt("load",e),s=r;break;case"details":Rt("toggle",e),s=r;break;case"input":g8(e,r),s=r3(e,r),Rt("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=an({},r,{value:void 0}),Rt("invalid",e);break;case"textarea":y8(e,r),s=a3(e,r),Rt("invalid",e);break;default:s=r}l3(n,s),i=s;for(o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="style"?BA(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&DA(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Bp(e,l):typeof l=="number"&&Bp(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(qp.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Rt("scroll",e):l!=null&&W9(e,o,l,a))}switch(n){case"input":Kg(e),m8(e,r,!1);break;case"textarea":Kg(e),x8(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Hi(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Jd(e,!!r.multiple,o,!1):r.defaultValue!=null&&Jd(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ey)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return nr(t),null;case 6:if(e&&t.stateNode!=null)dT(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ee(166));if(n=Hl(Qp.current),Hl(ea.current),Qg(t)){if(r=t.stateNode,n=t.memoizedProps,r[Uo]=t,(o=r.nodeValue!==n)&&(e=ws,e!==null))switch(e.tag){case 3:Zg(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Zg(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Uo]=t,t.stateNode=r}return nr(t),null;case 13:if(Ut(tn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Yt&&xs!==null&&t.mode&1&&!(t.flags&128))PN(),wh(),t.flags|=98560,o=!1;else if(o=Qg(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(ee(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ee(317));o[Uo]=t}else wh(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;nr(t),o=!1}else uo!==null&&(K3(uo),uo=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||tn.current&1?vn===0&&(vn=3):Eb())),t.updateQueue!==null&&(t.flags|=4),nr(t),null);case 4:return bh(),j3(e,t),e===null&&Yp(t.stateNode.containerInfo),nr(t),null;case 10:return cb(t.type._context),nr(t),null;case 17:return Wr(t.type)&&Iy(),nr(t),null;case 19:if(Ut(tn),o=t.memoizedState,o===null)return nr(t),null;if(r=(t.flags&128)!==0,a=o.rendering,a===null)if(r)bu(o,!1);else{if(vn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=My(e),a!==null){for(t.flags|=128,bu(o,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return zt(tn,tn.current&1|2),t.child}e=e.sibling}o.tail!==null&&gn()>kh&&(t.flags|=128,r=!0,bu(o,!1),t.lanes=4194304)}else{if(!r)if(e=My(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),bu(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Yt)return nr(t),null}else 2*gn()-o.renderingStartTime>kh&&n!==1073741824&&(t.flags|=128,r=!0,bu(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(n=o.last,n!==null?n.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=gn(),t.sibling=null,n=tn.current,zt(tn,r?n&1|2:n&1),t):(nr(t),null);case 22:case 23:return _b(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?rs&1073741824&&(nr(t),t.subtreeFlags&6&&(t.flags|=8192)):nr(t),null;case 24:return null;case 25:return null}throw Error(ee(156,t.tag))}function toe(e,t){switch(ob(t),t.tag){case 1:return Wr(t.type)&&Iy(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return bh(),Ut(Kr),Ut(vr),fb(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return pb(t),null;case 13:if(Ut(tn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ee(340));wh()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ut(tn),null;case 4:return bh(),null;case 10:return cb(t.type._context),null;case 22:case 23:return _b(),null;case 24:return null;default:return null}}var t0=!1,dr=!1,noe=typeof WeakSet=="function"?WeakSet:Set,pe=null;function Fd(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){dn(e,t,r)}else n.current=null}function R3(e,t,n){try{n()}catch(r){dn(e,t,r)}}var ik=!1;function roe(e,t){if(w3=ky,e=gN(),rb(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,i=-1,l=-1,c=0,d=0,h=e,u=null;t:for(;;){for(var p;h!==n||s!==0&&h.nodeType!==3||(i=a+s),h!==o||r!==0&&h.nodeType!==3||(l=a+r),h.nodeType===3&&(a+=h.nodeValue.length),(p=h.firstChild)!==null;)u=h,h=p;for(;;){if(h===e)break t;if(u===n&&++c===s&&(i=a),u===o&&++d===r&&(l=a),(p=h.nextSibling)!==null)break;h=u,u=h.parentNode}h=p}n=i===-1||l===-1?null:{start:i,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(S3={focusedElem:e,selectionRange:n},ky=!1,pe=t;pe!==null;)if(t=pe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,pe=e;else for(;pe!==null;){t=pe;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,x=y.memoizedState,w=t.stateNode,S=w.getSnapshotBeforeUpdate(t.elementType===t.type?g:ro(t.type,g),x);w.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ee(163))}}catch(k){dn(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,pe=e;break}pe=t.return}return y=ik,ik=!1,y}function mp(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&R3(t,n,o)}s=s.next}while(s!==r)}}function W1(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function $3(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function hT(e){var t=e.alternate;t!==null&&(e.alternate=null,hT(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Uo],delete t[Gp],delete t[k3],delete t[Dse],delete t[qse])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function uT(e){return e.tag===5||e.tag===3||e.tag===4}function lk(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||uT(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function O3(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ey));else if(r!==4&&(e=e.child,e!==null))for(O3(e,t,n),e=e.sibling;e!==null;)O3(e,t,n),e=e.sibling}function D3(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(D3(e,t,n),e=e.sibling;e!==null;)D3(e,t,n),e=e.sibling}var On=null,ao=!1;function xi(e,t,n){for(n=n.child;n!==null;)pT(e,t,n),n=n.sibling}function pT(e,t,n){if(Jo&&typeof Jo.onCommitFiberUnmount=="function")try{Jo.onCommitFiberUnmount(R1,n)}catch{}switch(n.tag){case 5:dr||Fd(n,t);case 6:var r=On,s=ao;On=null,xi(e,t,n),On=r,ao=s,On!==null&&(ao?(e=On,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):On.removeChild(n.stateNode));break;case 18:On!==null&&(ao?(e=On,n=n.stateNode,e.nodeType===8?Yx(e.parentNode,n):e.nodeType===1&&Yx(e,n),Up(e)):Yx(On,n.stateNode));break;case 4:r=On,s=ao,On=n.stateNode.containerInfo,ao=!0,xi(e,t,n),On=r,ao=s;break;case 0:case 11:case 14:case 15:if(!dr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&R3(n,t,a),s=s.next}while(s!==r)}xi(e,t,n);break;case 1:if(!dr&&(Fd(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(i){dn(n,t,i)}xi(e,t,n);break;case 21:xi(e,t,n);break;case 22:n.mode&1?(dr=(r=dr)||n.memoizedState!==null,xi(e,t,n),dr=r):xi(e,t,n);break;default:xi(e,t,n)}}function ck(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new noe),t.forEach(function(r){var s=uoe.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function no(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,a=t,i=a;e:for(;i!==null;){switch(i.tag){case 5:On=i.stateNode,ao=!1;break e;case 3:On=i.stateNode.containerInfo,ao=!0;break e;case 4:On=i.stateNode.containerInfo,ao=!0;break e}i=i.return}if(On===null)throw Error(ee(160));pT(o,a,s),On=null,ao=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){dn(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)fT(t,e),t=t.sibling}function fT(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(no(t,e),Mo(e),r&4){try{mp(3,e,e.return),W1(3,e)}catch(g){dn(e,e.return,g)}try{mp(5,e,e.return)}catch(g){dn(e,e.return,g)}}break;case 1:no(t,e),Mo(e),r&512&&n!==null&&Fd(n,n.return);break;case 5:if(no(t,e),Mo(e),r&512&&n!==null&&Fd(n,n.return),e.flags&32){var s=e.stateNode;try{Bp(s,"")}catch(g){dn(e,e.return,g)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,a=n!==null?n.memoizedProps:o,i=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{i==="input"&&o.type==="radio"&&o.name!=null&&RA(s,o),c3(i,a);var c=c3(i,o);for(a=0;a<l.length;a+=2){var d=l[a],h=l[a+1];d==="style"?BA(s,h):d==="dangerouslySetInnerHTML"?DA(s,h):d==="children"?Bp(s,h):W9(s,d,h,c)}switch(i){case"input":s3(s,o);break;case"textarea":$A(s,o);break;case"select":var u=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Jd(s,!!o.multiple,p,!1):u!==!!o.multiple&&(o.defaultValue!=null?Jd(s,!!o.multiple,o.defaultValue,!0):Jd(s,!!o.multiple,o.multiple?[]:"",!1))}s[Gp]=o}catch(g){dn(e,e.return,g)}}break;case 6:if(no(t,e),Mo(e),r&4){if(e.stateNode===null)throw Error(ee(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(g){dn(e,e.return,g)}}break;case 3:if(no(t,e),Mo(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Up(t.containerInfo)}catch(g){dn(e,e.return,g)}break;case 4:no(t,e),Mo(e);break;case 13:no(t,e),Mo(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(kb=gn())),r&4&&ck(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(dr=(c=dr)||d,no(t,e),dr=c):no(t,e),Mo(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(pe=e,d=e.child;d!==null;){for(h=pe=d;pe!==null;){switch(u=pe,p=u.child,u.tag){case 0:case 11:case 14:case 15:mp(4,u,u.return);break;case 1:Fd(u,u.return);var y=u.stateNode;if(typeof y.componentWillUnmount=="function"){r=u,n=u.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(g){dn(r,n,g)}}break;case 5:Fd(u,u.return);break;case 22:if(u.memoizedState!==null){hk(h);continue}}p!==null?(p.return=u,pe=p):hk(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(i=h.stateNode,l=h.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,i.style.display=qA("display",a))}catch(g){dn(e,e.return,g)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(g){dn(e,e.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:no(t,e),Mo(e),r&4&&ck(e);break;case 21:break;default:no(t,e),Mo(e)}}function Mo(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(uT(n)){var r=n;break e}n=n.return}throw Error(ee(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Bp(s,""),r.flags&=-33);var o=lk(e);D3(e,o,s);break;case 3:case 4:var a=r.stateNode.containerInfo,i=lk(e);O3(e,i,a);break;default:throw Error(ee(161))}}catch(l){dn(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function soe(e,t,n){pe=e,gT(e)}function gT(e,t,n){for(var r=(e.mode&1)!==0;pe!==null;){var s=pe,o=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||t0;if(!a){var i=s.alternate,l=i!==null&&i.memoizedState!==null||dr;i=t0;var c=dr;if(t0=a,(dr=l)&&!c)for(pe=s;pe!==null;)a=pe,l=a.child,a.tag===22&&a.memoizedState!==null?uk(s):l!==null?(l.return=a,pe=l):uk(s);for(;o!==null;)pe=o,gT(o),o=o.sibling;pe=s,t0=i,dr=c}dk(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,pe=o):dk(e)}}function dk(e){for(;pe!==null;){var t=pe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:dr||W1(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!dr)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:ro(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Y8(t,o,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Y8(t,a,n)}break;case 5:var i=t.stateNode;if(n===null&&t.flags&4){n=i;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Up(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ee(163))}dr||t.flags&512&&$3(t)}catch(u){dn(t,t.return,u)}}if(t===e){pe=null;break}if(n=t.sibling,n!==null){n.return=t.return,pe=n;break}pe=t.return}}function hk(e){for(;pe!==null;){var t=pe;if(t===e){pe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,pe=n;break}pe=t.return}}function uk(e){for(;pe!==null;){var t=pe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{W1(4,t)}catch(l){dn(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){dn(t,s,l)}}var o=t.return;try{$3(t)}catch(l){dn(t,o,l)}break;case 5:var a=t.return;try{$3(t)}catch(l){dn(t,a,l)}}}catch(l){dn(t,t.return,l)}if(t===e){pe=null;break}var i=t.sibling;if(i!==null){i.return=t.return,pe=i;break}pe=t.return}}var ooe=Math.ceil,$y=ti.ReactCurrentDispatcher,bb=ti.ReactCurrentOwner,Vs=ti.ReactCurrentBatchConfig,Je=0,Pn=null,xn=null,Hn=0,rs=0,Kd=dl(0),vn=0,nf=null,xc=0,U1=0,vb=0,yp=null,Dr=null,kb=0,kh=1/0,Ca=null,Oy=!1,q3=null,Wi=null,n0=!1,Mi=null,Dy=0,xp=0,B3=null,Sm=-1,bm=0;function Ar(){return Je&6?gn():Sm!==-1?Sm:Sm=gn()}function Ui(e){return e.mode&1?Je&2&&Hn!==0?Hn&-Hn:Fse.transition!==null?(bm===0&&(bm=JA()),bm):(e=mt,e!==0||(e=window.event,e=e===void 0?16:aN(e.type)),e):1}function So(e,t,n,r){if(50<xp)throw xp=0,B3=null,Error(ee(185));Wf(e,n,r),(!(Je&2)||e!==Pn)&&(e===Pn&&(!(Je&2)&&(U1|=n),vn===4&&Ii(e,Hn)),Ur(e,r),n===1&&Je===0&&!(t.mode&1)&&(kh=gn()+500,B1&&hl()))}function Ur(e,t){var n=e.callbackNode;Fre(e,t);var r=vy(e,e===Pn?Hn:0);if(r===0)n!==null&&b8(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&b8(n),t===1)e.tag===0?Bse(pk.bind(null,e)):_N(pk.bind(null,e)),$se(function(){!(Je&6)&&hl()}),n=null;else{switch(eN(r)){case 1:n=H9;break;case 4:n=ZA;break;case 16:n=by;break;case 536870912:n=QA;break;default:n=by}n=kT(n,mT.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function mT(e,t){if(Sm=-1,bm=0,Je&6)throw Error(ee(327));var n=e.callbackNode;if(sh()&&e.callbackNode!==n)return null;var r=vy(e,e===Pn?Hn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=qy(e,r);else{t=r;var s=Je;Je|=2;var o=xT();(Pn!==e||Hn!==t)&&(Ca=null,kh=gn()+500,cc(e,t));do try{loe();break}catch(i){yT(e,i)}while(1);lb(),$y.current=o,Je=s,xn!==null?t=0:(Pn=null,Hn=0,t=vn)}if(t!==0){if(t===2&&(s=f3(e),s!==0&&(r=s,t=F3(e,s))),t===1)throw n=nf,cc(e,0),Ii(e,r),Ur(e,gn()),n;if(t===6)Ii(e,r);else{if(s=e.current.alternate,!(r&30)&&!aoe(s)&&(t=qy(e,r),t===2&&(o=f3(e),o!==0&&(r=o,t=F3(e,o))),t===1))throw n=nf,cc(e,0),Ii(e,r),Ur(e,gn()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(ee(345));case 2:$l(e,Dr,Ca);break;case 3:if(Ii(e,r),(r&130023424)===r&&(t=kb+500-gn(),10<t)){if(vy(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Ar(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=v3($l.bind(null,e,Dr,Ca),t);break}$l(e,Dr,Ca);break;case 4:if(Ii(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var a=31-wo(r);o=1<<a,a=t[a],a>s&&(s=a),r&=~o}if(r=s,r=gn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ooe(r/1960))-r,10<r){e.timeoutHandle=v3($l.bind(null,e,Dr,Ca),r);break}$l(e,Dr,Ca);break;case 5:$l(e,Dr,Ca);break;default:throw Error(ee(329))}}}return Ur(e,gn()),e.callbackNode===n?mT.bind(null,e):null}function F3(e,t){var n=yp;return e.current.memoizedState.isDehydrated&&(cc(e,t).flags|=256),e=qy(e,t),e!==2&&(t=Dr,Dr=n,t!==null&&K3(t)),e}function K3(e){Dr===null?Dr=e:Dr.push.apply(Dr,e)}function aoe(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!_o(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ii(e,t){for(t&=~vb,t&=~U1,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-wo(t),r=1<<n;e[n]=-1,t&=~r}}function pk(e){if(Je&6)throw Error(ee(327));sh();var t=vy(e,0);if(!(t&1))return Ur(e,gn()),null;var n=qy(e,t);if(e.tag!==0&&n===2){var r=f3(e);r!==0&&(t=r,n=F3(e,r))}if(n===1)throw n=nf,cc(e,0),Ii(e,t),Ur(e,gn()),n;if(n===6)throw Error(ee(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,$l(e,Dr,Ca),Ur(e,gn()),null}function Cb(e,t){var n=Je;Je|=1;try{return e(t)}finally{Je=n,Je===0&&(kh=gn()+500,B1&&hl())}}function wc(e){Mi!==null&&Mi.tag===0&&!(Je&6)&&sh();var t=Je;Je|=1;var n=Vs.transition,r=mt;try{if(Vs.transition=null,mt=1,e)return e()}finally{mt=r,Vs.transition=n,Je=t,!(Je&6)&&hl()}}function _b(){rs=Kd.current,Ut(Kd)}function cc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Rse(n)),xn!==null)for(n=xn.return;n!==null;){var r=n;switch(ob(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Iy();break;case 3:bh(),Ut(Kr),Ut(vr),fb();break;case 5:pb(r);break;case 4:bh();break;case 13:Ut(tn);break;case 19:Ut(tn);break;case 10:cb(r.type._context);break;case 22:case 23:_b()}n=n.return}if(Pn=e,xn=e=Vi(e.current,null),Hn=rs=t,vn=0,nf=null,vb=U1=xc=0,Dr=yp=null,Yl!==null){for(t=0;t<Yl.length;t++)if(n=Yl[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=s,r.next=a}n.pending=r}Yl=null}return e}function yT(e,t){do{var n=xn;try{if(lb(),ym.current=Ry,jy){for(var r=on.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}jy=!1}if(yc=0,En=Sn=on=null,gp=!1,Jp=0,bb.current=null,n===null||n.return===null){vn=1,nf=t,xn=null;break}e:{var o=e,a=n.return,i=n,l=t;if(t=Hn,i.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=i,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var u=d.alternate;u?(d.updateQueue=u.updateQueue,d.memoizedState=u.memoizedState,d.lanes=u.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ek(a);if(p!==null){p.flags&=-257,tk(p,a,i,o,t),p.mode&1&&J8(o,c,t),t=p,l=c;var y=t.updateQueue;if(y===null){var g=new Set;g.add(l),t.updateQueue=g}else y.add(l);break e}else{if(!(t&1)){J8(o,c,t),Eb();break e}l=Error(ee(426))}}else if(Yt&&i.mode&1){var x=ek(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),tk(x,a,i,o,t),ab(vh(l,i));break e}}o=l=vh(l,i),vn!==4&&(vn=2),yp===null?yp=[o]:yp.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var w=eT(o,l,t);X8(o,w);break e;case 1:i=l;var S=o.type,v=o.stateNode;if(!(o.flags&128)&&(typeof S.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Wi===null||!Wi.has(v)))){o.flags|=65536,t&=-t,o.lanes|=t;var k=tT(o,i,t);X8(o,k);break e}}o=o.return}while(o!==null)}ST(n)}catch(C){t=C,xn===n&&n!==null&&(xn=n=n.return);continue}break}while(1)}function xT(){var e=$y.current;return $y.current=Ry,e===null?Ry:e}function Eb(){(vn===0||vn===3||vn===2)&&(vn=4),Pn===null||!(xc&268435455)&&!(U1&268435455)||Ii(Pn,Hn)}function qy(e,t){var n=Je;Je|=2;var r=xT();(Pn!==e||Hn!==t)&&(Ca=null,cc(e,t));do try{ioe();break}catch(s){yT(e,s)}while(1);if(lb(),Je=n,$y.current=r,xn!==null)throw Error(ee(261));return Pn=null,Hn=0,vn}function ioe(){for(;xn!==null;)wT(xn)}function loe(){for(;xn!==null&&!Lre();)wT(xn)}function wT(e){var t=vT(e.alternate,e,rs);e.memoizedProps=e.pendingProps,t===null?ST(e):xn=t,bb.current=null}function ST(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=toe(n,t),n!==null){n.flags&=32767,xn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{vn=6,xn=null;return}}else if(n=eoe(n,t,rs),n!==null){xn=n;return}if(t=t.sibling,t!==null){xn=t;return}xn=t=e}while(t!==null);vn===0&&(vn=5)}function $l(e,t,n){var r=mt,s=Vs.transition;try{Vs.transition=null,mt=1,coe(e,t,n,r)}finally{Vs.transition=s,mt=r}return null}function coe(e,t,n,r){do sh();while(Mi!==null);if(Je&6)throw Error(ee(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ee(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Kre(e,o),e===Pn&&(xn=Pn=null,Hn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||n0||(n0=!0,kT(by,function(){return sh(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Vs.transition,Vs.transition=null;var a=mt;mt=1;var i=Je;Je|=4,bb.current=null,roe(e,n),fT(n,e),zse(S3),ky=!!w3,S3=w3=null,e.current=n,soe(n),Mre(),Je=i,mt=a,Vs.transition=o}else e.current=n;if(n0&&(n0=!1,Mi=e,Dy=s),o=e.pendingLanes,o===0&&(Wi=null),$re(n.stateNode),Ur(e,gn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Oy)throw Oy=!1,e=q3,q3=null,e;return Dy&1&&e.tag!==0&&sh(),o=e.pendingLanes,o&1?e===B3?xp++:(xp=0,B3=e):xp=0,hl(),null}function sh(){if(Mi!==null){var e=eN(Dy),t=Vs.transition,n=mt;try{if(Vs.transition=null,mt=16>e?16:e,Mi===null)var r=!1;else{if(e=Mi,Mi=null,Dy=0,Je&6)throw Error(ee(331));var s=Je;for(Je|=4,pe=e.current;pe!==null;){var o=pe,a=o.child;if(pe.flags&16){var i=o.deletions;if(i!==null){for(var l=0;l<i.length;l++){var c=i[l];for(pe=c;pe!==null;){var d=pe;switch(d.tag){case 0:case 11:case 15:mp(8,d,o)}var h=d.child;if(h!==null)h.return=d,pe=h;else for(;pe!==null;){d=pe;var u=d.sibling,p=d.return;if(hT(d),d===c){pe=null;break}if(u!==null){u.return=p,pe=u;break}pe=p}}}var y=o.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(g!==null)}}pe=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,pe=a;else e:for(;pe!==null;){if(o=pe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:mp(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,pe=w;break e}pe=o.return}}var S=e.current;for(pe=S;pe!==null;){a=pe;var v=a.child;if(a.subtreeFlags&2064&&v!==null)v.return=a,pe=v;else e:for(a=S;pe!==null;){if(i=pe,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:W1(9,i)}}catch(C){dn(i,i.return,C)}if(i===a){pe=null;break e}var k=i.sibling;if(k!==null){k.return=i.return,pe=k;break e}pe=i.return}}if(Je=s,hl(),Jo&&typeof Jo.onPostCommitFiberRoot=="function")try{Jo.onPostCommitFiberRoot(R1,e)}catch{}r=!0}return r}finally{mt=n,Vs.transition=t}}return!1}function fk(e,t,n){t=vh(n,t),t=eT(e,t,1),e=Ki(e,t,1),t=Ar(),e!==null&&(Wf(e,1,t),Ur(e,t))}function dn(e,t,n){if(e.tag===3)fk(e,e,n);else for(;t!==null;){if(t.tag===3){fk(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Wi===null||!Wi.has(r))){e=vh(n,e),e=tT(t,e,1),t=Ki(t,e,1),e=Ar(),t!==null&&(Wf(t,1,e),Ur(t,e));break}}t=t.return}}function doe(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ar(),e.pingedLanes|=e.suspendedLanes&n,Pn===e&&(Hn&n)===n&&(vn===4||vn===3&&(Hn&130023424)===Hn&&500>gn()-kb?cc(e,0):vb|=n),Ur(e,t)}function bT(e,t){t===0&&(e.mode&1?(t=Vg,Vg<<=1,!(Vg&130023424)&&(Vg=4194304)):t=1);var n=Ar();e=Ua(e,t),e!==null&&(Wf(e,t,n),Ur(e,n))}function hoe(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),bT(e,n)}function uoe(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ee(314))}r!==null&&r.delete(t),bT(e,n)}var vT;vT=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Kr.current)Br=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Br=!1,Jse(e,t,n);Br=!!(e.flags&131072)}else Br=!1,Yt&&t.flags&1048576&&EN(t,Ay,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;wm(e,t),e=t.pendingProps;var s=xh(t,vr.current);rh(t,n),s=mb(null,t,r,e,s,n);var o=yb();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Wr(r)?(o=!0,Py(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,hb(t),s.updater=K1,t.stateNode=s,s._reactInternals=t,z3(t,r,e,n),t=T3(null,t,r,!0,o,n)):(t.tag=0,Yt&&o&&sb(t),Ir(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(wm(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=foe(r),e=ro(r,e),s){case 0:t=N3(null,t,r,e,n);break e;case 1:t=sk(null,t,r,e,n);break e;case 11:t=nk(null,t,r,e,n);break e;case 14:t=rk(null,t,r,ro(r.type,e),n);break e}throw Error(ee(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ro(r,s),N3(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ro(r,s),sk(e,t,r,s,n);case 3:e:{if(oT(t),e===null)throw Error(ee(387));r=t.pendingProps,o=t.memoizedState,s=o.element,TN(e,t),Ly(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=vh(Error(ee(423)),t),t=ok(e,t,r,n,s);break e}else if(r!==s){s=vh(Error(ee(424)),t),t=ok(e,t,r,n,s);break e}else for(xs=Fi(t.stateNode.containerInfo.firstChild),ws=t,Yt=!0,uo=null,n=AN(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(wh(),r===s){t=Va(e,t,n);break e}Ir(e,t,r,n)}t=t.child}return t;case 5:return LN(t),e===null&&E3(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,a=s.children,b3(r,s)?a=null:o!==null&&b3(r,o)&&(t.flags|=32),sT(e,t),Ir(e,t,a,n),t.child;case 6:return e===null&&E3(t),null;case 13:return aT(e,t,n);case 4:return ub(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Sh(t,null,r,n):Ir(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ro(r,s),nk(e,t,r,s,n);case 7:return Ir(e,t,t.pendingProps,n),t.child;case 8:return Ir(e,t,t.pendingProps.children,n),t.child;case 12:return Ir(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,a=s.value,zt(Ny,r._currentValue),r._currentValue=a,o!==null)if(_o(o.value,a)){if(o.children===s.children&&!Kr.current){t=Va(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var i=o.dependencies;if(i!==null){a=o.child;for(var l=i.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=$a(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),I3(o.return,n,t),i.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(ee(341));a.lanes|=n,i=a.alternate,i!==null&&(i.lanes|=n),I3(a,n,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Ir(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,rh(t,n),s=Ys(s),r=r(s),t.flags|=1,Ir(e,t,r,n),t.child;case 14:return r=t.type,s=ro(r,t.pendingProps),s=ro(r.type,s),rk(e,t,r,s,n);case 15:return nT(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ro(r,s),wm(e,t),t.tag=1,Wr(r)?(e=!0,Py(t)):e=!1,rh(t,n),JN(t,r,s),z3(t,r,s,n),T3(null,t,r,!0,e,n);case 19:return iT(e,t,n);case 22:return rT(e,t,n)}throw Error(ee(156,t.tag))};function kT(e,t){return GA(e,t)}function poe(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ks(e,t,n,r){return new poe(e,t,n,r)}function Ib(e){return e=e.prototype,!(!e||!e.isReactComponent)}function foe(e){if(typeof e=="function")return Ib(e)?1:0;if(e!=null){if(e=e.$$typeof,e===V9)return 11;if(e===X9)return 14}return 2}function Vi(e,t){var n=e.alternate;return n===null?(n=Ks(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function vm(e,t,n,r,s,o){var a=2;if(r=e,typeof e=="function")Ib(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Ld:return dc(n.children,s,o,t);case U9:a=8,s|=8;break;case Jw:return e=Ks(12,n,t,s|2),e.elementType=Jw,e.lanes=o,e;case e3:return e=Ks(13,n,t,s),e.elementType=e3,e.lanes=o,e;case t3:return e=Ks(19,n,t,s),e.elementType=t3,e.lanes=o,e;case LA:return V1(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case NA:a=10;break e;case TA:a=9;break e;case V9:a=11;break e;case X9:a=14;break e;case ki:a=16,r=null;break e}throw Error(ee(130,e==null?e:typeof e,""))}return t=Ks(a,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function dc(e,t,n,r){return e=Ks(7,e,r,t),e.lanes=n,e}function V1(e,t,n,r){return e=Ks(22,e,r,t),e.elementType=LA,e.lanes=n,e.stateNode={isHidden:!1},e}function n5(e,t,n){return e=Ks(6,e,null,t),e.lanes=n,e}function r5(e,t,n){return t=Ks(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function goe(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$x(0),this.expirationTimes=$x(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$x(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Pb(e,t,n,r,s,o,a,i,l){return e=new goe(e,t,n,i,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Ks(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},hb(o),e}function moe(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Td,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function CT(e){if(!e)return Gi;e=e._reactInternals;e:{if(Mc(e)!==e||e.tag!==1)throw Error(ee(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Wr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ee(171))}if(e.tag===1){var n=e.type;if(Wr(n))return CN(e,n,t)}return t}function _T(e,t,n,r,s,o,a,i,l){return e=Pb(n,r,!0,e,s,o,a,i,l),e.context=CT(null),n=e.current,r=Ar(),s=Ui(n),o=$a(r,s),o.callback=t??null,Ki(n,o,s),e.current.lanes=s,Wf(e,s,r),Ur(e,r),e}function X1(e,t,n,r){var s=t.current,o=Ar(),a=Ui(s);return n=CT(n),t.context===null?t.context=n:t.pendingContext=n,t=$a(o,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ki(s,t,a),e!==null&&(So(e,s,a,o),mm(e,s,a)),a}function By(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function gk(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function zb(e,t){gk(e,t),(e=e.alternate)&&gk(e,t)}function yoe(){return null}var ET=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ab(e){this._internalRoot=e}Y1.prototype.render=Ab.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ee(409));X1(e,t,null,null)};Y1.prototype.unmount=Ab.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;wc(function(){X1(null,e,null,null)}),t[Wa]=null}};function Y1(e){this._internalRoot=e}Y1.prototype.unstable_scheduleHydration=function(e){if(e){var t=rN();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ei.length&&t!==0&&t<Ei[n].priority;n++);Ei.splice(n,0,e),n===0&&oN(e)}};function Nb(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function H1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function mk(){}function xoe(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var c=By(a);o.call(c)}}var a=_T(t,r,e,0,null,!1,!1,"",mk);return e._reactRootContainer=a,e[Wa]=a.current,Yp(e.nodeType===8?e.parentNode:e),wc(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var i=r;r=function(){var c=By(l);i.call(c)}}var l=Pb(e,0,!1,null,null,!1,!1,"",mk);return e._reactRootContainer=l,e[Wa]=l.current,Yp(e.nodeType===8?e.parentNode:e),wc(function(){X1(t,l,n,r)}),l}function G1(e,t,n,r,s){var o=n._reactRootContainer;if(o){var a=o;if(typeof s=="function"){var i=s;s=function(){var l=By(a);i.call(l)}}X1(t,a,e,s)}else a=xoe(n,t,e,s,r);return By(a)}tN=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Zu(t.pendingLanes);n!==0&&(G9(t,n|1),Ur(t,gn()),!(Je&6)&&(kh=gn()+500,hl()))}break;case 13:wc(function(){var r=Ua(e,1);if(r!==null){var s=Ar();So(r,e,1,s)}}),zb(e,1)}};Z9=function(e){if(e.tag===13){var t=Ua(e,134217728);if(t!==null){var n=Ar();So(t,e,134217728,n)}zb(e,134217728)}};nN=function(e){if(e.tag===13){var t=Ui(e),n=Ua(e,t);if(n!==null){var r=Ar();So(n,e,t,r)}zb(e,t)}};rN=function(){return mt};sN=function(e,t){var n=mt;try{return mt=e,t()}finally{mt=n}};h3=function(e,t,n){switch(t){case"input":if(s3(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=q1(r);if(!s)throw Error(ee(90));jA(r),s3(r,s)}}}break;case"textarea":$A(e,n);break;case"select":t=n.value,t!=null&&Jd(e,!!n.multiple,t,!1)}};WA=Cb;UA=wc;var woe={usingClientEntryPoint:!1,Events:[Vf,$d,q1,FA,KA,Cb]},vu={findFiberByHostInstance:Xl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Soe={bundleType:vu.bundleType,version:vu.version,rendererPackageName:vu.rendererPackageName,rendererConfig:vu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ti.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=YA(e),e===null?null:e.stateNode},findFiberByHostInstance:vu.findFiberByHostInstance||yoe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var r0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!r0.isDisabled&&r0.supportsFiber)try{R1=r0.inject(Soe),Jo=r0}catch{}}Cs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=woe;Cs.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Nb(t))throw Error(ee(200));return moe(e,t,null,n)};Cs.createRoot=function(e,t){if(!Nb(e))throw Error(ee(299));var n=!1,r="",s=ET;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Pb(e,1,!1,null,null,n,!1,r,s),e[Wa]=t.current,Yp(e.nodeType===8?e.parentNode:e),new Ab(t)};Cs.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ee(188)):(e=Object.keys(e).join(","),Error(ee(268,e)));return e=YA(t),e=e===null?null:e.stateNode,e};Cs.flushSync=function(e){return wc(e)};Cs.hydrate=function(e,t,n){if(!H1(t))throw Error(ee(200));return G1(null,e,t,!0,n)};Cs.hydrateRoot=function(e,t,n){if(!Nb(e))throw Error(ee(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",a=ET;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=_T(t,null,e,1,n??null,s,!1,o,a),e[Wa]=t.current,Yp(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Y1(t)};Cs.render=function(e,t,n){if(!H1(t))throw Error(ee(200));return G1(null,e,t,!1,n)};Cs.unmountComponentAtNode=function(e){if(!H1(e))throw Error(ee(40));return e._reactRootContainer?(wc(function(){G1(null,null,e,!1,function(){e._reactRootContainer=null,e[Wa]=null})}),!0):!1};Cs.unstable_batchedUpdates=Cb;Cs.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!H1(n))throw Error(ee(200));if(e==null||e._reactInternals===void 0)throw Error(ee(38));return G1(e,t,n,!1,r)};Cs.version="18.3.1-next-f1338f8080-20240426";function IT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(IT)}catch(e){console.error(e)}}IT(),IA.exports=Cs;var jc=IA.exports;const PT=_c(jc),boe=W_({__proto__:null,default:PT},[jc]);function ye(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function voe(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Z1(...e){return t=>e.forEach(n=>voe(n,t))}function Tt(...e){return b.useCallback(Z1(...e),e)}function ga(e,t=[]){let n=[];function r(o,a){const i=b.createContext(a),l=n.length;n=[...n,a];function c(h){const{scope:u,children:p,...y}=h,g=(u==null?void 0:u[e][l])||i,x=b.useMemo(()=>y,Object.values(y));return b.createElement(g.Provider,{value:x},p)}function d(h,u){const p=(u==null?void 0:u[e][l])||i,y=b.useContext(p);if(y)return y;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${o}\``)}return c.displayName=o+"Provider",[c,d]}const s=()=>{const o=n.map(a=>b.createContext(a));return function(i){const l=(i==null?void 0:i[e])||o;return b.useMemo(()=>({[`__scope${e}`]:{...i,[e]:l}}),[i,l])}};return s.scopeName=e,[r,koe(s,...t)]}function koe(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const a=r.reduce((i,{useScope:l,scopeName:c})=>{const h=l(o)[`__scope${c}`];return{...i,...h}},{});return b.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}const Sc=b.forwardRef((e,t)=>{const{children:n,...r}=e,s=b.Children.toArray(n),o=s.find(_oe);if(o){const a=o.props.children,i=s.map(l=>l===o?b.Children.count(a)>1?b.Children.only(null):b.isValidElement(a)?a.props.children:null:l);return b.createElement(W3,se({},r,{ref:t}),b.isValidElement(a)?b.cloneElement(a,void 0,i):null)}return b.createElement(W3,se({},r,{ref:t}),n)});Sc.displayName="Slot";const W3=b.forwardRef((e,t)=>{const{children:n,...r}=e;return b.isValidElement(n)?b.cloneElement(n,{...Eoe(r,n.props),ref:t?Z1(t,n.ref):n.ref}):b.Children.count(n)>1?b.Children.only(null):null});W3.displayName="SlotClone";const Coe=({children:e})=>b.createElement(b.Fragment,null,e);function _oe(e){return b.isValidElement(e)&&e.type===Coe}function Eoe(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...i)=>{o(...i),s(...i)}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function Q1(e){const t=e+"CollectionProvider",[n,r]=ga(t),[s,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=p=>{const{scope:y,children:g}=p,x=le.useRef(null),w=le.useRef(new Map).current;return le.createElement(s,{scope:y,itemMap:w,collectionRef:x},g)},i=e+"CollectionSlot",l=le.forwardRef((p,y)=>{const{scope:g,children:x}=p,w=o(i,g),S=Tt(y,w.collectionRef);return le.createElement(Sc,{ref:S},x)}),c=e+"CollectionItemSlot",d="data-radix-collection-item",h=le.forwardRef((p,y)=>{const{scope:g,children:x,...w}=p,S=le.useRef(null),v=Tt(y,S),k=o(c,g);return le.useEffect(()=>(k.itemMap.set(S,{ref:S,...w}),()=>void k.itemMap.delete(S))),le.createElement(Sc,{[d]:"",ref:v},x)});function u(p){const y=o(e+"CollectionConsumer",p);return le.useCallback(()=>{const x=y.collectionRef.current;if(!x)return[];const w=Array.from(x.querySelectorAll(`[${d}]`));return Array.from(y.itemMap.values()).sort((k,C)=>w.indexOf(k.ref.current)-w.indexOf(C.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:a,Slot:l,ItemSlot:h},u,r]}const Ioe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ct=Ioe.reduce((e,t)=>{const n=b.forwardRef((r,s)=>{const{asChild:o,...a}=r,i=o?Sc:t;return b.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),b.createElement(i,se({},a,{ref:s}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Tb(e,t){e&&jc.flushSync(()=>e.dispatchEvent(t))}function kr(e){const t=b.useRef(e);return b.useEffect(()=>{t.current=e}),b.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}function Poe(e,t=globalThis==null?void 0:globalThis.document){const n=kr(e);b.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r),()=>t.removeEventListener("keydown",r)},[n,t])}const U3="dismissableLayer.update",zoe="dismissableLayer.pointerDownOutside",Aoe="dismissableLayer.focusOutside";let yk;const zT=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),J1=b.forwardRef((e,t)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:i,onDismiss:l,...c}=e,d=b.useContext(zT),[h,u]=b.useState(null),p=(n=h==null?void 0:h.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,y]=b.useState({}),g=Tt(t,I=>u(I)),x=Array.from(d.layers),[w]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),S=x.indexOf(w),v=h?x.indexOf(h):-1,k=d.layersWithOutsidePointerEventsDisabled.size>0,C=v>=S,_=Toe(I=>{const z=I.target,A=[...d.branches].some(T=>T.contains(z));!C||A||(o==null||o(I),i==null||i(I),I.defaultPrevented||l==null||l())},p),E=Loe(I=>{const z=I.target;[...d.branches].some(T=>T.contains(z))||(a==null||a(I),i==null||i(I),I.defaultPrevented||l==null||l())},p);return Poe(I=>{v===d.layers.size-1&&(s==null||s(I),!I.defaultPrevented&&l&&(I.preventDefault(),l()))},p),b.useEffect(()=>{if(h)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(yk=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),xk(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=yk)}},[h,p,r,d]),b.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),xk())},[h,d]),b.useEffect(()=>{const I=()=>y({});return document.addEventListener(U3,I),()=>document.removeEventListener(U3,I)},[]),b.createElement(Ct.div,se({},c,{ref:g,style:{pointerEvents:k?C?"auto":"none":void 0,...e.style},onFocusCapture:ye(e.onFocusCapture,E.onFocusCapture),onBlurCapture:ye(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:ye(e.onPointerDownCapture,_.onPointerDownCapture)}))}),Noe=b.forwardRef((e,t)=>{const n=b.useContext(zT),r=b.useRef(null),s=Tt(t,r);return b.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),b.createElement(Ct.div,se({},e,{ref:s}))});function Toe(e,t=globalThis==null?void 0:globalThis.document){const n=kr(e),r=b.useRef(!1),s=b.useRef(()=>{});return b.useEffect(()=>{const o=i=>{if(i.target&&!r.current){let d=function(){AT(zoe,n,c,{discrete:!0})};var l=d;const c={originalEvent:i};i.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=d,t.addEventListener("click",s.current,{once:!0})):d()}else t.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function Loe(e,t=globalThis==null?void 0:globalThis.document){const n=kr(e),r=b.useRef(!1);return b.useEffect(()=>{const s=o=>{o.target&&!r.current&&AT(Aoe,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function xk(){const e=new CustomEvent(U3);document.dispatchEvent(e)}function AT(e,t,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?Tb(s,o):s.dispatchEvent(o)}const Moe=J1,joe=Noe,e2=b.forwardRef((e,t)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...s}=e;return r?PT.createPortal(b.createElement(Ct.div,se({},s,{ref:t})),r):null}),bc=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{};function Roe(e,t){return b.useReducer((n,r)=>{const s=t[n][r];return s??n},e)}const Po=e=>{const{present:t,children:n}=e,r=$oe(t),s=typeof n=="function"?n({present:r.isPresent}):b.Children.only(n),o=Tt(r.ref,s.ref);return typeof n=="function"||r.isPresent?b.cloneElement(s,{ref:o}):null};Po.displayName="Presence";function $oe(e){const[t,n]=b.useState(),r=b.useRef({}),s=b.useRef(e),o=b.useRef("none"),a=e?"mounted":"unmounted",[i,l]=Roe(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const c=s0(r.current);o.current=i==="mounted"?c:"none"},[i]),bc(()=>{const c=r.current,d=s.current;if(d!==e){const u=o.current,p=s0(c);e?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&u!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,l]),bc(()=>{if(t){const c=h=>{const p=s0(r.current).includes(h.animationName);h.target===t&&p&&jc.flushSync(()=>l("ANIMATION_END"))},d=h=>{h.target===t&&(o.current=s0(r.current))};return t.addEventListener("animationstart",d),t.addEventListener("animationcancel",c),t.addEventListener("animationend",c),()=>{t.removeEventListener("animationstart",d),t.removeEventListener("animationcancel",c),t.removeEventListener("animationend",c)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(i),ref:b.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function s0(e){return(e==null?void 0:e.animationName)||"none"}function ul({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,s]=Ooe({defaultProp:t,onChange:n}),o=e!==void 0,a=o?e:r,i=kr(n),l=b.useCallback(c=>{if(o){const h=typeof c=="function"?c(e):c;h!==e&&i(h)}else s(c)},[o,e,s,i]);return[a,l]}function Ooe({defaultProp:e,onChange:t}){const n=b.useState(e),[r]=n,s=b.useRef(r),o=kr(t);return b.useEffect(()=>{s.current!==r&&(o(r),s.current=r)},[r,s,o]),n}const NT=b.forwardRef((e,t)=>b.createElement(Ct.span,se({},e,{ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}))),TT="ToastProvider",[Lb,Doe,qoe]=Q1("Toast"),[LT,C3e]=ga("Toast",[qoe]),[Boe,t2]=LT(TT),MT=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:a}=e,[i,l]=b.useState(null),[c,d]=b.useState(0),h=b.useRef(!1),u=b.useRef(!1);return b.createElement(Lb.Provider,{scope:t},b.createElement(Boe,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:o,toastCount:c,viewport:i,onViewportChange:l,onToastAdd:b.useCallback(()=>d(p=>p+1),[]),onToastRemove:b.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:u},a))};MT.propTypes={label(e){if(e.label&&typeof e.label=="string"&&!e.label.trim()){const t=`Invalid prop \`label\` supplied to \`${TT}\`. Expected non-empty \`string\`.`;return new Error(t)}return null}};const Foe="ToastViewport",Koe=["F8"],V3="toast.viewportPause",X3="toast.viewportResume",Woe=b.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=Koe,label:s="Notifications ({hotkey})",...o}=e,a=t2(Foe,n),i=Doe(n),l=b.useRef(null),c=b.useRef(null),d=b.useRef(null),h=b.useRef(null),u=Tt(t,h,a.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=a.toastCount>0;b.useEffect(()=>{const x=w=>{var S;r.every(k=>w[k]||w.code===k)&&((S=h.current)===null||S===void 0||S.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),b.useEffect(()=>{const x=l.current,w=h.current;if(y&&x&&w){const S=()=>{if(!a.isClosePausedRef.current){const _=new CustomEvent(V3);w.dispatchEvent(_),a.isClosePausedRef.current=!0}},v=()=>{if(a.isClosePausedRef.current){const _=new CustomEvent(X3);w.dispatchEvent(_),a.isClosePausedRef.current=!1}},k=_=>{!x.contains(_.relatedTarget)&&v()},C=()=>{x.contains(document.activeElement)||v()};return x.addEventListener("focusin",S),x.addEventListener("focusout",k),x.addEventListener("pointermove",S),x.addEventListener("pointerleave",C),window.addEventListener("blur",S),window.addEventListener("focus",v),()=>{x.removeEventListener("focusin",S),x.removeEventListener("focusout",k),x.removeEventListener("pointermove",S),x.removeEventListener("pointerleave",C),window.removeEventListener("blur",S),window.removeEventListener("focus",v)}}},[y,a.isClosePausedRef]);const g=b.useCallback(({tabbingDirection:x})=>{const S=i().map(v=>{const k=v.ref.current,C=[k,...aae(k)];return x==="forwards"?C:C.reverse()});return(x==="forwards"?S.reverse():S).flat()},[i]);return b.useEffect(()=>{const x=h.current;if(x){const w=S=>{const v=S.altKey||S.ctrlKey||S.metaKey;if(S.key==="Tab"&&!v){const I=document.activeElement,z=S.shiftKey;if(S.target===x&&z){var C;(C=c.current)===null||C===void 0||C.focus();return}const j=g({tabbingDirection:z?"backwards":"forwards"}),R=j.findIndex(M=>M===I);if(s5(j.slice(R+1)))S.preventDefault();else{var _,E;z?(_=c.current)===null||_===void 0||_.focus():(E=d.current)===null||E===void 0||E.focus()}}};return x.addEventListener("keydown",w),()=>x.removeEventListener("keydown",w)}},[i,g]),b.createElement(joe,{ref:l,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:y?void 0:"none"}},y&&b.createElement(wk,{ref:c,onFocusFromOutsideViewport:()=>{const x=g({tabbingDirection:"forwards"});s5(x)}}),b.createElement(Lb.Slot,{scope:n},b.createElement(Ct.ol,se({tabIndex:-1},o,{ref:u}))),y&&b.createElement(wk,{ref:d,onFocusFromOutsideViewport:()=>{const x=g({tabbingDirection:"backwards"});s5(x)}}))}),Uoe="ToastFocusProxy",wk=b.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,o=t2(Uoe,n);return b.createElement(NT,se({"aria-hidden":!0,tabIndex:0},s,{ref:t,style:{position:"fixed"},onFocus:a=>{var i;const l=a.relatedTarget;!((i=o.viewport)!==null&&i!==void 0&&i.contains(l))&&r()}}))}),n2="Toast",Voe="toast.swipeStart",Xoe="toast.swipeMove",Yoe="toast.swipeCancel",Hoe="toast.swipeEnd",Goe=b.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:o,...a}=e,[i=!0,l]=ul({prop:r,defaultProp:s,onChange:o});return b.createElement(Po,{present:n||i},b.createElement(jT,se({open:i},a,{ref:t,onClose:()=>l(!1),onPause:kr(e.onPause),onResume:kr(e.onResume),onSwipeStart:ye(e.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ye(e.onSwipeMove,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:ye(e.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ye(e.onSwipeEnd,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})))}),[Zoe,Qoe]=LT(n2,{onClose(){}}),jT=b.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:o,onClose:a,onEscapeKeyDown:i,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:u,onSwipeEnd:p,...y}=e,g=t2(n2,n),[x,w]=b.useState(null),S=Tt(t,M=>w(M)),v=b.useRef(null),k=b.useRef(null),C=s||g.duration,_=b.useRef(0),E=b.useRef(C),I=b.useRef(0),{onToastAdd:z,onToastRemove:A}=g,T=kr(()=>{var M;(x==null?void 0:x.contains(document.activeElement))&&((M=g.viewport)===null||M===void 0||M.focus()),a()}),j=b.useCallback(M=>{!M||M===1/0||(window.clearTimeout(I.current),_.current=new Date().getTime(),I.current=window.setTimeout(T,M))},[T]);b.useEffect(()=>{const M=g.viewport;if(M){const D=()=>{j(E.current),c==null||c()},U=()=>{const Y=new Date().getTime()-_.current;E.current=E.current-Y,window.clearTimeout(I.current),l==null||l()};return M.addEventListener(V3,U),M.addEventListener(X3,D),()=>{M.removeEventListener(V3,U),M.removeEventListener(X3,D)}}},[g.viewport,C,l,c,j]),b.useEffect(()=>{o&&!g.isClosePausedRef.current&&j(C)},[o,C,g.isClosePausedRef,j]),b.useEffect(()=>(z(),()=>A()),[z,A]);const R=b.useMemo(()=>x?DT(x):null,[x]);return g.viewport?b.createElement(b.Fragment,null,R&&b.createElement(Joe,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0},R),b.createElement(Zoe,{scope:n,onClose:T},jc.createPortal(b.createElement(Lb.ItemSlot,{scope:n},b.createElement(Moe,{asChild:!0,onEscapeKeyDown:ye(i,()=>{g.isFocusedToastEscapeKeyDownRef.current||T(),g.isFocusedToastEscapeKeyDownRef.current=!1})},b.createElement(Ct.li,se({role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":g.swipeDirection},y,{ref:S,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ye(e.onKeyDown,M=>{M.key==="Escape"&&(i==null||i(M.nativeEvent),M.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,T()))}),onPointerDown:ye(e.onPointerDown,M=>{M.button===0&&(v.current={x:M.clientX,y:M.clientY})}),onPointerMove:ye(e.onPointerMove,M=>{if(!v.current)return;const D=M.clientX-v.current.x,U=M.clientY-v.current.y,Y=!!k.current,q=["left","right"].includes(g.swipeDirection),K=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,W=q?K(0,D):0,G=q?0:K(0,U),ne=M.pointerType==="touch"?10:2,ce={x:W,y:G},Le={originalEvent:M,delta:ce};Y?(k.current=ce,o0(Xoe,h,Le,{discrete:!1})):Sk(ce,g.swipeDirection,ne)?(k.current=ce,o0(Voe,d,Le,{discrete:!1}),M.target.setPointerCapture(M.pointerId)):(Math.abs(D)>ne||Math.abs(U)>ne)&&(v.current=null)}),onPointerUp:ye(e.onPointerUp,M=>{const D=k.current,U=M.target;if(U.hasPointerCapture(M.pointerId)&&U.releasePointerCapture(M.pointerId),k.current=null,v.current=null,D){const Y=M.currentTarget,q={originalEvent:M,delta:D};Sk(D,g.swipeDirection,g.swipeThreshold)?o0(Hoe,p,q,{discrete:!0}):o0(Yoe,u,q,{discrete:!0}),Y.addEventListener("click",K=>K.preventDefault(),{once:!0})}})})))),g.viewport))):null});jT.propTypes={type(e){if(e.type&&!["foreground","background"].includes(e.type)){const t=`Invalid prop \`type\` supplied to \`${n2}\`. Expected \`foreground | background\`.`;return new Error(t)}return null}};const Joe=e=>{const{__scopeToast:t,children:n,...r}=e,s=t2(n2,t),[o,a]=b.useState(!1),[i,l]=b.useState(!1);return sae(()=>a(!0)),b.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),i?null:b.createElement(e2,{asChild:!0},b.createElement(NT,r,o&&b.createElement(b.Fragment,null,s.label," ",n)))},eae=b.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return b.createElement(Ct.div,se({},r,{ref:t}))}),tae=b.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return b.createElement(Ct.div,se({},r,{ref:t}))}),nae="ToastAction",RT=b.forwardRef((e,t)=>{const{altText:n,...r}=e;return n?b.createElement(OT,{altText:n,asChild:!0},b.createElement($T,se({},r,{ref:t}))):null});RT.propTypes={altText(e){return e.altText?null:new Error(`Missing prop \`altText\` expected on \`${nae}\``)}};const rae="ToastClose",$T=b.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=Qoe(rae,n);return b.createElement(OT,{asChild:!0},b.createElement(Ct.button,se({type:"button"},r,{ref:t,onClick:ye(e.onClick,s.onClose)})))}),OT=b.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return b.createElement(Ct.div,se({"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0},s,{ref:t}))});function DT(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),oae(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const a=r.dataset.radixToastAnnounceAlt;a&&t.push(a)}else t.push(...DT(r))}}),t}function o0(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?Tb(s,o):s.dispatchEvent(o)}const Sk=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),o=r>s;return t==="left"||t==="right"?o&&r>n:!o&&s>n};function sae(e=()=>{}){const t=kr(e);bc(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function oae(e){return e.nodeType===e.ELEMENT_NODE}function aae(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function s5(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}const iae=Goe,lae=eae,cae=tae,dae=RT,bk=$T,Gl="2.0.0-alpha.12";let Fy={fonts:{draw:`https://unpkg.com/@tldraw/assets@${Gl}/fonts/Shantell_Sans-Normal-SemiBold.woff2`,serif:`https://unpkg.com/@tldraw/assets@${Gl}/fonts/IBMPlexSerif-Medium.woff2`,sansSerif:`https://unpkg.com/@tldraw/assets@${Gl}/fonts/IBMPlexSans-Medium.woff2`,monospace:`https://unpkg.com/@tldraw/assets@${Gl}/fonts/IBMPlexMono-Medium.woff2`}};function hae(e){Fy=e}function uae(e){return b.useMemo(()=>e?{fonts:{...Fy.fonts,...e==null?void 0:e.fonts}}:Fy,[e])}const pae=["align-bottom-center","align-bottom-left","align-bottom-right","align-bottom","align-center-center","align-center-horizontal","align-center-left","align-center-right","align-center-vertical","align-left","align-right","align-top-center","align-top-left","align-top-right","align-top","arrow-left","arrowhead-arrow","arrowhead-bar","arrowhead-diamond","arrowhead-dot","arrowhead-none","arrowhead-square","arrowhead-triangle-inverted","arrowhead-triangle","aspect-ratio","avatar","blob","bring-forward","bring-to-front","check","checkbox-checked","checkbox-empty","chevron-down","chevron-left","chevron-right","chevron-up","chevrons-ne","chevrons-sw","clipboard-copied","clipboard-copy","code","collab","color","comment","cross-2","cross","dash-dashed","dash-dotted","dash-draw","dash-solid","discord","distribute-horizontal","distribute-vertical","dot","dots-horizontal","dots-vertical","drag-handle-dots","duplicate","edit","external-link","file","fill-none","fill-pattern","fill-semi","fill-solid","follow","following","font-draw","font-mono","font-sans","font-serif","geo-arrow-down","geo-arrow-left","geo-arrow-right","geo-arrow-up","geo-check-box","geo-cloud","geo-diamond","geo-ellipse","geo-hexagon","geo-octagon","geo-oval","geo-pentagon","geo-rectangle","geo-rhombus-2","geo-rhombus","geo-star","geo-trapezoid","geo-triangle","geo-x-box","github","group","hidden","image","info-circle","leading","link","lock-small","lock","menu","minus","mixed","pack","page","plus","question-mark-circle","question-mark","redo","reset-zoom","rotate-ccw","rotate-cw","ruler","search","send-backward","send-to-back","settings-horizontal","settings-vertical-1","settings-vertical","share-1","share-2","size-extra-large","size-large","size-medium","size-small","spline-cubic","spline-line","stack-horizontal","stack-vertical","status-offline","status-online","stretch-horizontal","stretch-vertical","text-align-center","text-align-justify","text-align-left","text-align-right","tool-arrow","tool-embed","tool-eraser","tool-frame","tool-hand","tool-highlight","tool-laser","tool-line","tool-media","tool-note","tool-pencil","tool-pointer","tool-text","trash","triangle-down","triangle-up","twitter","undo","ungroup","unlock-small","unlock","vertical-align-center","vertical-align-end","vertical-align-start","visible","warning-triangle","zoom-in","zoom-out"];let vd={...Fy,icons:Object.fromEntries(pae.map(e=>[e,`https://unpkg.com/@tldraw/assets@${Gl}/icons/icon/${e}.svg`])),translations:Object.fromEntries(Ap.map(e=>[e.locale,`https://unpkg.com/@tldraw/assets@${Gl}/translations/${e.locale}.json`])),embedIcons:Object.fromEntries(ph.map(e=>[e.type,`https://unpkg.com/@tldraw/assets@${Gl}/embed-icons/${e.type}.png`]))};function fae(e){vd=e}function gae(e){return e?{fonts:Object.assign({...vd.fonts},{...e==null?void 0:e.fonts}),icons:Object.assign({...vd.icons},{...e==null?void 0:e.icons}),embedIcons:Object.assign({...vd.embedIcons},{...e==null?void 0:e.embedIcons}),translations:Object.assign({...vd.translations},{...e==null?void 0:e.translations})}:vd}function mae(e,t){const n=ze(t.map(s=>e.getShape(s)).filter(s=>s&&e.isShapeOfType(s,"frame")));if(!n.length)return;const r=[];e.batch(()=>{n.map(s=>{const o=e.getSortedChildIdsForParent(s.id);o.length&&(e.reparentShapes(o,s.parentId,s.index),r.push(...o))}),e.setSelectedShapes(r),e.deleteShapes(t)})}const yae=50;function xae(e,t,n={}){const r=e.getShape(t);if(!r)return;const s=e.getSortedChildIdsForParent(r.id),o=ze(s.map(p=>e.getShape(p)));if(!o.length)return;const a=xe.FromPoints(o.flatMap(p=>{const y=e.getShapeGeometry(p.id);return e.getShapeLocalTransform(p).applyToPoints(y.vertices)})),{padding:i=yae}=n,l=a.w+2*i,c=a.h+2*i,d=i-a.minX,h=i-a.minY;if(d===0&&h===0&&r.props.w===l&&r.props.h===c)return;const u=new P(d,h).rot(r.rotation);e.batch(()=>{const p=s.map(y=>{const g=e.getShape(y);return{id:g.id,type:g.type,x:g.x+d,y:g.y+h}});p.push({id:r.id,type:r.type,x:r.x-u.x,y:r.y-u.y,props:{w:l,h:c}}),e.updateShapes(p)})}const qT=b.createContext(null);function wae({assetUrls:e,children:t}){return f.jsx(qT.Provider,{value:e,children:t})}function Mb(){const e=b.useContext(qT);if(!e)throw new Error("useAssetUrls must be used within an AssetUrlsProvider");return e}const Y3={"action.convert-to-bookmark":"Convert to Bookmark","action.convert-to-embed":"Convert to Embed","action.open-embed-link":"Open link","action.align-bottom":"Align bottom","action.align-center-horizontal":"Align horizontally","action.align-center-vertical":"Align vertically","action.align-center-horizontal.short":"Align H","action.align-center-vertical.short":"Align V","action.align-left":"Align left","action.align-right":"Align right","action.align-top":"Align top","action.back-to-content":"Back to content","action.bring-forward":"Bring forward","action.bring-to-front":"Bring to front","action.copy-as-json.short":"JSON","action.copy-as-json":"Copy as JSON","action.copy-as-png.short":"PNG","action.copy-as-png":"Copy as PNG","action.copy-as-svg.short":"SVG","action.copy-as-svg":"Copy as SVG","action.copy":"Copy","action.cut":"Cut","action.delete":"Delete","action.unlock-all":"Unlock all","action.distribute-horizontal":"Distribute horizontally","action.distribute-vertical":"Distribute vertically","action.distribute-horizontal.short":"Distribute H","action.distribute-vertical.short":"Distribute V","action.duplicate":"Duplicate","action.edit-link":"Edit link","action.exit-pen-mode":"Exit pen mode","action.export-as-json.short":"JSON","action.export-as-json":"Export as JSON","action.export-as-png.short":"PNG","action.export-as-png":"Export as PNG","action.export-as-svg.short":"SVG","action.export-as-svg":"Export as SVG","action.fit-frame-to-content":"Fit to content","action.flip-horizontal":"Flip horizontally","action.flip-vertical":"Flip vertically","action.flip-horizontal.short":"Flip H","action.flip-vertical.short":"Flip V","action.fork-project":"Fork this project","action.group":"Group","action.insert-embed":"Insert embed","action.insert-media":"Upload media","action.leave-shared-project":"Leave shared project","action.new-project":"New project","action.new-shared-project":"New shared project","action.open-cursor-chat":"Cursor chat","action.open-file":"Open file","action.pack":"Pack","action.paste":"Paste","action.print":"Print","action.redo":"Redo","action.remove-frame":"Remove frame","action.rotate-ccw":"Rotate counterclockwise","action.rotate-cw":"Rotate clockwise","action.save-copy":"Save a copy","action.select-all":"Select all","action.select-none":"Select none","action.send-backward":"Send backward","action.send-to-back":"Send to back","action.share-project":"Share this project","action.stack-horizontal":"Stack horizontally","action.stack-vertical":"Stack vertically","action.stack-horizontal.short":"Stack H","action.stack-vertical.short":"Stack V","action.stop-following":"Stop following","action.stretch-horizontal":"Stretch horizontally","action.stretch-vertical":"Stretch vertically","action.stretch-horizontal.short":"Stretch H","action.stretch-vertical.short":"Stretch V","action.toggle-auto-size":"Toggle auto size","action.toggle-dark-mode.menu":"Dark mode","action.toggle-dark-mode":"Toggle dark mode","action.toggle-reduce-motion.menu":"Reduce motion","action.toggle-reduce-motion":"Toggle reduce motion","action.toggle-edge-scrolling.menu":"Edge scrolling","action.toggle-edge-scrolling":"Toggle edge scrolling","action.toggle-debug-mode.menu":"Debug mode","action.toggle-debug-mode":"Toggle debug mode","action.toggle-focus-mode.menu":"Focus mode","action.toggle-focus-mode":"Toggle focus mode","action.toggle-grid.menu":"Show grid","action.toggle-grid":"Toggle grid","action.toggle-lock":"Toggle locked","action.toggle-snap-mode.menu":"Always snap","action.toggle-snap-mode":"Toggle always snap","action.toggle-tool-lock.menu":"Tool lock","action.toggle-tool-lock":"Toggle tool lock","action.toggle-transparent.context-menu":"Transparent","action.toggle-transparent.menu":"Transparent","action.toggle-transparent":"Toggle transparent background","action.undo":"Undo","action.ungroup":"Ungroup","action.zoom-in":"Zoom in","action.zoom-out":"Zoom out","action.zoom-to-100":"Zoom to 100%","action.zoom-to-fit":"Zoom to fit","action.zoom-to-selection":"Zoom to selection","color-style.black":"Black","color-style.blue":"Blue","color-style.green":"Green","color-style.grey":"Grey","color-style.light-blue":"Light blue","color-style.light-green":"Light green","color-style.light-red":"Light red","color-style.light-violet":"Light violet","color-style.orange":"Orange","color-style.red":"Red","color-style.violet":"Violet","color-style.yellow":"Yellow","fill-style.none":"None","fill-style.semi":"Semi","fill-style.solid":"Solid","fill-style.pattern":"Pattern","dash-style.dashed":"Dashed","dash-style.dotted":"Dotted","dash-style.draw":"Draw","dash-style.solid":"Solid","size-style.s":"Small","size-style.m":"Medium","size-style.l":"Large","size-style.xl":"Extra large","opacity-style.0.1":"10%","opacity-style.0.25":"25%","opacity-style.0.5":"50%","opacity-style.0.75":"75%","opacity-style.1":"100%","font-style.draw":"Draw","font-style.sans":"Sans","font-style.serif":"Serif","font-style.mono":"Mono","align-style.start":"Start","align-style.middle":"Middle","align-style.end":"End","align-style.justify":"Justify","geo-style.arrow-down":"Arrow down","geo-style.arrow-left":"Arrow left","geo-style.arrow-right":"Arrow right","geo-style.arrow-up":"Arrow up","geo-style.diamond":"Diamond","geo-style.ellipse":"Ellipse","geo-style.hexagon":"Hexagon","geo-style.octagon":"Octagon","geo-style.oval":"Oval","geo-style.cloud":"Cloud","geo-style.pentagon":"Pentagon","geo-style.rectangle":"Rectangle","geo-style.rhombus-2":"Rhombus 2","geo-style.rhombus":"Rhombus","geo-style.star":"Star","geo-style.trapezoid":"Trapezoid","geo-style.triangle":"Triangle","geo-style.x-box":"X box","geo-style.check-box":"Check box","arrowheadStart-style.none":"None","arrowheadStart-style.arrow":"Arrow","arrowheadStart-style.bar":"Bar","arrowheadStart-style.diamond":"Diamond","arrowheadStart-style.dot":"Dot","arrowheadStart-style.inverted":"Inverted","arrowheadStart-style.pipe":"Pipe","arrowheadStart-style.square":"Square","arrowheadStart-style.triangle":"Triangle","arrowheadEnd-style.none":"None","arrowheadEnd-style.arrow":"Arrow","arrowheadEnd-style.bar":"Bar","arrowheadEnd-style.diamond":"Diamond","arrowheadEnd-style.dot":"Dot","arrowheadEnd-style.inverted":"Inverted","arrowheadEnd-style.pipe":"Pipe","arrowheadEnd-style.square":"Square","arrowheadEnd-style.triangle":"Triangle","spline-style.line":"Line","spline-style.cubic":"Cubic","tool.select":"Select","tool.hand":"Hand","tool.draw":"Draw","tool.eraser":"Eraser","tool.arrow-down":"Arrow down","tool.arrow-left":"Arrow left","tool.arrow-right":"Arrow right","tool.arrow-up":"Arrow up","tool.arrow":"Arrow","tool.cloud":"Cloud","tool.diamond":"Diamond","tool.ellipse":"Ellipse","tool.hexagon":"Hexagon","tool.highlight":"Highlight","tool.line":"Line","tool.octagon":"Octagon","tool.oval":"Oval","tool.pentagon":"Pentagon","tool.rectangle":"Rectangle","tool.rhombus":"Rhombus","tool.star":"Star","tool.trapezoid":"Trapezoid","tool.triangle":"Triangle","tool.x-box":"X box","tool.check-box":"Check box","tool.asset":"Asset","tool.frame":"Frame","tool.note":"Note","tool.laser":"Laser","tool.embed":"Embed","tool.text":"Text","menu.title":"Menu","menu.copy-as":"Copy as","menu.edit":"Edit","menu.export-as":"Export as","menu.file":"File","menu.language":"Language","menu.preferences":"Preferences","menu.view":"View","context-menu.arrange":"Arrange","context-menu.copy-as":"Copy as","context-menu.export-as":"Export as","context-menu.move-to-page":"Move to page","context-menu.reorder":"Reorder","page-menu.title":"Pages","page-menu.create-new-page":"Create new page","page-menu.max-page-count-reached":"Max pages reached","page-menu.new-page-initial-name":"Page 1","page-menu.edit-start":"Edit","page-menu.edit-done":"Done","page-menu.go-to-page":"Go to page","page-menu.submenu.rename":"Rename","page-menu.submenu.duplicate-page":"Duplicate","page-menu.submenu.title":"Menu","page-menu.submenu.move-down":"Move down","page-menu.submenu.move-up":"Move up","page-menu.submenu.delete":"Delete","share-menu.title":"Share","share-menu.save-note":"Download this project to your computer as a .tldr file.","share-menu.fork-note":"Create a new shared project based on this snapshot.","share-menu.share-project":"Share this project","share-menu.default-project-name":"Shared Project","share-menu.copy-link":"Copy share link","share-menu.readonly-link":"Read-only","share-menu.create-snapshot-link":"Copy snapshot link","share-menu.snapshot-link-note":"Capture and share this project as a read-only snapshot link.","share-menu.copy-readonly-link":"Copy read-only link","share-menu.offline-note":"Create a new shared project based on your current project.","share-menu.copy-link-note":"Anyone with the link will be able to view and edit this project.","share-menu.copy-readonly-link-note":"Anyone with the link will be able to view (but not edit) this project.","share-menu.project-too-large":"Sorry, this project can't be shared because it's too large. We're working on it!","share-menu.upload-failed":"Sorry, we couldn't upload your project at the moment. Please try again or let us know if the problem persists.","status.offline":"Offline","status.online":"Online","people-menu.title":"People","people-menu.change-name":"Change name","people-menu.change-color":"Change color","people-menu.follow":"Following","people-menu.following":"Following","people-menu.leading":"Following You","people-menu.user":"(You)","people-menu.invite":"Invite others","help-menu.title":"Help and resources","help-menu.about":"About","help-menu.discord":"Discord","help-menu.github":"GitHub","help-menu.keyboard-shortcuts":"Keyboard shortcuts","help-menu.twitter":"Twitter","actions-menu.title":"Actions","edit-link-dialog.title":"Edit link","edit-link-dialog.invalid-url":"A link must be a valid URL.","edit-link-dialog.detail":"Links will open in a new tab.","edit-link-dialog.url":"URL","edit-link-dialog.clear":"Clear","edit-link-dialog.save":"Continue","edit-link-dialog.cancel":"Cancel","embed-dialog.title":"Insert embed","embed-dialog.back":"Back","embed-dialog.create":"Create","embed-dialog.cancel":"Cancel","embed-dialog.url":"URL","embed-dialog.instruction":"Paste in the site's URL to create the embed.","embed-dialog.invalid-url":"We could not create an embed from that URL.","edit-pages-dialog.move-down":"Move down","edit-pages-dialog.move-up":"Move up","shortcuts-dialog.title":"Keyboard shortcuts","shortcuts-dialog.edit":"Edit","shortcuts-dialog.file":"File","shortcuts-dialog.preferences":"Preferences","shortcuts-dialog.tools":"Tools","shortcuts-dialog.transform":"Transform","shortcuts-dialog.view":"View","shortcuts-dialog.collaboration":"Collaboration","home-project-dialog.title":"Home project","home-project-dialog.description":"This is your local home project. It's just for you!","rename-project-dialog.title":"Rename project","rename-project-dialog.cancel":"Cancel","rename-project-dialog.rename":"Rename","home-project-dialog.ok":"Ok","style-panel.title":"Styles","style-panel.align":"Align","style-panel.vertical-align":"Vertical align","style-panel.position":"Position","style-panel.arrowheads":"Arrows","style-panel.arrowhead-start":"Start","style-panel.arrowhead-end":"End","style-panel.color":"Color","style-panel.dash":"Dash","style-panel.fill":"Fill","style-panel.font":"Font","style-panel.geo":"Shape","style-panel.mixed":"Mixed","style-panel.opacity":"Opacity","style-panel.size":"Size","style-panel.spline":"Spline","tool-panel.drawing":"Drawing","tool-panel.shapes":"Shapes","tool-panel.more":"More","debug-panel.more":"More","navigation-zone.toggle-minimap":"Toggle minimap","navigation-zone.zoom":"Zoom","focus-mode.toggle-focus-mode":"Toggle focus mode","toast.close":"Close","file-system.file-open-error.title":"Could not open file","file-system.file-open-error.not-a-tldraw-file":"The file you tried to open doesn't look like a tldraw file.","file-system.file-open-error.file-format-version-too-new":"The file you tried to open is from a newer version of tldraw. Please reload the page and try again.","file-system.file-open-error.generic-corrupted-file":"The file you tried to open is corrupted.","file-system.confirm-open.title":"Overwrite current project?","file-system.confirm-open.description":"Opening a file will replace your current project and any unsaved changes will be lost. Are you sure you want to continue?","file-system.confirm-open.cancel":"Cancel","file-system.confirm-open.open":"Open file","file-system.confirm-open.dont-show-again":"Don't ask again","file-system.confirm-clear.title":"Clear current project?","file-system.confirm-clear.description":"Creating a new project will clear your current project and any unsaved changes will be lost. Are you sure you want to continue?","file-system.confirm-clear.cancel":"Cancel","file-system.confirm-clear.continue":"Continue","file-system.confirm-clear.dont-show-again":"Don't ask again","file-system.shared-document-file-open-error.title":"Could not open file","file-system.shared-document-file-open-error.description":"Opening files from shared projects is not supported.","sharing.confirm-leave.title":"Leave current project?","sharing.confirm-leave.description":"Are you sure you want to leave this shared project? You can return to it by navigating to its URL.","sharing.confirm-leave.cancel":"Cancel","sharing.confirm-leave.leave":"Leave","sharing.confirm-leave.dont-show-again":"Don't ask again","toast.error.export-fail.title":"Failed export","toast.error.export-fail.desc":"Failed to export image","toast.error.copy-fail.title":"Failed copy","toast.error.copy-fail.desc":"Failed to copy image","context.pages.new-page":"New page","vscode.file-open.desc":"We've updated this document to work with the current version of tldraw. If you'd like to keep the original version (which will work on old.tldraw.com), click below to create a backup.","vscode.file-open.open":"Continue","vscode.file-open.backup":"Backup","vscode.file-open.backup-saved":"Backup saved","vscode.file-open.backup-failed":"Backup failed: this is not a .tldr file.","vscode.file-open.dont-show-again":"Don't ask again","cursor-chat.type-to-chat":"Type to chat..."},id={locale:"en",label:"English",messages:Y3};async function Sae(e,t){if(!(await fetch(t.translations.en)).ok)return console.warn("No main translations found."),id;if(e==="en")return id;const r=Ap.find(i=>i.locale===e);if(!r)return console.warn(`No translation found for locale ${e}`),id;const o=await(await fetch(t.translations[r.locale])).json();if(!o)return console.warn(`No messages found for locale ${e}`),id;const a=[];for(const i in id.messages)o[i]||a.push(i);return a.length>0,{locale:e,label:r.label,messages:{...id.messages,...o}}}const BT=b.createContext({}),bae=()=>b.useContext(BT),vae=et(function({overrides:t,children:n}){const s=H().user.getLocale(),o=Mb(),[a,i]=b.useState(()=>t&&t.en?{locale:"en",label:"English",messages:{...Y3,...t.en}}:{locale:"en",label:"English",messages:Y3});return b.useEffect(()=>{let l=!1;async function c(){const d=await Sae(s,o);d&&!l&&(t&&t[s]?i({...d,messages:{...d.messages,...t[s]}}):i(d))}return c(),()=>{l=!0}},[o,s,t]),f.jsx(BT.Provider,{value:a,children:n})});function Ze(){const e=bae();return b.useCallback(function(n){return e.messages[n]??n},[e])}function kae(e){return f.jsx("svg",{width:16,height:16,viewBox:"0 0 16 16",...e,children:f.jsxs("g",{strokeWidth:2,fill:"none",fillRule:"evenodd",children:[f.jsx("circle",{strokeOpacity:.25,cx:8,cy:8,r:7,stroke:"currentColor"}),f.jsx("path",{strokeLinecap:"round",d:"M15 8c0-4.5-4.5-7-7-7",stroke:"currentColor",children:f.jsx("animateTransform",{attributeName:"transform",type:"rotate",from:"0 8 8",to:"360 8 8",dur:"1s",repeatCount:"indefinite"})})]})})}const Vr=b.memo(function({small:t,invertIcon:n,icon:r,color:s,className:o,...a}){const i=Mb(),l=i.icons[r]??i.icons["question-mark-circle"],c=b.useRef(null);return b.useLayoutEffect(()=>{l||console.error(`Icon not found: ${r}. Add it to the assetUrls.icons object.`),c!=null&&c.current&&(c.current.style.webkitMask=`url(${l}) center 100% / 100% no-repeat`)},[c,l,r]),f.jsx("div",{...a,ref:c,className:me("tlui-icon",{"tlui-icon__small":t},o),style:{color:s,mask:`url(${l}) center 100% / 100% no-repeat`,transform:n?"scale(-1, 1)":void 0}})}),FT=typeof window>"u"?!1:window.navigator.userAgent.toLowerCase().indexOf("mac")>-1,KT=FT?"":"Ctrl",WT=FT?"":"Alt";function Cae(e){return e.split(",")[0].split("").map(t=>{const n=t.replace(/\$/g,KT).replace(/\?/g,WT).replace(/!/g,"");return n[0].toUpperCase()+n.slice(1)})}function ia(e){return" "+e.split(",")[0].split("").map(t=>{const n=t.replace(/\$/g,KT).replace(/\?/g,WT).replace(/!/g,"");return n[0].toUpperCase()+n.slice(1)}).join("")}function r2({children:e}){return f.jsx("kbd",{className:"tlui-kbd",children:Cae(e).map((t,n)=>f.jsx("span",{children:t},n))})}const we=b.forwardRef(function({label:t,icon:n,invertIcon:r,iconLeft:s,smallIcon:o,kbd:a,isChecked:i=!1,type:l,children:c,spinner:d,...h},u){const p=Ze(),y=t?p(t):"";return f.jsxs("button",{ref:u,draggable:!1,type:"button",...h,title:h.title??y,className:me("tlui-button",`tlui-button__${l}`,h.className),children:[s&&f.jsx(Vr,{icon:s,className:"tlui-button__icon-left",small:!0}),c,t&&f.jsxs("span",{className:"tlui-button__label",draggable:!1,children:[y,i&&f.jsx(Vr,{icon:"check"})]}),a&&f.jsx(r2,{children:a}),n&&!d&&f.jsx(Vr,{icon:n,small:!!t||o,invertIcon:r}),d&&f.jsx(kae,{})]})}),_ae=tE["useId".toString()]||(()=>{});let Eae=0;function Oa(e){const[t,n]=b.useState(_ae());return bc(()=>{e||n(r=>r??String(Eae++))},[e]),e||(t?`radix-${t}`:"")}const o5="focusScope.autoFocusOnMount",a5="focusScope.autoFocusOnUnmount",vk={bubbles:!1,cancelable:!0},jb=b.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...a}=e,[i,l]=b.useState(null),c=kr(s),d=kr(o),h=b.useRef(null),u=Tt(t,g=>l(g)),p=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(r){let S=function(_){if(p.paused||!i)return;const E=_.target;i.contains(E)?h.current=E:Si(h.current,{select:!0})},v=function(_){if(p.paused||!i)return;const E=_.relatedTarget;E!==null&&(i.contains(E)||Si(h.current,{select:!0}))},k=function(_){if(document.activeElement===document.body)for(const I of _)I.removedNodes.length>0&&Si(i)};var g=S,x=v,w=k;document.addEventListener("focusin",S),document.addEventListener("focusout",v);const C=new MutationObserver(k);return i&&C.observe(i,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",S),document.removeEventListener("focusout",v),C.disconnect()}}},[r,i,p.paused]),b.useEffect(()=>{if(i){Ck.add(p);const g=document.activeElement;if(!i.contains(g)){const w=new CustomEvent(o5,vk);i.addEventListener(o5,c),i.dispatchEvent(w),w.defaultPrevented||(Iae(Tae(UT(i)),{select:!0}),document.activeElement===g&&Si(i))}return()=>{i.removeEventListener(o5,c),setTimeout(()=>{const w=new CustomEvent(a5,vk);i.addEventListener(a5,d),i.dispatchEvent(w),w.defaultPrevented||Si(g??document.body,{select:!0}),i.removeEventListener(a5,d),Ck.remove(p)},0)}}},[i,c,d,p]);const y=b.useCallback(g=>{if(!n&&!r||p.paused)return;const x=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,w=document.activeElement;if(x&&w){const S=g.currentTarget,[v,k]=Pae(S);v&&k?!g.shiftKey&&w===k?(g.preventDefault(),n&&Si(v,{select:!0})):g.shiftKey&&w===v&&(g.preventDefault(),n&&Si(k,{select:!0})):w===S&&g.preventDefault()}},[n,r,p.paused]);return b.createElement(Ct.div,se({tabIndex:-1},a,{ref:u,onKeyDown:y}))});function Iae(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Si(r,{select:t}),document.activeElement!==n)return}function Pae(e){const t=UT(e),n=kk(t,e),r=kk(t.reverse(),e);return[n,r]}function UT(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function kk(e,t){for(const n of e)if(!zae(n,{upTo:t}))return n}function zae(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Aae(e){return e instanceof HTMLInputElement&&"select"in e}function Si(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Aae(e)&&t&&e.select()}}const Ck=Nae();function Nae(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=_k(e,t),e.unshift(t)},remove(t){var n;e=_k(e,t),(n=e[0])===null||n===void 0||n.resume()}}}function _k(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function Tae(e){return e.filter(t=>t.tagName!=="A")}let i5=0;function Rb(){b.useEffect(()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=n[0])!==null&&e!==void 0?e:Ek()),document.body.insertAdjacentElement("beforeend",(t=n[1])!==null&&t!==void 0?t:Ek()),i5++,()=>{i5===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),i5--}},[])}function Ek(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var Vo=function(){return Vo=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Vo.apply(this,arguments)};function VT(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function Lae(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var km="right-scroll-bar-position",Cm="width-before-scroll-bar",Mae="with-scroll-bars-hidden",jae="--removed-body-scroll-bar-size";function l5(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Rae(e,t){var n=b.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var $ae=typeof window<"u"?b.useLayoutEffect:b.useEffect,Ik=new WeakMap;function Oae(e,t){var n=Rae(t||null,function(r){return e.forEach(function(s){return l5(s,r)})});return $ae(function(){var r=Ik.get(n);if(r){var s=new Set(r),o=new Set(e),a=n.current;s.forEach(function(i){o.has(i)||l5(i,null)}),o.forEach(function(i){s.has(i)||l5(i,a)})}Ik.set(n,e)},[e]),n}function Dae(e){return e}function qae(e,t){t===void 0&&(t=Dae);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var a=t(o,r);return n.push(a),function(){n=n.filter(function(i){return i!==a})}},assignSyncMedium:function(o){for(r=!0;n.length;){var a=n;n=[],a.forEach(o)}n={push:function(i){return o(i)},filter:function(){return n}}},assignMedium:function(o){r=!0;var a=[];if(n.length){var i=n;n=[],i.forEach(o),a=n}var l=function(){var d=a;a=[],d.forEach(o)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){a.push(d),c()},filter:function(d){return a=a.filter(d),n}}}};return s}function Bae(e){e===void 0&&(e={});var t=qae(null);return t.options=Vo({async:!0,ssr:!1},e),t}var XT=function(e){var t=e.sideCar,n=VT(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return b.createElement(r,Vo({},n))};XT.isSideCarExport=!0;function Fae(e,t){return e.useMedium(t),XT}var YT=Bae(),c5=function(){},s2=b.forwardRef(function(e,t){var n=b.useRef(null),r=b.useState({onScrollCapture:c5,onWheelCapture:c5,onTouchMoveCapture:c5}),s=r[0],o=r[1],a=e.forwardProps,i=e.children,l=e.className,c=e.removeScrollBar,d=e.enabled,h=e.shards,u=e.sideCar,p=e.noIsolation,y=e.inert,g=e.allowPinchZoom,x=e.as,w=x===void 0?"div":x,S=VT(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),v=u,k=Oae([n,t]),C=Vo(Vo({},S),s);return b.createElement(b.Fragment,null,d&&b.createElement(v,{sideCar:YT,removeScrollBar:c,shards:h,noIsolation:p,inert:y,setCallbacks:o,allowPinchZoom:!!g,lockRef:n}),a?b.cloneElement(b.Children.only(i),Vo(Vo({},C),{ref:k})):b.createElement(w,Vo({},C,{className:l,ref:k}),i))});s2.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};s2.classNames={fullWidth:Cm,zeroRight:km};var Pk,Kae=function(){if(Pk)return Pk;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Wae(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Kae();return t&&e.setAttribute("nonce",t),e}function Uae(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Vae(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Xae=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Wae())&&(Uae(t,n),Vae(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Yae=function(){var e=Xae();return function(t,n){b.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},HT=function(){var e=Yae(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},Hae={left:0,top:0,right:0,gap:0},d5=function(e){return parseInt(e||"",10)||0},Gae=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[d5(n),d5(r),d5(s)]},Zae=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Hae;var t=Gae(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Qae=HT(),oh="data-scroll-locked",Jae=function(e,t,n,r){var s=e.left,o=e.top,a=e.right,i=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Mae,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(i,"px ").concat(r,`;
  }
  body[`).concat(oh,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(i,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(i,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(km,` {
    right: `).concat(i,"px ").concat(r,`;
  }
  
  .`).concat(Cm,` {
    margin-right: `).concat(i,"px ").concat(r,`;
  }
  
  .`).concat(km," .").concat(km,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Cm," .").concat(Cm,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(oh,`] {
    `).concat(jae,": ").concat(i,`px;
  }
`)},zk=function(){var e=parseInt(document.body.getAttribute(oh)||"0",10);return isFinite(e)?e:0},eie=function(){b.useEffect(function(){return document.body.setAttribute(oh,(zk()+1).toString()),function(){var e=zk()-1;e<=0?document.body.removeAttribute(oh):document.body.setAttribute(oh,e.toString())}},[])},tie=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;eie();var o=b.useMemo(function(){return Zae(s)},[s]);return b.createElement(Qae,{styles:Jae(o,!t,s,n?"":"!important")})},H3=!1;if(typeof window<"u")try{var a0=Object.defineProperty({},"passive",{get:function(){return H3=!0,!0}});window.addEventListener("test",a0,a0),window.removeEventListener("test",a0,a0)}catch{H3=!1}var ld=H3?{passive:!1}:!1,nie=function(e){return e.tagName==="TEXTAREA"},GT=function(e,t){var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!nie(e)&&n[t]==="visible")},rie=function(e){return GT(e,"overflowY")},sie=function(e){return GT(e,"overflowX")},Ak=function(e,t){var n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=ZT(e,n);if(r){var s=QT(e,n),o=s[1],a=s[2];if(o>a)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},oie=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},aie=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},ZT=function(e,t){return e==="v"?rie(t):sie(t)},QT=function(e,t){return e==="v"?oie(t):aie(t)},iie=function(e,t){return e==="h"&&t==="rtl"?-1:1},lie=function(e,t,n,r,s){var o=iie(e,window.getComputedStyle(t).direction),a=o*r,i=n.target,l=t.contains(i),c=!1,d=a>0,h=0,u=0;do{var p=QT(e,i),y=p[0],g=p[1],x=p[2],w=g-x-o*y;(y||w)&&ZT(e,i)&&(h+=w,u+=y),i=i.parentNode}while(!l&&i!==document.body||l&&(t.contains(i)||t===i));return(d&&(s&&h===0||!s&&a>h)||!d&&(s&&u===0||!s&&-a>u))&&(c=!0),c},i0=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Nk=function(e){return[e.deltaX,e.deltaY]},Tk=function(e){return e&&"current"in e?e.current:e},cie=function(e,t){return e[0]===t[0]&&e[1]===t[1]},die=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},hie=0,cd=[];function uie(e){var t=b.useRef([]),n=b.useRef([0,0]),r=b.useRef(),s=b.useState(hie++)[0],o=b.useState(function(){return HT()})[0],a=b.useRef(e);b.useEffect(function(){a.current=e},[e]),b.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var g=Lae([e.lockRef.current],(e.shards||[]).map(Tk),!0).filter(Boolean);return g.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var i=b.useCallback(function(g,x){if("touches"in g&&g.touches.length===2)return!a.current.allowPinchZoom;var w=i0(g),S=n.current,v="deltaX"in g?g.deltaX:S[0]-w[0],k="deltaY"in g?g.deltaY:S[1]-w[1],C,_=g.target,E=Math.abs(v)>Math.abs(k)?"h":"v";if("touches"in g&&E==="h"&&_.type==="range")return!1;var I=Ak(E,_);if(!I)return!0;if(I?C=E:(C=E==="v"?"h":"v",I=Ak(E,_)),!I)return!1;if(!r.current&&"changedTouches"in g&&(v||k)&&(r.current=C),!C)return!0;var z=r.current||C;return lie(z,x,g,z==="h"?v:k,!0)},[]),l=b.useCallback(function(g){var x=g;if(!(!cd.length||cd[cd.length-1]!==o)){var w="deltaY"in x?Nk(x):i0(x),S=t.current.filter(function(C){return C.name===x.type&&C.target===x.target&&cie(C.delta,w)})[0];if(S&&S.should){x.cancelable&&x.preventDefault();return}if(!S){var v=(a.current.shards||[]).map(Tk).filter(Boolean).filter(function(C){return C.contains(x.target)}),k=v.length>0?i(x,v[0]):!a.current.noIsolation;k&&x.cancelable&&x.preventDefault()}}},[]),c=b.useCallback(function(g,x,w,S){var v={name:g,delta:x,target:w,should:S};t.current.push(v),setTimeout(function(){t.current=t.current.filter(function(k){return k!==v})},1)},[]),d=b.useCallback(function(g){n.current=i0(g),r.current=void 0},[]),h=b.useCallback(function(g){c(g.type,Nk(g),g.target,i(g,e.lockRef.current))},[]),u=b.useCallback(function(g){c(g.type,i0(g),g.target,i(g,e.lockRef.current))},[]);b.useEffect(function(){return cd.push(o),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:u}),document.addEventListener("wheel",l,ld),document.addEventListener("touchmove",l,ld),document.addEventListener("touchstart",d,ld),function(){cd=cd.filter(function(g){return g!==o}),document.removeEventListener("wheel",l,ld),document.removeEventListener("touchmove",l,ld),document.removeEventListener("touchstart",d,ld)}},[]);var p=e.removeScrollBar,y=e.inert;return b.createElement(b.Fragment,null,y?b.createElement(o,{styles:die(s)}):null,p?b.createElement(tie,{gapMode:"margin"}):null)}const pie=Fae(YT,uie);var JT=b.forwardRef(function(e,t){return b.createElement(s2,Vo({},e,{ref:t,sideCar:pie}))});JT.classNames=s2.classNames;const $b=JT;var fie=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},dd=new WeakMap,l0=new WeakMap,c0={},h5=0,eL=function(e){return e&&(e.host||eL(e.parentNode))},gie=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=eL(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},mie=function(e,t,n,r){var s=gie(t,Array.isArray(e)?e:[e]);c0[n]||(c0[n]=new WeakMap);var o=c0[n],a=[],i=new Set,l=new Set(s),c=function(h){!h||i.has(h)||(i.add(h),c(h.parentNode))};s.forEach(c);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(u){if(i.has(u))d(u);else try{var p=u.getAttribute(r),y=p!==null&&p!=="false",g=(dd.get(u)||0)+1,x=(o.get(u)||0)+1;dd.set(u,g),o.set(u,x),a.push(u),g===1&&y&&l0.set(u,!0),x===1&&u.setAttribute(n,"true"),y||u.setAttribute(r,"true")}catch(w){console.error("aria-hidden: cannot operate on ",u,w)}})};return d(t),i.clear(),h5++,function(){a.forEach(function(h){var u=dd.get(h)-1,p=o.get(h)-1;dd.set(h,u),o.set(h,p),u||(l0.has(h)||h.removeAttribute(r),l0.delete(h)),p||h.removeAttribute(n)}),h5--,h5||(dd=new WeakMap,dd=new WeakMap,l0=new WeakMap,c0={})}},Ob=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=t||fie(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),mie(r,s,n,"aria-hidden")):function(){return null}};const tL="Dialog",[nL,_3e]=ga(tL),[yie,ni]=nL(tL),xie=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:a=!0}=e,i=b.useRef(null),l=b.useRef(null),[c=!1,d]=ul({prop:r,defaultProp:s,onChange:o});return b.createElement(yie,{scope:t,triggerRef:i,contentRef:l,contentId:Oa(),titleId:Oa(),descriptionId:Oa(),open:c,onOpenChange:d,onOpenToggle:b.useCallback(()=>d(h=>!h),[d]),modal:a},n)},rL="DialogPortal",[wie,sL]=nL(rL,{forceMount:void 0}),Sie=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,o=ni(rL,t);return b.createElement(wie,{scope:t,forceMount:n},b.Children.map(r,a=>b.createElement(Po,{present:n||o.open},b.createElement(e2,{asChild:!0,container:s},a))))},G3="DialogOverlay",bie=b.forwardRef((e,t)=>{const n=sL(G3,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=ni(G3,e.__scopeDialog);return o.modal?b.createElement(Po,{present:r||o.open},b.createElement(vie,se({},s,{ref:t}))):null}),vie=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=ni(G3,n);return b.createElement($b,{as:Sc,allowPinchZoom:!0,shards:[s.contentRef]},b.createElement(Ct.div,se({"data-state":aL(s.open)},r,{ref:t,style:{pointerEvents:"auto",...r.style}})))}),rf="DialogContent",kie=b.forwardRef((e,t)=>{const n=sL(rf,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=ni(rf,e.__scopeDialog);return b.createElement(Po,{present:r||o.open},o.modal?b.createElement(Cie,se({},s,{ref:t})):b.createElement(_ie,se({},s,{ref:t})))}),Cie=b.forwardRef((e,t)=>{const n=ni(rf,e.__scopeDialog),r=b.useRef(null),s=Tt(t,n.contentRef,r);return b.useEffect(()=>{const o=r.current;if(o)return Ob(o)},[]),b.createElement(oL,se({},e,{ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ye(e.onCloseAutoFocus,o=>{var a;o.preventDefault(),(a=n.triggerRef.current)===null||a===void 0||a.focus()}),onPointerDownOutside:ye(e.onPointerDownOutside,o=>{const a=o.detail.originalEvent,i=a.button===0&&a.ctrlKey===!0;(a.button===2||i)&&o.preventDefault()}),onFocusOutside:ye(e.onFocusOutside,o=>o.preventDefault())}))}),_ie=b.forwardRef((e,t)=>{const n=ni(rf,e.__scopeDialog),r=b.useRef(!1),s=b.useRef(!1);return b.createElement(oL,se({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var a;if((a=e.onCloseAutoFocus)===null||a===void 0||a.call(e,o),!o.defaultPrevented){var i;r.current||(i=n.triggerRef.current)===null||i===void 0||i.focus(),o.preventDefault()}r.current=!1,s.current=!1},onInteractOutside:o=>{var a,i;(a=e.onInteractOutside)===null||a===void 0||a.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=o.target;((i=n.triggerRef.current)===null||i===void 0?void 0:i.contains(l))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}}))}),oL=b.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...a}=e,i=ni(rf,n),l=b.useRef(null),c=Tt(t,l);return Rb(),b.createElement(b.Fragment,null,b.createElement(jb,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o},b.createElement(J1,se({role:"dialog",id:i.contentId,"aria-describedby":i.descriptionId,"aria-labelledby":i.titleId,"data-state":aL(i.open)},a,{ref:c,onDismiss:()=>i.onOpenChange(!1)}))),!1)}),Eie="DialogTitle",Iie=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=ni(Eie,n);return b.createElement(Ct.h2,se({id:s.titleId},r,{ref:t}))}),Pie="DialogClose",zie=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=ni(Pie,n);return b.createElement(Ct.button,se({type:"button"},r,{ref:t,onClick:ye(e.onClick,()=>s.onOpenChange(!1))}))});function aL(e){return e?"open":"closed"}const Aie=xie,Nie=Sie,Tie=bie,Lie=kie;function o2({className:e,children:t}){return f.jsx("div",{className:me("tlui-dialog__header",e),children:t})}function a2({className:e,children:t}){return f.jsx(Iie,{dir:"ltr",className:me("tlui-dialog__header__title",e),children:t})}function i2(){return f.jsx("div",{className:"tlui-dialog__header__close",children:f.jsx(zie,{"data-testid":"dialog.close",dir:"ltr",asChild:!0,children:f.jsx(we,{type:"icon","aria-label":"Close",onTouchEnd:e=>e.target.click(),children:f.jsx(Vr,{small:!0,icon:"cross-2"})})})})}function sf({className:e,children:t,style:n}){return f.jsx("div",{className:me("tlui-dialog__body",e),style:n,children:t})}function Db({className:e,children:t}){return f.jsx("div",{className:me("tlui-dialog__footer",e),children:t})}const qb=b.forwardRef(function({className:t,label:n,icon:r,iconLeft:s,autoselect:o=!1,autofocus:a=!1,defaultValue:i,placeholder:l,onComplete:c,onValueChange:d,onCancel:h,onBlur:u,shouldManuallyMaintainScrollPositionWhenFocused:p=!1,children:y,value:g},x){const w=H(),S=b.useRef(null);b.useImperativeHandle(x,()=>S.current);const v=Ze(),k=b.useRef(i??""),C=b.useRef(i??""),[_,E]=b.useState(!1),I=b.useCallback(j=>{E(!0);const R=j.currentTarget;C.current=R.value,requestAnimationFrame(()=>{o&&R.select()})},[o]),z=b.useCallback(j=>{const R=j.currentTarget.value;C.current=R,d==null||d(R)},[d]),A=b.useCallback(j=>{switch(j.key){case"Enter":{j.currentTarget.blur(),hn(j),c==null||c(j.currentTarget.value);break}case"Escape":{j.currentTarget.value=k.current,j.currentTarget.blur(),hn(j),h==null||h(j.currentTarget.value);break}}},[c,h]),T=b.useCallback(j=>{E(!1);const R=j.currentTarget.value;u==null||u(R)},[u]);return b.useEffect(()=>{if(!w.environment.isIos)return;const j=window.visualViewport;if(_&&p&&j){const R=()=>{var M;(M=S.current)==null||M.scrollIntoView({block:"center"})};return j.addEventListener("resize",R),j.addEventListener("scroll",R),requestAnimationFrame(()=>{var M;(M=S.current)==null||M.scrollIntoView({block:"center"})}),()=>{j.removeEventListener("resize",R),j.removeEventListener("scroll",R)}}},[w,_,p]),f.jsxs("div",{draggable:!1,className:"tlui-input__wrapper",children:[y,n&&f.jsx("label",{children:v(n)}),s&&f.jsx(Vr,{icon:s,className:"tlui-icon-left",small:!0}),f.jsx("input",{ref:S,className:me("tlui-input",t),type:"text",defaultValue:i,onKeyUp:A,onChange:z,onFocus:I,onBlur:T,autoFocus:a,placeholder:l,value:g}),r&&f.jsx(Vr,{icon:r,small:!!n})]})});function Lk(e){return vw(e)?{isValid:!0,hasProtocol:!0}:vw("https://"+e)?{isValid:!0,hasProtocol:!1}:{isValid:!1,hasProtocol:!1}}const Mie=et(function({onClose:t}){const r=H().getOnlySelectedShape();return r&&"url"in r.props&&typeof r.props.url=="string"?f.jsx(jie,{onClose:t,selectedShape:r}):null}),jie=et(function({onClose:t,selectedShape:n}){const r=H(),s=Ze(),o=b.useRef(null);b.useEffect(()=>{requestAnimationFrame(()=>{var y;return(y=o.current)==null?void 0:y.focus()})},[]);const a=b.useRef(n.props.url),[i,l]=b.useState(()=>{const y=Lk(n.props.url),g=y.isValid===!0?y.hasProtocol?n.props.url:"https://"+n.props.url:"https://";return{actual:g,safe:g,valid:!0}}),c=b.useCallback(y=>{const g=y.replace(/https?:\/\/(https?:\/\/)/,(S,v)=>v),x=Lk(g),w=x.isValid===!0?x.hasProtocol?g:"https://"+g:"https://";l({actual:g,safe:w,valid:x.isValid})},[]),d=b.useCallback(()=>{const y=r.getOnlySelectedShape();y&&(r.updateShapes([{id:y.id,type:y.type,props:{url:""}}]),t())},[r,t]),h=b.useCallback(()=>{const y=r.getOnlySelectedShape();y&&(y&&"url"in y.props&&y.props.url!==i.safe&&r.updateShapes([{id:y.id,type:y.type,props:{url:i.safe}}]),t())},[r,t,i]),u=b.useCallback(()=>{t()},[t]);if(!n)return t(),null;const p=a.current&&!i.valid;return f.jsxs(f.Fragment,{children:[f.jsxs(o2,{children:[f.jsx(a2,{children:s("edit-link-dialog.title")}),f.jsx(i2,{})]}),f.jsx(sf,{children:f.jsxs("div",{className:"tlui-edit-link-dialog",children:[f.jsx(qb,{ref:o,className:"tlui-edit-link-dialog__input",label:"edit-link-dialog.url",autofocus:!0,value:i.actual,onValueChange:c,onComplete:h,onCancel:u}),f.jsx("div",{children:i.valid?s("edit-link-dialog.detail"):s("edit-link-dialog.invalid-url")})]})}),f.jsxs(Db,{className:"tlui-dialog__footer__actions",children:[f.jsx(we,{type:"normal",onClick:u,onTouchEnd:u,children:s("edit-link-dialog.cancel")}),p?f.jsx(we,{type:"danger",onTouchEnd:d,onClick:d,children:s("edit-link-dialog.clear")}):f.jsx(we,{type:"primary",disabled:!i.valid,onTouchEnd:h,onClick:h,children:s("edit-link-dialog.save")})]})]})}),iL=et(function({onClose:t}){const n=H(),r=Ze(),s=Mb(),[o,a]=b.useState(null),[i,l]=b.useState(""),[c,d]=b.useState(null),[h,u]=b.useState(!1),p=b.useRef(-1);return f.jsxs(f.Fragment,{children:[f.jsxs(o2,{children:[f.jsx(a2,{children:o?`${r("embed-dialog.title")}  ${o.title}`:r("embed-dialog.title")}),f.jsx(i2,{})]}),o?f.jsxs(f.Fragment,{children:[f.jsxs(sf,{className:"tlui-embed-dialog__enter",children:[f.jsx(qb,{className:"tlui-embed-dialog__input",label:"embed-dialog.url",placeholder:"http://example.com",autofocus:!0,onValueChange:y=>{l(y);const g=Na(y);d(g&&g.definition.type===o.type?g:null),u(!1),clearTimeout(p.current),p.current=setTimeout(()=>u(!g),320)}}),i===""?f.jsxs("div",{className:"tlui-embed-dialog__instruction",children:[f.jsx("span",{children:r("embed-dialog.instruction")})," ",o.instructionLink&&f.jsxs("a",{target:"_blank",rel:"noopener noreferrer",href:o.instructionLink,className:"tlui-embed-dialog__instruction__link",children:["Learn more.",f.jsx(Vr,{icon:"external-link",small:!0})]})]}):f.jsx("div",{className:"tlui-embed-dialog__warning",children:h?r("embed-dialog.invalid-url"):""})]}),f.jsxs(Db,{className:"tlui-dialog__footer__actions",children:[f.jsx(we,{type:"normal",onClick:()=>{a(null),d(null),l("")},label:"embed-dialog.back"}),f.jsx("div",{className:"tlui-embed__spacer"}),f.jsx(we,{type:"normal",label:"embed-dialog.cancel",onClick:t}),f.jsx(we,{type:"primary",disabled:!c,label:"embed-dialog.create",onClick:()=>{c&&(n.putExternalContent({type:"embed",url:i,point:n.getViewportPageCenter(),embed:c.definition}),t())}})]})]}):f.jsx(f.Fragment,{children:f.jsx(sf,{className:"tlui-embed-dialog__list",children:ph.map(y=>f.jsx(we,{type:"menu",onClick:()=>a(y),label:y.title,children:f.jsx("div",{className:"tlui-embed-dialog__item__image",style:{backgroundImage:`url(${s.embedIcons[y.type]})`}})},y.type))})})]})});var Bb={exports:{}};Bb.exports;(function(e){var t=function(){var n=String.fromCharCode,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",o={};function a(l,c){if(!o[l]){o[l]={};for(var d=0;d<l.length;d++)o[l][l.charAt(d)]=d}return o[l][c]}var i={compressToBase64:function(l){if(l==null)return"";var c=i._compress(l,6,function(d){return r.charAt(d)});switch(c.length%4){default:case 0:return c;case 1:return c+"===";case 2:return c+"==";case 3:return c+"="}},decompressFromBase64:function(l){return l==null?"":l==""?null:i._decompress(l.length,32,function(c){return a(r,l.charAt(c))})},compressToUTF16:function(l){return l==null?"":i._compress(l,15,function(c){return n(c+32)})+" "},decompressFromUTF16:function(l){return l==null?"":l==""?null:i._decompress(l.length,16384,function(c){return l.charCodeAt(c)-32})},compressToUint8Array:function(l){for(var c=i.compress(l),d=new Uint8Array(c.length*2),h=0,u=c.length;h<u;h++){var p=c.charCodeAt(h);d[h*2]=p>>>8,d[h*2+1]=p%256}return d},decompressFromUint8Array:function(l){if(l==null)return i.decompress(l);for(var c=new Array(l.length/2),d=0,h=c.length;d<h;d++)c[d]=l[d*2]*256+l[d*2+1];var u=[];return c.forEach(function(p){u.push(n(p))}),i.decompress(u.join(""))},compressToEncodedURIComponent:function(l){return l==null?"":i._compress(l,6,function(c){return s.charAt(c)})},decompressFromEncodedURIComponent:function(l){return l==null?"":l==""?null:(l=l.replace(/ /g,"+"),i._decompress(l.length,32,function(c){return a(s,l.charAt(c))}))},compress:function(l){return i._compress(l,16,function(c){return n(c)})},_compress:function(l,c,d){if(l==null)return"";var h,u,p={},y={},g="",x="",w="",S=2,v=3,k=2,C=[],_=0,E=0,I;for(I=0;I<l.length;I+=1)if(g=l.charAt(I),Object.prototype.hasOwnProperty.call(p,g)||(p[g]=v++,y[g]=!0),x=w+g,Object.prototype.hasOwnProperty.call(p,x))w=x;else{if(Object.prototype.hasOwnProperty.call(y,w)){if(w.charCodeAt(0)<256){for(h=0;h<k;h++)_=_<<1,E==c-1?(E=0,C.push(d(_)),_=0):E++;for(u=w.charCodeAt(0),h=0;h<8;h++)_=_<<1|u&1,E==c-1?(E=0,C.push(d(_)),_=0):E++,u=u>>1}else{for(u=1,h=0;h<k;h++)_=_<<1|u,E==c-1?(E=0,C.push(d(_)),_=0):E++,u=0;for(u=w.charCodeAt(0),h=0;h<16;h++)_=_<<1|u&1,E==c-1?(E=0,C.push(d(_)),_=0):E++,u=u>>1}S--,S==0&&(S=Math.pow(2,k),k++),delete y[w]}else for(u=p[w],h=0;h<k;h++)_=_<<1|u&1,E==c-1?(E=0,C.push(d(_)),_=0):E++,u=u>>1;S--,S==0&&(S=Math.pow(2,k),k++),p[x]=v++,w=String(g)}if(w!==""){if(Object.prototype.hasOwnProperty.call(y,w)){if(w.charCodeAt(0)<256){for(h=0;h<k;h++)_=_<<1,E==c-1?(E=0,C.push(d(_)),_=0):E++;for(u=w.charCodeAt(0),h=0;h<8;h++)_=_<<1|u&1,E==c-1?(E=0,C.push(d(_)),_=0):E++,u=u>>1}else{for(u=1,h=0;h<k;h++)_=_<<1|u,E==c-1?(E=0,C.push(d(_)),_=0):E++,u=0;for(u=w.charCodeAt(0),h=0;h<16;h++)_=_<<1|u&1,E==c-1?(E=0,C.push(d(_)),_=0):E++,u=u>>1}S--,S==0&&(S=Math.pow(2,k),k++),delete y[w]}else for(u=p[w],h=0;h<k;h++)_=_<<1|u&1,E==c-1?(E=0,C.push(d(_)),_=0):E++,u=u>>1;S--,S==0&&(S=Math.pow(2,k),k++)}for(u=2,h=0;h<k;h++)_=_<<1|u&1,E==c-1?(E=0,C.push(d(_)),_=0):E++,u=u>>1;for(;;)if(_=_<<1,E==c-1){C.push(d(_));break}else E++;return C.join("")},decompress:function(l){return l==null?"":l==""?null:i._decompress(l.length,32768,function(c){return l.charCodeAt(c)})},_decompress:function(l,c,d){var h=[],u=4,p=4,y=3,g="",x=[],w,S,v,k,C,_,E,I={val:d(0),position:c,index:1};for(w=0;w<3;w+=1)h[w]=w;for(v=0,C=Math.pow(2,2),_=1;_!=C;)k=I.val&I.position,I.position>>=1,I.position==0&&(I.position=c,I.val=d(I.index++)),v|=(k>0?1:0)*_,_<<=1;switch(v){case 0:for(v=0,C=Math.pow(2,8),_=1;_!=C;)k=I.val&I.position,I.position>>=1,I.position==0&&(I.position=c,I.val=d(I.index++)),v|=(k>0?1:0)*_,_<<=1;E=n(v);break;case 1:for(v=0,C=Math.pow(2,16),_=1;_!=C;)k=I.val&I.position,I.position>>=1,I.position==0&&(I.position=c,I.val=d(I.index++)),v|=(k>0?1:0)*_,_<<=1;E=n(v);break;case 2:return""}for(h[3]=E,S=E,x.push(E);;){if(I.index>l)return"";for(v=0,C=Math.pow(2,y),_=1;_!=C;)k=I.val&I.position,I.position>>=1,I.position==0&&(I.position=c,I.val=d(I.index++)),v|=(k>0?1:0)*_,_<<=1;switch(E=v){case 0:for(v=0,C=Math.pow(2,8),_=1;_!=C;)k=I.val&I.position,I.position>>=1,I.position==0&&(I.position=c,I.val=d(I.index++)),v|=(k>0?1:0)*_,_<<=1;h[p++]=n(v),E=p-1,u--;break;case 1:for(v=0,C=Math.pow(2,16),_=1;_!=C;)k=I.val&I.position,I.position>>=1,I.position==0&&(I.position=c,I.val=d(I.index++)),v|=(k>0?1:0)*_,_<<=1;h[p++]=n(v),E=p-1,u--;break;case 2:return x.join("")}if(u==0&&(u=Math.pow(2,y),y++),h[E])g=h[E];else if(E===p)g=S+S.charAt(0);else return null;x.push(g),h[p++]=S+g.charAt(0),u--,S=g,u==0&&(u=Math.pow(2,y),y++)}}};return i}();e!=null?e.exports=t:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return t})})(Bb);var lL=Bb.exports;async function Rie(e,t,n){var w,S,v;const{elements:r,files:s}=t,o={shapes:[],rootShapeIds:[],assets:[],schema:e.store.schema.serialize()},a=new Map,i=new Map,l=e.getCurrentPageId(),c=new Map,d=[],h=new Set;r.forEach(k=>{if(c.set(k.id,gt()),k.boundElements!==null)for(const C of k.boundElements)C.type==="text"&&h.add(C.id)});let u="a1";for(const k of r){if(h.has(k.id))continue;const C=c.get(k.id),_={id:C,typeName:"shape",parentId:l,index:u,x:k.x,y:k.y,rotation:0,isLocked:k.locked,opacity:$ie(k.opacity),meta:{}};switch(k.angle!==0&&i.set(C,k.angle),k.groupIds&&k.groupIds.length>0?a.has(k.groupIds[0])?(w=a.get(k.groupIds[0]))==null||w.push(C):a.set(k.groupIds[0],[C]):d.push(C),k.type){case"rectangle":case"ellipse":case"diamond":{let E="",I="middle";if(k.boundElements!==null){for(const A of k.boundElements)if(A.type==="text"){const T=r.find(j=>j.id===A.id);T&&(E=T.text,I=Mk[T.textAlign])}}const z=k.backgroundColor==="transparent"?k.strokeColor:k.backgroundColor;o.shapes.push({..._,type:"geo",props:{geo:k.type,url:k.link??"",w:k.width,h:k.height,size:d0[k.strokeWidth]??"draw",color:ku[z]??"black",text:E,align:I,dash:h0(k),fill:Wie(k)}});break}case"freedraw":{o.shapes.push({..._,type:"draw",props:{dash:h0(k),size:d0[k.strokeWidth],color:ku[k.strokeColor]??"black",segments:[{type:"free",points:k.points.map(([E,I,z=.5])=>({x:E,y:I,z}))}]}});break}case"line":{const E=k.points[0],I=k.points[k.points.length-1],z=cP(k.points.length);o.shapes.push({..._,type:"line",props:{dash:h0(k),size:d0[k.strokeWidth],color:ku[k.strokeColor]??"black",spline:k.roundness?"cubic":"line",handles:{start:{id:"start",type:"vertex",index:z[0],x:E[0],y:E[1]},end:{id:"end",type:"vertex",index:z[z.length-1],x:I[0],y:I[1]},...Object.fromEntries(k.points.slice(1,-1).map(([A,T],j)=>{const R=bt();return[R,{id:R,type:"vertex",index:z[j+1],x:A,y:T}]}))}}});break}case"arrow":{let E="";if(k.boundElements!==null){for(const j of k.boundElements)if(j.type==="text"){const R=r.find(M=>M.id===j.id);R&&(E=R.text)}}const I=k.points[0],z=k.points[k.points.length-1],A=c.get((S=k.startBinding)==null?void 0:S.elementId),T=c.get((v=k.endBinding)==null?void 0:v.elementId);o.shapes.push({..._,type:"arrow",props:{text:E,bend:Kie(k,I,z),dash:h0(k),size:d0[k.strokeWidth]??"m",color:ku[k.strokeColor]??"black",start:A?{type:"binding",boundShapeId:A,normalizedAnchor:{x:.5,y:.5},isPrecise:!1,isExact:!1}:{type:"point",x:I[0],y:I[1]},end:T?{type:"binding",boundShapeId:T,normalizedAnchor:{x:.5,y:.5},isPrecise:!1,isExact:!1}:{type:"point",x:z[0],y:z[1]},arrowheadEnd:jk[k.endArrowhead]??"none",arrowheadStart:jk[k.startArrowhead]??"none"}});break}case"text":{const{size:E,scale:I}=Die(k.fontSize);o.shapes.push({..._,type:"text",props:{size:E,scale:I,font:qie[k.fontFamily]??"draw",color:ku[k.strokeColor]??"black",text:k.text,align:Mk[k.textAlign]}});break}case"image":{const E=s[k.fileId];if(!E)break;const I=Ul.createId();o.assets.push({id:I,typeName:"asset",type:"image",props:{w:k.width,h:k.height,name:k.id??"Untitled",isAnimated:!1,mimeType:E.mimeType,src:E.dataURL},meta:{}}),o.shapes.push({..._,type:"image",props:{w:k.width,h:k.height,assetId:I}})}}u=Ea(u)}const p=n??(e.inputs.shiftKey?e.inputs.currentPagePoint:void 0);e.mark("paste"),e.putContentOntoCurrentPage(o,{point:p,select:!1,preserveIds:!0});for(const k of a.values())if(k.length>1){e.groupShapes(k);const C=e.getShape(k[0]);C!=null&&C.parentId&&js(C.parentId)&&d.push(C.parentId)}for(const[k,C]of i)e.select(k),e.rotateShapesBy([k],C);const y=ze(d.map(k=>e.getShape(k))),g=xe.Common(y.map(k=>e.getShapePageBounds(k))),x=e.getViewportPageBounds().center;e.updateShapes(y.map(k=>{const C={x:(k.x??0)-(g.x+g.w/2),y:(k.y??0)-(g.y+g.h/2)};return{id:k.id,type:k.type,x:x.x+C.x,y:x.y+C.y}})),e.setSelectedShapes(d)}const $ie=e=>{const t=e/100;return t<.2?.1:t<.4?.25:t<.6?.5:t<.8?.75:1},d0={1:"s",2:"m",3:"l",4:"xl"},Oie={16:"s",20:"m",28:"l",36:"xl"};function Die(e){const t=Oie[e];return t?{size:t,scale:1}:e<16?{size:"s",scale:e/16}:e>36?{size:"xl",scale:e/36}:{size:"m",scale:1}}const qie={1:"draw",2:"sans",3:"mono"},ku={"#ffffff":"grey","#000000":"black","#343a40":"black","#495057":"grey","#c92a2a":"red","#a61e4d":"light-red","#862e9c":"violet","#5f3dc4":"light-violet","#364fc7":"blue","#1864ab":"light-blue","#0b7285":"light-green","#087f5b":"light-green","#2b8a3e":"green","#5c940d":"light-green","#e67700":"yellow","#d9480f":"orange","#ced4da":"grey","#868e96":"grey","#fa5252":"light-red","#e64980":"red","#be4bdb":"light-violet","#7950f2":"violet","#4c6ef5":"blue","#228be6":"light-blue","#15aabf":"light-green","#12b886":"green","#40c057":"green","#82c91e":"light-green","#fab005":"yellow","#fd7e14":"orange","#212529":"grey"},Bie={solid:"draw",dashed:"dashed",dotted:"dotted"},Fie={"cross-hatch":"pattern",hachure:"pattern",solid:"solid"},Mk={left:"start",center:"middle",right:"end"},jk={arrow:"arrow",dot:"dot",triangle:"triangle",bar:"pipe"};function Kie(e,t,n){let r=0;if(e.points.length>2){const s=new P(t[0],t[1]),o=new P(n[0],n[1]),a=new P(e.points[1][0],e.points[1][1]),i=P.Sub(o,s),l=P.Per(i),c=P.Med(o,s),d=P.Sub(c,l),h=P.Add(c,l),u=P.NearestPointOnLineSegment(d,h,a,!1);r=P.Dist(u,c),P.Clockwise(u,o,c)&&(r*=-1)}return r}const h0=e=>{let t=Bie[e.strokeStyle]??"draw";return t==="draw"&&e.roughness===0&&(t="solid"),t},Wie=e=>e.backgroundColor==="transparent"?"none":Fie[e.fillStyle]??"solid";async function cL(e,t,n,r){const o=(await Promise.all(t.map(async a=>await(await fetch(a)).blob()))).map(a=>new File([a],"tldrawFile",{type:a.type}));e.mark("paste"),await e.putExternalContent({type:"files",files:o,point:n,ignoreParent:!1,sources:r}),t.forEach(a=>URL.revokeObjectURL(a))}function Uie(e,t,n){const r=n??(e.inputs.shiftKey?e.inputs.currentPagePoint:void 0);e.mark("paste"),e.putContentOntoCurrentPage(t,{point:r,select:!0})}async function Z3(e,t,n,r){var s;try{if(new URL(t).pathname.match(/\.(png|jpe?g|gif|svg|webp)$/i)&&(s=(await fetch(t,{method:"HEAD"})).headers.get("content-type"))!=null&&s.match(/^image\//)){e.mark("paste"),cL(e,[t]);return}}catch(o){o.message!=="Failed to fetch"&&console.error(o)}return e.mark("paste"),await e.putExternalContent({type:"url",point:n,url:t,sources:r})}const dL=()=>{},hL=b.createContext({});function Vie({onEvent:e,children:t}){return f.jsx(hL.Provider,{value:e??dL,children:t})}function Fh(){return b.useContext(hL)??dL}function Xie(e){const t=document.implementation.createHTMLDocument("");return t.documentElement.innerHTML=e.trim(),t.body.textContent||t.body.innerText||""}const Yie=e=>{try{const t=new URL(e);return t.protocol==="http:"||t.protocol==="https:"}catch{return!1}},Hie=e=>{const t=e.split(/[\n\s]/);for(const n of t)try{const r=new URL(n);if(!(r.protocol==="http:"||r.protocol==="https:"))return}catch{return}return KI(t)},Gie=e=>/^<svg/.test(e),Zie=["input","select","textarea"];function _m(e){const{activeElement:t}=document;return e.getIsMenuOpen()||t&&(t.getAttribute("contenteditable")||Zie.indexOf(t.tagName.toLowerCase())>-1)}async function u5(e){return new Promise((t,n)=>{const r=new FileReader;r.addEventListener("loadend",()=>{const s=r.result;t(s)}),r.addEventListener("error",()=>{n(r.error)}),r.readAsText(e)})}const Qie=e=>e.types.find(t=>t.match(/^image\//)),p5=(e,t,n,r)=>{const s=Hie(t);if(s)for(const o of s)Z3(e,o,n);else Yie(t)?Z3(e,t,n):Gie(t)?(e.mark("paste"),e.putExternalContent({type:"svg-text",text:t,point:n,sources:r})):(e.mark("paste"),e.putExternalContent({type:"text",text:t,point:n,sources:r}))},Jie=async(e,t,n)=>{if(e.getEditingShapeId()!==null)return;if(!t)throw Error("No clipboard data");const r=[];for(const s of Object.values(t.items))switch(s.kind){case"file":{r.push({type:"file",source:new Promise(o=>o(s.getAsFile()))});break}case"string":{s.type==="text/html"?r.push({type:"html",source:new Promise(o=>s.getAsString(o))}):s.type==="text/plain"?r.push({type:"text",source:new Promise(o=>s.getAsString(o))}):r.push({type:s.type,source:new Promise(o=>s.getAsString(o))});break}}pL(e,r,n)},uL=async(e,t,n)=>{const r=[];for(const s of t){if(Qie(s))for(const o of s.types)o.match(/^image\//)&&r.push({type:"blob",source:s.getType(o)});s.types.includes("text/html")&&r.push({type:"html",source:new Promise(o=>s.getType("text/html").then(a=>u5(a).then(o)))}),s.types.includes("text/uri-list")&&r.push({type:"url",source:new Promise(o=>s.getType("text/uri-list").then(a=>u5(a).then(o)))}),s.types.includes("text/plain")&&r.push({type:"text",source:new Promise(o=>s.getType("text/plain").then(a=>u5(a).then(o)))})}return await pL(e,r,n)};async function pL(e,t,n){const r=t.filter(o=>(o.type==="file"||o.type==="blob")&&o.source!==null);if(r.length){const a=(await Promise.all(r.map(i=>i.source))).filter(Boolean).map(i=>URL.createObjectURL(i));return await cL(e,a,n)}const s=await Promise.all(t.filter(o=>o.type!=="file").map(o=>new Promise(a=>{const i=o;if(i.type==="file"){a({type:"error",data:null,reason:"unexpected file"});return}i.source.then(l=>{var d;const c=(d=l.match(/<tldraw[^>]*>(.*)<\/tldraw>/))==null?void 0:d[1];if(c)try{const h=lL.decompressFromBase64(c);if(h===null){a({type:"error",data:h,reason:"found tldraw data comment but could not parse base64"});return}else{const u=JSON.parse(h);if(u.type!=="application/tldraw"&&a({type:"error",data:u,reason:`found tldraw data comment but JSON was of a different type: ${u.type}`}),typeof u.data=="string"){a({type:"error",data:u,reason:"found tldraw json but data was a string instead of a TLClipboardModel object"});return}a({type:"tldraw",data:u.data});return}}catch{a({type:"error",data:c,reason:"found tldraw json but data was a string instead of a TLClipboardModel object"});return}else{if(i.type==="html"){a({type:"text",data:l,subtype:"html"});return}if(i.type==="url"){a({type:"text",data:l,subtype:"url"});return}try{const h=JSON.parse(l);if(h.type==="excalidraw/clipboard"){a({type:"excalidraw",data:h});return}else{a({type:"text",data:l,subtype:"json"});return}}catch{a({type:"text",data:l,subtype:"text"});return}}a({type:"error",data:l,reason:"unhandled case"})})})));for(const o of s)if(o.type==="tldraw"){Uie(e,o.data,n);return}for(const o of s)if(o.type==="excalidraw"){Rie(e,o.data,n);return}for(const o of s)if(o.type==="text"&&o.subtype==="html"){const i=new DOMParser().parseFromString(o.data,"text/html").querySelector("body");if(i&&Array.from(i.children).filter(c=>c.nodeType===1).length===1&&i.firstElementChild&&i.firstElementChild.tagName==="A"&&i.firstElementChild.hasAttribute("href")&&i.firstElementChild.getAttribute("href")!==""){const c=i.firstElementChild.getAttribute("href");p5(e,c,n,s);return}if(!s.some(c=>c.type==="text"&&c.subtype!=="html")&&o.data.trim()){p5(e,Xie(o.data),n,s);return}}for(const o of s)if(o.type==="text"&&o.subtype==="url"){Z3(e,o.data,n,s);return}for(const o of s)if(o.type==="text"&&o.subtype==="text"&&o.data.trim()){p5(e,o.data,n,s);return}}const Ky=e=>{var r;const t=e.getContentFromCurrentPage(e.getSelectedShapeIds());if(!t){navigator&&navigator.clipboard&&navigator.clipboard.writeText("");return}const n=lL.compressToBase64(JSON.stringify({type:"application/tldraw",kind:"content",data:t}));if(!(typeof navigator>"u")){const s=t.shapes.map(o=>e.isShapeOfType(o,"text")||e.isShapeOfType(o,"geo")||e.isShapeOfType(o,"arrow")?o.props.text:e.isShapeOfType(o,"bookmark")||e.isShapeOfType(o,"embed")?o.props.url:null).filter(kB);if((r=navigator.clipboard)!=null&&r.write){const o=new Blob([`<tldraw>${n}</tldraw>`],{type:"text/html"});let a=s.join(" ");a===""&&(a=" "),navigator.clipboard.write([new ClipboardItem({"text/html":o,"text/plain":new Blob([a],{type:"text/plain"})})])}else navigator.clipboard.writeText&&navigator.clipboard.writeText(`<tldraw>${n}</tldraw>`)}};function ele(){const e=H(),t=Fh(),n=b.useCallback(function(a){e.getSelectedShapeIds().length!==0&&(Ky(e),t("copy",{source:a}))},[e,t]),r=b.useCallback(function(a){e.getSelectedShapeIds().length!==0&&(Ky(e),e.deleteShapes(e.getSelectedShapeIds()),t("cut",{source:a}))},[e,t]),s=b.useCallback(async function(a,i,l){e.getEditingShapeId()!==null||_m(e)||(Array.isArray(a)&&a[0]instanceof ClipboardItem?(uL(e,a,l),t("paste",{source:"menu"})):navigator.clipboard.read().then(c=>{s(c,i,l)}))},[e,t]);return{copy:n,cut:r,paste:s}}function tle(){const e=H(),t=Fh(),n=J("editor.isFocused",()=>e.getInstanceState().isFocused,[e]);b.useEffect(()=>{if(!n)return;const r=()=>{e.getSelectedShapeIds().length===0||e.getEditingShapeId()!==null||_m(e)||(Ky(e),t("copy",{source:"kbd"}))};function s(){e.getSelectedShapeIds().length===0||e.getEditingShapeId()!==null||_m(e)||(Ky(e),e.deleteShapes(e.getSelectedShapeIds()),t("cut",{source:"kbd"}))}let o=!1;const a=l=>{l.button===1&&(o=!0,requestAnimationFrame(()=>{o=!1}))},i=l=>{if(o){l.stopPropagation();return}e.getEditingShapeId()!==null||_m(e)||(l.clipboardData&&!e.inputs.shiftKey?Jie(e,l.clipboardData):navigator.clipboard.read().then(c=>{Array.isArray(c)&&c[0]instanceof ClipboardItem&&uL(e,c,e.inputs.currentPagePoint)}),t("paste",{source:"kbd"}))};return document.addEventListener("copy",r),document.addEventListener("cut",s),document.addEventListener("paste",i),document.addEventListener("pointerup",a),()=>{document.removeEventListener("copy",r),document.removeEventListener("cut",s),document.removeEventListener("paste",i),document.removeEventListener("pointerup",a)}},[e,t,n])}async function fL(e,t,n){const{type:r,quality:s,scale:o}=n,a=+e.getAttribute("width"),i=+e.getAttribute("height");let l=a*o,c=i*o;const d=await gL(e),h=await Az();if(a>h.maxWidth&&(l=h.maxWidth,c=l/a*i),i>h.maxHeight&&(c=h.maxHeight,l=c/i*a),l*c>h.maxArea){const x=Math.sqrt(h.maxArea/(l*c));l*=x,c*=x}l=Math.floor(l),c=Math.floor(c);const u=l/a,p=await new Promise(x=>{const w=new Image;w.crossOrigin="anonymous",w.onload=async()=>{t&&await new Promise(k=>setTimeout(k,250));const S=document.createElement("canvas"),v=S.getContext("2d");S.width=l,S.height=c,v.imageSmoothingEnabled=!0,v.imageSmoothingQuality="high",v.drawImage(w,0,0,l,c),URL.revokeObjectURL(d),x(S)},w.onerror=()=>{x(null)},w.src=d});if(!p)return null;const y=await new Promise(x=>p.toBlob(w=>{(!w||Pt.throwToBlob.get())&&x(null),x(w)},"image/"+r,s));if(!y)return null;const g=new DataView(await y.arrayBuffer());return Wo.setPhysChunk(g,u,{type:"image/"+r})}async function gL(e){const t=e.cloneNode(!0);t.setAttribute("encoding",'UTF-8"');const n=new FileReader,r=Array.from(t.querySelectorAll("image"));for(const a of r){const i=a.getAttribute("xlink:href");if(i&&!i.startsWith("data:")){const l=await(await fetch(i)).blob(),c=await new Promise((d,h)=>{n.onload=()=>d(n.result),n.onerror=()=>h(n.error),n.readAsDataURL(l)});a.setAttribute("xlink:href",c)}}const s=new XMLSerializer().serializeToString(t);return`data:image/svg+xml;base64,${window.btoa(unescape(encodeURIComponent(s)))}`}function mL(e,t,n="svg",r={}){return e.getSvg(t!=null&&t.length?t:[...e.getCurrentPageShapeIds()],{scale:1,background:e.getInstanceState().exportBackground,...r}).then(s=>{if(!s)throw new Error("Could not construct SVG.");switch(n){case"svg":{window.navigator.clipboard&&(window.navigator.clipboard.write?window.navigator.clipboard.write([new ClipboardItem({"text/plain":new Blob([$k(s)],{type:"text/plain"})})]):Rk(async()=>$k(s)));break}case"jpeg":case"png":{const o=fL(s,e.environment.isSafari,{type:n,quality:1,scale:2}).then(i=>{if(i){if(window.navigator.clipboard)return i;throw new Error("Copy not supported")}else throw new Error("Copy not possible")}),a=n==="jpeg"?"image/jpeg":"image/png";window.navigator.clipboard.write&&window.navigator.clipboard.write([new ClipboardItem({[a]:o})]).catch(i=>{i.toString().match(/^TypeError: DOMString not supported/)||console.error(i),o.then(l=>{window.navigator.clipboard.write([new ClipboardItem({[a]:l})])})});break}case"json":{const o=e.getContentFromCurrentPage(t),a=JSON.stringify(o);window.navigator.clipboard.write?window.navigator.clipboard.write([new ClipboardItem({"text/plain":new Blob([a],{type:"text/plain"})})]):Rk(async()=>a);break}default:throw new Error(`Copy type ${n} not supported.`)}})}async function Rk(e){var t,n;(n=(t=navigator.clipboard)==null?void 0:t.writeText)==null||n.call(t,await e())}function $k(e){const t=e.cloneNode(!0);return e.setAttribute("width",+e.getAttribute("width")+""),e.setAttribute("height",+e.getAttribute("height")+""),new XMLSerializer().serializeToString(t).replaceAll("&#10;      ","").replaceAll(/((\s|")[0-9]*\.[0-9]{2})([0-9]*)(\b|"|\))/g,"$1")}const yL=b.createContext({});function nle({children:e}){const[t,n]=b.useState([]),r=b.useCallback(a=>{const i=a.id??bt();return n(l=>[...l.filter(c=>c.id!==a.id),{...a,id:i}]),i},[]),s=b.useCallback(a=>(n(i=>i.filter(l=>l.id!==a)),a),[]),o=b.useCallback(()=>{n(()=>[])},[]);return f.jsx(yL.Provider,{value:{toasts:t,addToast:r,removeToast:s,clearToasts:o},children:e})}function ma(){const e=b.useContext(yL);if(!e)throw new Error("useToasts must be used within a ToastsProvider");return e}function rle(){const e=H(),{addToast:t}=ma(),n=Ze();return b.useCallback((r,s="svg")=>{mL(e,r,s).catch(()=>{t({id:"copy-fail",icon:"warning-triangle",title:n("toast.error.copy-fail.title"),description:n("toast.error.copy-fail.desc")})})},[e,t,n])}const xL=b.createContext({});function sle({children:e}){const t=H(),n=Fh(),[r,s]=b.useState([]),o=b.useCallback(c=>{const d=c.id??bt();return s(h=>[...h.filter(u=>u.id!==c.id),{...c,id:d}]),n("open-menu",{source:"dialog",id:d}),t.addOpenMenu(d),d},[t,n]),a=b.useCallback((c,d)=>(s(h=>h.map(u=>u.id===c?{...u,...d}:u)),n("open-menu",{source:"dialog",id:c}),t.addOpenMenu(c),c),[t,n]),i=b.useCallback(c=>(s(d=>d.filter(h=>{var u;return h.id===c?((u=h.onClose)==null||u.call(h),!1):!0})),n("close-menu",{source:"dialog",id:c}),t.deleteOpenMenu(c),c),[t,n]),l=b.useCallback(()=>{s(c=>(c.forEach(d=>{var h;(h=d.onClose)==null||h.call(d),n("close-menu",{source:"dialog",id:d.id}),t.deleteOpenMenu(d.id)}),[]))},[t,n]);return f.jsx(xL.Provider,{value:{dialogs:r,addDialog:o,removeDialog:i,clearDialogs:l,updateDialog:a},children:e})}function Rc(){const e=b.useContext(xL);if(!e)throw new Error("useDialogs must be used within a DialogsProvider");return e}function wL(e,t,n="png",r={}){return e.getSvg(t!=null&&t.length?t:[...e.getCurrentPageShapeIds()],r).then(s=>{if(!s)throw new Error("Could not construct SVG.");let o="shapes"+ole();if(t.length===1){const a=e.getShape(t[0]);e.isShapeOfType(a,"frame")?o=a.props.name??"frame":o=a.id.replace(/:/,"_")}switch(n){case"svg":{gL(s).then(a=>f5(a,`${o}.svg`));return}case"webp":case"png":{fL(s,e.environment.isSafari,{type:n,quality:1,scale:2}).then(a=>{if(!a)throw Error();const i=URL.createObjectURL(a);f5(i,`${o}.${n}`),URL.revokeObjectURL(i)});return}case"json":{const a=e.getContentFromCurrentPage(t),i=new Blob([JSON.stringify(a,null,4)],{type:"application/json"}),l=URL.createObjectURL(i);f5(l,`${o||"shapes"}.json`),URL.revokeObjectURL(l);return}default:throw new Error(`Export type ${n} not supported.`)}})}function ole(){const e=new Date,t=String(e.getFullYear()).slice(2),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0"),s=String(e.getHours()).padStart(2,"0"),o=String(e.getMinutes()).padStart(2,"0"),a=String(e.getSeconds()).padStart(2,"0");return` at ${t}-${n}-${r} ${s}.${o}.${a}`}function f5(e,t){const n=document.createElement("a");n.href=e,n.download=t,n.click()}function ale(){const e=H(),{addToast:t}=ma(),n=Ze();return b.useCallback((r,s="png")=>{wL(e,r,s,{scale:1,background:e.getInstanceState().exportBackground}).catch(o=>{console.error(o.message),t({id:"export-fail",title:n("toast.error.export-fail.title"),description:n("toast.error.export-fail.desc")})})},[e,t,n])}function SL(){const e=H(),t=b.useRef();return b.useEffect(()=>{const n=window.document.createElement("input");n.type="file",n.accept="image/jpeg,image/png,image/gif,image/svg+xml,video/mp4,video/quicktime",n.multiple=!0,t.current=n;async function r(s){const o=s.target.files;!o||o.length===0||(await e.putExternalContent({type:"files",files:Array.from(o),point:e.getViewportPageBounds().center,ignoreParent:!1}),n.value="")}return n.addEventListener("change",r),()=>{t.current=void 0,n.removeEventListener("change",r)}},[e]),b.useCallback(()=>{var n;(n=t.current)==null||n.click()},[t])}function ile(){const e=H(),t=b.useRef(null),n=b.useRef(null);return b.useCallback(async function(){const s=document.createElement("div"),o=document.createElement("style"),a=(w,S)=>{w&&(w.innerHTML=""),S&&document.head.contains(S)&&document.head.removeChild(S),w&&document.body.contains(w)&&document.body.removeChild(w)};a(t.current,n.current),t.current=s,n.current=o;const i=`tl-print-surface-${bt()}`;s.className=i,o.innerHTML=`
			.${i} {
				display: none;
			}

			.${i} svg {
				max-width: 100%;
				height: 100%;
				display: block;
			}

			@media print {				  
				html, body {
					min-height: 100%;
					height: 100%;
					margin: 0;
				}

				body {
					position: relative;
				}

				body > * {
					display: none;
				}

				.tldraw__editor {
					display: none;
				}

				.${i} {
					display: block !important;
					background: white;
					min-height: 100%;
					height: 100%;
					max-width: 100%;
				}

				.${i}__item {
					padding: 10mm;
					display: flex;
					min-height: 100%;
					flex-direction: column;
					page-break-after: always;
					position: relative;
					overflow: hidden;
					height: 100%;
				}

				.${i}__item__main {
					flex: 1;
					display: flex;
					align-items: center;
					justify-content: center;
					max-height: 100%;
				}

				.${i}__item__header {
					display: none;
				}

				.${i}__item__footer {
					display: none;
					text-align: right;
				}

				.${i}__item__footer__hide {
					display: none;
				}

				
			}

		`;const l=()=>{document.head.appendChild(o),document.body.appendChild(s)},c=()=>{e.once("change-history",()=>{a(s,o)})};window.addEventListener("beforeprint",l),window.addEventListener("afterprint",c);function d(w,S,v){try{s.innerHTML+=`<div class="${i}__item">
        <div class="${i}__item__header">
          ${w.replace(/</g,"&lt;").replace(/>/g,"&gt;")}
        </div>
        <div class="${i}__item__main">
          ${v.outerHTML}
        </div>
        <div class="${i}__item__footer ${i}__item__footer__${S?"":"hide"}">
          ${S??""}
        </div>
      </div>`}catch(k){console.error(k)}}function h(){e.environment.isChromeForIos?(l(),window.print()):e.environment.isSafari?(l(),document.execCommand("print",!1)):window.print()}const u=e.getSelectedShapeIds(),p=e.getCurrentPageId(),y=e.getPages(),x={scale:1,background:!1,darkMode:!1,preserveAspectRatio:"xMidYMid meet"};if(e.getSelectedShapeIds().length>0){const w=await e.getSvg(u,x);if(w){const S=y.find(v=>v.id===p);d(`tldraw  ${S==null?void 0:S.name}`,null,w),h()}}else{const w=e.getCurrentPage(),S=await e.getSvg(e.getSortedChildIdsForParent(w.id),x);S&&(d(`tldraw  ${w.name}`,null,S),h())}window.removeEventListener("beforeprint",l),window.removeEventListener("afterprint",c)},[e])}const bL=b.createContext({});function lle(e){return Object.fromEntries(e.map(t=>[t.id,t]))}function cle({overrides:e,children:t}){const n=H(),{addDialog:r,clearDialogs:s}=Rc(),{clearToasts:o}=ma(),a=SL(),i=ile(),{cut:l,copy:c,paste:d}=ele(),h=rle(),u=ale(),p=Fh(),y=b.useMemo(()=>{function g(){return n.isIn("select")||(n.complete(),n.setCurrentTool("select")),!1}function x(){return n.getSelectedShapeIds().length>0}const S=lle([{id:"edit-link",label:"action.edit-link",icon:"link",readonlyOk:!1,onSelect(v){x()&&(g()||(p("edit-link",{source:v}),n.mark("edit-link"),r({component:Mie})))}},{id:"insert-embed",label:"action.insert-embed",readonlyOk:!1,kbd:"$i",onSelect(v){p("insert-embed",{source:v}),r({component:iL})}},{id:"insert-media",label:"action.insert-media",kbd:"$u",readonlyOk:!1,onSelect(v){p("insert-media",{source:v}),a()}},{id:"undo",label:"action.undo",icon:"undo",kbd:"$z",readonlyOk:!1,onSelect(v){p("undo",{source:v}),n.undo()}},{id:"redo",label:"action.redo",icon:"redo",kbd:"$!z",readonlyOk:!1,onSelect(v){p("redo",{source:v}),n.redo()}},{id:"export-as-svg",label:"action.export-as-svg",menuLabel:"action.export-as-svg.short",contextMenuLabel:"action.export-as-svg.short",readonlyOk:!0,onSelect(v){p("export-as",{format:"svg",source:v}),u(n.getSelectedShapeIds(),"svg")}},{id:"export-as-png",label:"action.export-as-png",menuLabel:"action.export-as-png.short",contextMenuLabel:"action.export-as-png.short",readonlyOk:!0,onSelect(v){p("export-as",{format:"png",source:v}),u(n.getSelectedShapeIds(),"png")}},{id:"export-as-json",label:"action.export-as-json",menuLabel:"action.export-as-json.short",contextMenuLabel:"action.export-as-json.short",readonlyOk:!0,onSelect(v){p("export-as",{format:"json",source:v}),u(n.getSelectedShapeIds(),"json")}},{id:"copy-as-svg",label:"action.copy-as-svg",menuLabel:"action.copy-as-svg.short",contextMenuLabel:"action.copy-as-svg.short",kbd:"$!c",readonlyOk:!0,onSelect(v){p("copy-as",{format:"svg",source:v}),h(n.getSelectedShapeIds(),"svg")}},{id:"copy-as-png",label:"action.copy-as-png",menuLabel:"action.copy-as-png.short",contextMenuLabel:"action.copy-as-png.short",readonlyOk:!0,onSelect(v){p("copy-as",{format:"png",source:v}),h(n.getSelectedShapeIds(),"png")}},{id:"copy-as-json",label:"action.copy-as-json",menuLabel:"action.copy-as-json.short",contextMenuLabel:"action.copy-as-json.short",readonlyOk:!0,onSelect(v){p("copy-as",{format:"json",source:v}),h(n.getSelectedShapeIds(),"json")}},{id:"toggle-auto-size",label:"action.toggle-auto-size",readonlyOk:!1,onSelect(v){x()&&(g()||(p("toggle-auto-size",{source:v}),n.mark("toggling auto size"),n.updateShapes(n.getSelectedShapes().filter(k=>n.isShapeOfType(k,"text")&&k.props.autoSize===!1).map(k=>({id:k.id,type:k.type,props:{...k.props,w:8,autoSize:!0}})))))}},{id:"open-embed-link",label:"action.open-embed-link",readonlyOk:!0,onSelect(v){p("open-embed-link",{source:v});const k=n.getSelectedShapeIds(),C="No embed shapes selected";if(k.length!==1){console.error(C);return}const _=n.getShape(k[0]);if(!_||!n.isShapeOfType(_,"embed")){console.error(C);return}iY(_.props.url,"_blank")}},{id:"select-zoom-tool",readonlyOk:!0,kbd:"z",onSelect(v){var k,C;if(((k=n.root.getCurrent())==null?void 0:k.id)!=="zoom"&&(p("zoom-tool",{source:v}),!(n.inputs.shiftKey||n.inputs.ctrlKey))){const _=n.root.getCurrent();_&&((C=_.getCurrent())==null?void 0:C.id)==="idle"&&n.setCurrentTool("zoom",{onInteractionEnd:_.id,maskAs:"zoom"})}}},{id:"convert-to-bookmark",label:"action.convert-to-bookmark",readonlyOk:!1,onSelect(v){x()&&(g()||n.batch(()=>{p("convert-to-bookmark",{source:v});const k=n.getSelectedShapes(),C=[],_=[];for(const E of k){if(!E||!n.isShapeOfType(E,"embed")||!E.props.url)continue;const I=new P(E.x,E.y);I.rot(-E.rotation),I.add(new P(E.props.w/2-300/2,E.props.h/2-320/2)),I.rot(E.rotation);const z={id:gt(),type:"bookmark",rotation:E.rotation,x:I.x,y:I.y,opacity:1,props:{url:E.props.url}};C.push(z),_.push(E.id)}n.mark("convert shapes to bookmark"),n.deleteShapes(_),n.createShapes(C)}))}},{id:"convert-to-embed",label:"action.convert-to-embed",readonlyOk:!1,onSelect(v){x()&&(g()||(p("convert-to-embed",{source:v}),n.batch(()=>{const k=n.getSelectedShapeIds(),C=ze(k.map(I=>n.getShape(I))),_=[],E=[];for(const I of C){if(!n.isShapeOfType(I,"bookmark"))continue;const{url:z}=I.props,A=Na(I.props.url);if(!A||!A.definition)continue;const{width:T,height:j}=A.definition,R=new P(I.x,I.y);R.rot(-I.rotation),R.add(new P(I.props.w/2-T/2,I.props.h/2-j/2)),R.rot(I.rotation);const M={id:gt(),type:"embed",x:R.x,y:R.y,rotation:I.rotation,props:{url:z,w:T,h:j}};_.push(M),E.push(I.id)}n.mark("convert shapes to embed"),n.deleteShapes(E),n.createShapes(_)})))}},{id:"duplicate",kbd:"$d",label:"action.duplicate",icon:"duplicate",readonlyOk:!1,onSelect(v){if(!x()||g())return;p("duplicate-shapes",{source:v});const k=n.getSelectedShapeIds(),C=xe.Common(ze(k.map(E=>n.getShapePageBounds(E)))),_=n.getInstanceState().canMoveCamera?{x:C.width+10,y:0}:{x:16/n.getZoomLevel(),y:16/n.getZoomLevel()};n.mark("duplicate shapes"),n.duplicateShapes(k,_)}},{id:"ungroup",label:"action.ungroup",kbd:"$!g",icon:"ungroup",readonlyOk:!1,onSelect(v){x()&&(g()||(p("ungroup-shapes",{source:v}),n.mark("ungroup"),n.ungroupShapes(n.getSelectedShapeIds())))}},{id:"group",label:"action.group",kbd:"$g",icon:"group",readonlyOk:!1,onSelect(v){if(!x()||g())return;p("group-shapes",{source:v});const k=n.getOnlySelectedShape();k&&n.isShapeOfType(k,"group")?(n.mark("ungroup"),n.ungroupShapes(n.getSelectedShapeIds())):(n.mark("group"),n.groupShapes(n.getSelectedShapeIds()))}},{id:"remove-frame",label:"action.remove-frame",kbd:"$!f",readonlyOk:!1,onSelect(v){if(!x())return;p("remove-frame",{source:v});const k=n.getSelectedShapes();k.length>0&&k.every(C=>n.isShapeOfType(C,"frame"))&&(n.mark("remove-frame"),mae(n,k.map(C=>C.id)))}},{id:"fit-frame-to-content",label:"action.fit-frame-to-content",readonlyOk:!1,onSelect(v){if(!x())return;p("fit-frame-to-content",{source:v});const k=n.getOnlySelectedShape();k&&n.isShapeOfType(k,"frame")&&(n.mark("fit-frame-to-content"),xae(n,k.id))}},{id:"align-left",label:"action.align-left",kbd:"?A",icon:"align-left",readonlyOk:!1,onSelect(v){x()&&(g()||(p("align-shapes",{operation:"left",source:v}),n.mark("align left"),n.alignShapes(n.getSelectedShapeIds(),"left")))}},{id:"align-center-horizontal",label:"action.align-center-horizontal",contextMenuLabel:"action.align-center-horizontal.short",kbd:"?H",icon:"align-center-horizontal",readonlyOk:!1,onSelect(v){x()&&(g()||(p("align-shapes",{operation:"center-horizontal",source:v}),n.mark("align center horizontal"),n.alignShapes(n.getSelectedShapeIds(),"center-horizontal")))}},{id:"align-right",label:"action.align-right",kbd:"?D",icon:"align-right",readonlyOk:!1,onSelect(v){x()&&(g()||(p("align-shapes",{operation:"right",source:v}),n.mark("align right"),n.alignShapes(n.getSelectedShapeIds(),"right")))}},{id:"align-center-vertical",label:"action.align-center-vertical",contextMenuLabel:"action.align-center-vertical.short",kbd:"?V",icon:"align-center-vertical",readonlyOk:!1,onSelect(v){x()&&(g()||(p("align-shapes",{operation:"center-vertical",source:v}),n.mark("align center vertical"),n.alignShapes(n.getSelectedShapeIds(),"center-vertical")))}},{id:"align-top",label:"action.align-top",icon:"align-top",kbd:"?W",readonlyOk:!1,onSelect(v){x()&&(g()||(p("align-shapes",{operation:"top",source:v}),n.mark("align top"),n.alignShapes(n.getSelectedShapeIds(),"top")))}},{id:"align-bottom",label:"action.align-bottom",icon:"align-bottom",kbd:"?S",readonlyOk:!1,onSelect(v){x()&&(g()||(p("align-shapes",{operation:"bottom",source:v}),n.mark("align bottom"),n.alignShapes(n.getSelectedShapeIds(),"bottom")))}},{id:"distribute-horizontal",label:"action.distribute-horizontal",contextMenuLabel:"action.distribute-horizontal.short",icon:"distribute-horizontal",kbd:"?!h",readonlyOk:!1,onSelect(v){x()&&(g()||(p("distribute-shapes",{operation:"horizontal",source:v}),n.mark("distribute horizontal"),n.distributeShapes(n.getSelectedShapeIds(),"horizontal")))}},{id:"distribute-vertical",label:"action.distribute-vertical",contextMenuLabel:"action.distribute-vertical.short",icon:"distribute-vertical",kbd:"?!V",readonlyOk:!1,onSelect(v){x()&&(g()||(p("distribute-shapes",{operation:"vertical",source:v}),n.mark("distribute vertical"),n.distributeShapes(n.getSelectedShapeIds(),"vertical")))}},{id:"stretch-horizontal",label:"action.stretch-horizontal",contextMenuLabel:"action.stretch-horizontal.short",icon:"stretch-horizontal",readonlyOk:!1,onSelect(v){x()&&(g()||(p("stretch-shapes",{operation:"horizontal",source:v}),n.mark("stretch horizontal"),n.stretchShapes(n.getSelectedShapeIds(),"horizontal")))}},{id:"stretch-vertical",label:"action.stretch-vertical",contextMenuLabel:"action.stretch-vertical.short",icon:"stretch-vertical",readonlyOk:!1,onSelect(v){x()&&(g()||(p("stretch-shapes",{operation:"vertical",source:v}),n.mark("stretch vertical"),n.stretchShapes(n.getSelectedShapeIds(),"vertical")))}},{id:"flip-horizontal",label:"action.flip-horizontal",contextMenuLabel:"action.flip-horizontal.short",kbd:"!h",readonlyOk:!1,onSelect(v){x()&&(g()||(p("flip-shapes",{operation:"horizontal",source:v}),n.mark("flip horizontal"),n.flipShapes(n.getSelectedShapeIds(),"horizontal")))}},{id:"flip-vertical",label:"action.flip-vertical",contextMenuLabel:"action.flip-vertical.short",kbd:"!v",readonlyOk:!1,onSelect(v){x()&&(g()||(p("flip-shapes",{operation:"vertical",source:v}),n.mark("flip vertical"),n.flipShapes(n.getSelectedShapeIds(),"vertical")))}},{id:"pack",label:"action.pack",icon:"pack",readonlyOk:!1,onSelect(v){x()&&(g()||(p("pack-shapes",{source:v}),n.mark("pack"),n.packShapes(n.getSelectedShapeIds(),16)))}},{id:"stack-vertical",label:"action.stack-vertical",contextMenuLabel:"action.stack-vertical.short",icon:"stack-vertical",readonlyOk:!1,onSelect(v){x()&&(g()||(p("stack-shapes",{operation:"vertical",source:v}),n.mark("stack-vertical"),n.stackShapes(n.getSelectedShapeIds(),"vertical",16)))}},{id:"stack-horizontal",label:"action.stack-horizontal",contextMenuLabel:"action.stack-horizontal.short",icon:"stack-horizontal",readonlyOk:!1,onSelect(v){x()&&(g()||(p("stack-shapes",{operation:"horizontal",source:v}),n.mark("stack-horizontal"),n.stackShapes(n.getSelectedShapeIds(),"horizontal",16)))}},{id:"bring-to-front",label:"action.bring-to-front",kbd:"]",icon:"bring-to-front",readonlyOk:!1,onSelect(v){x()&&(g()||(p("reorder-shapes",{operation:"toFront",source:v}),n.mark("bring to front"),n.bringToFront(n.getSelectedShapeIds())))}},{id:"bring-forward",label:"action.bring-forward",icon:"bring-forward",kbd:"?]",readonlyOk:!1,onSelect(v){x()&&(g()||(p("reorder-shapes",{operation:"forward",source:v}),n.mark("bring forward"),n.bringForward(n.getSelectedShapeIds())))}},{id:"send-backward",label:"action.send-backward",icon:"send-backward",kbd:"?[",readonlyOk:!1,onSelect(v){x()&&(g()||(p("reorder-shapes",{operation:"backward",source:v}),n.mark("send backward"),n.sendBackward(n.getSelectedShapeIds())))}},{id:"send-to-back",label:"action.send-to-back",icon:"send-to-back",kbd:"[",readonlyOk:!1,onSelect(v){x()&&(g()||(p("reorder-shapes",{operation:"toBack",source:v}),n.mark("send to back"),n.sendToBack(n.getSelectedShapeIds())))}},{id:"cut",label:"action.cut",kbd:"$x",readonlyOk:!1,onSelect(v){x()&&(g()||(n.mark("cut"),l(v)))}},{id:"copy",label:"action.copy",kbd:"$c",readonlyOk:!0,onSelect(v){x()&&(g()||c(v))}},{id:"paste",label:"action.paste",kbd:"$v",readonlyOk:!1,onSelect(v){var k;(k=navigator.clipboard)==null||k.read().then(C=>{d(C,v,v==="context-menu"?n.inputs.currentPagePoint:void 0)})}},{id:"select-all",label:"action.select-all",kbd:"$a",readonlyOk:!0,onSelect(v){n.batch(()=>{g()||(p("select-all-shapes",{source:v}),n.mark("select all kbd"),n.selectAll())})}},{id:"select-none",label:"action.select-none",readonlyOk:!0,onSelect(v){x()&&(g()||(p("select-none-shapes",{source:v}),n.mark("select none"),n.selectNone()))}},{id:"delete",label:"action.delete",kbd:",del,backspace",icon:"trash",readonlyOk:!1,onSelect(v){x()&&(g()||(p("delete-shapes",{source:v}),n.mark("delete"),n.deleteShapes(n.getSelectedShapeIds())))}},{id:"rotate-cw",label:"action.rotate-cw",icon:"rotate-cw",readonlyOk:!1,onSelect(v){if(!x()||g())return;p("rotate-cw",{source:v}),n.mark("rotate-cw");const k=n.getSelectionRotation()%(ct/2),C=sp(k,0)||sp(k,ct/2);n.rotateShapesBy(n.getSelectedShapeIds(),ct/2-(C?0:k))}},{id:"rotate-ccw",label:"action.rotate-ccw",icon:"rotate-ccw",readonlyOk:!1,onSelect(v){if(!x()||g())return;p("rotate-ccw",{source:v}),n.mark("rotate-ccw");const k=n.getSelectionRotation()%(ct/2),C=sp(k,0);n.rotateShapesBy(n.getSelectedShapeIds(),C?-(ct/2):-k)}},{id:"zoom-in",label:"action.zoom-in",kbd:"$=,=",readonlyOk:!0,onSelect(v){p("zoom-in",{source:v}),n.zoomIn(n.getViewportScreenCenter(),{duration:Aa})}},{id:"zoom-out",label:"action.zoom-out",kbd:"$-,-",readonlyOk:!0,onSelect(v){p("zoom-out",{source:v}),n.zoomOut(n.getViewportScreenCenter(),{duration:Aa})}},{id:"zoom-to-100",label:"action.zoom-to-100",icon:"reset-zoom",kbd:"!0",readonlyOk:!0,onSelect(v){p("reset-zoom",{source:v}),n.resetZoom(n.getViewportScreenCenter(),{duration:Aa})}},{id:"zoom-to-fit",label:"action.zoom-to-fit",kbd:"!1",readonlyOk:!0,onSelect(v){p("zoom-to-fit",{source:v}),n.zoomToFit({duration:Aa})}},{id:"zoom-to-selection",label:"action.zoom-to-selection",kbd:"!2",readonlyOk:!0,onSelect(v){x()&&(g()||(p("zoom-to-selection",{source:v}),n.zoomToSelection({duration:Aa})))}},{id:"toggle-snap-mode",label:"action.toggle-snap-mode",menuLabel:"action.toggle-snap-mode.menu",readonlyOk:!1,onSelect(v){p("toggle-snap-mode",{source:v}),n.user.updateUserPreferences({isSnapMode:!n.user.getIsSnapMode()})},checkbox:!0},{id:"toggle-dark-mode",label:"action.toggle-dark-mode",menuLabel:"action.toggle-dark-mode.menu",kbd:"$/",readonlyOk:!0,onSelect(v){p("toggle-dark-mode",{source:v}),n.user.updateUserPreferences({isDarkMode:!n.user.getIsDarkMode()})},checkbox:!0},{id:"toggle-reduce-motion",label:"action.toggle-reduce-motion",menuLabel:"action.toggle-reduce-motion.menu",readonlyOk:!0,onSelect(v){p("toggle-reduce-motion",{source:v}),n.user.updateUserPreferences({animationSpeed:n.user.getAnimationSpeed()===0?1:0})},checkbox:!0},{id:"toggle-edge-scrolling",label:"action.toggle-edge-scrolling",menuLabel:"action.toggle-edge-scrolling.menu",readonlyOk:!0,onSelect(v){p("toggle-edge-scrolling",{source:v}),n.user.updateUserPreferences({edgeScrollSpeed:n.user.getEdgeScrollSpeed()===0?1:0})},checkbox:!0},{id:"toggle-transparent",label:"action.toggle-transparent",menuLabel:"action.toggle-transparent.menu",contextMenuLabel:"action.toggle-transparent.context-menu",readonlyOk:!0,onSelect(v){p("toggle-transparent",{source:v}),n.updateInstanceState({exportBackground:!n.getInstanceState().exportBackground},{ephemeral:!0})},checkbox:!0},{id:"toggle-tool-lock",label:"action.toggle-tool-lock",menuLabel:"action.toggle-tool-lock.menu",readonlyOk:!1,kbd:"q",onSelect(v){p("toggle-tool-lock",{source:v}),n.updateInstanceState({isToolLocked:!n.getInstanceState().isToolLocked})},checkbox:!0},{id:"unlock-all",label:"action.unlock-all",readonlyOk:!1,onSelect(v){p("unlock-all",{source:v});const k=[];for(const C of n.getCurrentPageShapes())C.isLocked&&k.push({id:C.id,type:C.type,isLocked:!1});k.length>0&&n.updateShapes(k)}},{id:"toggle-focus-mode",label:"action.toggle-focus-mode",menuLabel:"action.toggle-focus-mode.menu",readonlyOk:!0,kbd:"$.",checkbox:!0,onSelect(v){requestAnimationFrame(()=>{n.batch(()=>{p("toggle-focus-mode",{source:v}),s(),o(),n.updateInstanceState({isFocusMode:!n.getInstanceState().isFocusMode})})})}},{id:"toggle-grid",label:"action.toggle-grid",menuLabel:"action.toggle-grid.menu",readonlyOk:!0,kbd:"$'",onSelect(v){p("toggle-grid-mode",{source:v}),n.updateInstanceState({isGridMode:!n.getInstanceState().isGridMode})},checkbox:!0},{id:"toggle-debug-mode",label:"action.toggle-debug-mode",menuLabel:"action.toggle-debug-mode.menu",readonlyOk:!0,onSelect(v){p("toggle-debug-mode",{source:v}),n.updateInstanceState({isDebugMode:!n.getInstanceState().isDebugMode})},checkbox:!0},{id:"print",label:"action.print",kbd:"$p",readonlyOk:!0,onSelect(v){p("print",{source:v}),i()}},{id:"exit-pen-mode",label:"action.exit-pen-mode",icon:"cross-2",readonlyOk:!0,onSelect(v){p("exit-pen-mode",{source:v}),n.updateInstanceState({isPenMode:!1})}},{id:"stop-following",label:"action.stop-following",icon:"cross-2",readonlyOk:!0,onSelect(v){p("stop-following",{source:v}),n.stopFollowingUser()}},{id:"back-to-content",label:"action.back-to-content",icon:"arrow-left",readonlyOk:!0,onSelect(v){p("zoom-to-content",{source:v}),n.zoomToContent()}},{id:"toggle-lock",label:"action.toggle-lock",readonlyOk:!1,kbd:"!l",onSelect(v){n.mark("locking"),p("toggle-lock",{source:v}),n.toggleLock(n.getSelectedShapeIds())}}]);return e?e(n,S,void 0):S},[n,p,e,r,a,u,h,l,c,d,s,o,i]);return f.jsx(bL.Provider,{value:y,children:t})}function Qn(){const e=b.useContext(bL);if(!e)throw new Error("useTools must be used within a ToolProvider");return e}function l2(e){return e.filter(t=>t!=null&&t!==!1)}function We(e,...t){const n=l2(t);return n.length===0?null:{id:e,type:"group",checkbox:n.every(r=>r.type==="item"&&r.actionItem.checkbox),disabled:n.every(r=>r.disabled),readonlyOk:n.some(r=>r.readonlyOk),children:n}}function Do(e,t,...n){const r=l2(n);return r.length===0?null:{id:e,type:"submenu",label:t,children:r,disabled:r.every(s=>s.disabled),readonlyOk:r.some(s=>s.readonlyOk)}}function Fb(e,t={}){const{readonlyOk:n=!0,disabled:r=!1}=t;return{id:e,type:"custom",disabled:r,readonlyOk:n}}function V(e,t={}){if(!e)throw Error("No action item provided to menuItem");if(!e.label)throw Error("Trying to create menu item for action item that doesn't have a label");const{checked:n=!1,disabled:r=!1}=t;return{id:e.id,type:"item",actionItem:e,disabled:r,checked:n,readonlyOk:e.readonlyOk}}function dle(e){return e.getSelectedShapeIds().map(r=>e.getShape(r)).filter(r=>!(!r||e.isShapeOfType(r,"arrow")&&r.props.start.type==="binding"||e.isShapeOfType(r,"arrow")&&r.props.end.type==="binding"))}const vL=()=>{const e=H();return J("threeStackableItems",()=>dle(e).length>2,[e])};function hle(e){const t=e.getSelectedShapes(),n=[],r=new Map;t.forEach(o=>{o.type==="arrow"?n.push(o):r.set(o.id,o)});const s=n.filter(o=>!(o.props.start.type==="binding"&&!r.has(o.props.start.boundShapeId)||o.props.end.type==="binding"&&!r.has(o.props.end.boundShapeId)));return Array.from(r.values()).concat(s)}const Kb=()=>{const e=H();return J("allowGroup",()=>hle(e).length>1,[e])},Wb=()=>{const e=H();return J("allowUngroup",()=>e.getSelectedShapeIds().some(t=>{var n;return((n=e.getShape(t))==null?void 0:n.type)==="group"}),[e])},kL=typeof window<"u"&&"navigator"in window&&!!navigator.clipboard&&!!navigator.clipboard.read,g5=[0,390,428,468,580,640,840,1023],CL=le.createContext(0);function ule({forceMobile:e=!1,children:t}){const n=H(),r=J("breakpoint",()=>{const{width:s}=n.getViewportScreenBounds(),o=e?3:g5.length-1;for(let a=0;a<o;a++)if(s>g5[a]&&s<=g5[a+1])return a;return o},[n]);return f.jsx(CL.Provider,{value:r,children:t})}function Zs(){return b.useContext(CL)}function Ub(){const e=H();return J("hasLinkShapeSelected",()=>{const t=e.getSelectedShapes();return t.length===1&&"url"in t[0].props&&t[0].type!=="embed"},[e])}const _L=le.createContext({}),ple=({overrides:e,children:t})=>{const n=H(),r=Qn(),s=J("selected count",()=>n.getSelectedShapeIds().length,[n]),o=s>0,a=s>1,i=s>2,l=vL(),c=Kb(),d=Wb(),h=Ub(),u=Zs(),p=J("zoom is 1",()=>n.getZoomLevel()===1,[n]),y=b.useMemo(()=>{const g=[V(r["align-left"],{disabled:!a}),V(r["align-center-horizontal"],{disabled:!a}),V(r["align-right"],{disabled:!a}),V(r["stretch-horizontal"],{disabled:!a}),V(r["align-top"],{disabled:!a}),V(r["align-center-vertical"],{disabled:!a}),V(r["align-bottom"],{disabled:!a}),V(r["stretch-vertical"],{disabled:!a}),V(r["distribute-horizontal"],{disabled:!i}),V(r["distribute-vertical"],{disabled:!i}),V(r["stack-horizontal"],{disabled:!l}),V(r["stack-vertical"],{disabled:!l}),V(r["send-to-back"],{disabled:!o}),V(r["send-backward"],{disabled:!o}),V(r["bring-forward"],{disabled:!o}),V(r["bring-to-front"],{disabled:!o}),u<5?V(r["zoom-to-100"],{disabled:!!p}):V(r["rotate-ccw"],{disabled:!o}),V(r["rotate-cw"],{disabled:!o}),V(r["edit-link"],{disabled:!h}),c?V(r.group,{disabled:!a}):d?V(r.ungroup):V(r.group,{disabled:!a})];return e?e(n,g,{actions:r,oneSelected:o,twoSelected:a,threeSelected:i}):g},[n,p,c,e,r,o,a,i,l,d,h,u]);return f.jsx(_L.Provider,{value:y,children:t})};function fle(){const e=le.useContext(_L);if(!e)throw new Error("useActionsMenuSchema must be used inside of a ActionsMenuSchemaProvider.");return e}function gle(){const e=H();return J("onlyFlippableShape",()=>{const t=e.getSelectedShapes();return t.length===1&&t.every(n=>e.isShapeOfType(n,"group")||e.isShapeOfType(n,"arrow")||e.isShapeOfType(n,"line")||e.isShapeOfType(n,"draw"))},[e])}function EL(){const e=H();return J("showAutoSizeToggle",()=>{const t=e.getSelectedShapes();return t.length===1&&e.isShapeOfType(t[0],"text")&&t[0].props.autoSize===!1},[e])}const IL=le.createContext({}),mle=et(function({overrides:t,children:n}){var I;const r=H(),s=Qn(),o=EL(),a=gle(),i=r.getSelectedShapes(),l=i.length,c=l>0,d=l>1,h=l>2,u=vL(),p=J("atLeastOneShapeOnPage",()=>r.getCurrentPageShapeIds().size>0,[]),y=J("isTransparentBg",()=>r.getInstanceState().exportBackground,[]),g=Kb(),x=Wb(),w=!!((I=window.navigator.clipboard)!=null&&I.write),S=Ub(),v=r.getOnlySelectedShape(),k=c&&i.every(z=>r.isShapeOfType(z,"frame")),C=v&&r.isShapeOfType(v,"frame")&&r.getSortedChildIdsForParent(v).length>0,_=v&&r.isShapeOrAncestorLocked(v),E=b.useMemo(()=>{let z=l2([We("selection",o&&V(s["toggle-auto-size"]),S&&!_&&V(s["edit-link"]),c&&!_&&V(s.duplicate),g&&!_&&V(s.group),x&&!_&&V(s.ungroup),k&&!_&&V(s["remove-frame"]),C&&!_&&V(s["fit-frame-to-content"]),c&&V(s["toggle-lock"])),We("modify",(d||a)&&Do("arrange","context-menu.arrange",d&&We("align",V(s["align-left"]),V(s["align-center-horizontal"]),V(s["align-right"]),V(s["align-top"]),V(s["align-center-vertical"]),V(s["align-bottom"])),h&&We("distribute",V(s["distribute-horizontal"]),V(s["distribute-vertical"])),d&&We("stretch",V(s["stretch-horizontal"]),V(s["stretch-vertical"])),a&&!_&&We("flip",V(s["flip-horizontal"]),V(s["flip-vertical"])),d&&We("order",V(s.pack,{disabled:!d}),u&&V(s["stack-vertical"]),u&&V(s["stack-horizontal"]))),c&&!_&&Do("reorder","context-menu.reorder",We("reorder",V(s["bring-to-front"]),V(s["bring-forward"]),V(s["send-backward"]),V(s["send-to-back"]))),c&&!_&&Fb("MOVE_TO_PAGE_MENU",{readonlyOk:!1})),We("clipboard-group",c&&!_&&V(s.cut),c&&V(s.copy),kL&&V(s.paste)),p&&We("conversions",Do("copy-as","context-menu.copy-as",We("copy-as-group",V(s["copy-as-svg"]),w&&V(s["copy-as-png"]),V(s["copy-as-json"])),We("export-bg",V(s["toggle-transparent"],{checked:!y}))),Do("export-as","context-menu.export-as",We("export-as-group",V(s["export-as-svg"]),V(s["export-as-png"]),V(s["export-as-json"])),We("export-bg,",V(s["toggle-transparent"],{checked:!y})))),p&&We("set-selection-group",V(s["select-all"]),c&&V(s["select-none"])),c&&!_&&We("delete-group",V(s.delete))]);return t&&(z=t(r,z,{actions:s,oneSelected:c,twoSelected:d,threeSelected:h,showAutoSizeToggle:o,showUngroup:x,onlyFlippableShapeSelected:a})),z},[r,t,s,c,d,h,o,a,p,u,g,x,k,C,w,S,y,_]);return f.jsx(IL.Provider,{value:E,children:n})});function PL(){const e=le.useContext(IL);if(!e)throw new Error("useContextMenuSchema must be used inside of a TLUiContextMenuSchemaProvider.");return e}const zL=b.createContext({});function yle({overrides:e,children:t}){const n=H(),r=Fh(),{addDialog:s}=Rc(),o=SL(),a=b.useMemo(()=>{const i=[{id:"select",label:"tool.select",icon:"tool-pointer",kbd:"v",readonlyOk:!0,onSelect(c){n.setCurrentTool("select"),r("select-tool",{source:c,id:"select"})}},{id:"hand",label:"tool.hand",icon:"tool-hand",kbd:"h",readonlyOk:!0,onSelect(c){n.setCurrentTool("hand"),r("select-tool",{source:c,id:"hand"})}},{id:"eraser",label:"tool.eraser",icon:"tool-eraser",kbd:"e",readonlyOk:!1,onSelect(c){n.setCurrentTool("eraser"),r("select-tool",{source:c,id:"eraser"})}},{id:"draw",label:"tool.draw",readonlyOk:!1,icon:"tool-pencil",kbd:"d,b,x",onSelect(c){n.setCurrentTool("draw"),r("select-tool",{source:c,id:"draw"})}},...[...Qo.values].map(c=>({id:c,label:`tool.${c}`,readonlyOk:!1,meta:{geo:c},kbd:c==="rectangle"?"r":c==="ellipse"?"o":void 0,icon:"geo-"+c,onSelect(d){n.batch(()=>{n.updateInstanceState({stylesForNextShape:{...n.getInstanceState().stylesForNextShape,[Qo.id]:c}},{ephemeral:!0}),n.setCurrentTool("geo"),r("select-tool",{source:d,id:`geo-${c}`})})}})),{id:"arrow",label:"tool.arrow",readonlyOk:!1,icon:"tool-arrow",kbd:"a",onSelect(c){n.setCurrentTool("arrow"),r("select-tool",{source:c,id:"arrow"})}},{id:"line",label:"tool.line",readonlyOk:!1,icon:"tool-line",kbd:"l",onSelect(c){n.setCurrentTool("line"),r("select-tool",{source:c,id:"line"})}},{id:"frame",label:"tool.frame",readonlyOk:!1,icon:"tool-frame",kbd:"f",onSelect(c){n.setCurrentTool("frame"),r("select-tool",{source:c,id:"frame"})}},{id:"text",label:"tool.text",readonlyOk:!1,icon:"tool-text",kbd:"t",onSelect(c){n.setCurrentTool("text"),r("select-tool",{source:c,id:"text"})}},{id:"asset",label:"tool.asset",readonlyOk:!1,icon:"tool-media",kbd:"$u",onSelect(c){o(),r("select-tool",{source:c,id:"media"})}},{id:"note",label:"tool.note",readonlyOk:!1,icon:"tool-note",kbd:"n",onSelect(c){n.setCurrentTool("note"),r("select-tool",{source:c,id:"note"})}},{id:"laser",label:"tool.laser",readonlyOk:!0,icon:"tool-laser",kbd:"k",onSelect(c){n.setCurrentTool("laser"),r("select-tool",{source:c,id:"laser"})}},{id:"embed",label:"tool.embed",readonlyOk:!1,icon:"tool-embed",onSelect(c){s({component:iL}),r("select-tool",{source:c,id:"embed"})}}];i.push({id:"highlight",label:"tool.highlight",readonlyOk:!0,icon:"tool-highlight",kbd:"!d",onSelect(c){n.setCurrentTool("highlight"),r("select-tool",{source:c,id:"highlight"})}});const l=Object.fromEntries(i.map(c=>[c.id,c]));return e?e(n,l,{insertMedia:o}):l},[e,n,r,o,s]);return f.jsx(zL.Provider,{value:a,children:t})}function Vb(){const e=b.useContext(zL);if(!e)throw new Error("useTools must be used within a ToolProvider");return e}const AL=le.createContext({}),xle=et(function({overrides:t,children:n}){const r=H(),s=Vb(),o=Qn(),a=b.useMemo(()=>{const i=ze([We("shortcuts-dialog.tools",V(o["toggle-tool-lock"]),V(s.select),V(s.draw),V(s.eraser),V(s.hand),V(s.rectangle),V(s.ellipse),V(s.arrow),V(s.line),V(s.text),V(s.frame),V(s.note),V(s.laser)),We("shortcuts-dialog.file",V(o["insert-media"]),V(o.print)),We("shortcuts-dialog.preferences",V(o["toggle-dark-mode"]),V(o["toggle-focus-mode"]),V(o["toggle-grid"])),We("shortcuts-dialog.edit",V(o.undo),V(o.redo),V(o.cut),V(o.copy),V(o.paste),V(o["select-all"]),V(o.delete),V(o.duplicate),V(o["export-as-svg"]),V(o["export-as-png"])),We("shortcuts-dialog.view",V(o["zoom-in"]),V(o["zoom-out"]),V(o["zoom-to-100"]),V(o["zoom-to-fit"]),V(o["zoom-to-selection"])),We("shortcuts-dialog.transform",V(o["bring-to-front"]),V(o["bring-forward"]),V(o["send-backward"]),V(o["send-to-back"]),V(o.group),V(o.ungroup),V(o["flip-horizontal"]),V(o["flip-vertical"]),V(o["align-top"]),V(o["align-center-vertical"]),V(o["align-bottom"]),V(o["align-left"]),V(o["align-center-horizontal"]),V(o["align-right"]))]);return t?t(r,i,{tools:s,actions:o}):i},[r,t,o,s]);return f.jsx(AL.Provider,{value:a,children:n})});function wle(){const e=le.useContext(AL);if(!e)throw new Error("Shortcuts must be used inside of a ShortcutsProvider.");return e}const Sle=()=>{const e=Ze(),t=Gs(),n=wle();function r(s){if(!s||t&&!s.readonlyOk)return null;switch(s.type){case"group":return f.jsxs("div",{className:"tlui-shortcuts-dialog__group",children:[f.jsx("h2",{className:"tlui-shortcuts-dialog__group__title",children:e(s.id)}),f.jsx("div",{className:"tlui-shortcuts-dialog__group__content",children:s.children.filter(o=>o&&o.type==="item"&&o.actionItem.kbd).map(r)})]},s.id);case"item":{const{id:o,label:a,shortcutsLabel:i,kbd:l}=s.actionItem;return f.jsxs("div",{className:"tlui-shortcuts-dialog__key-pair",children:[f.jsx("div",{className:"tlui-shortcuts-dialog__key-pair__key",children:e(i??a)}),f.jsx("div",{className:"tlui-shortcuts-dialog__key-pair__value",children:f.jsx(r2,{children:l})})]},o)}}}return f.jsxs(f.Fragment,{children:[f.jsxs(o2,{className:"tlui-shortcuts-dialog__header",children:[f.jsx(a2,{children:e("shortcuts-dialog.title")}),f.jsx(i2,{})]}),f.jsx(sf,{className:"tlui-shortcuts-dialog__body",children:n.map(r)}),f.jsx("div",{className:"tlui-dialog__scrim"})]})};function NL(){const e=H();return{languages:Ap,currentLanguage:e.user.getLocale()}}const TL=le.createContext({}),ble=et(function({overrides:t,children:n}){const r=H(),s=Qn(),o=r.getSelectedShapeIds().length,a=o>0,i=o>1,l=o>2,{languages:c,currentLanguage:d}=NL(),{addDialog:h}=Rc(),u=b.useMemo(()=>{const p=ze([We("top",Fb("LANGUAGE_MENU",{readonlyOk:!0}),V({id:"keyboard-shortcuts",label:"help-menu.keyboard-shortcuts",readonlyOk:!0,onSelect(){h({component:Sle})}}))]);return t?t(r,p,{actions:s,currentLanguage:d,languages:c,oneSelected:a,twoSelected:i,threeSelected:l}):p},[r,t,c,s,a,i,l,d,h]);return f.jsx(TL.Provider,{value:u,children:n})});function vle(){const e=le.useContext(TL);if(!e)throw new Error("useHelpMenuSchema must be used inside of a helpTLUiMenuSchemaProvider.");return e}function LL(){const e=H();return J("useCanRedo",()=>e.getCanRedo(),[e])}function ML(){const e=H();return J("useCanUndo",()=>e.getCanUndo(),[e])}const jL=le.createContext({});function kle({overrides:e,children:t}){var U;const n=H(),r=Qn(),o=Zs()<5,a=J("isDarkMode",()=>n.user.getIsDarkMode(),[n]),i=J("animationSpeed",()=>n.user.getAnimationSpeed(),[n]),l=J("edgeScrollSpeed",()=>n.user.getEdgeScrollSpeed(),[n]),c=J("isGridMode",()=>n.getInstanceState().isGridMode,[n]),d=J("isSnapMode",()=>n.user.getIsSnapMode(),[n]),h=J("isToolLock",()=>n.getInstanceState().isToolLocked,[n]),u=J("isFocusMode",()=>n.getInstanceState().isFocusMode,[n]),p=J("isDebugMode",()=>n.getInstanceState().isDebugMode,[n]),y=J("exportBackground",()=>n.getInstanceState().exportBackground,[n]),g=J("emptyPage",()=>n.getCurrentPageShapeIds().size===0,[n]),x=J("selectedCount",()=>n.getSelectedShapeIds().length,[n]),w=x===0,S=x>0,v=x>1,k=x>2,C=!!((U=window.navigator.clipboard)!=null&&U.write),_=Ub(),E=EL(),I=Kb(),z=Wb(),A=ML(),T=LL(),j=J("isZoomedTo100",()=>n.getZoomLevel()===1,[n]),R=J("oneEmbedSelected",()=>{const Y=n.getOnlySelectedShape();return Y?!!(n.isShapeOfType(Y,"embed")&&Y.props.url&&!n.isShapeOrAncestorLocked(Y)):!1},[]),M=J("oneEmbeddableBookmarkSelected",()=>{const Y=n.getOnlySelectedShape();return Y?!!(n.isShapeOfType(Y,"bookmark")&&Y.props.url&&Na(Y.props.url)&&!n.isShapeOrAncestorLocked(Y)):!1},[]),D=b.useMemo(()=>{const Y=l2([We("menu",Do("file","menu.file",We("print",V(r.print,{disabled:g}))),Do("edit","menu.edit",We("undo-actions",V(r.undo,{disabled:!A}),V(r.redo,{disabled:!T})),We("clipboard-actions",V(r.cut,{disabled:w}),V(r.copy,{disabled:w}),V(r.paste,{disabled:!kL})),We("conversions",Do("copy-as","menu.copy-as",We("copy-as-group",V(r["copy-as-svg"],{disabled:g}),V(r["copy-as-png"],{disabled:g||!C}),V(r["copy-as-json"],{disabled:g})),We("export-bg",V(r["toggle-transparent"],{checked:!y}))),Do("export-as","menu.export-as",We("export-as-group",V(r["export-as-svg"],{disabled:g}),V(r["export-as-png"],{disabled:g}),V(r["export-as-json"],{disabled:g})),We("export-bg",V(r["toggle-transparent"],{checked:!y})))),We("set-selection-group",V(r["select-all"],{disabled:g}),V(r["select-none"],{disabled:!S})),We("selection",E&&V(r["toggle-auto-size"]),_&&V(r["edit-link"]),V(r.duplicate,{disabled:!S}),I&&V(r.group),z&&V(r.ungroup),V(r["unlock-all"],{disabled:g})),We("delete-group",V(r.delete,{disabled:!S})),We("embeds",R&&V(r["open-embed-link"]),R&&V(r["convert-to-bookmark"]),M&&V(r["convert-to-embed"]))),Do("view","menu.view",We("view-actions",V(r["zoom-in"]),V(r["zoom-out"]),V(r["zoom-to-100"],{disabled:j}),V(r["zoom-to-fit"],{disabled:g}),V(r["zoom-to-selection"],{disabled:g||!S})))),We("extras",V(r["insert-embed"]),V(r["insert-media"])),We("preferences",Do("preferences","menu.preferences",We("preferences-actions",V(r["toggle-snap-mode"],{checked:d}),V(r["toggle-tool-lock"],{checked:h}),V(r["toggle-grid"],{checked:c}),V(r["toggle-dark-mode"],{checked:a}),V(r["toggle-focus-mode"],{checked:u}),V(r["toggle-edge-scrolling"],{checked:l===1}),V(r["toggle-reduce-motion"],{checked:i===0}),V(r["toggle-debug-mode"],{checked:p}))),o&&Fb("LANGUAGE_MENU",{readonlyOk:!0}))]);return e?e(n,Y,{actions:r,noneSelected:w,oneSelected:S,twoSelected:v,threeSelected:k}):Y},[n,e,r,S,v,k,g,o,I,z,_,C,E,w,A,T,i,a,c,d,h,u,y,p,l,j,M,R]);return f.jsx(jL.Provider,{value:D,children:t})}function Cle(){const e=le.useContext(jL);if(!e)throw new Error("useMenuSchema must be used inside of a TLUiMenuSchemaProvider.");return e}function ot(e){return{id:e.id,type:"item",readonlyOk:e.readonlyOk,toolItem:e}}const RL=le.createContext([]);function _le({overrides:e,children:t}){const n=H(),r=Vb(),s=le.useMemo(()=>{const o=ze([ot(r.select),ot(r.hand),ot(r.draw),ot(r.eraser),ot(r.arrow),ot(r.text),ot(r.note),ot(r.asset),ot(r.rectangle),ot(r.ellipse),ot(r.diamond),ot(r.triangle),ot(r.trapezoid),ot(r.rhombus),ot(r.hexagon),ot(r.cloud),ot(r.star),ot(r.oval),ot(r["x-box"]),ot(r["check-box"]),ot(r["arrow-left"]),ot(r["arrow-up"]),ot(r["arrow-down"]),ot(r["arrow-right"]),ot(r.line),ot(r.highlight),ot(r.frame),ot(r.laser)]);return e?e(n,o,{tools:r}):o},[n,e,r]);return f.jsx(RL.Provider,{value:s,children:t})}function Ele(){const e=le.useContext(RL);if(!e)throw new Error("useToolbarSchema must be used within a ToolbarSchemaProvider");return e}function Ile(){const{addToast:e,removeToast:t,clearToasts:n}=ma(),{addDialog:r,clearDialogs:s,removeDialog:o,updateDialog:a}=Rc(),l=Zs()<5,c=Ze();return b.useMemo(()=>({addToast:e,removeToast:t,clearToasts:n,addDialog:r,clearDialogs:s,removeDialog:o,updateDialog:a,msg:c,isMobile:l}),[r,e,s,n,c,o,t,a,l])}function Ple(e,t){const n={};for(const r of e)if(r.translations)for(const[s,o]of hI(r.translations)){let a=n[s];a||(a=n[s]={}),Object.assign(a,o)}return{actionsMenu:(r,s,o)=>{for(const a of e)a.actionsMenu&&(s=a.actionsMenu(r,s,{...t,...o}));return s},actions:(r,s)=>{for(const o of e)o.actions&&(s=o.actions(r,s,t));return s},contextMenu:(r,s,o)=>{for(const a of e)a.contextMenu&&(s=a.contextMenu(r,s,{...t,...o}));return s},helpMenu:(r,s,o)=>{for(const a of e)a.helpMenu&&(s=a.helpMenu(r,s,{...t,...o}));return s},menu:(r,s,o)=>{for(const a of e)a.menu&&(s=a.menu(r,s,{...t,...o}));return s},toolbar:(r,s,o)=>{for(const a of e)a.toolbar&&(s=a.toolbar(r,s,{...t,...o}));return s},keyboardShortcutsMenu:(r,s,o)=>{for(const a of e)a.keyboardShortcutsMenu&&(s=a.keyboardShortcutsMenu(r,s,{...t,...o}));return s},tools:(r,s,o)=>{for(const a of e)a.tools&&(s=a.tools(r,s,{...t,...o}));return s},translations:n}}function $L(e){return b.useMemo(()=>e,e)}function zle(e){const t=$L(e==null?[]:Array.isArray(e)?e:[e]);return b.useMemo(()=>{const n={};for(const r of t)if(r.translations)for(const[s,o]of hI(r.translations)){let a=n[s];a||(a=n[s]={}),Object.assign(a,o)}return n},[t])}function Ale(e){const t=Ile(),n=$L(e==null?[]:Array.isArray(e)?e:[e]);return b.useMemo(()=>Ple(n,t),[n,t])}function Nle({overrides:e,assetUrls:t,onUiEvent:n,forceMobile:r,children:s}){return f.jsx(wae,{assetUrls:gae(t),children:f.jsx(vae,{overrides:zle(e),children:f.jsx(Vie,{onEvent:n,children:f.jsx(nle,{children:f.jsx(sle,{children:f.jsx(ule,{forceMobile:r,children:f.jsx(Tle,{overrides:e,children:s})})})})})})})}function Tle({overrides:e,children:t}){const n=Ale(e);return f.jsx(cle,{overrides:n.actions,children:f.jsx(yle,{overrides:n.tools,children:f.jsx(_le,{overrides:n.toolbar,children:f.jsx(ple,{overrides:n.actionsMenu,children:f.jsx(xle,{overrides:n.keyboardShortcutsMenu,children:f.jsx(mle,{overrides:n.contextMenu,children:f.jsx(ble,{overrides:n.helpMenu,children:f.jsx(kle,{overrides:n.menu,children:t})})})})})})})})}function Lle(){const e=H(),n=Qn()["back-to-content"],[r,s]=b.useState(!1);return b.useEffect(()=>{let o=!1;const a=setInterval(()=>{const i=e.getRenderingShapes(),l=e.getRenderingBounds(),d=i.filter(h=>h.maskedPageBounds&&l.includes(h.maskedPageBounds)).length===0&&e.getCurrentPageShapes().length>0;o!==d&&(s(d),o=d)},1e3);return()=>{clearInterval(a)}},[e]),r?f.jsx(we,{iconLeft:n.icon,label:n.label,type:"low",onClick:()=>{n.onSelect("helper-buttons"),s(!1)}}):null}const Mle=b.createContext(void 0);function Xb(e){const t=b.useContext(Mle);return e||t||"ltr"}const jle=["top","right","bottom","left"],Ho=Math.min,cs=Math.max,Wy=Math.round,u0=Math.floor,Zi=e=>({x:e,y:e}),Rle={left:"right",right:"left",bottom:"top",top:"bottom"},$le={start:"end",end:"start"};function Q3(e,t,n){return cs(e,Ho(t,n))}function Xa(e,t){return typeof e=="function"?e(t):e}function Ya(e){return e.split("-")[0]}function Kh(e){return e.split("-")[1]}function Yb(e){return e==="x"?"y":"x"}function Hb(e){return e==="y"?"height":"width"}function Wh(e){return["top","bottom"].includes(Ya(e))?"y":"x"}function Gb(e){return Yb(Wh(e))}function Ole(e,t,n){n===void 0&&(n=!1);const r=Kh(e),s=Gb(e),o=Hb(s);let a=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(a=Uy(a)),[a,Uy(a)]}function Dle(e){const t=Uy(e);return[J3(e),t,J3(t)]}function J3(e){return e.replace(/start|end/g,t=>$le[t])}function qle(e,t,n){const r=["left","right"],s=["right","left"],o=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:r:t?r:s;case"left":case"right":return t?o:a;default:return[]}}function Ble(e,t,n,r){const s=Kh(e);let o=qle(Ya(e),n==="start",r);return s&&(o=o.map(a=>a+"-"+s),t&&(o=o.concat(o.map(J3)))),o}function Uy(e){return e.replace(/left|right|bottom|top/g,t=>Rle[t])}function Fle(e){return{top:0,right:0,bottom:0,left:0,...e}}function OL(e){return typeof e!="number"?Fle(e):{top:e,right:e,bottom:e,left:e}}function Vy(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function Ok(e,t,n){let{reference:r,floating:s}=e;const o=Wh(t),a=Gb(t),i=Hb(a),l=Ya(t),c=o==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,u=r[i]/2-s[i]/2;let p;switch(l){case"top":p={x:d,y:r.y-s.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:h};break;case"left":p={x:r.x-s.width,y:h};break;default:p={x:r.x,y:r.y}}switch(Kh(t)){case"start":p[a]-=u*(n&&c?-1:1);break;case"end":p[a]+=u*(n&&c?-1:1);break}return p}const Kle=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:a}=n,i=o.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(t));let c=await a.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:h}=Ok(c,r,l),u=r,p={},y=0;for(let g=0;g<i.length;g++){const{name:x,fn:w}=i[g],{x:S,y:v,data:k,reset:C}=await w({x:d,y:h,initialPlacement:r,placement:u,strategy:s,middlewareData:p,rects:c,platform:a,elements:{reference:e,floating:t}});d=S??d,h=v??h,p={...p,[x]:{...p[x],...k}},C&&y<=50&&(y++,typeof C=="object"&&(C.placement&&(u=C.placement),C.rects&&(c=C.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:s}):C.rects),{x:d,y:h}=Ok(c,u,l)),g=-1)}return{x:d,y:h,placement:u,strategy:s,middlewareData:p}};async function of(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:o,rects:a,elements:i,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:u=!1,padding:p=0}=Xa(t,e),y=OL(p),x=i[u?h==="floating"?"reference":"floating":h],w=Vy(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(x)))==null||n?x:x.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(i.floating)),boundary:c,rootBoundary:d,strategy:l})),S=h==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,v=await(o.getOffsetParent==null?void 0:o.getOffsetParent(i.floating)),k=await(o.isElement==null?void 0:o.isElement(v))?await(o.getScale==null?void 0:o.getScale(v))||{x:1,y:1}:{x:1,y:1},C=Vy(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:i,rect:S,offsetParent:v,strategy:l}):S);return{top:(w.top-C.top+y.top)/k.y,bottom:(C.bottom-w.bottom+y.bottom)/k.y,left:(w.left-C.left+y.left)/k.x,right:(C.right-w.right+y.right)/k.x}}const Wle=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:o,platform:a,elements:i,middlewareData:l}=t,{element:c,padding:d=0}=Xa(e,t)||{};if(c==null)return{};const h=OL(d),u={x:n,y:r},p=Gb(s),y=Hb(p),g=await a.getDimensions(c),x=p==="y",w=x?"top":"left",S=x?"bottom":"right",v=x?"clientHeight":"clientWidth",k=o.reference[y]+o.reference[p]-u[p]-o.floating[y],C=u[p]-o.reference[p],_=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c));let E=_?_[v]:0;(!E||!await(a.isElement==null?void 0:a.isElement(_)))&&(E=i.floating[v]||o.floating[y]);const I=k/2-C/2,z=E/2-g[y]/2-1,A=Ho(h[w],z),T=Ho(h[S],z),j=A,R=E-g[y]-T,M=E/2-g[y]/2+I,D=Q3(j,M,R),U=!l.arrow&&Kh(s)!=null&&M!==D&&o.reference[y]/2-(M<j?A:T)-g[y]/2<0,Y=U?M<j?M-j:M-R:0;return{[p]:u[p]+Y,data:{[p]:D,centerOffset:M-D-Y,...U&&{alignmentOffset:Y}},reset:U}}}),Ule=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:o,rects:a,initialPlacement:i,platform:l,elements:c}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:u,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:g=!0,...x}=Xa(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const w=Ya(s),S=Ya(i)===i,v=await(l.isRTL==null?void 0:l.isRTL(c.floating)),k=u||(S||!g?[Uy(i)]:Dle(i));!u&&y!=="none"&&k.push(...Ble(i,g,y,v));const C=[i,...k],_=await of(t,x),E=[];let I=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&E.push(_[w]),h){const j=Ole(s,a,v);E.push(_[j[0]],_[j[1]])}if(I=[...I,{placement:s,overflows:E}],!E.every(j=>j<=0)){var z,A;const j=(((z=o.flip)==null?void 0:z.index)||0)+1,R=C[j];if(R)return{data:{index:j,overflows:I},reset:{placement:R}};let M=(A=I.filter(D=>D.overflows[0]<=0).sort((D,U)=>D.overflows[1]-U.overflows[1])[0])==null?void 0:A.placement;if(!M)switch(p){case"bestFit":{var T;const D=(T=I.map(U=>[U.placement,U.overflows.filter(Y=>Y>0).reduce((Y,q)=>Y+q,0)]).sort((U,Y)=>U[1]-Y[1])[0])==null?void 0:T[0];D&&(M=D);break}case"initialPlacement":M=i;break}if(s!==M)return{reset:{placement:M}}}return{}}}};function Dk(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function qk(e){return jle.some(t=>e[t]>=0)}const Vle=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=Xa(e,t);switch(r){case"referenceHidden":{const o=await of(t,{...s,elementContext:"reference"}),a=Dk(o,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:qk(a)}}}case"escaped":{const o=await of(t,{...s,altBoundary:!0}),a=Dk(o,n.floating);return{data:{escapedOffsets:a,escaped:qk(a)}}}default:return{}}}}};async function Xle(e,t){const{placement:n,platform:r,elements:s}=e,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=Ya(n),i=Kh(n),l=Wh(n)==="y",c=["left","top"].includes(a)?-1:1,d=o&&l?-1:1,h=Xa(t,e);let{mainAxis:u,crossAxis:p,alignmentAxis:y}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...h};return i&&typeof y=="number"&&(p=i==="end"?y*-1:y),l?{x:p*d,y:u*c}:{x:u*c,y:p*d}}const Yle=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:o,placement:a,middlewareData:i}=t,l=await Xle(t,e);return a===((n=i.offset)==null?void 0:n.placement)&&(r=i.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:o+l.y,data:{...l,placement:a}}}}},Hle=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:o=!0,crossAxis:a=!1,limiter:i={fn:x=>{let{x:w,y:S}=x;return{x:w,y:S}}},...l}=Xa(e,t),c={x:n,y:r},d=await of(t,l),h=Wh(Ya(s)),u=Yb(h);let p=c[u],y=c[h];if(o){const x=u==="y"?"top":"left",w=u==="y"?"bottom":"right",S=p+d[x],v=p-d[w];p=Q3(S,p,v)}if(a){const x=h==="y"?"top":"left",w=h==="y"?"bottom":"right",S=y+d[x],v=y-d[w];y=Q3(S,y,v)}const g=i.fn({...t,[u]:p,[h]:y});return{...g,data:{x:g.x-n,y:g.y-r}}}}},Gle=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:o,middlewareData:a}=t,{offset:i=0,mainAxis:l=!0,crossAxis:c=!0}=Xa(e,t),d={x:n,y:r},h=Wh(s),u=Yb(h);let p=d[u],y=d[h];const g=Xa(i,t),x=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const v=u==="y"?"height":"width",k=o.reference[u]-o.floating[v]+x.mainAxis,C=o.reference[u]+o.reference[v]-x.mainAxis;p<k?p=k:p>C&&(p=C)}if(c){var w,S;const v=u==="y"?"width":"height",k=["top","left"].includes(Ya(s)),C=o.reference[h]-o.floating[v]+(k&&((w=a.offset)==null?void 0:w[h])||0)+(k?0:x.crossAxis),_=o.reference[h]+o.reference[v]+(k?0:((S=a.offset)==null?void 0:S[h])||0)-(k?x.crossAxis:0);y<C?y=C:y>_&&(y=_)}return{[u]:p,[h]:y}}}},Zle=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:s,elements:o}=t,{apply:a=()=>{},...i}=Xa(e,t),l=await of(t,i),c=Ya(n),d=Kh(n),h=Wh(n)==="y",{width:u,height:p}=r.floating;let y,g;c==="top"||c==="bottom"?(y=c,g=d===(await(s.isRTL==null?void 0:s.isRTL(o.floating))?"start":"end")?"left":"right"):(g=c,y=d==="end"?"top":"bottom");const x=p-l.top-l.bottom,w=u-l.left-l.right,S=Ho(p-l[y],x),v=Ho(u-l[g],w),k=!t.middlewareData.shift;let C=S,_=v;if(h?_=d||k?Ho(v,w):w:C=d||k?Ho(S,x):x,k&&!d){const I=cs(l.left,0),z=cs(l.right,0),A=cs(l.top,0),T=cs(l.bottom,0);h?_=u-2*(I!==0||z!==0?I+z:cs(l.left,l.right)):C=p-2*(A!==0||T!==0?A+T:cs(l.top,l.bottom))}await a({...t,availableWidth:_,availableHeight:C});const E=await s.getDimensions(o.floating);return u!==E.width||p!==E.height?{reset:{rects:!0}}:{}}}};function Uh(e){return DL(e)?(e.nodeName||"").toLowerCase():"#document"}function Ss(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ri(e){var t;return(t=(DL(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function DL(e){return e instanceof Node||e instanceof Ss(e).Node}function la(e){return e instanceof Element||e instanceof Ss(e).Element}function ca(e){return e instanceof HTMLElement||e instanceof Ss(e).HTMLElement}function Bk(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ss(e).ShadowRoot}function Yf(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=Eo(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(s)}function Qle(e){return["table","td","th"].includes(Uh(e))}function Zb(e){const t=Qb(),n=Eo(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Jle(e){let t=Qi(e);for(;ca(t)&&!Ch(t);){if(Zb(t))return t;t=Qi(t)}return null}function Qb(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ch(e){return["html","body","#document"].includes(Uh(e))}function Eo(e){return Ss(e).getComputedStyle(e)}function c2(e){return la(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Qi(e){if(Uh(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Bk(e)&&e.host||ri(e);return Bk(t)?t.host:t}function qL(e){const t=Qi(e);return Ch(t)?e.ownerDocument?e.ownerDocument.body:e.body:ca(t)&&Yf(t)?t:qL(t)}function af(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=qL(e),o=s===((r=e.ownerDocument)==null?void 0:r.body),a=Ss(s);return o?t.concat(a,a.visualViewport||[],Yf(s)?s:[],a.frameElement&&n?af(a.frameElement):[]):t.concat(s,af(s,[],n))}function BL(e){const t=Eo(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=ca(e),o=s?e.offsetWidth:n,a=s?e.offsetHeight:r,i=Wy(n)!==o||Wy(r)!==a;return i&&(n=o,r=a),{width:n,height:r,$:i}}function Jb(e){return la(e)?e:e.contextElement}function ah(e){const t=Jb(e);if(!ca(t))return Zi(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:o}=BL(t);let a=(o?Wy(n.width):n.width)/r,i=(o?Wy(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!i||!Number.isFinite(i))&&(i=1),{x:a,y:i}}const ece=Zi(0);function FL(e){const t=Ss(e);return!Qb()||!t.visualViewport?ece:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function tce(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Ss(e)?!1:t}function vc(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),o=Jb(e);let a=Zi(1);t&&(r?la(r)&&(a=ah(r)):a=ah(e));const i=tce(o,n,r)?FL(o):Zi(0);let l=(s.left+i.x)/a.x,c=(s.top+i.y)/a.y,d=s.width/a.x,h=s.height/a.y;if(o){const u=Ss(o),p=r&&la(r)?Ss(r):r;let y=u,g=y.frameElement;for(;g&&r&&p!==y;){const x=ah(g),w=g.getBoundingClientRect(),S=Eo(g),v=w.left+(g.clientLeft+parseFloat(S.paddingLeft))*x.x,k=w.top+(g.clientTop+parseFloat(S.paddingTop))*x.y;l*=x.x,c*=x.y,d*=x.x,h*=x.y,l+=v,c+=k,y=Ss(g),g=y.frameElement}}return Vy({width:d,height:h,x:l,y:c})}const nce=[":popover-open",":modal"];function e6(e){return nce.some(t=>{try{return e.matches(t)}catch{return!1}})}function rce(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const o=s==="fixed",a=ri(r),i=t?e6(t.floating):!1;if(r===a||i&&o)return n;let l={scrollLeft:0,scrollTop:0},c=Zi(1);const d=Zi(0),h=ca(r);if((h||!h&&!o)&&((Uh(r)!=="body"||Yf(a))&&(l=c2(r)),ca(r))){const u=vc(r);c=ah(r),d.x=u.x+r.clientLeft,d.y=u.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x,y:n.y*c.y-l.scrollTop*c.y+d.y}}function sce(e){return Array.from(e.getClientRects())}function KL(e){return vc(ri(e)).left+c2(e).scrollLeft}function oce(e){const t=ri(e),n=c2(e),r=e.ownerDocument.body,s=cs(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=cs(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+KL(e);const i=-n.scrollTop;return Eo(r).direction==="rtl"&&(a+=cs(t.clientWidth,r.clientWidth)-s),{width:s,height:o,x:a,y:i}}function ace(e,t){const n=Ss(e),r=ri(e),s=n.visualViewport;let o=r.clientWidth,a=r.clientHeight,i=0,l=0;if(s){o=s.width,a=s.height;const c=Qb();(!c||c&&t==="fixed")&&(i=s.offsetLeft,l=s.offsetTop)}return{width:o,height:a,x:i,y:l}}function ice(e,t){const n=vc(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,o=ca(e)?ah(e):Zi(1),a=e.clientWidth*o.x,i=e.clientHeight*o.y,l=s*o.x,c=r*o.y;return{width:a,height:i,x:l,y:c}}function Fk(e,t,n){let r;if(t==="viewport")r=ace(e,n);else if(t==="document")r=oce(ri(e));else if(la(t))r=ice(t,n);else{const s=FL(e);r={...t,x:t.x-s.x,y:t.y-s.y}}return Vy(r)}function WL(e,t){const n=Qi(e);return n===t||!la(n)||Ch(n)?!1:Eo(n).position==="fixed"||WL(n,t)}function lce(e,t){const n=t.get(e);if(n)return n;let r=af(e,[],!1).filter(i=>la(i)&&Uh(i)!=="body"),s=null;const o=Eo(e).position==="fixed";let a=o?Qi(e):e;for(;la(a)&&!Ch(a);){const i=Eo(a),l=Zb(a);!l&&i.position==="fixed"&&(s=null),(o?!l&&!s:!l&&i.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Yf(a)&&!l&&WL(e,a))?r=r.filter(d=>d!==a):s=i,a=Qi(a)}return t.set(e,r),r}function cce(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const a=[...n==="clippingAncestors"?e6(t)?[]:lce(t,this._c):[].concat(n),r],i=a[0],l=a.reduce((c,d)=>{const h=Fk(t,d,s);return c.top=cs(h.top,c.top),c.right=Ho(h.right,c.right),c.bottom=Ho(h.bottom,c.bottom),c.left=cs(h.left,c.left),c},Fk(t,i,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function dce(e){const{width:t,height:n}=BL(e);return{width:t,height:n}}function hce(e,t,n){const r=ca(t),s=ri(t),o=n==="fixed",a=vc(e,!0,o,t);let i={scrollLeft:0,scrollTop:0};const l=Zi(0);if(r||!r&&!o)if((Uh(t)!=="body"||Yf(s))&&(i=c2(t)),r){const h=vc(t,!0,o,t);l.x=h.x+t.clientLeft,l.y=h.y+t.clientTop}else s&&(l.x=KL(s));const c=a.left+i.scrollLeft-l.x,d=a.top+i.scrollTop-l.y;return{x:c,y:d,width:a.width,height:a.height}}function m5(e){return Eo(e).position==="static"}function Kk(e,t){return!ca(e)||Eo(e).position==="fixed"?null:t?t(e):e.offsetParent}function UL(e,t){const n=Ss(e);if(e6(e))return n;if(!ca(e)){let s=Qi(e);for(;s&&!Ch(s);){if(la(s)&&!m5(s))return s;s=Qi(s)}return n}let r=Kk(e,t);for(;r&&Qle(r)&&m5(r);)r=Kk(r,t);return r&&Ch(r)&&m5(r)&&!Zb(r)?n:r||Jle(e)||n}const uce=async function(e){const t=this.getOffsetParent||UL,n=this.getDimensions,r=await n(e.floating);return{reference:hce(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function pce(e){return Eo(e).direction==="rtl"}const fce={convertOffsetParentRelativeRectToViewportRelativeRect:rce,getDocumentElement:ri,getClippingRect:cce,getOffsetParent:UL,getElementRects:uce,getClientRects:sce,getDimensions:dce,getScale:ah,isElement:la,isRTL:pce};function gce(e,t){let n=null,r;const s=ri(e);function o(){var i;clearTimeout(r),(i=n)==null||i.disconnect(),n=null}function a(i,l){i===void 0&&(i=!1),l===void 0&&(l=1),o();const{left:c,top:d,width:h,height:u}=e.getBoundingClientRect();if(i||t(),!h||!u)return;const p=u0(d),y=u0(s.clientWidth-(c+h)),g=u0(s.clientHeight-(d+u)),x=u0(c),S={rootMargin:-p+"px "+-y+"px "+-g+"px "+-x+"px",threshold:cs(0,Ho(1,l))||1};let v=!0;function k(C){const _=C[0].intersectionRatio;if(_!==l){if(!v)return a();_?a(!1,_):r=setTimeout(()=>{a(!1,1e-7)},1e3)}v=!1}try{n=new IntersectionObserver(k,{...S,root:s.ownerDocument})}catch{n=new IntersectionObserver(k,S)}n.observe(e)}return a(!0),o}function mce(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:i=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Jb(e),d=s||o?[...c?af(c):[],...af(t)]:[];d.forEach(w=>{s&&w.addEventListener("scroll",n,{passive:!0}),o&&w.addEventListener("resize",n)});const h=c&&i?gce(c,n):null;let u=-1,p=null;a&&(p=new ResizeObserver(w=>{let[S]=w;S&&S.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(u),u=requestAnimationFrame(()=>{var v;(v=p)==null||v.observe(t)})),n()}),c&&!l&&p.observe(c),p.observe(t));let y,g=l?vc(e):null;l&&x();function x(){const w=vc(e);g&&(w.x!==g.x||w.y!==g.y||w.width!==g.width||w.height!==g.height)&&n(),g=w,y=requestAnimationFrame(x)}return n(),()=>{var w;d.forEach(S=>{s&&S.removeEventListener("scroll",n),o&&S.removeEventListener("resize",n)}),h==null||h(),(w=p)==null||w.disconnect(),p=null,l&&cancelAnimationFrame(y)}}const yce=Yle,xce=Hle,wce=Ule,Sce=Zle,bce=Vle,Wk=Wle,vce=Gle,kce=(e,t,n)=>{const r=new Map,s={platform:fce,...n},o={...s.platform,_c:r};return Kle(e,t,{...s,platform:o})};var Em=typeof document<"u"?b.useLayoutEffect:b.useEffect;function Xy(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Xy(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&e.$$typeof)&&!Xy(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function VL(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Uk(e,t){const n=VL(e);return Math.round(t*n)/n}function Vk(e){const t=b.useRef(e);return Em(()=>{t.current=e}),t}function Cce(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:a}={},transform:i=!0,whileElementsMounted:l,open:c}=e,[d,h]=b.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[u,p]=b.useState(r);Xy(u,r)||p(r);const[y,g]=b.useState(null),[x,w]=b.useState(null),S=b.useCallback(Y=>{Y!==_.current&&(_.current=Y,g(Y))},[]),v=b.useCallback(Y=>{Y!==E.current&&(E.current=Y,w(Y))},[]),k=o||y,C=a||x,_=b.useRef(null),E=b.useRef(null),I=b.useRef(d),z=l!=null,A=Vk(l),T=Vk(s),j=b.useCallback(()=>{if(!_.current||!E.current)return;const Y={placement:t,strategy:n,middleware:u};T.current&&(Y.platform=T.current),kce(_.current,E.current,Y).then(q=>{const K={...q,isPositioned:!0};R.current&&!Xy(I.current,K)&&(I.current=K,jc.flushSync(()=>{h(K)}))})},[u,t,n,T]);Em(()=>{c===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,h(Y=>({...Y,isPositioned:!1})))},[c]);const R=b.useRef(!1);Em(()=>(R.current=!0,()=>{R.current=!1}),[]),Em(()=>{if(k&&(_.current=k),C&&(E.current=C),k&&C){if(A.current)return A.current(k,C,j);j()}},[k,C,j,A,z]);const M=b.useMemo(()=>({reference:_,floating:E,setReference:S,setFloating:v}),[S,v]),D=b.useMemo(()=>({reference:k,floating:C}),[k,C]),U=b.useMemo(()=>{const Y={position:n,left:0,top:0};if(!D.floating)return Y;const q=Uk(D.floating,d.x),K=Uk(D.floating,d.y);return i?{...Y,transform:"translate("+q+"px, "+K+"px)",...VL(D.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:q,top:K}},[n,i,D.floating,d.x,d.y]);return b.useMemo(()=>({...d,update:j,refs:M,elements:D,floatingStyles:U}),[d,j,M,D,U])}const _ce=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Wk({element:r.current,padding:s}).fn(n):{}:r?Wk({element:r,padding:s}).fn(n):{}}}},Ece=(e,t)=>({...yce(e),options:[e,t]}),Ice=(e,t)=>({...xce(e),options:[e,t]}),Pce=(e,t)=>({...vce(e),options:[e,t]}),zce=(e,t)=>({...wce(e),options:[e,t]}),Ace=(e,t)=>({...Sce(e),options:[e,t]}),Nce=(e,t)=>({...bce(e),options:[e,t]}),Tce=(e,t)=>({..._ce(e),options:[e,t]});function XL(e){const[t,n]=b.useState(void 0);return bc(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let a,i;if("borderBoxSize"in o){const l=o.borderBoxSize,c=Array.isArray(l)?l[0]:l;a=c.inlineSize,i=c.blockSize}else a=e.offsetWidth,i=e.offsetHeight;n({width:a,height:i})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}const YL="Popper",[HL,d2]=ga(YL),[Lce,GL]=HL(YL),Mce=e=>{const{__scopePopper:t,children:n}=e,[r,s]=b.useState(null);return b.createElement(Lce,{scope:t,anchor:r,onAnchorChange:s},n)},jce="PopperAnchor",Rce=b.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,o=GL(jce,n),a=b.useRef(null),i=Tt(t,a);return b.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:b.createElement(Ct.div,se({},s,{ref:i}))}),ZL="PopperContent",[$ce,E3e]=HL(ZL),Oce=b.forwardRef((e,t)=>{var n,r,s,o,a,i,l,c;const{__scopePopper:d,side:h="bottom",sideOffset:u=0,align:p="center",alignOffset:y=0,arrowPadding:g=0,avoidCollisions:x=!0,collisionBoundary:w=[],collisionPadding:S=0,sticky:v="partial",hideWhenDetached:k=!1,updatePositionStrategy:C="optimized",onPlaced:_,...E}=e,I=GL(ZL,d),[z,A]=b.useState(null),T=Tt(t,He=>A(He)),[j,R]=b.useState(null),M=XL(j),D=(n=M==null?void 0:M.width)!==null&&n!==void 0?n:0,U=(r=M==null?void 0:M.height)!==null&&r!==void 0?r:0,Y=h+(p!=="center"?"-"+p:""),q=typeof S=="number"?S:{top:0,right:0,bottom:0,left:0,...S},K=Array.isArray(w)?w:[w],W=K.length>0,G={padding:q,boundary:K.filter(Dce),altBoundary:W},{refs:ne,floatingStyles:ce,placement:Le,isPositioned:re,middlewareData:Pe}=Cce({strategy:"fixed",placement:Y,whileElementsMounted:(...He)=>mce(...He,{animationFrame:C==="always"}),elements:{reference:I.anchor},middleware:[Ece({mainAxis:u+U,alignmentAxis:y}),x&&Ice({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?Pce():void 0,...G}),x&&zce({...G}),Ace({...G,apply:({elements:He,rects:tt,availableWidth:Is,availableHeight:Qs})=>{const{width:bl,height:ci}=tt.reference,di=He.floating.style;di.setProperty("--radix-popper-available-width",`${Is}px`),di.setProperty("--radix-popper-available-height",`${Qs}px`),di.setProperty("--radix-popper-anchor-width",`${bl}px`),di.setProperty("--radix-popper-anchor-height",`${ci}px`)}}),j&&Tce({element:j,padding:g}),qce({arrowWidth:D,arrowHeight:U}),k&&Nce({strategy:"referenceHidden",...G})]}),[Me,ht]=QL(Le),je=kr(_);bc(()=>{re&&(je==null||je())},[re,je]);const Ke=(s=Pe.arrow)===null||s===void 0?void 0:s.x,Ae=(o=Pe.arrow)===null||o===void 0?void 0:o.y,at=((a=Pe.arrow)===null||a===void 0?void 0:a.centerOffset)!==0,[Lt,ln]=b.useState();return bc(()=>{z&&ln(window.getComputedStyle(z).zIndex)},[z]),b.createElement("div",{ref:ne.setFloating,"data-radix-popper-content-wrapper":"",style:{...ce,transform:re?ce.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Lt,"--radix-popper-transform-origin":[(i=Pe.transformOrigin)===null||i===void 0?void 0:i.x,(l=Pe.transformOrigin)===null||l===void 0?void 0:l.y].join(" ")},dir:e.dir},b.createElement($ce,{scope:d,placedSide:Me,onArrowChange:R,arrowX:Ke,arrowY:Ae,shouldHideArrow:at},b.createElement(Ct.div,se({"data-side":Me,"data-align":ht},E,{ref:T,style:{...E.style,animation:re?void 0:"none",opacity:(c=Pe.hide)!==null&&c!==void 0&&c.referenceHidden?0:void 0}}))))});function Dce(e){return e!==null}const qce=e=>({name:"transformOrigin",options:e,fn(t){var n,r,s,o,a;const{placement:i,rects:l,middlewareData:c}=t,h=((n=c.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,u=h?0:e.arrowWidth,p=h?0:e.arrowHeight,[y,g]=QL(i),x={start:"0%",center:"50%",end:"100%"}[g],w=((r=(s=c.arrow)===null||s===void 0?void 0:s.x)!==null&&r!==void 0?r:0)+u/2,S=((o=(a=c.arrow)===null||a===void 0?void 0:a.y)!==null&&o!==void 0?o:0)+p/2;let v="",k="";return y==="bottom"?(v=h?x:`${w}px`,k=`${-p}px`):y==="top"?(v=h?x:`${w}px`,k=`${l.floating.height+p}px`):y==="right"?(v=`${-p}px`,k=h?x:`${S}px`):y==="left"&&(v=`${l.floating.width+p}px`,k=h?x:`${S}px`),{data:{x:v,y:k}}}});function QL(e){const[t,n="center"]=e.split("-");return[t,n]}const t6=Mce,JL=Rce,eM=Oce,y5="rovingFocusGroup.onEntryFocus",Bce={bubbles:!1,cancelable:!0},n6="RovingFocusGroup",[eS,tM,Fce]=Q1(n6),[Kce,nM]=ga(n6,[Fce]),[Wce,Uce]=Kce(n6),Vce=b.forwardRef((e,t)=>b.createElement(eS.Provider,{scope:e.__scopeRovingFocusGroup},b.createElement(eS.Slot,{scope:e.__scopeRovingFocusGroup},b.createElement(Xce,se({},e,{ref:t}))))),Xce=b.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:a,defaultCurrentTabStopId:i,onCurrentTabStopIdChange:l,onEntryFocus:c,...d}=e,h=b.useRef(null),u=Tt(t,h),p=Xb(o),[y=null,g]=ul({prop:a,defaultProp:i,onChange:l}),[x,w]=b.useState(!1),S=kr(c),v=tM(n),k=b.useRef(!1),[C,_]=b.useState(0);return b.useEffect(()=>{const E=h.current;if(E)return E.addEventListener(y5,S),()=>E.removeEventListener(y5,S)},[S]),b.createElement(Wce,{scope:n,orientation:r,dir:p,loop:s,currentTabStopId:y,onItemFocus:b.useCallback(E=>g(E),[g]),onItemShiftTab:b.useCallback(()=>w(!0),[]),onFocusableItemAdd:b.useCallback(()=>_(E=>E+1),[]),onFocusableItemRemove:b.useCallback(()=>_(E=>E-1),[])},b.createElement(Ct.div,se({tabIndex:x||C===0?-1:0,"data-orientation":r},d,{ref:u,style:{outline:"none",...e.style},onMouseDown:ye(e.onMouseDown,()=>{k.current=!0}),onFocus:ye(e.onFocus,E=>{const I=!k.current;if(E.target===E.currentTarget&&I&&!x){const z=new CustomEvent(y5,Bce);if(E.currentTarget.dispatchEvent(z),!z.defaultPrevented){const A=v().filter(D=>D.focusable),T=A.find(D=>D.active),j=A.find(D=>D.id===y),M=[T,j,...A].filter(Boolean).map(D=>D.ref.current);rM(M)}}k.current=!1}),onBlur:ye(e.onBlur,()=>w(!1))})))}),Yce="RovingFocusGroupItem",Hce=b.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,...a}=e,i=Oa(),l=o||i,c=Uce(Yce,n),d=c.currentTabStopId===l,h=tM(n),{onFocusableItemAdd:u,onFocusableItemRemove:p}=c;return b.useEffect(()=>{if(r)return u(),()=>p()},[r,u,p]),b.createElement(eS.ItemSlot,{scope:n,id:l,focusable:r,active:s},b.createElement(Ct.span,se({tabIndex:d?0:-1,"data-orientation":c.orientation},a,{ref:t,onMouseDown:ye(e.onMouseDown,y=>{r?c.onItemFocus(l):y.preventDefault()}),onFocus:ye(e.onFocus,()=>c.onItemFocus(l)),onKeyDown:ye(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){c.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const g=Qce(y,c.orientation,c.dir);if(g!==void 0){y.preventDefault();let w=h().filter(S=>S.focusable).map(S=>S.ref.current);if(g==="last")w.reverse();else if(g==="prev"||g==="next"){g==="prev"&&w.reverse();const S=w.indexOf(y.currentTarget);w=c.loop?Jce(w,S+1):w.slice(S+1)}setTimeout(()=>rM(w))}})})))}),Gce={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Zce(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Qce(e,t,n){const r=Zce(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Gce[r]}function rM(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function Jce(e,t){return e.map((n,r)=>e[(t+r)%e.length])}const ede=Vce,tde=Hce,tS=["Enter"," "],nde=["ArrowDown","PageUp","Home"],sM=["ArrowUp","PageDown","End"],rde=[...nde,...sM],sde={ltr:[...tS,"ArrowRight"],rtl:[...tS,"ArrowLeft"]},ode={ltr:["ArrowLeft"],rtl:["ArrowRight"]},h2="Menu",[lf,ade,ide]=Q1(h2),[$c,u2]=ga(h2,[ide,d2,nM]),p2=d2(),oM=nM(),[aM,pl]=$c(h2),[lde,Hf]=$c(h2),cde=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:s,onOpenChange:o,modal:a=!0}=e,i=p2(t),[l,c]=b.useState(null),d=b.useRef(!1),h=kr(o),u=Xb(s);return b.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),b.createElement(t6,i,b.createElement(aM,{scope:t,open:n,onOpenChange:h,content:l,onContentChange:c},b.createElement(lde,{scope:t,onClose:b.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:u,modal:a},r)))},iM=b.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=p2(n);return b.createElement(JL,se({},s,r,{ref:t}))}),lM="MenuPortal",[dde,cM]=$c(lM,{forceMount:void 0}),hde=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:s}=e,o=pl(lM,t);return b.createElement(dde,{scope:t,forceMount:n},b.createElement(Po,{present:n||o.open},b.createElement(e2,{asChild:!0,container:s},r)))},bo="MenuContent",[ude,r6]=$c(bo),pde=b.forwardRef((e,t)=>{const n=cM(bo,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,o=pl(bo,e.__scopeMenu),a=Hf(bo,e.__scopeMenu);return b.createElement(lf.Provider,{scope:e.__scopeMenu},b.createElement(Po,{present:r||o.open},b.createElement(lf.Slot,{scope:e.__scopeMenu},a.modal?b.createElement(fde,se({},s,{ref:t})):b.createElement(gde,se({},s,{ref:t})))))}),fde=b.forwardRef((e,t)=>{const n=pl(bo,e.__scopeMenu),r=b.useRef(null),s=Tt(t,r);return b.useEffect(()=>{const o=r.current;if(o)return Ob(o)},[]),b.createElement(s6,se({},e,{ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ye(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)}))}),gde=b.forwardRef((e,t)=>{const n=pl(bo,e.__scopeMenu);return b.createElement(s6,se({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)}))}),s6=b.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:a,disableOutsidePointerEvents:i,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:u,onDismiss:p,disableOutsideScroll:y,...g}=e,x=pl(bo,n),w=Hf(bo,n),S=p2(n),v=oM(n),k=ade(n),[C,_]=b.useState(null),E=b.useRef(null),I=Tt(t,E,x.onContentChange),z=b.useRef(0),A=b.useRef(""),T=b.useRef(0),j=b.useRef(null),R=b.useRef("right"),M=b.useRef(0),D=y?$b:b.Fragment,U=y?{as:Sc,allowPinchZoom:!0}:void 0,Y=K=>{var W,G;const ne=A.current+K,ce=k().filter(je=>!je.disabled),Le=document.activeElement,re=(W=ce.find(je=>je.ref.current===Le))===null||W===void 0?void 0:W.textValue,Pe=ce.map(je=>je.textValue),Me=zde(Pe,ne,re),ht=(G=ce.find(je=>je.textValue===Me))===null||G===void 0?void 0:G.ref.current;(function je(Ke){A.current=Ke,window.clearTimeout(z.current),Ke!==""&&(z.current=window.setTimeout(()=>je(""),1e3))})(ne),ht&&setTimeout(()=>ht.focus())};b.useEffect(()=>()=>window.clearTimeout(z.current),[]),Rb();const q=b.useCallback(K=>{var W,G;return R.current===((W=j.current)===null||W===void 0?void 0:W.side)&&Nde(K,(G=j.current)===null||G===void 0?void 0:G.area)},[]);return b.createElement(ude,{scope:n,searchRef:A,onItemEnter:b.useCallback(K=>{q(K)&&K.preventDefault()},[q]),onItemLeave:b.useCallback(K=>{var W;q(K)||((W=E.current)===null||W===void 0||W.focus(),_(null))},[q]),onTriggerLeave:b.useCallback(K=>{q(K)&&K.preventDefault()},[q]),pointerGraceTimerRef:T,onPointerGraceIntentChange:b.useCallback(K=>{j.current=K},[])},b.createElement(D,U,b.createElement(jb,{asChild:!0,trapped:s,onMountAutoFocus:ye(o,K=>{var W;K.preventDefault(),(W=E.current)===null||W===void 0||W.focus()}),onUnmountAutoFocus:a},b.createElement(J1,{asChild:!0,disableOutsidePointerEvents:i,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:u,onDismiss:p},b.createElement(ede,se({asChild:!0},v,{dir:w.dir,orientation:"vertical",loop:r,currentTabStopId:C,onCurrentTabStopIdChange:_,onEntryFocus:ye(l,K=>{w.isUsingKeyboardRef.current||K.preventDefault()})}),b.createElement(eM,se({role:"menu","aria-orientation":"vertical","data-state":gM(x.open),"data-radix-menu-content":"",dir:w.dir},S,g,{ref:I,style:{outline:"none",...g.style},onKeyDown:ye(g.onKeyDown,K=>{const G=K.target.closest("[data-radix-menu-content]")===K.currentTarget,ne=K.ctrlKey||K.altKey||K.metaKey,ce=K.key.length===1;G&&(K.key==="Tab"&&K.preventDefault(),!ne&&ce&&Y(K.key));const Le=E.current;if(K.target!==Le||!rde.includes(K.key))return;K.preventDefault();const Pe=k().filter(Me=>!Me.disabled).map(Me=>Me.ref.current);sM.includes(K.key)&&Pe.reverse(),Ide(Pe)}),onBlur:ye(e.onBlur,K=>{K.currentTarget.contains(K.target)||(window.clearTimeout(z.current),A.current="")}),onPointerMove:ye(e.onPointerMove,cf(K=>{const W=K.target,G=M.current!==K.clientX;if(K.currentTarget.contains(W)&&G){const ne=K.clientX>M.current?"right":"left";R.current=ne,M.current=K.clientX}}))})))))))}),mde=b.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return b.createElement(Ct.div,se({role:"group"},r,{ref:t}))}),nS="MenuItem",Xk="menu.itemSelect",dM=b.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...s}=e,o=b.useRef(null),a=Hf(nS,e.__scopeMenu),i=r6(nS,e.__scopeMenu),l=Tt(t,o),c=b.useRef(!1),d=()=>{const h=o.current;if(!n&&h){const u=new CustomEvent(Xk,{bubbles:!0,cancelable:!0});h.addEventListener(Xk,p=>r==null?void 0:r(p),{once:!0}),Tb(h,u),u.defaultPrevented?c.current=!1:a.onClose()}};return b.createElement(hM,se({},s,{ref:l,disabled:n,onClick:ye(e.onClick,d),onPointerDown:h=>{var u;(u=e.onPointerDown)===null||u===void 0||u.call(e,h),c.current=!0},onPointerUp:ye(e.onPointerUp,h=>{var u;c.current||(u=h.currentTarget)===null||u===void 0||u.click()}),onKeyDown:ye(e.onKeyDown,h=>{const u=i.searchRef.current!=="";n||u&&h.key===" "||tS.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})}))}),hM=b.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...o}=e,a=r6(nS,n),i=oM(n),l=b.useRef(null),c=Tt(t,l),[d,h]=b.useState(!1),[u,p]=b.useState("");return b.useEffect(()=>{const y=l.current;if(y){var g;p(((g=y.textContent)!==null&&g!==void 0?g:"").trim())}},[o.children]),b.createElement(lf.ItemSlot,{scope:n,disabled:r,textValue:s??u},b.createElement(tde,se({asChild:!0},i,{focusable:!r}),b.createElement(Ct.div,se({role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0},o,{ref:c,onPointerMove:ye(e.onPointerMove,cf(y=>{r?a.onItemLeave(y):(a.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus())})),onPointerLeave:ye(e.onPointerLeave,cf(y=>a.onItemLeave(y))),onFocus:ye(e.onFocus,()=>h(!0)),onBlur:ye(e.onBlur,()=>h(!1))}))))}),yde=b.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...s}=e;return b.createElement(wde,{scope:e.__scopeMenu,checked:n},b.createElement(dM,se({role:"menuitemcheckbox","aria-checked":Yy(n)?"mixed":n},s,{ref:t,"data-state":mM(n),onSelect:ye(s.onSelect,()=>r==null?void 0:r(Yy(n)?!0:!n),{checkForDefaultPrevented:!1})})))}),xde="MenuRadioGroup";$c(xde,{value:void 0,onValueChange:()=>{}});const uM="MenuItemIndicator",[wde,Sde]=$c(uM,{checked:!1}),bde=b.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...s}=e,o=Sde(uM,n);return b.createElement(Po,{present:r||Yy(o.checked)||o.checked===!0},b.createElement(Ct.span,se({},s,{ref:t,"data-state":mM(o.checked)})))}),pM="MenuSub",[vde,fM]=$c(pM),kde=e=>{const{__scopeMenu:t,children:n,open:r=!1,onOpenChange:s}=e,o=pl(pM,t),a=p2(t),[i,l]=b.useState(null),[c,d]=b.useState(null),h=kr(s);return b.useEffect(()=>(o.open===!1&&h(!1),()=>h(!1)),[o.open,h]),b.createElement(t6,a,b.createElement(aM,{scope:t,open:r,onOpenChange:h,content:c,onContentChange:d},b.createElement(vde,{scope:t,contentId:Oa(),triggerId:Oa(),trigger:i,onTriggerChange:l},n)))},p0="MenuSubTrigger",Cde=b.forwardRef((e,t)=>{const n=pl(p0,e.__scopeMenu),r=Hf(p0,e.__scopeMenu),s=fM(p0,e.__scopeMenu),o=r6(p0,e.__scopeMenu),a=b.useRef(null),{pointerGraceTimerRef:i,onPointerGraceIntentChange:l}=o,c={__scopeMenu:e.__scopeMenu},d=b.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return b.useEffect(()=>d,[d]),b.useEffect(()=>{const h=i.current;return()=>{window.clearTimeout(h),l(null)}},[i,l]),b.createElement(iM,se({asChild:!0},c),b.createElement(hM,se({id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":gM(n.open)},e,{ref:Z1(t,s.onTriggerChange),onClick:h=>{var u;(u=e.onClick)===null||u===void 0||u.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ye(e.onPointerMove,cf(h=>{o.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!n.open&&!a.current&&(o.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:ye(e.onPointerLeave,cf(h=>{var u;d();const p=(u=n.content)===null||u===void 0?void 0:u.getBoundingClientRect();if(p){var y;const g=(y=n.content)===null||y===void 0?void 0:y.dataset.side,x=g==="right",w=x?-5:5,S=p[x?"left":"right"],v=p[x?"right":"left"];o.onPointerGraceIntentChange({area:[{x:h.clientX+w,y:h.clientY},{x:S,y:p.top},{x:v,y:p.top},{x:v,y:p.bottom},{x:S,y:p.bottom}],side:g}),window.clearTimeout(i.current),i.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(h),h.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:ye(e.onKeyDown,h=>{const u=o.searchRef.current!=="";if(!(e.disabled||u&&h.key===" ")&&sde[r.dir].includes(h.key)){var p;n.onOpenChange(!0),(p=n.content)===null||p===void 0||p.focus(),h.preventDefault()}})})))}),_de="MenuSubContent",Ede=b.forwardRef((e,t)=>{const n=cM(bo,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,o=pl(bo,e.__scopeMenu),a=Hf(bo,e.__scopeMenu),i=fM(_de,e.__scopeMenu),l=b.useRef(null),c=Tt(t,l);return b.createElement(lf.Provider,{scope:e.__scopeMenu},b.createElement(Po,{present:r||o.open},b.createElement(lf.Slot,{scope:e.__scopeMenu},b.createElement(s6,se({id:i.contentId,"aria-labelledby":i.triggerId},s,{ref:c,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;a.isUsingKeyboardRef.current&&((h=l.current)===null||h===void 0||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:ye(e.onFocusOutside,d=>{d.target!==i.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:ye(e.onEscapeKeyDown,d=>{a.onClose(),d.preventDefault()}),onKeyDown:ye(e.onKeyDown,d=>{const h=d.currentTarget.contains(d.target),u=ode[a.dir].includes(d.key);if(h&&u){var p;o.onOpenChange(!1),(p=i.trigger)===null||p===void 0||p.focus(),d.preventDefault()}})})))))});function gM(e){return e?"open":"closed"}function Yy(e){return e==="indeterminate"}function mM(e){return Yy(e)?"indeterminate":e?"checked":"unchecked"}function Ide(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function Pde(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function zde(e,t,n){const s=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let a=Pde(e,Math.max(o,0));s.length===1&&(a=a.filter(c=>c!==n));const l=a.find(c=>c.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function Ade(e,t){const{x:n,y:r}=e;let s=!1;for(let o=0,a=t.length-1;o<t.length;a=o++){const i=t[o].x,l=t[o].y,c=t[a].x,d=t[a].y;l>r!=d>r&&n<(c-i)*(r-l)/(d-l)+i&&(s=!s)}return s}function Nde(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return Ade(n,t)}function cf(e){return t=>t.pointerType==="mouse"?e(t):void 0}const yM=cde,xM=iM,wM=hde,SM=pde,bM=mde,vM=dM,kM=yde,Tde=bde,CM=kde,_M=Cde,EM=Ede,IM="DropdownMenu",[Lde,I3e]=ga(IM,[u2]),zo=u2(),[Mde,PM]=Lde(IM),jde=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:s,defaultOpen:o,onOpenChange:a,modal:i=!0}=e,l=zo(t),c=b.useRef(null),[d=!1,h]=ul({prop:s,defaultProp:o,onChange:a});return b.createElement(Mde,{scope:t,triggerId:Oa(),triggerRef:c,contentId:Oa(),open:d,onOpenChange:h,onOpenToggle:b.useCallback(()=>h(u=>!u),[h]),modal:i},b.createElement(yM,se({},l,{open:d,onOpenChange:h,dir:r,modal:i}),n))},Rde="DropdownMenuTrigger",$de=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=e,o=PM(Rde,n),a=zo(n);return b.createElement(xM,se({asChild:!0},a),b.createElement(Ct.button,se({type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r},s,{ref:Z1(t,o.triggerRef),onPointerDown:ye(e.onPointerDown,i=>{!r&&i.button===0&&i.ctrlKey===!1&&(o.onOpenToggle(),o.open||i.preventDefault())}),onKeyDown:ye(e.onKeyDown,i=>{r||(["Enter"," "].includes(i.key)&&o.onOpenToggle(),i.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(i.key)&&i.preventDefault())})})))}),Ode=e=>{const{__scopeDropdownMenu:t,...n}=e,r=zo(t);return b.createElement(wM,se({},r,n))},Dde="DropdownMenuContent",qde=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=PM(Dde,n),o=zo(n),a=b.useRef(!1);return b.createElement(SM,se({id:s.contentId,"aria-labelledby":s.triggerId},o,r,{ref:t,onCloseAutoFocus:ye(e.onCloseAutoFocus,i=>{var l;a.current||(l=s.triggerRef.current)===null||l===void 0||l.focus(),a.current=!1,i.preventDefault()}),onInteractOutside:ye(e.onInteractOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;(!s.modal||d)&&(a.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),Bde=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=zo(n);return b.createElement(bM,se({},s,r,{ref:t}))}),Fde=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=zo(n);return b.createElement(vM,se({},s,r,{ref:t}))}),Kde=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=zo(n);return b.createElement(kM,se({},s,r,{ref:t}))}),Wde=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=zo(n);return b.createElement(Tde,se({},s,r,{ref:t}))}),Ude=e=>{const{__scopeDropdownMenu:t,children:n,open:r,onOpenChange:s,defaultOpen:o}=e,a=zo(t),[i=!1,l]=ul({prop:r,defaultProp:o,onChange:s});return b.createElement(CM,se({},a,{open:i,onOpenChange:l}),n)},Vde=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=zo(n);return b.createElement(_M,se({},s,r,{ref:t}))}),Xde=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=zo(n);return b.createElement(EM,se({},s,r,{ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),zM=jde,df=$de,o6=Ode,AM=qde,Yde=Bde,kd=Fde,NM=Kde,Hde=Wde,Gde=Ude,Zde=Vde,Qde=Xde;function Oc(e,t){const n=H(),r=b.useRef(!1),s=Fh(),o=b.useRef(0),a=b.useCallback(l=>{const c=Date.now();c-o.current<50||(o.current=c,r.current=l,n.batch(()=>{l?(n.complete(),n.addOpenMenu(e)):n.updateInstanceState({openMenus:n.getOpenMenus().filter(d=>!d.startsWith(e))}),t==null||t(l)}))},[n,e,t]),i=J("is menu open",()=>n.getOpenMenus().includes(e),[n,e]);return b.useEffect(()=>(r.current&&(s("open-menu",{source:"unknown",id:e}),n.addOpenMenu(e)),()=>{r.current&&(n.deleteOpenMenu(e),n.getOpenMenus().forEach(l=>{l.startsWith(e)&&(s("close-menu",{source:"unknown",id:e}),n.deleteOpenMenu(l))}),r.current=!1)}),[n,e,s]),[i,a]}function Ji({id:e,children:t,modal:n=!1,debugOpen:r=!1}){const[s,o]=Oc(e);return f.jsx(zM,{open:r||s,dir:"ltr",modal:n,onOpenChange:o,children:t})}function Gf({children:e,"data-testid":t}){return f.jsx(df,{dir:"ltr","data-testid":t,asChild:!0,onTouchEnd:n=>rt(n),children:e})}function el({side:e="bottom",align:t="start",sideOffset:n=8,alignOffset:r=8,children:s}){const o=zn();return f.jsx(o6,{container:o,children:f.jsx(AM,{className:"tlui-menu",align:t,sideOffset:n,side:e,alignOffset:r,collisionPadding:4,children:s})})}function a6({id:e,children:t}){const[n,r]=Oc(e);return f.jsx(Gde,{open:n,onOpenChange:r,children:t})}function i6({label:e,"data-testid":t,"data-direction":n}){return f.jsx(Zde,{dir:"ltr","data-direction":n,"data-testid":t,asChild:!0,children:f.jsx(we,{type:"menu",className:"tlui-menu__submenu__trigger",label:e,icon:"chevron-right"})})}function l6({alignOffset:e=0,sideOffset:t=5,children:n}){const r=zn();return f.jsx(o6,{container:r,children:f.jsx(Qde,{className:"tlui-menu tlui-menu__submenu__content",alignOffset:e,sideOffset:t,collisionPadding:4,children:n})})}function Da({children:e,size:t="medium"}){return f.jsx(Yde,{dir:"ltr",className:"tlui-menu__group","data-size":t,children:e})}function ds({noClose:e,...t}){return f.jsx(kd,{dir:"ltr",asChild:!0,onClick:e||t.isChecked!==void 0?rt:void 0,children:f.jsx(we,{...t})})}function TM({children:e,onSelect:t,...n}){return f.jsxs(NM,{dir:"ltr",className:"tlui-button tlui-button__menu tlui-button__checkbox",onSelect:r=>{t==null||t(r),rt(r)},...n,children:[f.jsx(Vr,{small:!0,icon:n.checked?"check":"checkbox-empty"}),e]})}function Jde({children:e,onSelect:t,...n}){return f.jsxs(NM,{dir:"ltr",className:"tlui-button tlui-button__menu tlui-button__checkbox",onSelect:r=>{t==null||t(r),rt(r)},...n,children:[f.jsx("div",{className:"tlui-button__checkbox__indicator",children:f.jsx(Hde,{dir:"ltr",children:f.jsx(Vr,{icon:"check",small:!0})})}),e]})}let Yk=0;function ehe(e,t){const n=Array(t),r=Math.floor(Math.sqrt(t));for(let s=0;s<t;s++)Yk++,n[s]={id:gt("box"+Yk),type:"geo",x:s%r*132,y:Math.floor(s/r)*132};e.batch(()=>{e.createShapes(n).setSelectedShapes(n.map(s=>s.id))})}const the=b.memo(function({renderDebugMenuItems:t}){const n=Ze();return f.jsxs("div",{className:"tlui-debug-panel",children:[f.jsx(nhe,{}),f.jsx(rhe,{}),f.jsxs(Ji,{id:"debug",children:[f.jsx(Gf,{children:f.jsx(we,{type:"icon",icon:"dots-horizontal",title:n("debug-panel.more")})}),f.jsx(el,{side:"top",align:"end",alignOffset:0,children:f.jsx(she,{renderDebugMenuItems:t})})]})]})}),nhe=et(function(){const t=H();return f.jsx("div",{className:"tlui-debug-panel__current-state",children:t.getPath()})}),rhe=function(){const t=H(),n=J("rendering shapes count",()=>t.getRenderingShapes().length,[t]);return f.jsxs("div",{children:[n," Shapes"]})},she=et(function({renderDebugMenuItems:t}){const n=H(),{addToast:r}=ma(),{addDialog:s}=Rc(),[o,a]=b.useState(!1);return f.jsxs(f.Fragment,{children:[f.jsxs(Da,{children:[f.jsx(ds,{type:"menu",onClick:()=>{r({id:bt(),title:"Something happened",description:"Hey, attend to this thing over here. It might be important!",keepOpen:!0}),r({id:bt(),title:"Something happened",description:"Hey, attend to this thing over here. It might be important!",keepOpen:!0,actions:[{label:"Primary",type:"primary",onClick:()=>{}},{label:"Normal",type:"normal",onClick:()=>{}},{label:"Danger",type:"danger",onClick:()=>{}}]}),r({id:bt(),title:"Something happened",description:"Hey, attend to this thing over here. It might be important!",keepOpen:!0,icon:"twitter",actions:[{label:"Primary",type:"primary",onClick:()=>{}},{label:"Normal",type:"normal",onClick:()=>{}},{label:"Danger",type:"danger",onClick:()=>{}}]})},label:"Show toast"}),f.jsx(ds,{type:"menu",onClick:()=>{s({component:({onClose:i})=>f.jsx(ahe,{displayDontShowAgain:!0,onCancel:()=>{i()},onContinue:()=>{i()}}),onClose:()=>{}})},label:"Show dialog"}),f.jsx(ds,{type:"menu",onClick:()=>ehe(n,100),label:"Create 100 shapes"}),f.jsx(ds,{type:"menu",onClick:()=>{function i({children:u}){let p=0;if(!u.length)return 0;for(const y of[...u])p++,p+=i(y);return p}const l=n.getSelectedShapes(),c=l.length===0?n.getRenderingShapes():l,d=c.map(u=>document.getElementById(u.id).parentElement);let h=d.length;for(const u of d)h+=i(u);window.alert(`Shapes ${c.length}, DOM nodes:${h}`)},label:"Count shapes / nodes"}),(()=>{if(o)throw Error("oh no!")})(),f.jsx(ds,{type:"menu",onClick:()=>{a(!0)},label:"Throw error"}),f.jsx(ds,{type:"menu",onClick:()=>{SI()},label:"Hard reset"})]}),f.jsxs(Da,{children:[f.jsx(Cu,{flag:Pt.debugSvg}),f.jsx(Cu,{flag:Pt.forceSrgb}),f.jsx(Cu,{flag:Pt.debugGeometry}),f.jsx(Cu,{flag:Pt.hideShapes})]}),f.jsx(Da,{children:Object.values(jB).map(i=>f.jsx(Cu,{flag:i},i.name))}),t==null?void 0:t()]})});function ohe({label:e,value:t,onChange:n}){return f.jsx(TM,{title:e,checked:t,onSelect:()=>n(!t),children:f.jsx("span",{className:"tlui-button__label",draggable:!1,children:e})})}const Cu=et(function({flag:t,onChange:n}){return f.jsx(ohe,{label:t.name.replace(/([a-z0-9])([A-Z])/g,r=>`${r[0]} ${r[1].toLowerCase()}`).replace(/^[a-z]/,r=>r.toUpperCase()),value:t.get(),onChange:r=>{t.set(r),n==null||n(r)}})});function ahe({title:e="title",body:t="hello hello hello",cancel:n="Cancel",confirm:r="Continue",displayDontShowAgain:s=!1,onCancel:o,onContinue:a}){const[i,l]=b.useState(!1);return f.jsxs(f.Fragment,{children:[f.jsxs(o2,{children:[f.jsx(a2,{children:e}),f.jsx(i2,{})]}),f.jsx(sf,{style:{maxWidth:350},children:t}),f.jsxs(Db,{className:"tlui-dialog__footer__actions",children:[s&&f.jsx(we,{type:"normal",onClick:()=>l(!i),iconLeft:i?"check":"checkbox-empty",style:{marginRight:"auto"},children:"Don't show again"}),f.jsx(we,{type:"normal",onClick:o,children:n}),f.jsx(we,{type:"primary",onClick:async()=>a(),children:r})]})]})}const ihe=({id:e,component:t,onClose:n})=>{const{removeDialog:r}=Rc(),s=zn(),o=b.useCallback(a=>{if(!a){if(n)try{n()}catch(i){console.warn(i)}r(e)}},[e,n,r]);return f.jsx(Aie,{onOpenChange:o,defaultOpen:!0,children:f.jsx(Nie,{container:s,children:f.jsx(Tie,{dir:"ltr",className:"tlui-dialog__overlay",children:f.jsx(Lie,{dir:"ltr",className:"tlui-dialog__content",children:f.jsx(t,{onClose:()=>o(!1)})})})})})};function lhe(){const{dialogs:e}=Rc();return f.jsx(f.Fragment,{children:e.map(t=>f.jsx(ihe,{...t},t.id))})}const che=le.memo(lhe);function dhe(){const e=H(),t=J("follow",()=>e.getInstanceState().followingUserId,[e]);return t?f.jsx(hhe,{userId:t}):null}function hhe({userId:e}){const t=WI(e);return t?f.jsx("div",{className:"tlui-following-indicator",style:{borderColor:t.color}}):null}function LM(){const e=H(),{languages:t,currentLanguage:n}=NL(),r=b.useCallback(s=>e.user.updateUserPreferences({locale:s}),[e]);return f.jsxs(a6,{id:"help menu language",children:[f.jsx(i6,{label:"menu.language","data-direction":"left"}),f.jsx(l6,{sideOffset:-4,children:f.jsx(Da,{children:t.map(({locale:s,label:o})=>f.jsx(Jde,{title:s,checked:s===n,onSelect:()=>r(s),children:f.jsx("span",{className:"tlui-button__label",children:o})},s))})})]})}const uhe=b.memo(function(){const t=zn(),n=Ze(),[r,s]=Oc("help menu");return f.jsx("div",{className:"tlui-help-menu",children:f.jsxs(zM,{dir:"ltr",open:r,onOpenChange:s,modal:!1,children:[f.jsx(df,{asChild:!0,dir:"ltr",children:f.jsx(we,{type:"help",className:"tlui-button",smallIcon:!0,title:n("help-menu.title"),icon:"question-mark"})}),f.jsx(o6,{container:t,children:f.jsx(AM,{className:"tlui-menu",side:"top",sideOffset:8,align:"end",alignOffset:0,collisionPadding:4,children:f.jsx(phe,{})})})]})})});function phe(){const e=vle(),t=Gs();function n(r){if(!r||t&&!r.readonlyOk)return null;switch(r.type){case"custom":{if(r.id==="LANGUAGE_MENU")return f.jsx(LM,{},"item");break}case"group":return f.jsx(Da,{size:"small",children:r.children.map(n)},r.id);case"submenu":return f.jsxs(a6,{id:`help menu ${r.id}`,children:[f.jsx(i6,{label:r.label}),f.jsx(l6,{children:r.children.map(n)})]},r.id);case"item":{const{id:s,kbd:o,label:a,onSelect:i,icon:l}=r.actionItem;return f.jsx(ds,{type:"menu",kbd:o,label:a,onClick:()=>i("help-menu"),iconLeft:l},s)}}}return f.jsx(f.Fragment,{children:e.map(n)})}const MM="Popover",[jM,P3e]=ga(MM,[d2]),c6=d2(),[fhe,Vh]=jM(MM),ghe=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:a=!1}=e,i=c6(t),l=b.useRef(null),[c,d]=b.useState(!1),[h=!1,u]=ul({prop:r,defaultProp:s,onChange:o});return b.createElement(t6,i,b.createElement(fhe,{scope:t,contentId:Oa(),triggerRef:l,open:h,onOpenChange:u,onOpenToggle:b.useCallback(()=>u(p=>!p),[u]),hasCustomAnchor:c,onCustomAnchorAdd:b.useCallback(()=>d(!0),[]),onCustomAnchorRemove:b.useCallback(()=>d(!1),[]),modal:a},n))},mhe="PopoverTrigger",yhe=b.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=Vh(mhe,n),o=c6(n),a=Tt(t,s.triggerRef),i=b.createElement(Ct.button,se({type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":OM(s.open)},r,{ref:a,onClick:ye(e.onClick,s.onOpenToggle)}));return s.hasCustomAnchor?i:b.createElement(JL,se({asChild:!0},o),i)}),RM="PopoverPortal",[xhe,whe]=jM(RM,{forceMount:void 0}),She=e=>{const{__scopePopover:t,forceMount:n,children:r,container:s}=e,o=Vh(RM,t);return b.createElement(xhe,{scope:t,forceMount:n},b.createElement(Po,{present:n||o.open},b.createElement(e2,{asChild:!0,container:s},r)))},hf="PopoverContent",bhe=b.forwardRef((e,t)=>{const n=whe(hf,e.__scopePopover),{forceMount:r=n.forceMount,...s}=e,o=Vh(hf,e.__scopePopover);return b.createElement(Po,{present:r||o.open},o.modal?b.createElement(vhe,se({},s,{ref:t})):b.createElement(khe,se({},s,{ref:t})))}),vhe=b.forwardRef((e,t)=>{const n=Vh(hf,e.__scopePopover),r=b.useRef(null),s=Tt(t,r),o=b.useRef(!1);return b.useEffect(()=>{const a=r.current;if(a)return Ob(a)},[]),b.createElement($b,{as:Sc,allowPinchZoom:!0},b.createElement($M,se({},e,{ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ye(e.onCloseAutoFocus,a=>{var i;a.preventDefault(),o.current||(i=n.triggerRef.current)===null||i===void 0||i.focus()}),onPointerDownOutside:ye(e.onPointerDownOutside,a=>{const i=a.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0,c=i.button===2||l;o.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:ye(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})))}),khe=b.forwardRef((e,t)=>{const n=Vh(hf,e.__scopePopover),r=b.useRef(!1),s=b.useRef(!1);return b.createElement($M,se({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var a;if((a=e.onCloseAutoFocus)===null||a===void 0||a.call(e,o),!o.defaultPrevented){var i;r.current||(i=n.triggerRef.current)===null||i===void 0||i.focus(),o.preventDefault()}r.current=!1,s.current=!1},onInteractOutside:o=>{var a,i;(a=e.onInteractOutside)===null||a===void 0||a.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=o.target;((i=n.triggerRef.current)===null||i===void 0?void 0:i.contains(l))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}}))}),$M=b.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:d,...h}=e,u=Vh(hf,n),p=c6(n);return Rb(),b.createElement(jb,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o},b.createElement(J1,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:d,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>u.onOpenChange(!1)},b.createElement(eM,se({"data-state":OM(u.open),role:"dialog",id:u.contentId},p,h,{ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}}))))});function OM(e){return e?"open":"closed"}const Che=ghe,_he=yhe,DM=She,qM=bhe,d6=({id:e,children:t,onOpenChange:n,open:r})=>{const[s,o]=Oc(e,n);return f.jsx(Che,{onOpenChange:o,open:r||s,children:f.jsx("div",{className:"tlui-popover",children:t})})},h6=({children:e,disabled:t,"data-testid":n})=>f.jsx(_he,{"data-testid":n,disabled:t,asChild:!0,dir:"ltr",children:e}),BM=({side:e,children:t,align:n="center",sideOffset:r=8,alignOffset:s=0})=>{const o=zn();return f.jsx(DM,{container:o,children:f.jsx(qM,{className:"tlui-popover__content",side:e,sideOffset:r,align:n,alignOffset:s,dir:"ltr",children:t})})},FM=b.memo(function(){const t=Ze(),n=zn(),r=fle(),s=Gs();function o(a){if(!a||s&&!a.readonlyOk)return null;switch(a.type){case"item":{const{id:i,icon:l,label:c,kbd:d,onSelect:h}=a.actionItem;return f.jsx(we,{"data-testid":`menu-item.${a.id}`,icon:l,type:"icon",title:c?d?`${t(c)} ${ia(d)}`:`${t(c)}`:d?`${ia(d)}`:"",onClick:()=>h("actions-menu"),disabled:a.disabled},i)}}}return f.jsxs(d6,{id:"actions-menu",children:[f.jsx(h6,{children:f.jsx(we,{className:"tlui-menu__trigger","data-testid":"main.action-menu",icon:"dots-vertical",title:t("actions-menu.title"),type:"icon",smallIcon:!0})}),f.jsx(DM,{container:n,children:f.jsx(qM,{className:"tlui-popover__content",side:"bottom",dir:"ltr",sideOffset:6,children:f.jsx("div",{className:"tlui-actions-menu tlui-buttons__grid",children:r.map(o)})})})]})}),KM=et(function(){const t=H(),n=Qn(),r=Ze(),s=n.duplicate;return f.jsx(we,{icon:s.icon,type:"icon",onClick:()=>s.onSelect("quick-actions"),disabled:!(t.isIn("select")&&t.getSelectedShapeIds().length>0),title:`${r(s.label)} ${ia(s.kbd)}`,smallIcon:!0})}),Ehe=b.memo(function(){const t=Ze();return f.jsxs(Ji,{id:"main menu",children:[f.jsx(Gf,{children:f.jsx(we,{type:"icon",className:"tlui-menu__trigger","data-testid":"main.menu",title:t("menu.title"),icon:"menu",smallIcon:!0})}),f.jsx(el,{alignOffset:0,sideOffset:6,children:f.jsx(Ihe,{})})]})});function Ihe(){const e=H(),t=Ze(),n=Cle(),r=Zs(),s=Gs();function o(a,i,l,c){if(!i)return null;switch(i.type){case"custom":return s&&!i.readonlyOk?null:i.id==="LANGUAGE_MENU"?f.jsx(LM,{},"item"):null;case"group":return s&&!i.readonlyOk?null:f.jsx(Da,{size:c<=1?"medium":r<3||(l==null?void 0:l.type)==="submenu"&&c>2?"tiny":"medium",children:i.children.map(d=>o(a,d,i,c+1))},i.id);case"submenu":return s&&!i.readonlyOk?null:f.jsxs(a6,{id:`main menu ${l?l.id+" ":""}${i.id}`,children:[f.jsx(i6,{label:i.label,"data-testid":`menu-item.${i.id}`}),f.jsx(l6,{sideOffset:-4,alignOffset:-1,children:i.children.map(d=>o(a,d,i,c+1))})]},i.id);case"item":{if(s&&!i.readonlyOk)return null;const{id:d,checkbox:h,menuLabel:u,label:p,onSelect:y,kbd:g}=i.actionItem,x=u??p,w=x?t(x):void 0;return h?f.jsxs(TM,{onSelect:()=>y("menu"),title:w||"",checked:i.checked,disabled:i.disabled,children:[w&&f.jsx("span",{className:"tlui-button__label",children:w}),g&&f.jsx(r2,{children:g})]},d):f.jsx(ds,{type:"menu","data-testid":`menu-item.${i.id}`,kbd:g,label:x,onClick:()=>y("menu"),disabled:i.disabled},d)}}}return f.jsx(f.Fragment,{children:n.map(a=>o(e,a,null,0))})}const Phe=function({name:t,id:n,isCurrentPage:r}){const s=H(),o=b.useRef(null),a=b.useCallback(l=>{s.renamePage(n,l||"New Page",{ephemeral:!0})},[s,n]),i=b.useCallback(l=>{s.mark("rename page"),s.renamePage(n,l||"New Page",{ephemeral:!1})},[s,n]);return f.jsx(qb,{className:"tlui-page-menu__item__input",ref:l=>o.current=l,defaultValue:t,onValueChange:a,onComplete:i,onCancel:i,shouldManuallyMaintainScrollPositionWhenFocused:!0,autofocus:r,autoselect:!0})},rS=(e,t,n,r)=>{let s;const o=e.getPages(),a=n>r?o[r-1]:o[r],i=n>r?o[r]:o[r+1];a&&!i?s=Ea(a.index):!a&&i?s=sV(o[0].index):s=ap(a.index,i.index),s!==o[n].index&&(e.mark("moving page"),e.updatePage({id:t,index:s}))},Hk=et(function({index:t,listSize:n,item:r,onRename:s}){const o=H(),a=Ze(),i=o.getPages(),l=b.useCallback(()=>{o.mark("creating page");const u=Ba.createId();o.duplicatePage(r.id,u)},[o,r]),c=b.useCallback(()=>{rS(o,r.id,t,t-1)},[o,r,t]),d=b.useCallback(()=>{rS(o,r.id,t,t+1)},[o,r,t]),h=b.useCallback(()=>{o.mark("deleting page"),o.deletePage(r.id)},[o,r]);return f.jsxs(Ji,{id:`page item submenu ${t}`,children:[f.jsx(Gf,{children:f.jsx(we,{type:"icon",title:a("page-menu.submenu.title"),icon:"dots-vertical"})}),f.jsxs(el,{alignOffset:0,children:[f.jsxs(Da,{children:[s&&f.jsx(kd,{dir:"ltr",onSelect:s,asChild:!0,children:f.jsx(we,{type:"menu",label:"page-menu.submenu.rename"})}),f.jsx(kd,{dir:"ltr",onSelect:l,disabled:i.length>=ty,asChild:!0,children:f.jsx(we,{type:"menu",label:"page-menu.submenu.duplicate-page"})}),t>0&&f.jsx(kd,{dir:"ltr",onSelect:c,asChild:!0,children:f.jsx(we,{type:"menu",label:"page-menu.submenu.move-up"})}),t<n-1&&f.jsx(kd,{dir:"ltr",onSelect:d,asChild:!0,children:f.jsx(we,{type:"menu",label:"page-menu.submenu.move-down"})})]}),n>1&&f.jsx(Da,{children:f.jsx(kd,{dir:"ltr",onSelect:h,asChild:!0,children:f.jsx(we,{type:"menu",label:"page-menu.submenu.delete"})})})]})]})}),zhe=function(){const t=H(),n=Ze(),r=Zs(),s=b.useCallback(()=>x(!1),[]),[o,a]=Oc("page-menu",s),i=36,l=b.useRef(null),c=J("pages",()=>t.getPages(),[t]),d=J("currentPage",()=>t.getCurrentPage(),[t]),h=J("currentPageId",()=>t.getCurrentPageId(),[t]),u=Gs(),p=J("maxPageCountReached",()=>t.getPages().length>=ty,[t]),y=J("isCoarsePointer",()=>t.getInstanceState().isCoarsePointer,[t]),[g,x]=b.useState(!1),w=b.useCallback(()=>{u||x(A=>!A)},[u]),S=b.useRef({isPointing:!1,status:"idle",pointing:null,startY:0,startIndex:0,dragIndex:0}),[v,k]=b.useState(Object.fromEntries(c.map((A,T)=>[A.id,{y:T*i,offsetY:0,isSelected:!1}])));b.useLayoutEffect(()=>{k(Object.fromEntries(c.map((A,T)=>[A.id,{y:T*i,offsetY:0,isSelected:!1}])))},[i,c]),b.useEffect(()=>{o&&requestAnimationFrame(()=>{const A=document.querySelector(`[data-testid="page-menu-item-${h}"]`);if(A){const T=l.current;if(!T)return;const j=A.offsetTop,R=T.scrollTop;j<R&&T.scrollTo({top:j});const M=j+i,D=T.scrollTop+T.offsetHeight;M>D&&T.scrollTo({top:M-T.offsetHeight})}})},[i,h,o]);const C=b.useCallback(A=>{const{clientY:T,currentTarget:j}=A,{dataset:{id:R,index:M}}=j;if(!R||!M)return;const D=S.current;Pf(A.currentTarget,A),D.status="pointing",D.pointing={id:R,index:+M};const Y=v[R].y;D.startY=T,D.startIndex=Math.max(0,Math.min(Math.round(Y/i),c.length-1))},[i,c.length,v]),_=b.useCallback(A=>{const T=S.current;if(T.status==="pointing"){const{clientY:j}=A,R=j-T.startY;Math.abs(R)>5&&(T.status="dragging")}if(T.status==="dragging"){const{clientY:j}=A,R=j-T.startY,M=v[T.pointing.id],{startIndex:D,pointing:U}=T,Y=M.y+R,q=Math.max(0,Math.min(Math.round(Y/i),c.length-1)),K={...v};if(K[U.id]={y:M.y,offsetY:R,isSelected:!0},q!==T.dragIndex){T.dragIndex=q;for(let W=0;W<c.length;W++){const G=c[W];if(G.id===T.pointing.id)continue;let{y:ne}=K[G.id];q===D?ne=W*i:q<D?q<=W&&W<D?ne=(W+1)*i:ne=W*i:q>D&&(q>=W&&W>D?ne=(W-1)*i:ne=W*i),ne!==K[G.id].y&&(K[G.id]={y:ne,offsetY:0,isSelected:!0})}}k(K)}},[i,c,v]),E=b.useCallback(A=>{const T=S.current;if(T.status==="dragging"){const{id:j,index:R}=T.pointing;rS(t,j,R,T.dragIndex)}zf(A.currentTarget,A),T.status="idle"},[t]),I=b.useCallback(A=>{const T=S.current;A.key==="Escape"&&(T.status==="dragging"&&k(Object.fromEntries(c.map((j,R)=>[j.id,{y:R*i,offsetY:0,isSelected:!1}]))),T.status="idle")},[i,c]),z=b.useCallback(()=>{u||t.batch(()=>{t.mark("creating page");const A=Ba.createId();t.createPage({name:n("page-menu.new-page-initial-name"),id:A}),t.setCurrentPage(A),x(!0)})},[t,n,u]);return f.jsxs(d6,{id:"pages",onOpenChange:a,open:o,children:[f.jsx(h6,{children:f.jsx(we,{className:"tlui-page-menu__trigger tlui-menu__trigger","data-testid":"main.page-menu",icon:"chevron-down",type:"menu",title:d.name,children:f.jsx("div",{className:"tlui-page-menu__name",children:d.name})})}),f.jsx(BM,{side:"bottom",align:"start",sideOffset:6,children:f.jsxs("div",{className:"tlui-page-menu__wrapper",children:[f.jsxs("div",{className:"tlui-page-menu__header",children:[f.jsx("div",{className:"tlui-page-menu__header__title",children:n("page-menu.title")}),!u&&f.jsxs("div",{className:"tlui-buttons__horizontal",children:[f.jsx(we,{type:"icon","data-testid":"page-menu.edit",title:n(g?"page-menu.edit-done":"page-menu.edit-start"),icon:g?"check":"edit",onClick:w}),f.jsx(we,{type:"icon","data-testid":"page-menu.create",icon:"plus",title:n(p?"page-menu.max-page-count-reached":"page-menu.create-new-page"),disabled:p,onClick:z})]})]}),f.jsx("div",{className:"tlui-page-menu__list tlui-menu__group",style:{height:i*c.length+4},ref:l,children:c.map((A,T)=>{const j=v[A.id]??{position:T*40,offsetY:0};return g?f.jsxs("div",{"data-testid":`page-menu-item-${A.id}`,className:"tlui-page_menu__item__sortable",style:{zIndex:A.id===d.id?888:T,transform:`translate(0px, ${j.y+j.offsetY}px)`},children:[f.jsx(we,{type:"icon",tabIndex:-1,className:"tlui-page_menu__item__sortable__handle",icon:"drag-handle-dots",onPointerDown:C,onPointerUp:E,onPointerMove:_,onKeyDown:I,"data-id":A.id,"data-index":T}),r<5&&y?f.jsx(we,{type:"normal",className:"tlui-page-menu__item__button",onClick:()=>{const R=window.prompt("Rename page",A.name);R&&R!==A.name&&t.renamePage(A.id,R)},onDoubleClick:w,isChecked:A.id===d.id,children:f.jsx("span",{children:A.name})}):f.jsx("div",{className:"tlui-page_menu__item__sortable__title",style:{height:i},children:f.jsx(Phe,{id:A.id,name:A.name,isCurrentPage:A.id===d.id})}),!u&&f.jsx("div",{className:"tlui-page_menu__item__submenu","data-isediting":g,children:f.jsx(Hk,{index:T,item:A,listSize:c.length})})]},A.id+"_editing"):f.jsxs("div",{"data-testid":`page-menu-item-${A.id}`,className:"tlui-page-menu__item",children:[f.jsxs(we,{type:"icon",className:"tlui-page-menu__item__button tlui-page-menu__item__button__checkbox",onClick:()=>t.setCurrentPage(A.id),onDoubleClick:w,isChecked:A.id===d.id,title:n("page-menu.go-to-page"),children:[f.jsx("div",{className:"tlui-page-menu__item__button__check",children:A.id===d.id&&f.jsx(Vr,{icon:"check"})}),f.jsx("span",{children:A.name})]}),!u&&f.jsx("div",{className:"tlui-page_menu__item__submenu",children:f.jsx(Hk,{index:T,item:A,listSize:c.length,onRename:()=>{if(t.environment.isIos){const R=window.prompt("Rename page",A.name);R&&R!==A.name&&t.renamePage(A.id,R)}else t.batch(()=>{x(!0),t.setCurrentPage(A.id)})}})})]},A.id)})})]})})]})},WM=b.memo(function(){const t=Ze(),n=LL(),s=Qn().redo;return f.jsx(we,{"data-testid":"main.redo",icon:s.icon,type:"icon",title:`${t(s.label)} ${ia(s.kbd)}`,disabled:!n,onClick:()=>s.onSelect("quick-actions"),smallIcon:!0})}),UM=et(function(){const t=H(),n=Qn(),r=Ze(),s=n.delete;return Gs()?null:f.jsx(we,{icon:s.icon,type:"icon",onClick:()=>s.onSelect("quick-actions"),disabled:!(t.isIn("select")&&t.getSelectedShapeIds().length>0),title:`${r(s.label)} ${ia(s.kbd)}`,smallIcon:!0})}),VM=b.memo(function(){const t=Ze(),n=ML(),s=Qn().undo;return f.jsx(we,{"data-testid":"main.undo",icon:s.icon,type:"icon",title:`${t(s.label)} ${ia(s.kbd)}`,disabled:!n,onClick:()=>s.onSelect("quick-actions"),smallIcon:!0})}),Ahe=et(function(){const t=H(),n=Zs(),r=Gs();return f.jsx("div",{className:"tlui-menu-zone",children:f.jsxs("div",{className:"tlui-buttons__horizontal",children:[f.jsx(Ehe,{}),f.jsx(zhe,{}),n>=6&&!r&&!t.isInAny("hand","zoom")&&f.jsxs(f.Fragment,{children:[f.jsx(VM,{}),f.jsx(WM,{}),f.jsx(UM,{}),f.jsx(KM,{}),f.jsx(FM,{})]})]})})});function Nhe(e,t){const[n,r]=le.useState(t);le.useLayoutEffect(()=>{const o=localStorage.getItem(e);if(o)try{r(JSON.parse(o))}catch{console.error(`Could not restore value ${e} from local storage.`)}},[e]);const s=le.useCallback(o=>{r(a=>{const i=typeof o=="function"?o(a):o;return localStorage.setItem(e,JSON.stringify(i)),i})},[e]);return[n,s]}class wp{constructor(t){m(this,"dpr",1);m(this,"colors",{shapeFill:"rgba(144, 144, 144, .1)",selectFill:"#2f80ed",viewportFill:"rgba(144, 144, 144, .1)"});m(this,"id",bt());m(this,"cvs",null);m(this,"pageBounds",[]);m(this,"collaborators",[]);m(this,"canvasScreenBounds",new xe);m(this,"canvasPageBounds",new xe);m(this,"contentPageBounds",new xe);m(this,"contentScreenBounds",new xe);m(this,"originPagePoint",new P);m(this,"originPageCenter",new P);m(this,"isInViewport",!1);m(this,"debug",!1);m(this,"updateContentScreenBounds",()=>{const{contentScreenBounds:t,contentPageBounds:n,canvasScreenBounds:r}=this;let{x:s,y:o,w:a,h:i}=t;if(n.w>n.h){const l=r.w/(n.w/n.h);l>r.h?(s=(r.w-r.w*(r.h/l))/2,o=0,a=r.w*(r.h/l),i=r.h):(s=0,o=(r.h-l)/2,a=r.w,i=l)}else if(n.w<n.h){const l=r.h/(n.h/n.w);s=(r.w-l)/2,o=0,a=l,i=r.h}else s=r.h/2,o=0,a=r.h,i=r.h;t.set(s,o,a,i)});m(this,"updateCanvasPageBounds",()=>{const{canvasPageBounds:t,canvasScreenBounds:n,contentPageBounds:r,contentScreenBounds:s}=this;t.set(0,0,r.width/(s.width/n.width),r.height/(s.height/n.height)),t.center=r.center});m(this,"getScreenPoint",(t,n)=>{const{canvasScreenBounds:r}=this,s=(t-r.minX)*this.dpr,o=(n-r.minY)*this.dpr;return{x:s,y:o}});m(this,"getPagePoint",(t,n)=>{const{contentPageBounds:r,contentScreenBounds:s,canvasPageBounds:o}=this,{x:a,y:i}=this.getScreenPoint(t,n);return new P(o.minX+a*r.width/s.width,o.minY+i*r.height/s.height,1)});m(this,"minimapScreenPointToPagePoint",(t,n,r=!1,s=!1)=>{const{editor:o}=this,a=o.getViewportPageBounds();let{x:i,y:l}=this.getPagePoint(t,n);if(s){const c=this.editor.getCurrentPageBounds(),d=a,h=((c==null?void 0:c.minX)??0)-d.width/2,u=((c==null?void 0:c.maxX)??0)+d.width/2,p=((c==null?void 0:c.minY)??0)-d.height/2,y=((c==null?void 0:c.maxY)??0)+d.height/2,g=Math.max(0,h+d.width-i),x=Math.max(0,-(u-d.width-i)),w=Math.max(0,p+d.height-l),S=Math.max(0,-(y-d.height-l)),v=Math.max(0,g-x),k=Math.max(0,x-g),C=Math.max(0,w-S),_=Math.max(0,S-w);v&&v>k?i+=v/2:k&&(i-=k/2),C&&C>_?l+=C/2:_&&(l-=_/2),i=yn(i,h,u),l=yn(l,p,y)}if(r){const{originPagePoint:c}=this,d=Math.abs(i-c.x),h=Math.abs(l-c.y);d>h?l=c.y:i=c.x}return new P(i,l)});m(this,"render",()=>{const{cvs:t,pageBounds:n}=this;this.updateCanvasPageBounds();const{editor:r,canvasScreenBounds:s,canvasPageBounds:o,contentPageBounds:a,contentScreenBounds:i}=this,{width:l,height:c}=s,d=r.getSelectedShapeIds(),h=r.getViewportPageBounds();if(!t||!n)return;const u=t.getContext("2d");if(!u)throw new Error("Minimap (shapes): Could not get context");u.resetTransform(),u.globalAlpha=1,u.clearRect(0,0,l,c);const p=i.width/a.width,y=i.height/a.height;u.translate((l-i.width)/2,(c-i.height)/2),u.scale(p,y),u.translate(-a.minX,-a.minY);const g=8/p,x=8/p,w=1/p,S=1/p,v=g/4,k=x/4,C=new Path2D,_=new Path2D,{shapeFill:E,selectFill:I,viewportFill:z}=this.colors;let A;for(let D=0,U=n.length;D<U;D++)A=n[D],wp.roundedRect(d.includes(A.id)?_:C,A.minX,A.minY,A.width,A.height,yn(g,w,A.width/v),yn(x,S,A.height/k));if(u.fillStyle=E,u.fill(C),u.fillStyle=I,u.fill(_),this.debug){const D=xe.Common(n),{minX:U,minY:Y,width:q,height:K}=D;u.strokeStyle="green",u.lineWidth=2/p,u.strokeRect(U+1/p,Y+1/y,q-2/p,K-2/y)}{const{brush:D}=r.getInstanceState();if(D){const{x:U,y:Y,w:q,h:K}=D;u.beginPath(),wp.sharpRect(u,U,Y,q,K),u.closePath(),u.fillStyle=z,u.fill()}}{const{minX:D,minY:U,width:Y,height:q}=h;u.beginPath();const K=12/p,W=12/p;wp.roundedRect(u,D,U,Y,q,Math.min(Y/4,K),Math.min(q/4,W)),u.closePath(),u.fillStyle=z,u.fill(),this.debug&&(u.strokeStyle="orange",u.strokeRect(D+1/p,U+1/y,Y-2/p,q-2/y))}const T=2.5/p,j=2.5/y,R=r.getCurrentPageId();let M;for(let D=0;D<this.collaborators.length;D++)M=this.collaborators[D],M.currentPageId===R&&(u.beginPath(),u.ellipse(yn(M.cursor.x,o.minX+T,o.maxX-T),yn(M.cursor.y,o.minY+j,o.maxY-j),5/p,5/y,0,0,dt),u.fillStyle=M.color,u.fill());if(this.debug){u.lineWidth=2/p;{const{minX:D,minY:U,width:Y,height:q}=a;u.strokeStyle="red",u.strokeRect(D+1/p,U+1/y,Y-2/p,q-2/y)}{const{minX:D,minY:U,width:Y,height:q}=o;u.strokeStyle="blue",u.strokeRect(D+1/p,U+1/y,Y-2/p,q-2/y)}}});this.editor=t}setDpr(t){this.dpr=+t.toFixed(2)}static roundedRect(t,n,r,s,o,a,i){if(a<1&&i<1){t.rect(n,r,s,o);return}t.moveTo(n+a,r),t.lineTo(n+s-a,r),t.quadraticCurveTo(n+s,r,n+s,r+i),t.lineTo(n+s,r+o-i),t.quadraticCurveTo(n+s,r+o,n+s-a,r+o),t.lineTo(n+a,r+o),t.quadraticCurveTo(n,r+o,n,r+o-i),t.lineTo(n,r+i),t.quadraticCurveTo(n,r,n+a,r)}static sharpRect(t,n,r,s,o,a,i){t.rect(n,r,s,o)}}function The({shapeFill:e,selectFill:t,viewportFill:n}){const r=H(),s=b.useRef(null),o=b.useRef(!1),a=C1(),i=uE("dpr",()=>r.getInstanceState().devicePixelRatio,[r]),l=b.useMemo(()=>r.store.query.records("instance_presence"),[r]),c=b.useMemo(()=>new wp(r),[r]);b.useEffect(()=>{const y=requestAnimationFrame(()=>{const g=getComputedStyle(r.getContainer());c.colors={shapeFill:g.getPropertyValue(e).trim(),selectFill:g.getPropertyValue(t).trim(),viewportFill:g.getPropertyValue(n).trim()},c.render()});return()=>{cancelAnimationFrame(y)}},[r,t,e,n,c,a]);const d=b.useCallback(y=>{if(!r.getCurrentPageShapeIds().size)return;const g=c.minimapScreenPointToPagePoint(y.clientX,y.clientY,!1,!1),x=c.minimapScreenPointToPagePoint(y.clientX,y.clientY,!1,!0);c.originPagePoint.setTo(x),c.originPageCenter.setTo(r.getViewportPageBounds().center),r.centerOnPoint(g,{duration:Aa})},[r,c]),h=b.useCallback(y=>{const g=y.currentTarget;if(Pf(g,y),!r.getCurrentPageShapeIds().size)return;o.current=!0,c.isInViewport=!1;const x=c.minimapScreenPointToPagePoint(y.clientX,y.clientY,!1,!1),w=c.minimapScreenPointToPagePoint(y.clientX,y.clientY,!1,!0),S=r.getViewportPageBounds();if(c.isInViewport=S.containsPoint(w),c.isInViewport)c.originPagePoint.setTo(w),c.originPageCenter.setTo(S.center);else{const k=P.Sub(S.center,S.point),C=P.Add(x,k);c.originPagePoint.setTo(C),c.originPageCenter.setTo(x),r.centerOnPoint(x,{duration:Aa})}function v(k){g&&zf(g,k),o.current=!1,document.body.removeEventListener("pointerup",v)}document.body.addEventListener("pointerup",v)},[r,c]),u=b.useCallback(y=>{const g=c.minimapScreenPointToPagePoint(y.clientX,y.clientY,y.shiftKey,!0);if(o.current){if(c.isInViewport){const v=c.originPagePoint.clone().sub(c.originPageCenter);r.centerOnPoint(P.Sub(g,v));return}r.centerOnPoint(g)}const x=c.getPagePoint(y.clientX,y.clientY),w=r.pageToScreen(x),S={type:"pointer",target:"canvas",name:"pointer_move",...qr(y),point:w,isPen:r.getInstanceState().isPenMode};r.dispatch(S)},[r,c]),p=b.useCallback(y=>{const g=jI(y);r.dispatch({type:"wheel",name:"wheel",delta:g,point:new P(y.clientX,y.clientY),shiftKey:y.shiftKey,altKey:y.altKey,ctrlKey:y.metaKey||y.ctrlKey})},[r]);return oc("update when dpr changes",()=>{const y=i.get();c.setDpr(y);const g=s.current,x=g.getBoundingClientRect(),w=x.width*y,S=x.height*y;g.width=w,g.height=S,c.canvasScreenBounds.set(x.x,x.y,w,S),c.cvs=s.current},[i,c]),oc("minimap render when pagebounds or collaborators changes",()=>{const y=r.getCurrentPageShapeIds(),g=r.getCurrentPageBounds(),x=r.getViewportPageBounds();i.get(),c.contentPageBounds=g?xe.Expand(g,x):x,c.updateContentScreenBounds();const w=[];y.forEach(S=>{let v=r.getShapePageBounds(S);if(!v)return;const k=r.getShapeMask(S);if(k){const C=zw(k,v.corners);if(!C)return;v=xe.FromPoints(C)}v&&(v.id=S,w.push(v))}),c.pageBounds=w,c.collaborators=l.get(),c.render()},[r,c]),f.jsx("div",{className:"tlui-minimap",children:f.jsx("canvas",{ref:s,className:"tlui-minimap__canvas",onDoubleClick:d,onPointerMove:u,onPointerDown:h,onWheel:p})})}const x5=et(function(){const t=H(),n=Ze(),r=Zs(),s=t.getZoomLevel(),o=t.getCurrentPageShapeIds().size>0,a=t.getSelectedShapeIds().length>0,i=t.getZoomLevel()===1,l=b.useCallback(()=>{t.resetZoom(t.getViewportScreenCenter(),{duration:Aa})},[t]);return f.jsxs(Ji,{id:"zoom",children:[f.jsx(Gf,{children:f.jsx(we,{type:"icon",title:`${n("navigation-zone.zoom")}`,"data-testid":"minimap.zoom-menu",className:r<5?"tlui-zoom-menu__button":"tlui-zoom-menu__button__pct",onDoubleClick:l,icon:r<4?"zoom-in":void 0,children:r<4?null:f.jsxs("span",{style:{flexGrow:0,textAlign:"center"},children:[Math.floor(s*100),"%"]})})}),f.jsx(el,{side:"top",align:"start",alignOffset:0,children:f.jsxs(Da,{children:[f.jsx(_u,{action:"zoom-in","data-testid":"minimap.zoom-menu.zoom-in",noClose:!0}),f.jsx(_u,{action:"zoom-out","data-testid":"minimap.zoom-menu.zoom-out",noClose:!0}),f.jsx(_u,{action:"zoom-to-100","data-testid":"minimap.zoom-menu.zoom-to-100",noClose:!0,disabled:i}),f.jsx(_u,{action:"zoom-to-fit",disabled:!o,"data-testid":"minimap.zoom-menu.zoom-to-fit",noClose:!0}),f.jsx(_u,{action:"zoom-to-selection",disabled:!a,"data-testid":"minimap.zoom-menu.zoom-to-selection",noClose:!0})]})})]})});function _u(e){const{action:t,disabled:n=!1,noClose:r=!1}=e,s=Qn();return f.jsx(ds,{type:"menu",label:s[t].label,kbd:s[t].kbd,"data-testid":e["data-testid"],onClick:()=>s[t].onSelect("zoom-menu"),noClose:r,disabled:n})}const Lhe=b.memo(function(){const t=Qn(),n=Ze(),r=Zs(),[s,o]=Nhe("minimap",!0),a=b.useCallback(()=>{o(i=>!i)},[o]);return r<4?null:f.jsxs("div",{className:"tlui-navigation-zone",children:[f.jsx("div",{className:"tlui-buttons__horizontal",children:r<6?f.jsx(x5,{}):s?f.jsxs(f.Fragment,{children:[f.jsx(x5,{}),f.jsx(we,{type:"icon",icon:s?"chevrons-ne":"chevrons-sw","data-testid":"minimap.toggle",title:n("navigation-zone.toggle-minimap"),className:"tlui-navigation-zone__toggle",onClick:a})]}):f.jsxs(f.Fragment,{children:[f.jsx(we,{type:"icon",icon:"minus","data-testid":"minimap.zoom-out",title:`${n(t["zoom-out"].label)} ${ia(t["zoom-out"].kbd)}`,onClick:()=>t["zoom-out"].onSelect("navigation-zone")}),f.jsx(x5,{}),f.jsx(we,{type:"icon",icon:"plus","data-testid":"minimap.zoom-in",title:`${n(t["zoom-in"].label)} ${ia(t["zoom-in"].kbd)}`,onClick:()=>t["zoom-in"].onSelect("navigation-zone")}),f.jsx(we,{type:"icon",icon:s?"chevrons-ne":"chevrons-sw","data-testid":"minimap.toggle",title:n("navigation-zone.toggle-minimap"),className:"tlui-navigation-zone__toggle",onClick:a})]})}),r>=6&&!s&&f.jsx(The,{viewportFill:"--color-muted-1",selectFill:"--color-selected",shapeFill:"--color-text-3"})]})}),Mhe=et(function(){const n=H().getInstanceState().isPenMode,r=Qn();if(!n)return null;const s=r["exit-pen-mode"];return f.jsx(we,{type:"normal",label:s.label,iconLeft:s.icon,onClick:()=>s.onSelect("helper-buttons")})}),jhe=et(function(){const t=H(),n=Qn();if(!t.getInstanceState().followingUserId)return null;const r=n["stop-following"];return f.jsx(we,{type:"normal",label:r.label,iconLeft:r.icon,onClick:()=>r.onSelect("people-menu")})}),Rhe=[Gn,pc,uh,oa];function XM(){const e=H();return J("getRelevantStyles",()=>{var r;const t=new Aw(e.getSharedStyles()),n=e.getSelectedShapeIds().length>0||!!((r=e.root.getCurrent())!=null&&r.shapeType);if(t.size===0&&e.isIn("select")&&e.getSelectedShapeIds().length===0)for(const s of Rhe)t.applyValue(s,e.getStyleForNextShape(s));return t.size===0&&!n?null:{styles:t,opacity:e.getSharedOpacity()}},[e])}function $he(e){const{uiType:t,items:n,title:r,style:s,value:o,onValueChange:a}=e,i=H(),l=Ze(),c=b.useRef(!1),{handleButtonClick:d,handleButtonPointerDown:h,handleButtonPointerEnter:u,handleButtonPointerUp:p}=b.useMemo(()=>{const g=()=>{c.current=!1,window.removeEventListener("pointerup",g)};return{handleButtonClick:k=>{const{id:C}=k.currentTarget.dataset;o.type==="shared"&&o.value===C||(i.mark("point picker item"),a(s,C,!1))},handleButtonPointerDown:k=>{const{id:C}=k.currentTarget.dataset;i.mark("point picker item"),a(s,C,!0),c.current=!0,window.addEventListener("pointerup",g)},handleButtonPointerEnter:k=>{if(!c.current)return;const{id:C}=k.currentTarget.dataset;a(s,C,!0)},handleButtonPointerUp:k=>{const{id:C}=k.currentTarget.dataset;a(s,C,!1)}}},[o,i,a,s]),y=J("theme",()=>br({isDarkMode:i.user.getIsDarkMode()}),[i]);return f.jsx("div",{className:me("tlui-buttons__grid"),children:n.map(g=>f.jsx(we,{type:"icon","data-id":g.value,"data-testid":`style.${t}.${g.value}`,"aria-label":g.value,"data-state":o.type==="shared"&&o.value===g.value?"hinted":void 0,title:r+"  "+l(`${t}-style.${g.value}`),className:me("tlui-button-grid__button"),style:s===Gn?{color:y[g.value].solid}:void 0,onPointerEnter:u,onPointerDown:h,onPointerUp:p,onClick:d,icon:g.icon},g.value))})}const Wd=b.memo($he);function YM(e,[t,n]){return Math.min(n,Math.max(t,e))}function Ohe(e){const t=b.useRef({value:e,previous:e});return b.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}const HM=["PageUp","PageDown"],GM=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],ZM={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Zf="Slider",[sS,Dhe,qhe]=Q1(Zf),[QM,z3e]=ga(Zf,[qhe]),[Bhe,f2]=QM(Zf),Fhe=b.forwardRef((e,t)=>{const{name:n,min:r=0,max:s=100,step:o=1,orientation:a="horizontal",disabled:i=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[r],value:d,onValueChange:h=()=>{},onValueCommit:u=()=>{},inverted:p=!1,...y}=e,[g,x]=b.useState(null),w=Tt(t,M=>x(M)),S=b.useRef(new Set),v=b.useRef(0),k=a==="horizontal",C=g?!!g.closest("form"):!0,_=k?Khe:Whe,[E=[],I]=ul({prop:d,defaultProp:c,onChange:M=>{var D;(D=[...S.current][v.current])===null||D===void 0||D.focus(),h(M)}}),z=b.useRef(E);function A(M){const D=Jhe(E,M);R(M,D)}function T(M){R(M,v.current)}function j(){const M=z.current[v.current];E[v.current]!==M&&u(E)}function R(M,D,{commit:U}={commit:!1}){const Y=rue(o),q=sue(Math.round((M-r)/o)*o+r,Y),K=YM(q,[r,s]);I((W=[])=>{const G=Zhe(W,K,D);if(nue(G,l*o)){v.current=G.indexOf(K);const ne=String(G)!==String(W);return ne&&U&&u(G),ne?G:W}else return W})}return b.createElement(Bhe,{scope:e.__scopeSlider,disabled:i,min:r,max:s,valueIndexToChangeRef:v,thumbs:S.current,values:E,orientation:a},b.createElement(sS.Provider,{scope:e.__scopeSlider},b.createElement(sS.Slot,{scope:e.__scopeSlider},b.createElement(_,se({"aria-disabled":i,"data-disabled":i?"":void 0},y,{ref:w,onPointerDown:ye(y.onPointerDown,()=>{i||(z.current=E)}),min:r,max:s,inverted:p,onSlideStart:i?void 0:A,onSlideMove:i?void 0:T,onSlideEnd:i?void 0:j,onHomeKeyDown:()=>!i&&R(r,0,{commit:!0}),onEndKeyDown:()=>!i&&R(s,E.length-1,{commit:!0}),onStepKeyDown:({event:M,direction:D})=>{if(!i){const q=HM.includes(M.key)||M.shiftKey&&GM.includes(M.key)?10:1,K=v.current,W=E[K],G=o*q*D;R(W+G,K,{commit:!0})}}})))),C&&E.map((M,D)=>b.createElement(Ghe,{key:D,name:n?n+(E.length>1?"[]":""):void 0,value:M})))}),[JM,ej]=QM(Zf,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Khe=b.forwardRef((e,t)=>{const{min:n,max:r,dir:s,inverted:o,onSlideStart:a,onSlideMove:i,onSlideEnd:l,onStepKeyDown:c,...d}=e,[h,u]=b.useState(null),p=Tt(t,v=>u(v)),y=b.useRef(),g=Xb(s),x=g==="ltr",w=x&&!o||!x&&o;function S(v){const k=y.current||h.getBoundingClientRect(),C=[0,k.width],E=u6(C,w?[n,r]:[r,n]);return y.current=k,E(v-k.left)}return b.createElement(JM,{scope:e.__scopeSlider,startEdge:w?"left":"right",endEdge:w?"right":"left",direction:w?1:-1,size:"width"},b.createElement(tj,se({dir:g,"data-orientation":"horizontal"},d,{ref:p,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:v=>{const k=S(v.clientX);a==null||a(k)},onSlideMove:v=>{const k=S(v.clientX);i==null||i(k)},onSlideEnd:()=>{y.current=void 0,l==null||l()},onStepKeyDown:v=>{const C=ZM[w?"from-left":"from-right"].includes(v.key);c==null||c({event:v,direction:C?-1:1})}})))}),Whe=b.forwardRef((e,t)=>{const{min:n,max:r,inverted:s,onSlideStart:o,onSlideMove:a,onSlideEnd:i,onStepKeyDown:l,...c}=e,d=b.useRef(null),h=Tt(t,d),u=b.useRef(),p=!s;function y(g){const x=u.current||d.current.getBoundingClientRect(),w=[0,x.height],v=u6(w,p?[r,n]:[n,r]);return u.current=x,v(g-x.top)}return b.createElement(JM,{scope:e.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1},b.createElement(tj,se({"data-orientation":"vertical"},c,{ref:h,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const x=y(g.clientY);o==null||o(x)},onSlideMove:g=>{const x=y(g.clientY);a==null||a(x)},onSlideEnd:()=>{u.current=void 0,i==null||i()},onStepKeyDown:g=>{const w=ZM[p?"from-bottom":"from-top"].includes(g.key);l==null||l({event:g,direction:w?-1:1})}})))}),tj=b.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:s,onSlideEnd:o,onHomeKeyDown:a,onEndKeyDown:i,onStepKeyDown:l,...c}=e,d=f2(Zf,n);return b.createElement(Ct.span,se({},c,{ref:t,onKeyDown:ye(e.onKeyDown,h=>{h.key==="Home"?(a(h),h.preventDefault()):h.key==="End"?(i(h),h.preventDefault()):HM.concat(GM).includes(h.key)&&(l(h),h.preventDefault())}),onPointerDown:ye(e.onPointerDown,h=>{const u=h.target;u.setPointerCapture(h.pointerId),h.preventDefault(),d.thumbs.has(u)?u.focus():r(h)}),onPointerMove:ye(e.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&s(h)}),onPointerUp:ye(e.onPointerUp,h=>{const u=h.target;u.hasPointerCapture(h.pointerId)&&(u.releasePointerCapture(h.pointerId),o(h))})}))}),Uhe="SliderTrack",Vhe=b.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,s=f2(Uhe,n);return b.createElement(Ct.span,se({"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation},r,{ref:t}))}),Gk="SliderRange",Xhe=b.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,s=f2(Gk,n),o=ej(Gk,n),a=b.useRef(null),i=Tt(t,a),l=s.values.length,c=s.values.map(u=>nj(u,s.min,s.max)),d=l>1?Math.min(...c):0,h=100-Math.max(...c);return b.createElement(Ct.span,se({"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0},r,{ref:i,style:{...e.style,[o.startEdge]:d+"%",[o.endEdge]:h+"%"}}))}),Zk="SliderThumb",Yhe=b.forwardRef((e,t)=>{const n=Dhe(e.__scopeSlider),[r,s]=b.useState(null),o=Tt(t,i=>s(i)),a=b.useMemo(()=>r?n().findIndex(i=>i.ref.current===r):-1,[n,r]);return b.createElement(Hhe,se({},e,{ref:o,index:a}))}),Hhe=b.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,...s}=e,o=f2(Zk,n),a=ej(Zk,n),[i,l]=b.useState(null),c=Tt(t,x=>l(x)),d=XL(i),h=o.values[r],u=h===void 0?0:nj(h,o.min,o.max),p=Qhe(r,o.values.length),y=d==null?void 0:d[a.size],g=y?eue(y,u,a.direction):0;return b.useEffect(()=>{if(i)return o.thumbs.add(i),()=>{o.thumbs.delete(i)}},[i,o.thumbs]),b.createElement("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${u}% + ${g}px)`}},b.createElement(sS.ItemSlot,{scope:e.__scopeSlider},b.createElement(Ct.span,se({role:"slider","aria-label":e["aria-label"]||p,"aria-valuemin":o.min,"aria-valuenow":h,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0},s,{ref:c,style:h===void 0?{display:"none"}:e.style,onFocus:ye(e.onFocus,()=>{o.valueIndexToChangeRef.current=r})}))))}),Ghe=e=>{const{value:t,...n}=e,r=b.useRef(null),s=Ohe(t);return b.useEffect(()=>{const o=r.current,a=window.HTMLInputElement.prototype,l=Object.getOwnPropertyDescriptor(a,"value").set;if(s!==t&&l){const c=new Event("input",{bubbles:!0});l.call(o,t),o.dispatchEvent(c)}},[s,t]),b.createElement("input",se({style:{display:"none"}},n,{ref:r,defaultValue:t}))};function Zhe(e=[],t,n){const r=[...e];return r[n]=t,r.sort((s,o)=>s-o)}function nj(e,t,n){const o=100/(n-t)*(e-t);return YM(o,[0,100])}function Qhe(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function Jhe(e,t){if(e.length===1)return 0;const n=e.map(s=>Math.abs(s-t)),r=Math.min(...n);return n.indexOf(r)}function eue(e,t,n){const r=e/2,o=u6([0,50],[0,r]);return(r-o(t)*n)*n}function tue(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function nue(e,t){if(t>0){const n=tue(e);return Math.min(...n)>=t}return!0}function u6(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function rue(e){return(String(e).split(".")[1]||"").length}function sue(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}const oue=Fhe,aue=Vhe,iue=Xhe,lue=Yhe,cue=b.memo(function(t){const{title:n,steps:r,value:s,label:o,onValueChange:a}=t,i=H(),l=Ze(),c=b.useCallback(u=>{a(u[0],!0)},[a]),d=b.useCallback(()=>{i.mark("click slider")},[i]),h=b.useCallback(()=>{s&&a(s,!1)},[s,a]);return f.jsx("div",{className:"tlui-slider__container",children:f.jsxs(oue,{"data-testid":t["data-testid"],className:"tlui-slider","area-label":"Opacity",dir:"ltr",min:0,max:r,step:1,value:s?[s]:void 0,onPointerDown:d,onValueChange:c,onPointerUp:h,title:n+"  "+l(o),children:[f.jsx(aue,{className:"tlui-slider__track",dir:"ltr",children:s!==null&&f.jsx(iue,{className:"tlui-slider__range",dir:"ltr"})}),s!==null&&f.jsx(lue,{className:"tlui-slider__thumb",dir:"ltr"})]})})}),due=b.memo(function({label:t,uiTypeA:n,uiTypeB:r,labelA:s,labelB:o,itemsA:a,itemsB:i,styleA:l,styleB:c,valueA:d,valueB:h,onValueChange:u}){const p=Ze(),y=b.useMemo(()=>{var x;return((x=a.find(w=>d.type==="shared"&&d.value===w.value))==null?void 0:x.icon)??"mixed"},[a,d]),g=b.useMemo(()=>{var x;return((x=i.find(w=>h.type==="shared"&&h.value===w.value))==null?void 0:x.icon)??"mixed"},[i,h]);return d===void 0&&h===void 0?null:f.jsxs("div",{className:"tlui-style-panel__double-select-picker",children:[f.jsx("div",{title:p(t),className:"tlui-style-panel__double-select-picker-label",children:p(t)}),f.jsxs("div",{className:"tlui-buttons__horizontal",children:[f.jsxs(Ji,{id:`style panel ${n} A`,children:[f.jsx(df,{asChild:!0,onTouchEnd:x=>rt(x),children:f.jsx(we,{type:"icon","data-testid":`style.${n}`,title:p(s)+"  "+(d===null||d.type==="mixed"?p("style-panel.mixed"):p(`${n}-style.${d.value}`)),icon:y,invertIcon:!0,smallIcon:!0})}),f.jsx(el,{side:"bottom",align:"end",sideOffset:0,alignOffset:-2,children:f.jsx("div",{className:"tlui-buttons__grid",children:a.map(x=>f.jsx(ds,{type:"icon",title:p(s)+"  "+p(`${n}-style.${x.value}`),"data-testid":`style.${n}.${x.value}`,icon:x.icon,onClick:()=>u(l,x.value,!1),invertIcon:!0},x.value))})})]}),f.jsxs(Ji,{id:`style panel ${r}`,children:[f.jsx(df,{asChild:!0,onTouchEnd:x=>rt(x),children:f.jsx(we,{type:"icon","data-testid":`style.${r}`,title:p(o)+"  "+(h===null||h.type==="mixed"?p("style-panel.mixed"):p(`${r}-style.${h.value}`)),icon:g,smallIcon:!0})}),f.jsx(el,{side:"bottom",align:"end",sideOffset:0,alignOffset:-2,children:f.jsx("div",{className:"tlui-buttons__grid",children:i.map(x=>f.jsx(ds,{type:"icon",title:p(o)+"  "+p(`${r}-style.${x.value}`),"data-testid":`style.${r}.${x.value}`,icon:x.icon,onClick:()=>u(c,x.value,!1)},x.value))})})]})]})]})}),p6=b.memo(function({id:t,label:n,uiType:r,style:s,items:o,type:a,value:i,onValueChange:l}){const c=Ze(),d=b.useMemo(()=>{var h;return(h=o.find(u=>i.type==="shared"&&u.value===i.value))==null?void 0:h.icon},[o,i]);return f.jsxs(Ji,{id:`style panel ${t}`,children:[f.jsx(df,{asChild:!0,onTouchEnd:h=>rt(h),children:f.jsx(we,{type:a,"data-testid":`style.${r}`,title:i.type==="mixed"?c("style-panel.mixed"):c(`${r}-style.${i.value}`),label:n,icon:d??"mixed"})}),f.jsx(el,{side:"left",align:"center",alignOffset:0,children:f.jsx("div",{className:"tlui-buttons__grid",children:o.map(h=>f.jsx(ds,{type:"icon","data-testid":`style.${r}.${h.value}`,title:c(`${r}-style.${h.value}`),icon:h.icon,onClick:()=>l(s,h.value,!1)},h.value))})})]})}),go={color:[{value:"black",icon:"color"},{value:"grey",icon:"color"},{value:"light-violet",icon:"color"},{value:"violet",icon:"color"},{value:"blue",icon:"color"},{value:"light-blue",icon:"color"},{value:"yellow",icon:"color"},{value:"orange",icon:"color"},{value:"green",icon:"color"},{value:"light-green",icon:"color"},{value:"light-red",icon:"color"},{value:"red",icon:"color"}],fill:[{value:"none",icon:"fill-none"},{value:"semi",icon:"fill-semi"},{value:"solid",icon:"fill-solid"},{value:"pattern",icon:"fill-pattern"}],dash:[{value:"draw",icon:"dash-draw"},{value:"dashed",icon:"dash-dashed"},{value:"dotted",icon:"dash-dotted"},{value:"solid",icon:"dash-solid"}],size:[{value:"s",icon:"size-small"},{value:"m",icon:"size-medium"},{value:"l",icon:"size-large"},{value:"xl",icon:"size-extra-large"}],font:[{value:"draw",icon:"font-draw"},{value:"sans",icon:"font-sans"},{value:"serif",icon:"font-serif"},{value:"mono",icon:"font-mono"}],horizontalAlign:[{value:"start",icon:"text-align-left"},{value:"middle",icon:"text-align-center"},{value:"end",icon:"text-align-right"}],verticalAlign:[{value:"start",icon:"vertical-align-start"},{value:"middle",icon:"vertical-align-center"},{value:"end",icon:"vertical-align-end"}],geo:[{value:"rectangle",icon:"geo-rectangle"},{value:"ellipse",icon:"geo-ellipse"},{value:"cloud",icon:"geo-cloud"},{value:"triangle",icon:"geo-triangle"},{value:"diamond",icon:"geo-diamond"},{value:"pentagon",icon:"geo-pentagon"},{value:"hexagon",icon:"geo-hexagon"},{value:"octagon",icon:"geo-octagon"},{value:"star",icon:"geo-star"},{value:"rhombus",icon:"geo-rhombus"},{value:"rhombus-2",icon:"geo-rhombus-2"},{value:"oval",icon:"geo-oval"},{value:"trapezoid",icon:"geo-trapezoid"},{value:"arrow-right",icon:"geo-arrow-right"},{value:"arrow-left",icon:"geo-arrow-left"},{value:"arrow-up",icon:"geo-arrow-up"},{value:"arrow-down",icon:"geo-arrow-down"},{value:"x-box",icon:"geo-x-box"},{value:"check-box",icon:"geo-check-box"}],arrowheadStart:[{value:"none",icon:"arrowhead-none"},{value:"arrow",icon:"arrowhead-arrow"},{value:"triangle",icon:"arrowhead-triangle"},{value:"square",icon:"arrowhead-square"},{value:"dot",icon:"arrowhead-dot"},{value:"diamond",icon:"arrowhead-diamond"},{value:"inverted",icon:"arrowhead-triangle-inverted"},{value:"bar",icon:"arrowhead-bar"}],arrowheadEnd:[{value:"none",icon:"arrowhead-none"},{value:"arrow",icon:"arrowhead-arrow"},{value:"triangle",icon:"arrowhead-triangle"},{value:"square",icon:"arrowhead-square"},{value:"dot",icon:"arrowhead-dot"},{value:"diamond",icon:"arrowhead-diamond"},{value:"inverted",icon:"arrowhead-triangle-inverted"},{value:"bar",icon:"arrowhead-bar"}],spline:[{value:"line",icon:"spline-line"},{value:"cubic",icon:"spline-cubic"}]},rj=function({isMobile:t}){const n=H(),r=XM(),s=b.useCallback(()=>{t||n.updateInstanceState({isChangingStyle:!1})},[n,t]);if(!r)return null;const{styles:o,opacity:a}=r,i=o.get(Qo),l=o.get(Um),c=o.get(Wm),d=o.get(Xm),h=o.get(sa),u=i===void 0,p=l===void 0&&c===void 0,y=d===void 0,g=h===void 0;return f.jsxs("div",{className:"tlui-style-panel","data-ismobile":t,onPointerLeave:s,children:[f.jsx(hue,{styles:o,opacity:a}),!g&&f.jsx(uue,{styles:o}),!(u&&p&&y)&&f.jsxs("div",{className:"tlui-style-panel__section","aria-label":"style panel styles",children:[f.jsx(pue,{styles:o}),f.jsx(gue,{styles:o}),f.jsx(fue,{styles:o})]})]})};function Qf(){const e=H();return le.useMemo(()=>function(n,r,s){e.batch(()=>{e.isIn("select")&&e.setStyleForSelectedShapes(n,r,{squashing:s}),e.setStyleForNextShapes(n,r,{squashing:s}),e.updateInstanceState({isChangingStyle:!0})})},[e])}const Eu=[.1,.25,.5,.75,1];function hue({styles:e,opacity:t}){const n=H(),r=Ze(),s=Qf(),o=le.useCallback((u,p)=>{const y=Eu[u];n.batch(()=>{n.isIn("select")&&n.setOpacityForSelectedShapes(y,{ephemeral:p}),n.setOpacityForNextShapes(y,{ephemeral:p}),n.updateInstanceState({isChangingStyle:!0})})},[n]),a=e.get(Gn),i=e.get(uh),l=e.get(pc),c=e.get(oa),d=i!==void 0||l!==void 0||c!==void 0,h=t.type==="mixed"?-1:Eu.indexOf(pB(Eu,u=>Math.abs(u-t.value)));return f.jsxs(f.Fragment,{children:[f.jsxs("div",{tabIndex:-1,className:"tlui-style-panel__section__common","aria-label":"style panel styles",children:[a===void 0?null:f.jsx(Wd,{title:r("style-panel.color"),uiType:"color",style:Gn,items:go.color,value:a,onValueChange:s}),t===void 0?null:f.jsx(cue,{"data-testid":"style.opacity",value:h>=0?h:Eu.length-1,label:t.type==="mixed"?"style-panel.mixed":`opacity-style.${t.value}`,onValueChange:o,steps:Eu.length-1,title:r("style-panel.opacity")})]}),d&&f.jsxs("div",{className:"tlui-style-panel__section","aria-label":"style panel styles",children:[i===void 0?null:f.jsx(Wd,{title:r("style-panel.fill"),uiType:"fill",style:uh,items:go.fill,value:i,onValueChange:s}),l===void 0?null:f.jsx(Wd,{title:r("style-panel.dash"),uiType:"dash",style:pc,items:go.dash,value:l,onValueChange:s}),c===void 0?null:f.jsx(Wd,{title:r("style-panel.size"),uiType:"size",style:oa,items:go.size,value:c,onValueChange:s})]})]})}function uue({styles:e}){const t=Ze(),n=Qf(),r=e.get(sa),s=e.get(zp),o=e.get(Vm);return r===void 0&&s===void 0?null:f.jsxs("div",{className:"tlui-style-panel__section","aria-label":"style panel text",children:[r===void 0?null:f.jsx(Wd,{title:t("style-panel.font"),uiType:"font",style:sa,items:go.font,value:r,onValueChange:n}),s===void 0?null:f.jsxs("div",{className:"tlui-style-panel__row",children:[f.jsx(Wd,{title:t("style-panel.align"),uiType:"align",style:zp,items:go.horizontalAlign,value:s,onValueChange:n}),f.jsx("div",{className:"tlui-style-panel__row__extra-button",children:o===void 0?f.jsx(we,{type:"icon",title:t("style-panel.vertical-align"),"data-testid":"vertical-align",icon:"vertical-align-center",disabled:!0}):f.jsx(p6,{type:"icon",id:"geo-vertical-alignment",uiType:"verticalAlign",style:Vm,items:go.verticalAlign,value:o,onValueChange:n})})]})]})}function pue({styles:e}){const t=Qf(),n=e.get(Qo);return n===void 0?null:f.jsx(p6,{id:"geo",type:"menu",label:"style-panel.geo",uiType:"geo",style:Qo,items:go.geo,value:n,onValueChange:t})}function fue({styles:e}){const t=Qf(),n=e.get(Xm);return n===void 0?null:f.jsx(p6,{id:"spline",type:"menu",label:"style-panel.spline",uiType:"spline",style:Xm,items:go.spline,value:n,onValueChange:t})}function gue({styles:e}){const t=Qf(),n=e.get(Um),r=e.get(Wm);return!n||!r?null:f.jsx(due,{label:"style-panel.arrowheads",uiTypeA:"arrowheadStart",styleA:Wm,itemsA:go.arrowheadStart,valueA:r,uiTypeB:"arrowheadEnd",styleB:Um,itemsB:go.arrowheadEnd,valueB:n,onValueChange:t,labelA:"style-panel.arrowhead-start",labelB:"style-panel.arrowhead-end"})}function mue({toast:e}){const{removeToast:t}=ma(),n=Ze(),r=o=>{o||t(e.id)},s=e.actions&&e.actions.length>0;return f.jsxs(iae,{onOpenChange:r,className:"tlui-toast__container",duration:e.keepOpen?1/0:5e3,children:[e.icon&&f.jsx("div",{className:"tlui-toast__icon",children:f.jsx(Vr,{icon:e.icon})}),f.jsxs("div",{className:"tlui-toast__main",children:[f.jsxs("div",{className:"tlui-toast__content",children:[e.title&&f.jsx(lae,{className:"tlui-toast__title",children:e.title}),e.description&&f.jsx(cae,{className:"tlui-toast__description",children:e.description})]}),e.actions&&f.jsxs("div",{className:"tlui-toast__actions",children:[e.actions.map((o,a)=>f.jsx(dae,{altText:o.label,asChild:!0,onClick:o.onClick,children:f.jsx(we,{type:o.type,children:o.label})},a)),f.jsx(bk,{asChild:!0,children:f.jsx(we,{type:"normal",className:"tlui-toast__close",style:{marginLeft:"auto"},children:e.closeLabel??n("toast.close")})})]})]}),!s&&f.jsx(bk,{asChild:!0,children:f.jsx(we,{type:"normal",className:"tlui-toast__close",children:e.closeLabel??n("toast.close")})})]})}function yue(){const{toasts:e}=ma();return f.jsx(f.Fragment,{children:e.map(t=>f.jsx(mue,{toast:t},t.id))})}const xue=b.memo(yue);function wue(){const{toasts:e}=ma(),[t,n]=b.useState(!1);return b.useEffect(()=>{let r=!1;return e.length?n(!0):setTimeout(()=>{r||n(!1)},1e3),()=>{r=!0}},[e.length,n]),t?f.jsx(Woe,{className:"tlui-toast__viewport"}):null}function Sue(){const e=H(),t=Ze(),n=XM(),r=n==null?void 0:n.styles.get(Gn),s=br({isDarkMode:e.user.getIsDarkMode()}),o=((r==null?void 0:r.type)==="shared"?s[r.value]:s.black).solid,a=J("isHandOrEraserToolActive",()=>e.isInAny("hand","zoom","eraser","laser"),[e]),i=b.useCallback(l=>{l||e.updateInstanceState({isChangingStyle:!1})},[e]);return f.jsxs(d6,{id:"style menu",onOpenChange:i,children:[f.jsx(h6,{disabled:a,children:f.jsx(we,{type:"tool","data-testid":"mobile.styles",style:{color:a?"var(--color-muted-1)":o},title:t("style-panel.title"),children:f.jsx(Vr,{icon:a?"blob":(r==null?void 0:r.type)==="mixed"?"mixed":"blob"})})}),f.jsx(BM,{side:"top",align:"end",children:f.jsx(rj,{isMobile:!0})})]})}const bue=["select","hand","draw","eraser","text","zoom","laser","highlight"];function vue({activeToolId:e}){const t=H(),n=Zs(),r=Ze(),s=J("is tool locked",()=>t.getInstanceState().isToolLocked,[t]);return!e||bue.includes(e)?null:f.jsx(we,{type:"normal",title:r("action.toggle-tool-lock"),className:me("tlui-toolbar__lock-button",{"tlui-toolbar__lock-button__mobile":n<5}),icon:s?"lock":"unlock",onClick:()=>t.updateInstanceState({isToolLocked:!s}),smallIcon:!0})}const kue=b.memo(function(){const t=H(),n=Ze(),r=Zs(),s=le.useRef(void 0),o=Gs(),a=Ele(),i=a.find(x=>x.toolItem.id==="laser"),l=J("current tool id",()=>t.getCurrentToolId(),[t]),c=J("geo",()=>t.getSharedStyles().getAsKnownValue(Qo),[t]),d=!o,h=x=>x.label?`${n(x.label)} ${x.kbd?ia(x.kbd):""}`:"",u=a.find(x=>hd(x.toolItem,l,c)),{itemsInPanel:p,itemsInDropdown:y,dropdownFirstItem:g}=le.useMemo(()=>{const x=[],w=[];let S;const v=Math.min(8,5+r);for(let k=4;k<a.length;k++){const C=a[k];k<v?x.push(C):(C===u&&(S=C),w.push(C))}return S||(s.current||(s.current=w[0]),S=s.current,w.includes(S)||(S=w[0])),s.current=S,w.length<=2&&(x.push(...w),w.length=0),{itemsInPanel:x,itemsInDropdown:w,dropdownFirstItem:S}},[a,u,r]);return f.jsx("div",{className:"tlui-toolbar",children:f.jsxs("div",{className:"tlui-toolbar__inner",children:[f.jsxs("div",{className:"tlui-toolbar__left",children:[!o&&f.jsxs("div",{className:"tlui-toolbar__extras",children:[r<6&&!(l==="hand"||l==="zoom")&&f.jsxs("div",{className:"tlui-toolbar__extras__controls tlui-buttons__horizontal",children:[f.jsx(VM,{}),f.jsx(WM,{}),f.jsx(UM,{}),f.jsx(KM,{}),f.jsx(FM,{})]}),f.jsx(vue,{activeToolId:l})]}),f.jsxs("div",{className:me("tlui-toolbar__tools",{"tlui-toolbar__tools__mobile":r<5}),children:[a.slice(0,2).map(({toolItem:x})=>f.jsx(Iu,{item:x,title:h(x),isSelected:hd(x,l,c)},x.id)),o&&i&&f.jsx(Iu,{item:i.toolItem,title:h(i.toolItem),isSelected:hd(i.toolItem,l,c)},i.toolItem.id),d&&f.jsxs(f.Fragment,{children:[a.slice(2,4).map(({toolItem:x})=>f.jsx(Iu,{item:x,title:h(x),isSelected:hd(x,l,c)},x.id)),p.map(({toolItem:x})=>f.jsx(Iu,{item:x,title:h(x),isSelected:hd(x,l,c)},x.id)),y.length?f.jsxs(f.Fragment,{children:[f.jsx(Iu,{item:g.toolItem,title:h(g.toolItem),isSelected:hd(g.toolItem,l,c)},g.toolItem.id),f.jsxs(Ji,{id:"toolbar overflow",modal:!1,children:[f.jsx(Gf,{children:f.jsx(we,{className:"tlui-toolbar__overflow",icon:"chevron-up",type:"tool","data-testid":"tools.more",title:n("tool-panel.more")})}),f.jsx(el,{side:"top",align:"center",children:f.jsx(Cue,{toolbarItems:y})})]})]}):null]})]})]}),r<5&&!o&&f.jsx("div",{className:"tlui-toolbar__tools",children:f.jsx(Sue,{})})]})})}),Cue=et(function({toolbarItems:t}){const n=Ze();return f.jsx("div",{className:"tlui-buttons__grid",children:t.map(({toolItem:{id:r,meta:s,kbd:o,label:a,onSelect:i,icon:l}})=>f.jsx(ds,{type:"icon",className:"tlui-button-grid__button","data-testid":`tools.more.${r}`,"data-tool":r,"data-geo":(s==null?void 0:s.geo)??"","aria-label":a,onClick:()=>i("toolbar"),title:a?`${n(a)} ${o?ia(o):""}`:"",icon:l},r))})});function Iu({item:e,title:t,isSelected:n}){var r;return f.jsx(we,{type:"tool","data-testid":`tools.${e.id}`,"data-tool":e.id,"data-geo":((r=e.meta)==null?void 0:r.geo)??"","aria-label":e.label,title:t,icon:e.icon,"data-state":n?"selected":void 0,onClick:()=>e.onSelect("toolbar"),onTouchStart:s=>{rt(s),e.onSelect("toolbar")}})}const hd=(e,t,n)=>{var r,s;return(r=e.meta)!=null&&r.geo?t==="geo"&&n===((s=e.meta)==null?void 0:s.geo):t===e.id};function _ue(){const e=H(),{addToast:t}=ma();b.useEffect(()=>{function n({name:r,count:s}){t({title:"Maximum Shapes Reached",description:`You've reached the maximum number of shapes allowed on ${r} (${s}). Please delete some shapes or move to a different page to continue.`})}return e.addListener("max-shapes",n),()=>{e.removeListener("max-shapes",n)}},[e,t])}const w5=typeof navigator<"u"?navigator.userAgent.toLowerCase().indexOf("firefox")>0:!1;function S5(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r):e.attachEvent&&e.attachEvent("on".concat(t),n)}function Pu(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r):e.detachEvent&&e.detachEvent("on".concat(t),n)}function sj(e,t){const n=t.slice(0,t.length-1);for(let r=0;r<n.length;r++)n[r]=e[n[r].toLowerCase()];return n}function oj(e){typeof e!="string"&&(e=""),e=e.replace(/\s/g,"");const t=e.split(",");let n=t.lastIndexOf("");for(;n>=0;)t[n-1]+=",",t.splice(n,1),n=t.lastIndexOf("");return t}function Eue(e,t){const n=e.length>=t.length?e:t,r=e.length>=t.length?t:e;let s=!0;for(let o=0;o<n.length;o++)r.indexOf(n[o])===-1&&(s=!1);return s}const uf={backspace:8,"":8,tab:9,clear:12,enter:13,"":13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"":20,",":188,".":190,"/":191,"`":192,"-":w5?173:189,"=":w5?61:187,";":w5?59:186,"'":222,"[":219,"]":221,"\\":220},da={"":16,shift:16,"":18,alt:18,option:18,"":17,ctrl:17,control:17,"":91,cmd:91,command:91},oS={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},Bn={16:!1,18:!1,17:!1,91:!1},sn={};for(let e=1;e<20;e++)uf["f".concat(e)]=111+e;let Et=[],Sp=null,aj="all";const _a=new Map,Jf=e=>uf[e.toLowerCase()]||da[e.toLowerCase()]||e.toUpperCase().charCodeAt(0),Iue=e=>Object.keys(uf).find(t=>uf[t]===e),Pue=e=>Object.keys(da).find(t=>da[t]===e);function ij(e){aj=e||"all"}function pf(){return aj||"all"}function zue(){return Et.slice(0)}function Aue(){return Et.map(e=>Iue(e)||Pue(e)||String.fromCharCode(e))}function Nue(){const e=[];return Object.keys(sn).forEach(t=>{sn[t].forEach(n=>{let{key:r,scope:s,mods:o,shortcut:a}=n;e.push({scope:s,shortcut:a,mods:o,keys:r.split("+").map(i=>Jf(i))})})}),e}function Tue(e){const t=e.target||e.srcElement,{tagName:n}=t;let r=!0;const s=n==="INPUT"&&!["checkbox","radio","range","button","file","reset","submit","color"].includes(t.type);return(t.isContentEditable||(s||n==="TEXTAREA"||n==="SELECT")&&!t.readOnly)&&(r=!1),r}function Lue(e){return typeof e=="string"&&(e=Jf(e)),Et.indexOf(e)!==-1}function Mue(e,t){let n,r;e||(e=pf());for(const s in sn)if(Object.prototype.hasOwnProperty.call(sn,s))for(n=sn[s],r=0;r<n.length;)n[r].scope===e?n.splice(r,1).forEach(a=>{let{element:i}=a;return f6(i)}):r++;pf()===e&&ij(t||"all")}function jue(e){let t=e.keyCode||e.which||e.charCode;const n=Et.indexOf(t);if(n>=0&&Et.splice(n,1),e.key&&e.key.toLowerCase()==="meta"&&Et.splice(0,Et.length),(t===93||t===224)&&(t=91),t in Bn){Bn[t]=!1;for(const r in da)da[r]===t&&(mo[r]=!1)}}function lj(e){if(typeof e>"u")Object.keys(sn).forEach(s=>{Array.isArray(sn[s])&&sn[s].forEach(o=>f0(o)),delete sn[s]}),f6(null);else if(Array.isArray(e))e.forEach(s=>{s.key&&f0(s)});else if(typeof e=="object")e.key&&f0(e);else if(typeof e=="string"){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];let[s,o]=n;typeof s=="function"&&(o=s,s=""),f0({key:e,scope:s,method:o,splitKey:"+"})}}const f0=e=>{let{key:t,scope:n,method:r,splitKey:s="+"}=e;oj(t).forEach(a=>{const i=a.split(s),l=i.length,c=i[l-1],d=c==="*"?"*":Jf(c);if(!sn[d])return;n||(n=pf());const h=l>1?sj(da,i):[],u=[];sn[d]=sn[d].filter(p=>{const g=(r?p.method===r:!0)&&p.scope===n&&Eue(p.mods,h);return g&&u.push(p.element),!g}),u.forEach(p=>f6(p))})};function Qk(e,t,n,r){if(t.element!==r)return;let s;if(t.scope===n||t.scope==="all"){s=t.mods.length>0;for(const o in Bn)Object.prototype.hasOwnProperty.call(Bn,o)&&(!Bn[o]&&t.mods.indexOf(+o)>-1||Bn[o]&&t.mods.indexOf(+o)===-1)&&(s=!1);(t.mods.length===0&&!Bn[16]&&!Bn[18]&&!Bn[17]&&!Bn[91]||s||t.shortcut==="*")&&(t.keys=[],t.keys=t.keys.concat(Et),t.method(e,t)===!1&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0)))}}function Jk(e,t){const n=sn["*"];let r=e.keyCode||e.which||e.charCode;if(!mo.filter.call(this,e))return;if((r===93||r===224)&&(r=91),Et.indexOf(r)===-1&&r!==229&&Et.push(r),["ctrlKey","altKey","shiftKey","metaKey"].forEach(i=>{const l=oS[i];e[i]&&Et.indexOf(l)===-1?Et.push(l):!e[i]&&Et.indexOf(l)>-1?Et.splice(Et.indexOf(l),1):i==="metaKey"&&e[i]&&Et.length===3&&(e.ctrlKey||e.shiftKey||e.altKey||(Et=Et.slice(Et.indexOf(l))))}),r in Bn){Bn[r]=!0;for(const i in da)da[i]===r&&(mo[i]=!0);if(!n)return}for(const i in Bn)Object.prototype.hasOwnProperty.call(Bn,i)&&(Bn[i]=e[oS[i]]);e.getModifierState&&!(e.altKey&&!e.ctrlKey)&&e.getModifierState("AltGraph")&&(Et.indexOf(17)===-1&&Et.push(17),Et.indexOf(18)===-1&&Et.push(18),Bn[17]=!0,Bn[18]=!0);const s=pf();if(n)for(let i=0;i<n.length;i++)n[i].scope===s&&(e.type==="keydown"&&n[i].keydown||e.type==="keyup"&&n[i].keyup)&&Qk(e,n[i],s,t);if(!(r in sn))return;const o=sn[r],a=o.length;for(let i=0;i<a;i++)if((e.type==="keydown"&&o[i].keydown||e.type==="keyup"&&o[i].keyup)&&o[i].key){const l=o[i],{splitKey:c}=l,d=l.key.split(c),h=[];for(let u=0;u<d.length;u++)h.push(Jf(d[u]));h.sort().join("")===Et.sort().join("")&&Qk(e,l,s,t)}}function mo(e,t,n){Et=[];const r=oj(e);let s=[],o="all",a=document,i=0,l=!1,c=!0,d="+",h=!1,u=!1;for(n===void 0&&typeof t=="function"&&(n=t),Object.prototype.toString.call(t)==="[object Object]"&&(t.scope&&(o=t.scope),t.element&&(a=t.element),t.keyup&&(l=t.keyup),t.keydown!==void 0&&(c=t.keydown),t.capture!==void 0&&(h=t.capture),typeof t.splitKey=="string"&&(d=t.splitKey),t.single===!0&&(u=!0)),typeof t=="string"&&(o=t),u&&lj(e,o);i<r.length;i++)e=r[i].split(d),s=[],e.length>1&&(s=sj(da,e)),e=e[e.length-1],e=e==="*"?"*":Jf(e),e in sn||(sn[e]=[]),sn[e].push({keyup:l,keydown:c,scope:o,mods:s,shortcut:r[i],method:n,key:r[i],splitKey:d,element:a});if(typeof a<"u"&&window){if(!_a.has(a)){const p=function(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.event;return Jk(g,a)},y=function(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.event;Jk(g,a),jue(g)};_a.set(a,{keydownListener:p,keyupListenr:y,capture:h}),S5(a,"keydown",p,h),S5(a,"keyup",y,h)}if(!Sp){const p=()=>{Et=[]};Sp={listener:p,capture:h},S5(window,"focus",p,h)}}}function Rue(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"all";Object.keys(sn).forEach(n=>{sn[n].filter(s=>s.scope===t&&s.shortcut===e).forEach(s=>{s&&s.method&&s.method()})})}function f6(e){const t=Object.values(sn).flat();if(t.findIndex(r=>{let{element:s}=r;return s===e})<0){const{keydownListener:r,keyupListenr:s,capture:o}=_a.get(e)||{};r&&s&&(Pu(e,"keyup",s,o),Pu(e,"keydown",r,o),_a.delete(e))}if((t.length<=0||_a.size<=0)&&(Object.keys(_a).forEach(s=>{const{keydownListener:o,keyupListenr:a,capture:i}=_a.get(s)||{};o&&a&&(Pu(s,"keyup",a,i),Pu(s,"keydown",o,i),_a.delete(s))}),_a.clear(),Object.keys(sn).forEach(s=>delete sn[s]),Sp)){const{listener:s,capture:o}=Sp;Pu(window,"focus",s,o),Sp=null}}const b5={getPressedKeyString:Aue,setScope:ij,getScope:pf,deleteScope:Mue,getPressedKeyCodes:zue,getAllKeyCodes:Nue,isPressed:Lue,filter:Tue,trigger:Rue,unbind:lj,keyMap:uf,modifier:da,modifierMap:oS};for(const e in b5)Object.prototype.hasOwnProperty.call(b5,e)&&(mo[e]=b5[e]);if(typeof window<"u"){const e=window.hotkeys;mo.noConflict=t=>(t&&window.hotkeys===mo&&(window.hotkeys=e),mo),window.hotkeys=mo}const eC=["copy","cut","paste","asset"];function $ue(){const e=H(),t=Gs(),n=Qn(),r=Vb(),s=J("is focused",()=>e.getInstanceState().isFocused,[e]);b.useEffect(()=>{if(!s)return;const o=e.getContainer();mo.setScope(e.store.id);const a=(l,c)=>{mo(l,{element:o,scope:e.store.id},c)},i=()=>e.getIsMenuOpen()||e.getEditingShapeId()!==null||e.getCrashingError();for(const l of Object.values(n))l.kbd&&(t&&!l.readonlyOk||eC.includes(l.id)||a(tC(l.kbd),c=>{i()||(rt(c),l.onSelect("kbd"))}));for(const l of Object.values(r))!l.kbd||!l.readonlyOk&&e.getInstanceState().isReadonly||eC.includes(l.id)||a(tC(l.kbd),c=>{i()||(rt(c),l.onSelect("kbd"))});return()=>{mo.deleteScope(e.store.id)}},[n,r,t,e,s])}function tC(e){return Oue(e).map(t=>{let n="";const r=t.split("");return r.length===1?n=r[0]:r[0]==="!"?n=`shift+${r[1]}`:r[0]==="?"?r.length===3&&r[1]==="!"?n=`alt+shift+${r[2]}`:n=`alt+${r[1]}`:r[0]==="$"?r[1]==="!"?n=`cmd+shift+${r[2]},ctrl+shift+${r[2]}`:r[1]==="?"?n=`cmd++${r[2]},ctrl+alt+${r[2]}`:n=`cmd+${r[1]},ctrl+${r[1]}`:n=t,n}).join(",")}function Oue(e){typeof e!="string"&&(e=""),e=e.replace(/\s/g,"");const t=e.split(",");let n=t.lastIndexOf("");for(;n>=0;)t[n-1]+=",",t.splice(n,1),n=t.lastIndexOf("");return t}const cj=le.memo(function({shareZone:t,topZone:n,renderDebugMenuItems:r,children:s,hideUi:o,...a}){return f.jsx(Nle,{...a,children:f.jsx(Due,{hideUi:o,shareZone:t,topZone:n,renderDebugMenuItems:r,children:s})})}),Due=le.memo(function({children:t,hideUi:n,...r}){return f.jsxs(f.Fragment,{children:[t,n?null:f.jsx(que,{...r})]})}),que=le.memo(function({shareZone:t,topZone:n,renderDebugMenuItems:r}){const s=H(),o=Ze(),a=Zs(),i=J("isReadonlyMode",()=>s.getInstanceState().isReadonly,[s]),l=J("focus",()=>s.getInstanceState().isFocusMode,[s]),c=J("debug",()=>s.getInstanceState().isDebugMode,[s]);$ue(),tle(),_ue();const{"toggle-focus-mode":d}=Qn();return f.jsx(MT,{children:f.jsxs("div",{className:me("tlui-layout",{"tlui-layout__mobile":a<5}),"data-breakpoint":a,children:[l?f.jsx("div",{className:"tlui-layout__top",children:f.jsx(we,{type:"icon",className:"tlui-focus-button",title:`${o("focus-mode.toggle-focus-mode")}`,icon:"dot",onClick:()=>d.onSelect("menu")})}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"tlui-layout__top",children:[f.jsxs("div",{className:"tlui-layout__top__left",children:[f.jsx(Ahe,{}),f.jsxs("div",{className:"tlui-helper-buttons",children:[f.jsx(Mhe,{}),f.jsx(Lle,{}),f.jsx(jhe,{})]})]}),f.jsx("div",{className:"tlui-layout__top__center",children:n}),f.jsxs("div",{className:"tlui-layout__top__right",children:[t,a>=5&&!i&&f.jsx("div",{className:"tlui-style-panel__wrapper",children:f.jsx(rj,{})})]})]}),f.jsxs("div",{className:"tlui-layout__bottom",children:[f.jsxs("div",{className:"tlui-layout__bottom__main",children:[f.jsx(Lhe,{}),f.jsx(kue,{}),a>=4&&f.jsx(uhe,{})]}),c&&f.jsx(the,{renderDebugMenuItems:r??null})]})]}),f.jsx(xue,{}),f.jsx(che,{}),f.jsx(wue,{}),f.jsx(dhe,{})]})})}),dj="ContextMenu",[Bue,A3e]=ga(dj,[u2]),ya=u2(),[Fue,hj]=Bue(dj),Kue=e=>{const{__scopeContextMenu:t,children:n,onOpenChange:r,dir:s,modal:o=!0}=e,[a,i]=b.useState(!1),l=ya(t),c=kr(r),d=b.useCallback(h=>{i(h),c(h)},[c]);return b.createElement(Fue,{scope:t,open:a,onOpenChange:d,modal:o},b.createElement(yM,se({},l,{dir:s,open:a,onOpenChange:d,modal:o}),n))},Wue="ContextMenuTrigger",Uue=b.forwardRef((e,t)=>{const{__scopeContextMenu:n,disabled:r=!1,...s}=e,o=hj(Wue,n),a=ya(n),i=b.useRef({x:0,y:0}),l=b.useRef({getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...i.current})}),c=b.useRef(0),d=b.useCallback(()=>window.clearTimeout(c.current),[]),h=u=>{i.current={x:u.clientX,y:u.clientY},o.onOpenChange(!0)};return b.useEffect(()=>d,[d]),b.useEffect(()=>void(r&&d()),[r,d]),b.createElement(b.Fragment,null,b.createElement(xM,se({},a,{virtualRef:l})),b.createElement(Ct.span,se({"data-state":o.open?"open":"closed","data-disabled":r?"":void 0},s,{ref:t,style:{WebkitTouchCallout:"none",...e.style},onContextMenu:r?e.onContextMenu:ye(e.onContextMenu,u=>{d(),h(u),u.preventDefault()}),onPointerDown:r?e.onPointerDown:ye(e.onPointerDown,g0(u=>{d(),c.current=window.setTimeout(()=>h(u),700)})),onPointerMove:r?e.onPointerMove:ye(e.onPointerMove,g0(d)),onPointerCancel:r?e.onPointerCancel:ye(e.onPointerCancel,g0(d)),onPointerUp:r?e.onPointerUp:ye(e.onPointerUp,g0(d))})))}),Vue=e=>{const{__scopeContextMenu:t,...n}=e,r=ya(t);return b.createElement(wM,se({},r,n))},Xue="ContextMenuContent",Yue=b.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,s=hj(Xue,n),o=ya(n),a=b.useRef(!1);return b.createElement(SM,se({},o,r,{ref:t,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:i=>{var l;(l=e.onCloseAutoFocus)===null||l===void 0||l.call(e,i),!i.defaultPrevented&&a.current&&i.preventDefault(),a.current=!1},onInteractOutside:i=>{var l;(l=e.onInteractOutside)===null||l===void 0||l.call(e,i),!i.defaultPrevented&&!s.modal&&(a.current=!0)},style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),Hue=b.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,s=ya(n);return b.createElement(bM,se({},s,r,{ref:t}))}),Gue=b.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,s=ya(n);return b.createElement(vM,se({},s,r,{ref:t}))}),Zue=b.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,s=ya(n);return b.createElement(kM,se({},s,r,{ref:t}))}),Que=e=>{const{__scopeContextMenu:t,children:n,onOpenChange:r,open:s,defaultOpen:o}=e,a=ya(t),[i,l]=ul({prop:s,defaultProp:o,onChange:r});return b.createElement(CM,se({},a,{open:i,onOpenChange:l}),n)},Jue=b.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,s=ya(n);return b.createElement(_M,se({},s,r,{ref:t}))}),epe=b.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,s=ya(n);return b.createElement(EM,se({},s,r,{ref:t,style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))});function g0(e){return t=>t.pointerType!=="mouse"?e(t):void 0}const tpe=Kue,npe=Uue,Hy=Vue,rpe=Yue,aS=Hue,iS=Gue,spe=Zue,uj=Que,pj=Jue,fj=epe,ope=et(function(){const t=H(),n=zn(),r=t.getPages(),s=t.getCurrentPageId(),o=Ze(),{addToast:a}=ma();return f.jsxs(uj,{children:[f.jsx(pj,{dir:"ltr",asChild:!0,children:f.jsx(we,{type:"menu",label:"context-menu.move-to-page","data-testid":"menu-item.move-to-page",icon:"chevron-right"})}),f.jsx(Hy,{container:n,children:f.jsxs(fj,{className:"tlui-menu",sideOffset:-4,collisionPadding:4,children:[f.jsx(aS,{dir:"ltr",className:"tlui-menu__group","data-testid":"menu-item.pages",children:r.map(i=>f.jsx(iS,{disabled:s===i.id,onSelect:()=>{t.mark("move_shapes_to_page"),t.moveShapesToPage(t.getSelectedShapeIds(),i.id);const l=t.getPage(i.id);l&&a({title:"Changed Page",description:`Moved to ${l.name}.`,actions:[{label:"Go Back",type:"primary",onClick:()=>{t.mark("change-page"),t.setCurrentPage(s)}}]})},asChild:!0,children:f.jsx(we,{type:"menu",title:i.name,className:"tlui-context-menu__move-to-page__name",children:f.jsx("span",{className:"tlui-button__label",children:i.name})})},i.id))},"pages"),f.jsx(aS,{dir:"ltr",className:"tlui-menu__group","data-testid":"menu-item.new-page",children:f.jsx(iS,{onSelect:()=>{const i=Ba.createId(),l=t.getSelectedShapeIds();t.batch(()=>{t.mark("move_shapes_to_page"),t.createPage({name:o("page-menu.new-page-initial-name"),id:i}),t.moveShapesToPage(l,i)})},asChild:!0,children:f.jsx(we,{type:"menu",title:o("context.pages.new-page"),className:"tlui-context-menu__move-to-page__name",children:f.jsx("span",{className:"tlui-button__label",children:o("context.pages.new-page")})})},"new-page")},"new-page")]})})]})}),gj=function({children:t}){const n=H(),r=PL(),s=b.useCallback(u=>{if(u){if(n.getInstanceState().isCoarsePointer){const p=n.getSelectedShapes(),{inputs:{currentPagePoint:y}}=n,g=n.getShapesAtPoint(y);if(!n.getSelectedShapes().length||!g.some(x=>p.includes(x))){const x=g.filter(w=>n.isShapeOrAncestorLocked(w));x.length&&n.select(...x.map(w=>w.id))}}}else{const p=n.getOnlySelectedShape();p&&n.isShapeOrAncestorLocked(p)&&n.setSelectedShapes([])}},[n]),o=zn(),[a,i]=Oc("context menu",s),l=Gs(),c=r.length===0||l&&r.every(u=>!u.readonlyOk),h=!J("isSelectToolActive",()=>n.getCurrentToolId()==="select",[n])||c;return f.jsxs(tpe,{dir:"ltr",onOpenChange:i,children:[f.jsx(npe,{onContextMenu:h?rt:void 0,dir:"ltr",disabled:h,children:t}),f.jsx(Hy,{container:o,children:f.jsx(ape,{})})]})},ape=b.forwardRef(function(){const t=H(),n=Ze(),r=PL(),[s,o]=Oc("context menu sub"),a=Gs(),i=Zs(),l=zn(),[c,d]=b.useState(!1);function h(u,p,y,g){if(!p||a&&!p.readonlyOk)return null;switch(p.type){case"custom":{switch(p.id){case"MOVE_TO_PAGE_MENU":return f.jsx(ope,{},p.id)}break}case"group":return f.jsx(aS,{dir:"ltr",className:me("tlui-menu__group",{"tlui-menu__group__small":(y==null?void 0:y.type)==="submenu"}),"data-testid":`menu-item.${p.id}`,children:p.children.map(x=>h(u,x,p,g+1))},p.id);case"submenu":return f.jsxs(uj,{onOpenChange:o,children:[f.jsx(pj,{dir:"ltr",disabled:p.disabled,asChild:!0,children:f.jsx(we,{type:"menu",label:p.label,"data-testid":`menu-item.${p.id}`,icon:"chevron-right"})}),f.jsx(Hy,{container:l,children:f.jsx(fj,{className:"tlui-menu",sideOffset:-4,collisionPadding:4,children:p.children.map(x=>h(u,x,p,g+1))})})]},p.id);case"item":{if(a&&!p.readonlyOk)return null;const{id:x,checkbox:w,contextMenuLabel:S,label:v,onSelect:k,kbd:C,icon:_}=p.actionItem,E=S??v,I=E?n(E):void 0;return w?f.jsxs(spe,{className:"tlui-button tlui-button__menu tlui-button__checkbox",dir:"ltr",disabled:p.disabled,onSelect:z=>{k("context-menu"),rt(z)},title:I||void 0,checked:p.checked,children:[f.jsx(Vr,{small:!0,icon:p.checked?"check":"checkbox-empty"}),I&&f.jsx("span",{className:"tlui-button__label",draggable:!1,children:I}),C&&f.jsx(r2,{children:C})]},x):f.jsx(iS,{dir:"ltr",asChild:!0,children:f.jsx(we,{type:"menu","data-testid":`menu-item.${x}`,kbd:C,label:E,disabled:p.disabled,iconLeft:i<3&&g>2?_:void 0,onClick:()=>{c?d(!1):k("context-menu")}})},x)}}}return f.jsx(Hy,{container:l,children:f.jsx(rpe,{className:"tlui-menu scrollable",alignOffset:-4,collisionPadding:4,onContextMenu:rt,children:r.map(u=>h(t,u,null,0))})})}),m0=(e,t)=>{const[n,r]=b.useState(2);return b.useEffect(()=>{const{url:s,style:o="normal",weight:a="500",display:i,featureSettings:l,stretch:c,unicodeRange:d}=t;let h=!1;r(2);const u={style:o,weight:a,display:i,featureSettings:l,stretch:c,unicodeRange:d},p=new FontFace(e,`url(${s})`,u);return p.load().then(()=>{h||(document.fonts.add(p),r(0))}).catch(y=>{h||(console.error(y),r(1))}),p.$$_url=s,p.$$_fontface=`
@font-face {
	font-family: ${p.family};
	font-stretch: ${p.stretch};
	font-weight: ${p.weight};
	font-style: ${p.style};
	src: url("${s}") format("woff2")
}`,()=>{document.fonts.delete(p),h=!0}},[e,t]),n};function ipe(e){return{draw:{url:e.fonts.draw},serif:{url:e.fonts.serif},sansSerif:{url:e.fonts.sansSerif},monospace:{url:e.fonts.monospace}}}function lpe(e){const t=b.useMemo(()=>ipe(e),[e]),n=[m0("tldraw_draw",t.draw),m0("tldraw_serif",t.serif),m0("tldraw_sans",t.sansSerif),m0("tldraw_mono",t.monospace)];return{error:n.some(r=>r===1),done:!n.some(r=>r===2)}}function yt(e){const{children:t,maxImageDimension:n,maxAssetSize:r,acceptedImageMimeTypes:s,acceptedVideoMimeTypes:o,onMount:a,...i}=e,l=QX(i.components??{}),c=Bv(i.shapeUtils??[]),d=Bv(i.tools??[]),h={initialState:"select",...i,components:b.useMemo(()=>({Scribble:gy,CollaboratorScribble:gy,SelectionForeground:Iz,SelectionBackground:Ez,Handles:kz,HoveredShapeIndicator:Cz,...l}),[l]),shapeUtils:b.useMemo(()=>[...q9,...c],[c]),tools:b.useMemo(()=>[...EA,...jz,...d],[d])},u=uae(i.assetUrls),{done:p,error:y}=lpe(u);return y?f.jsx(qX,{children:"Could not load assets. Please refresh the page."}):p?f.jsx(bP,{...h,children:f.jsxs(cj,{...h,children:[f.jsx(gj,{children:f.jsx(v1,{})}),f.jsx(cpe,{maxImageDimension:n,maxAssetSize:r,acceptedImageMimeTypes:s,acceptedVideoMimeTypes:o,onMount:a}),t]})}):f.jsx(CP,{children:"Loading assets..."})}function cpe({maxImageDimension:e=1e3,maxAssetSize:t=10*1024*1024,acceptedImageMimeTypes:n=["image/jpeg","image/png","image/gif","image/svg+xml"],acceptedVideoMimeTypes:r=["video/mp4","video/quicktime"],onMount:s}){const o=H(),a=dpe(i=>{const l=[];return l.push(...sre(i)),jte(i,{maxImageDimension:e,maxAssetSize:t,acceptedImageMimeTypes:n,acceptedVideoMimeTypes:r}),l.push(s==null?void 0:s(i)),()=>{l.forEach(c=>c==null?void 0:c())}});return b.useLayoutEffect(()=>{if(o)return a==null?void 0:a(o)},[o,a]),null}function dpe(e){const t=b.useRef();return b.useLayoutEffect(()=>{t.current=e}),b.useDebugValue(e),b.useCallback((...n)=>{const r=t.current;return lc(r,"fn does not exist"),r(...n)},[])}function hpe(){const e=Ze(),t=b.useRef(null);return f.jsxs("div",{className:me("tlui-offline-indicator"),ref:t,children:[e("status.offline"),f.jsx(Vr,{"aria-label":"offline",icon:"status-offline",small:!0})]})}Pi({tldrawFileFormatVersion:AB,schema:Pi({schemaVersion:bg,storeVersion:bg,recordVersions:Y7(za,Pi({version:bg,subTypeVersions:Y7(za,bg).optional(),subTypeKey:za.optional()}))}),records:Cw(Pi({id:za,typeName:za}).allowUnknownProperties())});var mj,nC=jc;mj=nC.createRoot,nC.hydrateRoot;/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function en(){return en=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},en.apply(this,arguments)}var pn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(pn||(pn={}));const rC="popstate";function upe(e){e===void 0&&(e={});function t(r,s){let{pathname:o,search:a,hash:i}=r.location;return ff("",{pathname:o,search:a,hash:i},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:kc(s)}return fpe(t,n,null,e)}function Xe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function _h(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ppe(){return Math.random().toString(36).substr(2,8)}function sC(e,t){return{usr:e.state,key:e.key,idx:t}}function ff(e,t,n,r){return n===void 0&&(n=null),en({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?si(t):t,{state:n,key:t&&t.key||r||ppe()})}function kc(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function si(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function fpe(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,a=s.history,i=pn.Pop,l=null,c=d();c==null&&(c=0,a.replaceState(en({},a.state,{idx:c}),""));function d(){return(a.state||{idx:null}).idx}function h(){i=pn.Pop;let x=d(),w=x==null?null:x-c;c=x,l&&l({action:i,location:g.location,delta:w})}function u(x,w){i=pn.Push;let S=ff(g.location,x,w);n&&n(S,x),c=d()+1;let v=sC(S,c),k=g.createHref(S);try{a.pushState(v,"",k)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(k)}o&&l&&l({action:i,location:g.location,delta:1})}function p(x,w){i=pn.Replace;let S=ff(g.location,x,w);n&&n(S,x),c=d();let v=sC(S,c),k=g.createHref(S);a.replaceState(v,"",k),o&&l&&l({action:i,location:g.location,delta:0})}function y(x){let w=s.location.origin!=="null"?s.location.origin:s.location.href,S=typeof x=="string"?x:kc(x);return S=S.replace(/ $/,"%20"),Xe(w,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,w)}let g={get action(){return i},get location(){return e(s,a)},listen(x){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(rC,h),l=x,()=>{s.removeEventListener(rC,h),l=null}},createHref(x){return t(s,x)},createURL:y,encodeLocation(x){let w=y(x);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:u,replace:p,go(x){return a.go(x)}};return g}var Xt;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Xt||(Xt={}));const gpe=new Set(["lazy","caseSensitive","path","id","index","children"]);function mpe(e){return e.index===!0}function lS(e,t,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),e.map((s,o)=>{let a=[...n,o],i=typeof s.id=="string"?s.id:a.join("-");if(Xe(s.index!==!0||!s.children,"Cannot specify children on an index route"),Xe(!r[i],'Found a route id collision on id "'+i+`".  Route id's must be globally unique within Data Router usages`),mpe(s)){let l=en({},s,t(s),{id:i});return r[i]=l,l}else{let l=en({},s,t(s),{id:i,children:void 0});return r[i]=l,s.children&&(l.children=lS(s.children,t,a,r)),l}})}function Ud(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?si(t):t,s=Xh(r.pathname||"/",n);if(s==null)return null;let o=yj(e);xpe(o);let a=null;for(let i=0;a==null&&i<o.length;++i){let l=Ape(s);a=Ipe(o[i],l)}return a}function ype(e,t){let{route:n,pathname:r,params:s}=e;return{id:n.id,pathname:r,params:s,data:t[n.id],handle:n.handle}}function yj(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,a,i)=>{let l={relativePath:i===void 0?o.path||"":i,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};l.relativePath.startsWith("/")&&(Xe(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=qa([r,l.relativePath]),d=n.concat(l);o.children&&o.children.length>0&&(Xe(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),yj(o.children,t,d,c)),!(o.path==null&&!o.index)&&t.push({path:c,score:_pe(c,o.index),routesMeta:d})};return e.forEach((o,a)=>{var i;if(o.path===""||!((i=o.path)!=null&&i.includes("?")))s(o,a);else for(let l of xj(o.path))s(o,a,l)}),t}function xj(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let a=xj(r.join("/")),i=[];return i.push(...a.map(l=>l===""?o:[o,l].join("/"))),s&&i.push(...a),i.map(l=>e.startsWith("/")&&l===""?"/":l)}function xpe(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Epe(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const wpe=/^:[\w-]+$/,Spe=3,bpe=2,vpe=1,kpe=10,Cpe=-2,oC=e=>e==="*";function _pe(e,t){let n=e.split("/"),r=n.length;return n.some(oC)&&(r+=Cpe),t&&(r+=bpe),n.filter(s=>!oC(s)).reduce((s,o)=>s+(wpe.test(o)?Spe:o===""?vpe:kpe),r)}function Epe(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function Ipe(e,t){let{routesMeta:n}=e,r={},s="/",o=[];for(let a=0;a<n.length;++a){let i=n[a],l=a===n.length-1,c=s==="/"?t:t.slice(s.length)||"/",d=Ppe({path:i.relativePath,caseSensitive:i.caseSensitive,end:l},c);if(!d)return null;Object.assign(r,d.params);let h=i.route;o.push({params:r,pathname:qa([s,d.pathname]),pathnameBase:Lpe(qa([s,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(s=qa([s,d.pathnameBase]))}return o}function Ppe(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=zpe(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let o=s[0],a=o.replace(/(.)\/+$/,"$1"),i=s.slice(1);return{params:r.reduce((c,d,h)=>{let{paramName:u,isOptional:p}=d;if(u==="*"){let g=i[h]||"";a=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const y=i[h];return p&&!y?c[u]=void 0:c[u]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:a,pattern:e}}function zpe(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),_h(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,i,l)=>(r.push({paramName:i,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function Ape(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return _h(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Xh(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Npe(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?si(e):e;return{pathname:n?n.startsWith("/")?n:Tpe(n,t):t,search:Mpe(r),hash:jpe(s)}}function Tpe(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function v5(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function wj(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function g6(e,t){let n=wj(e);return t?n.map((r,s)=>s===e.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function m6(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=si(e):(s=en({},e),Xe(!s.pathname||!s.pathname.includes("?"),v5("?","pathname","search",s)),Xe(!s.pathname||!s.pathname.includes("#"),v5("#","pathname","hash",s)),Xe(!s.search||!s.search.includes("#"),v5("#","search","hash",s)));let o=e===""||s.pathname==="",a=o?"/":s.pathname,i;if(a==null)i=n;else{let h=t.length-1;if(!r&&a.startsWith("..")){let u=a.split("/");for(;u[0]==="..";)u.shift(),h-=1;s.pathname=u.join("/")}i=h>=0?t[h]:"/"}let l=Npe(s,i),c=a&&a!=="/"&&a.endsWith("/"),d=(o||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const qa=e=>e.join("/").replace(/\/\/+/g,"/"),Lpe=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Mpe=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,jpe=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class y6{constructor(t,n,r,s){s===void 0&&(s=!1),this.status=t,this.statusText=n||"",this.internal=s,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function x6(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Sj=["post","put","patch","delete"],Rpe=new Set(Sj),$pe=["get",...Sj],Ope=new Set($pe),Dpe=new Set([301,302,303,307,308]),qpe=new Set([307,308]),k5={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Bpe={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},zu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},w6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fpe=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),bj="remix-router-transitions";function Kpe(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",r=!n;Xe(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let s;if(e.mapRouteProperties)s=e.mapRouteProperties;else if(e.detectErrorBoundary){let F=e.detectErrorBoundary;s=X=>({hasErrorBoundary:F(X)})}else s=Fpe;let o={},a=lS(e.routes,s,void 0,o),i,l=e.basename||"/",c=e.unstable_dataStrategy||Xpe,d=en({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,unstable_skipActionErrorRevalidation:!1},e.future),h=null,u=new Set,p=null,y=null,g=null,x=e.hydrationData!=null,w=Ud(a,e.history.location,l),S=null;if(w==null){let F=Rs(404,{pathname:e.history.location.pathname}),{matches:X,route:Z}=gC(a);w=X,S={[Z.id]:F}}let v,k=w.some(F=>F.route.lazy),C=w.some(F=>F.route.loader);if(k)v=!1;else if(!C)v=!0;else if(d.v7_partialHydration){let F=e.hydrationData?e.hydrationData.loaderData:null,X=e.hydrationData?e.hydrationData.errors:null,Z=te=>te.route.loader?typeof te.route.loader=="function"&&te.route.loader.hydrate===!0?!1:F&&F[te.route.id]!==void 0||X&&X[te.route.id]!==void 0:!0;if(X){let te=w.findIndex(de=>X[de.route.id]!==void 0);v=w.slice(0,te+1).every(Z)}else v=w.every(Z)}else v=e.hydrationData!=null;let _,E={historyAction:e.history.action,location:e.history.location,matches:w,initialized:v,navigation:k5,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||S,fetchers:new Map,blockers:new Map},I=pn.Pop,z=!1,A,T=!1,j=new Map,R=null,M=!1,D=!1,U=[],Y=[],q=new Map,K=0,W=-1,G=new Map,ne=new Set,ce=new Map,Le=new Map,re=new Set,Pe=new Map,Me=new Map,ht=!1;function je(){if(h=e.history.listen(F=>{let{action:X,location:Z,delta:te}=F;if(ht){ht=!1;return}_h(Me.size===0||te!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let de=lg({currentLocation:E.location,nextLocation:Z,historyAction:X});if(de&&te!=null){ht=!0,e.history.go(te*-1),_l(de,{state:"blocked",location:Z,proceed(){_l(de,{state:"proceeding",proceed:void 0,reset:void 0,location:Z}),e.history.go(te)},reset(){let Re=new Map(E.blockers);Re.set(de,zu),at({blockers:Re})}});return}return tt(X,Z)}),n){ofe(t,j);let F=()=>afe(t,j);t.addEventListener("pagehide",F),R=()=>t.removeEventListener("pagehide",F)}return E.initialized||tt(pn.Pop,E.location,{initialHydration:!0}),_}function Ke(){h&&h(),R&&R(),u.clear(),A&&A.abort(),E.fetchers.forEach((F,X)=>Cl(X)),E.blockers.forEach((F,X)=>Jh(X))}function Ae(F){return u.add(F),()=>u.delete(F)}function at(F,X){X===void 0&&(X={}),E=en({},E,F);let Z=[],te=[];d.v7_fetcherPersist&&E.fetchers.forEach((de,Re)=>{de.state==="idle"&&(re.has(Re)?te.push(Re):Z.push(Re))}),[...u].forEach(de=>de(E,{deletedFetchers:te,unstable_viewTransitionOpts:X.viewTransitionOpts,unstable_flushSync:X.flushSync===!0})),d.v7_fetcherPersist&&(Z.forEach(de=>E.fetchers.delete(de)),te.forEach(de=>Cl(de)))}function Lt(F,X,Z){var te,de;let{flushSync:Re}=Z===void 0?{}:Z,Ce=E.actionData!=null&&E.navigation.formMethod!=null&&io(E.navigation.formMethod)&&E.navigation.state==="loading"&&((te=F.state)==null?void 0:te._isRedirect)!==!0,fe;X.actionData?Object.keys(X.actionData).length>0?fe=X.actionData:fe=null:Ce?fe=E.actionData:fe=null;let $e=X.loaderData?pC(E.loaderData,X.loaderData,X.matches||[],X.errors):E.loaderData,Te=E.blockers;Te.size>0&&(Te=new Map(Te),Te.forEach((Ne,_t)=>Te.set(_t,zu)));let un=z===!0||E.navigation.formMethod!=null&&io(E.navigation.formMethod)&&((de=F.state)==null?void 0:de._isRedirect)!==!0;i&&(a=i,i=void 0),M||I===pn.Pop||(I===pn.Push?e.history.push(F,F.state):I===pn.Replace&&e.history.replace(F,F.state));let Mt;if(I===pn.Pop){let Ne=j.get(E.location.pathname);Ne&&Ne.has(F.pathname)?Mt={currentLocation:E.location,nextLocation:F}:j.has(F.pathname)&&(Mt={currentLocation:F,nextLocation:E.location})}else if(T){let Ne=j.get(E.location.pathname);Ne?Ne.add(F.pathname):(Ne=new Set([F.pathname]),j.set(E.location.pathname,Ne)),Mt={currentLocation:E.location,nextLocation:F}}at(en({},X,{actionData:fe,loaderData:$e,historyAction:I,location:F,initialized:!0,navigation:k5,revalidation:"idle",restoreScrollPosition:Wc(F,X.matches||E.matches),preventScrollReset:un,blockers:Te}),{viewTransitionOpts:Mt,flushSync:Re===!0}),I=pn.Pop,z=!1,T=!1,M=!1,D=!1,U=[],Y=[]}async function ln(F,X){if(typeof F=="number"){e.history.go(F);return}let Z=cS(E.location,E.matches,l,d.v7_prependBasename,F,d.v7_relativeSplatPath,X==null?void 0:X.fromRouteId,X==null?void 0:X.relative),{path:te,submission:de,error:Re}=aC(d.v7_normalizeFormMethod,!1,Z,X),Ce=E.location,fe=ff(E.location,te,X&&X.state);fe=en({},fe,e.history.encodeLocation(fe));let $e=X&&X.replace!=null?X.replace:void 0,Te=pn.Push;$e===!0?Te=pn.Replace:$e===!1||de!=null&&io(de.formMethod)&&de.formAction===E.location.pathname+E.location.search&&(Te=pn.Replace);let un=X&&"preventScrollReset"in X?X.preventScrollReset===!0:void 0,Mt=(X&&X.unstable_flushSync)===!0,Ne=lg({currentLocation:Ce,nextLocation:fe,historyAction:Te});if(Ne){_l(Ne,{state:"blocked",location:fe,proceed(){_l(Ne,{state:"proceeding",proceed:void 0,reset:void 0,location:fe}),ln(F,X)},reset(){let _t=new Map(E.blockers);_t.set(Ne,zu),at({blockers:_t})}});return}return await tt(Te,fe,{submission:de,pendingError:Re,preventScrollReset:un,replace:X&&X.replace,enableViewTransition:X&&X.unstable_viewTransition,flushSync:Mt})}function He(){if(Gh(),at({revalidation:"loading"}),E.navigation.state!=="submitting"){if(E.navigation.state==="idle"){tt(E.historyAction,E.location,{startUninterruptedRevalidation:!0});return}tt(I||E.historyAction,E.navigation.location,{overrideNavigation:E.navigation})}}async function tt(F,X,Z){A&&A.abort(),A=null,I=F,M=(Z&&Z.startUninterruptedRevalidation)===!0,_2(E.location,E.matches),z=(Z&&Z.preventScrollReset)===!0,T=(Z&&Z.enableViewTransition)===!0;let te=i||a,de=Z&&Z.overrideNavigation,Re=Ud(te,X,l),Ce=(Z&&Z.flushSync)===!0;if(!Re){let Ne=Rs(404,{pathname:X.pathname}),{matches:_t,route:mn}=gC(te);eo(),Lt(X,{matches:_t,loaderData:{},errors:{[mn.id]:Ne}},{flushSync:Ce});return}if(E.initialized&&!D&&Jpe(E.location,X)&&!(Z&&Z.submission&&io(Z.submission.formMethod))){Lt(X,{matches:Re},{flushSync:Ce});return}A=new AbortController;let fe=ud(e.history,X,A.signal,Z&&Z.submission),$e;if(Z&&Z.pendingError)$e=[bp(Re).route.id,{type:Xt.error,error:Z.pendingError}];else if(Z&&Z.submission&&io(Z.submission.formMethod)){let Ne=await Is(fe,X,Z.submission,Re,{replace:Z.replace,flushSync:Ce});if(Ne.shortCircuited)return;$e=Ne.pendingActionResult,de=C5(X,Z.submission),Ce=!1,fe=ud(e.history,fe.url,fe.signal)}let{shortCircuited:Te,loaderData:un,errors:Mt}=await Qs(fe,X,Re,de,Z&&Z.submission,Z&&Z.fetcherSubmission,Z&&Z.replace,Z&&Z.initialHydration===!0,Ce,$e);Te||(A=null,Lt(X,en({matches:Re},fC($e),{loaderData:un,errors:Mt})))}async function Is(F,X,Z,te,de){de===void 0&&(de={}),Gh();let Re=rfe(X,Z);at({navigation:Re},{flushSync:de.flushSync===!0});let Ce,fe=hS(te,X);if(!fe.route.action&&!fe.route.lazy)Ce={type:Xt.error,error:Rs(405,{method:F.method,pathname:X.pathname,routeId:fe.route.id})};else if(Ce=(await kl("action",F,[fe],te))[0],F.signal.aborted)return{shortCircuited:!0};if(Ql(Ce)){let $e;return de&&de.replace!=null?$e=de.replace:$e=dC(Ce.response.headers.get("Location"),new URL(F.url),l)===E.location.pathname+E.location.search,await vl(F,Ce,{submission:Z,replace:$e}),{shortCircuited:!0}}if(Zl(Ce))throw Rs(400,{type:"defer-action"});if(Bs(Ce)){let $e=bp(te,fe.route.id);return(de&&de.replace)!==!0&&(I=pn.Push),{pendingActionResult:[$e.route.id,Ce]}}return{pendingActionResult:[fe.route.id,Ce]}}async function Qs(F,X,Z,te,de,Re,Ce,fe,$e,Te){let un=te||C5(X,de),Mt=de||Re||xC(un),Ne=i||a,[_t,mn]=iC(e.history,E,Z,Mt,X,d.v7_partialHydration&&fe===!0,d.unstable_skipActionErrorRevalidation,D,U,Y,re,ce,ne,Ne,l,Te);if(eo(Ge=>!(Z&&Z.some(Mn=>Mn.route.id===Ge))||_t&&_t.some(Mn=>Mn.route.id===Ge)),W=++K,_t.length===0&&mn.length===0){let Ge=ig();return Lt(X,en({matches:Z,loaderData:{},errors:Te&&Bs(Te[1])?{[Te[0]]:Te[1].error}:null},fC(Te),Ge?{fetchers:new Map(E.fetchers)}:{}),{flushSync:$e}),{shortCircuited:!0}}if(!M&&(!d.v7_partialHydration||!fe)){mn.forEach(Mn=>{let jr=E.fetchers.get(Mn.key),wn=Au(void 0,jr?jr.data:void 0);E.fetchers.set(Mn.key,wn)});let Ge;Te&&!Bs(Te[1])?Ge={[Te[0]]:Te[1].data}:E.actionData&&(Object.keys(E.actionData).length===0?Ge=null:Ge=E.actionData),at(en({navigation:un},Ge!==void 0?{actionData:Ge}:{},mn.length>0?{fetchers:new Map(E.fetchers)}:{}),{flushSync:$e})}mn.forEach(Ge=>{q.has(Ge.key)&&Js(Ge.key),Ge.controller&&q.set(Ge.key,Ge.controller)});let Il=()=>mn.forEach(Ge=>Js(Ge.key));A&&A.signal.addEventListener("abort",Il);let{loaderResults:To,fetcherResults:Jn}=await ag(E.matches,Z,_t,mn,F);if(F.signal.aborted)return{shortCircuited:!0};A&&A.signal.removeEventListener("abort",Il),mn.forEach(Ge=>q.delete(Ge.key));let hi=mC([...To,...Jn]);if(hi){if(hi.idx>=_t.length){let Ge=mn[hi.idx-_t.length].key;ne.add(Ge)}return await vl(F,hi.result,{replace:Ce}),{shortCircuited:!0}}let{loaderData:ui,errors:zs}=uC(E,Z,_t,To,Te,mn,Jn,Pe);Pe.forEach((Ge,Mn)=>{Ge.subscribe(jr=>{(jr||Ge.done)&&Pe.delete(Mn)})}),d.v7_partialHydration&&fe&&E.errors&&Object.entries(E.errors).filter(Ge=>{let[Mn]=Ge;return!_t.some(jr=>jr.route.id===Mn)}).forEach(Ge=>{let[Mn,jr]=Ge;zs=Object.assign(zs||{},{[Mn]:jr})});let Uc=ig(),Vc=Qh(W),As=Uc||Vc||mn.length>0;return en({loaderData:ui,errors:zs},As?{fetchers:new Map(E.fetchers)}:{})}function bl(F,X,Z,te){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");q.has(F)&&Js(F);let de=(te&&te.unstable_flushSync)===!0,Re=i||a,Ce=cS(E.location,E.matches,l,d.v7_prependBasename,Z,d.v7_relativeSplatPath,X,te==null?void 0:te.relative),fe=Ud(Re,Ce,l);if(!fe){No(F,X,Rs(404,{pathname:Ce}),{flushSync:de});return}let{path:$e,submission:Te,error:un}=aC(d.v7_normalizeFormMethod,!0,Ce,te);if(un){No(F,X,un,{flushSync:de});return}let Mt=hS(fe,$e);if(z=(te&&te.preventScrollReset)===!0,Te&&io(Te.formMethod)){ci(F,X,$e,Mt,fe,de,Te);return}ce.set(F,{routeId:X,path:$e}),di(F,X,$e,Mt,fe,de,Te)}async function ci(F,X,Z,te,de,Re,Ce){if(Gh(),ce.delete(F),!te.route.action&&!te.route.lazy){let wn=Rs(405,{method:Ce.formMethod,pathname:Z,routeId:X});No(F,X,wn,{flushSync:Re});return}let fe=E.fetchers.get(F);Ao(F,sfe(Ce,fe),{flushSync:Re});let $e=new AbortController,Te=ud(e.history,Z,$e.signal,Ce);q.set(F,$e);let un=K,Ne=(await kl("action",Te,[te],de))[0];if(Te.signal.aborted){q.get(F)===$e&&q.delete(F);return}if(d.v7_fetcherPersist&&re.has(F)){if(Ql(Ne)||Bs(Ne)){Ao(F,bi(void 0));return}}else{if(Ql(Ne))if(q.delete(F),W>un){Ao(F,bi(void 0));return}else return ne.add(F),Ao(F,Au(Ce)),vl(Te,Ne,{fetcherSubmission:Ce});if(Bs(Ne)){No(F,X,Ne.error);return}}if(Zl(Ne))throw Rs(400,{type:"defer-action"});let _t=E.navigation.location||E.location,mn=ud(e.history,_t,$e.signal),Il=i||a,To=E.navigation.state!=="idle"?Ud(Il,E.navigation.location,l):E.matches;Xe(To,"Didn't find any matches after fetcher action");let Jn=++K;G.set(F,Jn);let hi=Au(Ce,Ne.data);E.fetchers.set(F,hi);let[ui,zs]=iC(e.history,E,To,Ce,_t,!1,d.unstable_skipActionErrorRevalidation,D,U,Y,re,ce,ne,Il,l,[te.route.id,Ne]);zs.filter(wn=>wn.key!==F).forEach(wn=>{let Pl=wn.key,zl=E.fetchers.get(Pl),E2=Au(void 0,zl?zl.data:void 0);E.fetchers.set(Pl,E2),q.has(Pl)&&Js(Pl),wn.controller&&q.set(Pl,wn.controller)}),at({fetchers:new Map(E.fetchers)});let Uc=()=>zs.forEach(wn=>Js(wn.key));$e.signal.addEventListener("abort",Uc);let{loaderResults:Vc,fetcherResults:As}=await ag(E.matches,To,ui,zs,mn);if($e.signal.aborted)return;$e.signal.removeEventListener("abort",Uc),G.delete(F),q.delete(F),zs.forEach(wn=>q.delete(wn.key));let Ge=mC([...Vc,...As]);if(Ge){if(Ge.idx>=ui.length){let wn=zs[Ge.idx-ui.length].key;ne.add(wn)}return vl(mn,Ge.result)}let{loaderData:Mn,errors:jr}=uC(E,E.matches,ui,Vc,void 0,zs,As,Pe);if(E.fetchers.has(F)){let wn=bi(Ne.data);E.fetchers.set(F,wn)}Qh(Jn),E.navigation.state==="loading"&&Jn>W?(Xe(I,"Expected pending action"),A&&A.abort(),Lt(E.navigation.location,{matches:To,loaderData:Mn,errors:jr,fetchers:new Map(E.fetchers)})):(at({errors:jr,loaderData:pC(E.loaderData,Mn,To,jr),fetchers:new Map(E.fetchers)}),D=!1)}async function di(F,X,Z,te,de,Re,Ce){let fe=E.fetchers.get(F);Ao(F,Au(Ce,fe?fe.data:void 0),{flushSync:Re});let $e=new AbortController,Te=ud(e.history,Z,$e.signal);q.set(F,$e);let un=K,Ne=(await kl("loader",Te,[te],de))[0];if(Zl(Ne)&&(Ne=await _j(Ne,Te.signal,!0)||Ne),q.get(F)===$e&&q.delete(F),!Te.signal.aborted){if(re.has(F)){Ao(F,bi(void 0));return}if(Ql(Ne))if(W>un){Ao(F,bi(void 0));return}else{ne.add(F),await vl(Te,Ne);return}if(Bs(Ne)){No(F,X,Ne.error);return}Xe(!Zl(Ne),"Unhandled fetcher deferred data"),Ao(F,bi(Ne.data))}}async function vl(F,X,Z){let{submission:te,fetcherSubmission:de,replace:Re}=Z===void 0?{}:Z;X.response.headers.has("X-Remix-Revalidate")&&(D=!0);let Ce=X.response.headers.get("Location");Xe(Ce,"Expected a Location header on the redirect Response"),Ce=dC(Ce,new URL(F.url),l);let fe=ff(E.location,Ce,{_isRedirect:!0});if(n){let _t=!1;if(X.response.headers.has("X-Remix-Reload-Document"))_t=!0;else if(w6.test(Ce)){const mn=e.history.createURL(Ce);_t=mn.origin!==t.location.origin||Xh(mn.pathname,l)==null}if(_t){Re?t.location.replace(Ce):t.location.assign(Ce);return}}A=null;let $e=Re===!0?pn.Replace:pn.Push,{formMethod:Te,formAction:un,formEncType:Mt}=E.navigation;!te&&!de&&Te&&un&&Mt&&(te=xC(E.navigation));let Ne=te||de;if(qpe.has(X.response.status)&&Ne&&io(Ne.formMethod))await tt($e,fe,{submission:en({},Ne,{formAction:Ce}),preventScrollReset:z});else{let _t=C5(fe,te);await tt($e,fe,{overrideNavigation:_t,fetcherSubmission:de,preventScrollReset:z})}}async function kl(F,X,Z,te){try{let de=await Ype(c,F,X,Z,te,o,s);return await Promise.all(de.map((Re,Ce)=>{if(efe(Re)){let fe=Re.result;return{type:Xt.redirect,response:Zpe(fe,X,Z[Ce].route.id,te,l,d.v7_relativeSplatPath)}}return Gpe(Re)}))}catch(de){return Z.map(()=>({type:Xt.error,error:de}))}}async function ag(F,X,Z,te,de){let[Re,...Ce]=await Promise.all([Z.length?kl("loader",de,Z,X):[],...te.map(fe=>{if(fe.matches&&fe.match&&fe.controller){let $e=ud(e.history,fe.path,fe.controller.signal);return kl("loader",$e,[fe.match],fe.matches).then(Te=>Te[0])}else return Promise.resolve({type:Xt.error,error:Rs(404,{pathname:fe.path})})})]);return await Promise.all([yC(F,Z,Re,Re.map(()=>de.signal),!1,E.loaderData),yC(F,te.map(fe=>fe.match),Ce,te.map(fe=>fe.controller?fe.controller.signal:null),!0)]),{loaderResults:Re,fetcherResults:Ce}}function Gh(){D=!0,U.push(...eo()),ce.forEach((F,X)=>{q.has(X)&&(Y.push(X),Js(X))})}function Ao(F,X,Z){Z===void 0&&(Z={}),E.fetchers.set(F,X),at({fetchers:new Map(E.fetchers)},{flushSync:(Z&&Z.flushSync)===!0})}function No(F,X,Z,te){te===void 0&&(te={});let de=bp(E.matches,X);Cl(F),at({errors:{[de.route.id]:Z},fetchers:new Map(E.fetchers)},{flushSync:(te&&te.flushSync)===!0})}function Fc(F){return d.v7_fetcherPersist&&(Le.set(F,(Le.get(F)||0)+1),re.has(F)&&re.delete(F)),E.fetchers.get(F)||Bpe}function Cl(F){let X=E.fetchers.get(F);q.has(F)&&!(X&&X.state==="loading"&&G.has(F))&&Js(F),ce.delete(F),G.delete(F),ne.delete(F),re.delete(F),E.fetchers.delete(F)}function Ps(F){if(d.v7_fetcherPersist){let X=(Le.get(F)||0)-1;X<=0?(Le.delete(F),re.add(F)):Le.set(F,X)}else Cl(F);at({fetchers:new Map(E.fetchers)})}function Js(F){let X=q.get(F);Xe(X,"Expected fetch controller: "+F),X.abort(),q.delete(F)}function Zh(F){for(let X of F){let Z=Fc(X),te=bi(Z.data);E.fetchers.set(X,te)}}function ig(){let F=[],X=!1;for(let Z of ne){let te=E.fetchers.get(Z);Xe(te,"Expected fetcher: "+Z),te.state==="loading"&&(ne.delete(Z),F.push(Z),X=!0)}return Zh(F),X}function Qh(F){let X=[];for(let[Z,te]of G)if(te<F){let de=E.fetchers.get(Z);Xe(de,"Expected fetcher: "+Z),de.state==="loading"&&(Js(Z),G.delete(Z),X.push(Z))}return Zh(X),X.length>0}function Kc(F,X){let Z=E.blockers.get(F)||zu;return Me.get(F)!==X&&Me.set(F,X),Z}function Jh(F){E.blockers.delete(F),Me.delete(F)}function _l(F,X){let Z=E.blockers.get(F)||zu;Xe(Z.state==="unblocked"&&X.state==="blocked"||Z.state==="blocked"&&X.state==="blocked"||Z.state==="blocked"&&X.state==="proceeding"||Z.state==="blocked"&&X.state==="unblocked"||Z.state==="proceeding"&&X.state==="unblocked","Invalid blocker state transition: "+Z.state+" -> "+X.state);let te=new Map(E.blockers);te.set(F,X),at({blockers:te})}function lg(F){let{currentLocation:X,nextLocation:Z,historyAction:te}=F;if(Me.size===0)return;Me.size>1&&_h(!1,"A router only supports one blocker at a time");let de=Array.from(Me.entries()),[Re,Ce]=de[de.length-1],fe=E.blockers.get(Re);if(!(fe&&fe.state==="proceeding")&&Ce({currentLocation:X,nextLocation:Z,historyAction:te}))return Re}function eo(F){let X=[];return Pe.forEach((Z,te)=>{(!F||F(te))&&(Z.cancel(),X.push(te),Pe.delete(te))}),X}function cg(F,X,Z){if(p=F,g=X,y=Z||null,!x&&E.navigation===k5){x=!0;let te=Wc(E.location,E.matches);te!=null&&at({restoreScrollPosition:te})}return()=>{p=null,g=null,y=null}}function dg(F,X){return y&&y(F,X.map(te=>ype(te,E.loaderData)))||F.key}function _2(F,X){if(p&&g){let Z=dg(F,X);p[Z]=g()}}function Wc(F,X){if(p){let Z=dg(F,X),te=p[Z];if(typeof te=="number")return te}return null}function El(F){o={},i=lS(F,s,void 0,o)}return _={get basename(){return l},get future(){return d},get state(){return E},get routes(){return a},get window(){return t},initialize:je,subscribe:Ae,enableScrollRestoration:cg,navigate:ln,fetch:bl,revalidate:He,createHref:F=>e.history.createHref(F),encodeLocation:F=>e.history.encodeLocation(F),getFetcher:Fc,deleteFetcher:Ps,dispose:Ke,getBlocker:Kc,deleteBlocker:Jh,_internalFetchControllers:q,_internalActiveDeferreds:Pe,_internalSetRoutes:El},_}function Wpe(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function cS(e,t,n,r,s,o,a,i){let l,c;if(a){l=[];for(let h of t)if(l.push(h),h.route.id===a){c=h;break}}else l=t,c=t[t.length-1];let d=m6(s||".",g6(l,o),Xh(e.pathname,n)||e.pathname,i==="path");return s==null&&(d.search=e.search,d.hash=e.hash),(s==null||s===""||s===".")&&c&&c.route.index&&!S6(d.search)&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(d.pathname=d.pathname==="/"?n:qa([n,d.pathname])),kc(d)}function aC(e,t,n,r){if(!r||!Wpe(r))return{path:n};if(r.formMethod&&!nfe(r.formMethod))return{path:n,error:Rs(405,{method:r.formMethod})};let s=()=>({path:n,error:Rs(400,{type:"invalid-body"})}),o=r.formMethod||"get",a=e?o.toUpperCase():o.toLowerCase(),i=kj(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!io(a))return s();let u=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((p,y)=>{let[g,x]=y;return""+p+g+"="+x+`
`},""):String(r.body);return{path:n,submission:{formMethod:a,formAction:i,formEncType:r.formEncType,formData:void 0,json:void 0,text:u}}}else if(r.formEncType==="application/json"){if(!io(a))return s();try{let u=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:a,formAction:i,formEncType:r.formEncType,formData:void 0,json:u,text:void 0}}}catch{return s()}}}Xe(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=dS(r.formData),c=r.formData;else if(r.body instanceof FormData)l=dS(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=hC(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=hC(l)}catch{return s()}let d={formMethod:a,formAction:i,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(io(d.formMethod))return{path:n,submission:d};let h=si(n);return t&&h.search&&S6(h.search)&&l.append("index",""),h.search="?"+l,{path:kc(h),submission:d}}function Upe(e,t){let n=e;if(t){let r=e.findIndex(s=>s.route.id===t);r>=0&&(n=e.slice(0,r))}return n}function iC(e,t,n,r,s,o,a,i,l,c,d,h,u,p,y,g){let x=g?Bs(g[1])?g[1].error:g[1].data:void 0,w=e.createURL(t.location),S=e.createURL(s),v=g&&Bs(g[1])?g[0]:void 0,k=v?Upe(n,v):n,C=g?g[1].statusCode:void 0,_=a&&C&&C>=400,E=k.filter((z,A)=>{let{route:T}=z;if(T.lazy)return!0;if(T.loader==null)return!1;if(o)return typeof T.loader!="function"||T.loader.hydrate?!0:t.loaderData[T.id]===void 0&&(!t.errors||t.errors[T.id]===void 0);if(Vpe(t.loaderData,t.matches[A],z)||l.some(M=>M===z.route.id))return!0;let j=t.matches[A],R=z;return lC(z,en({currentUrl:w,currentParams:j.params,nextUrl:S,nextParams:R.params},r,{actionResult:x,unstable_actionStatus:C,defaultShouldRevalidate:_?!1:i||w.pathname+w.search===S.pathname+S.search||w.search!==S.search||vj(j,R)}))}),I=[];return h.forEach((z,A)=>{if(o||!n.some(D=>D.route.id===z.routeId)||d.has(A))return;let T=Ud(p,z.path,y);if(!T){I.push({key:A,routeId:z.routeId,path:z.path,matches:null,match:null,controller:null});return}let j=t.fetchers.get(A),R=hS(T,z.path),M=!1;u.has(A)?M=!1:c.includes(A)?M=!0:j&&j.state!=="idle"&&j.data===void 0?M=i:M=lC(R,en({currentUrl:w,currentParams:t.matches[t.matches.length-1].params,nextUrl:S,nextParams:n[n.length-1].params},r,{actionResult:x,unstable_actionStatus:C,defaultShouldRevalidate:_?!1:i})),M&&I.push({key:A,routeId:z.routeId,path:z.path,matches:T,match:R,controller:new AbortController})}),[E,I]}function Vpe(e,t,n){let r=!t||n.route.id!==t.route.id,s=e[n.route.id]===void 0;return r||s}function vj(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function lC(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}async function cC(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let s=n[e.id];Xe(s,"No route found in manifest");let o={};for(let a in r){let l=s[a]!==void 0&&a!=="hasErrorBoundary";_h(!l,'Route "'+s.id+'" has a static property "'+a+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+a+'" will be ignored.')),!l&&!gpe.has(a)&&(o[a]=r[a])}Object.assign(s,o),Object.assign(s,en({},t(s),{lazy:void 0}))}function Xpe(e){return Promise.all(e.matches.map(t=>t.resolve()))}async function Ype(e,t,n,r,s,o,a,i){let l=r.reduce((h,u)=>h.add(u.route.id),new Set),c=new Set,d=await e({matches:s.map(h=>{let u=l.has(h.route.id);return en({},h,{shouldLoad:u,resolve:y=>(c.add(h.route.id),u?Hpe(t,n,h,o,a,y,i):Promise.resolve({type:Xt.data,result:void 0}))})}),request:n,params:s[0].params,context:i});return s.forEach(h=>Xe(c.has(h.route.id),'`match.resolve()` was not called for route id "'+h.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),d.filter((h,u)=>l.has(s[u].route.id))}async function Hpe(e,t,n,r,s,o,a){let i,l,c=d=>{let h,u=new Promise((g,x)=>h=x);l=()=>h(),t.signal.addEventListener("abort",l);let p=g=>typeof d!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+e+'" [routeId: '+n.route.id+"]"))):d({request:t,params:n.params,context:a},...g!==void 0?[g]:[]),y;return o?y=o(g=>p(g)):y=(async()=>{try{return{type:"data",result:await p()}}catch(g){return{type:"error",result:g}}})(),Promise.race([y,u])};try{let d=n.route[e];if(n.route.lazy)if(d){let h,[u]=await Promise.all([c(d).catch(p=>{h=p}),cC(n.route,s,r)]);if(h!==void 0)throw h;i=u}else if(await cC(n.route,s,r),d=n.route[e],d)i=await c(d);else if(e==="action"){let h=new URL(t.url),u=h.pathname+h.search;throw Rs(405,{method:t.method,pathname:u,routeId:n.route.id})}else return{type:Xt.data,result:void 0};else if(d)i=await c(d);else{let h=new URL(t.url),u=h.pathname+h.search;throw Rs(404,{pathname:u})}Xe(i.result!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(d){return{type:Xt.error,result:d}}finally{l&&t.signal.removeEventListener("abort",l)}return i}async function Gpe(e){let{result:t,type:n,status:r}=e;if(Cj(t)){let a;try{let i=t.headers.get("Content-Type");i&&/\bapplication\/json\b/.test(i)?t.body==null?a=null:a=await t.json():a=await t.text()}catch(i){return{type:Xt.error,error:i}}return n===Xt.error?{type:Xt.error,error:new y6(t.status,t.statusText,a),statusCode:t.status,headers:t.headers}:{type:Xt.data,data:a,statusCode:t.status,headers:t.headers}}if(n===Xt.error)return{type:Xt.error,error:t,statusCode:x6(t)?t.status:r};if(tfe(t)){var s,o;return{type:Xt.deferred,deferredData:t,statusCode:(s=t.init)==null?void 0:s.status,headers:((o=t.init)==null?void 0:o.headers)&&new Headers(t.init.headers)}}return{type:Xt.data,data:t,statusCode:r}}function Zpe(e,t,n,r,s,o){let a=e.headers.get("Location");if(Xe(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!w6.test(a)){let i=r.slice(0,r.findIndex(l=>l.route.id===n)+1);a=cS(new URL(t.url),i,s,!0,a,o),e.headers.set("Location",a)}return e}function dC(e,t,n){if(w6.test(e)){let r=e,s=r.startsWith("//")?new URL(t.protocol+r):new URL(r),o=Xh(s.pathname,n)!=null;if(s.origin===t.origin&&o)return s.pathname+s.search+s.hash}return e}function ud(e,t,n,r){let s=e.createURL(kj(t)).toString(),o={signal:n};if(r&&io(r.formMethod)){let{formMethod:a,formEncType:i}=r;o.method=a.toUpperCase(),i==="application/json"?(o.headers=new Headers({"Content-Type":i}),o.body=JSON.stringify(r.json)):i==="text/plain"?o.body=r.text:i==="application/x-www-form-urlencoded"&&r.formData?o.body=dS(r.formData):o.body=r.formData}return new Request(s,o)}function dS(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function hC(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function Qpe(e,t,n,r,s,o){let a={},i=null,l,c=!1,d={},h=r&&Bs(r[1])?r[1].error:void 0;return n.forEach((u,p)=>{let y=t[p].route.id;if(Xe(!Ql(u),"Cannot handle redirect results in processLoaderData"),Bs(u)){let g=u.error;if(h!==void 0&&(g=h,h=void 0),i=i||{},o)i[y]=g;else{let x=bp(e,y);i[x.route.id]==null&&(i[x.route.id]=g)}a[y]=void 0,c||(c=!0,l=x6(u.error)?u.error.status:500),u.headers&&(d[y]=u.headers)}else Zl(u)?(s.set(y,u.deferredData),a[y]=u.deferredData.data,u.statusCode!=null&&u.statusCode!==200&&!c&&(l=u.statusCode),u.headers&&(d[y]=u.headers)):(a[y]=u.data,u.statusCode&&u.statusCode!==200&&!c&&(l=u.statusCode),u.headers&&(d[y]=u.headers))}),h!==void 0&&r&&(i={[r[0]]:h},a[r[0]]=void 0),{loaderData:a,errors:i,statusCode:l||200,loaderHeaders:d}}function uC(e,t,n,r,s,o,a,i){let{loaderData:l,errors:c}=Qpe(t,n,r,s,i,!1);for(let d=0;d<o.length;d++){let{key:h,match:u,controller:p}=o[d];Xe(a!==void 0&&a[d]!==void 0,"Did not find corresponding fetcher result");let y=a[d];if(!(p&&p.signal.aborted))if(Bs(y)){let g=bp(e.matches,u==null?void 0:u.route.id);c&&c[g.route.id]||(c=en({},c,{[g.route.id]:y.error})),e.fetchers.delete(h)}else if(Ql(y))Xe(!1,"Unhandled fetcher revalidation redirect");else if(Zl(y))Xe(!1,"Unhandled fetcher deferred data");else{let g=bi(y.data);e.fetchers.set(h,g)}}return{loaderData:l,errors:c}}function pC(e,t,n,r){let s=en({},t);for(let o of n){let a=o.route.id;if(t.hasOwnProperty(a)?t[a]!==void 0&&(s[a]=t[a]):e[a]!==void 0&&o.route.loader&&(s[a]=e[a]),r&&r.hasOwnProperty(a))break}return s}function fC(e){return e?Bs(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function bp(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function gC(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Rs(e,t){let{pathname:n,routeId:r,method:s,type:o}=t===void 0?{}:t,a="Unknown Server Error",i="Unknown @remix-run/router error";return e===400?(a="Bad Request",s&&n&&r?i="You made a "+s+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?i="defer() is not supported in actions":o==="invalid-body"&&(i="Unable to encode submission body")):e===403?(a="Forbidden",i='Route "'+r+'" does not match URL "'+n+'"'):e===404?(a="Not Found",i='No route matches URL "'+n+'"'):e===405&&(a="Method Not Allowed",s&&n&&r?i="You made a "+s.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":s&&(i='Invalid request method "'+s.toUpperCase()+'"')),new y6(e||500,a,new Error(i),!0)}function mC(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(Ql(n))return{result:n,idx:t}}}function kj(e){let t=typeof e=="string"?si(e):e;return kc(en({},t,{hash:""}))}function Jpe(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function efe(e){return Cj(e.result)&&Dpe.has(e.result.status)}function Zl(e){return e.type===Xt.deferred}function Bs(e){return e.type===Xt.error}function Ql(e){return(e&&e.type)===Xt.redirect}function tfe(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function Cj(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function nfe(e){return Ope.has(e.toLowerCase())}function io(e){return Rpe.has(e.toLowerCase())}async function yC(e,t,n,r,s,o){for(let a=0;a<n.length;a++){let i=n[a],l=t[a];if(!l)continue;let c=e.find(h=>h.route.id===l.route.id),d=c!=null&&!vj(c,l)&&(o&&o[l.route.id])!==void 0;if(Zl(i)&&(s||d)){let h=r[a];Xe(h,"Expected an AbortSignal for revalidating fetcher deferred result"),await _j(i,h,s).then(u=>{u&&(n[a]=u||n[a])})}}}async function _j(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:Xt.data,data:e.deferredData.unwrappedData}}catch(s){return{type:Xt.error,error:s}}return{type:Xt.data,data:e.deferredData.data}}}function S6(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function hS(e,t){let n=typeof t=="string"?si(t).search:t.search;if(e[e.length-1].route.index&&S6(n||""))return e[e.length-1];let r=wj(e);return r[r.length-1]}function xC(e){let{formMethod:t,formAction:n,formEncType:r,text:s,formData:o,json:a}=e;if(!(!t||!n||!r)){if(s!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:s};if(o!=null)return{formMethod:t,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(a!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:a,text:void 0}}}function C5(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function rfe(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Au(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function sfe(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function bi(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function ofe(e,t){try{let n=e.sessionStorage.getItem(bj);if(n){let r=JSON.parse(n);for(let[s,o]of Object.entries(r||{}))o&&Array.isArray(o)&&t.set(s,new Set(o||[]))}}catch{}}function afe(e,t){if(t.size>0){let n={};for(let[r,s]of t)n[r]=[...s];try{e.sessionStorage.setItem(bj,JSON.stringify(n))}catch(r){_h(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gf(){return gf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gf.apply(this,arguments)}const g2=b.createContext(null),Ej=b.createContext(null),Dc=b.createContext(null),m2=b.createContext(null),qc=b.createContext({outlet:null,matches:[],isDataRoute:!1}),Ij=b.createContext(null);function ife(e,t){let{relative:n}=t===void 0?{}:t;eg()||Xe(!1);let{basename:r,navigator:s}=b.useContext(Dc),{hash:o,pathname:a,search:i}=zj(e,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:qa([r,a])),s.createHref({pathname:l,search:i,hash:o})}function eg(){return b.useContext(m2)!=null}function y2(){return eg()||Xe(!1),b.useContext(m2).location}function Pj(e){b.useContext(Dc).static||b.useLayoutEffect(e)}function lfe(){let{isDataRoute:e}=b.useContext(qc);return e?Sfe():cfe()}function cfe(){eg()||Xe(!1);let e=b.useContext(g2),{basename:t,future:n,navigator:r}=b.useContext(Dc),{matches:s}=b.useContext(qc),{pathname:o}=y2(),a=JSON.stringify(g6(s,n.v7_relativeSplatPath)),i=b.useRef(!1);return Pj(()=>{i.current=!0}),b.useCallback(function(c,d){if(d===void 0&&(d={}),!i.current)return;if(typeof c=="number"){r.go(c);return}let h=m6(c,JSON.parse(a),o,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:qa([t,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[t,r,a,o,e])}function zj(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=b.useContext(Dc),{matches:s}=b.useContext(qc),{pathname:o}=y2(),a=JSON.stringify(g6(s,r.v7_relativeSplatPath));return b.useMemo(()=>m6(e,JSON.parse(a),o,n==="path"),[e,a,o,n])}function dfe(e,t,n,r){eg()||Xe(!1);let{navigator:s}=b.useContext(Dc),{matches:o}=b.useContext(qc),a=o[o.length-1],i=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=y2(),d;if(t){var h;let x=typeof t=="string"?si(t):t;l==="/"||(h=x.pathname)!=null&&h.startsWith(l)||Xe(!1),d=x}else d=c;let u=d.pathname||"/",p=u;if(l!=="/"){let x=l.replace(/^\//,"").split("/");p="/"+u.replace(/^\//,"").split("/").slice(x.length).join("/")}let y=Ud(e,{pathname:p}),g=gfe(y&&y.map(x=>Object.assign({},x,{params:Object.assign({},i,x.params),pathname:qa([l,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:qa([l,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),o,n,r);return t&&g?b.createElement(m2.Provider,{value:{location:gf({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:pn.Pop}},g):g}function hfe(){let e=wfe(),t=x6(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),n?b.createElement("pre",{style:s},n):null,o)}const ufe=b.createElement(hfe,null);class pfe extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?b.createElement(qc.Provider,{value:this.props.routeContext},b.createElement(Ij.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ffe(e){let{routeContext:t,match:n,children:r}=e,s=b.useContext(g2);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(qc.Provider,{value:t},r)}function gfe(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if((o=n)!=null&&o.errors)e=n.matches;else return null}let a=e,i=(s=n)==null?void 0:s.errors;if(i!=null){let d=a.findIndex(h=>h.route.id&&(i==null?void 0:i[h.route.id])!==void 0);d>=0||Xe(!1),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:u,errors:p}=n,y=h.route.loader&&u[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||y){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((d,h,u)=>{let p,y=!1,g=null,x=null;n&&(p=i&&h.route.id?i[h.route.id]:void 0,g=h.route.errorElement||ufe,l&&(c<0&&u===0?(bfe("route-fallback",!1),y=!0,x=null):c===u&&(y=!0,x=h.route.hydrateFallbackElement||null)));let w=t.concat(a.slice(0,u+1)),S=()=>{let v;return p?v=g:y?v=x:h.route.Component?v=b.createElement(h.route.Component,null):h.route.element?v=h.route.element:v=d,b.createElement(ffe,{match:h,routeContext:{outlet:d,matches:w,isDataRoute:n!=null},children:v})};return n&&(h.route.ErrorBoundary||h.route.errorElement||u===0)?b.createElement(pfe,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:S(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):S()},null)}var Aj=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Aj||{}),Gy=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Gy||{});function mfe(e){let t=b.useContext(g2);return t||Xe(!1),t}function yfe(e){let t=b.useContext(Ej);return t||Xe(!1),t}function xfe(e){let t=b.useContext(qc);return t||Xe(!1),t}function Nj(e){let t=xfe(),n=t.matches[t.matches.length-1];return n.route.id||Xe(!1),n.route.id}function wfe(){var e;let t=b.useContext(Ij),n=yfe(Gy.UseRouteError),r=Nj(Gy.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Sfe(){let{router:e}=mfe(Aj.UseNavigateStable),t=Nj(Gy.UseNavigateStable),n=b.useRef(!1);return Pj(()=>{n.current=!0}),b.useCallback(function(s,o){o===void 0&&(o={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,gf({fromRouteId:t},o)))},[e,t])}const wC={};function bfe(e,t,n){!t&&!wC[e]&&(wC[e]=!0)}function vfe(e){let{basename:t="/",children:n=null,location:r,navigationType:s=pn.Pop,navigator:o,static:a=!1,future:i}=e;eg()&&Xe(!1);let l=t.replace(/^\/*/,"/"),c=b.useMemo(()=>({basename:l,navigator:o,static:a,future:gf({v7_relativeSplatPath:!1},i)}),[l,i,o,a]);typeof r=="string"&&(r=si(r));let{pathname:d="/",search:h="",hash:u="",state:p=null,key:y="default"}=r,g=b.useMemo(()=>{let x=Xh(d,l);return x==null?null:{location:{pathname:x,search:h,hash:u,state:p,key:y},navigationType:s}},[l,d,h,u,p,y,s]);return g==null?null:b.createElement(Dc.Provider,{value:c},b.createElement(m2.Provider,{children:n,value:g}))}new Promise(()=>{});function kfe(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:b.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:b.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:b.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mf(){return mf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mf.apply(this,arguments)}function Cfe(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,o;for(o=0;o<r.length;o++)s=r[o],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function _fe(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Efe(e,t){return e.button===0&&(!t||t==="_self")&&!_fe(e)}const Ife=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Pfe="6";try{window.__reactRouterVersion=Pfe}catch{}function zfe(e,t){return Kpe({basename:t==null?void 0:t.basename,future:mf({},t==null?void 0:t.future,{v7_prependBasename:!0}),history:upe({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||Afe(),routes:e,mapRouteProperties:kfe,unstable_dataStrategy:t==null?void 0:t.unstable_dataStrategy,window:t==null?void 0:t.window}).initialize()}function Afe(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=mf({},t,{errors:Nfe(t.errors)})),t}function Nfe(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,s]of t)if(s&&s.__type==="RouteErrorResponse")n[r]=new y6(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let o=window[s.__subType];if(typeof o=="function")try{let a=new o(s.message);a.stack="",n[r]=a}catch{}}if(n[r]==null){let o=new Error(s.message);o.stack="",n[r]=o}}else n[r]=s;return n}const Tfe=b.createContext({isTransitioning:!1}),Lfe=b.createContext(new Map),Mfe="startTransition",SC=tE[Mfe],jfe="flushSync",bC=boe[jfe];function Rfe(e){SC?SC(e):e()}function Nu(e){bC?bC(e):e()}class $fe{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function Ofe(e){let{fallbackElement:t,router:n,future:r}=e,[s,o]=b.useState(n.state),[a,i]=b.useState(),[l,c]=b.useState({isTransitioning:!1}),[d,h]=b.useState(),[u,p]=b.useState(),[y,g]=b.useState(),x=b.useRef(new Map),{v7_startTransition:w}=r||{},S=b.useCallback(E=>{w?Rfe(E):E()},[w]),v=b.useCallback((E,I)=>{let{deletedFetchers:z,unstable_flushSync:A,unstable_viewTransitionOpts:T}=I;z.forEach(R=>x.current.delete(R)),E.fetchers.forEach((R,M)=>{R.data!==void 0&&x.current.set(M,R.data)});let j=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!T||j){A?Nu(()=>o(E)):S(()=>o(E));return}if(A){Nu(()=>{u&&(d&&d.resolve(),u.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:T.currentLocation,nextLocation:T.nextLocation})});let R=n.window.document.startViewTransition(()=>{Nu(()=>o(E))});R.finished.finally(()=>{Nu(()=>{h(void 0),p(void 0),i(void 0),c({isTransitioning:!1})})}),Nu(()=>p(R));return}u?(d&&d.resolve(),u.skipTransition(),g({state:E,currentLocation:T.currentLocation,nextLocation:T.nextLocation})):(i(E),c({isTransitioning:!0,flushSync:!1,currentLocation:T.currentLocation,nextLocation:T.nextLocation}))},[n.window,u,d,x,S]);b.useLayoutEffect(()=>n.subscribe(v),[n,v]),b.useEffect(()=>{l.isTransitioning&&!l.flushSync&&h(new $fe)},[l]),b.useEffect(()=>{if(d&&a&&n.window){let E=a,I=d.promise,z=n.window.document.startViewTransition(async()=>{S(()=>o(E)),await I});z.finished.finally(()=>{h(void 0),p(void 0),i(void 0),c({isTransitioning:!1})}),p(z)}},[S,a,d,n.window]),b.useEffect(()=>{d&&a&&s.location.key===a.location.key&&d.resolve()},[d,u,s.location,a]),b.useEffect(()=>{!l.isTransitioning&&y&&(i(y.state),c({isTransitioning:!0,flushSync:!1,currentLocation:y.currentLocation,nextLocation:y.nextLocation}),g(void 0))},[l.isTransitioning,y]),b.useEffect(()=>{},[]);let k=b.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:E=>n.navigate(E),push:(E,I,z)=>n.navigate(E,{state:I,preventScrollReset:z==null?void 0:z.preventScrollReset}),replace:(E,I,z)=>n.navigate(E,{replace:!0,state:I,preventScrollReset:z==null?void 0:z.preventScrollReset})}),[n]),C=n.basename||"/",_=b.useMemo(()=>({router:n,navigator:k,static:!1,basename:C}),[n,k,C]);return b.createElement(b.Fragment,null,b.createElement(g2.Provider,{value:_},b.createElement(Ej.Provider,{value:s},b.createElement(Lfe.Provider,{value:x.current},b.createElement(Tfe.Provider,{value:l},b.createElement(vfe,{basename:C,location:s.location,navigationType:s.historyAction,navigator:k,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},s.initialized||n.future.v7_partialHydration?b.createElement(Dfe,{routes:n.routes,future:n.future,state:s}):t))))),null)}function Dfe(e){let{routes:t,future:n,state:r}=e;return dfe(t,void 0,r,n)}const qfe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Bfe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ffe=b.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:o,replace:a,state:i,target:l,to:c,preventScrollReset:d,unstable_viewTransition:h}=t,u=Cfe(t,Ife),{basename:p}=b.useContext(Dc),y,g=!1;if(typeof c=="string"&&Bfe.test(c)&&(y=c,qfe))try{let v=new URL(window.location.href),k=c.startsWith("//")?new URL(v.protocol+c):new URL(c),C=Xh(k.pathname,p);k.origin===v.origin&&C!=null?c=C+k.search+k.hash:g=!0}catch{}let x=ife(c,{relative:s}),w=Kfe(c,{replace:a,state:i,target:l,preventScrollReset:d,relative:s,unstable_viewTransition:h});function S(v){r&&r(v),v.defaultPrevented||w(v)}return b.createElement("a",mf({},u,{href:y||x,onClick:g||o?r:S,ref:n,target:l}))});var vC;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(vC||(vC={}));var kC;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(kC||(kC={}));function Kfe(e,t){let{target:n,replace:r,state:s,preventScrollReset:o,relative:a,unstable_viewTransition:i}=t===void 0?{}:t,l=lfe(),c=y2(),d=zj(e,{relative:a});return b.useCallback(h=>{if(Efe(h,n)){h.preventDefault();let u=r!==void 0?r:kc(c)===kc(d);l(e,{replace:u,state:s,preventScrollReset:o,relative:a,unstable_viewTransition:i})}},[c,l,d,r,s,n,e,o,a,i])}function Wfe(){return f.jsxs("svg",{width:"722",height:"184",viewBox:"0 0 722 184",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"examples__lockup",children:[f.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 20.2198C0 9.0527 8.67154 0 19.3684 0H164.632C175.328 0 184 9.0527 184 20.2198V163.78C184 174.947 175.328 184 164.632 184H19.3684C8.67154 184 0 174.947 0 163.78V20.2198ZM108.625 52.6242C108.625 57.0709 107.105 60.8439 104.066 63.9432C101.026 67.0424 97.3253 68.5921 92.9639 68.5921C88.4704 68.5921 84.7038 67.0424 81.6641 63.9432C78.6244 60.8439 77.1045 57.0709 77.1045 52.6242C77.1045 48.1774 78.6244 44.4044 81.6641 41.3051C84.7038 38.2059 88.4704 36.6562 92.9639 36.6562C97.3253 36.6562 101.026 38.2059 104.066 41.3051C107.105 44.4044 108.625 48.1774 108.625 52.6242ZM76.9062 108.585C76.9062 104.138 78.4261 100.365 81.4658 97.2657C84.6377 94.0317 88.4704 92.4147 92.9639 92.4147C97.1931 92.4147 100.894 94.0317 104.066 97.2657C107.237 100.365 109.088 103.868 109.616 107.776C110.674 115.053 109.352 122.262 105.651 129.404C102.083 136.545 96.9288 142.003 90.1885 145.776C86.488 147.932 83.4483 147.864 81.0694 145.574C78.8226 143.418 79.4834 140.857 83.0518 137.893C85.0342 136.411 86.6862 134.524 88.0079 132.233C89.3295 129.943 90.1885 127.584 90.585 125.159C90.7172 124.081 90.2546 123.542 89.1973 123.542C86.5541 123.407 83.8447 121.925 81.0694 119.095C78.294 116.265 76.9062 112.762 76.9062 108.585Z",fill:"black"}),f.jsx("path",{d:"M349.15 149C350.25 149 350.8 148.45 350.8 147.35V124.95C350.8 122.741 349.009 120.95 346.8 120.95H343.9C343 120.95 342.3 120.7 341.8 120.2C341.4 119.8 341.2 119.2 341.2 118.4V38.15C341.2 37.05 340.65 36.5 339.55 36.5H314.3C312.091 36.5 310.3 38.2909 310.3 40.5V127.4C310.3 134.6 312.35 140 316.45 143.6C320.55 147.2 325.8 149 332.2 149H349.15Z",fill:"black"}),f.jsx("path",{d:"M297.4 124.8C297.4 122.591 295.609 120.8 293.4 120.8H282.85C279.45 120.8 277.15 120.2 275.95 119C274.45 117.6 273.7 115.35 273.7 112.25V99C273.7 96.7909 275.491 95 277.7 95H293.4C295.609 95 297.4 93.2092 297.4 91V68.6C297.4 67.5 296.85 66.95 295.75 66.95H277.7C275.491 66.95 273.7 65.1591 273.7 62.95V45.65C273.7 44.55 273.15 44 272.05 44H247.7C245.491 44 243.7 45.7909 243.7 48V62.95C243.7 65.1591 241.909 66.95 239.7 66.95H236C233.791 66.95 232 68.7409 232 70.95V93.35C232 94.45 232.55 95 233.65 95H239.7C241.909 95 243.7 96.7909 243.7 99V114.5C243.7 126.1 246.75 134.75 252.85 140.45C258.95 146.15 267.8 149 279.4 149H295.75C296.85 149 297.4 148.45 297.4 147.35V124.8Z",fill:"black"}),f.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M385.241 65.45C389.841 65.45 393.791 66.6 397.091 68.9C400.199 71.0021 402.763 73.7307 404.785 77.0858C405.139 77.6741 405.768 78.05 406.454 78.05C407.497 78.05 408.341 77.2052 408.341 76.1631V40.5C408.341 38.2909 410.132 36.5 412.341 36.5H436.691C437.791 36.5 438.341 37.05 438.341 38.15V145C438.341 147.209 436.551 149 434.341 149H409.991C408.891 149 408.341 148.45 408.341 147.35V138.341C408.341 137.269 407.473 136.4 406.401 136.4C405.741 136.4 405.128 136.738 404.759 137.285C402.205 141.08 399.349 144.185 396.191 146.6C392.791 149.2 388.541 150.5 383.441 150.5C376.541 150.5 371.091 148.15 367.091 143.45C363.091 138.75 361.091 132.45 361.091 124.55V93.05C361.091 84.45 363.141 77.7 367.241 72.8C371.441 67.9 377.441 65.45 385.241 65.45ZM392.741 122C393.841 123.2 395.791 123.8 398.591 123.8C401.42 123.8 403.907 123.458 406.051 122.774C407.495 122.314 408.341 120.893 408.341 119.378V95.6407C408.341 94.3033 407.69 93.0183 406.484 92.4394C405.539 91.9857 404.558 91.6392 403.541 91.4C401.841 90.9 400.191 90.65 398.591 90.65C393.491 90.65 390.941 93.2 390.941 98.3V116.3C390.941 119 391.541 120.9 392.741 122Z",fill:"black"}),f.jsx("path",{d:"M482.325 149C484.534 149 486.325 147.209 486.325 145V102.793C486.325 101.4 487.039 100.083 488.293 99.4756C489.524 98.8794 490.818 98.3876 492.175 98C494.275 97.3 496.625 96.95 499.225 96.95C501.125 96.95 502.925 97.1 504.625 97.4C506.297 97.6787 507.926 98.0437 509.512 98.495C509.753 98.5636 510.002 98.6 510.252 98.6C511.701 98.6 512.875 97.4259 512.875 95.9776V68.6C512.875 67.9 512.625 67.3 512.125 66.8C511.825 66.5 511.275 66.2 510.475 65.9C509.675 65.6 508.475 65.45 506.875 65.45C502.175 65.45 498.425 66.9 495.625 69.8C493.144 72.3728 491.212 76.1275 489.829 81.0641C489.609 81.8457 488.905 82.4 488.094 82.4C487.117 82.4 486.325 81.608 486.325 80.6311V68.6C486.325 67.5 485.775 66.95 484.675 66.95H459.875C457.666 66.95 455.875 68.7409 455.875 70.95V147.35C455.875 148.45 456.425 149 457.525 149H482.325Z",fill:"black"}),f.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M596.651 96.2V120.5C596.651 121.732 597.076 122.538 597.928 122.918C598.168 123.025 598.416 123.118 598.665 123.205C598.944 123.302 599.222 123.35 599.501 123.35H599.701C601.91 123.35 603.701 125.141 603.701 127.35V147.35C603.701 148.45 603.151 149 602.051 149H592.001C587.101 149 582.601 148 578.501 146C574.942 144.22 572.214 141.649 570.317 138.286C569.883 137.515 569.087 137 568.202 137C567.342 137 566.561 137.486 566.133 138.233C564.007 141.945 561.23 144.884 557.801 147.05C554.101 149.35 549.351 150.5 543.551 150.5C536.551 150.5 531.001 148.6 526.901 144.8C522.801 141 520.751 135.85 520.751 129.35V123.5C520.751 116.5 522.801 111 526.901 107C531.101 103 537.001 101 544.601 101H565.601C566.761 101 567.701 100.06 567.701 98.9C567.701 95.4 566.751 93.05 564.851 91.85C563.051 90.55 559.551 89.9 554.351 89.9C545.677 89.9 537.101 91.163 528.621 93.6889C528.376 93.762 528.121 93.8 527.864 93.8C526.421 93.8 525.251 92.6299 525.251 91.1864V71.9C525.251 71.2 525.401 70.7 525.701 70.4C526.401 69.7 528.301 68.95 531.401 68.15C534.601 67.35 538.451 66.65 542.951 66.05C547.551 65.35 552.251 65 557.051 65C570.751 65 580.751 67.5 587.051 72.5C593.451 77.4 596.651 85.3 596.651 96.2ZM553.601 128.9C557.953 128.9 562.014 127.917 565.783 125.951C567.003 125.314 567.701 124.015 567.701 122.638V119.55C567.701 117.341 565.91 115.55 563.701 115.55H553.901C552.201 115.55 550.901 116 550.001 116.9C549.201 117.9 548.801 119.1 548.801 120.5V124.1C548.801 127.3 550.401 128.9 553.601 128.9Z",fill:"black"}),f.jsx("path",{d:"M657.116 66.95C655.25 66.95 653.632 68.2401 653.218 70.0593C651.092 79.3906 649.129 88.1542 647.327 96.35C645.552 104.854 644.213 112.921 643.311 120.552C643.203 121.461 642.434 122.15 641.519 122.15C640.509 122.15 639.698 121.319 639.714 120.309C639.83 112.623 639.518 104.936 638.777 97.25C638.077 88.95 637.177 79.7 636.077 69.5C635.977 68.4 635.777 67.7 635.477 67.4C635.177 67.1 634.727 66.95 634.127 66.95H612.635C610.151 66.95 608.268 69.1898 608.69 71.6373C610.697 83.2749 612.626 94.9125 614.477 106.55C616.677 119.75 618.877 132.45 621.077 144.65C621.42 146.192 621.799 147.294 622.216 147.955C622.344 148.16 622.517 148.333 622.717 148.469C623.235 148.823 623.789 149 624.377 149H651.14C652.959 149 654.549 147.773 655.009 146.013C655.784 143.045 656.473 140.391 657.077 138.05C657.877 134.95 658.577 131.9 659.177 128.9C659.777 125.9 660.377 122.6 660.977 119C661.609 115.659 662.282 111.625 662.996 106.897C663.13 106.009 663.893 105.35 664.792 105.35C665.7 105.35 666.468 106.022 666.589 106.922C667.199 111.442 667.729 115.319 668.177 118.55C668.777 122.05 669.327 125.15 669.827 127.85C670.427 130.45 671.027 133.1 671.627 135.8C672.227 138.4 672.927 141.4 673.727 144.8C674.156 146.256 674.584 147.309 675.012 147.958C675.145 148.16 675.317 148.333 675.517 148.469C676.035 148.823 676.589 149 677.177 149H704.405C706.354 149 708.018 147.597 708.348 145.677L714.677 108.8C716.977 95.4 719.227 82.1 721.427 68.9C721.527 67.6 721.077 66.95 720.077 66.95H697.008C694.948 66.95 693.225 68.514 693.028 70.5639C692.167 79.5263 691.383 88.0217 690.677 96.05C690.028 104.399 689.723 112.489 689.762 120.322C689.767 121.328 688.955 122.15 687.949 122.15C687.026 122.15 686.253 121.455 686.146 120.539C685.238 112.745 683.848 104.732 681.977 96.5C680.077 87.7 677.977 78.4 675.677 68.6C675.377 67.5 674.777 66.95 673.877 66.95H657.116Z",fill:"black"})]})}function Ufe({title:e,route:t}){return f.jsx("li",{className:"examples__list__item",children:f.jsx(Ffe,{to:t,children:e})})}function Vfe(){return f.jsx("div",{className:"tldraw__editor",children:f.jsx(yt,{persistenceKey:"tldraw_example"})})}function Xfe(){const e=t=>{const n=gt("hello");t.createShapes([{id:n,type:"geo",x:128+Math.random()*500,y:128+Math.random()*500,props:{geo:"rectangle",w:100,h:100,dash:"draw",color:"blue",size:"m"}}]);const r=t.getShape(n),s={id:n,type:"geo",props:{h:r.props.h*3,text:"hello world!"}};t.updateShapes([s]),t.select(n),t.rotateShapesBy([n],Math.PI/8),t.selectNone(),t.zoomToFit()};return f.jsx("div",{className:"tldraw__editor",children:f.jsx(yt,{persistenceKey:"api-example",onMount:e,children:f.jsx(Yfe,{})})})}const Yfe=()=>{const e=H();return b.useEffect(()=>{let t=0;const n=setInterval(()=>{const r=[...e.getSelectedShapeIds()];e.selectAll(),e.setStyleForSelectedShapes(Gn,t%2?"blue":"light-blue"),e.setStyleForNextShapes(Gn,t%2?"blue":"light-blue"),e.setSelectedShapes(r),t++},1e3);return()=>{clearInterval(n)}},[e]),null};function Hfe(){return f.jsx("div",{className:"tldraw__editor",children:f.jsx(yt,{acceptedImageMimeTypes:["image/jpeg"],acceptedVideoMimeTypes:[],maxImageDimension:1/0,maxAssetSize:1*1024*1024})})}function Gfe(){const[e,t]=b.useState([]),n=b.useCallback(r=>{t(s=>[JSON.stringify(r,null,2),...s.slice(0,100)])},[]);return f.jsxs("div",{style:{display:"flex"},children:[f.jsx("div",{style:{width:"50vw",height:"100vh"},children:f.jsx(yt,{onMount:r=>{r.on("event",s=>n(s))}})}),f.jsx("div",{children:f.jsx("div",{style:{width:"50vw",height:"100vh",padding:8,background:"#eee",border:"none",fontFamily:"monospace",fontSize:12,borderLeft:"solid 2px #333",display:"flex",flexDirection:"column-reverse",overflow:"auto",whiteSpace:"pre-wrap"},children:e.map((r,s)=>f.jsx("div",{children:r},s))})})]})}const Zfe={Brush:function({brush:t}){return f.jsx("svg",{className:"tl-overlays__item",children:f.jsx("rect",{className:"tl-brush",stroke:"red",fill:"none",width:Math.max(1,t.w),height:Math.max(1,t.h),transform:`translate(${t.x},${t.y})`})})},Scribble:({scribble:e,opacity:t,color:n})=>f.jsx("svg",{className:"tl-overlays__item",children:f.jsx("polyline",{points:e.points.map(r=>`${r.x},${r.y}`).join(" "),stroke:n??"black",opacity:t??"1",fill:"none"})}),SnapLine:null};function Qfe(){return f.jsx("div",{className:"tldraw__editor",children:f.jsx(yt,{persistenceKey:"custom-components-example",components:Zfe})})}var A0;let Jfe=(A0=class extends Zd{constructor(){super(...arguments);m(this,"shapeType","card");m(this,"onDoubleClick",n=>{})}},m(A0,"id","card"),m(A0,"initial","idle"),A0);const ege=DS({currentVersion:1,migrators:{1:{up(e){const t={...e};return delete t._somePropertyToRemove,t},down(e){const t={...e};return t._somePropertyToRemove="some value",t}}}}),tge=Cr.defineEnum("myApp:weight",{defaultValue:"regular",values:["regular","bold"]}),nge={w:zr,h:zr,color:Gn,weight:tge};var Uu;let rge=(Uu=class extends Za{constructor(){super(...arguments);m(this,"isAspectRatioLocked",n=>!1);m(this,"canResize",n=>!0);m(this,"canBind",n=>!0);m(this,"onResize",(n,r)=>d9(n,r))}getDefaultProps(){return{w:300,h:300,color:"black",weight:"regular"}}getGeometry(n){return new Fa({width:n.props.w,height:n.props.h,isFilled:!0})}component(n){const r=this.editor.getShapeGeometry(n).bounds,s=br({isDarkMode:this.editor.user.getIsDarkMode()}),[o,a]=b.useState(0);return f.jsxs(Co,{id:n.id,style:{border:"1px solid black",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",pointerEvents:"all",backgroundColor:s[n.props.color].semi,fontWeight:n.props.weight,color:s[n.props.color].solid},children:[f.jsxs("h2",{children:["Clicks: ",o]}),f.jsxs("button",{onClick:()=>a(i=>i+1),onPointerDown:i=>i.stopPropagation(),children:[r.w.toFixed(),"x",r.h.toFixed()]})]})}indicator(n){return f.jsx("rect",{width:n.props.w,height:n.props.h})}},m(Uu,"type","card"),m(Uu,"props",nge),m(Uu,"migrations",ege),Uu);const sge={tools(e,t){return t.card={id:"card",icon:"color",label:"Card",kbd:"c",readonlyOk:!1,onSelect:()=>{e.setCurrentTool("card")}},t},toolbar(e,t,{tools:n}){return t.splice(4,0,ot(n.card)),t},keyboardShortcutsMenu(e,t,{tools:n}){return t.find(s=>s.id==="shortcuts-dialog.tools").children.push(V(n.card)),t}},oge=[rge],age=[Jfe];function ige(){return f.jsx("div",{className:"tldraw__editor",children:f.jsx(yt,{shapeUtils:oge,tools:age,overrides:sge})})}const vp=Cr.defineEnum("myApp:filter",{defaultValue:"none",values:["none","invert","grayscale","blur"]});class uS extends fa{constructor(){super(...arguments);m(this,"isAspectRatioLocked",n=>!1);m(this,"canResize",n=>!0);m(this,"canBind",n=>!0)}getDefaultProps(){return{w:300,h:300,color:"black",filter:"none"}}component(n){const r=this.editor.getShapeGeometry(n).bounds,s=br({isDarkMode:this.editor.user.getIsDarkMode()});return f.jsxs(Co,{id:n.id,style:{border:`4px solid ${s[n.props.color].solid}`,borderRadius:4,display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"all",filter:this.filterStyleToCss(n.props.filter),backgroundColor:s[n.props.color].semi},children:[" ",r.w.toFixed(),"x",r.h.toFixed()," "]})}indicator(n){return f.jsx("rect",{width:n.props.w,height:n.props.h})}filterStyleToCss(n){return n==="invert"?"invert(100%)":n==="grayscale"?"grayscale(100%)":n==="blur"?"blur(10px)":"none"}}m(uS,"type","card"),m(uS,"props",{w:zr,h:zr,color:Gn,filter:vp});class pS extends Zd{constructor(){super(...arguments);m(this,"shapeType","card");m(this,"props",{w:zr,h:zr,color:Gn,filter:vp})}}m(pS,"id","card"),m(pS,"initial","idle");const lge=et(function(){const t=H(),n=t.getSharedStyles().get(vp);return n?f.jsxs("div",{style:{position:"absolute",zIndex:300,top:64,left:12},children:["filter:"," ",f.jsxs("select",{value:n.type==="mixed"?"mixed":n.value,onChange:r=>{t.batch(()=>{t.isIn("select")&&t.setStyleForSelectedShapes(vp,r.target.value),t.setStyleForNextShapes(vp,r.target.value)})},children:[f.jsx("option",{value:"mixed",disabled:!0,children:"Mixed"}),f.jsx("option",{value:"none",children:"None"}),f.jsx("option",{value:"invert",children:"Invert"}),f.jsx("option",{value:"grayscale",children:"Grayscale"}),f.jsx("option",{value:"blur",children:"Blur"})]})]}):null}),cge={tools(e,t){return t.card={id:"card",icon:"color",label:"Card",kbd:"c",readonlyOk:!1,onSelect:()=>{e.setCurrentTool("card")}},t},toolbar(e,t,{tools:n}){return t.splice(4,0,ot(n.card)),t},keyboardShortcutsMenu(e,t,{tools:n}){return t.find(s=>s.id==="shortcuts-dialog.tools").children.push(V(n.card)),t}},dge=[uS],hge=[pS];function uge(){return f.jsx("div",{className:"tldraw__editor",children:f.jsx(yt,{persistenceKey:"custom-styles-example",shapeUtils:dge,tools:hge,overrides:cge,children:f.jsx(lge,{})})})}function pge(){return f.jsx("div",{className:"tldraw__editor",children:f.jsx(yt,{hideUi:!0,children:f.jsx(fge,{})})})}const fge=et(()=>{const e=H();return b.useEffect(()=>{const t=n=>{switch(n.key){case"Delete":case"Backspace":{e.deleteShapes(e.getSelectedShapeIds());break}case"v":{e.setCurrentTool("select");break}case"e":{e.setCurrentTool("eraser");break}case"x":case"p":case"b":case"d":{e.setCurrentTool("draw");break}}};return window.addEventListener("keyup",t),()=>{window.removeEventListener("keyup",t)}}),f.jsx("div",{className:"custom-layout",children:f.jsxs("div",{className:"custom-toolbar",children:[f.jsx("button",{className:"custom-button","data-isactive":e.getCurrentToolId()==="select",onClick:()=>e.setCurrentTool("select"),children:"Select"}),f.jsx("button",{className:"custom-button","data-isactive":e.getCurrentToolId()==="draw",onClick:()=>e.setCurrentTool("draw"),children:"Pencil"}),f.jsx("button",{className:"custom-button","data-isactive":e.getCurrentToolId()==="eraser",onClick:()=>e.setCurrentTool("eraser"),children:"Eraser"})]})})});class Tj extends fa{getDefaultProps(){return{message:"Error!",w:100,h:100}}component(t){throw new Error(t.props.message)}indicator(){throw new Error("Error shape indicator!")}}m(Tj,"type","error");const gge=[Tj];function mge(){return f.jsx("div",{className:"tldraw__editor",children:f.jsx(yt,{shapeUtils:gge,tools:[],components:{ShapeErrorFallback:({error:e})=>f.jsxs("div",{children:["Shape error! ",String(e)]})},onMount:e=>{const t={type:"error",id:gt(),x:0,y:0,props:{message:"Something has gone wrong"}};e.createShapes([t]),e.zoomToFit(),e.resetZoom()}})})}const yge={Scribble:gy,CollaboratorScribble:gy,SelectionForeground:Iz,SelectionBackground:Ez,Handles:kz,HoveredShapeIndicator:Cz};function xge(){return f.jsx("div",{className:"tldraw__editor",children:f.jsx(bP,{initialState:"select",shapeUtils:q9,tools:[...EA,...jz],components:yge,persistenceKey:"exploded-example",children:f.jsx(cj,{children:f.jsx(gj,{children:f.jsx(v1,{})})})})})}class Lj extends fa{getDefaultProps(){return{type:"html",w:500,h:300,html:"<div>hello</div>"}}component(t){return f.jsx(Co,{style:{overflow:"auto"},children:f.jsx("div",{dangerouslySetInnerHTML:{__html:t.props.html}})})}indicator(t){return f.jsx("rect",{width:t.props.w,height:t.props.h})}}m(Lj,"type","html");function wge(){const e=b.useCallback(t=>{t.registerExternalContentHandler("text",async({point:n,sources:r})=>{const s=r==null?void 0:r.find(o=>o.type==="text"&&o.subtype==="html");if(s){const o=n??t.getViewportPageCenter();t.createShape({type:"html",x:o.x-250,y:o.y-150,props:{html:s.data}})}})},[]);return f.jsx("div",{className:"tldraw__editor",children:f.jsx(yt,{autoFocus:!0,onMount:e,shapeUtils:[Lj]})})}function Sge(){return f.jsx("div",{className:"tldraw__editor",children:f.jsx(yt,{persistenceKey:"tldraw_floaty_example",children:f.jsx(bge,{})})})}function bge(){const e=H(),t=zn();return b.useEffect(()=>{window.screenLeft||(window.screenLeft=window.screenX,window.screenTop=window.screenY);let n=window.screenLeft??window.screenX,r=window.screenTop??window.screenY;function s(){const o=window.screenLeft??window.screenX,a=window.screenTop??window.screenY;(o!==n||a!==r)&&(n=o,r=a,e.setCamera(new P(-n,-r)))}return e.on("tick",s),()=>{e.off("tick",s)}},[e,t]),null}function vge(){return f.jsx("div",{className:"tldraw__editor",children:f.jsx(yt,{persistenceKey:"tldraw_example",forceMobile:!0})})}function kge(){return f.jsx("div",{className:"tldraw__editor",children:f.jsx(yt,{persistenceKey:"hide-ui-example",hideUi:!0})})}function Cge(){return f.jsx("div",{className:"tldraw__editor",children:f.jsx(yt,{persistenceKey:"tldraw_example",onMount:e=>{e.getInitialMetaForShape=t=>({createdBy:e.user.getId(),createdAt:Date.now(),updatedBy:e.user.getId(),updatedAt:Date.now()}),e.sideEffects.registerBeforeChangeHandler("shape",(t,n,r)=>(r!=="user"||(t.meta={...t.meta,updatedBy:e.user.getId(),updatedAt:Date.now()}),t))}})})}const x2=b.createContext({});function _ge(){const[e,t]=b.useState("A"),n=b.useCallback(r=>{e!==r&&t(r)},[e]);return f.jsx("div",{style:{backgroundColor:"#fff",padding:32},children:f.jsxs(x2.Provider,{value:{focusedEditor:e,setFocusedEditor:n},children:[f.jsxs("h1",{children:["Focusing: ",e??"none"]}),f.jsx(Ege,{}),f.jsx("textarea",{"data-testid":"textarea",placeholder:"type in me",style:{margin:10}}),f.jsxs("div",{style:{width:"100%",display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(420px, 1fr))",gap:64},children:[f.jsx(Ige,{}),f.jsx(Pge,{})]}),f.jsx("p",{children:"These two editors share the same persistence key so they will share a (locally) synchronized document."}),f.jsx(zge,{})]})})}function Ege(){const{focusedEditor:e,setFocusedEditor:t}=b.useContext(x2),n=e==="A";return f.jsxs("div",{style:{padding:32},children:[f.jsx("h2",{children:"A"}),f.jsx("div",{tabIndex:-1,onFocus:()=>t("A"),style:{height:600},children:f.jsx(yt,{persistenceKey:"steve",className:"A",autoFocus:n,onMount:r=>{window.EDITOR_A=r}})})]})}function Ige(){const{focusedEditor:e,setFocusedEditor:t}=b.useContext(x2),n=e==="B";return f.jsxs("div",{children:[f.jsx("h2",{children:"B"}),f.jsx("div",{tabIndex:-1,onFocus:()=>t("B"),style:{height:600},children:f.jsx(yt,{persistenceKey:"david",className:"B",autoFocus:n,onMount:r=>{window.EDITOR_B=r}})})]})}function Pge(){const{focusedEditor:e,setFocusedEditor:t}=b.useContext(x2),n=e==="C";return f.jsxs("div",{children:[f.jsx("h2",{children:"C"}),f.jsx("div",{tabIndex:-1,onFocus:()=>t("C"),style:{height:600},children:f.jsx(yt,{persistenceKey:"david",className:"C",autoFocus:n,onMount:r=>{window.EDITOR_C=r}})})]})}function zge(){return f.jsxs("article",{style:{maxWidth:500},children:[f.jsx("h1",{children:"White Board"}),f.jsx("h2",{children:"Chapter 1: The First Strokes"}),f.jsx("p",{children:'The fluorescent lights flickered overhead as John sat hunched over his desk, his fingers tapping rhythmically on the keyboard. He was a software developer, and tonight, he had a peculiar mission. A mission that would take him deep into the labyrinthine world of web development. John had stumbled upon a new whiteboard library called "tldraw," a seemingly simple tool that promised to revolutionize collaborative drawing on the web. Little did he know that this discovery would set off a chain of events that would challenge his skills, test his perseverance, and blur the line between reality and imagination.'}),f.jsx("p",{children:'With a newfound sense of excitement, John began integrating "tldraw" into his latest project. As lines of code danced across his screen, he imagined the possibilities that lay ahead. The potential to create virtual spaces where ideas could be shared, concepts could be visualized, and teams could collaborate seamlessly from different corners of the world. It was a dream that seemed within reach, a vision of a future where creativity and technology merged into a harmonious symphony.'}),f.jsx("p",{children:"As the night wore on, John's mind became consumed with the whiteboard library. He couldn't help but marvel at its elegance and simplicity. With each stroke of his keyboard, he felt a surge of inspiration, a connection to something greater than himself. It was as if the lines of code he was writing were transforming into a digital canvas, waiting to be filled with the strokes of imagination. In that moment, John realized that he was not just building a tool, but breathing life into a new form of expression. The whiteboard was no longer just a blank slate; it had become a portal to a world where ideas could flourish and dreams could take shape."}),f.jsx("p",{children:'Little did John know, this integration of "tldraw" was only the beginning. It would lead him down a path filled with unforeseen challenges, where he would confront his own limitations and question the very nature of creation. The journey ahead would test his resolve, pushing him to the edge of his sanity. And as he embarked on this perilous adventure, he could not shake the feeling that the whiteboard held secrets far beyond his understanding. Secrets that would unfold before his eyes, one stroke at a time.'})]})}function Age(){const[e,t]=b.useState(0);return f.jsxs(f.Fragment,{children:[f.jsxs("div",{style:{position:"absolute",top:50,left:50,width:"fit-content",padding:12,borderRadius:8,backgroundColor:"goldenrod",zIndex:0,pointerEvents:"all",userSelect:"unset"},onPointerDown:hn,onPointerMove:hn,children:["The count is ",e,"! ",f.jsx("button",{onClick:()=>t(n=>n-1),children:"+1"})]}),f.jsxs("div",{style:{position:"absolute",top:150,left:150,width:128,padding:12,borderRadius:8,backgroundColor:"pink",zIndex:99999999,pointerEvents:"all",userSelect:"unset"},onPointerDown:hn,onPointerMove:hn,children:["The count is ",e,"! ",f.jsx("button",{onClick:()=>t(n=>n+1),children:"+1"})]})]})}const Nge=et(()=>{const e=H(),t=e.getSelectionRotatedPageBounds();if(!t)return null;const n=e.pageToScreen(t.point);return f.jsx("div",{style:{position:"absolute",top:Math.max(64,n.y-64),left:Math.max(64,n.x),padding:12,background:"#efefef"},children:"This does not scale with the zoom"})}),Tge={OnTheCanvas:Age,InFrontOfTheCanvas:Nge,SnapLine:null};function Lge(){return f.jsx("div",{className:"tldraw__editor",children:f.jsx(yt,{persistenceKey:"things-on-the-canvas-example",components:Tge})})}const CC="example-3";function Mge(){const[e]=b.useState(()=>wP({shapeUtils:q9})),[t,n]=b.useState({status:"loading"});return b.useLayoutEffect(()=>{n({status:"loading"});const r=localStorage.getItem(CC);if(r)try{const o=JSON.parse(r);e.loadSnapshot(o),n({status:"ready"})}catch(o){n({status:"error",error:o.message})}else n({status:"ready"});const s=e.listen(gB(()=>{const o=e.getSnapshot();localStorage.setItem(CC,JSON.stringify(o))},500));return()=>{s()}},[e]),t.status==="loading"?f.jsx("div",{className:"tldraw__editor",children:f.jsx("h2",{children:"Loading..."})}):t.status==="error"?f.jsxs("div",{className:"tldraw__editor",children:[f.jsx("h2",{children:"Error!"}),f.jsx("p",{children:t.error})]}):f.jsx("div",{className:"tldraw__editor",children:f.jsx(yt,{store:e})})}function jge(){return f.jsx("div",{className:"tldraw__editor",children:f.jsx(yt,{persistenceKey:"tldraw_example",onMount:e=>{e.updateInstanceState({isReadonly:!0})}})})}class Mj extends he{constructor(){super(...arguments);m(this,"screenshotBox",ys("screenshot brush",new xe));m(this,"onEnter",()=>{this.update()});m(this,"onPointerMove",()=>{this.update()});m(this,"onKeyDown",()=>{this.update()});m(this,"onKeyUp",()=>{this.update()});m(this,"onPointerUp",()=>{const{editor:n}=this,r=this.screenshotBox.get(),s=n.getCurrentPageShapes().filter(o=>{const a=n.getShapeMaskedPageBounds(o);return a?r.includes(a):!1});s.length&&(n.inputs.ctrlKey?mL(n,s.map(o=>o.id),"png",{bounds:r,background:n.getInstanceState().exportBackground}):wL(n,s.map(o=>o.id),"png",{bounds:r,background:n.getInstanceState().exportBackground})),this.editor.setCurrentTool("select")});m(this,"onCancel",()=>{this.editor.setCurrentTool("select")})}update(){const{inputs:{shiftKey:n,altKey:r,originPagePoint:s,currentPagePoint:o}}=this.editor,a=xe.FromPoints([s,o]);n&&(a.w>a.h*(16/9)?a.h=a.w*(9/16):a.w=a.h*(16/9),o.x<s.x&&(a.x=s.x-a.w),o.y<s.y&&(a.y=s.y-a.h)),r&&(a.w*=2,a.h*=2,a.x=s.x-a.w/2,a.y=s.y-a.h/2),this.screenshotBox.set(a)}}m(Mj,"id","dragging");class jj extends he{constructor(){super(...arguments);m(this,"onPointerDown",()=>{this.parent.transition("pointing")})}}m(jj,"id","idle");class Rj extends he{constructor(){super(...arguments);m(this,"onPointerMove",()=>{this.editor.inputs.isDragging&&this.parent.transition("dragging")});m(this,"onPointerUp",()=>{this.complete()});m(this,"onCancel",()=>{this.complete()})}complete(){this.parent.transition("idle")}}m(Rj,"id","pointing");class Im extends he{constructor(){super(...arguments);m(this,"onEnter",()=>{this.editor.setCursor({type:"cross",rotation:0})});m(this,"onExit",()=>{this.editor.setCursor({type:"default",rotation:0})});m(this,"onInterrupt",()=>{this.complete()});m(this,"onCancel",()=>{this.complete()})}complete(){this.parent.transition("select",{})}}m(Im,"id","screenshot"),m(Im,"initial","idle"),m(Im,"children",()=>[jj,Rj,Mj]);const Rge=[Im],$ge={tools:(e,t)=>({...t,screenshot:{id:"screenshot",label:"Screenshot",readonlyOk:!1,icon:"tool-screenshot",kbd:"j",onSelect(){e.setCurrentTool("screenshot")}}}),toolbar:(e,t,{tools:n})=>(t.splice(4,0,ot(n.screenshot)),t)},Oge={icons:{"tool-screenshot":"/tool-screenshot.svg"}};function Dge(){const e=H(),t=J("screenshot brush",()=>{if(e.getPath()!=="screenshot.dragging")return null;const r=e.getStateDescendant("screenshot.dragging").screenshotBox.get(),s=e.getZoomLevel(),{x:o,y:a}=e.pageToScreen({x:r.x,y:r.y});return new xe(o,a,r.w*s,r.h*s)},[e]);return t?f.jsx("div",{style:{position:"absolute",top:0,left:0,transform:`translate(${t.x}px, ${t.y}px)`,width:t.w,height:t.h,border:"1px solid var(--color-text-0)",zIndex:999}}):null}const qge={InFrontOfTheCanvas:()=>f.jsx(Dge,{})};function Bge(){return f.jsx("div",{className:"tldraw__editor",children:f.jsx(yt,{persistenceKey:"tldraw_screenshot_example",tools:Rge,overrides:$ge,assetUrls:Oge,components:qge})})}function Fge(){return f.jsx("div",{style:{width:"150vw",height:"150vh",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#fff"},children:f.jsx("div",{style:{width:"60vw",height:"80vh"},children:f.jsx(yt,{persistenceKey:"scroll-example"})})})}function Kge(){return f.jsx("div",{className:"tldraw__editor",children:f.jsx(yt,{persistenceKey:"shape_meta_example",onMount:e=>{e.getInitialMetaForShape=t=>({label:`My ${t.type} shape`})},children:f.jsx(Wge,{})})})}const Wge=et(function(){const t=H(),n=t.getOnlySelectedShape();if(!n)return null;function r(s){if(n){const{id:o,type:a,meta:i}=n;t.updateShapes([{id:o,type:a,meta:{...i,label:s.currentTarget.value}}])}}return f.jsxs("div",{style:{position:"absolute",zIndex:300,top:64,left:12},children:["shape label: ",f.jsx("input",{value:n.meta.label,onChange:r})]})}),Uge={"document:document":{gridSize:10,name:"",meta:{},id:"document:document",typeName:"document"},"page:3qj9EtNgqSCW_6knX2K9_":{meta:{},id:"page:3qj9EtNgqSCW_6knX2K9_",name:"Page 1",index:"a1",typeName:"page"},"page:page2":{meta:{},id:"page:page2",name:"Page",index:"a3",typeName:"page"},"asset:imageAssetA":{type:"image",props:{w:1200,h:800,name:"",isAnimated:!1,mimeType:"png",src:""},meta:{},id:"asset:imageAssetA",typeName:"asset"},"shape:EHeAIsYe4xu1-kGxK-Tl_":{x:165.796875,y:262.39453125,rotation:0,isLocked:!1,opacity:1,meta:{},type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:-.13,y:.13,z:.5},{x:-.05,y:.27,z:.5},{x:.89,y:.27,z:.5},{x:6.72,y:.27,z:.5},{x:19.89,y:-2,z:.5},{x:33.39,y:-6.93,z:.5},{x:45.85,y:-14.57,z:.5},{x:59.59,y:-25.83,z:.5},{x:69.66,y:-38.32,z:.5},{x:74.64,y:-50.34,z:.5},{x:76.25,y:-61.21,z:.5},{x:76.23,y:-71.55,z:.5},{x:74.98,y:-79.2,z:.5},{x:70.04,y:-84.48,z:.5},{x:64,y:-88.11,z:.5},{x:58.74,y:-89.03,z:.5},{x:52.9,y:-88.88,z:.5},{x:47.43,y:-86.1,z:.5},{x:42.63,y:-80,z:.5},{x:38.77,y:-69.36,z:.5},{x:36.81,y:-51.13,z:.5},{x:36.43,y:-26.77,z:.5},{x:40.13,y:3.13,z:.5},{x:48.43,y:38.37,z:.5},{x:55.57,y:69.78,z:.5},{x:60.53,y:100.75,z:.5},{x:63.42,y:133.8,z:.5},{x:63.1,y:160.92,z:.5},{x:58.09,y:180.57,z:.5},{x:47.5,y:192.21,z:.5},{x:33.36,y:197.42,z:.5},{x:18.86,y:198.58,z:.5},{x:6.95,y:197.67,z:.5},{x:-1.21,y:194.8,z:.5},{x:-5.55,y:190.55,z:.5},{x:-6.84,y:184.29,z:.5},{x:-.86,y:173.8,z:.5},{x:17.39,y:158.11,z:.5},{x:45.72,y:137.57,z:.5},{x:76.32,y:113.69,z:.5},{x:102.73,y:87.41,z:.5},{x:120.88,y:63.27,z:.5},{x:131.73,y:39.67,z:.5},{x:137.52,y:15.89,z:.5},{x:138.82,y:-.14,z:.5},{x:137.79,y:-10.26,z:.5},{x:134.94,y:-17.39,z:.5},{x:131.56,y:-21.15,z:.5},{x:128.66,y:-22.95,z:.5},{x:126.65,y:-23.48,z:.5},{x:125.56,y:-23.35,z:.5},{x:124.66,y:-20.86,z:.5},{x:123.36,y:-9.53,z:.5},{x:120.79,y:12.29,z:.5},{x:116.39,y:41.36,z:.5},{x:112.64,y:69.82,z:.5},{x:111.43,y:96.55,z:.5},{x:111.3,y:122.02,z:.5},{x:113.43,y:138.52,z:.5},{x:119.61,y:149.46,z:.5},{x:126.6,y:156.13,z:.5},{x:134.3,y:157.33,z:.5},{x:144.39,y:154.1,z:.5},{x:155.78,y:144.19,z:.5},{x:166.99,y:129.98,z:.5},{x:176.18,y:113.52,z:.5},{x:182.1,y:96.91,z:.5},{x:184.19,y:84.67,z:.5},{x:184.39,y:75.84,z:.5},{x:183.51,y:69.13,z:.5},{x:181.32,y:65.31,z:.5},{x:178.81,y:63.84,z:.5},{x:175.82,y:63.95,z:.5},{x:172.76,y:68.43,z:.5},{x:170.66,y:80.02,z:.5},{x:169.83,y:96.5,z:.5},{x:171.36,y:115.16,z:.5},{x:175.26,y:128.82,z:.5},{x:180.67,y:136.26,z:.5},{x:187.09,y:140.58,z:.5},{x:193.12,y:140.88,z:.5},{x:199.64,y:134.48,z:.5},{x:207.02,y:120.32,z:.5},{x:213.03,y:103.6,z:.5},{x:216.17,y:90.35,z:.5},{x:217.28,y:81.68,z:.5},{x:217.74,y:76.23,z:.5},{x:217.66,y:74.24,z:.5},{x:217.05,y:74.53,z:.5},{x:215.91,y:79.41,z:.5},{x:215.21,y:90.56,z:.5},{x:215.13,y:104.09,z:.5},{x:215.88,y:113.92,z:.5},{x:218.83,y:120,z:.5},{x:223.3,y:124.19,z:.5},{x:227.71,y:125.39,z:.5},{x:232.17,y:123.21,z:.5},{x:236.51,y:115.61,z:.5},{x:240.17,y:103.63,z:.5},{x:242.44,y:92.33,z:.5},{x:243.3,y:83.07,z:.5},{x:243.52,y:76.01,z:.5},{x:243.52,y:72.19,z:.5},{x:243.35,y:70.46,z:.5},{x:243.19,y:70.11,z:.5},{x:243.9,y:71.26,z:.5},{x:249,y:75.84,z:.5},{x:260.58,y:85.07,z:.5},{x:276.09,y:98.02,z:.5},{x:291.7,y:113.78,z:.5},{x:302.66,y:132.02,z:.5},{x:307.07,y:155.19,z:.5},{x:301.63,y:180.46,z:.5},{x:279.7,y:204.16,z:.5},{x:251.84,y:221.13,z:.5},{x:227.02,y:228.63,z:.5},{x:207.41,y:230.88,z:.5},{x:195.65,y:227.65,z:.5},{x:190.99,y:216.82,z:.5},{x:200.69,y:197.52,z:.5},{x:229.42,y:170.67,z:.5},{x:272.13,y:137.71,z:.5},{x:318.65,y:101.51,z:.5},{x:352.09,y:71.88,z:.5},{x:368.29,y:50.72,z:.5},{x:374.72,y:33.76,z:.5},{x:370.11,y:22.56,z:.5},{x:352.23,y:17.24,z:.5},{x:328.26,y:16.93,z:.5},{x:308.98,y:20.41,z:.5},{x:295.36,y:25.56,z:.5},{x:287.54,y:29.66,z:.5},{x:285.12,y:33.56,z:.5}]}],color:"black",fill:"none",dash:"draw",size:"m",isComplete:!0,isClosed:!1,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"a1",id:"shape:EHeAIsYe4xu1-kGxK-Tl_",typeName:"shape"},"shape:rw3t_OBpBeheLvZIrp4Mx":{x:511.83984375,y:354.4296875,rotation:0,isLocked:!1,opacity:1,meta:{},type:"text",props:{color:"black",size:"m",w:133.484375,text:"It worked!",font:"draw",align:"middle",autoSize:!0,scale:1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"a2",id:"shape:rw3t_OBpBeheLvZIrp4Mx",typeName:"shape"},"shape:0S9cS5N4-B_1723oeZtzj":{x:544.390625,y:399.0234375,rotation:0,isLocked:!1,opacity:1,meta:{},type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5}]}],color:"black",fill:"none",dash:"draw",size:"m",isComplete:!0,isClosed:!1,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"a3",id:"shape:0S9cS5N4-B_1723oeZtzj",typeName:"shape"},"shape:NHvyJ2i5f3g27J9B3O5Zy":{x:586.1015625,y:399.0234375,rotation:0,isLocked:!1,opacity:1,meta:{},type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:.3,y:0,z:.5}]}],color:"black",fill:"none",dash:"draw",size:"m",isComplete:!0,isClosed:!1,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"a4",id:"shape:NHvyJ2i5f3g27J9B3O5Zy",typeName:"shape"},"shape:oJrNFeQHqg7REKEVCUwYv":{x:557.6875,y:405.50390625,rotation:0,isLocked:!1,opacity:1,meta:{},type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:-.27,y:0,z:.5},{x:-.53,y:.21,z:.5},{x:-.64,y:.55,z:.5},{x:-1.63,y:1.37,z:.5},{x:-3.02,y:2.95,z:.5},{x:-4.45,y:4.56,z:.5},{x:-5.67,y:5.6,z:.5},{x:-6.29,y:6.38,z:.5},{x:-6.71,y:6.99,z:.5},{x:-6.83,y:7.24,z:.5},{x:-6.66,y:7.36,z:.5},{x:-6.21,y:7.36,z:.5},{x:-5.64,y:7.36,z:.5},{x:-5.07,y:7.36,z:.5},{x:-4.51,y:7.36,z:.5},{x:-3.95,y:7.36,z:.5},{x:-3.42,y:7.36,z:.5},{x:-2.86,y:7.36,z:.5},{x:-2.35,y:7.36,z:.5},{x:-2.07,y:7.36,z:.5}]}],color:"black",fill:"none",dash:"draw",size:"m",isComplete:!0,isClosed:!1,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"a5",id:"shape:oJrNFeQHqg7REKEVCUwYv",typeName:"shape"},"shape:DrggNaYz6Rk_ieKWskDsU":{x:533.42578125,y:419.99609375,rotation:0,isLocked:!1,opacity:1,meta:{},type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:.11,y:0,z:.5},{x:1.04,y:.44,z:.5},{x:2.73,y:1.43,z:.5},{x:6.05,y:2.77,z:.5},{x:10.5,y:4.27,z:.5},{x:15.84,y:5.84,z:.5},{x:21.36,y:6.87,z:.5},{x:26.98,y:7.38,z:.5},{x:33.31,y:8.23,z:.5},{x:40.36,y:9.04,z:.5},{x:46.94,y:9.46,z:.5},{x:52,y:9.61,z:.5},{x:57.39,y:9.61,z:.5},{x:63.11,y:9.11,z:.5},{x:68.55,y:7.86,z:.5},{x:73,y:6.53,z:.5},{x:76.1,y:5.38,z:.5},{x:77.62,y:4.19,z:.5},{x:78.33,y:3.05,z:.5},{x:78.68,y:1.89,z:.5},{x:78.83,y:.77,z:.5},{x:78.96,y:-.21,z:.5},{x:79.11,y:-.96,z:.5},{x:79.39,y:-1.52,z:.5},{x:79.66,y:-1.93,z:.5},{x:79.79,y:-2.2,z:.5},{x:79.79,y:-2.44,z:.5},{x:79.79,y:-2.64,z:.5},{x:79.79,y:-2.76,z:.5}]}],color:"black",fill:"none",dash:"draw",size:"m",isComplete:!0,isClosed:!1,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"a6",id:"shape:DrggNaYz6Rk_ieKWskDsU",typeName:"shape"},"asset:-2122303015":{meta:{},type:"image",props:{name:"tldrawFile",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPIAAAB0CAYAAAC/gW9hAAAKsWlDQ1BJQ0MgUHJvZmlsZQAASImVlwdUE+kWgP+Z9JDQAhGQEnqTLhBASggtgIJ0sBGSAKGEmIKAHVlcgRVFRQTLiq6CKNgoYkMsWFgE7HWDLALKulgQFZU3wCHs7jvvvfPunH/ud27uf8uc+XPuAEDWYAuFabAyAOkCiSjM35sWExtHw/UDFHIRgD7QYXPEQkZoaDBAZFr/XT7eB9CEvmM1Eevff/+vosLliTkAQKEIJ3DFnHSETyPrA0cokgCAqkLshiskwgluR1hNhBSIsGyCk6b4wwQnTDIaP+kTEcZEWBsAPInNFiUBQDJD7LRMThIShxSAsK2AyxcgnIWwR3p6BhfhJoTNEB8hwhPx6Ql/iZP0t5gJ8phsdpKcp3qZFLwPXyxMY2f/n4/jf0t6mnQ6hwmySMmigDBEI3VBD1MzguQsSFgQMs187qT/JCdLAyKnmSNmxk0zl+0TJN+btiB4mhP5fix5HAkrYpp5Yt/waRZlhMlzJYqYjGlmi2bySlMj5fZkHksePyc5InqaM/lRC6ZZnBoeNOPDlNtF0jB5/TyBv/dMXj957+niv/TLZ8n3SpIjAuS9s2fq5wkYMzHFMfLauDwf3xmfSLm/UOItzyVMC5X789L85XZxZrh8rwR5IWf2hsqfYQo7MHSaQTiQACngAj7IADTgg2gxEII0wAbZEl6WZKIhZoYwW8RPSpbQGMhJ49FYAo71HJq9rb0DABPnduq1eE+dPI8Q9eaMbUM1AO5nxsfHz87YAjsBOBEPALF+xma2BADlfgCun+NIRZlTNvTEDQOIQAmoAU2gCwyBGbAC9sAJuAEv4AsCQQiIALFgKeCAZJAORGAFWAXWg3xQCLaAHaAc7AMHQBU4Bk6CRnAOXALXwC3QCe6BJ0AG+sBrMAw+gjEIgnAQGaJAmpAeZAxZQvYQHfKAfKFgKAyKheKhJEgASaFV0AaoECqByqH9UDV0AjoDXYJuQF3QI6gHGoTeQV9gFEyC1WAd2AS2gekwAw6CI+AlcBK8HM6B8+DNcBlcCR+FG+BL8C34HiyDX8MjyN+dAoqK0kdZoegoJioEFYdKRIlQa1AFqFJUJaoW1YxqQ91ByVBDqM9oLJqCpqGt0G7oAHQkmoNejl6DLkKXo6vQDegr6DvoHvQw+juGjNHGWGJcMSxMDCYJswKTjynFHMLUY65i7mH6MB+xWCwVa4p1xgZgY7Ep2JXYIuwebB22BduF7cWO4HA4TZwlzh0XgmPjJLh83C7cUdxFXDeuD/cJr4DXw9vj/fBxeAE+F1+KP4K/gO/G9+PHCMoEY4IrIYTAJWQTigkHCc2E24Q+whhRhWhKdCdGEFOI64llxFriVeJT4nsFBQUDBReFhQp8hXUKZQrHFa4r9Ch8JqmSLEhM0mKSlLSZdJjUQnpEek8mk03IXuQ4soS8mVxNvkx+Tv6kSFG0VmQpchXXKlYoNih2K75RIigZKzGUlirlKJUqnVK6rTSkTFA2UWYqs5XXKFcon1F+oDyiQlGxUwlRSVcpUjmickNlQBWnaqLqq8pVzVM9oHpZtZeCohhSmBQOZQPlIOUqpU8Nq2aqxlJLUStUO6bWoTasrqo+Vz1KPUu9Qv28uoyKoppQWdQ0ajH1JPU+9cssnVmMWbxZm2bVzuqeNaoxW8NLg6dRoFGncU/jiyZN01czVXOrZqPmMy20loXWQq0VWnu1rmoNzVab7TabM7tg9snZj7VhbQvtMO2V2ge027VHdHR1/HWEOrt0LusM6VJ1vXRTdLfrXtAd1KPoeejx9bbrXdR7RVOnMWhptDLaFdqwvrZ+gL5Uf79+h/6YgalBpEGuQZ3BM0OiId0w0XC7YavhsJGe0XyjVUY1Ro+NCcZ042TjncZtxqMmpibRJhtNGk0GTDVMWaY5pjWmT83IZp5my80qze6aY83p5qnme8w7LWALR4tkiwqL25awpZMl33KPZdcczByXOYI5lXMeWJGsGFaZVjVWPdZU62DrXOtG6zc2RjZxNltt2my+2zraptketH1ip2oXaJdr12z3zt7CnmNfYX/Xgezg57DWocnh7VzLuby5e+c+dKQ4znfc6Njq+M3J2UnkVOs06GzkHO+82/kBXY0eSi+iX3fBuHi7rHU55/LZ1clV4nrS9U83K7dUtyNuA/NM5/HmHZzX627gznbf7y7zoHnEe/zsIfPU92R7Vnq+8DL04nod8upnmDNSGEcZb7xtvUXe9d6jTFfmamaLD8rH36fAp8NX1TfSt9z3uZ+BX5Jfjd+wv6P/Sv+WAExAUMDWgAcsHRaHVc0aDnQOXB14JYgUFB5UHvQi2CJYFNw8H54fOH/b/KcLjBcIFjSGgBBWyLaQZ6GmoctDzy7ELgxdWLHwZZhd2KqwtnBK+LLwI+EfI7wjiiOeRJpFSiNbo5SiFkdVR41G+0SXRMtibGJWx9yK1YrlxzbF4eKi4g7FjSzyXbRjUd9ix8X5i+8vMV2SteTGUq2laUvPL1Naxl52Kh4THx1/JP4rO4RdyR5JYCXsThjmMDk7Oa+5Xtzt3EGeO6+E15/onliSOJDknrQtaTDZM7k0eYjP5Jfz36YEpOxLGU0NST2cOp4WnVaXjk+PTz8jUBWkCq5k6GZkZXQJLYX5Qtly1+U7lg+LgkSHxJB4ibhJooYMSO1SM+kP0p5Mj8yKzE8rolacylLJEmS1Z1tkb8ruz/HL+WUleiVnZesq/VXrV/WsZqzevwZak7Cmda3h2ry1fev811WtJ65PXf9rrm1uSe6HDdEbmvN08tbl9f7g/0NNvmK+KP/BRreN+35E/8j/sWOTw6Zdm74XcAtuFtoWlhZ+LeIU3fzJ7qeyn8Y3J27uKHYq3rsFu0Ww5f5Wz61VJSolOSW92+Zva9hO216w/cOOZTtulM4t3beTuFO6U1YWXNa0y2jXll1fy5PL71V4V9Tt1t69affoHu6e7r1ee2v36ewr3PflZ/7PD/f772+oNKksPYA9kHng5cGog22/0H+pPqR1qPDQt8OCw7KqsKor1c7V1Ue0jxTXwDXSmsGji492HvM51lRrVbu/jlpXeBwclx5/dSL+xP2TQSdbT9FP1Z42Pr27nlJf0AA1ZDcMNyY3yppim7rOBJ5pbXZrrj9rffbwOf1zFefVzxdfIF7IuzB+MefiSIuwZehS0qXe1mWtTy7HXL57ZeGVjqtBV69f87t2uY3RdvG6+/VzN1xvnLlJv9l4y+lWQ7tje/2vjr/Wdzh1NNx2vt3U6dLZ3DWv60K3Z/elOz53rt1l3b11b8G9rvuR9x8+WPxA9pD7cOBR2qO3jzMfjz1Z9xTztOCZ8rPS59rPK38z/61O5iQ73+PT0/4i/MWTXk7v69/Fv3/ty3tJflnar9dfPWA/cG7Qb7Dz1aJXfa+Fr8eG8v9Q+WP3G7M3p//0+rN9OGa4763o7fi7ovea7w9/mPuhdSR05PnH9I9jowWfND9VfaZ/bvsS/aV/bMVX3Neyb+bfmr8HfX86nj4+LmSL2JOjAApZcGIiAO8OA0COBYCCzBDERVNz9aRAU98CkwT+E0/N3pPiBEAtoibGI2YLAMeRZbIOACUvACZGowgvADs4yNf0DDw5r08IFvlyqXW9OKqf/nxONfinTM3yf6n7nxrIo/5N/wvqIQ1oPGOfkQAAAIplWElmTU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAIdpAAQAAAABAAAATgAAAAAAAACQAAAAAQAAAJAAAAABAAOShgAHAAAAEgAAAHigAgAEAAAAAQAAAPKgAwAEAAAAAQAAAHQAAAAAQVNDSUkAAABTY3JlZW5zaG90ufUwPwAAAAlwSFlzAAAWJQAAFiUBSVIk8AAAAdZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDYuMC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iPgogICAgICAgICA8ZXhpZjpQaXhlbFlEaW1lbnNpb24+MTE2PC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjI0MjwvZXhpZjpQaXhlbFhEaW1lbnNpb24+CiAgICAgICAgIDxleGlmOlVzZXJDb21tZW50PlNjcmVlbnNob3Q8L2V4aWY6VXNlckNvbW1lbnQ+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgquVEKwAAAAHGlET1QAAAACAAAAAAAAADoAAAAoAAAAOgAAADoAAA9bG3y9EwAADydJREFUeAHsXQl0FEUTLtTgLwIiUVBOBUI4AgkkEOQKAsoVEAM8UYGAHPqr+CuCCnhwBeXSJ8gVLsOpCF4ERFCIIdxHoiTBHAgJCQo+DsUTVP75hvQy29Mzu7Ob4M6m6z3o6e7qmp7q/aa7q6onZYjosvKPwsJbIqG0g/vUVP4nNSA1YB8NlFG6KoFsn/GSPZUaEGpAAlmoFlkoNWAvDUgg22u8ZG+lBoQakEAWqkUWSg3YSwMSyPYaL9lbqQGhBiSQhWqRhVID9tKABLK9xkv2VmpAqAEJZKFaZKHUgL00IIFsr/GSvZUaEGpAAlmoFlkoNWAvDUgg22u8ZG+lBoQakEAWqkUWSg3YSwMSyPYaL9lbDzQQWL8N1YseTYHBrdXWOYkzr6QbZnggzTebSCD75rjIXhWTBiJHfeQAMC/yTNYu2vvmg3yxLfN+DeTXJkyg7j2ihQOTkZ5Ojw0ZLKyzWpickkI33vgfYbMF8+fRsqVLhXWysGQ1ENRzDAUpM7EZYXbO8YOZ2a+B/OmGRGrR8so5a34wf/nlFwqqW4cv9ih/8odTVKYMVKmnFcsT6IUxY/QVsqRYNQDQaqlyUGvDmVjLh2u21MY12p3N2WU7cEsgY/S8JAlkLxXoRXN+/+uFKF1TO83WtgFyQEAAtY+Koq5du1LLyEiqWbMWDRkcS18lJekGgBXIGZlpwj9Td5bO3j753lkxdCZ7p7diSry9TwP51ltvpQXxiygkJIRwzS9fRz79FK374ANDJUkgG6rGLyq6LzxV4s9hF4OYTwO5UaNG9OX2JMPBkkA2VI3fV1yL2Zgp0Q5LbAlkNlpepHKP7IXyPGxq5lbyUKRhMwlkQ9W4VyFnZPf0VBq55IzsPOpyRnbWh0c5OSN7pDavGhUnkLEPZlFfok7JGVmkFRdlL770EoWFNVO5yleoQBEREYYtjh07RnnHjzvVx8cvpO3btqll3hq7HurfXwko6UFNmzSlKlWr0nXXXUcXL16k/Lw8mjdvLq1ZvVq9T+H3P6h1Th0pyqxcsZzGjHYOSpgxcybVqFFTx/7HH3+olnhW8eiAgfS/Z5+lKlWqKAEnN9L4cWNp6ZIlrNopbdCgAY0dP56CgupTYOXKVO7mm+mGG26gy5cvq//Onz9PGRkZlPxVEi2Kj6c///zTqT0yr7z6GmEVJKKVK1fQxsREXdXESZOofv1gXfnhw4dpatwUXXmP6GgaoDyXiBIV+auU+7hDxQVkBlIzeXYwePncjLzvwEHFtaT/kbszuOB5Z84cipsyWWX3FMgA7Np166hNm7amt/3u6FGK7tGd0jOPWAJy7nfH6GYFaDwBdNXuqEo33XQTJSXvoFq1ajmxLFm8mF4eP86p7IEHetPLr76qvBhqOJWbZfAymjxpIi1etMiJLXHTZxQeHu5UxjL79++nXtE9WNaRGr3ELl26RLVqVHfwsYsNGzcZvpwPHjxI0d27MVbD1Ax0ho0EFQzErMpMLs/L2vhKKoHMjcQtlSrRF19ucxsYP3z/PVUODKSyZctykq5kRTOyKyBvS/qKGjZsqJPHA/n1N6bR4CFDdHzuFvB9e+K/TxLCWkV0/vw5ahjsPPO2bduOPli/XsSult3XuROlKzOzlrKyc6jiLbdoixzXE5V7I6TVjIrLyCUCpivZvjwzSyBzv5oPP/qY7ml95ZQMV+VRlgcLhJgBefq0aYTthYi0QB6thH0+P9o5LFHUxqwMK4DOHe+lzMxMlQ2++sxvs4RNwFuzejX6+++/HfXYIgwYOMiR5y/mz5tHkyZOcBTjZZd3osCR5y8aNQimc+fO8cWOvNmM6WBy40IEYndl+2qAiASyZuDvuPNOOpSapgs80bBYvrQKZPyQKyt7XBExIGPVkJ6Rqe6BRXxWyk6eLKTwZldsEmgHIAPQIuobE0M7d6Y4qnbu3kN16hjHq+MF0eneDg7+zvfdRytWrnLktRd4bgDZjNwFm5nxSjSruisXfRO1N+vztarzOSBPnhJHYUU/rHLlyhkaX6AgLGsLCgsdurr8zz80atRzlJuTo5ZZ3SO/u3w5denS1SFPdHE0N5ewXwy8LZCiojoYLqlZWytAZm2MUgZkzMSYkY3o9OnTNPalF2nrli1KP2+j99euFRqkWPs6d9Wm33//Xc0uS1iuhsGyOm3Kz7AnCk+avkywF69d8+re/Y1p0yl28GCtSMf15s2baUis8ewORnciudhsixjsyOc/dMjHhQiEVkDMhG16vCq79JnU54Cs1cy19iMbGW5Yn/gf8p3VqlHyjhQqX748Y9GlJQHkuKmvG+6NsfTtENWeYIhjVEGx/mfl5BquNPr16UMpKTtUdliVFy9Zypo6pQcOHKCeinEPBG8CDFeuqF3bNo4X6xfbtlPjxo2FTYYNfUxoFdcyuwIyAzFrw4OZB6AnIIZsXg6737+ZSiAXaR+WcljMjQizXGiTEF113379aM47c3XlrMBTIGNPClfTxo2JdEBZATCCNdgTMjMywU00Z/ZsVez1119PmGn5uHZU/qS4sBoE11f5psRNpaHDhqnXZv+99eYswr4fdPTYccIqiyfR/pvnQd6VMQo8/B6WgZkv9xTE/MsC9/QFkkAuGoWu3brRsncTDMdk1swZNHPGDGH98fwTqp9XVOkJkC9dukjdlFNe+PiBp4TVTGSrVhQaGkbByt6zadNQQxfZJ598TE+MGOG41Z59+6l27dqOPLvQAg4fU4DPWkuo518AaWmp1K1LF6pYsaK6KtDys+s8xS/fqmULljVMGSgNGYoqeNDy/J6CGHIkkHltupG/lkvrZ58bZWgtRlcf6NWT9u3dK+z13v0HdD5fxugJkOGCgSvGXUKwyMhnnqF7O3aienXrUgUFNDygzGQhgOaRh/s7WMzcWg/160vJycmUX1BIOFqqpR9//JFuv/12bZG698YePCamD82dP9+pjmXeXbZM3dOzvFnqzqyM9kZgdvdlIOqDaI8t4vs3yuSMXKT1uYqrJKZPX8MxCGnUkM6cOSOsNwuksArkfxSD3d21a6kRZMKbaQqrV69BU+LiCNZgRHF5SjyQQ5o0oa1ffCkUh5fMOiVYBr52nmCMEy23I5o3p7HjxlGfvmL9ivzNvGxt3t0ZlQezNyD21ZmY6UUCuUgTCStW0P33d2F60aWwvsIKK6K169ZTu3btRFVkFciiwAuR4PEvv0JPjxwpqrJcxgMZAuDvFQW5HDp0iPbs3k1PPvWU032wrA4OqkfZuVeNbIwBe/D+/R+mOspqgSfess3XG+Wtzsz+DGLoSAK56JcCt9ew4cONfjcUpQA1O1scLGEUiQVhVoEMa3Ob1vcY9gMVcOHAleOKfv7pJ8pV5KWlptLAQYN0S2HWXgTkTYo7qFmz5ozFkZ49e5by8o7r6vLz8ymyRQSlfXOYqipx6VqC7zkiooXQjpCaeoi6K/YAq+TurAy5mJl5V5SV+/nykpo9h62B/OILY2h5QgJ7Fl1qxY88KDaWpk0XG7MgeMTwYbTh009190DB14fT1YMNokqrQN6/bx/16in+8ieTf1gJBrlN8Q8bEWSMGDFc9bMznowj3xoGmoiAjNkesz5PMMSdPXtOB9ZVq1bS6FGjaP7ChdS7t/MnZgsKCgxDXhEXj/h4q2QFyFZl8/wSyLxGLOZdGbtcfaHSCpBd+UXhZ4W/lSfMPpiFjMgqkHfv2kUxD/Y2EkfwCYuWr6wBVg1YPfAkMk4xHhGQA5X4cRwGERGWw/yyGy8fvEA6de5MK1etdmqGfT8OoojIzPYg4mdlEshME1dSn56RETKZmva1c481ORzFa9K4EV24cEFTevXSCpBx4ui743lXG3NX+DE2DWmsM3jFL1pMPXv14rivZosbyM0Vw9HGzzZfvQF3tXXrFho0YIBTKT5YiIgtI0ravp0e7v+QrvpIVhZVqiQO19Qya086AbDwQxsBV9vOXXuAtg279mbPy2S4m/q6oQvP4dNARgfNDu2jHrPDnj171GAFHA3ELI1wP5AVIIP/m/QMnfsE5Yx+/fVX1Q0F/y5cL5MmTzGMsGJtihvI9YKCaEfKTiZel6KP9erc7ShHoAv28GbRZ9jDIo6aJ1cGQMZ/5MgR6tghimXJVQw2Y9yy5XOKHTiQZS2n7hq8LAvmGvDWb67aJ7I+D2QsI7GcdJe8OY+Mkzw40eOK/vrrL0IElDu+2uIGMvrmKpQULzd8/ODU6VMUGdnKpWvKyOCEs84LlI8QuKLZb79Nr0+Nc7AhhPSxoUMdeaMLBKEgGMVTuhazsh1mY+jP54EsMp6YDbw3QIZcqy8Os76griSALLIMu+qHWT0/ozJerDrghnL1wkJUFqKzGDUNDaXPt2xlWWEKdxVcep6GnDKhJblXtguIoQufBzL2rlnKaaaAgLJs7ExTb4HsynotujmWpkZfExEZ5IzOI0O2K2MXeKI6dKD33l+LS7cJ9gREgIkIp8iahYWKqtT4c7Mvtvz2229U9+67dG3zFUu12ZidOHGCWkaE69p5WgBAsz/3wmS4+rtPjA9WafyZGLRnlKv8TSg7fJie9dfngYyOIlBjkXKAgLeUsofQpt4CGbIQgTR7zjtuGWwQXlhYWCB01UBWSQAZcs2OBKJeSwidREQWvsklIq2xiq+frsSXDxwUyxc78ghbRfgqT4gMQ4SYEYn0YsTrabk7s7WdZl0zPdgCyHgAHKZPUCyvzcObm77ptfu1VavXUMdOnYTPrz3JI2IIDQuj1WveM/S9wuI6aeJE9QN8jzzyKM166y2RGPVUEf8ROrOTSCKrs1CwUghXD144Rh8iwF7+c8Xw97jiU27Xvj2tee99I1Hq97VEy1wEhSA4xIheU74XFr9wga7a1ZlpBIFgb17SZGYQs4N/2F392AbI2gfCFyO7dO2mBkXgaxZfp6VRdk42ZSpficTsU5yE5SgA0759FAWUDaCTimtlr2IlZ+d3i/NenspqrPxJHfjBsTfF3vPCzz8T9r3rlZho7ad5PJVv93aYmUFsqQ0A223p7GoMbAlkVw8l66UGSpsGJJBL24jL5/VLDUgg++WwyocqbRqQQC5tIy6f1y81IIHsl8MqH6q0aUACubSNuHxev9SABLJfDqt8qNKmAQnk0jbi8nn9UgMSyH45rPKhSpsGJJBL24jL5/VLDUgg++WwyocqbRr4PwAAAP//xq33/QAADoNJREFU7VwHexbFFj5ICyWUEEgooiC9BYgURapIC6Hb6CCIoIjtll9wn3tVpDdBUBSRErogiiCIBaSFDiIBBClJIJTQ0TvvCWedbDZfME8Sv9VzniffzszOzs6+u+/MmXPOJB8R/Wb+qGF0Uxxo1/atfNQfRUAR8A8C+UxXlcj+eV/aU0XAEwElsicsWqgI+AsBJbK/3pf2VhHwRECJ7AmLFioC/kJAieyv96W9VQQ8EVAie8KihYqAvxBQIvvrfWlvFQFPBJTInrBooSLgLwSUyP56X9pbRcATASWyJyzehZ27dqPaderxyfkffUCnfznlXfEeS2N79KLqNWpx7aWLF1DC0Z/u8UqtpgikR0CJnB6PgLmefZ6mKlUf4jpK5IBQ6ck8RsD3RA4JCaGQkCJ09epVunnzRrbgKxcRSbVq1zUkrUrL4hbRxYspnu0okT1h0cIgQMB3RK5QsRI1in6Y7q/8ABP4vvvuSwfj1aupdPTIEdqze9c9q75PPdufKt1fmdv5cM4sSkw8l65NySiRBQk9BhsCviHyAw9WoU5dYqlY8eLpMLx18yZdv36dChUuTIXNny2XL12iZUsWUuI5b2JKXSWyIKFHvyIQ9ETOly8fPdaqLTVp1pwx/vXXX+ng/n20c8c2Onf2DP32G2/ecvAvX6Ei1a3fgOrUrU8FChTg8k1ffUnbtm5x6rgTSmQ3Ipr3GwJBT2TbUnz8WAKtXBZn1sI3s8S5aLFiFNu9F1WsdD/XXb1yOR08sM+5rkjRolSoYCHOdzX1IiIjOb0sbiElJyU59VKNqn771i3OZ0e1LlMmnCIrVKASJUrSuXNn6cTxYwQtAoL71qiZudUa12Agu3YN6/+0a7Cer2iWFwUKFqQftnzH7dg/xYuHUkT58lSqZCkKKVKEoJVgqYA/eQ67PjScAvkL8IB46dJF+5STLlSoEBUpUpTz6Af64yW4d/78+fnU5cuXCIOuSt4gENRErlOvPqvTgGLLd9/QN19v/MOodOvZh6pVr8HXvf/eDDqfnMxpuzxQoyD20Z+OcJU/QuTQ0BKEQUjW3vY9zp09S3GL5lObdu0dd5bb/RRmBoDBzz3Pl21cv47id+2g2B69Hav57du3aeI7bzrNlipVmlqb9h6qVt0psxOoD80kfueOdFrMy6/909Fcpk0eT9eM0dAtHTrFUL0GUVx89swZmjd3trsKwVaBtsRmMX3yBGOATM1QTwtyB4GgJXIxM6MOHzmaP4xjCUdpyaJPHATwsTSKbkL1GzSkEiVLmhniGh358RDtNQYurIef6NiFCpoZCx/ujRs3aOjwkby2PrB/L61ZtYLbyU0ig1T9Bg3NsGZ3HsAkMKCcOf0LYbCCZEVkPCeeWcQmcliZMtRvwBAqaGZOW1BHlhdSvnnTV7T1+28lS/bgBGyAkVtGjHo5nW1i4ri3Mszu0Hye7juAL025cIFmz5zmbkbzuYhA0BK5+aOP0aOPtSJ8jO9OncgGLcGhr/loI4366BaocquWLyGQFDJjygRKTU2levWjqEPnGFb1pk58h9XU0mFlqKhRryHtO3SiMuFlOf3lF2spybJaJyclOve2P/pAfuSBQ4ZReNly3B5+dmzbSocPHaSrpi8RkeWpVdvHKTQ01DmPRCAiHzqwn2rWrsP1oSofP55Av5w6aQaueC6z8QBea9esohPHjrEKDLX4kRYtKbpJM66Ln5nTJhNUXwhmWsy4ENzn05XLOC0/oSVK0PAXXpIsH919RWGLVm2oWfNH+fz2H7bQxg1fclp/8gaBoCXyCy+NMUQrRrt2bKf169Y6aOBjwUcDgZq3edMGJhpmtkaNH+Zy/NgzFtaTL415nWf3FUsXm9n7sFMPiZw0dtWoVZu6duvptL9qxVI6fPCAk0cCM+czfQdS2XK/k91NDlu1lot3bv+Bvlq/Lp1qXDosjIYMe0Gq0GerV9L+vXucvCR69H6Kqj5UjbNffLaa3XPIAGNgDYH2MmXCWE7LT4OGjXmgQ/7y5cs8AMXv3E4Y8GwZMHiY8zyfzJvLA419XtO5i0BQEtn+iG2/btlyETRg8HOMCD6q92ZMSWdQsWcmqNgfvj/LQU9mScwUmDFsyUki93ryGXqwSlVu/uTPJ2jh/I/sWznpchER1H9Q2rOgMCsiZ9YWjFVVqqRFm926fYtnVecmVsK2N7hnTCw9SpUuzbVnvzuNUlIuOFeKFgJ1OTHxLIeUQiuYOX2yUwfLmNGv/oPz0IomjP1fusHGqaiJXEMgKImMMEh8QPgoxr/9X+fh27XvSA0bR3MeBMHHbQtm5LbtO3DR3j3x9PmaT53TMiO5Z3hUyEkiv/LGvx2Dz+IFH7OV2umEK2HPYlkRefGC+aatBFcL955FAM2Tz/TjC3468iMtX7LIubhl63aOe2/Dus/ZtYeTsJiPef1f/Dxw9yUaIx2WKBBZtiAt7wtpGAZhIFTJWwSCksggK0iLWXfmtEkOIjLjXjfGramTxjnlksD6s9/AIZy1P0gUxHTrQTVr1aHdu3bSus/XyCV8zCkiFy4cQi+Oec1pe+rEcUbtv+bk3YlOMbHs70Z5VkR+583/uC/3zGNNXPmBBwluKmg2YUb1LmlcUbYhDJszcD8R+N6f7T+Is3DxxS2cz+nI8hWo74DBnEYZbAcjXkxTw7EO37dnN5+zB1gMnhhEVfIWgaAkcouWranZIy14DWy7OsRVkpmaiTUgZl7Igo8/pFMnf3bQhEUVllWs7bDGsyWniAwD2pBhI5ymsyKfGPRwQSAiZzZwOTcyCRA3uklTHqzEBWSft9NuIuOcYGurxvIecB7q8p07d9jwBQMYvAQrlsbhFD03YhQPFkir2wko5L0EJZEbRzehNo8/wcEMshbDjDL6lTcYIfsjsiGTWRdlk8ePTbeJQlwoXtbmnCIy1plYb4pkRWRY5UFmSCAiYyacO+f39b60L0d7RpQyrGnh3kpOTqIL589zcAis8xAvInfr2dv422vy+Xlz55hB9LSxR6QZsLBdE7hBHn+iI0U1iuaglknj3+ZAkZGjX+Fz6nZiGP6Un6AkMgI44EJyr5Fl/QnXCyyjthQ3Rp/njb8TgsgpfGQiZY0raMCQYZxFuURWyfmcIrI92KDt6cb9BZdTZtKla3eqVacunw5EZJtI7rYQg977qWedYiwdxJLvFJqEvUb2InLtuvWoc0w3vuTbzZtou3GZycC52fI92+thDC7hxm3XJbY7X7dt6/fGd7/evq2m8wiBoCSybdGdM2uGmVGSGQ64WeBugXwwe6YJpUzkNIwyMcblI+GOcD1NGveWYzkVS3JmM0ZOERmdERUVaYST/nj4EJKeYluLs0vkmFiz9r/rYw5kaGpoDIHt7hoC3QE26By2go56+VXu55nTp03QyDeOPx6EFd86AkzwjBAMGPC/5+Q/W+CG9ecPIxCURAYx4ffFDGdbmbFnWEZ/PCkMM9g4AZUQBMdsBDIjxhizw7GEBGPlbuyojDDY4Bq39Hm6LxuIUL7mUxPdtG+vuwrnxRWDTGZWZDtiDAMNBhwvQegmBhCR7BJZ1v5oJ9DmEHuwgu0ANgS3DBo63AmM2W1CQuFDdms3uEaMjogbh10AwS3uwdPdtuZzF4GgJDIeua1ZIyMkER+IHdnVvmNnahDVKAMqCHmcO2cmtWzdNl0Uk1T8euMGz00GOG/HEgea1ewNHHa4p9wDR9vghjziwxEnbgs2dCCkEkYjkewSuWPnrrzbC+0g8AQBKG6xfcg4l1m8tL1mh4ENA6KXPQKGSBjCEEAiW0fdLi13HzSfuwgELZFtw5F7BoG7BDMv1LqkxESjvh5kww62NCKKq4b5P1j1oxpScTNTIDAEu4QC/X8t2/8MuDEoYKcU1Ej4T1OvXOG30LT5I7ylUl4J+oUZHh8z6l26eJFPyYwl9bAmBfERSBFpXGTNTcgkrrGJkF0iY8smyCyCUNDDB/fTKWNHgNspqlFjVn3te2W2xIDlu7+JEbfFK1LMXvpIXa96ck6PuY9A0BIZj24TZ0/8Lvb/uvcf5wREiEwaOfrVDBsM0La9+wlbH2H99nLvIEYZscoQqJrYNIHwx8wEPvLvv/2aN3igTnaJjGUIBg7Zhul1PxgNsc5FdBv67jYi2tfAwGX7nDMz2Nm2AFw/bZLZOZXJ9ka7fU3nDgJBTWQ8sr1+hRtladwCwoySleCDRfgiZsF7EcxG3Xs9mWEzg01ktANfNGKp3f+pxCYy6mH3VjvjqpH/kokyEcR6r129iipVrkzde/bh4kWfzKOfTxyXKhwyKa6sQFZrXIBAlFZt2rEW4jRwN4HnX71qOfvUR5nBCuoyxMt6j3I8G+LFIe5QTC68+wOsZMsk3sucWdPt05rOYwSCnsjYqI6wS3tdDKvq7vgd5uM8SVfMLp5bZuM/6mEPcFh4uFEl6zKB7pj19RSz2wkz0L0KtgvinwFgA/1FE3N85UqaWu2+HveC+o81PDbki/rtrof1cHh4OWMVDuEoL2zw99rz674uO3ncA9FccMWhXykpKWaZ8Ps/SchOm3qNPxAIeiILjFWrVTfBCJ0yzJhy3uuIdeEC429OSkpzU3nV0TJF4K+AgG+ILGAjnjrKuEXw3zSh3orVFOdhaU1NvWIMX6dp397dGTZVSBt6VAT+agj4jsheLwDWZaiSKorA3xWBvwSR/64vT59bERAElMiChB4VAR8joET28cvTrisCgoASWZDQoyLgYwSUyD5+edp1RUAQUCILEnpUBHyMgBLZxy9Pu64ICAJKZEFCj4qAjxFQIvv45WnXFQFBQIksSOhREfAxAkpkH7887boiIAgokQUJPSoCPkZAiezjl6ddVwQEASWyIKFHRcDHCCiRffzytOuKgCCgRBYk9KgI+BgBJbKPX552XREQBJTIgoQeFQEfI6BE9vHL064rAoKAElmQ0KMi4GMElMg+fnnadUVAEPg/Ozet4kLk2xYAAAAASUVORK5CYII=",w:121,h:58,mimeType:"image/png",isAnimated:!1},id:"asset:-2122303015",typeName:"asset"},"shape:o_2EMovbM7LMmTV9n7Pxt":{x:476.55859375,y:459.5078125,rotation:0,isLocked:!1,opacity:1,meta:{},type:"image",props:{w:121,h:58,assetId:"asset:-2122303015",playing:!0,url:"",crop:null},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"a7",id:"shape:o_2EMovbM7LMmTV9n7Pxt",typeName:"shape"},"shape:W25cQBiKtpEgJQAWccWrs":{x:413.796875,y:391.796875,rotation:0,isLocked:!1,opacity:1,meta:{},type:"text",props:{color:"black",size:"m",w:152.609375,text:"page 2 crew",font:"draw",align:"middle",autoSize:!0,scale:1},parentId:"page:page2",index:"a1",id:"shape:W25cQBiKtpEgJQAWccWrs",typeName:"shape"},"shape:XNOJzB586-5whTtAYC6M_":{x:496.5859375,y:410.23046875,rotation:0,isLocked:!1,opacity:1,meta:{},type:"arrow",parentId:"page:page2",index:"a4",props:{dash:"draw",size:"m",fill:"none",color:"black",labelColor:"black",bend:0,start:{type:"binding",boundShapeId:"shape:W25cQBiKtpEgJQAWccWrs",normalizedAnchor:{x:.5,y:.5},isExact:!1},end:{type:"binding",boundShapeId:"shape:EL15Akq9Nx9_NPdglsqgG",normalizedAnchor:{x:.5,y:.5},isExact:!1},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},id:"shape:XNOJzB586-5whTtAYC6M_",typeName:"shape"},"shape:EL15Akq9Nx9_NPdglsqgG":{x:448.4184995968317,y:519.76171875,rotation:0,isLocked:!1,opacity:1,meta:{},type:"geo",props:{w:83.33559924570821,h:80.22879950084786,geo:"cloud",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:page2",index:"a3",id:"shape:EL15Akq9Nx9_NPdglsqgG",typeName:"shape"},"shape:eDog8u-JyLF-5AsQruvyM":{x:471.9453125,y:552.609375,rotation:0,isLocked:!1,opacity:1,meta:{},type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5}]}],color:"black",fill:"none",dash:"draw",size:"m",isComplete:!0,isClosed:!1,isPen:!1},parentId:"page:page2",index:"a5",id:"shape:eDog8u-JyLF-5AsQruvyM",typeName:"shape"},"shape:KEjUdOIrvizOLzPSVy7ia":{x:507.15625,y:552.609375,rotation:0,isLocked:!1,opacity:1,meta:{},type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:.13,y:0,z:.5}]}],color:"black",fill:"none",dash:"draw",size:"m",isComplete:!0,isClosed:!1,isPen:!1},parentId:"page:page2",index:"a6",id:"shape:KEjUdOIrvizOLzPSVy7ia",typeName:"shape"},"shape:9mTeZ081zvz7RULyU3iwv":{x:481.96484375,y:564.5234375,rotation:0,isLocked:!1,opacity:1,meta:{},type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:.12,y:0,z:.5},{x:.35,y:0,z:.5},{x:.92,y:0,z:.5},{x:2.15,y:-.14,z:.5},{x:3.6,y:.05,z:.5},{x:5.12,y:.54,z:.5},{x:6.6,y:.88,z:.5},{x:8.29,y:1.04,z:.5},{x:10.45,y:1.04,z:.5},{x:12.27,y:1.04,z:.5},{x:13.35,y:1,z:.5},{x:14.04,y:.81,z:.5},{x:14.57,y:.2,z:.5},{x:14.82,y:-.55,z:.5},{x:14.85,y:-1.27,z:.5},{x:14.97,y:-1.87,z:.5},{x:15.06,y:-2.09,z:.5},{x:15.06,y:-2.25,z:.5},{x:15.06,y:-2.74,z:.5}]}],color:"black",fill:"none",dash:"draw",size:"m",isComplete:!0,isClosed:!1,isPen:!1},parentId:"page:page2",index:"a7",id:"shape:9mTeZ081zvz7RULyU3iwv",typeName:"shape"},"shape:v37oWIZEkIqKGdGZghrfA":{x:-1838.9140660856651,y:7604.549881178025,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:v37oWIZEkIqKGdGZghrfA",type:"note",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"a8",props:{color:"black",size:"s",text:"Sticky note",font:"draw",align:"start",verticalAlign:"start",growY:0,url:""},typeName:"shape"},"shape:O-pU2_ggUM64ZWU1r7oEB":{x:-1624.6911969546622,y:7604.549881178025,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:O-pU2_ggUM64ZWU1r7oEB",type:"note",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"a9",props:{color:"grey",size:"s",text:"Sticky note",font:"draw",align:"middle",verticalAlign:"start",growY:0,url:""},typeName:"shape"},"shape:Db4p1ma1mBBGp46eN64w1":{x:-1410.4683278236594,y:7604.549881178025,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Db4p1ma1mBBGp46eN64w1",type:"note",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aA",props:{color:"light-violet",size:"s",text:"Sticky note",font:"draw",align:"end",verticalAlign:"start",growY:0,url:""},typeName:"shape"},"shape:WDS44YHks5BXIyPHQQJ0R":{x:-1838.9140660856651,y:7813.403435567038,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:WDS44YHks5BXIyPHQQJ0R",type:"note",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"a8V",props:{color:"black",size:"s",text:"Sticky note",font:"draw",align:"start",verticalAlign:"middle",growY:0,url:""},typeName:"shape"},"shape:UDQEf9jgTpNzI3CfOyG1R":{x:-1624.6911969546622,y:7813.403435567038,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:UDQEf9jgTpNzI3CfOyG1R",type:"note",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"a9V",props:{color:"grey",size:"s",text:"Sticky note",font:"draw",align:"middle",verticalAlign:"middle",growY:0,url:""},typeName:"shape"},"shape:jTgf4aMkA3yUUQjqZ1Esg":{x:-1410.4683278236594,y:7813.403435567038,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:jTgf4aMkA3yUUQjqZ1Esg",type:"note",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aB",props:{color:"light-violet",size:"s",text:"Sticky note",font:"draw",align:"end",verticalAlign:"middle",growY:0,url:""},typeName:"shape"},"shape:dpCjCMsd1fav6Fq0nWxxN":{x:-1838.9140660856651,y:8023.6423279395285,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:dpCjCMsd1fav6Fq0nWxxN",type:"note",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"a8l",props:{color:"black",size:"s",text:"Sticky note",font:"draw",align:"start",verticalAlign:"end",growY:0,url:""},typeName:"shape"},"shape:bzp3tr2VD3-XFJuyzl4LG":{x:-1624.6911969546622,y:8023.6423279395285,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:bzp3tr2VD3-XFJuyzl4LG",type:"note",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"a9l",props:{color:"grey",size:"s",text:"Sticky note",font:"draw",align:"middle",verticalAlign:"end",growY:0,url:""},typeName:"shape"},"shape:dgFDz6VnCOj59T5GZmM8I":{x:-1410.4683278236594,y:8023.6423279395285,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:dgFDz6VnCOj59T5GZmM8I",type:"note",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aC",props:{color:"light-violet",size:"s",text:"Sticky note",font:"draw",align:"end",verticalAlign:"end",growY:0,url:""},typeName:"shape"},"shape:r_8EdkdPAkGazaReo3UQM":{x:-1196.2454586926567,y:7604.549881178025,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:r_8EdkdPAkGazaReo3UQM",type:"note",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"a8G",props:{color:"violet",size:"m",text:"Sticky note",font:"draw",align:"start",verticalAlign:"start",growY:0,url:""},typeName:"shape"},"shape:FE4rMcHsBATODJGlmGggN":{x:-1196.2454586926567,y:7813.403435567038,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:FE4rMcHsBATODJGlmGggN",type:"note",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"a8d",props:{color:"violet",size:"m",text:"Sticky note",font:"draw",align:"start",verticalAlign:"middle",growY:0,url:""},typeName:"shape"},"shape:aOl46rKwMP2CvXVaZVy0t":{x:-1196.2454586926567,y:8023.6423279395285,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:aOl46rKwMP2CvXVaZVy0t",type:"note",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"a8t",props:{color:"violet",size:"m",text:"Sticky note",font:"draw",align:"start",verticalAlign:"end",growY:0,url:""},typeName:"shape"},"shape:xGsZcSEb-eQyVcD7E3pBq":{x:-982.022589561654,y:7604.549881178025,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:xGsZcSEb-eQyVcD7E3pBq",type:"note",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"a9G",props:{color:"blue",size:"m",text:"Sticky note",font:"draw",align:"middle",verticalAlign:"start",growY:0,url:""},typeName:"shape"},"shape:TVn_nW2-fSrgqTf9d7QEn":{x:-982.022589561654,y:7813.403435567038,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:TVn_nW2-fSrgqTf9d7QEn",type:"note",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"a9d",props:{color:"blue",size:"m",text:"Sticky note",font:"draw",align:"middle",verticalAlign:"middle",growY:0,url:""},typeName:"shape"},"shape:z1SAUTRV8b_6AyT3rqEE3":{x:-982.022589561654,y:8023.6423279395285,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:z1SAUTRV8b_6AyT3rqEE3",type:"note",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"a9t",props:{color:"blue",size:"m",text:"Sticky note",font:"draw",align:"middle",verticalAlign:"end",growY:0,url:""},typeName:"shape"},"shape:fcKJybwVMa3XfwuZnNGhG":{x:-767.7997204306512,y:7604.549881178025,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:fcKJybwVMa3XfwuZnNGhG",type:"note",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aAV",props:{color:"light-blue",size:"m",text:"Sticky note",font:"draw",align:"end",verticalAlign:"start",growY:0,url:""},typeName:"shape"},"shape:ydx11LNtZV7x0cb32nA9g":{x:-767.7997204306512,y:7813.403435567038,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ydx11LNtZV7x0cb32nA9g",type:"note",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aBV",props:{color:"light-blue",size:"m",text:"Sticky note",font:"draw",align:"end",verticalAlign:"middle",growY:0,url:""},typeName:"shape"},"shape:125gTSb1JtEqiHRnytqnZ":{x:-767.7997204306512,y:8023.6423279395285,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:125gTSb1JtEqiHRnytqnZ",type:"note",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aD",props:{color:"light-blue",size:"m",text:"Sticky note",font:"draw",align:"end",verticalAlign:"end",growY:0,url:""},typeName:"shape"},"shape:VNznAJwAoRLvDTD7vFO8w":{x:-553.5768512996483,y:7604.549881178025,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:VNznAJwAoRLvDTD7vFO8w",type:"note",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"a8O",props:{color:"yellow",size:"l",text:"Sticky note",font:"draw",align:"start",verticalAlign:"start",growY:0,url:""},typeName:"shape"},"shape:MRUayz0sC3jFIbBOWV_5s":{x:-553.5768512996483,y:7813.403435567038,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:MRUayz0sC3jFIbBOWV_5s",type:"note",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"a8h",props:{color:"yellow",size:"l",text:"Sticky note",font:"draw",align:"start",verticalAlign:"middle",growY:0,url:""},typeName:"shape"},"shape:ZtYO6CBivoWvNy79Rh-zT":{x:-553.5768512996483,y:8023.6423279395285,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ZtYO6CBivoWvNy79Rh-zT",type:"note",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"a8x",props:{color:"yellow",size:"l",text:"Sticky note",font:"draw",align:"start",verticalAlign:"end",growY:0,url:""},typeName:"shape"},"shape:COnl317kfUp6dJd7xhfXY":{x:-339.35398216864564,y:7604.549881178025,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:COnl317kfUp6dJd7xhfXY",type:"note",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"a9O",props:{color:"orange",size:"l",text:"Sticky note",font:"draw",align:"middle",verticalAlign:"start",growY:0,url:""},typeName:"shape"},"shape:aw9nV-ewq8iioGZqGMGQV":{x:-339.35398216864564,y:7813.403435567038,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:aw9nV-ewq8iioGZqGMGQV",type:"note",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"a9h",props:{color:"orange",size:"l",text:"Sticky note",font:"draw",align:"middle",verticalAlign:"middle",growY:0,url:""},typeName:"shape"},"shape:6D1qvd4nHRtCAXVZdhaYU":{x:-339.35398216864564,y:8023.6423279395285,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:6D1qvd4nHRtCAXVZdhaYU",type:"note",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"a9x",props:{color:"orange",size:"l",text:"Sticky note",font:"draw",align:"middle",verticalAlign:"end",growY:0,url:""},typeName:"shape"},"shape:YqkJCgfMRka-CQaMkzBVf":{x:-125.13111303764299,y:7604.549881178025,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:YqkJCgfMRka-CQaMkzBVf",type:"note",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aAl",props:{color:"green",size:"l",text:"Sticky note",font:"draw",align:"end",verticalAlign:"start",growY:0,url:""},typeName:"shape"},"shape:gaR2bbGFa1YDKnt1evH1p":{x:-125.13111303764299,y:7813.403435567038,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:gaR2bbGFa1YDKnt1evH1p",type:"note",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aBl",props:{color:"green",size:"l",text:"Sticky note",font:"draw",align:"end",verticalAlign:"middle",growY:0,url:""},typeName:"shape"},"shape:hA__THRSe75eJR1wBMrg3":{x:-125.13111303764299,y:8023.6423279395285,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:hA__THRSe75eJR1wBMrg3",type:"note",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aE",props:{color:"green",size:"l",text:"Sticky note",font:"draw",align:"end",verticalAlign:"end",growY:0,url:""},typeName:"shape"},"shape:xve9FUlVoYepJAPJ_zIOs":{x:89.09175609335989,y:7604.549881178025,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:xve9FUlVoYepJAPJ_zIOs",type:"note",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"a8S",props:{color:"light-green",size:"xl",text:"Sticky note",font:"draw",align:"start",verticalAlign:"start",growY:0,url:""},typeName:"shape"},"shape:aD1P1eAkCMTNX8yHQlodJ":{x:89.09175609335989,y:7813.403435567038,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:aD1P1eAkCMTNX8yHQlodJ",type:"note",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"a8j",props:{color:"light-green",size:"xl",text:"Sticky note",font:"draw",align:"start",verticalAlign:"middle",growY:0,url:""},typeName:"shape"},"shape:bgt1lyKEZhyHSEs_M2LGY":{x:89.09175609335989,y:8023.6423279395285,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:bgt1lyKEZhyHSEs_M2LGY",type:"note",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"a8z",props:{color:"light-green",size:"xl",text:"Sticky note",font:"draw",align:"start",verticalAlign:"end",growY:0,url:""},typeName:"shape"},"shape:yLLyULpv9npz3LkaB06B5":{x:303.31462522436277,y:7604.549881178025,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:yLLyULpv9npz3LkaB06B5",type:"note",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"a9S",props:{color:"light-red",size:"xl",text:"Sticky note",font:"draw",align:"middle",verticalAlign:"start",growY:0,url:""},typeName:"shape"},"shape:doBNMKxkygcuV97zErC-G":{x:303.31462522436277,y:7813.403435567038,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:doBNMKxkygcuV97zErC-G",type:"note",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"a9j",props:{color:"light-red",size:"xl",text:"Sticky note",font:"draw",align:"middle",verticalAlign:"middle",growY:0,url:""},typeName:"shape"},"shape:jwAfEXnooGCD8rq56Up8l":{x:303.31462522436277,y:8023.6423279395285,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:jwAfEXnooGCD8rq56Up8l",type:"note",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"a9z",props:{color:"light-red",size:"xl",text:"Sticky note",font:"draw",align:"middle",verticalAlign:"end",growY:0,url:""},typeName:"shape"},"shape:t6eRtjdirUdF57OR86MB6":{x:517.5374943553652,y:7604.549881178025,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:t6eRtjdirUdF57OR86MB6",type:"note",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aAt",props:{color:"red",size:"xl",text:"Sticky note",font:"draw",align:"end",verticalAlign:"start",growY:0,url:""},typeName:"shape"},"shape:0kdXpX9RoqxnZ5a_WKjrl":{x:517.5374943553652,y:7813.403435567038,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:0kdXpX9RoqxnZ5a_WKjrl",type:"note",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aBt",props:{color:"red",size:"xl",text:"Sticky note",font:"draw",align:"end",verticalAlign:"middle",growY:0,url:""},typeName:"shape"},"shape:rih8sUJ5RdLq3erx3V3cy":{x:517.5374943553652,y:8023.6423279395285,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:rih8sUJ5RdLq3erx3V3cy",type:"note",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aF",props:{color:"red",size:"xl",text:"Sticky note",font:"draw",align:"end",verticalAlign:"end",growY:0,url:""},typeName:"shape"},"shape:XYHwYMObc4GBNzeUkEPIm":{x:-259.0812996416322,y:1415.1839298200061,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:XYHwYMObc4GBNzeUkEPIm",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aGV",props:{dash:"draw",size:"s",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.06220257987061,y:92.54213910199667}}},typeName:"shape"},"shape:YZbcyoc6eVXgRqXmpyd7x":{x:-259.0812996416322,y:1428.272063943046,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:YZbcyoc6eVXgRqXmpyd7x",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHG",props:{dash:"draw",size:"s",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.25867110324572,y:68.89093276824845}}},typeName:"shape"},"shape:CT3GcujN92TvVvij28qoj":{x:-259.0812996416322,y:1434.7440241266677,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:CT3GcujN92TvVvij28qoj",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHl",props:{dash:"draw",size:"s",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:229.08509912361876,y:50.006204081018716}}},typeName:"shape"},"shape:0SweYa0DRsVCbxOi2E1CT":{x:-259.0812996416322,y:1422.8007706363828,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:0SweYa0DRsVCbxOi2E1CT",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aJ",props:{dash:"draw",size:"s",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.6332710878141,y:54.58592500103621}}},typeName:"shape"},"shape:kgYsiWwB4OCLyrHPRlaex":{x:290.69396489540804,y:1415.1839298200061,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:kgYsiWwB4OCLyrHPRlaex",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aGl",props:{dash:"draw",size:"s",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.06220257987061,y:92.54213910199667}}},typeName:"shape"},"shape:p84ZWa7fxpwU7bzQN-EZJ":{x:290.69396489540804,y:1428.272063943046,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:p84ZWa7fxpwU7bzQN-EZJ",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHO",props:{dash:"draw",size:"s",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.25867110324572,y:68.89093276824845}}},typeName:"shape"},"shape:H64ci4TCzpMhea1EqGKil":{x:290.69396489540804,y:1434.7440241266677,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:H64ci4TCzpMhea1EqGKil",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHt",props:{dash:"draw",size:"s",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:229.08509912361876,y:50.006204081018716}}},typeName:"shape"},"shape:RURApB6z-X6Oq9xKl95gB":{x:290.69396489540804,y:1422.8007706363828,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:RURApB6z-X6Oq9xKl95gB",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aK",props:{dash:"draw",size:"s",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.6332710878141,y:54.58592500103621}}},typeName:"shape"},"shape:BYpKYw_wdGF4ZFGrOKbLN":{x:823.6985627854997,y:1460.028085528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:BYpKYw_wdGF4ZFGrOKbLN",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aL",typeName:"shape"},"shape:ZxXu3NiB0PiYYCz-za2VO":{x:912.8193315569235,y:1460.028085528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ZxXu3NiB0PiYYCz-za2VO",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aM",typeName:"shape"},"shape:OzAtgAddOWowkpoaDLIrf":{x:1001.9401003283474,y:1460.028085528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:OzAtgAddOWowkpoaDLIrf",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aN",typeName:"shape"},"shape:LDo0u1PDMsgiCF8gxycR4":{x:1091.0608690997713,y:1460.028085528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:LDo0u1PDMsgiCF8gxycR4",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aO",typeName:"shape"},"shape:gFuDFYVxJ44FnVm3vfjli":{x:823.6985627854997,y:1528.1976019957335,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:gFuDFYVxJ44FnVm3vfjli",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"ellipse",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLV",typeName:"shape"},"shape:e3o6Hn4SI6_QbjqKIR_uK":{x:912.8193315569235,y:1528.1976019957335,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:e3o6Hn4SI6_QbjqKIR_uK",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"ellipse",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMV",typeName:"shape"},"shape:XAKnXzlIjbZ9OJ89cLtKt":{x:1001.9401003283474,y:1528.1976019957335,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:XAKnXzlIjbZ9OJ89cLtKt",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"ellipse",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNV",typeName:"shape"},"shape:Er1KUbOqGKmxKmDvfkUy9":{x:1091.0608690997713,y:1528.1976019957335,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Er1KUbOqGKmxKmDvfkUy9",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"ellipse",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aP",typeName:"shape"},"shape:5yqSo2aF6YQoUpzMbCtmI":{x:823.6985627854997,y:1599.6764292733824,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:5yqSo2aF6YQoUpzMbCtmI",type:"geo",props:{w:64.60315211307564,h:48.96301770717472,geo:"cloud",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLl",typeName:"shape"},"shape:_9u-7i3pSrNFQpjMvgxnK":{x:912.8193315569235,y:1599.6764292733824,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:_9u-7i3pSrNFQpjMvgxnK",type:"geo",props:{w:63.360892260497934,h:49.195177683622035,geo:"cloud",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMl",typeName:"shape"},"shape:Lw3XxAeVoKWWIuN41bNO5":{x:1001.9401003283474,y:1599.6764292733824,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Lw3XxAeVoKWWIuN41bNO5",type:"geo",props:{w:66.87337465809267,h:48.97377021353676,geo:"cloud",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNl",typeName:"shape"},"shape:86ciiHNEAXWTfs4sI90EO":{x:1091.0608690997713,y:1599.6764292733824,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:86ciiHNEAXWTfs4sI90EO",type:"geo",props:{w:63.49092845281507,h:49.70805530562984,geo:"cloud",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aQ",typeName:"shape"},"shape:Qpm0UTzjK2PIkUHYsi2Oe":{x:823.6985627854997,y:1670.7265893476233,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Qpm0UTzjK2PIkUHYsi2Oe",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"triangle",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLt",typeName:"shape"},"shape:lutVFtOQ45zqqANxN1hiC":{x:912.8193315569235,y:1670.7265893476233,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:lutVFtOQ45zqqANxN1hiC",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"triangle",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMt",typeName:"shape"},"shape:KTUJa0PJFFMVyu1nOovLu":{x:1001.9401003283474,y:1670.7265893476233,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:KTUJa0PJFFMVyu1nOovLu",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"triangle",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNt",typeName:"shape"},"shape:nJIGf0tfWnHa-owYw2fRU":{x:1091.0608690997713,y:1670.7265893476233,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:nJIGf0tfWnHa-owYw2fRU",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"triangle",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aR",typeName:"shape"},"shape:3-wg1Br2LxCNMSJJ02tSq":{x:823.6985627854997,y:1734.9980920453017,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:3-wg1Br2LxCNMSJJ02tSq",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"diamond",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLx",typeName:"shape"},"shape:R3RhaTZNFyQzu4jf7Jvvt":{x:912.8193315569235,y:1734.9980920453017,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:R3RhaTZNFyQzu4jf7Jvvt",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"diamond",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMx",typeName:"shape"},"shape:rhdHcIgGglkF7nlHB-rhE":{x:1001.9401003283474,y:1734.9980920453017,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:rhdHcIgGglkF7nlHB-rhE",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"diamond",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNx",typeName:"shape"},"shape:e9LV-mNHaAYsyH1QJIb8-":{x:1091.0608690997713,y:1734.9980920453017,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:e9LV-mNHaAYsyH1QJIb8-",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"diamond",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aS",typeName:"shape"},"shape:tYT10zYg7tmVG0LlZPHrH":{x:823.6985627854997,y:1800.675623170159,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:tYT10zYg7tmVG0LlZPHrH",type:"geo",props:{w:70.54441039901512,h:45.97415461845719,geo:"pentagon",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLz",typeName:"shape"},"shape:2qfJEHxMioLhHR_D9kJ-V":{x:912.8193315569235,y:1800.675623170159,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:2qfJEHxMioLhHR_D9kJ-V",type:"geo",props:{w:70.54441039901512,h:45.97415461845719,geo:"pentagon",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMz",typeName:"shape"},"shape:s46l-S7TZu7LaM4kfTNdv":{x:1001.9401003283474,y:1800.675623170159,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:s46l-S7TZu7LaM4kfTNdv",type:"geo",props:{w:70.54441039901512,h:45.97415461845719,geo:"pentagon",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNz",typeName:"shape"},"shape:AeoWQNTktqBRVnKjjGWzf":{x:1091.0608690997713,y:1800.675623170159,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:AeoWQNTktqBRVnKjjGWzf",type:"geo",props:{w:70.54441039901512,h:45.97415461845719,geo:"pentagon",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aT",typeName:"shape"},"shape:4jF89wMBcCC4SEsFMYBnw":{x:823.6985627854997,y:1868.2450055527247,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:4jF89wMBcCC4SEsFMYBnw",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"octagon",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzV",typeName:"shape"},"shape:OAbt17v6BJp9Wy7K5XNEw":{x:912.8193315569235,y:1868.2450055527247,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:OAbt17v6BJp9Wy7K5XNEw",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"octagon",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzV",typeName:"shape"},"shape:i8WBghktMV3E7muMq2BMa":{x:1001.9401003283474,y:1868.2450055527247,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:i8WBghktMV3E7muMq2BMa",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"octagon",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzV",typeName:"shape"},"shape:5X_0oyFgn-0xdbVzf9dQL":{x:1091.0608690997713,y:1868.2450055527247,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:5X_0oyFgn-0xdbVzf9dQL",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"octagon",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aU",typeName:"shape"},"shape:Bw_mCrIjnSYkWeNEaVLOa":{x:823.6985627854997,y:1948.034261013782,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Bw_mCrIjnSYkWeNEaVLOa",type:"geo",props:{w:73.99709959984733,h:50.3642957335091,geo:"star",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzl",typeName:"shape"},"shape:6uXqMQgPTcJOkVqq80Fy5":{x:912.8193315569235,y:1948.034261013782,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:6uXqMQgPTcJOkVqq80Fy5",type:"geo",props:{w:73.99709959984733,h:50.3642957335091,geo:"star",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzl",typeName:"shape"},"shape:i4-F9C_rXM9w73Cb7t5Yf":{x:1001.9401003283474,y:1948.034261013782,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:i4-F9C_rXM9w73Cb7t5Yf",type:"geo",props:{w:73.99709959984733,h:50.3642957335091,geo:"star",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzl",typeName:"shape"},"shape:NODIGBp7sItyIclTVs2MX":{x:1091.0608690997713,y:1948.034261013782,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:NODIGBp7sItyIclTVs2MX",type:"geo",props:{w:73.99709959984733,h:50.3642957335091,geo:"star",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aV",typeName:"shape"},"shape:naaKpT_x8CNRfknhuEHrN":{x:823.6985627854997,y:2034.1230369035825,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:naaKpT_x8CNRfknhuEHrN",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rhombus",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzt",typeName:"shape"},"shape:PFfcfu0J0WJnVI4gaDCzp":{x:912.8193315569235,y:2034.1230369035825,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:PFfcfu0J0WJnVI4gaDCzp",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rhombus",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzt",typeName:"shape"},"shape:sSoa5eu21LrlE5OHyh3CJ":{x:1001.9401003283474,y:2034.1230369035825,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:sSoa5eu21LrlE5OHyh3CJ",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rhombus",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzt",typeName:"shape"},"shape:hckqOoB31RLqlCGwK1N3W":{x:1091.0608690997713,y:2034.1230369035825,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:hckqOoB31RLqlCGwK1N3W",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rhombus",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aW",typeName:"shape"},"shape:gHhgq4dbeRbzYxpd9Q8pw":{x:823.6985627854997,y:2116.1813707613474,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:gHhgq4dbeRbzYxpd9Q8pw",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rhombus-2",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzx",typeName:"shape"},"shape:eOvFnOp60bE_zLVtHkaEi":{x:912.8193315569235,y:2116.1813707613474,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:eOvFnOp60bE_zLVtHkaEi",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rhombus-2",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzx",typeName:"shape"},"shape:F42WcYz3JA3SvvphoqBPu":{x:1001.9401003283474,y:2116.1813707613474,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:F42WcYz3JA3SvvphoqBPu",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rhombus-2",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzx",typeName:"shape"},"shape:X3Hi7PRM9xLAsB0k39X54":{x:1091.0608690997713,y:2116.1813707613474,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:X3Hi7PRM9xLAsB0k39X54",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rhombus-2",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aX",typeName:"shape"},"shape:urv5_Al5-8pSyytBTSdwb":{x:823.6985627854997,y:2204.772592799054,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:urv5_Al5-8pSyytBTSdwb",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"oval",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzz",typeName:"shape"},"shape:uObXPxkdJK8N_INULJvqE":{x:912.8193315569235,y:2204.772592799054,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:uObXPxkdJK8N_INULJvqE",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"oval",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzz",typeName:"shape"},"shape:RsyjF7JSpd3LecEB8LFeB":{x:1001.9401003283474,y:2204.772592799054,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:RsyjF7JSpd3LecEB8LFeB",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"oval",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzz",typeName:"shape"},"shape:IXPN77UQF3QsM2FDGzVDZ":{x:1091.0608690997713,y:2204.772592799054,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:IXPN77UQF3QsM2FDGzVDZ",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"oval",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aY",typeName:"shape"},"shape:tNEsjnyrNkj2v7P7WYpd7":{x:823.6985627854997,y:2282.8186016329173,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:tNEsjnyrNkj2v7P7WYpd7",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"trapezoid",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzzV",typeName:"shape"},"shape:LCh3auqSs9OMybGRZtXxc":{x:912.8193315569235,y:2282.8186016329173,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:LCh3auqSs9OMybGRZtXxc",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"trapezoid",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzzV",typeName:"shape"},"shape:3akbwGbXnwNwvodsNAsdx":{x:1001.9401003283474,y:2282.8186016329173,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:3akbwGbXnwNwvodsNAsdx",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"trapezoid",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzzV",typeName:"shape"},"shape:xlG3fbMLnBRCeWcVJLM7K":{x:1091.0608690997713,y:2282.8186016329173,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:xlG3fbMLnBRCeWcVJLM7K",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"trapezoid",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aZ",typeName:"shape"},"shape:jm7qjuxxJXMC0szVGXGLC":{x:823.6985627854997,y:2357.2066503310307,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:jm7qjuxxJXMC0szVGXGLC",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-right",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzzl",typeName:"shape"},"shape:NPR5axf5kknV3z_4qZF3I":{x:912.8193315569235,y:2357.2066503310307,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:NPR5axf5kknV3z_4qZF3I",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-right",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzzl",typeName:"shape"},"shape:M9-eiXU3DWX7z5MzTqsxf":{x:1001.9401003283474,y:2357.2066503310307,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:M9-eiXU3DWX7z5MzTqsxf",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-right",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzzl",typeName:"shape"},"shape:5WsB9gJoFgwM3f_9Kh8Jb":{x:1091.0608690997713,y:2357.2066503310307,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:5WsB9gJoFgwM3f_9Kh8Jb",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-right",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aa",typeName:"shape"},"shape:lLMYqCEPtX59eqPK5XS0o":{x:823.6985627854997,y:2425.1475442898836,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:lLMYqCEPtX59eqPK5XS0o",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-left",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzzt",typeName:"shape"},"shape:wkJRUp6MByo-e1FOt3FYT":{x:912.8193315569235,y:2425.1475442898836,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:wkJRUp6MByo-e1FOt3FYT",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-left",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzzt",typeName:"shape"},"shape:WZXEyEv2Px0qRae0nfH4z":{x:1001.9401003283474,y:2425.1475442898836,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:WZXEyEv2Px0qRae0nfH4z",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-left",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzzt",typeName:"shape"},"shape:ERktfGMKZ99SrSSRKxLBo":{x:1091.0608690997713,y:2425.1475442898836,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ERktfGMKZ99SrSSRKxLBo",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-left",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"ab",typeName:"shape"},"shape:-QJKz5re6OCkh3IGIYBd8":{x:823.6985627854997,y:2495.4889745878227,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:-QJKz5re6OCkh3IGIYBd8",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-up",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzzx",typeName:"shape"},"shape:Ver_5mCE0q2x4ddFCLkiQ":{x:912.8193315569235,y:2495.4889745878227,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Ver_5mCE0q2x4ddFCLkiQ",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-up",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzzx",typeName:"shape"},"shape:gkCwf-QX4yBBH4gFHvBu8":{x:1001.9401003283474,y:2495.4889745878227,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:gkCwf-QX4yBBH4gFHvBu8",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-up",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzzx",typeName:"shape"},"shape:IRUNLqwJJImk2TqXzk0Ci":{x:1091.0608690997713,y:2495.4889745878227,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:IRUNLqwJJImk2TqXzk0Ci",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-up",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"ac",typeName:"shape"},"shape:SAFffahXJMFAkgnai654g":{x:823.6985627854997,y:2567.5507892621063,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:SAFffahXJMFAkgnai654g",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-down",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzzz",typeName:"shape"},"shape:mI9GX_tadBui5MKh6pjV7":{x:912.8193315569235,y:2567.5507892621063,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:mI9GX_tadBui5MKh6pjV7",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-down",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzzz",typeName:"shape"},"shape:nGUnQPXCf5ZKvNAoNRgJ1":{x:1001.9401003283474,y:2567.5507892621063,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:nGUnQPXCf5ZKvNAoNRgJ1",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-down",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzzz",typeName:"shape"},"shape:pjmikwygQvTyPmNb0KQns":{x:1091.0608690997713,y:2567.5507892621063,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:pjmikwygQvTyPmNb0KQns",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-down",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"ad",typeName:"shape"},"shape:6e-hwHJaa2i-kJZ5o-Vcy":{x:823.6985627854997,y:2637.989384126151,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:6e-hwHJaa2i-kJZ5o-Vcy",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"x-box",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzzzV",typeName:"shape"},"shape:MSPSpgPWuucj-kmFiqw8_":{x:912.8193315569235,y:2637.989384126151,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:MSPSpgPWuucj-kmFiqw8_",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"x-box",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzzzV",typeName:"shape"},"shape:CTrzl5W0-5Sm4v2qU7vNZ":{x:1001.9401003283474,y:2637.989384126151,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:CTrzl5W0-5Sm4v2qU7vNZ",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"x-box",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzzzV",typeName:"shape"},"shape:del80gloLFmnJwxWejbA0":{x:1091.0608690997713,y:2637.989384126151,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:del80gloLFmnJwxWejbA0",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"x-box",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"ae",typeName:"shape"},"shape:PIjb_uR3o4-nLgSEaU-7Y":{x:823.6985627854997,y:2717.6643283329663,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:PIjb_uR3o4-nLgSEaU-7Y",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"check-box",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzzzl",typeName:"shape"},"shape:icahIIqiD9ZEYszIsqdpm":{x:912.8193315569235,y:2717.6643283329663,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:icahIIqiD9ZEYszIsqdpm",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"check-box",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzzzl",typeName:"shape"},"shape:lvS61blTMwxmElcnnQmi3":{x:1001.9401003283474,y:2717.6643283329663,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:lvS61blTMwxmElcnnQmi3",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"check-box",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzzzl",typeName:"shape"},"shape:y6dmCO4q0kfiQbxF4Splx":{x:1091.0608690997713,y:2717.6643283329663,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:y6dmCO4q0kfiQbxF4Splx",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"check-box",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"af",typeName:"shape"},"shape:1oXkJZTXBu6k68qLzQ78c":{x:1196.4032148861895,y:1460.028085528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:1oXkJZTXBu6k68qLzQ78c",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLG",typeName:"shape"},"shape:FZkVUJdt8keiW_OLaJxfU":{x:1196.4032148861895,y:1528.1976019957335,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:FZkVUJdt8keiW_OLaJxfU",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"ellipse",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLd",typeName:"shape"},"shape:SxDaJBrawTiN4g_utJW7f":{x:1196.4032148861895,y:1599.6764292733824,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:SxDaJBrawTiN4g_utJW7f",type:"geo",props:{w:67.3168793579456,h:49.19954602239783,geo:"cloud",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLp",typeName:"shape"},"shape:mAqnC7yT6bvM2mnvJENjs":{x:1196.4032148861895,y:1670.7265893476233,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:mAqnC7yT6bvM2mnvJENjs",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"triangle",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLv",typeName:"shape"},"shape:cBZQe0jhdpW9Uf4u2-Fcp":{x:1196.4032148861895,y:1734.9980920453017,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:cBZQe0jhdpW9Uf4u2-Fcp",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"diamond",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLy",typeName:"shape"},"shape:GX6I3zpEo442rrz9DVqPd":{x:1196.4032148861895,y:1800.675623170159,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:GX6I3zpEo442rrz9DVqPd",type:"geo",props:{w:70.54441039901512,h:45.97415461845719,geo:"pentagon",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzG",typeName:"shape"},"shape:uEhVmgmzl9Wmdk9mJUkUi":{x:1196.4032148861895,y:1868.2450055527247,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:uEhVmgmzl9Wmdk9mJUkUi",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"octagon",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzd",typeName:"shape"},"shape:ah_aAe_6qOOv4U4bRZt4_":{x:1196.4032148861895,y:1948.034261013782,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ah_aAe_6qOOv4U4bRZt4_",type:"geo",props:{w:73.99709959984733,h:50.3642957335091,geo:"star",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzp",typeName:"shape"},"shape:MxYRNGLBf-sooqq3VlOhe":{x:1196.4032148861895,y:2034.1230369035825,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:MxYRNGLBf-sooqq3VlOhe",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rhombus",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzv",typeName:"shape"},"shape:OYm-xIXhdPiVaJmeSTW-K":{x:1196.4032148861895,y:2116.1813707613474,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:OYm-xIXhdPiVaJmeSTW-K",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rhombus-2",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzy",typeName:"shape"},"shape:5m-jWfRoCOddUaecKP1U6":{x:1196.4032148861895,y:2204.772592799054,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:5m-jWfRoCOddUaecKP1U6",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"oval",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzzG",typeName:"shape"},"shape:2cwtrCTsxVRYsnRQQX8d0":{x:1196.4032148861895,y:2282.8186016329173,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:2cwtrCTsxVRYsnRQQX8d0",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"trapezoid",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzzd",typeName:"shape"},"shape:CYdKc2Nk8VuXh8WafQuGZ":{x:1196.4032148861895,y:2357.2066503310307,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:CYdKc2Nk8VuXh8WafQuGZ",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-right",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzzp",typeName:"shape"},"shape:4y-eOtOlige-PqHB-lUVU":{x:1196.4032148861895,y:2425.1475442898836,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:4y-eOtOlige-PqHB-lUVU",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-left",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzzv",typeName:"shape"},"shape:E0TZXUk-Bf1HCm5pTUesF":{x:1196.4032148861895,y:2495.4889745878227,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:E0TZXUk-Bf1HCm5pTUesF",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-up",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzzy",typeName:"shape"},"shape:341KK0o1C2fcjxxazD3m4":{x:1196.4032148861895,y:2567.5507892621063,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:341KK0o1C2fcjxxazD3m4",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-down",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzzzG",typeName:"shape"},"shape:LvyAxcJm29m01MXeuIE53":{x:1196.4032148861895,y:2637.989384126151,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:LvyAxcJm29m01MXeuIE53",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"x-box",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzzzd",typeName:"shape"},"shape:aQcXASbcLMVhegdC_h_OC":{x:1196.4032148861895,y:2717.6643283329663,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:aQcXASbcLMVhegdC_h_OC",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"check-box",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzzzt",typeName:"shape"},"shape:UE4MSA7UZyhH3PfZGPthk":{x:1285.5239836576134,y:1460.028085528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:UE4MSA7UZyhH3PfZGPthk",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMG",typeName:"shape"},"shape:PJGqz1Vt2iqU4kkH_qYL7":{x:1285.5239836576134,y:1528.1976019957335,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:PJGqz1Vt2iqU4kkH_qYL7",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"ellipse",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMd",typeName:"shape"},"shape:YqcfN6B5IT4Oe-wiaLEvz":{x:1285.5239836576134,y:1599.6764292733824,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:YqcfN6B5IT4Oe-wiaLEvz",type:"geo",props:{w:64.68249228556668,h:48.56478826797975,geo:"cloud",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMp",typeName:"shape"},"shape:aN26Nd3nONH6SunhTqtVI":{x:1285.5239836576134,y:1670.7265893476233,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:aN26Nd3nONH6SunhTqtVI",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"triangle",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMv",typeName:"shape"},"shape:ey8xUxT6ndTcT6siTiOyJ":{x:1285.5239836576134,y:1734.9980920453017,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ey8xUxT6ndTcT6siTiOyJ",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"diamond",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMy",typeName:"shape"},"shape:lwxhS7BegHmVbEQuhAZpj":{x:1285.5239836576134,y:1800.675623170159,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:lwxhS7BegHmVbEQuhAZpj",type:"geo",props:{w:70.54441039901512,h:45.97415461845719,geo:"pentagon",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzG",typeName:"shape"},"shape:ehJ91CqRM1kJmDP3GGkOQ":{x:1285.5239836576134,y:1868.2450055527247,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ehJ91CqRM1kJmDP3GGkOQ",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"octagon",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzd",typeName:"shape"},"shape:PKoPjMRH18z6bRgBMhHZ0":{x:1285.5239836576134,y:1948.034261013782,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:PKoPjMRH18z6bRgBMhHZ0",type:"geo",props:{w:73.99709959984733,h:50.3642957335091,geo:"star",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzp",typeName:"shape"},"shape:A1ZoC5j2vo5prTSR5Fjq7":{x:1285.5239836576134,y:2034.1230369035825,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:A1ZoC5j2vo5prTSR5Fjq7",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rhombus",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzv",typeName:"shape"},"shape:CgOTKWLte2HPzk5Z1tuXX":{x:1285.5239836576134,y:2116.1813707613474,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:CgOTKWLte2HPzk5Z1tuXX",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rhombus-2",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzy",typeName:"shape"},"shape:DlBaPkhcuZtLGkD4mBKKb":{x:1285.5239836576134,y:2204.772592799054,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:DlBaPkhcuZtLGkD4mBKKb",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"oval",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzzG",typeName:"shape"},"shape:xBKqHebyl3rmZ84eLFiVM":{x:1285.5239836576134,y:2282.8186016329173,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:xBKqHebyl3rmZ84eLFiVM",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"trapezoid",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzzd",typeName:"shape"},"shape:STAsbdMhQZZ46l00_GfJk":{x:1285.5239836576134,y:2357.2066503310307,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:STAsbdMhQZZ46l00_GfJk",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-right",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzzp",typeName:"shape"},"shape:1uIcYIKqJX7rpqnwE-IAO":{x:1285.5239836576134,y:2425.1475442898836,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:1uIcYIKqJX7rpqnwE-IAO",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-left",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzzv",typeName:"shape"},"shape:SI5cE5bcTGgdrkENBIXIp":{x:1285.5239836576134,y:2495.4889745878227,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:SI5cE5bcTGgdrkENBIXIp",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-up",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzzy",typeName:"shape"},"shape:XCnEXHx5ZCDYY36z1mAKn":{x:1285.5239836576134,y:2567.5507892621063,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:XCnEXHx5ZCDYY36z1mAKn",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-down",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzzzG",typeName:"shape"},"shape:gA59cWPIhaxfYgVSZEpI2":{x:1285.5239836576134,y:2637.989384126151,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:gA59cWPIhaxfYgVSZEpI2",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"x-box",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzzzd",typeName:"shape"},"shape:xgp1w6StuF2IF8a7KudGD":{x:1285.5239836576134,y:2717.6643283329663,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:xgp1w6StuF2IF8a7KudGD",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"check-box",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzzzt",typeName:"shape"},"shape:KFQ90Ee9KzwttHBr6Zz3e":{x:1374.6447524290375,y:1460.028085528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:KFQ90Ee9KzwttHBr6Zz3e",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNG",typeName:"shape"},"shape:-MZFlBbxkIqit-CkqJCbO":{x:1374.6447524290375,y:1528.1976019957335,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:-MZFlBbxkIqit-CkqJCbO",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"ellipse",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNd",typeName:"shape"},"shape:277yra8wJLpHxt4YD4Om7":{x:1374.6447524290375,y:1599.6764292733824,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:277yra8wJLpHxt4YD4Om7",type:"geo",props:{w:65.3245382384166,h:49.504203150109475,geo:"cloud",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNp",typeName:"shape"},"shape:rR_aJMTx4VY7hW1lPjJfj":{x:1374.6447524290375,y:1670.7265893476233,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:rR_aJMTx4VY7hW1lPjJfj",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"triangle",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNv",typeName:"shape"},"shape:yOy8ClYZQXmgIWGNzmLsc":{x:1374.6447524290375,y:1734.9980920453017,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:yOy8ClYZQXmgIWGNzmLsc",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"diamond",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNy",typeName:"shape"},"shape:lKFCbMpJA8TBcgFGRvFck":{x:1374.6447524290375,y:1800.675623170159,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:lKFCbMpJA8TBcgFGRvFck",type:"geo",props:{w:70.54441039901512,h:45.97415461845719,geo:"pentagon",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzG",typeName:"shape"},"shape:zY1nzV7uRkb6bGiebFdr2":{x:1374.6447524290375,y:1868.2450055527247,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:zY1nzV7uRkb6bGiebFdr2",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"octagon",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzd",typeName:"shape"},"shape:_gJQ5_ee9f4cCnvsuxZlI":{x:1374.6447524290375,y:1948.034261013782,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:_gJQ5_ee9f4cCnvsuxZlI",type:"geo",props:{w:73.99709959984733,h:50.3642957335091,geo:"star",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzp",typeName:"shape"},"shape:YVL9imFCMQBQmi0hqnHMX":{x:1374.6447524290375,y:2034.1230369035825,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:YVL9imFCMQBQmi0hqnHMX",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rhombus",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzv",typeName:"shape"},"shape:w1ONN_7Pg8O8cbjm2fJvX":{x:1374.6447524290375,y:2116.1813707613474,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:w1ONN_7Pg8O8cbjm2fJvX",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rhombus-2",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzy",typeName:"shape"},"shape:MIs7fuLYb-01zMrlxme2o":{x:1374.6447524290375,y:2204.772592799054,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:MIs7fuLYb-01zMrlxme2o",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"oval",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzzG",typeName:"shape"},"shape:xg7e1pP7SF9w64raAO9CG":{x:1374.6447524290375,y:2282.8186016329173,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:xg7e1pP7SF9w64raAO9CG",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"trapezoid",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzzd",typeName:"shape"},"shape:c3Pa71ISn5Z_eDHTVsv8i":{x:1374.6447524290375,y:2357.2066503310307,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:c3Pa71ISn5Z_eDHTVsv8i",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-right",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzzp",typeName:"shape"},"shape:JXCi81N4Wh_0NGg1CRWEk":{x:1374.6447524290375,y:2425.1475442898836,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:JXCi81N4Wh_0NGg1CRWEk",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-left",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzzv",typeName:"shape"},"shape:crRC5tbyjf4jdTxprFjBj":{x:1374.6447524290375,y:2495.4889745878227,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:crRC5tbyjf4jdTxprFjBj",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-up",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzzy",typeName:"shape"},"shape:5-h1aQEN5eTGaa1GqIprC":{x:1374.6447524290375,y:2567.5507892621063,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:5-h1aQEN5eTGaa1GqIprC",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-down",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzzzG",typeName:"shape"},"shape:9sCl0jqCVDzyW9IfBBc0t":{x:1374.6447524290375,y:2637.989384126151,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:9sCl0jqCVDzyW9IfBBc0t",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"x-box",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzzzd",typeName:"shape"},"shape:V9cH8uW4JB3TesjeoJkH1":{x:1374.6447524290375,y:2717.6643283329663,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:V9cH8uW4JB3TesjeoJkH1",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"check-box",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzzzt",typeName:"shape"},"shape:jhSKufM533fTtf0Vj0dFN":{x:1463.765521200461,y:1460.028085528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:jhSKufM533fTtf0Vj0dFN",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOV",typeName:"shape"},"shape:bqmLwnUaaBjGpuNjCIobW":{x:1463.765521200461,y:1528.1976019957335,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:bqmLwnUaaBjGpuNjCIobW",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"ellipse",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aPV",typeName:"shape"},"shape:2gUhec7QbRL4BgPY3TN6l":{x:1463.765521200461,y:1599.6764292733824,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:2gUhec7QbRL4BgPY3TN6l",type:"geo",props:{w:65.47184270113989,h:49.024036721840154,geo:"cloud",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aQV",typeName:"shape"},"shape:FohledeFDn3DNO7XJliJP":{x:1463.765521200461,y:1670.7265893476233,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:FohledeFDn3DNO7XJliJP",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"triangle",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aRV",typeName:"shape"},"shape:19w7nFCvX6I-BGi4atfgZ":{x:1463.765521200461,y:1734.9980920453017,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:19w7nFCvX6I-BGi4atfgZ",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"diamond",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aSV",typeName:"shape"},"shape:_E2A8_Kl8WIgar6CUL2WM":{x:1463.765521200461,y:1800.675623170159,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:_E2A8_Kl8WIgar6CUL2WM",type:"geo",props:{w:70.54441039901512,h:45.97415461845719,geo:"pentagon",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aTV",typeName:"shape"},"shape:HsF0U9HP2d90OO77QwESt":{x:1463.765521200461,y:1868.2450055527247,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:HsF0U9HP2d90OO77QwESt",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"octagon",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aUV",typeName:"shape"},"shape:YRksXusA2vqBlaOQ6K5bh":{x:1463.765521200461,y:1948.034261013782,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:YRksXusA2vqBlaOQ6K5bh",type:"geo",props:{w:73.99709959984733,h:50.3642957335091,geo:"star",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aVV",typeName:"shape"},"shape:x7apFQYRcGnfrhAqKZqsP":{x:1463.765521200461,y:2034.1230369035825,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:x7apFQYRcGnfrhAqKZqsP",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rhombus",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aWV",typeName:"shape"},"shape:sHCjdKnaKmNl3FvfFz1KT":{x:1463.765521200461,y:2116.1813707613474,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:sHCjdKnaKmNl3FvfFz1KT",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rhombus-2",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aXV",typeName:"shape"},"shape:h56_UR95jl1_etngN18S5":{x:1463.765521200461,y:2204.772592799054,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:h56_UR95jl1_etngN18S5",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"oval",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aYV",typeName:"shape"},"shape:yaYT8WE2cFoCtuUOEbzeM":{x:1463.765521200461,y:2282.8186016329173,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:yaYT8WE2cFoCtuUOEbzeM",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"trapezoid",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aZV",typeName:"shape"},"shape:RJZp-6r5uLfKm4AZAiLDj":{x:1463.765521200461,y:2357.2066503310307,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:RJZp-6r5uLfKm4AZAiLDj",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-right",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aaV",typeName:"shape"},"shape:aAlTUiq7vHJ_qZyjJ6KxP":{x:1463.765521200461,y:2425.1475442898836,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:aAlTUiq7vHJ_qZyjJ6KxP",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-left",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"abV",typeName:"shape"},"shape:FFQTHIKrcKTM6fx8EvnoF":{x:1463.765521200461,y:2495.4889745878227,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:FFQTHIKrcKTM6fx8EvnoF",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-up",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"acV",typeName:"shape"},"shape:HDI4Lz225PgnK9mlDH4ED":{x:1463.765521200461,y:2567.5507892621063,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:HDI4Lz225PgnK9mlDH4ED",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-down",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"adV",typeName:"shape"},"shape:mVXX1ml29irr2GMIj_4q0":{x:1463.765521200461,y:2637.989384126151,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:mVXX1ml29irr2GMIj_4q0",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"x-box",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aeV",typeName:"shape"},"shape:KYgp4XTV57mdLccSMFyP5":{x:1463.765521200461,y:2717.6643283329663,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:KYgp4XTV57mdLccSMFyP5",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"check-box",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"ag",typeName:"shape"},"shape:R9bE1rM_WGSYveeEjAzB9":{x:1560.3144357716753,y:1460.028085528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:R9bE1rM_WGSYveeEjAzB9",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLO",typeName:"shape"},"shape:pes9dnU4b2ll98TCnzyiU":{x:1560.3144357716753,y:1528.1976019957335,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:pes9dnU4b2ll98TCnzyiU",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"ellipse",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLh",typeName:"shape"},"shape:M3BPFaH9HdBtx29DsyfkR":{x:1560.3144357716753,y:1599.6764292733824,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:M3BPFaH9HdBtx29DsyfkR",type:"geo",props:{w:65.2476608600241,h:48.87909787377132,geo:"cloud",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLr",typeName:"shape"},"shape:xpH1phcJHxX6ZKQ3zprr4":{x:1560.3144357716753,y:1670.7265893476233,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:xpH1phcJHxX6ZKQ3zprr4",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"triangle",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLw",typeName:"shape"},"shape:uOtEWORaAgXlJpXmtVGBx":{x:1560.3144357716753,y:1734.9980920453017,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:uOtEWORaAgXlJpXmtVGBx",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"diamond",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLyV",typeName:"shape"},"shape:nmDg4kN4VZPb3gIjcyv2c":{x:1560.3144357716753,y:1800.675623170159,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:nmDg4kN4VZPb3gIjcyv2c",type:"geo",props:{w:70.54441039901512,h:45.97415461845719,geo:"pentagon",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzO",typeName:"shape"},"shape:QUIdqIvQ0yYjo8i4piNic":{x:1560.3144357716753,y:1868.2450055527247,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:QUIdqIvQ0yYjo8i4piNic",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"octagon",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzh",typeName:"shape"},"shape:R_Q5tbabJ0XVCWuakwweo":{x:1560.3144357716753,y:1948.034261013782,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:R_Q5tbabJ0XVCWuakwweo",type:"geo",props:{w:73.99709959984733,h:50.3642957335091,geo:"star",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzr",typeName:"shape"},"shape:HhmxadNG8XyntX139TTnS":{x:1560.3144357716753,y:2034.1230369035825,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:HhmxadNG8XyntX139TTnS",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rhombus",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzw",typeName:"shape"},"shape:posotZsotVBVPCQmBwkxh":{x:1560.3144357716753,y:2116.1813707613474,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:posotZsotVBVPCQmBwkxh",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rhombus-2",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzyV",typeName:"shape"},"shape:Hol50ZRVzcjg8TO3rNzSr":{x:1560.3144357716753,y:2204.772592799054,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Hol50ZRVzcjg8TO3rNzSr",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"oval",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzzO",typeName:"shape"},"shape:mFHLdcE6fsxDZ9af_9NcH":{x:1560.3144357716753,y:2282.8186016329173,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:mFHLdcE6fsxDZ9af_9NcH",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"trapezoid",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzzh",typeName:"shape"},"shape:EudekAKXeq95pZ4bI_AGB":{x:1560.3144357716753,y:2357.2066503310307,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:EudekAKXeq95pZ4bI_AGB",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-right",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzzr",typeName:"shape"},"shape:vkpyMIrR35V_Bs35ek_yN":{x:1560.3144357716753,y:2425.1475442898836,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:vkpyMIrR35V_Bs35ek_yN",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-left",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzzw",typeName:"shape"},"shape:37kBnikj58zY53hLEPci9":{x:1560.3144357716753,y:2495.4889745878227,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:37kBnikj58zY53hLEPci9",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-up",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzzyV",typeName:"shape"},"shape:7DY-z3VW2A-o_awpfw18l":{x:1560.3144357716753,y:2567.5507892621063,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:7DY-z3VW2A-o_awpfw18l",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-down",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzzzO",typeName:"shape"},"shape:ucPapMRL27E05KNxYqNm3":{x:1560.3144357716753,y:2637.989384126151,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ucPapMRL27E05KNxYqNm3",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"x-box",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzzzh",typeName:"shape"},"shape:LgnV8mWoG4CpVdMtw9wP8":{x:1560.3144357716753,y:2717.6643283329663,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:LgnV8mWoG4CpVdMtw9wP8",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"check-box",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzzzx",typeName:"shape"},"shape:HJoCzqSWtSzkRhVzXe28w":{x:1649.4352045430992,y:1460.028085528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:HJoCzqSWtSzkRhVzXe28w",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMO",typeName:"shape"},"shape:Rkje867llqH__PBCz7twa":{x:1649.4352045430992,y:1528.1976019957335,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Rkje867llqH__PBCz7twa",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"ellipse",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMh",typeName:"shape"},"shape:90wHAwmkiCM2bH3uzoZfA":{x:1649.4352045430992,y:1599.6764292733824,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:90wHAwmkiCM2bH3uzoZfA",type:"geo",props:{w:65.51261552568276,h:49.754420611227125,geo:"cloud",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMr",typeName:"shape"},"shape:7fKYRvJZ-EUsXopoj1sZ7":{x:1649.4352045430992,y:1670.7265893476233,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:7fKYRvJZ-EUsXopoj1sZ7",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"triangle",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMw",typeName:"shape"},"shape:_WDUybr2fL2oT5rOK8x2Q":{x:1649.4352045430992,y:1734.9980920453017,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:_WDUybr2fL2oT5rOK8x2Q",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"diamond",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMyV",typeName:"shape"},"shape:MuUtW1ATPWX_KxLg1xVAJ":{x:1649.4352045430992,y:1800.675623170159,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:MuUtW1ATPWX_KxLg1xVAJ",type:"geo",props:{w:70.54441039901512,h:45.97415461845719,geo:"pentagon",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzO",typeName:"shape"},"shape:EUHUVWf5p_JPpukKlJQBb":{x:1649.4352045430992,y:1868.2450055527247,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:EUHUVWf5p_JPpukKlJQBb",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"octagon",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzh",typeName:"shape"},"shape:ZePu9RH5G4orkMStSnPpy":{x:1649.4352045430992,y:1948.034261013782,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ZePu9RH5G4orkMStSnPpy",type:"geo",props:{w:73.99709959984733,h:50.3642957335091,geo:"star",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzr",typeName:"shape"},"shape:-pVgiRoWU1q-TdarwWydN":{x:1649.4352045430992,y:2034.1230369035825,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:-pVgiRoWU1q-TdarwWydN",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rhombus",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzw",typeName:"shape"},"shape:Oi8N6NiO_CKao16Z-Fq-v":{x:1649.4352045430992,y:2116.1813707613474,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Oi8N6NiO_CKao16Z-Fq-v",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rhombus-2",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzyV",typeName:"shape"},"shape:jErR2z230TJ02ypz7BPDd":{x:1649.4352045430992,y:2204.772592799054,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:jErR2z230TJ02ypz7BPDd",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"oval",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzzO",typeName:"shape"},"shape:GK7T2DJx5yefiAx0bNjbc":{x:1649.4352045430992,y:2282.8186016329173,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:GK7T2DJx5yefiAx0bNjbc",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"trapezoid",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzzh",typeName:"shape"},"shape:yw4lk9zkBI4RjGVhi8X2K":{x:1649.4352045430992,y:2357.2066503310307,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:yw4lk9zkBI4RjGVhi8X2K",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-right",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzzr",typeName:"shape"},"shape:fVDWmlta7rpw_vNYDzzvg":{x:1649.4352045430992,y:2425.1475442898836,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:fVDWmlta7rpw_vNYDzzvg",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-left",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzzw",typeName:"shape"},"shape:cCCO2Q0uuOmMdEa4xzojx":{x:1649.4352045430992,y:2495.4889745878227,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:cCCO2Q0uuOmMdEa4xzojx",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-up",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzzyV",typeName:"shape"},"shape:FIz0r8sT8wb82tM3ATk1r":{x:1649.4352045430992,y:2567.5507892621063,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:FIz0r8sT8wb82tM3ATk1r",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-down",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzzzO",typeName:"shape"},"shape:QSlhmX5aGhyGwGDTC_4rR":{x:1649.4352045430992,y:2637.989384126151,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:QSlhmX5aGhyGwGDTC_4rR",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"x-box",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzzzh",typeName:"shape"},"shape:B2sBH4CQXsp0zXV6LKkhM":{x:1649.4352045430992,y:2717.6643283329663,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:B2sBH4CQXsp0zXV6LKkhM",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"check-box",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzzzx",typeName:"shape"},"shape:GIV2mSyyUaWV6TBk-CjPl":{x:1738.555973314523,y:1460.028085528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:GIV2mSyyUaWV6TBk-CjPl",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNO",typeName:"shape"},"shape:ohz3yz7ZvS2xQGrIuiOjo":{x:1738.555973314523,y:1528.1976019957335,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ohz3yz7ZvS2xQGrIuiOjo",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"ellipse",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNh",typeName:"shape"},"shape:WPfVw8p4hw5zPcOqqmoTZ":{x:1738.555973314523,y:1599.6764292733824,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:WPfVw8p4hw5zPcOqqmoTZ",type:"geo",props:{w:65.60494582773022,h:48.11251020627201,geo:"cloud",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNr",typeName:"shape"},"shape:X4SR28KtrgxlR9gCvmoMp":{x:1738.555973314523,y:1670.7265893476233,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:X4SR28KtrgxlR9gCvmoMp",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"triangle",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNw",typeName:"shape"},"shape:uGFwSbIOXQxJRRiUHcGiR":{x:1738.555973314523,y:1734.9980920453017,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:uGFwSbIOXQxJRRiUHcGiR",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"diamond",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNyV",typeName:"shape"},"shape:FlFjzeNbDVJr7CTMGJiyV":{x:1738.555973314523,y:1800.675623170159,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:FlFjzeNbDVJr7CTMGJiyV",type:"geo",props:{w:70.54441039901512,h:45.97415461845719,geo:"pentagon",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzO",typeName:"shape"},"shape:j-HE-0955lzqOeIE9lWci":{x:1738.555973314523,y:1868.2450055527247,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:j-HE-0955lzqOeIE9lWci",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"octagon",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzh",typeName:"shape"},"shape:j1hw0ey3rhMQ_h4bXrMhD":{x:1738.555973314523,y:1948.034261013782,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:j1hw0ey3rhMQ_h4bXrMhD",type:"geo",props:{w:73.99709959984733,h:50.3642957335091,geo:"star",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzr",typeName:"shape"},"shape:1FkwGPfb0Jma_GSuL4JE5":{x:1738.555973314523,y:2034.1230369035825,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:1FkwGPfb0Jma_GSuL4JE5",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rhombus",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzw",typeName:"shape"},"shape:_xQ6pBNs47pUord2BkzHE":{x:1738.555973314523,y:2116.1813707613474,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:_xQ6pBNs47pUord2BkzHE",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rhombus-2",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzyV",typeName:"shape"},"shape:9AHWfjdKYFw27C81rPzCB":{x:1738.555973314523,y:2204.772592799054,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:9AHWfjdKYFw27C81rPzCB",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"oval",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzzO",typeName:"shape"},"shape:jljAhIR1FZBMwzAju6Q9R":{x:1738.555973314523,y:2282.8186016329173,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:jljAhIR1FZBMwzAju6Q9R",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"trapezoid",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzzh",typeName:"shape"},"shape:Dy8mvy5KMThGxdhTLuYVp":{x:1738.555973314523,y:2357.2066503310307,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Dy8mvy5KMThGxdhTLuYVp",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-right",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzzr",typeName:"shape"},"shape:_d7AxiFDkzsObuCH8QtOC":{x:1738.555973314523,y:2425.1475442898836,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:_d7AxiFDkzsObuCH8QtOC",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-left",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzzw",typeName:"shape"},"shape:8mdQYk8Q7kiZ7ATYe_cKm":{x:1738.555973314523,y:2495.4889745878227,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:8mdQYk8Q7kiZ7ATYe_cKm",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-up",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzzyV",typeName:"shape"},"shape:CIw409pjhaQ2KW83-8TdF":{x:1738.555973314523,y:2567.5507892621063,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:CIw409pjhaQ2KW83-8TdF",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-down",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzzzO",typeName:"shape"},"shape:sT6ux29xMyhRYk7Xx0O02":{x:1738.555973314523,y:2637.989384126151,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:sT6ux29xMyhRYk7Xx0O02",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"x-box",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzzzh",typeName:"shape"},"shape:7iAn-16ktTfbYQtaKm6ga":{x:1738.555973314523,y:2717.6643283329663,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:7iAn-16ktTfbYQtaKm6ga",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"check-box",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzzzx",typeName:"shape"},"shape:vMCgw1sVJn0yxEoWaKD4T":{x:1827.676742085947,y:1460.028085528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:vMCgw1sVJn0yxEoWaKD4T",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOl",typeName:"shape"},"shape:88RZR0MsoQbdwZ6OvP0ih":{x:1827.676742085947,y:1528.1976019957335,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:88RZR0MsoQbdwZ6OvP0ih",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"ellipse",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aPl",typeName:"shape"},"shape:AYIzp3BzcOgqMEYvzT88_":{x:1827.676742085947,y:1599.6764292733824,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:AYIzp3BzcOgqMEYvzT88_",type:"geo",props:{w:66.27363332367243,h:48.83609110121798,geo:"cloud",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aQl",typeName:"shape"},"shape:xu7LB3HlIb_z8cpc7O-Qa":{x:1827.676742085947,y:1670.7265893476233,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:xu7LB3HlIb_z8cpc7O-Qa",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"triangle",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aRl",typeName:"shape"},"shape:w7cVquzNWtlWh6OIVH32b":{x:1827.676742085947,y:1734.9980920453017,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:w7cVquzNWtlWh6OIVH32b",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"diamond",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aSl",typeName:"shape"},"shape:qMBFjrxuA6qzQVriFu_9c":{x:1827.676742085947,y:1800.675623170159,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:qMBFjrxuA6qzQVriFu_9c",type:"geo",props:{w:70.54441039901512,h:45.97415461845719,geo:"pentagon",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aTl",typeName:"shape"},"shape:A1uSGyfrXCP5uevfNMnew":{x:1827.676742085947,y:1868.2450055527247,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:A1uSGyfrXCP5uevfNMnew",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"octagon",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aUl",typeName:"shape"},"shape:faJk_QFRTaCzB4KFZYt-M":{x:1827.676742085947,y:1948.034261013782,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:faJk_QFRTaCzB4KFZYt-M",type:"geo",props:{w:73.99709959984733,h:50.3642957335091,geo:"star",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aVl",typeName:"shape"},"shape:Lj8wJjGhoYtbmxboXATyi":{x:1827.676742085947,y:2034.1230369035825,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Lj8wJjGhoYtbmxboXATyi",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rhombus",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aWl",typeName:"shape"},"shape:gDxsUW1rNThFH2RXdIuE6":{x:1827.676742085947,y:2116.1813707613474,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:gDxsUW1rNThFH2RXdIuE6",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rhombus-2",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aXl",typeName:"shape"},"shape:MBVuMxZE2_QHYxb4_RGAX":{x:1827.676742085947,y:2204.772592799054,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:MBVuMxZE2_QHYxb4_RGAX",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"oval",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aYl",typeName:"shape"},"shape:x4yq83soa-4wFvx7mCxT2":{x:1827.676742085947,y:2282.8186016329173,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:x4yq83soa-4wFvx7mCxT2",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"trapezoid",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aZl",typeName:"shape"},"shape:N7mggkvmX1BvwooPcQmYe":{x:1827.676742085947,y:2357.2066503310307,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:N7mggkvmX1BvwooPcQmYe",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-right",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aal",typeName:"shape"},"shape:c7yrA_Yk_uE87qy4MBfrJ":{x:1827.676742085947,y:2425.1475442898836,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:c7yrA_Yk_uE87qy4MBfrJ",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-left",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"abl",typeName:"shape"},"shape:IQPUYIK8BISTuSAivXLzv":{x:1827.676742085947,y:2495.4889745878227,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:IQPUYIK8BISTuSAivXLzv",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-up",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"acl",typeName:"shape"},"shape:9qa8cS5Rju9fHbthwwEaa":{x:1827.676742085947,y:2567.5507892621063,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:9qa8cS5Rju9fHbthwwEaa",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-down",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"adl",typeName:"shape"},"shape:sKMX2OqtmzClS-ewc5rsk":{x:1827.676742085947,y:2637.989384126151,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:sKMX2OqtmzClS-ewc5rsk",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"x-box",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"ael",typeName:"shape"},"shape:tgQ4GIlfUur-e9Xjb6QIo":{x:1827.676742085947,y:2717.6643283329663,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:tgQ4GIlfUur-e9Xjb6QIo",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"check-box",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"ah",typeName:"shape"},"shape:vEDS0DlC98MnziETbJcM0":{x:1941.6515409417523,y:1460.028085528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:vEDS0DlC98MnziETbJcM0",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLS",typeName:"shape"},"shape:Mrfpn2AIaxgsmUPgExkpk":{x:1941.6515409417523,y:1528.1976019957335,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Mrfpn2AIaxgsmUPgExkpk",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"ellipse",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLj",typeName:"shape"},"shape:oaNI8l5fCJ7VyWkrmRB_t":{x:1941.6515409417523,y:1599.6764292733824,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:oaNI8l5fCJ7VyWkrmRB_t",type:"geo",props:{w:65.21877815751515,h:48.26234021273327,geo:"cloud",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLs",typeName:"shape"},"shape:JAXebc7TqQCzIxzu6-QIc":{x:1941.6515409417523,y:1670.7265893476233,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:JAXebc7TqQCzIxzu6-QIc",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"triangle",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLwV",typeName:"shape"},"shape:QLi-KN5nFWTnTWZ3D8uYS":{x:1941.6515409417523,y:1734.9980920453017,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:QLi-KN5nFWTnTWZ3D8uYS",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"diamond",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLyl",typeName:"shape"},"shape:HXXYWY6frShvHSzFPY0gS":{x:1941.6515409417523,y:1800.675623170159,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:HXXYWY6frShvHSzFPY0gS",type:"geo",props:{w:70.54441039901512,h:45.97415461845719,geo:"pentagon",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzS",typeName:"shape"},"shape:Q-SJw6ErwVv4p0krNJ0eY":{x:1941.6515409417523,y:1868.2450055527247,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Q-SJw6ErwVv4p0krNJ0eY",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"octagon",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzj",typeName:"shape"},"shape:7flK1hqwFCoKfSEvVC1QP":{x:1941.6515409417523,y:1948.034261013782,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:7flK1hqwFCoKfSEvVC1QP",type:"geo",props:{w:73.99709959984733,h:50.3642957335091,geo:"star",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzs",typeName:"shape"},"shape:zZIdVY79JUmRRz_Ok2U4I":{x:1941.6515409417523,y:2034.1230369035825,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:zZIdVY79JUmRRz_Ok2U4I",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rhombus",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzwV",typeName:"shape"},"shape:ljX9eD0uA4d3xaCW2nE4r":{x:1941.6515409417523,y:2116.1813707613474,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ljX9eD0uA4d3xaCW2nE4r",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rhombus-2",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzyl",typeName:"shape"},"shape:qbqG0AwM9zILCegQgtd7e":{x:1941.6515409417523,y:2204.772592799054,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:qbqG0AwM9zILCegQgtd7e",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"oval",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzzS",typeName:"shape"},"shape:K5d0qoiNq4wo1uTT8loMX":{x:1941.6515409417523,y:2282.8186016329173,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:K5d0qoiNq4wo1uTT8loMX",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"trapezoid",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzzj",typeName:"shape"},"shape:x5DDsYqq6b2XrAufM_bXD":{x:1941.6515409417523,y:2357.2066503310307,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:x5DDsYqq6b2XrAufM_bXD",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-right",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzzs",typeName:"shape"},"shape:6l2VtIXLl47xLsm16jqJK":{x:1941.6515409417523,y:2425.1475442898836,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:6l2VtIXLl47xLsm16jqJK",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-left",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzzwV",typeName:"shape"},"shape:sCUzrPHFCNhydJTQMmlJA":{x:1941.6515409417523,y:2495.4889745878227,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:sCUzrPHFCNhydJTQMmlJA",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-up",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzzyl",typeName:"shape"},"shape:5rFhStqcuMKpO3oUAAtq9":{x:1941.6515409417523,y:2567.5507892621063,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:5rFhStqcuMKpO3oUAAtq9",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-down",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzzzS",typeName:"shape"},"shape:dQRQUE8-6L0t9701jAU1_":{x:1941.6515409417523,y:2637.989384126151,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:dQRQUE8-6L0t9701jAU1_",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"x-box",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzzzj",typeName:"shape"},"shape:MywQKLkZpW5YD5u-AWtGp":{x:1941.6515409417523,y:2717.6643283329663,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:MywQKLkZpW5YD5u-AWtGp",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"check-box",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLzzzz",typeName:"shape"},"shape:qlfJiGE2CNY2bwah9p23d":{x:2030.7723097131761,y:1460.028085528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:qlfJiGE2CNY2bwah9p23d",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMS",typeName:"shape"},"shape:rxRWfxA3OQ9IPvocYmHmq":{x:2030.7723097131761,y:1528.1976019957335,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:rxRWfxA3OQ9IPvocYmHmq",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"ellipse",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMj",typeName:"shape"},"shape:KrDf6zZd9Aic3O6r4kwas":{x:2030.7723097131761,y:1599.6764292733824,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:KrDf6zZd9Aic3O6r4kwas",type:"geo",props:{w:64.02061383405258,h:49.324811118833196,geo:"cloud",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMs",typeName:"shape"},"shape:Fyy2vUyyD1DdSP4onZr-L":{x:2030.7723097131761,y:1670.7265893476233,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Fyy2vUyyD1DdSP4onZr-L",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"triangle",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMwV",typeName:"shape"},"shape:e-nT_dHOOlk7-VYqArbv6":{x:2030.7723097131761,y:1734.9980920453017,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:e-nT_dHOOlk7-VYqArbv6",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"diamond",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMyl",typeName:"shape"},"shape:W-jmW5_oSZDyzADY21A0U":{x:2030.7723097131761,y:1800.675623170159,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:W-jmW5_oSZDyzADY21A0U",type:"geo",props:{w:70.54441039901512,h:45.97415461845719,geo:"pentagon",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzS",typeName:"shape"},"shape:upsTKIDGjMkwtLIHnWXQN":{x:2030.7723097131761,y:1868.2450055527247,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:upsTKIDGjMkwtLIHnWXQN",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"octagon",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzj",typeName:"shape"},"shape:iPMqGmhRm6mRtWbNtyrsF":{x:2030.7723097131761,y:1948.034261013782,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:iPMqGmhRm6mRtWbNtyrsF",type:"geo",props:{w:73.99709959984733,h:50.3642957335091,geo:"star",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzs",typeName:"shape"},"shape:xk_xFZ64Fj5vjaSySOMv2":{x:2030.7723097131761,y:2034.1230369035825,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:xk_xFZ64Fj5vjaSySOMv2",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rhombus",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzwV",typeName:"shape"},"shape:okNk3WPgc-E3ZYjQayRGe":{x:2030.7723097131761,y:2116.1813707613474,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:okNk3WPgc-E3ZYjQayRGe",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rhombus-2",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzyl",typeName:"shape"},"shape:Cudgo35gCy0andTXwb8n-":{x:2030.7723097131761,y:2204.772592799054,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Cudgo35gCy0andTXwb8n-",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"oval",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzzS",typeName:"shape"},"shape:YBUsfEy5omzxjH39f4OFk":{x:2030.7723097131761,y:2282.8186016329173,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:YBUsfEy5omzxjH39f4OFk",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"trapezoid",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzzj",typeName:"shape"},"shape:fpI2HweEpo7aABRsMK1PY":{x:2030.7723097131761,y:2357.2066503310307,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:fpI2HweEpo7aABRsMK1PY",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-right",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzzs",typeName:"shape"},"shape:agDHj-qEZfEFG3Yo1SEQS":{x:2030.7723097131761,y:2425.1475442898836,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:agDHj-qEZfEFG3Yo1SEQS",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-left",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzzwV",typeName:"shape"},"shape:4V-jzR-TzhLa0BtfWCdgL":{x:2030.7723097131761,y:2495.4889745878227,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:4V-jzR-TzhLa0BtfWCdgL",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-up",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzzyl",typeName:"shape"},"shape:IcSGZbcjBqHW--dpIWx69":{x:2030.7723097131761,y:2567.5507892621063,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:IcSGZbcjBqHW--dpIWx69",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-down",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzzzS",typeName:"shape"},"shape:X7qy0UrSjWFpQ3bc290jF":{x:2030.7723097131761,y:2637.989384126151,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:X7qy0UrSjWFpQ3bc290jF",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"x-box",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzzzj",typeName:"shape"},"shape:rfZ86Ti1qdJjWgq2LR5cl":{x:2030.7723097131761,y:2717.6643283329663,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:rfZ86Ti1qdJjWgq2LR5cl",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"check-box",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMzzzz",typeName:"shape"},"shape:oG9CYVdXBs7JZUPvczYVi":{x:2119.8930784845998,y:1460.028085528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:oG9CYVdXBs7JZUPvczYVi",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNS",typeName:"shape"},"shape:vHUXX9hRJlUEuQ2LhCLUx":{x:2119.8930784845998,y:1528.1976019957335,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:vHUXX9hRJlUEuQ2LhCLUx",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"ellipse",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNj",typeName:"shape"},"shape:P18I4toLsUXs0f_AR2Sev":{x:2119.8930784845998,y:1599.6764292733824,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:P18I4toLsUXs0f_AR2Sev",type:"geo",props:{w:66.07949931043422,h:48.97553030349153,geo:"cloud",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNs",typeName:"shape"},"shape:woJGBmOjq8gPsya8Wf66n":{x:2119.8930784845998,y:1670.7265893476233,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:woJGBmOjq8gPsya8Wf66n",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"triangle",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNwV",typeName:"shape"},"shape:bb0lQot3aixub4XifOSmw":{x:2119.8930784845998,y:1734.9980920453017,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:bb0lQot3aixub4XifOSmw",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"diamond",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNyl",typeName:"shape"},"shape:PIXsOQ33zbWv8nslilUsy":{x:2119.8930784845998,y:1800.675623170159,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:PIXsOQ33zbWv8nslilUsy",type:"geo",props:{w:70.54441039901512,h:45.97415461845719,geo:"pentagon",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzS",typeName:"shape"},"shape:6kghwby20VmVBh-opXvkB":{x:2119.8930784845998,y:1868.2450055527247,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:6kghwby20VmVBh-opXvkB",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"octagon",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzj",typeName:"shape"},"shape:4xszl_IIVojcqpEM8Vtee":{x:2119.8930784845998,y:1948.034261013782,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:4xszl_IIVojcqpEM8Vtee",type:"geo",props:{w:73.99709959984733,h:50.3642957335091,geo:"star",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzs",typeName:"shape"},"shape:voopIq_D7f0yMgqPPl9qw":{x:2119.8930784845998,y:2034.1230369035825,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:voopIq_D7f0yMgqPPl9qw",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rhombus",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzwV",typeName:"shape"},"shape:CljzoieSxbwD8F0yDT9mK":{x:2119.8930784845998,y:2116.1813707613474,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:CljzoieSxbwD8F0yDT9mK",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rhombus-2",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzyl",typeName:"shape"},"shape:ehL7MdUTSAS2gOU4xf-Bd":{x:2119.8930784845998,y:2204.772592799054,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ehL7MdUTSAS2gOU4xf-Bd",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"oval",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzzS",typeName:"shape"},"shape:N9-uqSrUC_iOhHawL1WOq":{x:2119.8930784845998,y:2282.8186016329173,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:N9-uqSrUC_iOhHawL1WOq",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"trapezoid",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzzj",typeName:"shape"},"shape:jlc7CshbEN3xkLweeKjf4":{x:2119.8930784845998,y:2357.2066503310307,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:jlc7CshbEN3xkLweeKjf4",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-right",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzzs",typeName:"shape"},"shape:93EtCOHgJsLmw8fSSxmoA":{x:2119.8930784845998,y:2425.1475442898836,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:93EtCOHgJsLmw8fSSxmoA",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-left",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzzwV",typeName:"shape"},"shape:Iop1qEu0dXNIPU2xbG_Oh":{x:2119.8930784845998,y:2495.4889745878227,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Iop1qEu0dXNIPU2xbG_Oh",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-up",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzzyl",typeName:"shape"},"shape:lMoq4hLHiBRRJc-6YNM9G":{x:2119.8930784845998,y:2567.5507892621063,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:lMoq4hLHiBRRJc-6YNM9G",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-down",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzzzS",typeName:"shape"},"shape:TJmgBv5JVHaa0-K8q0x3G":{x:2119.8930784845998,y:2637.989384126151,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:TJmgBv5JVHaa0-K8q0x3G",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"x-box",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzzzj",typeName:"shape"},"shape:4xwEaOJ9eti0m9_rZxDh1":{x:2119.8930784845998,y:2717.6643283329663,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:4xwEaOJ9eti0m9_rZxDh1",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"check-box",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNzzzz",typeName:"shape"},"shape:tEyOaTcJ_uZWm1-imyBOV":{x:2209.013847256024,y:1460.028085528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:tEyOaTcJ_uZWm1-imyBOV",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOt",typeName:"shape"},"shape:M21xeUrlMSk7Ps5RvJMWl":{x:2209.013847256024,y:1528.1976019957335,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:M21xeUrlMSk7Ps5RvJMWl",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"ellipse",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aPt",typeName:"shape"},"shape:WRL5F8Z1XgGjphS857R0s":{x:2209.013847256024,y:1599.6764292733824,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:WRL5F8Z1XgGjphS857R0s",type:"geo",props:{w:67.30364394987447,h:49.57989618586922,geo:"cloud",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aQt",typeName:"shape"},"shape:vPW59CeOyjKBjK0qhP98Z":{x:2209.013847256024,y:1670.7265893476233,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:vPW59CeOyjKBjK0qhP98Z",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"triangle",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aRt",typeName:"shape"},"shape:SsW3a7zqolwwtbvCV_hUh":{x:2209.013847256024,y:1734.9980920453017,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:SsW3a7zqolwwtbvCV_hUh",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"diamond",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aSt",typeName:"shape"},"shape:e2ExX1XzaTGECMKsOzrEw":{x:2209.013847256024,y:1800.675623170159,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:e2ExX1XzaTGECMKsOzrEw",type:"geo",props:{w:70.54441039901512,h:45.97415461845719,geo:"pentagon",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aTt",typeName:"shape"},"shape:s60Cz7I6YxsF0tdoVNv8L":{x:2209.013847256024,y:1868.2450055527247,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:s60Cz7I6YxsF0tdoVNv8L",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"octagon",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aUt",typeName:"shape"},"shape:7HwujQEWFbVeKAL14X9hP":{x:2209.013847256024,y:1948.034261013782,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:7HwujQEWFbVeKAL14X9hP",type:"geo",props:{w:73.99709959984733,h:50.3642957335091,geo:"star",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aVt",typeName:"shape"},"shape:h3eMz7hwEIZcBmHcfFOJ5":{x:2209.013847256024,y:2034.1230369035825,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:h3eMz7hwEIZcBmHcfFOJ5",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rhombus",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aWt",typeName:"shape"},"shape:X_hlb1pkoLqzOLmunRagx":{x:2209.013847256024,y:2116.1813707613474,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:X_hlb1pkoLqzOLmunRagx",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rhombus-2",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aXt",typeName:"shape"},"shape:bcli4vkT5sYmRL-cbWMhd":{x:2209.013847256024,y:2204.772592799054,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:bcli4vkT5sYmRL-cbWMhd",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"oval",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aYt",typeName:"shape"},"shape:ICFzk4R6ZRmYgtelhaFgD":{x:2209.013847256024,y:2282.8186016329173,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ICFzk4R6ZRmYgtelhaFgD",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"trapezoid",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aZt",typeName:"shape"},"shape:gz-JM2AWZiivXzvSDZR3-":{x:2209.013847256024,y:2357.2066503310307,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:gz-JM2AWZiivXzvSDZR3-",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-right",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aat",typeName:"shape"},"shape:mPSb0PSm4Ax9m09MFsvRP":{x:2209.013847256024,y:2425.1475442898836,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:mPSb0PSm4Ax9m09MFsvRP",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-left",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"abt",typeName:"shape"},"shape:KHtbMMf0poLk5dV_XuOuP":{x:2209.013847256024,y:2495.4889745878227,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:KHtbMMf0poLk5dV_XuOuP",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-up",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"act",typeName:"shape"},"shape:vOu4w81N94jmF-3jEnYzo":{x:2209.013847256024,y:2567.5507892621063,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:vOu4w81N94jmF-3jEnYzo",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"arrow-down",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"adt",typeName:"shape"},"shape:o-1OsYpKNUFy0C-kymslT":{x:2209.013847256024,y:2637.989384126151,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:o-1OsYpKNUFy0C-kymslT",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"x-box",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aet",typeName:"shape"},"shape:BqwMRQs7Snju9YfkBpZUu":{x:2209.013847256024,y:2717.6643283329663,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:BqwMRQs7Snju9YfkBpZUu",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"check-box",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"ai",typeName:"shape"},"shape:23v_1pJUjfhLq58WBpcuc":{x:-259.0812996416322,y:1538.7899855213743,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:23v_1pJUjfhLq58WBpcuc",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aGd",props:{dash:"dashed",size:"s",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.06220257987061,y:92.54213910199667}}},typeName:"shape"},"shape:dfmNS0wfBE2W_hENwR6y5":{x:290.69396489540804,y:1538.7899855213743,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:dfmNS0wfBE2W_hENwR6y5",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aH",props:{dash:"dashed",size:"s",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.06220257987061,y:92.54213910199667}}},typeName:"shape"},"shape:Mb9IGvhXLInPco2BYf1o0":{x:-259.0812996416322,y:1551.8781196444143,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Mb9IGvhXLInPco2BYf1o0",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHK",props:{dash:"dashed",size:"s",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.25867110324572,y:68.89093276824845}}},typeName:"shape"},"shape:uc9K6LAgH4invmOwjfYck":{x:290.69396489540804,y:1551.8781196444143,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:uc9K6LAgH4invmOwjfYck",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHa",props:{dash:"dashed",size:"s",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.25867110324572,y:68.89093276824845}}},typeName:"shape"},"shape:NZP15gUcvyYtiKRdL9yJ2":{x:-259.0812996416322,y:1558.3500798280356,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:NZP15gUcvyYtiKRdL9yJ2",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHp",props:{dash:"dashed",size:"s",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:229.08509912361876,y:50.006204081018716}}},typeName:"shape"},"shape:aeq8WCOd2fsO0aFpoFVFx":{x:290.69396489540804,y:1558.3500798280356,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:aeq8WCOd2fsO0aFpoFVFx",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aI",props:{dash:"dashed",size:"s",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:229.08509912361876,y:50.006204081018716}}},typeName:"shape"},"shape:0r1IDMhXenLWYpGBRW8JN":{x:-259.0812996416322,y:1546.406826337751,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:0r1IDMhXenLWYpGBRW8JN",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aJV",props:{dash:"dashed",size:"s",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.6332710878141,y:54.58592500103621}}},typeName:"shape"},"shape:DWGKqJZ-ui7QB6jteegpg":{x:290.69396489540804,y:1546.406826337751,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:DWGKqJZ-ui7QB6jteegpg",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aKV",props:{dash:"dashed",size:"s",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.6332710878141,y:54.58592500103621}}},typeName:"shape"},"shape:tdmMI4HbqF1MdC6y_HhTB":{x:-259.0812996416322,y:1649.584967900862,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:tdmMI4HbqF1MdC6y_HhTB",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aGh",props:{dash:"dotted",size:"s",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.06220257987061,y:92.54213910199667}}},typeName:"shape"},"shape:vMC9If_u5na8H0zCAWwCD":{x:290.69396489540804,y:1649.584967900862,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:vMC9If_u5na8H0zCAWwCD",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aH8",props:{dash:"dotted",size:"s",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.06220257987061,y:92.54213910199667}}},typeName:"shape"},"shape:TPKS8Wz_fXUW9LarHmOth":{x:-259.0812996416322,y:1662.6731020239017,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:TPKS8Wz_fXUW9LarHmOth",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHM",props:{dash:"dotted",size:"s",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.25867110324572,y:68.89093276824845}}},typeName:"shape"},"shape:HpWU8_9_UMw5AZEQazaKD":{x:290.69396489540804,y:1662.6731020239017,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:HpWU8_9_UMw5AZEQazaKD",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHg",props:{dash:"dotted",size:"s",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.25867110324572,y:68.89093276824845}}},typeName:"shape"},"shape:OpwsQqGaond-aXtInw3bn":{x:-259.0812996416322,y:1669.1450622075233,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:OpwsQqGaond-aXtInw3bn",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHr",props:{dash:"dotted",size:"s",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:229.08509912361876,y:50.006204081018716}}},typeName:"shape"},"shape:YkDAbKruIPh0z1-FkJQyX":{x:290.69396489540804,y:1669.1450622075233,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:YkDAbKruIPh0z1-FkJQyX",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aIV",props:{dash:"dotted",size:"s",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:229.08509912361876,y:50.006204081018716}}},typeName:"shape"},"shape:bt2Oq0ihyMXF0-cxBQ2KN":{x:-259.0812996416322,y:1657.2018087172387,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:bt2Oq0ihyMXF0-cxBQ2KN",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aJl",props:{dash:"dotted",size:"s",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.6332710878141,y:54.58592500103621}}},typeName:"shape"},"shape:VR2yxPiYO34b7C3XevHJO":{x:290.69396489540804,y:1657.2018087172387,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:VR2yxPiYO34b7C3XevHJO",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aKl",props:{dash:"dotted",size:"s",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.6332710878141,y:54.58592500103621}}},typeName:"shape"},"shape:Y-2S-BR5QNRS1GuNJovVf":{x:-259.0812996416322,y:1750.832616242599,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Y-2S-BR5QNRS1GuNJovVf",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aGj",props:{dash:"solid",size:"s",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.06220257987061,y:92.54213910199667}}},typeName:"shape"},"shape:LtsPosoBlr6ljR6RCViy3":{x:290.69396489540804,y:1750.832616242599,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:LtsPosoBlr6ljR6RCViy3",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHC",props:{dash:"solid",size:"s",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.06220257987061,y:92.54213910199667}}},typeName:"shape"},"shape:3-MYNkWPxnxHKoWrIVeH8":{x:-259.0812996416322,y:1763.920750365639,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:3-MYNkWPxnxHKoWrIVeH8",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHN",props:{dash:"solid",size:"s",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.25867110324572,y:68.89093276824845}}},typeName:"shape"},"shape:_nmKz_Bg8LNnCRzvbVns5":{x:290.69396489540804,y:1763.920750365639,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:_nmKz_Bg8LNnCRzvbVns5",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHj",props:{dash:"solid",size:"s",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.25867110324572,y:68.89093276824845}}},typeName:"shape"},"shape:Pd1kc1rntoB8kDilOb9m6":{x:-259.0812996416322,y:1770.3927105492605,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Pd1kc1rntoB8kDilOb9m6",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHs",props:{dash:"solid",size:"s",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:229.08509912361876,y:50.006204081018716}}},typeName:"shape"},"shape:jrfd1Rc3NmLqNN1GZ5-F4":{x:290.69396489540804,y:1770.3927105492605,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:jrfd1Rc3NmLqNN1GZ5-F4",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aIl",props:{dash:"solid",size:"s",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:229.08509912361876,y:50.006204081018716}}},typeName:"shape"},"shape:jdk2p4hwvzLt22oGA5mLL":{x:-259.0812996416322,y:1758.449457058976,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:jdk2p4hwvzLt22oGA5mLL",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aJt",props:{dash:"solid",size:"s",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.6332710878141,y:54.58592500103621}}},typeName:"shape"},"shape:1ico__SmLmnMhKcBRbfEp":{x:290.69396489540804,y:1758.449457058976,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:1ico__SmLmnMhKcBRbfEp",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aKt",props:{dash:"solid",size:"s",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.6332710878141,y:54.58592500103621}}},typeName:"shape"},"shape:4wvUQRqICIuR7pYcMT13M":{x:-259.0812996416322,y:1915.8245610317265,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:4wvUQRqICIuR7pYcMT13M",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aGZ",props:{dash:"draw",size:"m",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.06220257987061,y:92.54213910199667}}},typeName:"shape"},"shape:mt_kBP8Vj13A2CivDs9j6":{x:-259.0812996416322,y:2039.4306167330947,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:mt_kBP8Vj13A2CivDs9j6",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aGf",props:{dash:"dashed",size:"m",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.06220257987061,y:92.54213910199667}}},typeName:"shape"},"shape:NkwwrtPxQNZBi1trRcL6x":{x:-259.0812996416322,y:2150.225599112582,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:NkwwrtPxQNZBi1trRcL6x",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aGi",props:{dash:"dotted",size:"m",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.06220257987061,y:92.54213910199667}}},typeName:"shape"},"shape:4oBwGr5pIwGCKcQ97hkns":{x:-259.0812996416322,y:2251.4732474543193,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:4oBwGr5pIwGCKcQ97hkns",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aGk",props:{dash:"solid",size:"m",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.06220257987061,y:92.54213910199667}}},typeName:"shape"},"shape:PSOORi4qaiM1tEdkXRXLL":{x:290.69396489540804,y:1915.8245610317265,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:PSOORi4qaiM1tEdkXRXLL",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aGt",props:{dash:"draw",size:"m",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.06220257987061,y:92.54213910199667}}},typeName:"shape"},"shape:c5z9FgFRVmeFVTuZ7obKI":{x:290.69396489540804,y:2039.4306167330947,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:c5z9FgFRVmeFVTuZ7obKI",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aH4",props:{dash:"dashed",size:"m",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.06220257987061,y:92.54213910199667}}},typeName:"shape"},"shape:Dfmswo5_yjX_iBe36f4JM":{x:290.69396489540804,y:2150.225599112582,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Dfmswo5_yjX_iBe36f4JM",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHA",props:{dash:"dotted",size:"m",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.06220257987061,y:92.54213910199667}}},typeName:"shape"},"shape:l4afRmFE--ZVvOVgnOuq2":{x:290.69396489540804,y:2251.4732474543193,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:l4afRmFE--ZVvOVgnOuq2",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHE",props:{dash:"solid",size:"m",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.06220257987061,y:92.54213910199667}}},typeName:"shape"},"shape:JJOQ8qxhhoc6C1XeFbl3v":{x:-259.0812996416322,y:1928.9126951547664,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:JJOQ8qxhhoc6C1XeFbl3v",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHI",props:{dash:"draw",size:"m",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.25867110324572,y:68.89093276824845}}},typeName:"shape"},"shape:E72oRy65BmXQsNea6Ho-i":{x:-259.0812996416322,y:2052.518750856135,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:E72oRy65BmXQsNea6Ho-i",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHL",props:{dash:"dashed",size:"m",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.25867110324572,y:68.89093276824845}}},typeName:"shape"},"shape:Z7RA8D1HLCZwMOHiH_4LH":{x:-259.0812996416322,y:2163.313733235622,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Z7RA8D1HLCZwMOHiH_4LH",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHMV",props:{dash:"dotted",size:"m",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.25867110324572,y:68.89093276824845}}},typeName:"shape"},"shape:oKnJ2bNK8xTPIIarZlcAz":{x:-259.0812996416322,y:2264.5613815773595,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:oKnJ2bNK8xTPIIarZlcAz",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHNV",props:{dash:"solid",size:"m",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.25867110324572,y:68.89093276824845}}},typeName:"shape"},"shape:1L68BMaRq8lAt4V18bFBu":{x:290.69396489540804,y:1928.9126951547664,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:1L68BMaRq8lAt4V18bFBu",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHU",props:{dash:"draw",size:"m",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.25867110324572,y:68.89093276824845}}},typeName:"shape"},"shape:DY9u1ScZ4SjoKiF-5u4Pl":{x:290.69396489540804,y:2052.518750856135,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:DY9u1ScZ4SjoKiF-5u4Pl",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHd",props:{dash:"dashed",size:"m",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.25867110324572,y:68.89093276824845}}},typeName:"shape"},"shape:1W1pTHTZ9LOj5H6teN2nH":{x:290.69396489540804,y:2163.313733235622,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:1W1pTHTZ9LOj5H6teN2nH",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHi",props:{dash:"dotted",size:"m",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.25867110324572,y:68.89093276824845}}},typeName:"shape"},"shape:qQh_buWtkRgFbQdevaOA_":{x:290.69396489540804,y:2264.5613815773595,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:qQh_buWtkRgFbQdevaOA_",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHk",props:{dash:"solid",size:"m",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.25867110324572,y:68.89093276824845}}},typeName:"shape"},"shape:PIDfCItVApY1_2tinpCFi":{x:-259.0812996416322,y:1935.384655338388,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:PIDfCItVApY1_2tinpCFi",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHn",props:{dash:"draw",size:"m",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:229.08509912361876,y:50.006204081018716}}},typeName:"shape"},"shape:CdaCwSQJzplHfOAygQGBE":{x:-259.0812996416322,y:2058.990711039756,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:CdaCwSQJzplHfOAygQGBE",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHq",props:{dash:"dashed",size:"m",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:229.08509912361876,y:50.006204081018716}}},typeName:"shape"},"shape:OYDF3d60XSCz_02h5_ljv":{x:-259.0812996416322,y:2169.7856934192437,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:OYDF3d60XSCz_02h5_ljv",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHrV",props:{dash:"dotted",size:"m",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:229.08509912361876,y:50.006204081018716}}},typeName:"shape"},"shape:pYTJ5ZFOb3JFog29UXm70":{x:-259.0812996416322,y:2271.033341760981,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:pYTJ5ZFOb3JFog29UXm70",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHsV",props:{dash:"solid",size:"m",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:229.08509912361876,y:50.006204081018716}}},typeName:"shape"},"shape:Paub0omp9VXR5XPF3x9Xp":{x:290.69396489540804,y:1935.384655338388,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Paub0omp9VXR5XPF3x9Xp",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHx",props:{dash:"draw",size:"m",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:229.08509912361876,y:50.006204081018716}}},typeName:"shape"},"shape:Z9wYFYpTnwqOrfkb7PPZa":{x:290.69396489540804,y:2058.990711039756,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Z9wYFYpTnwqOrfkb7PPZa",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aIG",props:{dash:"dashed",size:"m",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:229.08509912361876,y:50.006204081018716}}},typeName:"shape"},"shape:MIY9zI12Co2kNwsulHzxA":{x:290.69396489540804,y:2169.7856934192437,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:MIY9zI12Co2kNwsulHzxA",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aId",props:{dash:"dotted",size:"m",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:229.08509912361876,y:50.006204081018716}}},typeName:"shape"},"shape:Iu-tj5EnOanorAUFNJU3Z":{x:290.69396489540804,y:2271.033341760981,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Iu-tj5EnOanorAUFNJU3Z",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aIt",props:{dash:"solid",size:"m",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:229.08509912361876,y:50.006204081018716}}},typeName:"shape"},"shape:acaL1KYn32HlNBLY5S1-v":{x:-259.0812996416322,y:1923.4414018481032,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:acaL1KYn32HlNBLY5S1-v",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aJG",props:{dash:"draw",size:"m",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.6332710878141,y:54.58592500103621}}},typeName:"shape"},"shape:nrCqmVWs0DzA4dovphhiI":{x:-259.0812996416322,y:2047.0474575494713,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:nrCqmVWs0DzA4dovphhiI",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aJd",props:{dash:"dashed",size:"m",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.6332710878141,y:54.58592500103621}}},typeName:"shape"},"shape:KS7zlcQGRwel6iLGBoFhk":{x:-259.0812996416322,y:2157.842439928959,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:KS7zlcQGRwel6iLGBoFhk",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aJp",props:{dash:"dotted",size:"m",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.6332710878141,y:54.58592500103621}}},typeName:"shape"},"shape:73rx9BtPRikyF__h0ZS_f":{x:-259.0812996416322,y:2259.0900882706965,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:73rx9BtPRikyF__h0ZS_f",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aJx",props:{dash:"solid",size:"m",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.6332710878141,y:54.58592500103621}}},typeName:"shape"},"shape:DFpviBzD-2Y8YVasPPFYd":{x:290.69396489540804,y:1923.4414018481032,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:DFpviBzD-2Y8YVasPPFYd",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aKG",props:{dash:"draw",size:"m",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.6332710878141,y:54.58592500103621}}},typeName:"shape"},"shape:tu4ZGKXJIxo4TC-88kVf5":{x:290.69396489540804,y:2047.0474575494713,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:tu4ZGKXJIxo4TC-88kVf5",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aKd",props:{dash:"dashed",size:"m",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.6332710878141,y:54.58592500103621}}},typeName:"shape"},"shape:XMxreDqHcH2SuOlylz7Xg":{x:290.69396489540804,y:2157.842439928959,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:XMxreDqHcH2SuOlylz7Xg",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aKp",props:{dash:"dotted",size:"m",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.6332710878141,y:54.58592500103621}}},typeName:"shape"},"shape:0o513f5lIPoTg9vEHRd43":{x:290.69396489540804,y:2259.0900882706965,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:0o513f5lIPoTg9vEHRd43",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aKx",props:{dash:"solid",size:"m",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.6332710878141,y:54.58592500103621}}},typeName:"shape"},"shape:exXAfWjCG_VI0S7VmUYNJ":{x:-259.0812996416322,y:2388.04616728611,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:exXAfWjCG_VI0S7VmUYNJ",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aGb",props:{dash:"draw",size:"l",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.06220257987061,y:92.54213910199667}}},typeName:"shape"},"shape:uRImZWG7iyPPKuQhrcWXh":{x:-259.0812996416322,y:2511.6522229874786,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:uRImZWG7iyPPKuQhrcWXh",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aGg",props:{dash:"dashed",size:"l",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.06220257987061,y:92.54213910199667}}},typeName:"shape"},"shape:xr3TQ-kGNAgJ7EIOAwNBZ":{x:-259.0812996416322,y:2622.447205366966,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:xr3TQ-kGNAgJ7EIOAwNBZ",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aGiV",props:{dash:"dotted",size:"l",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.06220257987061,y:92.54213910199667}}},typeName:"shape"},"shape:SPOku2yC_3gd1ji3kHstN":{x:-259.0812996416322,y:2723.6948537087032,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:SPOku2yC_3gd1ji3kHstN",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aGkV",props:{dash:"solid",size:"l",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.06220257987061,y:92.54213910199667}}},typeName:"shape"},"shape:lc-CpsvD2VBThNp6E9dKR":{x:290.69396489540804,y:2388.04616728611,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:lc-CpsvD2VBThNp6E9dKR",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aGx",props:{dash:"draw",size:"l",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.06220257987061,y:92.54213910199667}}},typeName:"shape"},"shape:nL_NcHlM48XFgg3qzQBgV":{x:290.69396489540804,y:2511.6522229874786,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:nL_NcHlM48XFgg3qzQBgV",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aH6",props:{dash:"dashed",size:"l",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.06220257987061,y:92.54213910199667}}},typeName:"shape"},"shape:L6lgL58GpPz-T7YX6RkVG":{x:290.69396489540804,y:2622.447205366966,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:L6lgL58GpPz-T7YX6RkVG",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHB",props:{dash:"dotted",size:"l",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.06220257987061,y:92.54213910199667}}},typeName:"shape"},"shape:R7_em_T6BtVnxgyFVSDuw":{x:290.69396489540804,y:2723.6948537087032,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:R7_em_T6BtVnxgyFVSDuw",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHF",props:{dash:"solid",size:"l",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.06220257987061,y:92.54213910199667}}},typeName:"shape"},"shape:XuHPiEuJNhSruMxm_HVye":{x:-259.0812996416322,y:2401.1343014091503,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:XuHPiEuJNhSruMxm_HVye",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHJ",props:{dash:"draw",size:"l",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.25867110324572,y:68.89093276824845}}},typeName:"shape"},"shape:bck-jIF6zUHJrLakEZ7wF":{x:-259.0812996416322,y:2524.7403571105187,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:bck-jIF6zUHJrLakEZ7wF",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHLV",props:{dash:"dashed",size:"l",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.25867110324572,y:68.89093276824845}}},typeName:"shape"},"shape:KmgKXNsoJKaRFS5f49SCl":{x:-259.0812996416322,y:2635.5353394900058,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:KmgKXNsoJKaRFS5f49SCl",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHMl",props:{dash:"dotted",size:"l",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.25867110324572,y:68.89093276824845}}},typeName:"shape"},"shape:xjJBBKOWMv032TDQKzIc2":{x:-259.0812996416322,y:2736.7829878317434,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:xjJBBKOWMv032TDQKzIc2",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHNl",props:{dash:"solid",size:"l",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.25867110324572,y:68.89093276824845}}},typeName:"shape"},"shape:y7Yq9SQ3GmPBZLcEKwY_I":{x:290.69396489540804,y:2401.1343014091503,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:y7Yq9SQ3GmPBZLcEKwY_I",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHX",props:{dash:"draw",size:"l",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.25867110324572,y:68.89093276824845}}},typeName:"shape"},"shape:AzcTJFdHFE-opT0k9Ajyt":{x:290.69396489540804,y:2524.7403571105187,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:AzcTJFdHFE-opT0k9Ajyt",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHf",props:{dash:"dashed",size:"l",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.25867110324572,y:68.89093276824845}}},typeName:"shape"},"shape:fc8IDnLOBmPlnM-s8DnCy":{x:290.69396489540804,y:2635.5353394900058,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:fc8IDnLOBmPlnM-s8DnCy",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHiV",props:{dash:"dotted",size:"l",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.25867110324572,y:68.89093276824845}}},typeName:"shape"},"shape:_9f7DhaA4vZvNrdqBPgIA":{x:290.69396489540804,y:2736.7829878317434,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:_9f7DhaA4vZvNrdqBPgIA",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHkV",props:{dash:"solid",size:"l",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.25867110324572,y:68.89093276824845}}},typeName:"shape"},"shape:JCwGGOJBneV7pmX4kgezE":{x:-259.0812996416322,y:2407.606261592772,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:JCwGGOJBneV7pmX4kgezE",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHo",props:{dash:"draw",size:"l",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:229.08509912361876,y:50.006204081018716}}},typeName:"shape"},"shape:PoYtEo_vxSLH1K-kdhB1S":{x:-259.0812996416322,y:2531.21231729414,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:PoYtEo_vxSLH1K-kdhB1S",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHqV",props:{dash:"dashed",size:"l",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:229.08509912361876,y:50.006204081018716}}},typeName:"shape"},"shape:q8TfPnbtXek-U0jH93Y8r":{x:-259.0812996416322,y:2642.0072996736276,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:q8TfPnbtXek-U0jH93Y8r",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHrl",props:{dash:"dotted",size:"l",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:229.08509912361876,y:50.006204081018716}}},typeName:"shape"},"shape:7UenujjWRt-6wBe9Sj4_4":{x:-259.0812996416322,y:2743.254948015365,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:7UenujjWRt-6wBe9Sj4_4",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHsl",props:{dash:"solid",size:"l",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:229.08509912361876,y:50.006204081018716}}},typeName:"shape"},"shape:fRsNOA4nzOuJtZrfrJLzL":{x:290.69396489540804,y:2407.606261592772,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:fRsNOA4nzOuJtZrfrJLzL",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHz",props:{dash:"draw",size:"l",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:229.08509912361876,y:50.006204081018716}}},typeName:"shape"},"shape:MlVyoZ1FBYbdbAQG3-ma3":{x:290.69396489540804,y:2531.21231729414,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:MlVyoZ1FBYbdbAQG3-ma3",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aIO",props:{dash:"dashed",size:"l",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:229.08509912361876,y:50.006204081018716}}},typeName:"shape"},"shape:UYZaAHFfNOt5eZuJRHEMY":{x:290.69396489540804,y:2642.0072996736276,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:UYZaAHFfNOt5eZuJRHEMY",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aIh",props:{dash:"dotted",size:"l",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:229.08509912361876,y:50.006204081018716}}},typeName:"shape"},"shape:vl7qbmbNU7b_UzNhf4WtE":{x:290.69396489540804,y:2743.254948015365,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:vl7qbmbNU7b_UzNhf4WtE",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aIx",props:{dash:"solid",size:"l",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:229.08509912361876,y:50.006204081018716}}},typeName:"shape"},"shape:CxKft06-uMogRscirJLUh":{x:-259.0812996416322,y:2395.663008102487,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:CxKft06-uMogRscirJLUh",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aJO",props:{dash:"draw",size:"l",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.6332710878141,y:54.58592500103621}}},typeName:"shape"},"shape:zn30yNPi_zHxuusu8SmmC":{x:-259.0812996416322,y:2519.2690638038553,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:zn30yNPi_zHxuusu8SmmC",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aJh",props:{dash:"dashed",size:"l",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.6332710878141,y:54.58592500103621}}},typeName:"shape"},"shape:j-zAXmmFRZTHdoh4ct-RQ":{x:-259.0812996416322,y:2630.0640461833427,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:j-zAXmmFRZTHdoh4ct-RQ",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aJr",props:{dash:"dotted",size:"l",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.6332710878141,y:54.58592500103621}}},typeName:"shape"},"shape:zJvmRlJW2yw2s16Wf9HE8":{x:-259.0812996416322,y:2731.3116945250804,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:zJvmRlJW2yw2s16Wf9HE8",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aJz",props:{dash:"solid",size:"l",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.6332710878141,y:54.58592500103621}}},typeName:"shape"},"shape:U31xcYtFH67KBY8pae9Zs":{x:290.69396489540804,y:2395.663008102487,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:U31xcYtFH67KBY8pae9Zs",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aKO",props:{dash:"draw",size:"l",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.6332710878141,y:54.58592500103621}}},typeName:"shape"},"shape:SDYw9mpY1IdR6rnqUGzsI":{x:290.69396489540804,y:2519.2690638038553,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:SDYw9mpY1IdR6rnqUGzsI",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aKh",props:{dash:"dashed",size:"l",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.6332710878141,y:54.58592500103621}}},typeName:"shape"},"shape:Fw8EWc3WLQRgm11RMjHzo":{x:290.69396489540804,y:2630.0640461833427,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Fw8EWc3WLQRgm11RMjHzo",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aKr",props:{dash:"dotted",size:"l",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.6332710878141,y:54.58592500103621}}},typeName:"shape"},"shape:ltMisDoGfi-xJ6XB713pW":{x:290.69396489540804,y:2731.3116945250804,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ltMisDoGfi-xJ6XB713pW",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aKz",props:{dash:"solid",size:"l",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.6332710878141,y:54.58592500103621}}},typeName:"shape"},"shape:UlAN3QtQPcf8P2PGnHtSD":{x:-259.0812996416322,y:2858.095982794634,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:UlAN3QtQPcf8P2PGnHtSD",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aGc",props:{dash:"draw",size:"xl",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.06220257987061,y:92.54213910199667}}},typeName:"shape"},"shape:W2O-_rsJbiryK1prkJyPx":{x:-259.0812996416322,y:2981.7020384960024,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:W2O-_rsJbiryK1prkJyPx",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aGgV",props:{dash:"dashed",size:"xl",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.06220257987061,y:92.54213910199667}}},typeName:"shape"},"shape:mjUubBJrGRinA84mfqaYL":{x:-259.0812996416322,y:3092.49702087549,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:mjUubBJrGRinA84mfqaYL",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aGil",props:{dash:"dotted",size:"xl",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.06220257987061,y:92.54213910199667}}},typeName:"shape"},"shape:KcVXHcJQRkjFG9D20Syci":{x:-259.0812996416322,y:3193.744669217227,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:KcVXHcJQRkjFG9D20Syci",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aGkl",props:{dash:"solid",size:"xl",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.06220257987061,y:92.54213910199667}}},typeName:"shape"},"shape:mtfJ674mgSZ8P6DWGrb6H":{x:290.69396489540804,y:2858.095982794634,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:mtfJ674mgSZ8P6DWGrb6H",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aGz",props:{dash:"draw",size:"xl",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.06220257987061,y:92.54213910199667}}},typeName:"shape"},"shape:ZdGnu-AXmvccviCDIbmYO":{x:290.69396489540804,y:2981.7020384960024,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ZdGnu-AXmvccviCDIbmYO",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aH7",props:{dash:"dashed",size:"xl",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.06220257987061,y:92.54213910199667}}},typeName:"shape"},"shape:lmrem60njAkLByK740DMM":{x:290.69396489540804,y:3092.49702087549,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:lmrem60njAkLByK740DMM",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHBV",props:{dash:"dotted",size:"xl",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.06220257987061,y:92.54213910199667}}},typeName:"shape"},"shape:bsOKsWu5KDY3nOZgmEAXZ":{x:290.69396489540804,y:3193.744669217227,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:bsOKsWu5KDY3nOZgmEAXZ",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHFV",props:{dash:"solid",size:"xl",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.06220257987061,y:92.54213910199667}}},typeName:"shape"},"shape:3uCjOWXo8id0TRO4Dyd2X":{x:-259.0812996416322,y:2871.184116917674,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:3uCjOWXo8id0TRO4Dyd2X",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHJV",props:{dash:"draw",size:"xl",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.25867110324572,y:68.89093276824845}}},typeName:"shape"},"shape:EU30MnEFJJGwDsnSUhVRw":{x:-259.0812996416322,y:2994.7901726190426,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:EU30MnEFJJGwDsnSUhVRw",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHLl",props:{dash:"dashed",size:"xl",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.25867110324572,y:68.89093276824845}}},typeName:"shape"},"shape:YWvWvrsz7VZTKZ1BH612-":{x:-259.0812996416322,y:3105.5851549985296,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:YWvWvrsz7VZTKZ1BH612-",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHMt",props:{dash:"dotted",size:"xl",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.25867110324572,y:68.89093276824845}}},typeName:"shape"},"shape:163LQaair2hAf9LsUcDbd":{x:-259.0812996416322,y:3206.832803340267,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:163LQaair2hAf9LsUcDbd",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHNt",props:{dash:"solid",size:"xl",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.25867110324572,y:68.89093276824845}}},typeName:"shape"},"shape:EnGtZ39BzVDr6bh7YjTQm":{x:290.69396489540804,y:2871.184116917674,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:EnGtZ39BzVDr6bh7YjTQm",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHZ",props:{dash:"draw",size:"xl",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.25867110324572,y:68.89093276824845}}},typeName:"shape"},"shape:XayFO5W6JkqJ_qUohjP9I":{x:290.69396489540804,y:2994.7901726190426,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:XayFO5W6JkqJ_qUohjP9I",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHfV",props:{dash:"dashed",size:"xl",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.25867110324572,y:68.89093276824845}}},typeName:"shape"},"shape:mkT_SSQffXjxNOM2GBoOY":{x:290.69396489540804,y:3105.5851549985296,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:mkT_SSQffXjxNOM2GBoOY",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHil",props:{dash:"dotted",size:"xl",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.25867110324572,y:68.89093276824845}}},typeName:"shape"},"shape:TzomE7RGZmHFOyD5eRILG":{x:290.69396489540804,y:3206.832803340267,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:TzomE7RGZmHFOyD5eRILG",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHkl",props:{dash:"solid",size:"xl",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.25867110324572,y:68.89093276824845}}},typeName:"shape"},"shape:Z2BP5cTCfTaSbomzePqOf":{x:-259.0812996416322,y:2877.656077101296,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Z2BP5cTCfTaSbomzePqOf",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHoV",props:{dash:"draw",size:"xl",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:229.08509912361876,y:50.006204081018716}}},typeName:"shape"},"shape:W1-YTs9P9ZrsMl3bv2XIY":{x:-259.0812996416322,y:3001.262132802664,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:W1-YTs9P9ZrsMl3bv2XIY",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHql",props:{dash:"dashed",size:"xl",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:229.08509912361876,y:50.006204081018716}}},typeName:"shape"},"shape:PiPC2vm5fivQ7SVCTOTgw":{x:-259.0812996416322,y:3112.0571151821514,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:PiPC2vm5fivQ7SVCTOTgw",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHrt",props:{dash:"dotted",size:"xl",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:229.08509912361876,y:50.006204081018716}}},typeName:"shape"},"shape:jKaEdWEr372_doShpFMaI":{x:-259.0812996416322,y:3213.3047635238886,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:jKaEdWEr372_doShpFMaI",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHst",props:{dash:"solid",size:"xl",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:229.08509912361876,y:50.006204081018716}}},typeName:"shape"},"shape:fodDMGi6RXvBVs5eTiu1d":{x:290.69396489540804,y:2877.656077101296,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:fodDMGi6RXvBVs5eTiu1d",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aHzV",props:{dash:"draw",size:"xl",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:229.08509912361876,y:50.006204081018716}}},typeName:"shape"},"shape:jyfa5gkAvQSK1izkO1Y-U":{x:290.69396489540804,y:3001.262132802664,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:jyfa5gkAvQSK1izkO1Y-U",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aIS",props:{dash:"dashed",size:"xl",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:229.08509912361876,y:50.006204081018716}}},typeName:"shape"},"shape:upH1-bs5j5ulGfSz-wT0q":{x:290.69396489540804,y:3112.0571151821514,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:upH1-bs5j5ulGfSz-wT0q",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aIj",props:{dash:"dotted",size:"xl",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:229.08509912361876,y:50.006204081018716}}},typeName:"shape"},"shape:mTv6yAzSy1kXwGz2gUP7m":{x:290.69396489540804,y:3213.3047635238886,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:mTv6yAzSy1kXwGz2gUP7m",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aIz",props:{dash:"solid",size:"xl",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:229.08509912361876,y:50.006204081018716}}},typeName:"shape"},"shape:fxREg_eWoDWFDYQNXs1WR":{x:-259.0812996416322,y:2865.7128236110107,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:fxREg_eWoDWFDYQNXs1WR",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aJS",props:{dash:"draw",size:"xl",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.6332710878141,y:54.58592500103621}}},typeName:"shape"},"shape:_SJo4MFq8z3ZQCQ29Izlm":{x:-259.0812996416322,y:2989.318879312379,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:_SJo4MFq8z3ZQCQ29Izlm",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aJj",props:{dash:"dashed",size:"xl",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.6332710878141,y:54.58592500103621}}},typeName:"shape"},"shape:rRt0ZuAAZKOV_4GL08iC3":{x:-259.0812996416322,y:3100.1138616918665,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:rRt0ZuAAZKOV_4GL08iC3",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aJs",props:{dash:"dotted",size:"xl",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.6332710878141,y:54.58592500103621}}},typeName:"shape"},"shape:hodWY80RdDOU01-SSTxNL":{x:-259.0812996416322,y:3201.361510033604,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:hodWY80RdDOU01-SSTxNL",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aJzV",props:{dash:"solid",size:"xl",color:"black",spline:"cubic",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.6332710878141,y:54.58592500103621}}},typeName:"shape"},"shape:V0oasBaMM3UPimYv0sVVz":{x:290.69396489540804,y:2865.7128236110107,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:V0oasBaMM3UPimYv0sVVz",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aKS",props:{dash:"draw",size:"xl",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.6332710878141,y:54.58592500103621}}},typeName:"shape"},"shape:-I5fA7zfEpXrFt5JcuUF2":{x:290.69396489540804,y:2989.318879312379,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:-I5fA7zfEpXrFt5JcuUF2",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aKj",props:{dash:"dashed",size:"xl",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.6332710878141,y:54.58592500103621}}},typeName:"shape"},"shape:s5-zIUIE4twTfxZcHPn3x":{x:290.69396489540804,y:3100.1138616918665,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:s5-zIUIE4twTfxZcHPn3x",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aKs",props:{dash:"dotted",size:"xl",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.6332710878141,y:54.58592500103621}}},typeName:"shape"},"shape:30VfArm8gs2fH3cHyvm7x":{x:290.69396489540804,y:3201.361510033604,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:30VfArm8gs2fH3cHyvm7x",type:"line",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aKzV",props:{dash:"solid",size:"xl",color:"black",spline:"line",handles:{start:{id:"start",type:"vertex",canBind:!1,index:"a1",x:0,y:0},end:{id:"end",type:"vertex",canBind:!1,index:"a2",x:460.8578876470081,y:-17237149003800947e-32},"handle:a1V":{id:"handle:a1V",type:"vertex",canBind:!1,index:"a1V",x:230.6332710878141,y:54.58592500103621}}},typeName:"shape"},"shape:t7wtH7UpwlxvPGF2oNGDG":{x:828.3437441614171,y:2844.561653560181,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:t7wtH7UpwlxvPGF2oNGDG",type:"frame",props:{w:421.69057272075224,h:421.69057272075224,name:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aj",typeName:"shape"},"shape:dJO3dII1OgMqoTBZ55da0":{x:871.1868323189601,y:3120.731766570472,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:dJO3dII1OgMqoTBZ55da0",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"ak",props:{dash:"solid",size:"s",fill:"none",color:"black",labelColor:"black",bend:0,start:{type:"binding",boundShapeId:"shape:t7wtH7UpwlxvPGF2oNGDG",normalizedAnchor:{x:.5,y:.5},isExact:!1},end:{type:"point",x:478.28108247981413,y:-237.96098719033853},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:mqA8ycIQ9r4587zj6T7_q":{x:1192.7697762376397,y:3036.8851328803084,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:mqA8ycIQ9r4587zj6T7_q",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"anV",props:{dash:"solid",size:"s",fill:"none",color:"black",labelColor:"black",bend:0,start:{type:"binding",boundShapeId:"shape:SoRC97hcxnz7ZtjP7k47U",normalizedAnchor:{x:.5,y:.5},isExact:!1},end:{type:"binding",boundShapeId:"shape:t7wtH7UpwlxvPGF2oNGDG",normalizedAnchor:{x:.20982350982350984,y:.7445221445221445},isExact:!1},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:z8QOXwsD12C-bVn3WWZk5":{x:1154.9257504806492,y:3147.9738481914596,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:z8QOXwsD12C-bVn3WWZk5",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"am",props:{dash:"solid",size:"s",fill:"none",color:"black",labelColor:"black",bend:0,start:{type:"point",x:229.90070118495373,y:16.583968244528933},end:{type:"binding",boundShapeId:"shape:TN4SgkjwSoshfhulfjE-K",normalizedAnchor:{x:.5,y:.5},isExact:!1},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:TN4SgkjwSoshfhulfjE-K":{x:123.61445593275994,y:74.67700518577931,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:TN4SgkjwSoshfhulfjE-K",type:"geo",props:{w:85.32107625212439,h:103.22502164736125,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"shape:t7wtH7UpwlxvPGF2oNGDG",index:"a1",typeName:"shape"},"shape:SoRC97hcxnz7ZtjP7k47U":{x:1390.611883432534,y:2955.0746341566623,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:SoRC97hcxnz7ZtjP7k47U",type:"geo",props:{w:53.37482074297668,h:70.66090449320109,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"an",typeName:"shape"},"shape:xgWQM8pPdycjiT61X4lYO":{x:973.7939923213091,y:2946.059471063531,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:xgWQM8pPdycjiT61X4lYO",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"ao",props:{dash:"solid",size:"s",fill:"none",color:"black",labelColor:"black",bend:0,start:{type:"binding",boundShapeId:"shape:TN4SgkjwSoshfhulfjE-K",normalizedAnchor:{x:.5,y:.5},isExact:!1},end:{type:"binding",boundShapeId:"shape:SoRC97hcxnz7ZtjP7k47U",normalizedAnchor:{x:.5,y:.5},isExact:!1},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:U9YWfkDoIySAQ_OjgNpEP":{x:1158.4784549394685,y:3105.7205370587008,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:U9YWfkDoIySAQ_OjgNpEP",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"ajV",props:{dash:"solid",size:"s",fill:"none",color:"black",labelColor:"black",bend:0,start:{type:"binding",boundShapeId:"shape:t7wtH7UpwlxvPGF2oNGDG",normalizedAnchor:{x:.7828837828837827,y:.6193140193140187},isExact:!1},end:{type:"binding",boundShapeId:"shape:t7wtH7UpwlxvPGF2oNGDG",normalizedAnchor:{x:.2452214452214452,y:.7429903429903424},isExact:!1},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:w0dPW9ph6czk-MBzpiYnc":{x:1492.3138815502646,y:2833.4209162642646,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:w0dPW9ph6czk-MBzpiYnc",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"ap",props:{dash:"draw",size:"s",fill:"none",color:"black",labelColor:"black",bend:0,start:{type:"point",x:0,y:0},end:{type:"point",x:83.54992748745553,y:78.10670605552968},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:7BAYJzy5uGSEDYr5FGw6v":{x:1585.86380903772,y:2833.4209162642646,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:7BAYJzy5uGSEDYr5FGw6v",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aq",props:{dash:"draw",size:"m",fill:"none",color:"black",labelColor:"black",bend:0,start:{type:"point",x:0,y:0},end:{type:"point",x:83.54992748745553,y:78.10670605552968},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:OosiTC9av_DDWEEUFr5dG":{x:1679.4137365251756,y:2833.4209162642646,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:OosiTC9av_DDWEEUFr5dG",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"ar",props:{dash:"draw",size:"l",fill:"none",color:"black",labelColor:"black",bend:0,start:{type:"point",x:0,y:0},end:{type:"point",x:83.54992748745553,y:78.10670605552968},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:ePkcxQotEVwEa9XfLOwdl":{x:1772.9636640126312,y:2833.4209162642646,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ePkcxQotEVwEa9XfLOwdl",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"as",props:{dash:"draw",size:"xl",fill:"none",color:"black",labelColor:"black",bend:0,start:{type:"point",x:0,y:0},end:{type:"point",x:83.54992748745553,y:78.10670605552968},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:7boD_141j8dl6PWO28o8l":{x:1492.3138815502646,y:2941.349634009681,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:7boD_141j8dl6PWO28o8l",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"apV",props:{dash:"dashed",size:"s",fill:"none",color:"black",labelColor:"black",bend:0,start:{type:"point",x:0,y:0},end:{type:"point",x:83.54992748745553,y:78.10670605552968},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:jqYgEVOOJKV4y7lgG-6xo":{x:1585.86380903772,y:2941.349634009681,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:jqYgEVOOJKV4y7lgG-6xo",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aqV",props:{dash:"dashed",size:"m",fill:"none",color:"black",labelColor:"black",bend:0,start:{type:"point",x:0,y:0},end:{type:"point",x:83.54992748745553,y:78.10670605552968},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:pZl9ZVP2KaHn0avlNhl1q":{x:1679.4137365251756,y:2941.349634009681,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:pZl9ZVP2KaHn0avlNhl1q",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"arV",props:{dash:"dashed",size:"l",fill:"none",color:"black",labelColor:"black",bend:0,start:{type:"point",x:0,y:0},end:{type:"point",x:83.54992748745553,y:78.10670605552968},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:ysFnS7R8jXvVtDpAqrTUF":{x:1772.9636640126312,y:2941.349634009681,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ysFnS7R8jXvVtDpAqrTUF",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"at",props:{dash:"dashed",size:"xl",fill:"none",color:"black",labelColor:"black",bend:0,start:{type:"point",x:0,y:0},end:{type:"point",x:83.54992748745553,y:78.10670605552968},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:hQcn3G_KkgfwW9r_fYdBF":{x:1492.3138815502646,y:3065.1552527155027,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:hQcn3G_KkgfwW9r_fYdBF",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"apl",props:{dash:"dotted",size:"s",fill:"none",color:"black",labelColor:"black",bend:0,start:{type:"point",x:0,y:0},end:{type:"point",x:83.54992748745553,y:78.10670605552968},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:t3grIPmVf2sKDth4EXTin":{x:1585.86380903772,y:3065.1552527155027,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:t3grIPmVf2sKDth4EXTin",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aql",props:{dash:"dotted",size:"m",fill:"none",color:"black",labelColor:"black",bend:0,start:{type:"point",x:0,y:0},end:{type:"point",x:83.54992748745553,y:78.10670605552968},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:qWCi3JZsNeTHOe8Zf_OLD":{x:1679.4137365251756,y:3065.1552527155027,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:qWCi3JZsNeTHOe8Zf_OLD",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"arl",props:{dash:"dotted",size:"l",fill:"none",color:"black",labelColor:"black",bend:0,start:{type:"point",x:0,y:0},end:{type:"point",x:83.54992748745553,y:78.10670605552968},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:lIN7rfP3Jjv03XKRwu5Ez":{x:1772.9636640126312,y:3065.1552527155027,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:lIN7rfP3Jjv03XKRwu5Ez",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"au",props:{dash:"dotted",size:"xl",fill:"none",color:"black",labelColor:"black",bend:0,start:{type:"point",x:0,y:0},end:{type:"point",x:83.54992748745553,y:78.10670605552968},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:XgCnlZdUV2qobh9BvNEsJ":{x:1492.3138815502646,y:3195.219066856921,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:XgCnlZdUV2qobh9BvNEsJ",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"apt",props:{dash:"solid",size:"s",fill:"none",color:"black",labelColor:"black",bend:0,start:{type:"point",x:0,y:0},end:{type:"point",x:83.54992748745553,y:78.10670605552968},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:HDU_F3SQ_9mfzS9a1-Jmh":{x:1585.86380903772,y:3195.219066856921,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:HDU_F3SQ_9mfzS9a1-Jmh",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aqt",props:{dash:"solid",size:"m",fill:"none",color:"black",labelColor:"black",bend:0,start:{type:"point",x:0,y:0},end:{type:"point",x:83.54992748745553,y:78.10670605552968},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:7ZWdB7CeeKRBa5BXWulVb":{x:1679.4137365251756,y:3195.219066856921,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:7ZWdB7CeeKRBa5BXWulVb",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"art",props:{dash:"solid",size:"l",fill:"none",color:"black",labelColor:"black",bend:0,start:{type:"point",x:0,y:0},end:{type:"point",x:83.54992748745553,y:78.10670605552968},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:QWxiJ57fuoLklp7zCPueq":{x:1772.9636640126312,y:3195.219066856921,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:QWxiJ57fuoLklp7zCPueq",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"av",props:{dash:"solid",size:"xl",fill:"none",color:"black",labelColor:"black",bend:0,start:{type:"point",x:0,y:0},end:{type:"point",x:83.54992748745553,y:78.10670605552968},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:KZSlV3vu0n_FlWAy7WqoF":{x:1866.5135915000867,y:2833.4209162642646,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:KZSlV3vu0n_FlWAy7WqoF",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"apG",props:{dash:"draw",size:"s",fill:"none",color:"black",labelColor:"black",bend:-26.629719652615496,start:{type:"point",x:0,y:0},end:{type:"point",x:83.54992748745553,y:78.10670605552968},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:6Snmkh4xfqIlNEVKKC5np":{x:1960.0635189875422,y:2833.4209162642646,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:6Snmkh4xfqIlNEVKKC5np",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aqG",props:{dash:"draw",size:"m",fill:"none",color:"black",labelColor:"black",bend:-24.39733738946812,start:{type:"point",x:0,y:0},end:{type:"point",x:83.54992748745553,y:78.10670605552968},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:KNMxN9gAViwmhD7ItOqOP":{x:2053.6134464749975,y:2833.4209162642646,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:KNMxN9gAViwmhD7ItOqOP",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"arG",props:{dash:"draw",size:"l",fill:"none",color:"black",labelColor:"black",bend:-30.947862602826415,start:{type:"point",x:0,y:0},end:{type:"point",x:83.54992748745553,y:78.10670605552968},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:gSo5BWwKYwDM0xCYswCv4":{x:2147.163373962453,y:2833.4209162642646,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:gSo5BWwKYwDM0xCYswCv4",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"asV",props:{dash:"draw",size:"xl",fill:"none",color:"black",labelColor:"black",bend:-36.314106965932936,start:{type:"point",x:0,y:0},end:{type:"point",x:83.54992748745553,y:78.10670605552968},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:2s--gP-r2TLLnWlBeTYiO":{x:1866.5135915000867,y:2957.4960757212193,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:2s--gP-r2TLLnWlBeTYiO",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"apO",props:{dash:"dashed",size:"s",fill:"none",color:"black",labelColor:"black",bend:-26.629719652615496,start:{type:"point",x:0,y:0},end:{type:"point",x:83.54992748745553,y:78.10670605552968},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:0D-gUiTxINAtSFt94Lw6j":{x:1960.0635189875422,y:2957.4960757212193,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:0D-gUiTxINAtSFt94Lw6j",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aqO",props:{dash:"dashed",size:"m",fill:"none",color:"black",labelColor:"black",bend:-24.39733738946812,start:{type:"point",x:0,y:0},end:{type:"point",x:83.54992748745553,y:78.10670605552968},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:L2B97lymWV7C2Xvn9nFEe":{x:2053.6134464749975,y:2957.4960757212193,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:L2B97lymWV7C2Xvn9nFEe",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"arO",props:{dash:"dashed",size:"l",fill:"none",color:"black",labelColor:"black",bend:-30.947862602826415,start:{type:"point",x:0,y:0},end:{type:"point",x:83.54992748745553,y:78.10670605552968},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:YOUQLEGsZ8I0EoAoG2V3U":{x:2147.163373962453,y:2957.4960757212193,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:YOUQLEGsZ8I0EoAoG2V3U",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"asl",props:{dash:"dashed",size:"xl",fill:"none",color:"black",labelColor:"black",bend:-36.314106965932936,start:{type:"point",x:0,y:0},end:{type:"point",x:83.54992748745553,y:78.10670605552968},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:nt-L54fUsYjqUA3aw1c5g":{x:1866.5135915000867,y:3085.3015467904193,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:nt-L54fUsYjqUA3aw1c5g",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"apS",props:{dash:"dotted",size:"s",fill:"none",color:"black",labelColor:"black",bend:-26.629719652615496,start:{type:"point",x:0,y:0},end:{type:"point",x:83.54992748745553,y:78.10670605552968},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:0KFrjzDeLb2r_rMD02yHl":{x:1960.0635189875422,y:3085.3015467904193,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:0KFrjzDeLb2r_rMD02yHl",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aqS",props:{dash:"dotted",size:"m",fill:"none",color:"black",labelColor:"black",bend:-24.39733738946812,start:{type:"point",x:0,y:0},end:{type:"point",x:83.54992748745553,y:78.10670605552968},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:Wdu5SwQnH2wMlT--FQRW_":{x:2053.6134464749975,y:3085.3015467904193,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Wdu5SwQnH2wMlT--FQRW_",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"arS",props:{dash:"dotted",size:"l",fill:"none",color:"black",labelColor:"black",bend:-30.947862602826415,start:{type:"point",x:0,y:0},end:{type:"point",x:83.54992748745553,y:78.10670605552968},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:-Z7j9fWN2xufnFuJQnvuF":{x:2147.163373962453,y:3085.3015467904193,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:-Z7j9fWN2xufnFuJQnvuF",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"ast",props:{dash:"dotted",size:"xl",fill:"none",color:"black",labelColor:"black",bend:-36.314106965932936,start:{type:"point",x:0,y:0},end:{type:"point",x:83.54992748745553,y:78.10670605552968},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:SIAR9TnScvMVFTWDOSPRW":{x:1866.5135915000867,y:3205.2113258941768,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:SIAR9TnScvMVFTWDOSPRW",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"apU",props:{dash:"solid",size:"s",fill:"none",color:"black",labelColor:"black",bend:-26.629719652615496,start:{type:"point",x:0,y:0},end:{type:"point",x:83.54992748745553,y:78.10670605552968},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:oz9AhCRTXogyGlr1pnAD0":{x:1960.0635189875422,y:3205.2113258941768,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:oz9AhCRTXogyGlr1pnAD0",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aqU",props:{dash:"solid",size:"m",fill:"none",color:"black",labelColor:"black",bend:-24.39733738946812,start:{type:"point",x:0,y:0},end:{type:"point",x:83.54992748745553,y:78.10670605552968},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:KgeMeW1TAk7BTjDmCwAEW":{x:2053.6134464749975,y:3205.2113258941768,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:KgeMeW1TAk7BTjDmCwAEW",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"arU",props:{dash:"solid",size:"l",fill:"none",color:"black",labelColor:"black",bend:-30.947862602826415,start:{type:"point",x:0,y:0},end:{type:"point",x:83.54992748745553,y:78.10670605552968},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:OYBHK6WWADjnW_hzZhgHD":{x:2147.163373962453,y:3205.2113258941768,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:OYBHK6WWADjnW_hzZhgHD",type:"arrow",parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"asx",props:{dash:"solid",size:"xl",fill:"none",color:"black",labelColor:"black",bend:-36.314106965932936,start:{type:"point",x:0,y:0},end:{type:"point",x:83.54992748745553,y:78.10670605552968},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",font:"draw"},typeName:"shape"},"shape:67c6gs0hrJ2PZuTd48yNP":{x:-1856.6882858651497,y:3557.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:67c6gs0hrJ2PZuTd48yNP",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"draw",size:"s",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aL8",typeName:"shape"},"shape:p67OAG-v4s76-VwRAoM2i":{x:-1856.6882858651497,y:4567.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:p67OAG-v4s76-VwRAoM2i",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"green",labelColor:"black",fill:"semi",dash:"dashed",size:"s",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLK",typeName:"shape"},"shape:_IKMwsbh1soNMELaTOUCb":{x:-1856.6882858651497,y:5588.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:_IKMwsbh1soNMELaTOUCb",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"yellow",labelColor:"black",fill:"semi",dash:"dotted",size:"s",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLQ",typeName:"shape"},"shape:CmZBjWmatl5jcHoMw1JjD":{x:-1856.6882858651497,y:6627.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:CmZBjWmatl5jcHoMw1JjD",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"blue",labelColor:"black",fill:"semi",dash:"solid",size:"s",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLU",typeName:"shape"},"shape:aujZiBWZddmH4aSCN-K03":{x:3327.3117141348503,y:3557.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:aujZiBWZddmH4aSCN-K03",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-violet",labelColor:"black",fill:"semi",dash:"draw",size:"m",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aM8",typeName:"shape"},"shape:VKQ207QLXqHEZ4Pm5G5uQ":{x:3327.3117141348503,y:4567.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:VKQ207QLXqHEZ4Pm5G5uQ",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"dashed",size:"m",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMK",typeName:"shape"},"shape:lphR82qiBEZ79fH40sdIt":{x:3327.3117141348503,y:5588.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:lphR82qiBEZ79fH40sdIt",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"green",labelColor:"black",fill:"semi",dash:"dotted",size:"m",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMQ",typeName:"shape"},"shape:IAXRLengvSp7WXsywG286":{x:3327.3117141348503,y:6627.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:IAXRLengvSp7WXsywG286",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"yellow",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMU",typeName:"shape"},"shape:_osiSo2GfuW7zdEeHLt7z":{x:2247.3117141348503,y:3773.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:_osiSo2GfuW7zdEeHLt7z",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"blue",labelColor:"black",fill:"semi",dash:"draw",size:"l",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aN8",typeName:"shape"},"shape:oBP80zrsl5u6pgFEbOdxf":{x:2247.3117141348503,y:4783.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:oBP80zrsl5u6pgFEbOdxf",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-violet",labelColor:"black",fill:"semi",dash:"dashed",size:"l",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNK",typeName:"shape"},"shape:apfIavqlkp67_IbCjSSrV":{x:2247.3117141348503,y:5804.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:apfIavqlkp67_IbCjSSrV",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"dotted",size:"l",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNQ",typeName:"shape"},"shape:HQ09uXQSzDJOIwzwSmgDz":{x:-1640.6882858651497,y:6843.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:HQ09uXQSzDJOIwzwSmgDz",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"green",labelColor:"black",fill:"semi",dash:"solid",size:"l",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNU",typeName:"shape"},"shape:9EQfUd1YF735SpX03SbRi":{x:1167.3117141348503,y:3989.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:9EQfUd1YF735SpX03SbRi",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"yellow",labelColor:"black",fill:"semi",dash:"draw",size:"xl",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOG",typeName:"shape"},"shape:6Fyz-rz3OETlttt0qUMMF":{x:1167.3117141348503,y:4999.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:6Fyz-rz3OETlttt0qUMMF",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"blue",labelColor:"black",fill:"semi",dash:"dashed",size:"xl",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOd",typeName:"shape"},"shape:9O9_o69Y94MgcP7abkHn7":{x:1167.3117141348503,y:6020.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:9O9_o69Y94MgcP7abkHn7",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-violet",labelColor:"black",fill:"semi",dash:"dotted",size:"xl",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOp",typeName:"shape"},"shape:bRWUOrrIUGVSHNuSB9ey6":{x:3543.3117141348503,y:6843.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:bRWUOrrIUGVSHNuSB9ey6",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"xl",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOx",typeName:"shape"},"shape:UGNzs9afK19Oyi0Ula5Gf":{x:735.3117141348503,y:3557.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:UGNzs9afK19Oyi0Ula5Gf",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"blue",labelColor:"black",fill:"solid",dash:"draw",size:"s",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLC",typeName:"shape"},"shape:Gf7TvoDbnEkQctEGXlq5B":{x:735.3117141348503,y:4567.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Gf7TvoDbnEkQctEGXlq5B",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-violet",labelColor:"black",fill:"solid",dash:"dashed",size:"s",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLM",typeName:"shape"},"shape:VcHb55vP6nsaUY0nI_8-j":{x:735.3117141348503,y:5588.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:VcHb55vP6nsaUY0nI_8-j",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"dotted",size:"s",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLR",typeName:"shape"},"shape:o0WlWp1TxRHAm_4a00ZsM":{x:735.3117141348503,y:6627.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:o0WlWp1TxRHAm_4a00ZsM",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"green",labelColor:"black",fill:"solid",dash:"solid",size:"s",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLUV",typeName:"shape"},"shape:twu848MH-C2cr9E1DH0Lv":{x:-344.68828586514974,y:3773.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:twu848MH-C2cr9E1DH0Lv",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"yellow",labelColor:"black",fill:"solid",dash:"draw",size:"m",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMC",typeName:"shape"},"shape:joBOfIIhxZ0Zvmlpdmoc8":{x:-344.68828586514974,y:4783.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:joBOfIIhxZ0Zvmlpdmoc8",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"blue",labelColor:"black",fill:"solid",dash:"dashed",size:"m",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMM",typeName:"shape"},"shape:e6QBqHyqvs_V6kM_uVtrD":{x:-344.6882858651502,y:5804.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:e6QBqHyqvs_V6kM_uVtrD",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-violet",labelColor:"black",fill:"solid",dash:"dotted",size:"m",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMR",typeName:"shape"},"shape:B0wYdWFZzDBdkh5YX5sT4":{x:3759.3117141348503,y:7059.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:B0wYdWFZzDBdkh5YX5sT4",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMUV",typeName:"shape"},"shape:zFcyraOEAHsp3F7hLCuOy":{x:-1424.6882858651497,y:3989.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:zFcyraOEAHsp3F7hLCuOy",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"green",labelColor:"black",fill:"solid",dash:"draw",size:"l",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNC",typeName:"shape"},"shape:ek8SQLT8_WCmhsiaSYk5E":{x:-1424.6882858651497,y:4999.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ek8SQLT8_WCmhsiaSYk5E",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"yellow",labelColor:"black",fill:"solid",dash:"dashed",size:"l",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNM",typeName:"shape"},"shape:IE1IYcKP_Kye-oLyTNkuS":{x:-1424.6882858651497,y:6020.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:IE1IYcKP_Kye-oLyTNkuS",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"blue",labelColor:"black",fill:"solid",dash:"dotted",size:"l",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNR",typeName:"shape"},"shape:ICAZX70gmH05Bm4OmAyvQ":{x:951.3117141348503,y:6843.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ICAZX70gmH05Bm4OmAyvQ",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-violet",labelColor:"black",fill:"solid",dash:"solid",size:"l",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNUV",typeName:"shape"},"shape:rGkWPdyVaCDNeivJXFuD7":{x:3759.3117141348503,y:3989.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:rGkWPdyVaCDNeivJXFuD7",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"draw",size:"xl",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOO",typeName:"shape"},"shape:Q5ku3WnLeqg22uHZHhPxe":{x:3759.3117141348503,y:4999.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Q5ku3WnLeqg22uHZHhPxe",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"green",labelColor:"black",fill:"solid",dash:"dashed",size:"xl",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOh",typeName:"shape"},"shape:IZg-4Gc2jxsJ757-Gw5nF":{x:3759.3117141348503,y:6020.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:IZg-4Gc2jxsJ757-Gw5nF",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"yellow",labelColor:"black",fill:"solid",dash:"dotted",size:"xl",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOr",typeName:"shape"},"shape:bZtCH4LKemjO7nPUQFHV6":{x:-128.68828586514974,y:7059.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:bZtCH4LKemjO7nPUQFHV6",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"blue",labelColor:"black",fill:"solid",dash:"solid",size:"xl",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOz",typeName:"shape"},"shape:hoyfGizMtcQDy_9R-CyjD":{x:2031.3117141348503,y:3557.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:hoyfGizMtcQDy_9R-CyjD",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"yellow",labelColor:"black",fill:"pattern",dash:"draw",size:"s",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLE",typeName:"shape"},"shape:UvRJa8RIb1Sef46oo5iUL":{x:2031.3117141348503,y:4567.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:UvRJa8RIb1Sef46oo5iUL",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"blue",labelColor:"black",fill:"pattern",dash:"dashed",size:"s",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLN",typeName:"shape"},"shape:byFMxvgKNb5k7H4NvF9-F":{x:2031.3117141348503,y:5588.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:byFMxvgKNb5k7H4NvF9-F",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-violet",labelColor:"black",fill:"pattern",dash:"dotted",size:"s",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLRV",typeName:"shape"},"shape:1upDQ4E2XxPNvZloU2PVO":{x:2031.3117141348503,y:6627.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:1upDQ4E2XxPNvZloU2PVO",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"solid",size:"s",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLUl",typeName:"shape"},"shape:nq2k2iQ64SDzntIhGILbt":{x:951.3117141348503,y:3773.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:nq2k2iQ64SDzntIhGILbt",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"green",labelColor:"black",fill:"pattern",dash:"draw",size:"m",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aME",typeName:"shape"},"shape:ZHAQS7_c2AXavJyTdqpFO":{x:951.3117141348503,y:4783.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ZHAQS7_c2AXavJyTdqpFO",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"yellow",labelColor:"black",fill:"pattern",dash:"dashed",size:"m",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMN",typeName:"shape"},"shape:LMf_OSerRkpgaM0A0BP-3":{x:951.3117141348503,y:5804.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:LMf_OSerRkpgaM0A0BP-3",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"blue",labelColor:"black",fill:"pattern",dash:"dotted",size:"m",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMRV",typeName:"shape"},"shape:L8SACVLE7ya89pkbXBIYz":{x:-1208.6882858651497,y:7275.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:L8SACVLE7ya89pkbXBIYz",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-violet",labelColor:"black",fill:"pattern",dash:"solid",size:"m",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMUl",typeName:"shape"},"shape:zPrTqK4tgfM8MD9Wjb53f":{x:-128.68828586514974,y:3989.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:zPrTqK4tgfM8MD9Wjb53f",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"draw",size:"l",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNE",typeName:"shape"},"shape:hpw5YoijUtHiMl4iyvKnG":{x:-128.68828586514974,y:4999.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:hpw5YoijUtHiMl4iyvKnG",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"green",labelColor:"black",fill:"pattern",dash:"dashed",size:"l",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNN",typeName:"shape"},"shape:9Kq3_viXKYz5WY_lXBwCN":{x:-128.68828586514974,y:6020.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:9Kq3_viXKYz5WY_lXBwCN",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"yellow",labelColor:"black",fill:"pattern",dash:"dotted",size:"l",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNRV",typeName:"shape"},"shape:vGWllF25AYiseoAUT9svY":{x:2247.3117141348503,y:6843.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:vGWllF25AYiseoAUT9svY",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"blue",labelColor:"black",fill:"pattern",dash:"solid",size:"l",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNUl",typeName:"shape"},"shape:X7qBs9jHj9YpbkLStTNJM":{x:-1208.6882858651497,y:4205.020273028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:X7qBs9jHj9YpbkLStTNJM",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-violet",labelColor:"black",fill:"pattern",dash:"draw",size:"xl",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOS",typeName:"shape"},"shape:fnkhJZ0fBNCFmFzJqfeMI":{x:-1208.6882858651497,y:5215.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:fnkhJZ0fBNCFmFzJqfeMI",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"dashed",size:"xl",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOj",typeName:"shape"},"shape:iozhkZo1AcsbnS67fSrHD":{x:-1208.6882858651497,y:6236.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:iozhkZo1AcsbnS67fSrHD",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"green",labelColor:"black",fill:"pattern",dash:"dotted",size:"xl",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOs",typeName:"shape"},"shape:JA9K5onmgndLpSJmZUItO":{x:1167.3117141348503,y:7059.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:JA9K5onmgndLpSJmZUItO",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"yellow",labelColor:"black",fill:"pattern",dash:"solid",size:"xl",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOzV",typeName:"shape"},"shape:v5HLrkaxpDt9pcFikMr5k":{x:-560.6882858651497,y:3557.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:v5HLrkaxpDt9pcFikMr5k",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-violet",labelColor:"black",fill:"none",dash:"draw",size:"s",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLA",typeName:"shape"},"shape:R53yEmf7KSZQ0kyNkDi2e":{x:-560.6882858651497,y:4567.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:R53yEmf7KSZQ0kyNkDi2e",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"s",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLL",typeName:"shape"},"shape:I-6eAIxqNgfeiPtdfTdbO":{x:-560.6882858651497,y:5588.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:I-6eAIxqNgfeiPtdfTdbO",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"green",labelColor:"black",fill:"none",dash:"dotted",size:"s",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLQV",typeName:"shape"},"shape:N7wWTWt8VAI6ZTLT8V2i3":{x:-560.6882858651497,y:6627.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:N7wWTWt8VAI6ZTLT8V2i3",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"yellow",labelColor:"black",fill:"none",dash:"solid",size:"s",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLUG",typeName:"shape"},"shape:rjjAs_rY3GkWM82v3W7PQ":{x:-1640.6882858651497,y:3773.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:rjjAs_rY3GkWM82v3W7PQ",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"blue",labelColor:"black",fill:"none",dash:"draw",size:"m",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMA",typeName:"shape"},"shape:U509zGRhXAz6NEDyU-1M0":{x:-1640.6882858651497,y:4783.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:U509zGRhXAz6NEDyU-1M0",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-violet",labelColor:"black",fill:"none",dash:"dashed",size:"m",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aML",typeName:"shape"},"shape:42Ftsey4TgRU8p87DbsnY":{x:-1640.6882858651497,y:5804.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:42Ftsey4TgRU8p87DbsnY",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"m",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMQV",typeName:"shape"},"shape:g-R1Hr36dRotkol-bSQ8G":{x:2463.3117141348503,y:7059.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:g-R1Hr36dRotkol-bSQ8G",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"green",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMUG",typeName:"shape"},"shape:GCyYjDeuczxSyWAQRm4W9":{x:3543.3117141348503,y:3773.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:GCyYjDeuczxSyWAQRm4W9",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"yellow",labelColor:"black",fill:"none",dash:"draw",size:"l",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNA",typeName:"shape"},"shape:qCql-bmQ68s1f1o1XG4eD":{x:3543.3117141348503,y:4783.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:qCql-bmQ68s1f1o1XG4eD",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"blue",labelColor:"black",fill:"none",dash:"dashed",size:"l",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNL",typeName:"shape"},"shape:y8U11EFss5vv6FuQmLBKY":{x:3543.3117141348503,y:5804.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:y8U11EFss5vv6FuQmLBKY",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-violet",labelColor:"black",fill:"none",dash:"dotted",size:"l",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNQV",typeName:"shape"},"shape:aM0GI7is1Ia1L_ZrLagHE":{x:-344.68828586514974,y:6843.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:aM0GI7is1Ia1L_ZrLagHE",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"l",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNUG",typeName:"shape"},"shape:EmckmMIuUcEy61SGE9GV4":{x:2463.3117141348503,y:3989.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:EmckmMIuUcEy61SGE9GV4",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"green",labelColor:"black",fill:"none",dash:"draw",size:"xl",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOK",typeName:"shape"},"shape:7lbTMSn2xry8QjvFU_5yu":{x:2463.3117141348503,y:4999.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:7lbTMSn2xry8QjvFU_5yu",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"yellow",labelColor:"black",fill:"none",dash:"dashed",size:"xl",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOf",typeName:"shape"},"shape:Rlly989hI3lcTORTJkQp1":{x:2463.3117141348503,y:6020.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Rlly989hI3lcTORTJkQp1",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"blue",labelColor:"black",fill:"none",dash:"dotted",size:"xl",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOq",typeName:"shape"},"shape:nLagVTm_PJNdGmF7ciK3j":{x:-1424.6882858651497,y:7059.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:nLagVTm_PJNdGmF7ciK3j",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-violet",labelColor:"black",fill:"none",dash:"solid",size:"xl",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOy",typeName:"shape"},"shape:QVQoXDQIHshAhhDq8f_hJ":{x:-1208.6882858651497,y:3557.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:QVQoXDQIHshAhhDq8f_hJ",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"grey",labelColor:"black",fill:"semi",dash:"draw",size:"s",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aL9",typeName:"shape"},"shape:fjfSjRCBF6SvliDP1-q5J":{x:87.31171413485026,y:3557.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:fjfSjRCBF6SvliDP1-q5J",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"violet",labelColor:"black",fill:"none",dash:"draw",size:"s",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLB",typeName:"shape"},"shape:2JdyHz8Qh0_DErpYGnPKJ":{x:1383.3117141348503,y:3557.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:2JdyHz8Qh0_DErpYGnPKJ",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-blue",labelColor:"black",fill:"solid",dash:"draw",size:"s",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLD",typeName:"shape"},"shape:MP3B1abFin4yZt5nIw0Eg":{x:2679.3117141348503,y:3557.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:MP3B1abFin4yZt5nIw0Eg",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"orange",labelColor:"black",fill:"pattern",dash:"draw",size:"s",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLF",typeName:"shape"},"shape:IhuzMqYo88CmT4GJEx0X9":{x:-1208.6882858651497,y:4567.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:IhuzMqYo88CmT4GJEx0X9",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-green",labelColor:"black",fill:"semi",dash:"dashed",size:"s",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLKV",typeName:"shape"},"shape:6vIQ-Zi0dcwba8DIVqIL_":{x:87.31171413485026,y:4567.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:6vIQ-Zi0dcwba8DIVqIL_",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"grey",labelColor:"black",fill:"none",dash:"dashed",size:"s",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLLV",typeName:"shape"},"shape:Asj0jo8-6OblmcyXpqYs-":{x:1383.3117141348503,y:4567.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Asj0jo8-6OblmcyXpqYs-",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"violet",labelColor:"black",fill:"solid",dash:"dashed",size:"s",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLMV",typeName:"shape"},"shape:Qn_57p7YCON0Zb_eYgr9S":{x:2679.3117141348503,y:4567.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Qn_57p7YCON0Zb_eYgr9S",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-blue",labelColor:"black",fill:"pattern",dash:"dashed",size:"s",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLNV",typeName:"shape"},"shape:SIOkwa_0GsAdWkxa7Ik5R":{x:-1208.6882858651497,y:5588.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:SIOkwa_0GsAdWkxa7Ik5R",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"orange",labelColor:"black",fill:"semi",dash:"dotted",size:"s",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLQG",typeName:"shape"},"shape:Mvye4u3vAsSihMSwqI6Tx":{x:87.31171413485026,y:5588.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Mvye4u3vAsSihMSwqI6Tx",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-green",labelColor:"black",fill:"none",dash:"dotted",size:"s",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLQl",typeName:"shape"},"shape:vEelWh2__EchkKvZdqtQq":{x:1383.3117141348503,y:5588.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:vEelWh2__EchkKvZdqtQq",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"grey",labelColor:"black",fill:"solid",dash:"dotted",size:"s",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLRG",typeName:"shape"},"shape:8-7PsQpZ4-hxJKWWX2L5L":{x:2679.3117141348503,y:5588.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:8-7PsQpZ4-hxJKWWX2L5L",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"violet",labelColor:"black",fill:"pattern",dash:"dotted",size:"s",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLRl",typeName:"shape"},"shape:T63MqIgjEnMykJFRuW0CT":{x:-1208.6882858651497,y:6627.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:T63MqIgjEnMykJFRuW0CT",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-blue",labelColor:"black",fill:"semi",dash:"solid",size:"s",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLU8",typeName:"shape"},"shape:jpqPs6nTAxbAex6UPabe6":{x:87.31171413485026,y:6627.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:jpqPs6nTAxbAex6UPabe6",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"orange",labelColor:"black",fill:"none",dash:"solid",size:"s",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLUO",typeName:"shape"},"shape:3WIlSEqkw8WJa_Qq2K7-D":{x:1383.3117141348503,y:6627.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:3WIlSEqkw8WJa_Qq2K7-D",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-green",labelColor:"black",fill:"solid",dash:"solid",size:"s",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLUd",typeName:"shape"},"shape:ltqJOhhjW9czUoZ63brFr":{x:2679.3117141348503,y:6627.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ltqJOhhjW9czUoZ63brFr",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"grey",labelColor:"black",fill:"pattern",dash:"solid",size:"s",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLUt",typeName:"shape"},"shape:jkig4mctp_OFjK_MUZL6Q":{x:3975.3117141348503,y:3557.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:jkig4mctp_OFjK_MUZL6Q",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"violet",labelColor:"black",fill:"semi",dash:"draw",size:"m",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aM9",typeName:"shape"},"shape:gXklfOQf3i6tejtmwlvEe":{x:-992.6882858651497,y:3773.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:gXklfOQf3i6tejtmwlvEe",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-blue",labelColor:"black",fill:"none",dash:"draw",size:"m",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMB",typeName:"shape"},"shape:pt-d2gbSn4urWsxe1aHCw":{x:303.31171413485026,y:3773.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:pt-d2gbSn4urWsxe1aHCw",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"orange",labelColor:"black",fill:"solid",dash:"draw",size:"m",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMD",typeName:"shape"},"shape:MtZxL3kgmh2e3dtkZqG2q":{x:1599.3117141348503,y:3773.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:MtZxL3kgmh2e3dtkZqG2q",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-green",labelColor:"black",fill:"pattern",dash:"draw",size:"m",font:"draw",text:"hello",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMF",typeName:"shape"},"shape:cl8BMa9bd8hw6BYWrnONj":{x:3975.3117141348503,y:4567.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:cl8BMa9bd8hw6BYWrnONj",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"grey",labelColor:"black",fill:"semi",dash:"dashed",size:"m",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMKV",typeName:"shape"},"shape:3HvtWepvUd83ceJz8O_gh":{x:-992.6882858651497,y:4783.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:3HvtWepvUd83ceJz8O_gh",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"violet",labelColor:"black",fill:"none",dash:"dashed",size:"m",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMLV",typeName:"shape"},"shape:7NZXxv0BOLnw4bisFdJxH":{x:303.31171413485026,y:4783.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:7NZXxv0BOLnw4bisFdJxH",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-blue",labelColor:"black",fill:"solid",dash:"dashed",size:"m",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMMV",typeName:"shape"},"shape:U34JIohcCM-w0gKLOR-PO":{x:1599.3117141348503,y:4783.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:U34JIohcCM-w0gKLOR-PO",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"orange",labelColor:"black",fill:"pattern",dash:"dashed",size:"m",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMNV",typeName:"shape"},"shape:o83QRhPq8XJqOZhs-OZaQ":{x:3975.3117141348503,y:5588.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:o83QRhPq8XJqOZhs-OZaQ",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-green",labelColor:"black",fill:"semi",dash:"dotted",size:"m",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMQG",typeName:"shape"},"shape:XAsMK2ZbSgGsF20K4olO1":{x:-992.6882858651502,y:5804.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:XAsMK2ZbSgGsF20K4olO1",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"grey",labelColor:"black",fill:"none",dash:"dotted",size:"m",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMQl",typeName:"shape"},"shape:FBz6lnPmPjaNPc6k-2MRI":{x:303.31171413485026,y:5804.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:FBz6lnPmPjaNPc6k-2MRI",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"violet",labelColor:"black",fill:"solid",dash:"dotted",size:"m",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMRG",typeName:"shape"},"shape:bLUPMqSSkrRMheTijIJ4S":{x:1599.3117141348503,y:5804.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:bLUPMqSSkrRMheTijIJ4S",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-blue",labelColor:"black",fill:"pattern",dash:"dotted",size:"m",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMRl",typeName:"shape"},"shape:El4WyAvYXH8lhsqUc-aIU":{x:3975.3117141348503,y:6627.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:El4WyAvYXH8lhsqUc-aIU",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"orange",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMU8",typeName:"shape"},"shape:mwz5eXSfrDDAd7mpccOuC":{x:3111.3117141348503,y:7059.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:mwz5eXSfrDDAd7mpccOuC",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-green",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMUO",typeName:"shape"},"shape:d2ckm6j1E50DgMry384oK":{x:-1856.6882858651497,y:7275.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:d2ckm6j1E50DgMry384oK",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"grey",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMUd",typeName:"shape"},"shape:stz6chvvVwv4BGmKNWWD1":{x:-560.6882858651497,y:7275.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:stz6chvvVwv4BGmKNWWD1",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"violet",labelColor:"black",fill:"pattern",dash:"solid",size:"m",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMUt",typeName:"shape"},"shape:jfoZ-2_o71421ud8xIYcw":{x:2895.3117141348503,y:3773.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:jfoZ-2_o71421ud8xIYcw",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-blue",labelColor:"black",fill:"semi",dash:"draw",size:"l",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aN9",typeName:"shape"},"shape:iNl7c32XR-AlW43iJRVQX":{x:4191.31171413485,y:3773.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:iNl7c32XR-AlW43iJRVQX",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"orange",labelColor:"black",fill:"none",dash:"draw",size:"l",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNB",typeName:"shape"},"shape:-v_r0ub28n5F46mKZQMK5":{x:-776.6882858651497,y:3989.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:-v_r0ub28n5F46mKZQMK5",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-green",labelColor:"black",fill:"solid",dash:"draw",size:"l",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aND",typeName:"shape"},"shape:TCUiRnuBBz8HbqYg1IoBj":{x:519.3117141348503,y:3989.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:TCUiRnuBBz8HbqYg1IoBj",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"grey",labelColor:"black",fill:"pattern",dash:"draw",size:"l",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNF",typeName:"shape"},"shape:zX0q2Fl3z8FNZ7mRjPZNC":{x:2895.3117141348503,y:4783.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:zX0q2Fl3z8FNZ7mRjPZNC",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"violet",labelColor:"black",fill:"semi",dash:"dashed",size:"l",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNKV",typeName:"shape"},"shape:qM7okX9pUfcfXp4uMEjH5":{x:4191.31171413485,y:4783.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:qM7okX9pUfcfXp4uMEjH5",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-blue",labelColor:"black",fill:"none",dash:"dashed",size:"l",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNLV",typeName:"shape"},"shape:N91vBe2NwMxXmocSo0K5Y":{x:-776.6882858651497,y:4999.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:N91vBe2NwMxXmocSo0K5Y",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"orange",labelColor:"black",fill:"solid",dash:"dashed",size:"l",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNMV",typeName:"shape"},"shape:VCVbdEzYjLbzodxIyv_y3":{x:519.3117141348503,y:4999.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:VCVbdEzYjLbzodxIyv_y3",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-green",labelColor:"black",fill:"pattern",dash:"dashed",size:"l",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNNV",typeName:"shape"},"shape:J3UmLFGRLXKmBHxU1dVfG":{x:2895.3117141348503,y:5804.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:J3UmLFGRLXKmBHxU1dVfG",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"grey",labelColor:"black",fill:"semi",dash:"dotted",size:"l",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNQG",typeName:"shape"},"shape:8foUIB_uXjHoZ3G5uffPu":{x:4191.31171413485,y:5804.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:8foUIB_uXjHoZ3G5uffPu",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"violet",labelColor:"black",fill:"none",dash:"dotted",size:"l",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNQl",typeName:"shape"},"shape:cCekLjoRxAfkyh31A9EZB":{x:-776.6882858651497,y:6020.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:cCekLjoRxAfkyh31A9EZB",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-blue",labelColor:"black",fill:"solid",dash:"dotted",size:"l",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNRG",typeName:"shape"},"shape:v7h1mlotOIQkGHd0YDt8Q":{x:519.3117141348503,y:6020.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:v7h1mlotOIQkGHd0YDt8Q",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"orange",labelColor:"black",fill:"pattern",dash:"dotted",size:"l",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNRl",typeName:"shape"},"shape:FMnQdF0jyNHnAXS_M6N9C":{x:-992.6882858651497,y:6843.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:FMnQdF0jyNHnAXS_M6N9C",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-green",labelColor:"black",fill:"semi",dash:"solid",size:"l",font:"draw",text:"hello",align:"middle",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNU8",typeName:"shape"},"shape:qrTgLKyRNsZwH1W79uEMG":{x:303.31171413485026,y:6843.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:qrTgLKyRNsZwH1W79uEMG",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"grey",labelColor:"black",fill:"none",dash:"solid",size:"l",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNUO",typeName:"shape"},"shape:7zEkMpylOweTRvl9NxRAL":{x:1599.3117141348503,y:6843.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:7zEkMpylOweTRvl9NxRAL",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"violet",labelColor:"black",fill:"solid",dash:"solid",size:"l",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNUd",typeName:"shape"},"shape:h4KtKUK3mcSJeWZCarrCe":{x:2895.3117141348503,y:6843.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:h4KtKUK3mcSJeWZCarrCe",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-blue",labelColor:"black",fill:"pattern",dash:"solid",size:"l",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNUt",typeName:"shape"},"shape:MkJ2_PapRLvkzhr9OXsOr":{x:1815.3117141348503,y:3989.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:MkJ2_PapRLvkzhr9OXsOr",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"orange",labelColor:"black",fill:"semi",dash:"draw",size:"xl",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOI",typeName:"shape"},"shape:fo7eTBWR6zjW8qcqsJiot":{x:3111.3117141348503,y:3989.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:fo7eTBWR6zjW8qcqsJiot",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-green",labelColor:"black",fill:"none",dash:"draw",size:"xl",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOM",typeName:"shape"},"shape:DtG0eWFZQJQruQ8EIbNpg":{x:-1856.6882858651497,y:4205.020273028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:DtG0eWFZQJQruQ8EIbNpg",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"grey",labelColor:"black",fill:"solid",dash:"draw",size:"xl",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOQ",typeName:"shape"},"shape:ZfHEb3GvaMtMiC9np-n1O":{x:-560.6882858651497,y:4205.020273028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ZfHEb3GvaMtMiC9np-n1O",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"violet",labelColor:"black",fill:"pattern",dash:"draw",size:"xl",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOU",typeName:"shape"},"shape:98V54vGeLwO8GY_uCyofE":{x:1815.3117141348503,y:4999.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:98V54vGeLwO8GY_uCyofE",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-blue",labelColor:"black",fill:"semi",dash:"dashed",size:"xl",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOe",typeName:"shape"},"shape:6v09QBkm6A8pL0iVPeAJT":{x:3111.3117141348503,y:4999.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:6v09QBkm6A8pL0iVPeAJT",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"orange",labelColor:"black",fill:"none",dash:"dashed",size:"xl",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOg",typeName:"shape"},"shape:DodW95FdBSn_ZHd-tnB1A":{x:-1856.6882858651497,y:5215.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:DodW95FdBSn_ZHd-tnB1A",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-green",labelColor:"black",fill:"solid",dash:"dashed",size:"xl",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOi",typeName:"shape"},"shape:JNH_7AWmfjpzQYdvxKWFD":{x:-560.6882858651497,y:5215.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:JNH_7AWmfjpzQYdvxKWFD",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"grey",labelColor:"black",fill:"pattern",dash:"dashed",size:"xl",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOk",typeName:"shape"},"shape:dr7rUIZw41Crmg_QuHyxF":{x:1815.3117141348503,y:6020.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:dr7rUIZw41Crmg_QuHyxF",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"violet",labelColor:"black",fill:"semi",dash:"dotted",size:"xl",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOpV",typeName:"shape"},"shape:N5ZTSgI_Y5rrXjO7f4pI1":{x:3111.3117141348503,y:6020.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:N5ZTSgI_Y5rrXjO7f4pI1",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-blue",labelColor:"black",fill:"none",dash:"dotted",size:"xl",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOqV",typeName:"shape"},"shape:ww6w-wUgeWVoi6yI4N7Fe":{x:-1856.6882858651497,y:6236.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ww6w-wUgeWVoi6yI4N7Fe",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"orange",labelColor:"black",fill:"solid",dash:"dotted",size:"xl",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOrV",typeName:"shape"},"shape:MjFhnGtP55hMna8-eVY9G":{x:-560.6882858651497,y:6236.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:MjFhnGtP55hMna8-eVY9G",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-green",labelColor:"black",fill:"pattern",dash:"dotted",size:"xl",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOsV",typeName:"shape"},"shape:dYAPNJ3QCgoxBmZqLZNDQ":{x:4191.31171413485,y:6843.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:dYAPNJ3QCgoxBmZqLZNDQ",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"grey",labelColor:"black",fill:"semi",dash:"solid",size:"xl",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOxV",typeName:"shape"},"shape:X7Ng2CtUvzw-mPbv0UYjD":{x:-776.6882858651497,y:7059.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:X7Ng2CtUvzw-mPbv0UYjD",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"violet",labelColor:"black",fill:"none",dash:"solid",size:"xl",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOyV",typeName:"shape"},"shape:SunQmUjmvVtLmab8v82So":{x:519.3117141348503,y:7059.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:SunQmUjmvVtLmab8v82So",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-blue",labelColor:"black",fill:"solid",dash:"solid",size:"xl",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOzG",typeName:"shape"},"shape:tm4F2UV8qtquQMxvS-j5d":{x:1815.3117141348503,y:7059.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:tm4F2UV8qtquQMxvS-j5d",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"orange",labelColor:"black",fill:"pattern",dash:"solid",size:"xl",font:"draw",text:"hello",align:"middle",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOzl",typeName:"shape"},"shape:_gngEcO2LTaj75nAKxfxw":{x:-1640.6882858651497,y:3557.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:_gngEcO2LTaj75nAKxfxw",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-red",labelColor:"black",fill:"semi",dash:"draw",size:"s",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aL8V",typeName:"shape"},"shape:O8VuqHWBhHGyCdX5scloT":{x:-992.6882858651497,y:3557.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:O8VuqHWBhHGyCdX5scloT",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"red",labelColor:"black",fill:"semi",dash:"draw",size:"s",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aL9V",typeName:"shape"},"shape:BU1rnRyp0kNB86ikFUCqi":{x:-344.68828586514974,y:3557.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:BU1rnRyp0kNB86ikFUCqi",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"s",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLAV",typeName:"shape"},"shape:69awhQ_mkxxRwC-ZWCxw-":{x:303.31171413485026,y:3557.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:69awhQ_mkxxRwC-ZWCxw-",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"s",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLBV",typeName:"shape"},"shape:WPQ2nNWmt9wYLZDHoIzIe":{x:951.3117141348503,y:3557.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:WPQ2nNWmt9wYLZDHoIzIe",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"draw",size:"s",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLCV",typeName:"shape"},"shape:hqluRVAei8P7RUyBLOh8N":{x:1599.3117141348503,y:3557.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:hqluRVAei8P7RUyBLOh8N",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"draw",size:"s",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLDV",typeName:"shape"},"shape:AGur81MYWJ-4xXELa1D6y":{x:2247.3117141348503,y:3557.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:AGur81MYWJ-4xXELa1D6y",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"draw",size:"s",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLEV",typeName:"shape"},"shape:QHeG3otvF25Pdf24BjOkJ":{x:2895.3117141348503,y:3557.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:QHeG3otvF25Pdf24BjOkJ",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"draw",size:"s",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLFV",typeName:"shape"},"shape:aDiU6hs3gz4AOB7TX2ioc":{x:-1640.6882858651497,y:4567.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:aDiU6hs3gz4AOB7TX2ioc",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"dashed",size:"s",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLKG",typeName:"shape"},"shape:OK_oOaapvndZ1KPn4ZSaM":{x:-992.6882858651497,y:4567.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:OK_oOaapvndZ1KPn4ZSaM",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"dashed",size:"s",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLKl",typeName:"shape"},"shape:JNilAc7WLtJCkbWc5mnmW":{x:-344.68828586514974,y:4567.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:JNilAc7WLtJCkbWc5mnmW",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-red",labelColor:"black",fill:"none",dash:"dashed",size:"s",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLLG",typeName:"shape"},"shape:6w5ZOOsw1JB6KbEKdxSQg":{x:303.31171413485026,y:4567.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:6w5ZOOsw1JB6KbEKdxSQg",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"red",labelColor:"black",fill:"none",dash:"dashed",size:"s",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLLl",typeName:"shape"},"shape:BzeaPu93LzWfQHZU9mDXA":{x:951.3117141348503,y:4567.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:BzeaPu93LzWfQHZU9mDXA",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"dashed",size:"s",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLMG",typeName:"shape"},"shape:-wAHROtZlfIjHN8Wiu5tj":{x:1599.3117141348503,y:4567.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:-wAHROtZlfIjHN8Wiu5tj",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"dashed",size:"s",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLMl",typeName:"shape"},"shape:pg8nKPA9SxtFiGN1TG1aQ":{x:2247.3117141348503,y:4567.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:pg8nKPA9SxtFiGN1TG1aQ",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"dashed",size:"s",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLNG",typeName:"shape"},"shape:eHU8SmL5DkJtunROkf33E":{x:2895.3117141348503,y:4567.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:eHU8SmL5DkJtunROkf33E",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"dashed",size:"s",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLNl",typeName:"shape"},"shape:ne3GZXG4IrFU7nH33bMee":{x:-1640.6882858651497,y:5588.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ne3GZXG4IrFU7nH33bMee",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"dotted",size:"s",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLQ8",typeName:"shape"},"shape:0S2JMw_rIqhLzQenjBGhS":{x:-992.6882858651497,y:5588.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:0S2JMw_rIqhLzQenjBGhS",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"dotted",size:"s",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLQO",typeName:"shape"},"shape:xcoqKephk3fh7b0-qz11p":{x:-344.68828586514974,y:5588.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:xcoqKephk3fh7b0-qz11p",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"s",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLQd",typeName:"shape"},"shape:kp-LuvT09RufnR4bcIPQV":{x:303.31171413485026,y:5588.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:kp-LuvT09RufnR4bcIPQV",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"s",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLQt",typeName:"shape"},"shape:6FPQYPpr7wLh4W05JH8_z":{x:951.3117141348503,y:5588.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:6FPQYPpr7wLh4W05JH8_z",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-red",labelColor:"black",fill:"solid",dash:"dotted",size:"s",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLR8",typeName:"shape"},"shape:5xgBwKipPtJ0W0eWCgvR7":{x:1599.3117141348503,y:5588.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:5xgBwKipPtJ0W0eWCgvR7",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"red",labelColor:"black",fill:"solid",dash:"dotted",size:"s",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLRO",typeName:"shape"},"shape:gz3UUXuVLa_sRSKMeVO9Y":{x:2247.3117141348503,y:5588.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:gz3UUXuVLa_sRSKMeVO9Y",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"dotted",size:"s",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLRd",typeName:"shape"},"shape:PSSQbOEUkCNxK13O4nGYR":{x:2895.3117141348503,y:5588.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:PSSQbOEUkCNxK13O4nGYR",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"dotted",size:"s",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLRt",typeName:"shape"},"shape:hBGusilUNgunUIQtSfNZ-":{x:-1640.6882858651497,y:6627.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:hBGusilUNgunUIQtSfNZ-",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"s",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLU4",typeName:"shape"},"shape:fwiNmAFXSmAUvInUN4z3Y":{x:-992.6882858651497,y:6627.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:fwiNmAFXSmAUvInUN4z3Y",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"s",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLUC",typeName:"shape"},"shape:lKtrGu4H0DsUGOUhi6Mok":{x:-344.68828586514974,y:6627.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:lKtrGu4H0DsUGOUhi6Mok",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"s",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLUK",typeName:"shape"},"shape:4JSOwPO0DvCa-IH2Q6C0G":{x:303.31171413485026,y:6627.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:4JSOwPO0DvCa-IH2Q6C0G",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"s",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLUS",typeName:"shape"},"shape:ud7_0OnP9qMthq_DtHA1r":{x:951.3117141348503,y:6627.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ud7_0OnP9qMthq_DtHA1r",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"s",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLUZ",typeName:"shape"},"shape:XCmQE20pD3KYXIry5HWq0":{x:1599.3117141348503,y:6627.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:XCmQE20pD3KYXIry5HWq0",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"s",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLUh",typeName:"shape"},"shape:8Xi28I_w2T5aBlAJpmsf-":{x:2247.3117141348503,y:6627.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:8Xi28I_w2T5aBlAJpmsf-",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-red",labelColor:"black",fill:"pattern",dash:"solid",size:"s",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLUp",typeName:"shape"},"shape:KizUNOpiYkAbO0Brv8UPl":{x:2895.3117141348503,y:6627.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:KizUNOpiYkAbO0Brv8UPl",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"red",labelColor:"black",fill:"pattern",dash:"solid",size:"s",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLUx",typeName:"shape"},"shape:1K7r25Wg2bzCBbflZRcNs":{x:3543.3117141348503,y:3557.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:1K7r25Wg2bzCBbflZRcNs",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"draw",size:"m",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aM8V",typeName:"shape"},"shape:y8ji5rMWDBLK2LxxWbaKX":{x:4191.31171413485,y:3557.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:y8ji5rMWDBLK2LxxWbaKX",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"draw",size:"m",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aM9V",typeName:"shape"},"shape:rLgSndlpIu8bbMdDMEPKf":{x:-1424.6882858651497,y:3773.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:rLgSndlpIu8bbMdDMEPKf",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"m",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMAV",typeName:"shape"},"shape:rYD3HIoHPHIxy20O7OYPp":{x:-776.6882858651497,y:3773.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:rYD3HIoHPHIxy20O7OYPp",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"m",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMBV",typeName:"shape"},"shape:0HyzVrC39vZFOKpT7pRO9":{x:-128.68828586514974,y:3773.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:0HyzVrC39vZFOKpT7pRO9",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"draw",size:"m",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMCV",typeName:"shape"},"shape:ceOjLPEfLeTM4D74z8SWo":{x:519.3117141348503,y:3773.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ceOjLPEfLeTM4D74z8SWo",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"draw",size:"m",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMDV",typeName:"shape"},"shape:-1UOhdYpHEjEjtwEJiZXN":{x:1167.3117141348503,y:3773.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:-1UOhdYpHEjEjtwEJiZXN",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"draw",size:"m",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMEV",typeName:"shape"},"shape:i62AVFFcf5nMxIruE7Fy_":{x:1815.3117141348503,y:3773.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:i62AVFFcf5nMxIruE7Fy_",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"draw",size:"m",font:"draw",text:"hello",align:"start",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMFV",typeName:"shape"},"shape:HndFZGX27buokN9D4AhWs":{x:3543.3117141348503,y:4567.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:HndFZGX27buokN9D4AhWs",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-red",labelColor:"black",fill:"semi",dash:"dashed",size:"m",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMKG",typeName:"shape"},"shape:vzY3QgS5WWBOSTbo85262":{x:4191.31171413485,y:4567.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:vzY3QgS5WWBOSTbo85262",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"red",labelColor:"black",fill:"semi",dash:"dashed",size:"m",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMKl",typeName:"shape"},"shape:rsAv4-ugOhMpVUUfkzc8K":{x:-1424.6882858651497,y:4783.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:rsAv4-ugOhMpVUUfkzc8K",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"m",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMLG",typeName:"shape"},"shape:yFCnvXVMULT_8aFJFwnx_":{x:-776.6882858651497,y:4783.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:yFCnvXVMULT_8aFJFwnx_",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"m",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMLl",typeName:"shape"},"shape:XjOtdg3M5zPJ1NXm-rRqR":{x:-128.68828586514974,y:4783.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:XjOtdg3M5zPJ1NXm-rRqR",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"dashed",size:"m",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMMG",typeName:"shape"},"shape:UlaWbpT-y84S08meImlbi":{x:519.3117141348503,y:4783.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:UlaWbpT-y84S08meImlbi",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"dashed",size:"m",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMMl",typeName:"shape"},"shape:JWT8ef3q7ehS_5RPb1Pm4":{x:1167.3117141348503,y:4783.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:JWT8ef3q7ehS_5RPb1Pm4",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"dashed",size:"m",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMNG",typeName:"shape"},"shape:4scUUFNV69vfuOVqACDxW":{x:1815.3117141348503,y:4783.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:4scUUFNV69vfuOVqACDxW",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"dashed",size:"m",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMNl",typeName:"shape"},"shape:r0YwqeMQoXxYr9JSEIVb3":{x:3543.3117141348503,y:5588.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:r0YwqeMQoXxYr9JSEIVb3",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"dotted",size:"m",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMQ8",typeName:"shape"},"shape:ZfDPuGQn12YIEfj9q0p37":{x:4191.31171413485,y:5588.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ZfDPuGQn12YIEfj9q0p37",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"dotted",size:"m",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMQO",typeName:"shape"},"shape:19NCx8ncrkNrqepzav2pA":{x:-1424.6882858651497,y:5804.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:19NCx8ncrkNrqepzav2pA",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-red",labelColor:"black",fill:"none",dash:"dotted",size:"m",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMQd",typeName:"shape"},"shape:rjUunj_JxmbEMgtul_yhB":{x:-776.6882858651502,y:5804.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:rjUunj_JxmbEMgtul_yhB",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"red",labelColor:"black",fill:"none",dash:"dotted",size:"m",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMQt",typeName:"shape"},"shape:YVSHo3daNw0Ex8ELHoyv6":{x:-128.68828586514974,y:5804.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:YVSHo3daNw0Ex8ELHoyv6",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"dotted",size:"m",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMR8",typeName:"shape"},"shape:fMYZWfUp4GcyoArrehI4Y":{x:519.3117141348503,y:5804.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:fMYZWfUp4GcyoArrehI4Y",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"dotted",size:"m",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMRO",typeName:"shape"},"shape:2WS-wD6qjRJmst1tu0fsN":{x:1167.3117141348503,y:5804.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:2WS-wD6qjRJmst1tu0fsN",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"dotted",size:"m",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMRd",typeName:"shape"},"shape:jZ9OadFKqNS_9PonxWtB6":{x:1815.3117141348503,y:5804.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:jZ9OadFKqNS_9PonxWtB6",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"dotted",size:"m",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMRt",typeName:"shape"},"shape:2NBKbGmUzxx34Ac8Bq3NV":{x:3543.3117141348503,y:6627.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:2NBKbGmUzxx34Ac8Bq3NV",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMU4",typeName:"shape"},"shape:DgIGzwgJIIbN9zUFqkN2K":{x:4191.31171413485,y:6627.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:DgIGzwgJIIbN9zUFqkN2K",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMUC",typeName:"shape"},"shape:0IAkWc2PDp3X2vM9j_GPw":{x:2679.3117141348503,y:7059.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:0IAkWc2PDp3X2vM9j_GPw",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMUK",typeName:"shape"},"shape:Veyjj5cpiSFfNvLjiQ3Lu":{x:3327.3117141348503,y:7059.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Veyjj5cpiSFfNvLjiQ3Lu",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMUS",typeName:"shape"},"shape:8vctWkI9zuOBzXZjtPn18":{x:3975.3117141348503,y:7059.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:8vctWkI9zuOBzXZjtPn18",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-red",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMUZ",typeName:"shape"},"shape:o-3UnHL3wF5gCJtmdwcp2":{x:-1640.6882858651497,y:7275.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:o-3UnHL3wF5gCJtmdwcp2",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"red",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMUh",typeName:"shape"},"shape:my-A2djR8T9upwRjfLfC6":{x:-992.6882858651497,y:7275.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:my-A2djR8T9upwRjfLfC6",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"solid",size:"m",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMUp",typeName:"shape"},"shape:LGOaxBxJpXTaOVoAqhrqF":{x:-344.68828586514974,y:7275.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:LGOaxBxJpXTaOVoAqhrqF",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"solid",size:"m",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMUx",typeName:"shape"},"shape:0RAPKf10AXTHjP1VOABqI":{x:2463.3117141348503,y:3773.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:0RAPKf10AXTHjP1VOABqI",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"draw",size:"l",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aN8V",typeName:"shape"},"shape:U7fChNA2flevjbtQf6j3R":{x:3111.3117141348503,y:3773.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:U7fChNA2flevjbtQf6j3R",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"draw",size:"l",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aN9V",typeName:"shape"},"shape:eT7CRGO-wNPHmrsP-pHP-":{x:3759.3117141348503,y:3773.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:eT7CRGO-wNPHmrsP-pHP-",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"l",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNAV",typeName:"shape"},"shape:YXJm2wQqSo5_K1aXiO9ef":{x:-1856.6882858651497,y:3989.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:YXJm2wQqSo5_K1aXiO9ef",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"l",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNBV",typeName:"shape"},"shape:Nwu0rNWKLJPrf-x_Vvazr":{x:-1208.6882858651497,y:3989.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Nwu0rNWKLJPrf-x_Vvazr",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"draw",size:"l",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNCV",typeName:"shape"},"shape:uQxWpJ1HLRaIF57hm1RWq":{x:-560.6882858651497,y:3989.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:uQxWpJ1HLRaIF57hm1RWq",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"draw",size:"l",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNDV",typeName:"shape"},"shape:yZzQ8wUjp_moYzXyFjZG7":{x:87.31171413485026,y:3989.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:yZzQ8wUjp_moYzXyFjZG7",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-red",labelColor:"black",fill:"pattern",dash:"draw",size:"l",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNEV",typeName:"shape"},"shape:66CsxctK9UNUFdEBmKWl-":{x:735.3117141348503,y:3989.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:66CsxctK9UNUFdEBmKWl-",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"red",labelColor:"black",fill:"pattern",dash:"draw",size:"l",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNFV",typeName:"shape"},"shape:VJ5plX-AqkTi4N3K0v2H9":{x:2463.3117141348503,y:4783.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:VJ5plX-AqkTi4N3K0v2H9",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"dashed",size:"l",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNKG",typeName:"shape"},"shape:iBY9plFnX-_DsWKvhDVQK":{x:3111.3117141348503,y:4783.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:iBY9plFnX-_DsWKvhDVQK",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"dashed",size:"l",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNKl",typeName:"shape"},"shape:UQOAYhl_BNGl_2C8MB5Om":{x:3759.3117141348503,y:4783.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:UQOAYhl_BNGl_2C8MB5Om",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"l",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNLG",typeName:"shape"},"shape:ap1Lj9Xf6tfqFh0oF0rEZ":{x:-1856.6882858651497,y:4999.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ap1Lj9Xf6tfqFh0oF0rEZ",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"l",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNLl",typeName:"shape"},"shape:AZrBBr5K74N_pWNKKY0Go":{x:-1208.6882858651497,y:4999.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:AZrBBr5K74N_pWNKKY0Go",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"dashed",size:"l",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNMG",typeName:"shape"},"shape:IPzNDFQL_6bf9T5zDVsYZ":{x:-560.6882858651497,y:4999.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:IPzNDFQL_6bf9T5zDVsYZ",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"dashed",size:"l",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNMl",typeName:"shape"},"shape:gST8yDebjRuRtrBRcKlwh":{x:87.31171413485026,y:4999.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:gST8yDebjRuRtrBRcKlwh",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"dashed",size:"l",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNNG",typeName:"shape"},"shape:rWlPyPyf7ZA7h8gGindl6":{x:735.3117141348503,y:4999.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:rWlPyPyf7ZA7h8gGindl6",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"dashed",size:"l",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNNl",typeName:"shape"},"shape:M_KOTa5roAnL7K4-uZQr5":{x:2463.3117141348503,y:5804.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:M_KOTa5roAnL7K4-uZQr5",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-red",labelColor:"black",fill:"semi",dash:"dotted",size:"l",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNQ8",typeName:"shape"},"shape:5PubOIwETSLeksnHVZJC0":{x:3111.3117141348503,y:5804.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:5PubOIwETSLeksnHVZJC0",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"red",labelColor:"black",fill:"semi",dash:"dotted",size:"l",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNQO",typeName:"shape"},"shape:iucqM0-geSDJte_FYRZJ8":{x:3759.3117141348503,y:5804.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:iucqM0-geSDJte_FYRZJ8",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"l",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNQd",typeName:"shape"},"shape:yQrLI5-5hhefKEza1uXKd":{x:-1856.6882858651497,y:6020.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:yQrLI5-5hhefKEza1uXKd",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"l",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNQt",typeName:"shape"},"shape:med5rfrZCIopxCgihFrC6":{x:-1208.6882858651497,y:6020.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:med5rfrZCIopxCgihFrC6",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"dotted",size:"l",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNR8",typeName:"shape"},"shape:0iIhU7AEtAIUmzBswTjGb":{x:-560.6882858651497,y:6020.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:0iIhU7AEtAIUmzBswTjGb",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"dotted",size:"l",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNRO",typeName:"shape"},"shape:N1zUhLzc88Sm77DvOnlQh":{x:87.31171413485026,y:6020.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:N1zUhLzc88Sm77DvOnlQh",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"dotted",size:"l",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNRd",typeName:"shape"},"shape:1ltAKAUVvZ0jR6rcD7mOM":{x:735.3117141348503,y:6020.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:1ltAKAUVvZ0jR6rcD7mOM",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"dotted",size:"l",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNRt",typeName:"shape"},"shape:GaOODLyvKrqarMxN_uGZW":{x:-1424.6882858651497,y:6843.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:GaOODLyvKrqarMxN_uGZW",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"l",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNU4",typeName:"shape"},"shape:7giTQ7tt44bllUfOS0Mfa":{x:-776.6882858651497,y:6843.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:7giTQ7tt44bllUfOS0Mfa",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"l",font:"draw",text:"hello",align:"start",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNUC",typeName:"shape"},"shape:vvyYEBf9p39yvzGw7rYyZ":{x:-128.68828586514974,y:6843.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:vvyYEBf9p39yvzGw7rYyZ",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-red",labelColor:"black",fill:"none",dash:"solid",size:"l",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNUK",typeName:"shape"},"shape:XkkQkR0J5awFnaRWrU1Rp":{x:519.3117141348503,y:6843.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:XkkQkR0J5awFnaRWrU1Rp",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"red",labelColor:"black",fill:"none",dash:"solid",size:"l",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNUS",typeName:"shape"},"shape:ASHbHdiUcocpr6lpvpS_X":{x:1167.3117141348503,y:6843.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ASHbHdiUcocpr6lpvpS_X",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"l",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNUZ",typeName:"shape"},"shape:LRyr1viWxNIsAHH1oXGUs":{x:1815.3117141348503,y:6843.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:LRyr1viWxNIsAHH1oXGUs",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"l",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNUh",typeName:"shape"},"shape:PNsL2PSh1BOmD5UK1cveO":{x:2463.3117141348503,y:6843.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:PNsL2PSh1BOmD5UK1cveO",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"solid",size:"l",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNUp",typeName:"shape"},"shape:8pwXBp3Ln4Z5ljXbSKmJ6":{x:3111.3117141348503,y:6843.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:8pwXBp3Ln4Z5ljXbSKmJ6",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"solid",size:"l",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNUx",typeName:"shape"},"shape:tKQmpvg4RuTYj65ux5R-j":{x:1383.3117141348503,y:3989.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:tKQmpvg4RuTYj65ux5R-j",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"draw",size:"xl",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOH",typeName:"shape"},"shape:4BEmR6WWIDbKVIGXA0gd0":{x:2031.3117141348503,y:3989.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:4BEmR6WWIDbKVIGXA0gd0",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"draw",size:"xl",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOJ",typeName:"shape"},"shape:k-CA3zyPmGlidnNd6xKD8":{x:2679.3117141348503,y:3989.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:k-CA3zyPmGlidnNd6xKD8",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"xl",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOL",typeName:"shape"},"shape:9jPdK0Pdx9-528tmVQrDR":{x:3327.3117141348503,y:3989.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:9jPdK0Pdx9-528tmVQrDR",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"xl",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aON",typeName:"shape"},"shape:EmXR8lrmzVxH62pDE7rMB":{x:3975.3117141348503,y:3989.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:EmXR8lrmzVxH62pDE7rMB",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-red",labelColor:"black",fill:"solid",dash:"draw",size:"xl",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOP",typeName:"shape"},"shape:CAFGJvyatpfJySRl3iZec":{x:-1640.6882858651497,y:4205.020273028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:CAFGJvyatpfJySRl3iZec",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"red",labelColor:"black",fill:"solid",dash:"draw",size:"xl",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOR",typeName:"shape"},"shape:dx1806rcrfV7_dYULQJBA":{x:-992.6882858651497,y:4205.020273028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:dx1806rcrfV7_dYULQJBA",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"draw",size:"xl",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOT",typeName:"shape"},"shape:S_9GZI1KvBaehEbK7hSqd":{x:-344.68828586514974,y:4205.020273028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:S_9GZI1KvBaehEbK7hSqd",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"draw",size:"xl",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOUV",typeName:"shape"},"shape:tks88-AczAs3LMhCUnkm_":{x:1383.3117141348503,y:4999.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:tks88-AczAs3LMhCUnkm_",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"dashed",size:"xl",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOdV",typeName:"shape"},"shape:iykli_DM7Dg0LcE187W0O":{x:2031.3117141348503,y:4999.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:iykli_DM7Dg0LcE187W0O",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"dashed",size:"xl",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOeV",typeName:"shape"},"shape:Q_Dl6Hitz6vjeRYdgGE4n":{x:2679.3117141348503,y:4999.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Q_Dl6Hitz6vjeRYdgGE4n",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"xl",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOfV",typeName:"shape"},"shape:XTCK6KG7tnrBL5Tpee0SQ":{x:3327.3117141348503,y:4999.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:XTCK6KG7tnrBL5Tpee0SQ",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"xl",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOgV",typeName:"shape"},"shape:EuJooZ7k7xxFUsPJrgS0g":{x:3975.3117141348503,y:4999.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:EuJooZ7k7xxFUsPJrgS0g",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"dashed",size:"xl",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOhV",typeName:"shape"},"shape:0b4gDyf05xjhUeyzIlVNk":{x:-1640.6882858651497,y:5215.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:0b4gDyf05xjhUeyzIlVNk",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"dashed",size:"xl",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOiV",typeName:"shape"},"shape:tX3_evcc3iLQ-9k5VXjYO":{x:-992.6882858651497,y:5215.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:tX3_evcc3iLQ-9k5VXjYO",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-red",labelColor:"black",fill:"pattern",dash:"dashed",size:"xl",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOjV",typeName:"shape"},"shape:x5kiXOaVPUm_JO9KyI9IS":{x:-344.68828586514974,y:5215.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:x5kiXOaVPUm_JO9KyI9IS",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"red",labelColor:"black",fill:"pattern",dash:"dashed",size:"xl",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOkV",typeName:"shape"},"shape:RhPYIXLRZSPakgukVBPdv":{x:1383.3117141348503,y:6020.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:RhPYIXLRZSPakgukVBPdv",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"dotted",size:"xl",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOpG",typeName:"shape"},"shape:XrA20zYEbeJKyz81jnNnK":{x:2031.3117141348503,y:6020.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:XrA20zYEbeJKyz81jnNnK",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"dotted",size:"xl",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOpl",typeName:"shape"},"shape:W4M0cZbfaVLRBq40sNLkP":{x:2679.3117141348503,y:6020.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:W4M0cZbfaVLRBq40sNLkP",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"xl",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOqG",typeName:"shape"},"shape:MyuGnTJK82lO5Dl9Q1NVn":{x:3327.3117141348503,y:6020.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:MyuGnTJK82lO5Dl9Q1NVn",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"xl",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOql",typeName:"shape"},"shape:pDbZY1ZAHts_KOmHHQf8J":{x:3975.3117141348503,y:6020.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:pDbZY1ZAHts_KOmHHQf8J",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"dotted",size:"xl",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOrG",typeName:"shape"},"shape:uzf2t3MnpjoTrMm4tEsqV":{x:-1640.6882858651497,y:6236.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:uzf2t3MnpjoTrMm4tEsqV",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"dotted",size:"xl",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOrl",typeName:"shape"},"shape:rWIx-EvSx86j-75SqlydO":{x:-992.6882858651497,y:6236.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:rWIx-EvSx86j-75SqlydO",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"dotted",size:"xl",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOsG",typeName:"shape"},"shape:q6UMktf2T_u2MrxstFX3R":{x:-344.68828586514974,y:6236.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:q6UMktf2T_u2MrxstFX3R",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"dotted",size:"xl",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOsl",typeName:"shape"},"shape:L-Nb6CGhnZ1BDae-uUvwL":{x:3759.3117141348503,y:6843.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:L-Nb6CGhnZ1BDae-uUvwL",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"light-red",labelColor:"black",fill:"semi",dash:"solid",size:"xl",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOxG",typeName:"shape"},"shape:3r4gSu_Z98IB7rzErsmal":{x:-1856.6882858651497,y:7059.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:3r4gSu_Z98IB7rzErsmal",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"red",labelColor:"black",fill:"semi",dash:"solid",size:"xl",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOxl",typeName:"shape"},"shape:HOJw8Z9Jl6vXmnvuudTLe":{x:-1208.6882858651497,y:7059.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:HOJw8Z9Jl6vXmnvuudTLe",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"xl",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOyG",typeName:"shape"},"shape:h09lIyk-Z9sNyxmUreDUr":{x:-560.6882858651497,y:7059.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:h09lIyk-Z9sNyxmUreDUr",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"xl",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOyl",typeName:"shape"},"shape:hYsnTbLU7zt5D3NAJofmo":{x:87.31171413485026,y:7059.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:hYsnTbLU7zt5D3NAJofmo",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"xl",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOz8",typeName:"shape"},"shape:CZWVLx1DmUGNv-pljiGRi":{x:735.3117141348503,y:7059.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:CZWVLx1DmUGNv-pljiGRi",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"xl",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOzO",typeName:"shape"},"shape:eLAliCAVCgALxIhUu2v1v":{x:1383.3117141348503,y:7059.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:eLAliCAVCgALxIhUu2v1v",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"solid",size:"xl",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOzd",typeName:"shape"},"shape:xuKwDXTaknG6uaSvyoqfG":{x:2031.3117141348503,y:7059.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:xuKwDXTaknG6uaSvyoqfG",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"solid",size:"xl",font:"draw",text:"hello",align:"start",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOzt",typeName:"shape"},"shape:iMEsy1t7nBwOmHw2EeuoK":{x:-1424.6882858651497,y:3557.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:iMEsy1t7nBwOmHw2EeuoK",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"draw",size:"s",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aL8l",typeName:"shape"},"shape:PqypMnzXhUlj2CHAqOyF5":{x:-776.6882858651497,y:3557.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:PqypMnzXhUlj2CHAqOyF5",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"draw",size:"s",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aL9l",typeName:"shape"},"shape:h36R6OURt011zAGIVQQVU":{x:-128.68828586514974,y:3557.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:h36R6OURt011zAGIVQQVU",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"s",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLAl",typeName:"shape"},"shape:O2kJm9Xmuvsm8kagRF7p-":{x:519.3117141348503,y:3557.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:O2kJm9Xmuvsm8kagRF7p-",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"s",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLBl",typeName:"shape"},"shape:5DTb3VWc5meaOXRLVO86n":{x:1167.3117141348503,y:3557.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:5DTb3VWc5meaOXRLVO86n",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"draw",size:"s",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLCl",typeName:"shape"},"shape:hBQgeEF-WUoTrobTWEjpX":{x:1815.3117141348503,y:3557.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:hBQgeEF-WUoTrobTWEjpX",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"draw",size:"s",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLDl",typeName:"shape"},"shape:CxJj3pi-jXyijokNjG6OE":{x:2463.3117141348503,y:3557.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:CxJj3pi-jXyijokNjG6OE",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"draw",size:"s",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLEl",typeName:"shape"},"shape:sBp7JyE1Xndg5NKnfUuer":{x:3111.3117141348503,y:3557.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:sBp7JyE1Xndg5NKnfUuer",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"draw",size:"s",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLFl",typeName:"shape"},"shape:nILwjDtsJyvBiA8QcyIbD":{x:-1424.6882858651497,y:4567.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:nILwjDtsJyvBiA8QcyIbD",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"dashed",size:"s",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLKO",typeName:"shape"},"shape:N7gV1rNQduNTeztJ4O9-N":{x:-776.6882858651497,y:4567.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:N7gV1rNQduNTeztJ4O9-N",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"dashed",size:"s",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLKt",typeName:"shape"},"shape:rjKAUSUWJ8wXLuup5cPKe":{x:-128.68828586514974,y:4567.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:rjKAUSUWJ8wXLuup5cPKe",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"s",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLLO",typeName:"shape"},"shape:R5aK-wpKu4B8ga1BWQHWZ":{x:519.3117141348503,y:4567.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:R5aK-wpKu4B8ga1BWQHWZ",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"s",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLLt",typeName:"shape"},"shape:TpLxTZl5SrmRqZMBCaheI":{x:1167.3117141348503,y:4567.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:TpLxTZl5SrmRqZMBCaheI",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"dashed",size:"s",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLMO",typeName:"shape"},"shape:53flWpbVZf1aas47bbmpH":{x:1815.3117141348503,y:4567.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:53flWpbVZf1aas47bbmpH",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"dashed",size:"s",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLMt",typeName:"shape"},"shape:J0tUZeC4xSEbdnCen1E3i":{x:2463.3117141348503,y:4567.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:J0tUZeC4xSEbdnCen1E3i",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"dashed",size:"s",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLNO",typeName:"shape"},"shape:LQz-Jxnm_2Xt9Wv6JjI5n":{x:3111.3117141348503,y:4567.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:LQz-Jxnm_2Xt9Wv6JjI5n",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"dashed",size:"s",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLNt",typeName:"shape"},"shape:FpbCrW7tG19D77-aLkprz":{x:-1424.6882858651497,y:5588.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:FpbCrW7tG19D77-aLkprz",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"dotted",size:"s",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLQC",typeName:"shape"},"shape:vjq_8nvBTTuZWx4z2-IPw":{x:-776.6882858651497,y:5588.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:vjq_8nvBTTuZWx4z2-IPw",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"dotted",size:"s",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLQS",typeName:"shape"},"shape:H6ZBpvUKeVHTmndFRQm-8":{x:-128.68828586514974,y:5588.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:H6ZBpvUKeVHTmndFRQm-8",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"s",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLQh",typeName:"shape"},"shape:m8cQYds5pAXsx06Q4vpiP":{x:519.3117141348503,y:5588.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:m8cQYds5pAXsx06Q4vpiP",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"s",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLQx",typeName:"shape"},"shape:bpF9NhEbmxSHPgEdOepx-":{x:1167.3117141348503,y:5588.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:bpF9NhEbmxSHPgEdOepx-",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"dotted",size:"s",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLRC",typeName:"shape"},"shape:Hehi75SDTq7VPNQGFIb02":{x:1815.3117141348503,y:5588.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Hehi75SDTq7VPNQGFIb02",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"dotted",size:"s",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLRS",typeName:"shape"},"shape:4C0Ki5uOlI_D0ehgUJgTS":{x:2463.3117141348503,y:5588.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:4C0Ki5uOlI_D0ehgUJgTS",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"dotted",size:"s",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLRh",typeName:"shape"},"shape:pRaGwo_kgCOtDejC-Vq4b":{x:3111.3117141348503,y:5588.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:pRaGwo_kgCOtDejC-Vq4b",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"dotted",size:"s",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLRx",typeName:"shape"},"shape:sRQpW8QaaPYIq-LrTI0lW":{x:-1424.6882858651497,y:6627.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:sRQpW8QaaPYIq-LrTI0lW",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"s",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLU6",typeName:"shape"},"shape:4WnqvwSafeSXsj6yG9tP-":{x:-776.6882858651497,y:6627.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:4WnqvwSafeSXsj6yG9tP-",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"s",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLUE",typeName:"shape"},"shape:lti2Nhs97NLp7KKFO6usj":{x:-128.68828586514974,y:6627.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:lti2Nhs97NLp7KKFO6usj",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"s",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLUM",typeName:"shape"},"shape:xQYu3oy8O7uZTrCzUdOUZ":{x:519.3117141348503,y:6627.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:xQYu3oy8O7uZTrCzUdOUZ",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"s",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLUU",typeName:"shape"},"shape:wr19ycPDtE3IjwJb27loQ":{x:1167.3117141348503,y:6627.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:wr19ycPDtE3IjwJb27loQ",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"s",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLUb",typeName:"shape"},"shape:c3XelNrICowevJVUhH4Uo":{x:1815.3117141348503,y:6627.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:c3XelNrICowevJVUhH4Uo",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"s",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLUj",typeName:"shape"},"shape:8iLPIOH9o6y3_s5M0diiY":{x:2463.3117141348503,y:6627.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:8iLPIOH9o6y3_s5M0diiY",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"solid",size:"s",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLUr",typeName:"shape"},"shape:WNbDgri4jp7B5RvejGz5n":{x:3111.3117141348503,y:6627.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:WNbDgri4jp7B5RvejGz5n",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"solid",size:"s",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aLUz",typeName:"shape"},"shape:UfkryWuI7-k79FjsuN6Iv":{x:3759.3117141348503,y:3557.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:UfkryWuI7-k79FjsuN6Iv",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"draw",size:"m",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aM8l",typeName:"shape"},"shape:W2WkXeMUpmRF8ho0VSWBi":{x:-1856.6882858651497,y:3773.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:W2WkXeMUpmRF8ho0VSWBi",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"draw",size:"m",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aM9l",typeName:"shape"},"shape:kDM1Bkwiq_NPRnoF6HB_O":{x:-1208.6882858651497,y:3773.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:kDM1Bkwiq_NPRnoF6HB_O",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"m",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMAl",typeName:"shape"},"shape:2kUDZN2ANi0hZWkhdxKIs":{x:-560.6882858651497,y:3773.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:2kUDZN2ANi0hZWkhdxKIs",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"m",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMBl",typeName:"shape"},"shape:vRpFIm0f-9D00JPplmwec":{x:87.31171413485026,y:3773.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:vRpFIm0f-9D00JPplmwec",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"draw",size:"m",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMCl",typeName:"shape"},"shape:48HH5fjwO88ozJpeQ1ZV1":{x:735.3117141348503,y:3773.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:48HH5fjwO88ozJpeQ1ZV1",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"draw",size:"m",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMDl",typeName:"shape"},"shape:IY_R3WMj1xJR5_3IZ6J35":{x:1383.3117141348503,y:3773.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:IY_R3WMj1xJR5_3IZ6J35",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"draw",size:"m",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMEl",typeName:"shape"},"shape:0FfUt55mkpiBvhfgTb3a7":{x:2031.3117141348503,y:3773.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:0FfUt55mkpiBvhfgTb3a7",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"draw",size:"m",font:"draw",text:"hello",align:"end",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMFl",typeName:"shape"},"shape:8Xn7d2cGAU6xyn75wP6aN":{x:3759.3117141348503,y:4567.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:8Xn7d2cGAU6xyn75wP6aN",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"dashed",size:"m",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMKO",typeName:"shape"},"shape:MPLAa6lLAB2ecW-Xv4jSi":{x:-1856.6882858651497,y:4783.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:MPLAa6lLAB2ecW-Xv4jSi",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"dashed",size:"m",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMKt",typeName:"shape"},"shape:nEyhGHt5ee3yp1WuSVJo2":{x:-1208.6882858651497,y:4783.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:nEyhGHt5ee3yp1WuSVJo2",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"m",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMLO",typeName:"shape"},"shape:DrKjWGFHEGgdKlRMFUD6X":{x:-560.6882858651497,y:4783.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:DrKjWGFHEGgdKlRMFUD6X",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"m",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMLt",typeName:"shape"},"shape:r6c5htwX6dg8UYOoNQF48":{x:87.31171413485026,y:4783.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:r6c5htwX6dg8UYOoNQF48",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"dashed",size:"m",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMMO",typeName:"shape"},"shape:yhqGCCX1O-SNtChDXK62J":{x:735.3117141348503,y:4783.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:yhqGCCX1O-SNtChDXK62J",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"dashed",size:"m",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMMt",typeName:"shape"},"shape:cxUZpHsWyWmlFyfIaCwPi":{x:1383.3117141348503,y:4783.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:cxUZpHsWyWmlFyfIaCwPi",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"dashed",size:"m",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMNO",typeName:"shape"},"shape:ANhF8Pn21M3wH64-JcpLI":{x:2031.3117141348503,y:4783.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ANhF8Pn21M3wH64-JcpLI",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"dashed",size:"m",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMNt",typeName:"shape"},"shape:S3C3egXganiVdmNTWSn36":{x:3759.3117141348503,y:5588.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:S3C3egXganiVdmNTWSn36",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"dotted",size:"m",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMQC",typeName:"shape"},"shape:H2e-IChsfnn_FRohJ-ygP":{x:-1856.6882858651497,y:5804.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:H2e-IChsfnn_FRohJ-ygP",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"dotted",size:"m",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMQS",typeName:"shape"},"shape:EISI_fHfbsIkhaAe511xd":{x:-1208.6882858651497,y:5804.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:EISI_fHfbsIkhaAe511xd",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"m",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMQh",typeName:"shape"},"shape:tzMuWh-n-vZv8fI8IQkMk":{x:-560.6882858651502,y:5804.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:tzMuWh-n-vZv8fI8IQkMk",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"m",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMQx",typeName:"shape"},"shape:WoLgf54ehK_uO5cBG-DId":{x:87.31171413485026,y:5804.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:WoLgf54ehK_uO5cBG-DId",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"dotted",size:"m",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMRC",typeName:"shape"},"shape:JT5btf-a0E_JbV5K46y8N":{x:735.3117141348503,y:5804.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:JT5btf-a0E_JbV5K46y8N",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"dotted",size:"m",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMRS",typeName:"shape"},"shape:ycxFgXN2fjYe3Jz-OHHNx":{x:1383.3117141348503,y:5804.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ycxFgXN2fjYe3Jz-OHHNx",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"dotted",size:"m",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMRh",typeName:"shape"},"shape:2mixRqmOOAwASOYhCEOsu":{x:2031.3117141348503,y:5804.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:2mixRqmOOAwASOYhCEOsu",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"dotted",size:"m",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMRx",typeName:"shape"},"shape:tFJv3TaDYt8O9-bHkowD6":{x:3759.3117141348503,y:6627.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:tFJv3TaDYt8O9-bHkowD6",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMU6",typeName:"shape"},"shape:7K-9y-WwPLVkDtYE7HK7k":{x:-1856.6882858651497,y:6843.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:7K-9y-WwPLVkDtYE7HK7k",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMUE",typeName:"shape"},"shape:dm46K-4Gp4iHdGbDh6mc1":{x:2895.3117141348503,y:7059.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:dm46K-4Gp4iHdGbDh6mc1",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMUM",typeName:"shape"},"shape:l703XYg6fEoyoQ1STlAZ0":{x:3543.3117141348503,y:7059.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:l703XYg6fEoyoQ1STlAZ0",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMUU",typeName:"shape"},"shape:KVbMR14v8DlynaxcTGUNR":{x:4191.31171413485,y:7059.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:KVbMR14v8DlynaxcTGUNR",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMUb",typeName:"shape"},"shape:6oQdIMOnIJ3aFwY8CEQBE":{x:-1424.6882858651497,y:7275.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:6oQdIMOnIJ3aFwY8CEQBE",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMUj",typeName:"shape"},"shape:DtwYJK5S7dhyzDyTZfBlr":{x:-776.6882858651497,y:7275.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:DtwYJK5S7dhyzDyTZfBlr",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"solid",size:"m",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMUr",typeName:"shape"},"shape:cd2qVbH1EplqNRpavYgC9":{x:-128.68828586514974,y:7275.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:cd2qVbH1EplqNRpavYgC9",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"solid",size:"m",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aMUz",typeName:"shape"},"shape:NmxaEwMWJ6P8wcqMrM-1e":{x:2679.3117141348503,y:3773.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:NmxaEwMWJ6P8wcqMrM-1e",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"draw",size:"l",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aN8l",typeName:"shape"},"shape:BVPB0HdocR7W0wFNcTD3G":{x:3327.3117141348503,y:3773.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:BVPB0HdocR7W0wFNcTD3G",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"draw",size:"l",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aN9l",typeName:"shape"},"shape:1Id-NTXwnx26M2MAOAOB5":{x:3975.3117141348503,y:3773.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:1Id-NTXwnx26M2MAOAOB5",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"l",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNAl",typeName:"shape"},"shape:TVNQxFcWNlYa3eaxhD6Y_":{x:-1640.6882858651497,y:3989.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:TVNQxFcWNlYa3eaxhD6Y_",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"l",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNBl",typeName:"shape"},"shape:gN4bj2aY7rbdK4nbWJ2Ky":{x:-992.6882858651497,y:3989.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:gN4bj2aY7rbdK4nbWJ2Ky",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"draw",size:"l",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNCl",typeName:"shape"},"shape:fWcLS1d_ITYoBdxRe9tHb":{x:-344.68828586514974,y:3989.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:fWcLS1d_ITYoBdxRe9tHb",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"draw",size:"l",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNDl",typeName:"shape"},"shape:sIGWuLk4k9Oz6qUes0naj":{x:303.31171413485026,y:3989.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:sIGWuLk4k9Oz6qUes0naj",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"draw",size:"l",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNEl",typeName:"shape"},"shape:ZiMRjXj3T73rZ4Ojfdolx":{x:951.3117141348503,y:3989.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ZiMRjXj3T73rZ4Ojfdolx",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"draw",size:"l",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNFl",typeName:"shape"},"shape:tlRxv2NHGyxcSQ-2ICy5f":{x:2679.3117141348503,y:4783.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:tlRxv2NHGyxcSQ-2ICy5f",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"dashed",size:"l",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNKO",typeName:"shape"},"shape:Xy-N70tS6StK6qik0W1to":{x:3327.3117141348503,y:4783.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Xy-N70tS6StK6qik0W1to",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"dashed",size:"l",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNKt",typeName:"shape"},"shape:afnZMZGQ5SoRZ6JRWR75m":{x:3975.3117141348503,y:4783.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:afnZMZGQ5SoRZ6JRWR75m",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"l",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNLO",typeName:"shape"},"shape:DAAm7gXyNevINSWCmZEC1":{x:-1640.6882858651497,y:4999.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:DAAm7gXyNevINSWCmZEC1",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"l",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNLt",typeName:"shape"},"shape:2HfLOrcjMUAZdDoc1-Gu4":{x:-992.6882858651497,y:4999.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:2HfLOrcjMUAZdDoc1-Gu4",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"dashed",size:"l",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNMO",typeName:"shape"},"shape:AQhLY2NtoFLGlEsDPxUk7":{x:-344.68828586514974,y:4999.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:AQhLY2NtoFLGlEsDPxUk7",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"dashed",size:"l",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNMt",typeName:"shape"},"shape:bRv7l3avoZAGa3N6SBpTs":{x:303.31171413485026,y:4999.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:bRv7l3avoZAGa3N6SBpTs",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"dashed",size:"l",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNNO",typeName:"shape"},"shape:FMB3k0RcLuGeFgWRexrNW":{x:951.3117141348503,y:4999.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:FMB3k0RcLuGeFgWRexrNW",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"dashed",size:"l",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNNt",typeName:"shape"},"shape:ZzsE62xZKDFa42ItU-xGX":{x:2679.3117141348503,y:5804.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ZzsE62xZKDFa42ItU-xGX",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"dotted",size:"l",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNQC",typeName:"shape"},"shape:wHIquyahgpZltaD57D53O":{x:3327.3117141348503,y:5804.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:wHIquyahgpZltaD57D53O",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"dotted",size:"l",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNQS",typeName:"shape"},"shape:jhMaMxD5bluvf3UZLIVj7":{x:3975.3117141348503,y:5804.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:jhMaMxD5bluvf3UZLIVj7",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"l",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNQh",typeName:"shape"},"shape:Is-d--AIU0-yQjpJa5V4j":{x:-1640.6882858651497,y:6020.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Is-d--AIU0-yQjpJa5V4j",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"l",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNQx",typeName:"shape"},"shape:EaW2b9m24JKzx50oScpG1":{x:-992.6882858651497,y:6020.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:EaW2b9m24JKzx50oScpG1",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"dotted",size:"l",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNRC",typeName:"shape"},"shape:4tUhOAcHUOfM-PZn63LAl":{x:-344.68828586514974,y:6020.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:4tUhOAcHUOfM-PZn63LAl",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"dotted",size:"l",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNRS",typeName:"shape"},"shape:9e9L6qwMXQILLNX2WsjVK":{x:303.31171413485026,y:6020.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:9e9L6qwMXQILLNX2WsjVK",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"dotted",size:"l",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNRh",typeName:"shape"},"shape:iGeEqcfmKyN3X1_1bOGWy":{x:951.3117141348503,y:6020.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:iGeEqcfmKyN3X1_1bOGWy",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"dotted",size:"l",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNRx",typeName:"shape"},"shape:E8JGhdkY1Heds3vCO8sPG":{x:-1208.6882858651497,y:6843.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:E8JGhdkY1Heds3vCO8sPG",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"l",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNU6",typeName:"shape"},"shape:HD3QfjCGos3s-tetmRWsn":{x:-560.6882858651497,y:6843.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:HD3QfjCGos3s-tetmRWsn",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"l",font:"draw",text:"hello",align:"end",verticalAlign:"middle",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNUE",typeName:"shape"},"shape:a605gsGbUuGjM3V6Uwlo0":{x:87.31171413485026,y:6843.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:a605gsGbUuGjM3V6Uwlo0",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"l",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNUM",typeName:"shape"},"shape:9HTzOe_08F3R8AWXzG4a3":{x:735.3117141348503,y:6843.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:9HTzOe_08F3R8AWXzG4a3",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"l",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNUU",typeName:"shape"},"shape:6NCvjFt5dKKrxBTK4LLTO":{x:1383.3117141348503,y:6843.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:6NCvjFt5dKKrxBTK4LLTO",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"l",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNUb",typeName:"shape"},"shape:1cXZssJYCbso2mx6loPef":{x:2031.3117141348503,y:6843.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:1cXZssJYCbso2mx6loPef",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"l",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNUj",typeName:"shape"},"shape:bzC-KCsloM4uVzyNNfZ3B":{x:2679.3117141348503,y:6843.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:bzC-KCsloM4uVzyNNfZ3B",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"solid",size:"l",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNUr",typeName:"shape"},"shape:rNB1jIehPWJ1nxYQLQ-ke":{x:3327.3117141348503,y:6843.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:rNB1jIehPWJ1nxYQLQ-ke",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"solid",size:"l",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aNUz",typeName:"shape"},"shape:wcJ3jqqxYzonKqbPk5rIq":{x:1599.3117141348503,y:3989.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:wcJ3jqqxYzonKqbPk5rIq",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"draw",size:"xl",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOHV",typeName:"shape"},"shape:3_tc9uzXsw4UqxmDLQQhA":{x:2247.3117141348503,y:3989.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:3_tc9uzXsw4UqxmDLQQhA",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"draw",size:"xl",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOJV",typeName:"shape"},"shape:D757kSYrio_E4vkaLKd5J":{x:2895.3117141348503,y:3989.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:D757kSYrio_E4vkaLKd5J",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"xl",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOLV",typeName:"shape"},"shape:opdSzf8xosCGLqOuCRA-d":{x:3543.3117141348503,y:3989.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:opdSzf8xosCGLqOuCRA-d",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"xl",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aONV",typeName:"shape"},"shape:pf7MRw4EEMS4ziWudXbA8":{x:4191.31171413485,y:3989.020273028397,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:pf7MRw4EEMS4ziWudXbA8",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"draw",size:"xl",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOPV",typeName:"shape"},"shape:idXIw-DbkLH4-sG7VIo7n":{x:-1424.6882858651497,y:4205.020273028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:idXIw-DbkLH4-sG7VIo7n",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"draw",size:"xl",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aORV",typeName:"shape"},"shape:90Yj7bM6AznMMl6WyNfFf":{x:-776.6882858651497,y:4205.020273028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:90Yj7bM6AznMMl6WyNfFf",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"draw",size:"xl",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOTV",typeName:"shape"},"shape:lyyDa-6cFbTwF2gpZNgX5":{x:-128.68828586514974,y:4205.020273028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:lyyDa-6cFbTwF2gpZNgX5",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"draw",size:"xl",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOUl",typeName:"shape"},"shape:PhEYq6d24HiISTI-n-lFn":{x:1599.3117141348503,y:4999.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:PhEYq6d24HiISTI-n-lFn",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"dashed",size:"xl",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOdl",typeName:"shape"},"shape:gYKFnAlc4ZsWbLj6FkS0U":{x:2247.3117141348503,y:4999.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:gYKFnAlc4ZsWbLj6FkS0U",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"dashed",size:"xl",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOel",typeName:"shape"},"shape:95Nl5-cpSRzmlY6HFUf_1":{x:2895.3117141348503,y:4999.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:95Nl5-cpSRzmlY6HFUf_1",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"xl",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOfl",typeName:"shape"},"shape:VK0BcD3cGR_z3QV-Sg2bc":{x:3543.3117141348503,y:4999.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:VK0BcD3cGR_z3QV-Sg2bc",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dashed",size:"xl",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOgl",typeName:"shape"},"shape:JYuHXIwrKSbCn5Or8ADVP":{x:4191.31171413485,y:4999.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:JYuHXIwrKSbCn5Or8ADVP",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"dashed",size:"xl",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOhl",typeName:"shape"},"shape:KUfZ27HDgNVHpYOsgCp4m":{x:-1424.6882858651497,y:5215.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:KUfZ27HDgNVHpYOsgCp4m",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"dashed",size:"xl",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOil",typeName:"shape"},"shape:2FwBMz3DvDIacQQSso--v":{x:-776.6882858651497,y:5215.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:2FwBMz3DvDIacQQSso--v",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"dashed",size:"xl",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOjl",typeName:"shape"},"shape:VDVbk3-PzWpNrPeTkpn22":{x:-128.68828586514974,y:5215.090585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:VDVbk3-PzWpNrPeTkpn22",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"dashed",size:"xl",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOkl",typeName:"shape"},"shape:ZJs9j1bOAV-KqGfJimBR1":{x:1599.3117141348503,y:6020.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ZJs9j1bOAV-KqGfJimBR1",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"dotted",size:"xl",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOpO",typeName:"shape"},"shape:tjAVivm5mpDCu8W93C6Un":{x:2247.3117141348503,y:6020.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:tjAVivm5mpDCu8W93C6Un",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"dotted",size:"xl",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOpt",typeName:"shape"},"shape:gPlpsCNM-PJ9Nc6YS2ROo":{x:2895.3117141348503,y:6020.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:gPlpsCNM-PJ9Nc6YS2ROo",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"xl",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOqO",typeName:"shape"},"shape:7dW_SyKkSoEaj1jwBLtzE":{x:3543.3117141348503,y:6020.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:7dW_SyKkSoEaj1jwBLtzE",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"dotted",size:"xl",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOqt",typeName:"shape"},"shape:Q9ufddMM8Nv2mOgBji0jg":{x:4191.31171413485,y:6020.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Q9ufddMM8Nv2mOgBji0jg",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"dotted",size:"xl",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOrO",typeName:"shape"},"shape:V98mg-v9L3fz62NHmq2SC":{x:-1424.6882858651497,y:6236.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:V98mg-v9L3fz62NHmq2SC",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"dotted",size:"xl",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOrt",typeName:"shape"},"shape:HxuCMh9T0x9zObozxdruV":{x:-776.6882858651497,y:6236.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:HxuCMh9T0x9zObozxdruV",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"dotted",size:"xl",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOsO",typeName:"shape"},"shape:imavkFmMpYh4FGQENCi-2":{x:-128.68828586514974,y:6236.989023028396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:imavkFmMpYh4FGQENCi-2",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"dotted",size:"xl",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOst",typeName:"shape"},"shape:p40AQnSEZVjtt5VBihnTQ":{x:3975.3117141348503,y:6843.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:p40AQnSEZVjtt5VBihnTQ",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"xl",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOxO",typeName:"shape"},"shape:UqEqTuRNwcMJenQ6Diyow":{x:-1640.6882858651497,y:7059.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:UqEqTuRNwcMJenQ6Diyow",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"xl",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOxt",typeName:"shape"},"shape:RtKIXffoJXvASSGVufH8F":{x:-992.6882858651497,y:7059.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:RtKIXffoJXvASSGVufH8F",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"xl",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOyO",typeName:"shape"},"shape:ziX5D2xoNB69uNeSwUOsv":{x:-344.68828586514974,y:7059.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ziX5D2xoNB69uNeSwUOsv",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"xl",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOyt",typeName:"shape"},"shape:EIdNQqbb9ZOj9d40DhYAO":{x:303.31171413485026,y:7059.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:EIdNQqbb9ZOj9d40DhYAO",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"xl",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOzC",typeName:"shape"},"shape:fGZBfxMjQo_oA-D_f-PMo":{x:951.3117141348503,y:7059.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:fGZBfxMjQo_oA-D_f-PMo",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"xl",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOzS",typeName:"shape"},"shape:HGXjbFXY5OS7a3hPB6NOx":{x:1599.3117141348503,y:7059.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:HGXjbFXY5OS7a3hPB6NOx",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"solid",size:"xl",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOzh",typeName:"shape"},"shape:jiB6Oc0H4crCCdp2yKNIp":{x:2247.3117141348503,y:7059.215585528396,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:jiB6Oc0H4crCCdp2yKNIp",type:"geo",props:{w:200,h:200,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"solid",size:"xl",font:"draw",text:"hello",align:"end",verticalAlign:"end",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOzx",typeName:"shape"},"shape:E92zeAj65G8rqcyqakhb-":{x:2329.9059341913858,y:1465.533260559233,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:E92zeAj65G8rqcyqakhb-",type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:-.22,y:.23,z:.5},{x:.66,y:.46,z:.5},{x:5.05,y:.4,z:.5},{x:13.11,y:-.77,z:.5},{x:22.54,y:-3.4,z:.5},{x:30.92,y:-6.64,z:.5},{x:36.72,y:-10.32,z:.5},{x:39.12,y:-13.99,z:.5},{x:39.42,y:-17.26,z:.5},{x:38.29,y:-19.94,z:.5},{x:33.76,y:-21.69,z:.5},{x:25.82,y:-22.48,z:.5},{x:18.16,y:-22.64,z:.5},{x:12.74,y:-22.38,z:.5},{x:8.98,y:-20.16,z:.5},{x:8.19,y:-14.27,z:.5},{x:12.51,y:-4.22,z:.5},{x:18.89,y:7.38,z:.5},{x:23.71,y:18.54,z:.5},{x:26.33,y:28.93,z:.5},{x:25.65,y:39,z:.5},{x:21.14,y:47.08,z:.5},{x:14.6,y:51.59,z:.5},{x:8.09,y:54.3,z:.5},{x:3.33,y:54.96,z:.5},{x:1.46,y:52.43,z:.5},{x:2.71,y:45.19,z:.5},{x:13.83,y:33.13,z:.5},{x:35.4,y:19.51,z:.5},{x:56.33,y:8.61,z:.5},{x:73.67,y:-.36,z:.5},{x:85.3,y:-7.41,z:.5}]}],color:"black",fill:"none",dash:"draw",size:"s",isComplete:!0,isClosed:!1,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aw",typeName:"shape"},"shape:9-uE3oJexmD9ZJgBhdcih":{x:2420.7305339734053,y:1465.533260559233,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:9-uE3oJexmD9ZJgBhdcih",type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:-.22,y:.23,z:.5},{x:.66,y:.46,z:.5},{x:5.05,y:.4,z:.5},{x:13.11,y:-.77,z:.5},{x:22.54,y:-3.4,z:.5},{x:30.92,y:-6.64,z:.5},{x:36.72,y:-10.32,z:.5},{x:39.12,y:-13.99,z:.5},{x:39.42,y:-17.26,z:.5},{x:38.29,y:-19.94,z:.5},{x:33.76,y:-21.69,z:.5},{x:25.82,y:-22.48,z:.5},{x:18.16,y:-22.64,z:.5},{x:12.74,y:-22.38,z:.5},{x:8.98,y:-20.16,z:.5},{x:8.19,y:-14.27,z:.5},{x:12.51,y:-4.22,z:.5},{x:18.89,y:7.38,z:.5},{x:23.71,y:18.54,z:.5},{x:26.33,y:28.93,z:.5},{x:25.65,y:39,z:.5},{x:21.14,y:47.08,z:.5},{x:14.6,y:51.59,z:.5},{x:8.09,y:54.3,z:.5},{x:3.33,y:54.96,z:.5},{x:1.46,y:52.43,z:.5},{x:2.71,y:45.19,z:.5},{x:13.83,y:33.13,z:.5},{x:35.4,y:19.51,z:.5},{x:56.33,y:8.61,z:.5},{x:73.67,y:-.36,z:.5},{x:85.3,y:-7.41,z:.5}]}],color:"black",fill:"none",dash:"draw",size:"m",isComplete:!0,isClosed:!1,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"ax",typeName:"shape"},"shape:JVKh6nBGbvW-2XVt0OM8l":{x:2517.3871691727795,y:1465.533260559233,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:JVKh6nBGbvW-2XVt0OM8l",type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:-.22,y:.23,z:.5},{x:.66,y:.46,z:.5},{x:5.05,y:.4,z:.5},{x:13.11,y:-.77,z:.5},{x:22.54,y:-3.4,z:.5},{x:30.92,y:-6.64,z:.5},{x:36.72,y:-10.32,z:.5},{x:39.12,y:-13.99,z:.5},{x:39.42,y:-17.26,z:.5},{x:38.29,y:-19.94,z:.5},{x:33.76,y:-21.69,z:.5},{x:25.82,y:-22.48,z:.5},{x:18.16,y:-22.64,z:.5},{x:12.74,y:-22.38,z:.5},{x:8.98,y:-20.16,z:.5},{x:8.19,y:-14.27,z:.5},{x:12.51,y:-4.22,z:.5},{x:18.89,y:7.38,z:.5},{x:23.71,y:18.54,z:.5},{x:26.33,y:28.93,z:.5},{x:25.65,y:39,z:.5},{x:21.14,y:47.08,z:.5},{x:14.6,y:51.59,z:.5},{x:8.09,y:54.3,z:.5},{x:3.33,y:54.96,z:.5},{x:1.46,y:52.43,z:.5},{x:2.71,y:45.19,z:.5},{x:13.83,y:33.13,z:.5},{x:35.4,y:19.51,z:.5},{x:56.33,y:8.61,z:.5},{x:73.67,y:-.36,z:.5},{x:85.3,y:-7.41,z:.5}]}],color:"black",fill:"none",dash:"draw",size:"l",isComplete:!0,isClosed:!1,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"ay",typeName:"shape"},"shape:ighozSUdo75PFS6l7fjj5":{x:2615.4898880572136,y:1465.533260559233,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ighozSUdo75PFS6l7fjj5",type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:-.22,y:.23,z:.5},{x:.66,y:.46,z:.5},{x:5.05,y:.4,z:.5},{x:13.11,y:-.77,z:.5},{x:22.54,y:-3.4,z:.5},{x:30.92,y:-6.64,z:.5},{x:36.72,y:-10.32,z:.5},{x:39.12,y:-13.99,z:.5},{x:39.42,y:-17.26,z:.5},{x:38.29,y:-19.94,z:.5},{x:33.76,y:-21.69,z:.5},{x:25.82,y:-22.48,z:.5},{x:18.16,y:-22.64,z:.5},{x:12.74,y:-22.38,z:.5},{x:8.98,y:-20.16,z:.5},{x:8.19,y:-14.27,z:.5},{x:12.51,y:-4.22,z:.5},{x:18.89,y:7.38,z:.5},{x:23.71,y:18.54,z:.5},{x:26.33,y:28.93,z:.5},{x:25.65,y:39,z:.5},{x:21.14,y:47.08,z:.5},{x:14.6,y:51.59,z:.5},{x:8.09,y:54.3,z:.5},{x:3.33,y:54.96,z:.5},{x:1.46,y:52.43,z:.5},{x:2.71,y:45.19,z:.5},{x:13.83,y:33.13,z:.5},{x:35.4,y:19.51,z:.5},{x:56.33,y:8.61,z:.5},{x:73.67,y:-.36,z:.5},{x:85.3,y:-7.41,z:.5}]}],color:"black",fill:"none",dash:"draw",size:"xl",isComplete:!0,isClosed:!1,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"az",typeName:"shape"},"shape:p_xglRHg89YGZh1zrXRwU":{x:2329.9059341913858,y:1571.4606183805731,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:p_xglRHg89YGZh1zrXRwU",type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:-.22,y:.23,z:.5},{x:.66,y:.46,z:.5},{x:5.05,y:.4,z:.5},{x:13.11,y:-.77,z:.5},{x:22.54,y:-3.4,z:.5},{x:30.92,y:-6.64,z:.5},{x:36.72,y:-10.32,z:.5},{x:39.12,y:-13.99,z:.5},{x:39.42,y:-17.26,z:.5},{x:38.29,y:-19.94,z:.5},{x:33.76,y:-21.69,z:.5},{x:25.82,y:-22.48,z:.5},{x:18.16,y:-22.64,z:.5},{x:12.74,y:-22.38,z:.5},{x:8.98,y:-20.16,z:.5},{x:8.19,y:-14.27,z:.5},{x:12.51,y:-4.22,z:.5},{x:18.89,y:7.38,z:.5},{x:23.71,y:18.54,z:.5},{x:26.33,y:28.93,z:.5},{x:25.65,y:39,z:.5},{x:21.14,y:47.08,z:.5},{x:14.6,y:51.59,z:.5},{x:8.09,y:54.3,z:.5},{x:3.33,y:54.96,z:.5},{x:1.46,y:52.43,z:.5},{x:2.71,y:45.19,z:.5},{x:13.83,y:33.13,z:.5},{x:35.4,y:19.51,z:.5},{x:56.33,y:8.61,z:.5},{x:73.67,y:-.36,z:.5},{x:85.3,y:-7.41,z:.5}]}],color:"black",fill:"none",dash:"dashed",size:"s",isComplete:!0,isClosed:!1,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"awV",typeName:"shape"},"shape:Q3rxBLG5Z_6QDH22eeH59":{x:2420.7305339734053,y:1571.4606183805731,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Q3rxBLG5Z_6QDH22eeH59",type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:-.22,y:.23,z:.5},{x:.66,y:.46,z:.5},{x:5.05,y:.4,z:.5},{x:13.11,y:-.77,z:.5},{x:22.54,y:-3.4,z:.5},{x:30.92,y:-6.64,z:.5},{x:36.72,y:-10.32,z:.5},{x:39.12,y:-13.99,z:.5},{x:39.42,y:-17.26,z:.5},{x:38.29,y:-19.94,z:.5},{x:33.76,y:-21.69,z:.5},{x:25.82,y:-22.48,z:.5},{x:18.16,y:-22.64,z:.5},{x:12.74,y:-22.38,z:.5},{x:8.98,y:-20.16,z:.5},{x:8.19,y:-14.27,z:.5},{x:12.51,y:-4.22,z:.5},{x:18.89,y:7.38,z:.5},{x:23.71,y:18.54,z:.5},{x:26.33,y:28.93,z:.5},{x:25.65,y:39,z:.5},{x:21.14,y:47.08,z:.5},{x:14.6,y:51.59,z:.5},{x:8.09,y:54.3,z:.5},{x:3.33,y:54.96,z:.5},{x:1.46,y:52.43,z:.5},{x:2.71,y:45.19,z:.5},{x:13.83,y:33.13,z:.5},{x:35.4,y:19.51,z:.5},{x:56.33,y:8.61,z:.5},{x:73.67,y:-.36,z:.5},{x:85.3,y:-7.41,z:.5}]}],color:"black",fill:"none",dash:"dashed",size:"m",isComplete:!0,isClosed:!1,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"axV",typeName:"shape"},"shape:2_NasJS2y8tEsSEt0rvl_":{x:2517.3871691727795,y:1571.4606183805731,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:2_NasJS2y8tEsSEt0rvl_",type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:-.22,y:.23,z:.5},{x:.66,y:.46,z:.5},{x:5.05,y:.4,z:.5},{x:13.11,y:-.77,z:.5},{x:22.54,y:-3.4,z:.5},{x:30.92,y:-6.64,z:.5},{x:36.72,y:-10.32,z:.5},{x:39.12,y:-13.99,z:.5},{x:39.42,y:-17.26,z:.5},{x:38.29,y:-19.94,z:.5},{x:33.76,y:-21.69,z:.5},{x:25.82,y:-22.48,z:.5},{x:18.16,y:-22.64,z:.5},{x:12.74,y:-22.38,z:.5},{x:8.98,y:-20.16,z:.5},{x:8.19,y:-14.27,z:.5},{x:12.51,y:-4.22,z:.5},{x:18.89,y:7.38,z:.5},{x:23.71,y:18.54,z:.5},{x:26.33,y:28.93,z:.5},{x:25.65,y:39,z:.5},{x:21.14,y:47.08,z:.5},{x:14.6,y:51.59,z:.5},{x:8.09,y:54.3,z:.5},{x:3.33,y:54.96,z:.5},{x:1.46,y:52.43,z:.5},{x:2.71,y:45.19,z:.5},{x:13.83,y:33.13,z:.5},{x:35.4,y:19.51,z:.5},{x:56.33,y:8.61,z:.5},{x:73.67,y:-.36,z:.5},{x:85.3,y:-7.41,z:.5}]}],color:"black",fill:"none",dash:"dashed",size:"l",isComplete:!0,isClosed:!1,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"ayV",typeName:"shape"},"shape:ydcjp86LOdJVtKaQ6nB1s":{x:2615.4898880572136,y:1571.4606183805731,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ydcjp86LOdJVtKaQ6nB1s",type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:-.22,y:.23,z:.5},{x:.66,y:.46,z:.5},{x:5.05,y:.4,z:.5},{x:13.11,y:-.77,z:.5},{x:22.54,y:-3.4,z:.5},{x:30.92,y:-6.64,z:.5},{x:36.72,y:-10.32,z:.5},{x:39.12,y:-13.99,z:.5},{x:39.42,y:-17.26,z:.5},{x:38.29,y:-19.94,z:.5},{x:33.76,y:-21.69,z:.5},{x:25.82,y:-22.48,z:.5},{x:18.16,y:-22.64,z:.5},{x:12.74,y:-22.38,z:.5},{x:8.98,y:-20.16,z:.5},{x:8.19,y:-14.27,z:.5},{x:12.51,y:-4.22,z:.5},{x:18.89,y:7.38,z:.5},{x:23.71,y:18.54,z:.5},{x:26.33,y:28.93,z:.5},{x:25.65,y:39,z:.5},{x:21.14,y:47.08,z:.5},{x:14.6,y:51.59,z:.5},{x:8.09,y:54.3,z:.5},{x:3.33,y:54.96,z:.5},{x:1.46,y:52.43,z:.5},{x:2.71,y:45.19,z:.5},{x:13.83,y:33.13,z:.5},{x:35.4,y:19.51,z:.5},{x:56.33,y:8.61,z:.5},{x:73.67,y:-.36,z:.5},{x:85.3,y:-7.41,z:.5}]}],color:"black",fill:"none",dash:"dashed",size:"xl",isComplete:!0,isClosed:!1,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"b00",typeName:"shape"},"shape:BSlgoxhRiJx62ARe4Ihid":{x:2329.9059341913858,y:1674.2370251160928,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:BSlgoxhRiJx62ARe4Ihid",type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:-.22,y:.23,z:.5},{x:.66,y:.46,z:.5},{x:5.05,y:.4,z:.5},{x:13.11,y:-.77,z:.5},{x:22.54,y:-3.4,z:.5},{x:30.92,y:-6.64,z:.5},{x:36.72,y:-10.32,z:.5},{x:39.12,y:-13.99,z:.5},{x:39.42,y:-17.26,z:.5},{x:38.29,y:-19.94,z:.5},{x:33.76,y:-21.69,z:.5},{x:25.82,y:-22.48,z:.5},{x:18.16,y:-22.64,z:.5},{x:12.74,y:-22.38,z:.5},{x:8.98,y:-20.16,z:.5},{x:8.19,y:-14.27,z:.5},{x:12.51,y:-4.22,z:.5},{x:18.89,y:7.38,z:.5},{x:23.71,y:18.54,z:.5},{x:26.33,y:28.93,z:.5},{x:25.65,y:39,z:.5},{x:21.14,y:47.08,z:.5},{x:14.6,y:51.59,z:.5},{x:8.09,y:54.3,z:.5},{x:3.33,y:54.96,z:.5},{x:1.46,y:52.43,z:.5},{x:2.71,y:45.19,z:.5},{x:13.83,y:33.13,z:.5},{x:35.4,y:19.51,z:.5},{x:56.33,y:8.61,z:.5},{x:73.67,y:-.36,z:.5},{x:85.3,y:-7.41,z:.5}]}],color:"black",fill:"none",dash:"dotted",size:"s",isComplete:!0,isClosed:!1,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"awl",typeName:"shape"},"shape:DfIG-9msA6FsrFlgyQuFe":{x:2420.7305339734053,y:1674.2370251160928,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:DfIG-9msA6FsrFlgyQuFe",type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:-.22,y:.23,z:.5},{x:.66,y:.46,z:.5},{x:5.05,y:.4,z:.5},{x:13.11,y:-.77,z:.5},{x:22.54,y:-3.4,z:.5},{x:30.92,y:-6.64,z:.5},{x:36.72,y:-10.32,z:.5},{x:39.12,y:-13.99,z:.5},{x:39.42,y:-17.26,z:.5},{x:38.29,y:-19.94,z:.5},{x:33.76,y:-21.69,z:.5},{x:25.82,y:-22.48,z:.5},{x:18.16,y:-22.64,z:.5},{x:12.74,y:-22.38,z:.5},{x:8.98,y:-20.16,z:.5},{x:8.19,y:-14.27,z:.5},{x:12.51,y:-4.22,z:.5},{x:18.89,y:7.38,z:.5},{x:23.71,y:18.54,z:.5},{x:26.33,y:28.93,z:.5},{x:25.65,y:39,z:.5},{x:21.14,y:47.08,z:.5},{x:14.6,y:51.59,z:.5},{x:8.09,y:54.3,z:.5},{x:3.33,y:54.96,z:.5},{x:1.46,y:52.43,z:.5},{x:2.71,y:45.19,z:.5},{x:13.83,y:33.13,z:.5},{x:35.4,y:19.51,z:.5},{x:56.33,y:8.61,z:.5},{x:73.67,y:-.36,z:.5},{x:85.3,y:-7.41,z:.5}]}],color:"black",fill:"none",dash:"dotted",size:"m",isComplete:!0,isClosed:!1,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"axl",typeName:"shape"},"shape:37spm5Lt6S8ufWXCERuxB":{x:2517.3871691727795,y:1674.2370251160928,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:37spm5Lt6S8ufWXCERuxB",type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:-.22,y:.23,z:.5},{x:.66,y:.46,z:.5},{x:5.05,y:.4,z:.5},{x:13.11,y:-.77,z:.5},{x:22.54,y:-3.4,z:.5},{x:30.92,y:-6.64,z:.5},{x:36.72,y:-10.32,z:.5},{x:39.12,y:-13.99,z:.5},{x:39.42,y:-17.26,z:.5},{x:38.29,y:-19.94,z:.5},{x:33.76,y:-21.69,z:.5},{x:25.82,y:-22.48,z:.5},{x:18.16,y:-22.64,z:.5},{x:12.74,y:-22.38,z:.5},{x:8.98,y:-20.16,z:.5},{x:8.19,y:-14.27,z:.5},{x:12.51,y:-4.22,z:.5},{x:18.89,y:7.38,z:.5},{x:23.71,y:18.54,z:.5},{x:26.33,y:28.93,z:.5},{x:25.65,y:39,z:.5},{x:21.14,y:47.08,z:.5},{x:14.6,y:51.59,z:.5},{x:8.09,y:54.3,z:.5},{x:3.33,y:54.96,z:.5},{x:1.46,y:52.43,z:.5},{x:2.71,y:45.19,z:.5},{x:13.83,y:33.13,z:.5},{x:35.4,y:19.51,z:.5},{x:56.33,y:8.61,z:.5},{x:73.67,y:-.36,z:.5},{x:85.3,y:-7.41,z:.5}]}],color:"black",fill:"none",dash:"dotted",size:"l",isComplete:!0,isClosed:!1,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"ayl",typeName:"shape"},"shape:6yk1FbAKH3vDXi3H38pHq":{x:2615.4898880572136,y:1674.2370251160928,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:6yk1FbAKH3vDXi3H38pHq",type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:-.22,y:.23,z:.5},{x:.66,y:.46,z:.5},{x:5.05,y:.4,z:.5},{x:13.11,y:-.77,z:.5},{x:22.54,y:-3.4,z:.5},{x:30.92,y:-6.64,z:.5},{x:36.72,y:-10.32,z:.5},{x:39.12,y:-13.99,z:.5},{x:39.42,y:-17.26,z:.5},{x:38.29,y:-19.94,z:.5},{x:33.76,y:-21.69,z:.5},{x:25.82,y:-22.48,z:.5},{x:18.16,y:-22.64,z:.5},{x:12.74,y:-22.38,z:.5},{x:8.98,y:-20.16,z:.5},{x:8.19,y:-14.27,z:.5},{x:12.51,y:-4.22,z:.5},{x:18.89,y:7.38,z:.5},{x:23.71,y:18.54,z:.5},{x:26.33,y:28.93,z:.5},{x:25.65,y:39,z:.5},{x:21.14,y:47.08,z:.5},{x:14.6,y:51.59,z:.5},{x:8.09,y:54.3,z:.5},{x:3.33,y:54.96,z:.5},{x:1.46,y:52.43,z:.5},{x:2.71,y:45.19,z:.5},{x:13.83,y:33.13,z:.5},{x:35.4,y:19.51,z:.5},{x:56.33,y:8.61,z:.5},{x:73.67,y:-.36,z:.5},{x:85.3,y:-7.41,z:.5}]}],color:"black",fill:"none",dash:"dotted",size:"xl",isComplete:!0,isClosed:!1,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"b01",typeName:"shape"},"shape:R2Mkaotw-ROZOksPuoCoq":{x:2329.9059341913858,y:1779.132533021417,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:R2Mkaotw-ROZOksPuoCoq",type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:-.22,y:.23,z:.5},{x:.66,y:.46,z:.5},{x:5.05,y:.4,z:.5},{x:13.11,y:-.77,z:.5},{x:22.54,y:-3.4,z:.5},{x:30.92,y:-6.64,z:.5},{x:36.72,y:-10.32,z:.5},{x:39.12,y:-13.99,z:.5},{x:39.42,y:-17.26,z:.5},{x:38.29,y:-19.94,z:.5},{x:33.76,y:-21.69,z:.5},{x:25.82,y:-22.48,z:.5},{x:18.16,y:-22.64,z:.5},{x:12.74,y:-22.38,z:.5},{x:8.98,y:-20.16,z:.5},{x:8.19,y:-14.27,z:.5},{x:12.51,y:-4.22,z:.5},{x:18.89,y:7.38,z:.5},{x:23.71,y:18.54,z:.5},{x:26.33,y:28.93,z:.5},{x:25.65,y:39,z:.5},{x:21.14,y:47.08,z:.5},{x:14.6,y:51.59,z:.5},{x:8.09,y:54.3,z:.5},{x:3.33,y:54.96,z:.5},{x:1.46,y:52.43,z:.5},{x:2.71,y:45.19,z:.5},{x:13.83,y:33.13,z:.5},{x:35.4,y:19.51,z:.5},{x:56.33,y:8.61,z:.5},{x:73.67,y:-.36,z:.5},{x:85.3,y:-7.41,z:.5}]}],color:"black",fill:"none",dash:"solid",size:"s",isComplete:!0,isClosed:!1,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"awt",typeName:"shape"},"shape:4crhrHgtCGNQdXDbZrk0_":{x:2420.7305339734053,y:1779.132533021417,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:4crhrHgtCGNQdXDbZrk0_",type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:-.22,y:.23,z:.5},{x:.66,y:.46,z:.5},{x:5.05,y:.4,z:.5},{x:13.11,y:-.77,z:.5},{x:22.54,y:-3.4,z:.5},{x:30.92,y:-6.64,z:.5},{x:36.72,y:-10.32,z:.5},{x:39.12,y:-13.99,z:.5},{x:39.42,y:-17.26,z:.5},{x:38.29,y:-19.94,z:.5},{x:33.76,y:-21.69,z:.5},{x:25.82,y:-22.48,z:.5},{x:18.16,y:-22.64,z:.5},{x:12.74,y:-22.38,z:.5},{x:8.98,y:-20.16,z:.5},{x:8.19,y:-14.27,z:.5},{x:12.51,y:-4.22,z:.5},{x:18.89,y:7.38,z:.5},{x:23.71,y:18.54,z:.5},{x:26.33,y:28.93,z:.5},{x:25.65,y:39,z:.5},{x:21.14,y:47.08,z:.5},{x:14.6,y:51.59,z:.5},{x:8.09,y:54.3,z:.5},{x:3.33,y:54.96,z:.5},{x:1.46,y:52.43,z:.5},{x:2.71,y:45.19,z:.5},{x:13.83,y:33.13,z:.5},{x:35.4,y:19.51,z:.5},{x:56.33,y:8.61,z:.5},{x:73.67,y:-.36,z:.5},{x:85.3,y:-7.41,z:.5}]}],color:"black",fill:"none",dash:"solid",size:"m",isComplete:!0,isClosed:!1,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"axt",typeName:"shape"},"shape:D4ALUpOldnSXExscTCEaF":{x:2517.3871691727795,y:1779.132533021417,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:D4ALUpOldnSXExscTCEaF",type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:-.22,y:.23,z:.5},{x:.66,y:.46,z:.5},{x:5.05,y:.4,z:.5},{x:13.11,y:-.77,z:.5},{x:22.54,y:-3.4,z:.5},{x:30.92,y:-6.64,z:.5},{x:36.72,y:-10.32,z:.5},{x:39.12,y:-13.99,z:.5},{x:39.42,y:-17.26,z:.5},{x:38.29,y:-19.94,z:.5},{x:33.76,y:-21.69,z:.5},{x:25.82,y:-22.48,z:.5},{x:18.16,y:-22.64,z:.5},{x:12.74,y:-22.38,z:.5},{x:8.98,y:-20.16,z:.5},{x:8.19,y:-14.27,z:.5},{x:12.51,y:-4.22,z:.5},{x:18.89,y:7.38,z:.5},{x:23.71,y:18.54,z:.5},{x:26.33,y:28.93,z:.5},{x:25.65,y:39,z:.5},{x:21.14,y:47.08,z:.5},{x:14.6,y:51.59,z:.5},{x:8.09,y:54.3,z:.5},{x:3.33,y:54.96,z:.5},{x:1.46,y:52.43,z:.5},{x:2.71,y:45.19,z:.5},{x:13.83,y:33.13,z:.5},{x:35.4,y:19.51,z:.5},{x:56.33,y:8.61,z:.5},{x:73.67,y:-.36,z:.5},{x:85.3,y:-7.41,z:.5}]}],color:"black",fill:"none",dash:"solid",size:"l",isComplete:!0,isClosed:!1,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"ayt",typeName:"shape"},"shape:gCUK5BZjwUre0SKfyFIlT":{x:2615.4898880572136,y:1779.132533021417,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:gCUK5BZjwUre0SKfyFIlT",type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:-.22,y:.23,z:.5},{x:.66,y:.46,z:.5},{x:5.05,y:.4,z:.5},{x:13.11,y:-.77,z:.5},{x:22.54,y:-3.4,z:.5},{x:30.92,y:-6.64,z:.5},{x:36.72,y:-10.32,z:.5},{x:39.12,y:-13.99,z:.5},{x:39.42,y:-17.26,z:.5},{x:38.29,y:-19.94,z:.5},{x:33.76,y:-21.69,z:.5},{x:25.82,y:-22.48,z:.5},{x:18.16,y:-22.64,z:.5},{x:12.74,y:-22.38,z:.5},{x:8.98,y:-20.16,z:.5},{x:8.19,y:-14.27,z:.5},{x:12.51,y:-4.22,z:.5},{x:18.89,y:7.38,z:.5},{x:23.71,y:18.54,z:.5},{x:26.33,y:28.93,z:.5},{x:25.65,y:39,z:.5},{x:21.14,y:47.08,z:.5},{x:14.6,y:51.59,z:.5},{x:8.09,y:54.3,z:.5},{x:3.33,y:54.96,z:.5},{x:1.46,y:52.43,z:.5},{x:2.71,y:45.19,z:.5},{x:13.83,y:33.13,z:.5},{x:35.4,y:19.51,z:.5},{x:56.33,y:8.61,z:.5},{x:73.67,y:-.36,z:.5},{x:85.3,y:-7.41,z:.5}]}],color:"black",fill:"none",dash:"solid",size:"xl",isComplete:!0,isClosed:!1,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"b02",typeName:"shape"},"shape:prX0ec6A16p8nxA0GlwIW":{x:2371.7005741023604,y:1868.3630634213816,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:prX0ec6A16p8nxA0GlwIW",type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:-1.09,y:.55,z:.5},{x:-2.2,y:1.6,z:.5},{x:-4.7,y:4.58,z:.5},{x:-9.4,y:10.28,z:.5},{x:-15.89,y:17.94,z:.5},{x:-23.71,y:26.94,z:.5},{x:-31.63,y:37.22,z:.5},{x:-37.9,y:47.13,z:.5},{x:-41.7,y:54.97,z:.5},{x:-43.52,y:61.22,z:.5},{x:-44.22,y:67.12,z:.5},{x:-44.34,y:72.27,z:.5},{x:-43.8,y:76.56,z:.5},{x:-41.58,y:80.35,z:.5},{x:-37.96,y:83.17,z:.5},{x:-32.49,y:84.73,z:.5},{x:-23.23,y:85.21,z:.5},{x:-12,y:81.92,z:.5},{x:-1.29,y:74.63,z:.5},{x:9.2,y:66.22,z:.5},{x:19.47,y:57.14,z:.5},{x:28.07,y:47.85,z:.5},{x:34.14,y:39.18,z:.5},{x:37.97,y:31.85,z:.5},{x:40.24,y:24.85,z:.5},{x:41.52,y:18.29,z:.5},{x:41.98,y:12.72,z:.5},{x:42.06,y:6.91,z:.5},{x:41.33,y:1.17,z:.5},{x:39.74,y:-3.28,z:.5},{x:37.96,y:-6.48,z:.5},{x:35.98,y:-9.12,z:.5},{x:33.73,y:-11.14,z:.5},{x:31.44,y:-12.48,z:.5},{x:28.79,y:-13.51,z:.5},{x:25.92,y:-14.1,z:.5},{x:23.49,y:-14.23,z:.5},{x:21.01,y:-14.23,z:.5},{x:18.23,y:-14.23,z:.5},{x:15.27,y:-14.04,z:.5},{x:12.23,y:-13.53,z:.5},{x:9.61,y:-12.94,z:.5},{x:7.68,y:-12.3,z:.5},{x:6.18,y:-11.52,z:.5},{x:5.02,y:-10.78,z:.5},{x:4.03,y:-10.07,z:.5},{x:3.11,y:-9.41,z:.5},{x:2.28,y:-8.89,z:.5},{x:1.54,y:-8.46,z:.5},{x:1.05,y:-8.1,z:.5},{x:.7,y:-7.75,z:.5},{x:.43,y:-7.39,z:.5},{x:.25,y:-7.04,z:.5},{x:.12,y:-6.74,z:.5},{x:.04,y:-6.48,z:.5},{x:0,y:-6.28,z:.5},{x:.07,y:-6.21,z:.5},{x:.31,y:-6.21,z:.5}]}],color:"black",fill:"none",dash:"solid",size:"s",isComplete:!0,isClosed:!0,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"b03",typeName:"shape"},"shape:nZSvit8zimVYilSTclTPI":{x:2464.1897523970865,y:1868.3630634213816,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:nZSvit8zimVYilSTclTPI",type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:-1.09,y:.55,z:.5},{x:-2.2,y:1.6,z:.5},{x:-4.7,y:4.58,z:.5},{x:-9.4,y:10.28,z:.5},{x:-15.89,y:17.94,z:.5},{x:-23.71,y:26.94,z:.5},{x:-31.63,y:37.22,z:.5},{x:-37.9,y:47.13,z:.5},{x:-41.7,y:54.97,z:.5},{x:-43.52,y:61.22,z:.5},{x:-44.22,y:67.12,z:.5},{x:-44.34,y:72.27,z:.5},{x:-43.8,y:76.56,z:.5},{x:-41.58,y:80.35,z:.5},{x:-37.96,y:83.17,z:.5},{x:-32.49,y:84.73,z:.5},{x:-23.23,y:85.21,z:.5},{x:-12,y:81.92,z:.5},{x:-1.29,y:74.63,z:.5},{x:9.2,y:66.22,z:.5},{x:19.47,y:57.14,z:.5},{x:28.07,y:47.85,z:.5},{x:34.14,y:39.18,z:.5},{x:37.97,y:31.85,z:.5},{x:40.24,y:24.85,z:.5},{x:41.52,y:18.29,z:.5},{x:41.98,y:12.72,z:.5},{x:42.06,y:6.91,z:.5},{x:41.33,y:1.17,z:.5},{x:39.74,y:-3.28,z:.5},{x:37.96,y:-6.48,z:.5},{x:35.98,y:-9.12,z:.5},{x:33.73,y:-11.14,z:.5},{x:31.44,y:-12.48,z:.5},{x:28.79,y:-13.51,z:.5},{x:25.92,y:-14.1,z:.5},{x:23.49,y:-14.23,z:.5},{x:21.01,y:-14.23,z:.5},{x:18.23,y:-14.23,z:.5},{x:15.27,y:-14.04,z:.5},{x:12.23,y:-13.53,z:.5},{x:9.61,y:-12.94,z:.5},{x:7.68,y:-12.3,z:.5},{x:6.18,y:-11.52,z:.5},{x:5.02,y:-10.78,z:.5},{x:4.03,y:-10.07,z:.5},{x:3.11,y:-9.41,z:.5},{x:2.28,y:-8.89,z:.5},{x:1.54,y:-8.46,z:.5},{x:1.05,y:-8.1,z:.5},{x:.7,y:-7.75,z:.5},{x:.43,y:-7.39,z:.5},{x:.25,y:-7.04,z:.5},{x:.12,y:-6.74,z:.5},{x:.04,y:-6.48,z:.5},{x:0,y:-6.28,z:.5},{x:.07,y:-6.21,z:.5},{x:.31,y:-6.21,z:.5}]}],color:"black",fill:"semi",dash:"solid",size:"s",isComplete:!0,isClosed:!0,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"b04",typeName:"shape"},"shape:1hmS9Aq6LDGFlGjFOum0Z":{x:2559.0540010591035,y:1868.3630634213816,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:1hmS9Aq6LDGFlGjFOum0Z",type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:-1.09,y:.55,z:.5},{x:-2.2,y:1.6,z:.5},{x:-4.7,y:4.58,z:.5},{x:-9.4,y:10.28,z:.5},{x:-15.89,y:17.94,z:.5},{x:-23.71,y:26.94,z:.5},{x:-31.63,y:37.22,z:.5},{x:-37.9,y:47.13,z:.5},{x:-41.7,y:54.97,z:.5},{x:-43.52,y:61.22,z:.5},{x:-44.22,y:67.12,z:.5},{x:-44.34,y:72.27,z:.5},{x:-43.8,y:76.56,z:.5},{x:-41.58,y:80.35,z:.5},{x:-37.96,y:83.17,z:.5},{x:-32.49,y:84.73,z:.5},{x:-23.23,y:85.21,z:.5},{x:-12,y:81.92,z:.5},{x:-1.29,y:74.63,z:.5},{x:9.2,y:66.22,z:.5},{x:19.47,y:57.14,z:.5},{x:28.07,y:47.85,z:.5},{x:34.14,y:39.18,z:.5},{x:37.97,y:31.85,z:.5},{x:40.24,y:24.85,z:.5},{x:41.52,y:18.29,z:.5},{x:41.98,y:12.72,z:.5},{x:42.06,y:6.91,z:.5},{x:41.33,y:1.17,z:.5},{x:39.74,y:-3.28,z:.5},{x:37.96,y:-6.48,z:.5},{x:35.98,y:-9.12,z:.5},{x:33.73,y:-11.14,z:.5},{x:31.44,y:-12.48,z:.5},{x:28.79,y:-13.51,z:.5},{x:25.92,y:-14.1,z:.5},{x:23.49,y:-14.23,z:.5},{x:21.01,y:-14.23,z:.5},{x:18.23,y:-14.23,z:.5},{x:15.27,y:-14.04,z:.5},{x:12.23,y:-13.53,z:.5},{x:9.61,y:-12.94,z:.5},{x:7.68,y:-12.3,z:.5},{x:6.18,y:-11.52,z:.5},{x:5.02,y:-10.78,z:.5},{x:4.03,y:-10.07,z:.5},{x:3.11,y:-9.41,z:.5},{x:2.28,y:-8.89,z:.5},{x:1.54,y:-8.46,z:.5},{x:1.05,y:-8.1,z:.5},{x:.7,y:-7.75,z:.5},{x:.43,y:-7.39,z:.5},{x:.25,y:-7.04,z:.5},{x:.12,y:-6.74,z:.5},{x:.04,y:-6.48,z:.5},{x:0,y:-6.28,z:.5},{x:.07,y:-6.21,z:.5},{x:.31,y:-6.21,z:.5}]}],color:"black",fill:"solid",dash:"solid",size:"s",isComplete:!0,isClosed:!0,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"b05",typeName:"shape"},"shape:_-f5Yc-UEp_T47UCgwm86":{x:2655.430321132026,y:1868.3630634213816,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:_-f5Yc-UEp_T47UCgwm86",type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:-1.09,y:.55,z:.5},{x:-2.2,y:1.6,z:.5},{x:-4.7,y:4.58,z:.5},{x:-9.4,y:10.28,z:.5},{x:-15.89,y:17.94,z:.5},{x:-23.71,y:26.94,z:.5},{x:-31.63,y:37.22,z:.5},{x:-37.9,y:47.13,z:.5},{x:-41.7,y:54.97,z:.5},{x:-43.52,y:61.22,z:.5},{x:-44.22,y:67.12,z:.5},{x:-44.34,y:72.27,z:.5},{x:-43.8,y:76.56,z:.5},{x:-41.58,y:80.35,z:.5},{x:-37.96,y:83.17,z:.5},{x:-32.49,y:84.73,z:.5},{x:-23.23,y:85.21,z:.5},{x:-12,y:81.92,z:.5},{x:-1.29,y:74.63,z:.5},{x:9.2,y:66.22,z:.5},{x:19.47,y:57.14,z:.5},{x:28.07,y:47.85,z:.5},{x:34.14,y:39.18,z:.5},{x:37.97,y:31.85,z:.5},{x:40.24,y:24.85,z:.5},{x:41.52,y:18.29,z:.5},{x:41.98,y:12.72,z:.5},{x:42.06,y:6.91,z:.5},{x:41.33,y:1.17,z:.5},{x:39.74,y:-3.28,z:.5},{x:37.96,y:-6.48,z:.5},{x:35.98,y:-9.12,z:.5},{x:33.73,y:-11.14,z:.5},{x:31.44,y:-12.48,z:.5},{x:28.79,y:-13.51,z:.5},{x:25.92,y:-14.1,z:.5},{x:23.49,y:-14.23,z:.5},{x:21.01,y:-14.23,z:.5},{x:18.23,y:-14.23,z:.5},{x:15.27,y:-14.04,z:.5},{x:12.23,y:-13.53,z:.5},{x:9.61,y:-12.94,z:.5},{x:7.68,y:-12.3,z:.5},{x:6.18,y:-11.52,z:.5},{x:5.02,y:-10.78,z:.5},{x:4.03,y:-10.07,z:.5},{x:3.11,y:-9.41,z:.5},{x:2.28,y:-8.89,z:.5},{x:1.54,y:-8.46,z:.5},{x:1.05,y:-8.1,z:.5},{x:.7,y:-7.75,z:.5},{x:.43,y:-7.39,z:.5},{x:.25,y:-7.04,z:.5},{x:.12,y:-6.74,z:.5},{x:.04,y:-6.48,z:.5},{x:0,y:-6.28,z:.5},{x:.07,y:-6.21,z:.5},{x:.31,y:-6.21,z:.5}]}],color:"black",fill:"pattern",dash:"solid",size:"s",isComplete:!0,isClosed:!0,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"b06",typeName:"shape"},"shape:T_f9L7UntgXD_dgtr6NCG":{x:2371.7005741023604,y:1914.1336108884768,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:T_f9L7UntgXD_dgtr6NCG",type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:-1.09,y:.55,z:.5},{x:-2.2,y:1.6,z:.5},{x:-4.7,y:4.58,z:.5},{x:-9.4,y:10.28,z:.5},{x:-15.89,y:17.94,z:.5},{x:-23.71,y:26.94,z:.5},{x:-31.63,y:37.22,z:.5},{x:-37.9,y:47.13,z:.5},{x:-41.7,y:54.97,z:.5},{x:-43.52,y:61.22,z:.5},{x:-44.22,y:67.12,z:.5},{x:-44.34,y:72.27,z:.5},{x:-43.8,y:76.56,z:.5},{x:-41.58,y:80.35,z:.5},{x:-37.96,y:83.17,z:.5},{x:-32.49,y:84.73,z:.5},{x:-23.23,y:85.21,z:.5},{x:-12,y:81.92,z:.5},{x:-1.29,y:74.63,z:.5},{x:9.2,y:66.22,z:.5},{x:19.47,y:57.14,z:.5},{x:28.07,y:47.85,z:.5},{x:34.14,y:39.18,z:.5},{x:37.97,y:31.85,z:.5},{x:40.24,y:24.85,z:.5},{x:41.52,y:18.29,z:.5},{x:41.98,y:12.72,z:.5},{x:42.06,y:6.91,z:.5},{x:41.33,y:1.17,z:.5},{x:39.74,y:-3.28,z:.5},{x:37.96,y:-6.48,z:.5},{x:35.98,y:-9.12,z:.5},{x:33.73,y:-11.14,z:.5},{x:31.44,y:-12.48,z:.5},{x:28.79,y:-13.51,z:.5},{x:25.92,y:-14.1,z:.5},{x:23.49,y:-14.23,z:.5},{x:21.01,y:-14.23,z:.5},{x:18.23,y:-14.23,z:.5},{x:15.27,y:-14.04,z:.5},{x:12.23,y:-13.53,z:.5},{x:9.61,y:-12.94,z:.5},{x:7.68,y:-12.3,z:.5},{x:6.18,y:-11.52,z:.5},{x:5.02,y:-10.78,z:.5},{x:4.03,y:-10.07,z:.5},{x:3.11,y:-9.41,z:.5},{x:2.28,y:-8.89,z:.5},{x:1.54,y:-8.46,z:.5},{x:1.05,y:-8.1,z:.5},{x:.7,y:-7.75,z:.5},{x:.43,y:-7.39,z:.5},{x:.25,y:-7.04,z:.5},{x:.12,y:-6.74,z:.5},{x:.04,y:-6.48,z:.5},{x:0,y:-6.28,z:.5},{x:.07,y:-6.21,z:.5},{x:.31,y:-6.21,z:.5}]}],color:"black",fill:"none",dash:"solid",size:"m",isComplete:!0,isClosed:!0,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"b03V",typeName:"shape"},"shape:C1U1bxZKtLObaO858xsXk":{x:2464.1897523970865,y:1914.1336108884768,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:C1U1bxZKtLObaO858xsXk",type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:-1.09,y:.55,z:.5},{x:-2.2,y:1.6,z:.5},{x:-4.7,y:4.58,z:.5},{x:-9.4,y:10.28,z:.5},{x:-15.89,y:17.94,z:.5},{x:-23.71,y:26.94,z:.5},{x:-31.63,y:37.22,z:.5},{x:-37.9,y:47.13,z:.5},{x:-41.7,y:54.97,z:.5},{x:-43.52,y:61.22,z:.5},{x:-44.22,y:67.12,z:.5},{x:-44.34,y:72.27,z:.5},{x:-43.8,y:76.56,z:.5},{x:-41.58,y:80.35,z:.5},{x:-37.96,y:83.17,z:.5},{x:-32.49,y:84.73,z:.5},{x:-23.23,y:85.21,z:.5},{x:-12,y:81.92,z:.5},{x:-1.29,y:74.63,z:.5},{x:9.2,y:66.22,z:.5},{x:19.47,y:57.14,z:.5},{x:28.07,y:47.85,z:.5},{x:34.14,y:39.18,z:.5},{x:37.97,y:31.85,z:.5},{x:40.24,y:24.85,z:.5},{x:41.52,y:18.29,z:.5},{x:41.98,y:12.72,z:.5},{x:42.06,y:6.91,z:.5},{x:41.33,y:1.17,z:.5},{x:39.74,y:-3.28,z:.5},{x:37.96,y:-6.48,z:.5},{x:35.98,y:-9.12,z:.5},{x:33.73,y:-11.14,z:.5},{x:31.44,y:-12.48,z:.5},{x:28.79,y:-13.51,z:.5},{x:25.92,y:-14.1,z:.5},{x:23.49,y:-14.23,z:.5},{x:21.01,y:-14.23,z:.5},{x:18.23,y:-14.23,z:.5},{x:15.27,y:-14.04,z:.5},{x:12.23,y:-13.53,z:.5},{x:9.61,y:-12.94,z:.5},{x:7.68,y:-12.3,z:.5},{x:6.18,y:-11.52,z:.5},{x:5.02,y:-10.78,z:.5},{x:4.03,y:-10.07,z:.5},{x:3.11,y:-9.41,z:.5},{x:2.28,y:-8.89,z:.5},{x:1.54,y:-8.46,z:.5},{x:1.05,y:-8.1,z:.5},{x:.7,y:-7.75,z:.5},{x:.43,y:-7.39,z:.5},{x:.25,y:-7.04,z:.5},{x:.12,y:-6.74,z:.5},{x:.04,y:-6.48,z:.5},{x:0,y:-6.28,z:.5},{x:.07,y:-6.21,z:.5},{x:.31,y:-6.21,z:.5}]}],color:"black",fill:"semi",dash:"solid",size:"m",isComplete:!0,isClosed:!0,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"b04V",typeName:"shape"},"shape:YdIE_dlzusds2HX7xdyMa":{x:2559.0540010591035,y:1914.1336108884768,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:YdIE_dlzusds2HX7xdyMa",type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:-1.09,y:.55,z:.5},{x:-2.2,y:1.6,z:.5},{x:-4.7,y:4.58,z:.5},{x:-9.4,y:10.28,z:.5},{x:-15.89,y:17.94,z:.5},{x:-23.71,y:26.94,z:.5},{x:-31.63,y:37.22,z:.5},{x:-37.9,y:47.13,z:.5},{x:-41.7,y:54.97,z:.5},{x:-43.52,y:61.22,z:.5},{x:-44.22,y:67.12,z:.5},{x:-44.34,y:72.27,z:.5},{x:-43.8,y:76.56,z:.5},{x:-41.58,y:80.35,z:.5},{x:-37.96,y:83.17,z:.5},{x:-32.49,y:84.73,z:.5},{x:-23.23,y:85.21,z:.5},{x:-12,y:81.92,z:.5},{x:-1.29,y:74.63,z:.5},{x:9.2,y:66.22,z:.5},{x:19.47,y:57.14,z:.5},{x:28.07,y:47.85,z:.5},{x:34.14,y:39.18,z:.5},{x:37.97,y:31.85,z:.5},{x:40.24,y:24.85,z:.5},{x:41.52,y:18.29,z:.5},{x:41.98,y:12.72,z:.5},{x:42.06,y:6.91,z:.5},{x:41.33,y:1.17,z:.5},{x:39.74,y:-3.28,z:.5},{x:37.96,y:-6.48,z:.5},{x:35.98,y:-9.12,z:.5},{x:33.73,y:-11.14,z:.5},{x:31.44,y:-12.48,z:.5},{x:28.79,y:-13.51,z:.5},{x:25.92,y:-14.1,z:.5},{x:23.49,y:-14.23,z:.5},{x:21.01,y:-14.23,z:.5},{x:18.23,y:-14.23,z:.5},{x:15.27,y:-14.04,z:.5},{x:12.23,y:-13.53,z:.5},{x:9.61,y:-12.94,z:.5},{x:7.68,y:-12.3,z:.5},{x:6.18,y:-11.52,z:.5},{x:5.02,y:-10.78,z:.5},{x:4.03,y:-10.07,z:.5},{x:3.11,y:-9.41,z:.5},{x:2.28,y:-8.89,z:.5},{x:1.54,y:-8.46,z:.5},{x:1.05,y:-8.1,z:.5},{x:.7,y:-7.75,z:.5},{x:.43,y:-7.39,z:.5},{x:.25,y:-7.04,z:.5},{x:.12,y:-6.74,z:.5},{x:.04,y:-6.48,z:.5},{x:0,y:-6.28,z:.5},{x:.07,y:-6.21,z:.5},{x:.31,y:-6.21,z:.5}]}],color:"black",fill:"solid",dash:"solid",size:"m",isComplete:!0,isClosed:!0,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"b05V",typeName:"shape"},"shape:pHA9CQdWmeGqBkUW9lVHm":{x:2655.430321132026,y:1914.1336108884768,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:pHA9CQdWmeGqBkUW9lVHm",type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:-1.09,y:.55,z:.5},{x:-2.2,y:1.6,z:.5},{x:-4.7,y:4.58,z:.5},{x:-9.4,y:10.28,z:.5},{x:-15.89,y:17.94,z:.5},{x:-23.71,y:26.94,z:.5},{x:-31.63,y:37.22,z:.5},{x:-37.9,y:47.13,z:.5},{x:-41.7,y:54.97,z:.5},{x:-43.52,y:61.22,z:.5},{x:-44.22,y:67.12,z:.5},{x:-44.34,y:72.27,z:.5},{x:-43.8,y:76.56,z:.5},{x:-41.58,y:80.35,z:.5},{x:-37.96,y:83.17,z:.5},{x:-32.49,y:84.73,z:.5},{x:-23.23,y:85.21,z:.5},{x:-12,y:81.92,z:.5},{x:-1.29,y:74.63,z:.5},{x:9.2,y:66.22,z:.5},{x:19.47,y:57.14,z:.5},{x:28.07,y:47.85,z:.5},{x:34.14,y:39.18,z:.5},{x:37.97,y:31.85,z:.5},{x:40.24,y:24.85,z:.5},{x:41.52,y:18.29,z:.5},{x:41.98,y:12.72,z:.5},{x:42.06,y:6.91,z:.5},{x:41.33,y:1.17,z:.5},{x:39.74,y:-3.28,z:.5},{x:37.96,y:-6.48,z:.5},{x:35.98,y:-9.12,z:.5},{x:33.73,y:-11.14,z:.5},{x:31.44,y:-12.48,z:.5},{x:28.79,y:-13.51,z:.5},{x:25.92,y:-14.1,z:.5},{x:23.49,y:-14.23,z:.5},{x:21.01,y:-14.23,z:.5},{x:18.23,y:-14.23,z:.5},{x:15.27,y:-14.04,z:.5},{x:12.23,y:-13.53,z:.5},{x:9.61,y:-12.94,z:.5},{x:7.68,y:-12.3,z:.5},{x:6.18,y:-11.52,z:.5},{x:5.02,y:-10.78,z:.5},{x:4.03,y:-10.07,z:.5},{x:3.11,y:-9.41,z:.5},{x:2.28,y:-8.89,z:.5},{x:1.54,y:-8.46,z:.5},{x:1.05,y:-8.1,z:.5},{x:.7,y:-7.75,z:.5},{x:.43,y:-7.39,z:.5},{x:.25,y:-7.04,z:.5},{x:.12,y:-6.74,z:.5},{x:.04,y:-6.48,z:.5},{x:0,y:-6.28,z:.5},{x:.07,y:-6.21,z:.5},{x:.31,y:-6.21,z:.5}]}],color:"black",fill:"pattern",dash:"solid",size:"m",isComplete:!0,isClosed:!0,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"b07",typeName:"shape"},"shape:cTwbmvg0PYO6EfAykIiOa":{x:2371.7005741023604,y:1957.8232369283446,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:cTwbmvg0PYO6EfAykIiOa",type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:-1.09,y:.55,z:.5},{x:-2.2,y:1.6,z:.5},{x:-4.7,y:4.58,z:.5},{x:-9.4,y:10.28,z:.5},{x:-15.89,y:17.94,z:.5},{x:-23.71,y:26.94,z:.5},{x:-31.63,y:37.22,z:.5},{x:-37.9,y:47.13,z:.5},{x:-41.7,y:54.97,z:.5},{x:-43.52,y:61.22,z:.5},{x:-44.22,y:67.12,z:.5},{x:-44.34,y:72.27,z:.5},{x:-43.8,y:76.56,z:.5},{x:-41.58,y:80.35,z:.5},{x:-37.96,y:83.17,z:.5},{x:-32.49,y:84.73,z:.5},{x:-23.23,y:85.21,z:.5},{x:-12,y:81.92,z:.5},{x:-1.29,y:74.63,z:.5},{x:9.2,y:66.22,z:.5},{x:19.47,y:57.14,z:.5},{x:28.07,y:47.85,z:.5},{x:34.14,y:39.18,z:.5},{x:37.97,y:31.85,z:.5},{x:40.24,y:24.85,z:.5},{x:41.52,y:18.29,z:.5},{x:41.98,y:12.72,z:.5},{x:42.06,y:6.91,z:.5},{x:41.33,y:1.17,z:.5},{x:39.74,y:-3.28,z:.5},{x:37.96,y:-6.48,z:.5},{x:35.98,y:-9.12,z:.5},{x:33.73,y:-11.14,z:.5},{x:31.44,y:-12.48,z:.5},{x:28.79,y:-13.51,z:.5},{x:25.92,y:-14.1,z:.5},{x:23.49,y:-14.23,z:.5},{x:21.01,y:-14.23,z:.5},{x:18.23,y:-14.23,z:.5},{x:15.27,y:-14.04,z:.5},{x:12.23,y:-13.53,z:.5},{x:9.61,y:-12.94,z:.5},{x:7.68,y:-12.3,z:.5},{x:6.18,y:-11.52,z:.5},{x:5.02,y:-10.78,z:.5},{x:4.03,y:-10.07,z:.5},{x:3.11,y:-9.41,z:.5},{x:2.28,y:-8.89,z:.5},{x:1.54,y:-8.46,z:.5},{x:1.05,y:-8.1,z:.5},{x:.7,y:-7.75,z:.5},{x:.43,y:-7.39,z:.5},{x:.25,y:-7.04,z:.5},{x:.12,y:-6.74,z:.5},{x:.04,y:-6.48,z:.5},{x:0,y:-6.28,z:.5},{x:.07,y:-6.21,z:.5},{x:.31,y:-6.21,z:.5}]}],color:"black",fill:"none",dash:"solid",size:"l",isComplete:!0,isClosed:!0,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"b03l",typeName:"shape"},"shape:XXBAbC2nq_sFsowVIAJjs":{x:2464.1897523970865,y:1957.8232369283446,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:XXBAbC2nq_sFsowVIAJjs",type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:-1.09,y:.55,z:.5},{x:-2.2,y:1.6,z:.5},{x:-4.7,y:4.58,z:.5},{x:-9.4,y:10.28,z:.5},{x:-15.89,y:17.94,z:.5},{x:-23.71,y:26.94,z:.5},{x:-31.63,y:37.22,z:.5},{x:-37.9,y:47.13,z:.5},{x:-41.7,y:54.97,z:.5},{x:-43.52,y:61.22,z:.5},{x:-44.22,y:67.12,z:.5},{x:-44.34,y:72.27,z:.5},{x:-43.8,y:76.56,z:.5},{x:-41.58,y:80.35,z:.5},{x:-37.96,y:83.17,z:.5},{x:-32.49,y:84.73,z:.5},{x:-23.23,y:85.21,z:.5},{x:-12,y:81.92,z:.5},{x:-1.29,y:74.63,z:.5},{x:9.2,y:66.22,z:.5},{x:19.47,y:57.14,z:.5},{x:28.07,y:47.85,z:.5},{x:34.14,y:39.18,z:.5},{x:37.97,y:31.85,z:.5},{x:40.24,y:24.85,z:.5},{x:41.52,y:18.29,z:.5},{x:41.98,y:12.72,z:.5},{x:42.06,y:6.91,z:.5},{x:41.33,y:1.17,z:.5},{x:39.74,y:-3.28,z:.5},{x:37.96,y:-6.48,z:.5},{x:35.98,y:-9.12,z:.5},{x:33.73,y:-11.14,z:.5},{x:31.44,y:-12.48,z:.5},{x:28.79,y:-13.51,z:.5},{x:25.92,y:-14.1,z:.5},{x:23.49,y:-14.23,z:.5},{x:21.01,y:-14.23,z:.5},{x:18.23,y:-14.23,z:.5},{x:15.27,y:-14.04,z:.5},{x:12.23,y:-13.53,z:.5},{x:9.61,y:-12.94,z:.5},{x:7.68,y:-12.3,z:.5},{x:6.18,y:-11.52,z:.5},{x:5.02,y:-10.78,z:.5},{x:4.03,y:-10.07,z:.5},{x:3.11,y:-9.41,z:.5},{x:2.28,y:-8.89,z:.5},{x:1.54,y:-8.46,z:.5},{x:1.05,y:-8.1,z:.5},{x:.7,y:-7.75,z:.5},{x:.43,y:-7.39,z:.5},{x:.25,y:-7.04,z:.5},{x:.12,y:-6.74,z:.5},{x:.04,y:-6.48,z:.5},{x:0,y:-6.28,z:.5},{x:.07,y:-6.21,z:.5},{x:.31,y:-6.21,z:.5}]}],color:"black",fill:"semi",dash:"solid",size:"l",isComplete:!0,isClosed:!0,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"b04l",typeName:"shape"},"shape:VgY67SQ6pzJ7ppJuK5mp2":{x:2559.0540010591035,y:1957.8232369283446,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:VgY67SQ6pzJ7ppJuK5mp2",type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:-1.09,y:.55,z:.5},{x:-2.2,y:1.6,z:.5},{x:-4.7,y:4.58,z:.5},{x:-9.4,y:10.28,z:.5},{x:-15.89,y:17.94,z:.5},{x:-23.71,y:26.94,z:.5},{x:-31.63,y:37.22,z:.5},{x:-37.9,y:47.13,z:.5},{x:-41.7,y:54.97,z:.5},{x:-43.52,y:61.22,z:.5},{x:-44.22,y:67.12,z:.5},{x:-44.34,y:72.27,z:.5},{x:-43.8,y:76.56,z:.5},{x:-41.58,y:80.35,z:.5},{x:-37.96,y:83.17,z:.5},{x:-32.49,y:84.73,z:.5},{x:-23.23,y:85.21,z:.5},{x:-12,y:81.92,z:.5},{x:-1.29,y:74.63,z:.5},{x:9.2,y:66.22,z:.5},{x:19.47,y:57.14,z:.5},{x:28.07,y:47.85,z:.5},{x:34.14,y:39.18,z:.5},{x:37.97,y:31.85,z:.5},{x:40.24,y:24.85,z:.5},{x:41.52,y:18.29,z:.5},{x:41.98,y:12.72,z:.5},{x:42.06,y:6.91,z:.5},{x:41.33,y:1.17,z:.5},{x:39.74,y:-3.28,z:.5},{x:37.96,y:-6.48,z:.5},{x:35.98,y:-9.12,z:.5},{x:33.73,y:-11.14,z:.5},{x:31.44,y:-12.48,z:.5},{x:28.79,y:-13.51,z:.5},{x:25.92,y:-14.1,z:.5},{x:23.49,y:-14.23,z:.5},{x:21.01,y:-14.23,z:.5},{x:18.23,y:-14.23,z:.5},{x:15.27,y:-14.04,z:.5},{x:12.23,y:-13.53,z:.5},{x:9.61,y:-12.94,z:.5},{x:7.68,y:-12.3,z:.5},{x:6.18,y:-11.52,z:.5},{x:5.02,y:-10.78,z:.5},{x:4.03,y:-10.07,z:.5},{x:3.11,y:-9.41,z:.5},{x:2.28,y:-8.89,z:.5},{x:1.54,y:-8.46,z:.5},{x:1.05,y:-8.1,z:.5},{x:.7,y:-7.75,z:.5},{x:.43,y:-7.39,z:.5},{x:.25,y:-7.04,z:.5},{x:.12,y:-6.74,z:.5},{x:.04,y:-6.48,z:.5},{x:0,y:-6.28,z:.5},{x:.07,y:-6.21,z:.5},{x:.31,y:-6.21,z:.5}]}],color:"black",fill:"solid",dash:"solid",size:"l",isComplete:!0,isClosed:!0,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"b05l",typeName:"shape"},"shape:HE3Tbyn7cl8gyKpyrWTuB":{x:2655.430321132026,y:1957.8232369283446,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:HE3Tbyn7cl8gyKpyrWTuB",type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:-1.09,y:.55,z:.5},{x:-2.2,y:1.6,z:.5},{x:-4.7,y:4.58,z:.5},{x:-9.4,y:10.28,z:.5},{x:-15.89,y:17.94,z:.5},{x:-23.71,y:26.94,z:.5},{x:-31.63,y:37.22,z:.5},{x:-37.9,y:47.13,z:.5},{x:-41.7,y:54.97,z:.5},{x:-43.52,y:61.22,z:.5},{x:-44.22,y:67.12,z:.5},{x:-44.34,y:72.27,z:.5},{x:-43.8,y:76.56,z:.5},{x:-41.58,y:80.35,z:.5},{x:-37.96,y:83.17,z:.5},{x:-32.49,y:84.73,z:.5},{x:-23.23,y:85.21,z:.5},{x:-12,y:81.92,z:.5},{x:-1.29,y:74.63,z:.5},{x:9.2,y:66.22,z:.5},{x:19.47,y:57.14,z:.5},{x:28.07,y:47.85,z:.5},{x:34.14,y:39.18,z:.5},{x:37.97,y:31.85,z:.5},{x:40.24,y:24.85,z:.5},{x:41.52,y:18.29,z:.5},{x:41.98,y:12.72,z:.5},{x:42.06,y:6.91,z:.5},{x:41.33,y:1.17,z:.5},{x:39.74,y:-3.28,z:.5},{x:37.96,y:-6.48,z:.5},{x:35.98,y:-9.12,z:.5},{x:33.73,y:-11.14,z:.5},{x:31.44,y:-12.48,z:.5},{x:28.79,y:-13.51,z:.5},{x:25.92,y:-14.1,z:.5},{x:23.49,y:-14.23,z:.5},{x:21.01,y:-14.23,z:.5},{x:18.23,y:-14.23,z:.5},{x:15.27,y:-14.04,z:.5},{x:12.23,y:-13.53,z:.5},{x:9.61,y:-12.94,z:.5},{x:7.68,y:-12.3,z:.5},{x:6.18,y:-11.52,z:.5},{x:5.02,y:-10.78,z:.5},{x:4.03,y:-10.07,z:.5},{x:3.11,y:-9.41,z:.5},{x:2.28,y:-8.89,z:.5},{x:1.54,y:-8.46,z:.5},{x:1.05,y:-8.1,z:.5},{x:.7,y:-7.75,z:.5},{x:.43,y:-7.39,z:.5},{x:.25,y:-7.04,z:.5},{x:.12,y:-6.74,z:.5},{x:.04,y:-6.48,z:.5},{x:0,y:-6.28,z:.5},{x:.07,y:-6.21,z:.5},{x:.31,y:-6.21,z:.5}]}],color:"black",fill:"pattern",dash:"solid",size:"l",isComplete:!0,isClosed:!0,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"b08",typeName:"shape"},"shape:yv9STg2dkP41U1MLrSGNs":{x:2371.7005741023604,y:2002.7332164220306,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:yv9STg2dkP41U1MLrSGNs",type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:-1.09,y:.55,z:.5},{x:-2.2,y:1.6,z:.5},{x:-4.7,y:4.58,z:.5},{x:-9.4,y:10.28,z:.5},{x:-15.89,y:17.94,z:.5},{x:-23.71,y:26.94,z:.5},{x:-31.63,y:37.22,z:.5},{x:-37.9,y:47.13,z:.5},{x:-41.7,y:54.97,z:.5},{x:-43.52,y:61.22,z:.5},{x:-44.22,y:67.12,z:.5},{x:-44.34,y:72.27,z:.5},{x:-43.8,y:76.56,z:.5},{x:-41.58,y:80.35,z:.5},{x:-37.96,y:83.17,z:.5},{x:-32.49,y:84.73,z:.5},{x:-23.23,y:85.21,z:.5},{x:-12,y:81.92,z:.5},{x:-1.29,y:74.63,z:.5},{x:9.2,y:66.22,z:.5},{x:19.47,y:57.14,z:.5},{x:28.07,y:47.85,z:.5},{x:34.14,y:39.18,z:.5},{x:37.97,y:31.85,z:.5},{x:40.24,y:24.85,z:.5},{x:41.52,y:18.29,z:.5},{x:41.98,y:12.72,z:.5},{x:42.06,y:6.91,z:.5},{x:41.33,y:1.17,z:.5},{x:39.74,y:-3.28,z:.5},{x:37.96,y:-6.48,z:.5},{x:35.98,y:-9.12,z:.5},{x:33.73,y:-11.14,z:.5},{x:31.44,y:-12.48,z:.5},{x:28.79,y:-13.51,z:.5},{x:25.92,y:-14.1,z:.5},{x:23.49,y:-14.23,z:.5},{x:21.01,y:-14.23,z:.5},{x:18.23,y:-14.23,z:.5},{x:15.27,y:-14.04,z:.5},{x:12.23,y:-13.53,z:.5},{x:9.61,y:-12.94,z:.5},{x:7.68,y:-12.3,z:.5},{x:6.18,y:-11.52,z:.5},{x:5.02,y:-10.78,z:.5},{x:4.03,y:-10.07,z:.5},{x:3.11,y:-9.41,z:.5},{x:2.28,y:-8.89,z:.5},{x:1.54,y:-8.46,z:.5},{x:1.05,y:-8.1,z:.5},{x:.7,y:-7.75,z:.5},{x:.43,y:-7.39,z:.5},{x:.25,y:-7.04,z:.5},{x:.12,y:-6.74,z:.5},{x:.04,y:-6.48,z:.5},{x:0,y:-6.28,z:.5},{x:.07,y:-6.21,z:.5},{x:.31,y:-6.21,z:.5}]}],color:"black",fill:"none",dash:"solid",size:"xl",isComplete:!0,isClosed:!0,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"b03t",typeName:"shape"},"shape:D-P0DiUIoul0ycV4JUXLv":{x:2464.1897523970865,y:2002.7332164220306,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:D-P0DiUIoul0ycV4JUXLv",type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:-1.09,y:.55,z:.5},{x:-2.2,y:1.6,z:.5},{x:-4.7,y:4.58,z:.5},{x:-9.4,y:10.28,z:.5},{x:-15.89,y:17.94,z:.5},{x:-23.71,y:26.94,z:.5},{x:-31.63,y:37.22,z:.5},{x:-37.9,y:47.13,z:.5},{x:-41.7,y:54.97,z:.5},{x:-43.52,y:61.22,z:.5},{x:-44.22,y:67.12,z:.5},{x:-44.34,y:72.27,z:.5},{x:-43.8,y:76.56,z:.5},{x:-41.58,y:80.35,z:.5},{x:-37.96,y:83.17,z:.5},{x:-32.49,y:84.73,z:.5},{x:-23.23,y:85.21,z:.5},{x:-12,y:81.92,z:.5},{x:-1.29,y:74.63,z:.5},{x:9.2,y:66.22,z:.5},{x:19.47,y:57.14,z:.5},{x:28.07,y:47.85,z:.5},{x:34.14,y:39.18,z:.5},{x:37.97,y:31.85,z:.5},{x:40.24,y:24.85,z:.5},{x:41.52,y:18.29,z:.5},{x:41.98,y:12.72,z:.5},{x:42.06,y:6.91,z:.5},{x:41.33,y:1.17,z:.5},{x:39.74,y:-3.28,z:.5},{x:37.96,y:-6.48,z:.5},{x:35.98,y:-9.12,z:.5},{x:33.73,y:-11.14,z:.5},{x:31.44,y:-12.48,z:.5},{x:28.79,y:-13.51,z:.5},{x:25.92,y:-14.1,z:.5},{x:23.49,y:-14.23,z:.5},{x:21.01,y:-14.23,z:.5},{x:18.23,y:-14.23,z:.5},{x:15.27,y:-14.04,z:.5},{x:12.23,y:-13.53,z:.5},{x:9.61,y:-12.94,z:.5},{x:7.68,y:-12.3,z:.5},{x:6.18,y:-11.52,z:.5},{x:5.02,y:-10.78,z:.5},{x:4.03,y:-10.07,z:.5},{x:3.11,y:-9.41,z:.5},{x:2.28,y:-8.89,z:.5},{x:1.54,y:-8.46,z:.5},{x:1.05,y:-8.1,z:.5},{x:.7,y:-7.75,z:.5},{x:.43,y:-7.39,z:.5},{x:.25,y:-7.04,z:.5},{x:.12,y:-6.74,z:.5},{x:.04,y:-6.48,z:.5},{x:0,y:-6.28,z:.5},{x:.07,y:-6.21,z:.5},{x:.31,y:-6.21,z:.5}]}],color:"black",fill:"semi",dash:"solid",size:"xl",isComplete:!0,isClosed:!0,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"b04t",typeName:"shape"},"shape:VBOX4so4RrjUud7FdPjRU":{x:2559.0540010591035,y:2002.7332164220306,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:VBOX4so4RrjUud7FdPjRU",type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:-1.09,y:.55,z:.5},{x:-2.2,y:1.6,z:.5},{x:-4.7,y:4.58,z:.5},{x:-9.4,y:10.28,z:.5},{x:-15.89,y:17.94,z:.5},{x:-23.71,y:26.94,z:.5},{x:-31.63,y:37.22,z:.5},{x:-37.9,y:47.13,z:.5},{x:-41.7,y:54.97,z:.5},{x:-43.52,y:61.22,z:.5},{x:-44.22,y:67.12,z:.5},{x:-44.34,y:72.27,z:.5},{x:-43.8,y:76.56,z:.5},{x:-41.58,y:80.35,z:.5},{x:-37.96,y:83.17,z:.5},{x:-32.49,y:84.73,z:.5},{x:-23.23,y:85.21,z:.5},{x:-12,y:81.92,z:.5},{x:-1.29,y:74.63,z:.5},{x:9.2,y:66.22,z:.5},{x:19.47,y:57.14,z:.5},{x:28.07,y:47.85,z:.5},{x:34.14,y:39.18,z:.5},{x:37.97,y:31.85,z:.5},{x:40.24,y:24.85,z:.5},{x:41.52,y:18.29,z:.5},{x:41.98,y:12.72,z:.5},{x:42.06,y:6.91,z:.5},{x:41.33,y:1.17,z:.5},{x:39.74,y:-3.28,z:.5},{x:37.96,y:-6.48,z:.5},{x:35.98,y:-9.12,z:.5},{x:33.73,y:-11.14,z:.5},{x:31.44,y:-12.48,z:.5},{x:28.79,y:-13.51,z:.5},{x:25.92,y:-14.1,z:.5},{x:23.49,y:-14.23,z:.5},{x:21.01,y:-14.23,z:.5},{x:18.23,y:-14.23,z:.5},{x:15.27,y:-14.04,z:.5},{x:12.23,y:-13.53,z:.5},{x:9.61,y:-12.94,z:.5},{x:7.68,y:-12.3,z:.5},{x:6.18,y:-11.52,z:.5},{x:5.02,y:-10.78,z:.5},{x:4.03,y:-10.07,z:.5},{x:3.11,y:-9.41,z:.5},{x:2.28,y:-8.89,z:.5},{x:1.54,y:-8.46,z:.5},{x:1.05,y:-8.1,z:.5},{x:.7,y:-7.75,z:.5},{x:.43,y:-7.39,z:.5},{x:.25,y:-7.04,z:.5},{x:.12,y:-6.74,z:.5},{x:.04,y:-6.48,z:.5},{x:0,y:-6.28,z:.5},{x:.07,y:-6.21,z:.5},{x:.31,y:-6.21,z:.5}]}],color:"black",fill:"solid",dash:"solid",size:"xl",isComplete:!0,isClosed:!0,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"b05t",typeName:"shape"},"shape:IJJBtrltM_yFT87eP3oFN":{x:2655.430321132026,y:2002.7332164220306,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:IJJBtrltM_yFT87eP3oFN",type:"draw",props:{segments:[{type:"free",points:[{x:0,y:0,z:.5},{x:-1.09,y:.55,z:.5},{x:-2.2,y:1.6,z:.5},{x:-4.7,y:4.58,z:.5},{x:-9.4,y:10.28,z:.5},{x:-15.89,y:17.94,z:.5},{x:-23.71,y:26.94,z:.5},{x:-31.63,y:37.22,z:.5},{x:-37.9,y:47.13,z:.5},{x:-41.7,y:54.97,z:.5},{x:-43.52,y:61.22,z:.5},{x:-44.22,y:67.12,z:.5},{x:-44.34,y:72.27,z:.5},{x:-43.8,y:76.56,z:.5},{x:-41.58,y:80.35,z:.5},{x:-37.96,y:83.17,z:.5},{x:-32.49,y:84.73,z:.5},{x:-23.23,y:85.21,z:.5},{x:-12,y:81.92,z:.5},{x:-1.29,y:74.63,z:.5},{x:9.2,y:66.22,z:.5},{x:19.47,y:57.14,z:.5},{x:28.07,y:47.85,z:.5},{x:34.14,y:39.18,z:.5},{x:37.97,y:31.85,z:.5},{x:40.24,y:24.85,z:.5},{x:41.52,y:18.29,z:.5},{x:41.98,y:12.72,z:.5},{x:42.06,y:6.91,z:.5},{x:41.33,y:1.17,z:.5},{x:39.74,y:-3.28,z:.5},{x:37.96,y:-6.48,z:.5},{x:35.98,y:-9.12,z:.5},{x:33.73,y:-11.14,z:.5},{x:31.44,y:-12.48,z:.5},{x:28.79,y:-13.51,z:.5},{x:25.92,y:-14.1,z:.5},{x:23.49,y:-14.23,z:.5},{x:21.01,y:-14.23,z:.5},{x:18.23,y:-14.23,z:.5},{x:15.27,y:-14.04,z:.5},{x:12.23,y:-13.53,z:.5},{x:9.61,y:-12.94,z:.5},{x:7.68,y:-12.3,z:.5},{x:6.18,y:-11.52,z:.5},{x:5.02,y:-10.78,z:.5},{x:4.03,y:-10.07,z:.5},{x:3.11,y:-9.41,z:.5},{x:2.28,y:-8.89,z:.5},{x:1.54,y:-8.46,z:.5},{x:1.05,y:-8.1,z:.5},{x:.7,y:-7.75,z:.5},{x:.43,y:-7.39,z:.5},{x:.25,y:-7.04,z:.5},{x:.12,y:-6.74,z:.5},{x:.04,y:-6.48,z:.5},{x:0,y:-6.28,z:.5},{x:.07,y:-6.21,z:.5},{x:.31,y:-6.21,z:.5}]}],color:"black",fill:"pattern",dash:"solid",size:"xl",isComplete:!0,isClosed:!0,isPen:!1},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"b09",typeName:"shape"},"shape:Y-RNZI0kCIm1cfrq380tp":{x:2320.5383081066075,y:2127.742336216381,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Y-RNZI0kCIm1cfrq380tp",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aL4",typeName:"shape"},"shape:kwqilkm_qj0bkPeIBpqN8":{x:2409.659076878031,y:2127.742336216381,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:kwqilkm_qj0bkPeIBpqN8",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aM4",typeName:"shape"},"shape:wzdreIn-lrivnrX33jfGF":{x:2498.7798456494547,y:2127.742336216381,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:wzdreIn-lrivnrX33jfGF",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aN4",typeName:"shape"},"shape:8NwS1iOlT-3S1hklDcmWc":{x:2587.900614420879,y:2127.742336216381,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:8NwS1iOlT-3S1hklDcmWc",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aO8",typeName:"shape"},"shape:k6X_klIC0tdRf50y-lVog":{x:2336.837678818715,y:2153.6216955397117,rotation:0,isLocked:!1,opacity:.5,meta:{},id:"shape:k6X_klIC0tdRf50y-lVog",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aL6",typeName:"shape"},"shape:c6QiPSwMZtSeYctltuWki":{x:2425.958447590139,y:2153.6216955397117,rotation:0,isLocked:!1,opacity:.5,meta:{},id:"shape:c6QiPSwMZtSeYctltuWki",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aM6",typeName:"shape"},"shape:BcPsqsxxb92Uyagm5dPl7":{x:2515.0792163615624,y:2153.6216955397117,rotation:0,isLocked:!1,opacity:.5,meta:{},id:"shape:BcPsqsxxb92Uyagm5dPl7",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aN6",typeName:"shape"},"shape:xJiq2X0VhJ2Ht79tNZBXb":{x:2604.1999851329865,y:2153.6216955397117,rotation:0,isLocked:!1,opacity:.5,meta:{},id:"shape:xJiq2X0VhJ2Ht79tNZBXb",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"draw",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOC",typeName:"shape"},"shape:ZDRB73mj1n8QTCLyhQFu5":{x:2320.5383081066075,y:2227.9749996826504,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ZDRB73mj1n8QTCLyhQFu5",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"draw",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aL5",typeName:"shape"},"shape:2yK-kN1RVmEvNJqQCxQ37":{x:2336.837678818715,y:2253.854359005981,rotation:0,isLocked:!1,opacity:.5,meta:{},id:"shape:2yK-kN1RVmEvNJqQCxQ37",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"draw",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aL7",typeName:"shape"},"shape:1KQ5UTW3w1ZkwiPerI50z":{x:2409.659076878031,y:2227.9749996826504,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:1KQ5UTW3w1ZkwiPerI50z",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"draw",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aM5",typeName:"shape"},"shape:36ROdWhjuvfJxnGfDYaoa":{x:2425.958447590139,y:2253.854359005981,rotation:0,isLocked:!1,opacity:.5,meta:{},id:"shape:36ROdWhjuvfJxnGfDYaoa",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"draw",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aM7",typeName:"shape"},"shape:dItJmYuee0s-EvJvA6fvt":{x:2498.7798456494547,y:2227.9749996826504,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:dItJmYuee0s-EvJvA6fvt",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"draw",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aN5",typeName:"shape"},"shape:soXLUhPqG187h78lxTd0y":{x:2515.0792163615624,y:2253.854359005981,rotation:0,isLocked:!1,opacity:.5,meta:{},id:"shape:soXLUhPqG187h78lxTd0y",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"draw",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aN7",typeName:"shape"},"shape:qwD_eFzNnAawFyCtKw9EV":{x:2587.900614420879,y:2227.9749996826504,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:qwD_eFzNnAawFyCtKw9EV",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"draw",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOA",typeName:"shape"},"shape:8WttAcWOX89x-8Lr96Rnl":{x:2604.1999851329865,y:2253.854359005981,rotation:0,isLocked:!1,opacity:.5,meta:{},id:"shape:8WttAcWOX89x-8Lr96Rnl",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"draw",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOE",typeName:"shape"},"shape:R1HFhhOJuTv8yBxBAA4XQ":{x:2320.5383081066075,y:2322.176882797105,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:R1HFhhOJuTv8yBxBAA4XQ",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"draw",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aL5V",typeName:"shape"},"shape:iuDhdLZmzYYEjfxzbfUrq":{x:2336.837678818715,y:2348.056242120436,rotation:0,isLocked:!1,opacity:.5,meta:{},id:"shape:iuDhdLZmzYYEjfxzbfUrq",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"draw",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aL7V",typeName:"shape"},"shape:afM-6EiKzEIgt6_u2iYfm":{x:2409.659076878031,y:2322.176882797105,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:afM-6EiKzEIgt6_u2iYfm",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"draw",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aM5V",typeName:"shape"},"shape:FKpif8usLRjQp12ijiFrq":{x:2425.958447590139,y:2348.056242120436,rotation:0,isLocked:!1,opacity:.5,meta:{},id:"shape:FKpif8usLRjQp12ijiFrq",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"draw",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aM7V",typeName:"shape"},"shape:WaLWMiWSObHfbWdXKwG32":{x:2498.7798456494547,y:2322.176882797105,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:WaLWMiWSObHfbWdXKwG32",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"draw",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aN5V",typeName:"shape"},"shape:j51Zyx0x3n6EenJgH-kDJ":{x:2515.0792163615624,y:2348.056242120436,rotation:0,isLocked:!1,opacity:.5,meta:{},id:"shape:j51Zyx0x3n6EenJgH-kDJ",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"draw",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aN7V",typeName:"shape"},"shape:EEep7jJOTKAY7jHe1QGcO":{x:2587.900614420879,y:2322.176882797105,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:EEep7jJOTKAY7jHe1QGcO",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"draw",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOB",typeName:"shape"},"shape:RSysWIvV1RE23PbI_0Hkc":{x:2604.1999851329865,y:2348.056242120436,rotation:0,isLocked:!1,opacity:.5,meta:{},id:"shape:RSysWIvV1RE23PbI_0Hkc",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"draw",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOF",typeName:"shape"},"shape:gi9zZUKrLM6lfGWMQpT94":{x:2320.5383081066075,y:2426.4232288784715,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:gi9zZUKrLM6lfGWMQpT94",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"draw",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aL5l",typeName:"shape"},"shape:jOBLBXYXRS_yD_RUZnK0I":{x:2336.837678818715,y:2452.3025882018023,rotation:0,isLocked:!1,opacity:.5,meta:{},id:"shape:jOBLBXYXRS_yD_RUZnK0I",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"draw",size:"s",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aL7l",typeName:"shape"},"shape:RGTuekk9bsd8FrjyOrUHE":{x:2409.659076878031,y:2426.4232288784715,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:RGTuekk9bsd8FrjyOrUHE",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"draw",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aM5l",typeName:"shape"},"shape:FPz0BrUt6Y4wiGD-H5yOO":{x:2425.958447590139,y:2452.3025882018023,rotation:0,isLocked:!1,opacity:.5,meta:{},id:"shape:FPz0BrUt6Y4wiGD-H5yOO",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"draw",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aM7l",typeName:"shape"},"shape:5pGNil-pTbpVTkt9wAZCu":{x:2498.7798456494547,y:2426.4232288784715,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:5pGNil-pTbpVTkt9wAZCu",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"draw",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aN5l",typeName:"shape"},"shape:Qe2Ewba_-XCDktXluipA1":{x:2515.0792163615624,y:2452.3025882018023,rotation:0,isLocked:!1,opacity:.5,meta:{},id:"shape:Qe2Ewba_-XCDktXluipA1",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"draw",size:"l",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aN7l",typeName:"shape"},"shape:qUPYEpNo3ytSP0IfH5zgJ":{x:2587.900614420879,y:2426.4232288784715,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:qUPYEpNo3ytSP0IfH5zgJ",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"draw",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOBV",typeName:"shape"},"shape:RC0me0o0ZHkQ-xfNt2LK5":{x:2604.1999851329865,y:2452.3025882018023,rotation:0,isLocked:!1,opacity:.5,meta:{},id:"shape:RC0me0o0ZHkQ-xfNt2LK5",type:"geo",props:{w:74.1747826657256,h:50.82777526293191,geo:"rectangle",color:"black",labelColor:"black",fill:"pattern",dash:"draw",size:"xl",font:"draw",text:"",align:"middle",verticalAlign:"start",growY:0,url:""},parentId:"page:3qj9EtNgqSCW_6knX2K9_",index:"aOFV",typeName:"shape"}},Vge={schemaVersion:1,storeVersion:4,recordVersions:{asset:{version:1,subTypeKey:"type",subTypeVersions:{image:2,video:2,bookmark:0}},camera:{version:1},document:{version:2},instance:{version:20},instance_page_state:{version:4},page:{version:1},shape:{version:3,subTypeKey:"type",subTypeVersions:{group:0,text:1,bookmark:1,draw:1,geo:7,note:4,line:0,frame:0,arrow:1,highlight:0,embed:4,image:2,video:1}},instance_presence:{version:5},pointer:{version:1}}},Xge={store:Uge,schema:Vge};function Yge(){return f.jsx("div",{className:"tldraw__editor",children:f.jsx(yt,{snapshot:Xge})})}function Hge(){const[e,t]=b.useState(),n=b.useCallback(o=>{t(o)},[]),[r,s]=b.useState([]);return b.useEffect(()=>{if(!e)return;function o(i){s(l=>[i,...l])}const a=i=>{if(i.source==="user"){for(const l of Object.values(i.changes.added))l.typeName==="shape"&&o(`created shape (${l.type})`);for(const[l,c]of Object.values(i.changes.updated))l.typeName==="instance"&&c.typeName==="instance"&&l.currentPageId!==c.currentPageId&&o(`changed page (${l.currentPageId}, ${c.currentPageId})`);for(const l of Object.values(i.changes.removed))l.typeName==="shape"&&o(`deleted shape (${l.type})`)}};return e.on("change",a),()=>{e.off("change",a)}},[e]),f.jsxs("div",{style:{display:"flex"},children:[f.jsx("div",{style:{width:"60vw",height:"100vh"},children:f.jsx(yt,{onMount:n})}),f.jsx("div",{children:f.jsx("div",{style:{width:"40vw",height:"100vh",padding:8,background:"#eee",border:"none",fontFamily:"monospace",fontSize:12,borderLeft:"solid 2px #333",display:"flex",flexDirection:"column-reverse",overflow:"auto"},children:r.map((o,a)=>f.jsx("div",{children:o},a))})})]})}function Gge(){const[e,t]=b.useState([]),n=b.useCallback((r,s)=>{t(o=>[`${r} ${JSON.stringify(s)}`,...o])},[]);return f.jsxs("div",{style:{display:"flex"},children:[f.jsx("div",{style:{width:"60vw",height:"100vh"},children:f.jsx(yt,{onUiEvent:n})}),f.jsx("div",{children:f.jsx("div",{style:{width:"40vw",height:"100vh",padding:8,background:"#eee",border:"none",fontFamily:"monospace",fontSize:12,borderLeft:"solid 2px #333",display:"flex",flexDirection:"column-reverse",overflow:"auto"},children:e.map((r,s)=>f.jsx("div",{children:r},s))})})]})}const Zge="huppy da arrow",Qge=.25,_C=100,y0="Hey, I think this is just great.";function Jge(){const e=b.useRef(-1);return f.jsx("div",{className:"tldraw__editor",children:f.jsx(yt,{persistenceKey:"user-presence-example",onMount:t=>{const n=ww.create({id:ww.createId(t.store.id),currentPageId:t.getCurrentPageId(),userId:"peer-1",userName:Zge,cursor:{x:0,y:0,type:"default",rotation:0},chatMessage:y0});t.store.put([n]);const r=e.current;cancelAnimationFrame(r);{let s=function(){let o=n.cursor,a=n.chatMessage;const i=Date.now();{const l=1e3/Qge,c=i%l/l;o={...n.cursor,x:150+Math.cos(c*Math.PI*2)*_C,y:150+Math.sin(c*Math.PI*2)*_C}}{const c=i%3e3/1e3;a=c<1?"":c>2?y0:y0.slice(0,Math.ceil((c-1)*y0.length))}t.store.put([{...n,cursor:o,chatMessage:a,lastActivityTimestamp:i}]),e.current=requestAnimationFrame(s)};e.current=requestAnimationFrame(s)}}})})}function e0e(){return f.jsx("div",{className:"tldraw__editor",children:f.jsx(yt,{topZone:f.jsx(hpe,{}),shareZone:f.jsx(t0e,{})})})}function t0e(){return f.jsx("div",{style:{backgroundColor:"thistle",width:"100%",textAlign:"center",minWidth:"80px"},children:f.jsx("p",{children:"Share Zone"})})}window.__tldraw_ui_event={id:"NOTHING_YET"};window.__tldraw_editor_events=[];function n0e(){return f.jsx("div",{className:"tldraw__editor",children:f.jsx(yt,{onMount:e=>{e.on("event",t=>{window.__tldraw_editor_events.push(t)})},onUiEvent:(e,t)=>{window.__tldraw_ui_event={name:e,data:t}},children:f.jsx(r0e,{})})})}function r0e(){const e=Qn();return b.useEffect(()=>{window["tldraw-export"]=()=>e["export-as-svg"].onSelect("unknown")},[e]),null}function $j(e){return e&&typeof e=="object"&&"parents"in e}function Oj(e){for(let t=0,n=e.parents.length;t<n;t++)if(e.parents[t].__unsafe__getWithoutCapture(),e.parents[t].lastChangedEpoch!==e.parentEpochs[t])return!0;return!1}const Zy=(e,t)=>{if(e.children.remove(t)&&e.children.isEmpty&&$j(e))for(let n=0,r=e.parents.length;n<r;n++)Zy(e.parents[n],e)},b6=(e,t)=>{if(e.children.add(t)&&$j(e))for(let n=0,r=e.parents.length;n<r;n++)b6(e.parents[n],e)};function Dj(e,t){return e===t||Object.is(e,t)||!!(e&&t&&typeof e.equals=="function"&&e.equals(t))}function fl(e,t){const n=Symbol.for(`com.tldraw.state/${e}`),r=globalThis;return r[n]??(r[n]=t()),r[n]}const Xi=fl("empty_array",()=>Object.freeze([])),EC=8;let qj=class{constructor(){this.arraySize=0,this.array=Array(EC),this.set=null}get isEmpty(){if(this.array)return this.arraySize===0;if(this.set)return this.set.size===0;throw new Error("no set or array")}add(t){if(this.array)return this.array.indexOf(t)!==-1?!1:this.arraySize<EC?(this.array[this.arraySize]=t,this.arraySize++,!0):(this.set=new Set(this.array),this.array=null,this.set.add(t),!0);if(this.set)return this.set.has(t)?!1:(this.set.add(t),!0);throw new Error("no set or array")}remove(t){if(this.array){const n=this.array.indexOf(t);return n===-1?!1:(this.array[n]=void 0,this.arraySize--,n!==this.arraySize&&(this.array[n]=this.array[this.arraySize],this.array[this.arraySize]=void 0),!0)}if(this.set)return this.set.has(t)?(this.set.delete(t),!0):!1;throw new Error("no set or array")}visit(t){if(this.array){for(let n=0;n<this.arraySize;n++){const r=this.array[n];typeof r<"u"&&t(r)}return}if(this.set){this.set.forEach(t);return}throw new Error("no set or array")}};const ta=Symbol.for("com.tldraw.state/RESET_VALUE");let Bj=class{constructor(t){this.capacity=t,this.index=0,this.buffer=new Array(t)}pushEntry(t,n,r){if(r!==void 0){if(r===ta){this.clear();return}this.buffer[this.index]=[t,n,r],this.index=(this.index+1)%this.capacity}}clear(){this.index=0,this.buffer.fill(void 0)}getChangesSince(t){const{index:n,capacity:r,buffer:s}=this;for(let o=0;o<r;o++){const a=(n-1+r-o)%r,i=s[a];if(!i)return ta;const[l,c]=i;if(o===0&&t>=c)return[];if(l<=t&&t<c){const d=o+1,h=new Array(d);for(let u=0;u<d;u++)h[u]=s[(a+u)%r][2];return h}}return ta}},s0e=class{constructor(t,n){this.below=t,this.child=n,this.offset=0,this.numNewParents=0}};const Bt=fl("capture",()=>({stack:null}));function Fj(e){Bt.stack=new s0e(Bt.stack,e)}function Kj(){var n;const e=Bt.stack;if(Bt.stack=e.below,e.numNewParents>0||e.offset!==e.child.parents.length){for(let r=e.offset;r<e.child.parents.length;r++){const s=e.child.parents[r];e.child.parents.indexOf(s)>=e.offset&&Zy(s,e.child)}if(e.child.parents.length=e.offset,e.child.parentEpochs.length=e.offset,(n=Bt.stack)!=null&&n.maybeRemoved)for(let r=0;r<Bt.stack.maybeRemoved.length;r++){const s=Bt.stack.maybeRemoved[r];e.child.parents.indexOf(s)===-1&&Zy(s,e.child)}}}function fS(e){if(Bt.stack){const t=Bt.stack.child.parents.indexOf(e);if(t<0&&(Bt.stack.numNewParents++,Bt.stack.child.isActivelyListening&&b6(e,Bt.stack.child)),t<0||t>=Bt.stack.offset){if(t!==Bt.stack.offset&&t>0){const n=Bt.stack.child.parents[Bt.stack.offset];Bt.stack.maybeRemoved?Bt.stack.maybeRemoved.indexOf(n)===-1&&Bt.stack.maybeRemoved.push(n):Bt.stack.maybeRemoved=[n]}Bt.stack.child.parents[Bt.stack.offset]=e,Bt.stack.child.parentEpochs[Bt.stack.offset]=e.lastChangedEpoch,Bt.stack.offset++}}}const Jl=-1;let o0e=class{constructor(t,n,r){this.name=t,this.runEffect=n,this._isActivelyListening=!1,this.lastTraversedEpoch=Jl,this.lastReactedEpoch=Jl,this._scheduleCount=0,this.parentEpochs=[],this.parents=[],this.maybeExecute=()=>{this._isActivelyListening&&this.execute()},this._scheduleEffect=r==null?void 0:r.scheduleEffect}get isActivelyListening(){return this._isActivelyListening}get scheduleCount(){return this._scheduleCount}maybeScheduleEffect(){if(this._isActivelyListening&&this.lastReactedEpoch!==hs()){if(this.parents.length&&!Oj(this)){this.lastReactedEpoch=hs();return}this.scheduleEffect()}}scheduleEffect(){this._scheduleCount++,this._scheduleEffect?this._scheduleEffect(this.maybeExecute):this.execute()}attach(){this._isActivelyListening=!0;for(let t=0,n=this.parents.length;t<n;t++)b6(this.parents[t],this)}detach(){this._isActivelyListening=!1;for(let t=0,n=this.parents.length;t<n;t++)Zy(this.parents[t],this)}execute(){try{Fj(this);const t=this.runEffect(this.lastReactedEpoch);return this.lastReactedEpoch=hs(),t}finally{Kj()}}};const tg=fl("EffectScheduler",()=>o0e);function ng(e,t,n){const r=new tg(e,t,n);return r.attach(),r.scheduleEffect(),()=>{r.detach()}}let a0e=class{constructor(t){this.parent=t,this.initialAtomValues=new Map}get isRoot(){return this.parent===null}commit(){if(this.isRoot){const t=this.initialAtomValues;this.initialAtomValues=new Map,Wj(t.keys())}else this.initialAtomValues.forEach((t,n)=>{this.parent.initialAtomValues.has(n)||this.parent.initialAtomValues.set(n,t)})}abort(){gr.globalEpoch++,this.initialAtomValues.forEach((t,n)=>{var r;n.set(t),(r=n.historyBuffer)==null||r.clear()}),this.commit()}};const gr=fl("transactions",()=>({globalEpoch:Jl+1,globalIsReacting:!1,currentTransaction:null}));function hs(){return gr.globalEpoch}function Wj(e){if(gr.globalIsReacting)throw new Error("cannot change atoms during reaction cycle");try{gr.globalIsReacting=!0;const t=new Set,n=r=>{r.lastTraversedEpoch!==gr.globalEpoch&&(r.lastTraversedEpoch=gr.globalEpoch,r instanceof tg?t.add(r):r.children.visit(n))};for(const r of e)r.children.visit(n);for(const r of t)r.maybeScheduleEffect()}finally{gr.globalIsReacting=!1}}function i0e(e,t){gr.currentTransaction?gr.currentTransaction.initialAtomValues.has(e)||gr.currentTransaction.initialAtomValues.set(e,t):Wj([e])}function l0e(){gr.globalEpoch++}function c0e(e){const t=new a0e(gr.currentTransaction);gr.currentTransaction=t;try{let n=!1;const r=e(()=>n=!0);return n?t.abort():t.commit(),r}catch(n){throw t.abort(),n}finally{gr.currentTransaction=gr.currentTransaction.parent}}function yf(e){return gr.currentTransaction?e():c0e(e)}let d0e=class{constructor(t,n,r){this.name=t,this.current=n,this.lastChangedEpoch=hs(),this.children=new qj,this.isEqual=(r==null?void 0:r.isEqual)??null,r&&(r.historyLength&&(this.historyBuffer=new Bj(r.historyLength)),this.computeDiff=r.computeDiff)}__unsafe__getWithoutCapture(){return this.current}get(){return fS(this),this.current}set(t,n){var s,o;if(((s=this.isEqual)==null?void 0:s.call(this,this.current,t))??Dj(this.current,t))return this.current;l0e(),this.historyBuffer&&this.historyBuffer.pushEntry(this.lastChangedEpoch,hs(),n??((o=this.computeDiff)==null?void 0:o.call(this,this.current,t,this.lastChangedEpoch,hs()))??ta),this.lastChangedEpoch=hs();const r=this.current;return this.current=t,i0e(this,r),t}update(t){return this.set(t(this.current))}getDiffSince(t){var n;return fS(this),t>=this.lastChangedEpoch?Xi:((n=this.historyBuffer)==null?void 0:n.getChangesSince(t))??ta}};const h0e=fl("Atom",()=>d0e);function Ws(e,t,n){return new h0e(e,t,n)}let IC=!1;function u0e(){IC||(IC=!0,console.warn(`Using \`@computed\` as a decorator for getters is deprecated and will be removed in the near future. Please refactor to use \`@computed\` as a decorator for methods.

// Before
@computed
get foo() {
	return 'foo'
}

// After
@computed
getFoo() {
	return 'foo'
}
`))}const gS=Symbol.for("com.tldraw.state/UNINITIALIZED"),v6=e=>e===gS,mS=fl("WithDiff",()=>class{constructor(t,n){this.value=t,this.diff=n}});function p0e(e,t){return new mS(e,t)}let f0e=class{constructor(t,n,r){this.name=t,this.derive=n,this.lastChangedEpoch=Jl,this.lastTraversedEpoch=Jl,this.lastCheckedEpoch=Jl,this.parents=[],this.parentEpochs=[],this.children=new qj,this.state=gS,r!=null&&r.historyLength&&(this.historyBuffer=new Bj(r.historyLength)),this.computeDiff=r==null?void 0:r.computeDiff,this.isEqual=(r==null?void 0:r.isEqual)??Dj}get isActivelyListening(){return!this.children.isEmpty}__unsafe__getWithoutCapture(){var n;const t=this.lastChangedEpoch===Jl;if(!t&&(this.lastCheckedEpoch===hs()||!Oj(this)))return this.lastCheckedEpoch=hs(),this.state;try{Fj(this);const r=this.derive(this.state,this.lastCheckedEpoch),s=r instanceof mS?r.value:r;if(this.state===gS||!this.isEqual(s,this.state)){if(this.historyBuffer&&!t){const o=r instanceof mS?r.diff:void 0;this.historyBuffer.pushEntry(this.lastChangedEpoch,hs(),o??((n=this.computeDiff)==null?void 0:n.call(this,this.state,s,this.lastCheckedEpoch,hs()))??ta)}this.lastChangedEpoch=hs(),this.state=s}return this.lastCheckedEpoch=hs(),this.state}finally{Kj()}}get(){const t=this.__unsafe__getWithoutCapture();return fS(this),t}getDiffSince(t){var n;return this.get(),t>=this.lastChangedEpoch?Xi:((n=this.historyBuffer)==null?void 0:n.getChangesSince(t))??ta}};const k6=fl("Computed",()=>f0e);function g0e(e={},t,n,r){const s=r.value,o=Symbol.for("__@tldraw/state__computed__"+n);return r.value=function(){let a=this[o];return a||(a=new k6(n,s.bind(this),e),Object.defineProperty(this,o,{enumerable:!1,configurable:!1,writable:!1,value:a})),a.get()},r.value[y0e]=!0,r}function PC(e={},t,n,r){return r.get?(u0e(),m0e(e,t,n,r)):g0e(e,t,n,r)}function m0e(e={},t,n,r){const s=r.get,o=Symbol.for("__@tldraw/state__computed__"+n);return r.get=function(){let a=this[o];return a||(a=new k6(n,s.bind(this),e),Object.defineProperty(this,o,{enumerable:!1,configurable:!1,writable:!1,value:a})),a.get()},r}const y0e="@@__isComputedMethod__@@";function ae(){if(arguments.length===1){const e=arguments[0];return(t,n,r)=>PC(e,t,n,r)}else return typeof arguments[0]=="string"?new k6(arguments[0],arguments[1],arguments[2]):PC(void 0,arguments[0],arguments[1],arguments[2])}const Uj=1,x0e=fl("apiVersion",()=>Uj);if(x0e!==Uj)throw new Error("You have multiple incompatible versions of @tldraw/state in your app. Please deduplicate the package.");function w2(e,t){const n=le.useRef(t);n.current=t;const[r,s,o]=le.useMemo(()=>{let a=null;const i=d=>(a=d,()=>{a=null}),l=new tg(`useStateTracking(${e})`,()=>{var d;return(d=n.current)==null?void 0:d.call(n)},{scheduleEffect(){a==null||a()}});return[l,i,()=>l.scheduleCount]},[e]);return le.useSyncExternalStore(s,o,o),le.useEffect(()=>(r.attach(),r.maybeScheduleEffect(),()=>{r.detach()}),[r]),r.execute()}const zC={apply(e,t,n){return w2(e.displayName??e.name??"tracked(???)",()=>e.apply(t,n))}},w0e=Symbol.for("react.memo"),S0e=Symbol.for("react.forward_ref");function oi(e){let t=null;const n=e.$$typeof;return n===w0e&&(e=e.type,t=e.compare),n===S0e?b.memo(b.forwardRef(new Proxy(e.render,zC))):b.memo(new Proxy(e,zC),t)}function b0e(){const e=arguments[0],t=arguments[1],n=arguments.length===3?void 0:arguments[2],r=arguments.length===3?arguments[2]:arguments[3];return b.useMemo(()=>ae(`useComputed(${e})`,t,n),r)}function kp(e,t,n=Xi){b.useEffect(()=>{const r=new tg(e,t);return r.attach(),r.execute(),()=>{r.detach()}},n)}function qe(){const e=arguments,t=e.length===3?e[2]:[e[0]],n=e.length===3?e[0]:`useValue(${e[0].name})`,r=b.useRef(!0);r.current=!0;const s=b.useMemo(()=>e.length===1?e[0]:ae(n,()=>{if(r.current)return e[1]();try{return e[1]()}catch{return{}}}),t);try{const{subscribe:o,getSnapshot:a}=b.useMemo(()=>({subscribe:i=>ng(`useValue(${n})`,()=>{s.get(),i()}),getSnapshot:()=>s.get()}),[s]);return b.useSyncExternalStore(o,a,a)}finally{r.current=!1}}class Pm{constructor(t){this.previousValue=t}get(){var r,s,o,a;const t=((s=(r=this.diff)==null?void 0:r.removed)==null?void 0:s.size)??0,n=((a=(o=this.diff)==null?void 0:o.added)==null?void 0:a.size)??0;if(!(t===0&&n===0))return{value:this.nextValue,diff:this.diff}}_add(t,n){var r,s;this.nextValue??(this.nextValue=new Set(this.previousValue)),this.nextValue.add(t),this.diff??(this.diff={}),n?(r=this.diff.removed)==null||r.delete(t):((s=this.diff).added??(s.added=new Set),this.diff.added.add(t))}add(t){var s,o,a;const n=this.previousValue.has(t);if(n)return((o=(s=this.diff)==null?void 0:s.removed)==null?void 0:o.has(t))?this._add(t,n):void 0;(a=this.nextValue)!=null&&a.has(t)||this._add(t,n)}_remove(t,n){var r,s;this.nextValue??(this.nextValue=new Set(this.previousValue)),this.nextValue.delete(t),this.diff??(this.diff={}),n?((r=this.diff).removed??(r.removed=new Set),this.diff.removed.add(t)):(s=this.diff.added)==null||s.delete(t)}remove(t){var s,o,a,i;const n=this.previousValue.has(t);if(!n)return((o=(s=this.diff)==null?void 0:s.added)==null?void 0:o.has(t))?this._remove(t,n):void 0;(i=(a=this.diff)==null?void 0:a.removed)!=null&&i.has(t)||this._remove(t,n)}}function AC(e){return Object.keys(e)}function qn(e){return Object.values(e)}function ih(e){return Object.entries(e)}function v0e(e){return Object.fromEntries(e)}function _5(e,t){const n={};let r=!1;for(const[s,o]of ih(e))t(s,o)?n[s]=o:r=!0;return r?n:e}const k0e=()=>typeof process<"u"&&!1,Qy=[],C0e=()=>{const e=Qy.splice(0,Qy.length);for(const t of e)t()};let E5;function _0e(){E5||(E5=requestAnimationFrame(()=>{E5=void 0,C0e()}))}function E0e(e){if(k0e())return e();Qy.includes(e)||(Qy.push(e),_0e())}function Vj(e){return e&&typeof e=="object"&&"parents"in e}function Xj(e){for(let t=0,n=e.parents.length;t<n;t++)if(e.parents[t].__unsafe__getWithoutCapture(),e.parents[t].lastChangedEpoch!==e.parentEpochs[t])return!0;return!1}const Jy=(e,t)=>{if(e.children.remove(t)&&e.children.isEmpty&&Vj(e))for(let n=0,r=e.parents.length;n<r;n++)Jy(e.parents[n],e)},C6=(e,t)=>{if(e.children.add(t)&&Vj(e))for(let n=0,r=e.parents.length;n<r;n++)C6(e.parents[n],e)};function Yj(e,t){return e===t||Object.is(e,t)||!!(e&&t&&typeof e.equals=="function"&&e.equals(t))}function gl(e,t){const n=Symbol.for(`com.tldraw.state/${e}`),r=globalThis;return r[n]??(r[n]=t()),r[n]}const _6=gl("empty_array",()=>Object.freeze([])),NC=8;let Hj=class{constructor(){this.arraySize=0,this.array=Array(NC),this.set=null}get isEmpty(){if(this.array)return this.arraySize===0;if(this.set)return this.set.size===0;throw new Error("no set or array")}add(t){if(this.array)return this.array.indexOf(t)!==-1?!1:this.arraySize<NC?(this.array[this.arraySize]=t,this.arraySize++,!0):(this.set=new Set(this.array),this.array=null,this.set.add(t),!0);if(this.set)return this.set.has(t)?!1:(this.set.add(t),!0);throw new Error("no set or array")}remove(t){if(this.array){const n=this.array.indexOf(t);return n===-1?!1:(this.array[n]=void 0,this.arraySize--,n!==this.arraySize&&(this.array[n]=this.array[this.arraySize],this.array[this.arraySize]=void 0),!0)}if(this.set)return this.set.has(t)?(this.set.delete(t),!0):!1;throw new Error("no set or array")}visit(t){if(this.array){for(let n=0;n<this.arraySize;n++){const r=this.array[n];typeof r<"u"&&t(r)}return}if(this.set){this.set.forEach(t);return}throw new Error("no set or array")}};const na=Symbol.for("com.tldraw.state/RESET_VALUE");let Gj=class{constructor(t){this.capacity=t,this.index=0,this.buffer=new Array(t)}pushEntry(t,n,r){if(r!==void 0){if(r===na){this.clear();return}this.buffer[this.index]=[t,n,r],this.index=(this.index+1)%this.capacity}}clear(){this.index=0,this.buffer.fill(void 0)}getChangesSince(t){const{index:n,capacity:r,buffer:s}=this;for(let o=0;o<r;o++){const a=(n-1+r-o)%r,i=s[a];if(!i)return na;const[l,c]=i;if(o===0&&t>=c)return[];if(l<=t&&t<c){const d=o+1,h=new Array(d);for(let u=0;u<d;u++)h[u]=s[(a+u)%r][2];return h}}return na}},I0e=class{constructor(t,n){this.below=t,this.child=n,this.offset=0,this.numNewParents=0}};const Ft=gl("capture",()=>({stack:null}));function Zj(e){Ft.stack=new I0e(Ft.stack,e)}function Qj(){var n;const e=Ft.stack;if(Ft.stack=e.below,e.numNewParents>0||e.offset!==e.child.parents.length){for(let r=e.offset;r<e.child.parents.length;r++){const s=e.child.parents[r];e.child.parents.indexOf(s)>=e.offset&&Jy(s,e.child)}if(e.child.parents.length=e.offset,e.child.parentEpochs.length=e.offset,(n=Ft.stack)!=null&&n.maybeRemoved)for(let r=0;r<Ft.stack.maybeRemoved.length;r++){const s=Ft.stack.maybeRemoved[r];e.child.parents.indexOf(s)===-1&&Jy(s,e.child)}}}function yS(e){if(Ft.stack){const t=Ft.stack.child.parents.indexOf(e);if(t<0&&(Ft.stack.numNewParents++,Ft.stack.child.isActivelyListening&&C6(e,Ft.stack.child)),t<0||t>=Ft.stack.offset){if(t!==Ft.stack.offset&&t>0){const n=Ft.stack.child.parents[Ft.stack.offset];Ft.stack.maybeRemoved?Ft.stack.maybeRemoved.indexOf(n)===-1&&Ft.stack.maybeRemoved.push(n):Ft.stack.maybeRemoved=[n]}Ft.stack.child.parents[Ft.stack.offset]=e,Ft.stack.child.parentEpochs[Ft.stack.offset]=e.lastChangedEpoch,Ft.stack.offset++}}}const ec=-1;let P0e=class{constructor(t,n,r){this.name=t,this.runEffect=n,this._isActivelyListening=!1,this.lastTraversedEpoch=ec,this.lastReactedEpoch=ec,this._scheduleCount=0,this.parentEpochs=[],this.parents=[],this.maybeExecute=()=>{this._isActivelyListening&&this.execute()},this._scheduleEffect=r==null?void 0:r.scheduleEffect}get isActivelyListening(){return this._isActivelyListening}get scheduleCount(){return this._scheduleCount}maybeScheduleEffect(){if(this._isActivelyListening&&this.lastReactedEpoch!==us()){if(this.parents.length&&!Xj(this)){this.lastReactedEpoch=us();return}this.scheduleEffect()}}scheduleEffect(){this._scheduleCount++,this._scheduleEffect?this._scheduleEffect(this.maybeExecute):this.execute()}attach(){this._isActivelyListening=!0;for(let t=0,n=this.parents.length;t<n;t++)C6(this.parents[t],this)}detach(){this._isActivelyListening=!1;for(let t=0,n=this.parents.length;t<n;t++)Jy(this.parents[t],this)}execute(){try{Zj(this);const t=this.runEffect(this.lastReactedEpoch);return this.lastReactedEpoch=us(),t}finally{Qj()}}};const Jj=gl("EffectScheduler",()=>P0e);function z0e(e,t,n){const r=new Jj(e,t,n);return{scheduler:r,start:s=>{const o=(s==null?void 0:s.force)??!1;r.attach(),o?r.scheduleEffect():r.maybeScheduleEffect()},stop:()=>{r.detach()}}}class A0e{constructor(t){this.parent=t,this.initialAtomValues=new Map}get isRoot(){return this.parent===null}commit(){if(this.isRoot){const t=this.initialAtomValues;this.initialAtomValues=new Map,eR(t.keys())}else this.initialAtomValues.forEach((t,n)=>{this.parent.initialAtomValues.has(n)||this.parent.initialAtomValues.set(n,t)})}abort(){mr.globalEpoch++,this.initialAtomValues.forEach((t,n)=>{var r;n.set(t),(r=n.historyBuffer)==null||r.clear()}),this.commit()}}const mr=gl("transactions",()=>({globalEpoch:ec+1,globalIsReacting:!1,currentTransaction:null}));function us(){return mr.globalEpoch}function eR(e){if(mr.globalIsReacting)throw new Error("cannot change atoms during reaction cycle");try{mr.globalIsReacting=!0;const t=new Set,n=r=>{r.lastTraversedEpoch!==mr.globalEpoch&&(r.lastTraversedEpoch=mr.globalEpoch,r instanceof Jj?t.add(r):r.children.visit(n))};for(const r of e)r.children.visit(n);for(const r of t)r.maybeScheduleEffect()}finally{mr.globalIsReacting=!1}}function N0e(e,t){mr.currentTransaction?mr.currentTransaction.initialAtomValues.has(e)||mr.currentTransaction.initialAtomValues.set(e,t):eR([e])}function T0e(){mr.globalEpoch++}function L0e(e){const t=new A0e(mr.currentTransaction);mr.currentTransaction=t;try{let n=!1;const r=e(()=>n=!0);return n?t.abort():t.commit(),r}catch(n){throw t.abort(),n}finally{mr.currentTransaction=mr.currentTransaction.parent}}function pd(e){return mr.currentTransaction?e():L0e(e)}let M0e=class{constructor(t,n,r){this.name=t,this.current=n,this.lastChangedEpoch=us(),this.children=new Hj,this.isEqual=(r==null?void 0:r.isEqual)??null,r&&(r.historyLength&&(this.historyBuffer=new Gj(r.historyLength)),this.computeDiff=r.computeDiff)}__unsafe__getWithoutCapture(){return this.current}get(){return yS(this),this.current}set(t,n){var s,o;if(((s=this.isEqual)==null?void 0:s.call(this,this.current,t))??Yj(this.current,t))return this.current;T0e(),this.historyBuffer&&this.historyBuffer.pushEntry(this.lastChangedEpoch,us(),n??((o=this.computeDiff)==null?void 0:o.call(this,this.current,t,this.lastChangedEpoch,us()))??na),this.lastChangedEpoch=us();const r=this.current;return this.current=t,N0e(this,r),t}update(t){return this.set(t(this.current))}getDiffSince(t){var n;return yS(this),t>=this.lastChangedEpoch?_6:((n=this.historyBuffer)==null?void 0:n.getChangesSince(t))??na}};const j0e=gl("Atom",()=>M0e);function x0(e,t,n){return new j0e(e,t,n)}let TC=!1;function R0e(){TC||(TC=!0,console.warn(`Using \`@computed\` as a decorator for getters is deprecated and will be removed in the near future. Please refactor to use \`@computed\` as a decorator for methods.

// Before
@computed
get foo() {
	return 'foo'
}

// After
@computed
getFoo() {
	return 'foo'
}
`))}const xS=Symbol.for("com.tldraw.state/UNINITIALIZED"),I5=e=>e===xS,wS=gl("WithDiff",()=>class{constructor(t,n){this.value=t,this.diff=n}});function w0(e,t){return new wS(e,t)}let $0e=class{constructor(t,n,r){this.name=t,this.derive=n,this.lastChangedEpoch=ec,this.lastTraversedEpoch=ec,this.lastCheckedEpoch=ec,this.parents=[],this.parentEpochs=[],this.children=new Hj,this.state=xS,r!=null&&r.historyLength&&(this.historyBuffer=new Gj(r.historyLength)),this.computeDiff=r==null?void 0:r.computeDiff,this.isEqual=(r==null?void 0:r.isEqual)??Yj}get isActivelyListening(){return!this.children.isEmpty}__unsafe__getWithoutCapture(){var n;const t=this.lastChangedEpoch===ec;if(!t&&(this.lastCheckedEpoch===us()||!Xj(this)))return this.lastCheckedEpoch=us(),this.state;try{Zj(this);const r=this.derive(this.state,this.lastCheckedEpoch),s=r instanceof wS?r.value:r;if(this.state===xS||!this.isEqual(s,this.state)){if(this.historyBuffer&&!t){const o=r instanceof wS?r.diff:void 0;this.historyBuffer.pushEntry(this.lastChangedEpoch,us(),o??((n=this.computeDiff)==null?void 0:n.call(this,this.state,s,this.lastCheckedEpoch,us()))??na)}this.lastChangedEpoch=us(),this.state=s}return this.lastCheckedEpoch=us(),this.state}finally{Qj()}}get(){const t=this.__unsafe__getWithoutCapture();return yS(this),t}getDiffSince(t){var n;return this.get(),t>=this.lastChangedEpoch?_6:((n=this.historyBuffer)==null?void 0:n.getChangesSince(t))??na}};const E6=gl("Computed",()=>$0e);function O0e(e={},t,n,r){const s=r.value,o=Symbol.for("__@tldraw/state__computed__"+n);return r.value=function(){let a=this[o];return a||(a=new E6(n,s.bind(this),e),Object.defineProperty(this,o,{enumerable:!1,configurable:!1,writable:!1,value:a})),a.get()},r.value[q0e]=!0,r}function LC(e={},t,n,r){return r.get?(R0e(),D0e(e,t,n,r)):O0e(e,t,n,r)}function D0e(e={},t,n,r){const s=r.get,o=Symbol.for("__@tldraw/state__computed__"+n);return r.get=function(){let a=this[o];return a||(a=new E6(n,s.bind(this),e),Object.defineProperty(this,o,{enumerable:!1,configurable:!1,writable:!1,value:a})),a.get()},r}const q0e="@@__isComputedMethod__@@";function qo(){if(arguments.length===1){const e=arguments[0];return(t,n,r)=>LC(e,t,n,r)}else return typeof arguments[0]=="string"?new E6(arguments[0],arguments[1],arguments[2]):LC(void 0,arguments[0],arguments[1],arguments[2])}const tR=1,B0e=gl("apiVersion",()=>tR);if(B0e!==tR)throw new Error("You have multiple incompatible versions of @tldraw/state in your app. Please deduplicate the package.");class MC{constructor(){this.items=new WeakMap}get(t,n){return this.items.has(t)||this.items.set(t,n(t)),this.items.get(t)}}function F0e(e){if(e.length===0)return new Set;const t=e[0],n=e.slice(1),r=new Set;for(const s of t)n.every(o=>o.has(s))&&r.add(s);return r}function K0e(e,t){const n={};for(const r of t)e.has(r)||(n.added??(n.added=new Set),n.added.add(r));for(const r of e)t.has(r)||(n.removed??(n.removed=new Set),n.removed.add(r));return n.added||n.removed?n:void 0}function jC(e,t){for(const[n,r]of Object.entries(e)){const s=r,o=t[n];if("eq"in s&&o!==s.eq||"neq"in s&&o===s.neq||"gt"in s&&(typeof o!="number"||o<=s.gt))return!1}return!0}function RC(e,t,n){const r=Object.fromEntries(Object.keys(n).map(s=>[s,new Set]));for(const[s,o]of Object.entries(n))if("eq"in o){const i=e.index(t,s).get().get(o.eq);if(i)for(const l of i)r[s].add(l)}else if("neq"in o){const a=e.index(t,s);for(const[i,l]of a.get())if(i!==o.neq)for(const c of l)r[s].add(c)}else if("gt"in o){const a=e.index(t,s);for(const[i,l]of a.get())if(i>o.gt)for(const c of l)r[s].add(c)}return F0e(Object.values(r))}class W0e{constructor(t,n){this.atoms=t,this.history=n,this.indexCache=new Map,this.historyCache=new Map}filterHistory(t){if(this.historyCache.has(t))return this.historyCache.get(t);const n=qo("filterHistory:"+t,(r,s)=>{if(I5(r))return this.history.get();const o=this.history.getDiffSince(s);if(o===na)return this.history.get();const a={added:{},removed:{},updated:{}};let i=0,l=0,c=0;for(const d of o){for(const h of qn(d.added))if(h.typeName===t)if(a.removed[h.id]){const u=a.removed[h.id];delete a.removed[h.id],l--,u!==h&&(a.updated[h.id]=[u,h],c++)}else a.added[h.id]=h,i++;for(const[h,u]of qn(d.updated))u.typeName===t&&(a.added[u.id]?a.added[u.id]=u:a.updated[u.id]?a.updated[u.id]=[a.updated[u.id][0],u]:(a.updated[u.id]=[h,u],c++));for(const h of qn(d.removed))h.typeName===t&&(a.added[h.id]?(delete a.added[h.id],i--):a.updated[h.id]?(a.removed[h.id]=a.updated[h.id][0],delete a.updated[h.id],c--,l++):(a.removed[h.id]=h,l++))}return i||l||c?w0(this.history.get(),a):r},{historyLength:100});return this.historyCache.set(t,n),n}index(t,n){const r=t+":"+n;if(this.indexCache.has(r))return this.indexCache.get(r);const s=this.__uncached_createIndex(t,n);return this.indexCache.set(r,s),s}__uncached_createIndex(t,n){const r=this.filterHistory(t),s=()=>{r.get();const o=new Map;for(const a of qn(this.atoms.get())){const i=a.get();if(i.typeName===t){const l=i[n];o.has(l)||o.set(l,new Set),o.get(l).add(i.id)}}return o};return qo("index:"+t+":"+n,(o,a)=>{if(I5(o))return s();const i=r.getDiffSince(a);if(i===na)return s();const l=new Map,c=(p,y)=>{let g=l.get(p);g||(g=new Pm(o.get(p)??new Set)),g.add(y),l.set(p,g)},d=(p,y)=>{let g=l.get(p);g||(g=new Pm(o.get(p)??new Set)),g.remove(y),l.set(p,g)};for(const p of i){for(const y of qn(p.added))if(y.typeName===t){const g=y[n];c(g,y.id)}for(const[y,g]of qn(p.updated))if(g.typeName===t){const x=y[n],w=g[n];x!==w&&(d(x,g.id),c(w,g.id))}for(const y of qn(p.removed))if(y.typeName===t){const g=y[n];d(g,y.id)}}let h,u;for(const[p,y]of l){const g=y.get();g&&(h||(h=new Map(o)),u||(u=new Map),g.value.size===0?h.delete(p):h.set(p,g.value),u.set(p,g.diff))}return h&&u?w0(h,u):o},{historyLength:100})}record(t,n=()=>({}),r="record:"+t+(n?":"+n.toString():"")){const s=this.ids(t,n,r);return qo(r,()=>{var o;for(const a of s.get())return(o=this.atoms.get()[a])==null?void 0:o.get()})}records(t,n=()=>({}),r="records:"+t+(n?":"+n.toString():"")){const s=this.ids(t,n,"ids:"+r);return qo(r,()=>[...s.get()].map(o=>{const a=this.atoms.get()[o];if(!a)throw new Error("no atom found for record id: "+o);return a.get()}))}ids(t,n=()=>({}),r="ids:"+t+(n?":"+n.toString():"")){const s=this.filterHistory(t),o=()=>{s.get();const l=n();return Object.keys(l).length===0?new Set(qn(this.atoms.get()).flatMap(c=>{const d=c.get();return d.typeName===t?d.id:[]})):RC(this,t,l)},a=l=>{const c=o(),d=K0e(l,c);return d?w0(c,d):l},i=qo("ids_query:"+r,n,{isEqual:kE});return qo("query:"+r,(l,c)=>{const d=i.get();if(I5(l))return o();if(c<i.lastChangedEpoch)return a(l);const h=s.getDiffSince(c);if(h===na)return a(l);const u=new Pm(l);for(const y of h){for(const g of qn(y.added))g.typeName===t&&jC(d,g)&&u.add(g.id);for(const[g,x]of qn(y.updated))x.typeName===t&&(jC(d,x)?u.add(x.id):u.remove(x.id));for(const g of qn(y.removed))g.typeName===t&&u.remove(g.id)}const p=u.get();return p?w0(p.value,p.diff):l},{historyLength:50})}exec(t,n){const r=RC(this,t,n);if(r.size===0)return _6;const s=this.atoms.get();return[...r].map(o=>s[o].get())}}class nR{constructor(t){this.id=nl(),this.atoms=x0("store_atoms",{}),this.history=x0("history",0,{historyLength:1e3}),this.query=new W0e(this.atoms,this.history),this.listeners=new Set,this.historyAccumulator=new V0e,this._runCallbacks=!0,this.put=(s,o)=>{pd(()=>{const a={},i={},l=this.atoms.__unsafe__getWithoutCapture();let c=null,d,h=!1;const u=this.onBeforeCreate&&this._runCallbacks?this.onBeforeCreate:null,p=this.onBeforeChange&&this._runCallbacks?this.onBeforeChange:null,y=this.isMergingRemoteChanges?"remote":"user";for(let g=0,x=s.length;g<x;g++){d=s[g];const w=(c??l)[d.id];if(w){p&&(d=p(w.get(),d,y));const S=w.__unsafe__getWithoutCapture();d=this.schema.validateRecord(this,d,o??"updateRecord",S),w.set(d);const v=w.__unsafe__getWithoutCapture();S!==v&&(h=!0,a[d.id]=[S,v])}else u&&(d=u(d,y)),h=!0,d=this.schema.validateRecord(this,d,o??"createRecord",null),i[d.id]=d,c||(c={...l}),c[d.id]=x0("atom:"+d.id,d)}if(c&&this.atoms.set(c),!!h&&(this.updateHistory({added:i,updated:a,removed:{}}),this._runCallbacks)){const{onAfterCreate:g,onAfterChange:x}=this;g&&Object.values(i).forEach(w=>{g(w,y)}),x&&Object.values(a).forEach(([w,S])=>{x(w,S,y)})}})},this.remove=s=>{pd(()=>{const o=[],a=this.isMergingRemoteChanges?"remote":"user";if(this.onBeforeDelete&&this._runCallbacks)for(const l of s){const c=this.atoms.__unsafe__getWithoutCapture()[l];c&&this.onBeforeDelete(c.get(),a)===!1&&o.push(l)}let i;if(this.atoms.update(l=>{let c;for(const d of s)o.includes(d)||d in l&&(c||(c={...l}),i||(i={}),delete c[d],i[d]=l[d].get());return c??l}),!!i&&(this.updateHistory({added:{},updated:{},removed:i}),this.onAfterDelete&&this._runCallbacks)){let l;for(let c=0,d=s.length;c<d;c++)l=i[s[c]],l&&this.onAfterDelete(l,a)}})},this.get=s=>{var o;return(o=this.atoms.get()[s])==null?void 0:o.get()},this.unsafeGetWithoutCapture=s=>{var o;return(o=this.atoms.get()[s])==null?void 0:o.__unsafe__getWithoutCapture()},this.serialize=(s="document")=>{const o={};for(const[a,i]of ih(this.atoms.get())){const l=i.get();(s==="all"||this.scopedTypes[s].has(l.typeName))&&(o[a]=l)}return o},this.allRecords=()=>qn(this.atoms.get()).map(s=>s.get()),this.clear=()=>{this.remove(AC(this.atoms.get()))},this.update=(s,o)=>{const a=this.atoms.get()[s];if(!a){console.error(`Record ${s} not found. This is probably an error`);return}this.put([o(a.__unsafe__getWithoutCapture())])},this.has=s=>!!this.atoms.get()[s],this.listen=(s,o)=>{this._flushHistory();const a={onHistory:s,filters:{source:(o==null?void 0:o.source)??"all",scope:(o==null?void 0:o.scope)??"all"}};return this.listeners.add(a),this.historyReactor.scheduler.isActivelyListening||this.historyReactor.start(),()=>{this.listeners.delete(a),this.listeners.size===0&&this.historyReactor.stop()}},this.isMergingRemoteChanges=!1,this.mergeRemoteChanges=s=>{if(this.isMergingRemoteChanges)return s();try{this.isMergingRemoteChanges=!0,pd(s)}finally{this.isMergingRemoteChanges=!1}},this.createComputedCache=(s,o,a)=>{const i=new MC;return{get:l=>{const c=this.atoms.get()[l];if(c)return i.get(c,()=>{const d=a?qo(c.name+":equals",()=>c.get(),{isEqual:a}):c;return qo(s+":"+l,()=>o(d.get()))}).get()}}},this.createSelectedComputedCache=(s,o,a)=>{const i=new MC;return{get:l=>{const c=this.atoms.get()[l];if(!c)return;const d=qo(s+":"+l+":selector",()=>o(c.get()));return i.get(c,()=>qo(s+":"+l,()=>a(d.get()))).get()}}},this.getRecordType=s=>{const o=this.schema.types[s.typeName];if(!o)throw new Error(`Record type ${s.typeName} not found`);return o},this._isPossiblyCorrupted=!1;const{initialData:n,schema:r}=t;this.schema=r,this.props=t.props,n&&this.atoms.set(v0e(ih(n).map(([s,o])=>[s,x0("atom:"+s,this.schema.validateRecord(this,o,"initialize",null))]))),this.historyReactor=z0e("Store.historyReactor",()=>{this.history.get(),this._flushHistory()},{scheduleEffect:s=>E0e(s)}),this.scopedTypes={document:new Set(qn(this.schema.types).filter(s=>s.scope==="document").map(s=>s.typeName)),session:new Set(qn(this.schema.types).filter(s=>s.scope==="session").map(s=>s.typeName)),presence:new Set(qn(this.schema.types).filter(s=>s.scope==="presence").map(s=>s.typeName))}}_flushHistory(){if(this.historyAccumulator.hasChanges()){const t=this.historyAccumulator.flush();for(const{changes:n,source:r}of t){let s=null,o=null,a=null;for(const{onHistory:i,filters:l}of this.listeners)if(!(l.source!=="all"&&l.source!==r))if(l.scope!=="all")if(l.scope==="document"){if(o??(o=this.filterChangesByScope(n,"document")),!o)continue;i({changes:o,source:r})}else if(l.scope==="session"){if(s??(s=this.filterChangesByScope(n,"session")),!s)continue;i({changes:s,source:r})}else{if(a??(a=this.filterChangesByScope(n,"presence")),!a)continue;i({changes:a,source:r})}else i({changes:n,source:r})}}}filterChangesByScope(t,n){const r={added:_5(t.added,(s,o)=>this.scopedTypes[n].has(o.typeName)),updated:_5(t.updated,(s,o)=>this.scopedTypes[n].has(o[1].typeName)),removed:_5(t.removed,(s,o)=>this.scopedTypes[n].has(o.typeName))};return Object.keys(r.added).length===0&&Object.keys(r.updated).length===0&&Object.keys(r.removed).length===0?null:r}updateHistory(t){this.historyAccumulator.add({changes:t,source:this.isMergingRemoteChanges?"remote":"user"}),this.listeners.size===0&&this.historyAccumulator.clear(),this.history.set(this.history.get()+1,t)}validate(t){this.allRecords().forEach(n=>this.schema.validateRecord(this,n,t,null))}getSnapshot(t="document"){return{store:this.serialize(t),schema:this.schema.serialize()}}migrateSnapshot(t){const n=this.schema.migrateStoreSnapshot(t);if(n.type==="error")throw new Error(`Failed to migrate snapshot: ${n.reason}`);return{store:n.value,schema:this.schema.serialize()}}loadSnapshot(t){const n=this.schema.migrateStoreSnapshot(t);if(n.type==="error")throw new Error(`Failed to migrate snapshot: ${n.reason}`);pd(()=>{this.clear(),this.put(Object.values(n.value)),this.ensureStoreIsUsable()})}extractingChanges(t){const n=[],r=this.historyAccumulator.intercepting(s=>n.push(s.changes));try{return pd(t),S2(n)}finally{r()}}applyDiff(t,n=!0){const r=this._runCallbacks;try{this._runCallbacks=n,pd(()=>{const s=qn(t.added).concat(qn(t.updated).map(([a,i])=>i)),o=AC(t.removed);s.length&&this.put(s),o.length&&this.remove(o)})}finally{this._runCallbacks=r}}ensureStoreIsUsable(){var t;this._integrityChecker??(this._integrityChecker=this.schema.createIntegrityChecker(this)),(t=this._integrityChecker)==null||t.call(this)}markAsPossiblyCorrupted(){this._isPossiblyCorrupted=!0}isPossiblyCorrupted(){return this._isPossiblyCorrupted}}function S2(e){const t={added:{},removed:{},updated:{}};for(const n of e){for(const[r,s]of ih(n.added))if(t.removed[r]){const o=t.removed[r];delete t.removed[r],o!==s&&(t.updated[r]=[o,s])}else t.added[r]=s;for(const[r,[s,o]]of ih(n.updated)){if(t.added[r]){t.added[r]=o,delete t.updated[r],delete t.removed[r];continue}if(t.updated[r]){t.updated[r]=[t.updated[r][0],o],delete t.removed[r];continue}t.updated[r]=n.updated[r],delete t.removed[r]}for(const[r,s]of ih(n.removed))t.added[r]?delete t.added[r]:t.updated[r]?(t.removed[r]=t.updated[r][0],delete t.updated[r]):t.removed[r]=s}return t}function U0e(e){const t=[];let n=e[0],r;for(let s=1,o=e.length;s<o;s++)r=e[s],n.source!==r.source?(t.push(n),n=r):n={source:n.source,changes:S2([n.changes,r.changes])};return t.push(n),t}class V0e{constructor(){this._history=[],this._interceptors=new Set}intercepting(t){return this._interceptors.add(t),()=>{this._interceptors.delete(t)}}add(t){this._history.push(t);for(const n of this._interceptors)n(t)}flush(){const t=U0e(this._history);return this._history=[],t}clear(){this._history=[]}hasChanges(){return this._history.length>0}}function rR(e){const{currentVersion:t,firstVersion:n,migrators:r={},subTypeKey:s,subTypeMigrations:o}=e;if(typeof t=="number"&&typeof n=="number"){if(t===n)throw Error("Current version is equal to initial version.");if(t<n)throw Error("Current version is lower than initial version.")}return{firstVersion:n??0,currentVersion:t??0,migrators:r,subTypeKey:s,subTypeMigrations:o}}function sR({value:e,migrations:t,fromVersion:n,toVersion:r}){let s=n;for(;s<r;){const o=s+1,a=t.migrators[o];if(!a)return{type:"error",reason:"target-version-too-new"};e=a.up(e),s=o}for(;s>r;){const o=s-1,a=t.migrators[s];if(!a)return{type:"error",reason:"target-version-too-old"};e=a.down(e),s=o}return{type:"success",value:e}}const X0e=(e,t)=>{if(e.schemaVersion>t.schemaVersion)return 1;if(e.schemaVersion<t.schemaVersion)return-1;if(e.storeVersion>t.storeVersion)return 1;if(e.storeVersion<t.storeVersion)return-1;for(const n of Object.keys(e.recordVersions)){const r=e.recordVersions[n],s=t.recordVersions[n];if(r.version>s.version)return 1;if(r.version<s.version)return-1;if("subTypeVersions"in r&&!("subTypeVersions"in s))return 1;if(!("subTypeVersions"in r)&&"subTypeVersions"in s)return-1;if(!(!("subTypeVersions"in r)||!("subTypeVersions"in s)))for(const o of Object.keys(r.subTypeVersions)){const a=r.subTypeVersions[o],i=s.subTypeVersions[o];if(a>i)return 1;if(a<i)return-1}}return 0};function Y0e(e,t){const n=t&&e&&typeof e=="object"&&t in e?e[t]:e;throw new Error(`Unknown switch case ${n}`)}function I6(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function oR(e,t){if(I6(e,t))return e[t]}function H0e(e){if(!e.length)return null;let t="";for(const n of e)typeof n=="number"?t+=`.${n}`:n.startsWith("(")?t.endsWith(")")?t=`${t.slice(0,-1)}, ${n.slice(1)}`:t+=n:t+=`.${n}`;return t.startsWith(".")?t.slice(1):t}let Gt=class extends Error{constructor(t,n=[]){const r=H0e(n),s=t.split(`
`).map((o,a)=>a===0?o:`  ${o}`).join(`
`);super(n?`At ${r}: ${s}`:s),this.rawMessage=t,this.path=n,this.name="ValidationError"}};function Yh(e,t){try{return t()}catch(n){throw n instanceof Gt?new Gt(n.rawMessage,[e,...n.path]):new Gt(n.toString(),[e])}}function Eh(e){if(e===null)return"null";if(Array.isArray(e))return"an array";const t=typeof e;switch(t){case"bigint":case"boolean":case"function":case"number":case"string":case"symbol":return`a ${t}`;case"object":return`an ${t}`;case"undefined":return"undefined";default:Y0e(t)}}let Es=class aR{constructor(t){this.validationFn=t}validate(t){return this.validationFn(t)}nullable(){return rme(this)}optional(){return lR(this)}refine(t){return new aR(n=>t(this.validate(n)))}check(t,n){return typeof t=="string"?this.refine(r=>(Yh(`(check ${t})`,()=>n(r)),r)):this.refine(r=>(t(r),r))}},G0e=class extends Es{constructor(t){super(n=>{const r=tme.validate(n);for(let s=0;s<r.length;s++)Yh(s,()=>t.validate(r[s]));return r}),this.itemValidator=t}nonEmpty(){return this.check(t=>{if(t.length===0)throw new Gt("Expected a non-empty array")})}lengthGreaterThan1(){return this.check(t=>{if(t.length<=1)throw new Gt("Expected an array with length greater than 1")})}},Z0e=class SS extends Es{constructor(t,n=!1){super(r=>{if(typeof r!="object"||r===null)throw new Gt(`Expected object, got ${Eh(r)}`);for(const[s,o]of Object.entries(t))Yh(s,()=>{o.validate(oR(r,s))});if(!n){for(const s of Object.keys(r))if(!I6(t,s))throw new Gt("Unexpected property",[s])}return r}),this.config=t,this.shouldAllowUnknownProperties=n}allowUnknownProperties(){return new SS(this.config,!0)}extend(t){return new SS({...this.config,...t})}};class P6 extends Es{constructor(t,n,r){super(s=>{if(typeof s!="object"||s===null)throw new Gt(`Expected an object, got ${Eh(s)}`,[]);const o=oR(s,t);if(typeof o!="string")throw new Gt(`Expected a string for key "${t}", got ${Eh(o)}`);const a=I6(n,o)?n[o]:void 0;return a===void 0?this.unknownValueValidation(s,o):Yh(`(${t} = ${o})`,()=>a.validate(s))}),this.key=t,this.config=n,this.unknownValueValidation=r}validateUnknownVariants(t){return new P6(this.key,this.config,t)}}class Q0e extends Es{constructor(t,n){super(r=>{if(typeof r!="object"||r===null)throw new Gt(`Expected object, got ${Eh(r)}`);for(const[s,o]of Object.entries(r))Yh(s,()=>{t.validate(s),n.validate(o)});return r}),this.keyValidator=t,this.valueValidator=n}}function z6(e){return new Es(t=>{if(typeof t!==e)throw new Gt(`Expected ${e}, got ${Eh(t)}`);return t})}const J0e=new Es(e=>e),st=z6("string"),Be=z6("number").check(e=>{if(Number.isNaN(e))throw new Gt("Expected a number, got NaN");if(!Number.isFinite(e))throw new Gt(`Expected a finite number, got ${e}`)}),eme=Be.check(e=>{if(e<0)throw new Gt(`Expected a positive number, got ${e}`)}),Ih=Be.check(e=>{if(e<=0)throw new Gt(`Expected a non-zero positive number, got ${e}`)}),iR=Be.check(e=>{if(!Number.isInteger(e))throw new Gt(`Expected an integer, got ${e}`)});iR.check(e=>{if(e<0)throw new Gt(`Expected a positive integer, got ${e}`)});iR.check(e=>{if(e<=0)throw new Gt(`Expected a non-zero positive integer, got ${e}`)});const St=z6("boolean");function Hr(e){return new Es(t=>{if(t!==e)throw new Gt(`Expected ${e}, got ${JSON.stringify(t)}`);return e})}const tme=new Es(e=>{if(!Array.isArray(e))throw new Gt(`Expected an array, got ${Eh(e)}`);return e});function Xs(e){return new G0e(e)}function Nt(e){return new Z0e(e)}function bS(e){return e===null||typeof e=="number"||typeof e=="string"||typeof e=="boolean"?!0:Array.isArray(e)?e.every(bS):typeof e=="object"?Object.values(e).every(bS):!1}const ha=new Es(e=>{if(bS(e))return e;throw new Gt(`Expected json serializable value, got ${typeof e}`)});function nme(e,t){return new Q0e(e,t)}function A6(e,t){return new P6(e,t,(n,r)=>{throw new Gt(`Expected one of ${Object.keys(t).map(s=>JSON.stringify(s)).join(" or ")}, got ${JSON.stringify(r)}`,[e])})}function ai(e,t){return new Es(n=>{const r=n&&typeof n=="object"&&"id"in n&&typeof n.id=="string"?`${e}(id = ${n.id})`:e;return Yh(r,()=>t.validate(n))})}function rg(e){return new Es(t=>{if(!e.has(t)){const n=Array.from(e,r=>JSON.stringify(r)).join(" or ");throw new Gt(`Expected ${n}, got ${t}`)}return t})}function lR(e){return new Es(t=>{if(t!==void 0)return e.validate(t)})}function rme(e){return new Es(t=>t===null?null:e.validate(t))}function cR(...e){return rg(new Set(e))}function vo(e){return st.refine(t=>{if(!t.startsWith(`${e}:`))throw new Error(`${e} ID must start with "${e}:"`);return t})}const b2=vo("asset");function N6(e,t){return Nt({id:b2,typeName:Hr("asset"),type:Hr(e),props:t,meta:ha})}function dR(e){return e&&typeof e=="object"&&"parents"in e}function hR(e){for(let t=0,n=e.parents.length;t<n;t++)if(e.parents[t].__unsafe__getWithoutCapture(),e.parents[t].lastChangedEpoch!==e.parentEpochs[t])return!0;return!1}const e1=(e,t)=>{if(e.children.remove(t)&&e.children.isEmpty&&dR(e))for(let n=0,r=e.parents.length;n<r;n++)e1(e.parents[n],e)},T6=(e,t)=>{if(e.children.add(t)&&dR(e))for(let n=0,r=e.parents.length;n<r;n++)T6(e.parents[n],e)};function uR(e,t){return e===t||Object.is(e,t)||!!(e&&t&&typeof e.equals=="function"&&e.equals(t))}function ml(e,t){const n=Symbol.for(`com.tldraw.state/${e}`),r=globalThis;return r[n]??(r[n]=t()),r[n]}const pR=ml("empty_array",()=>Object.freeze([])),$C=8;let fR=class{constructor(){this.arraySize=0,this.array=Array($C),this.set=null}get isEmpty(){if(this.array)return this.arraySize===0;if(this.set)return this.set.size===0;throw new Error("no set or array")}add(t){if(this.array)return this.array.indexOf(t)!==-1?!1:this.arraySize<$C?(this.array[this.arraySize]=t,this.arraySize++,!0):(this.set=new Set(this.array),this.array=null,this.set.add(t),!0);if(this.set)return this.set.has(t)?!1:(this.set.add(t),!0);throw new Error("no set or array")}remove(t){if(this.array){const n=this.array.indexOf(t);return n===-1?!1:(this.array[n]=void 0,this.arraySize--,n!==this.arraySize&&(this.array[n]=this.array[this.arraySize],this.array[this.arraySize]=void 0),!0)}if(this.set)return this.set.has(t)?(this.set.delete(t),!0):!1;throw new Error("no set or array")}visit(t){if(this.array){for(let n=0;n<this.arraySize;n++){const r=this.array[n];typeof r<"u"&&t(r)}return}if(this.set){this.set.forEach(t);return}throw new Error("no set or array")}};const hc=Symbol.for("com.tldraw.state/RESET_VALUE");let gR=class{constructor(t){this.capacity=t,this.index=0,this.buffer=new Array(t)}pushEntry(t,n,r){if(r!==void 0){if(r===hc){this.clear();return}this.buffer[this.index]=[t,n,r],this.index=(this.index+1)%this.capacity}}clear(){this.index=0,this.buffer.fill(void 0)}getChangesSince(t){const{index:n,capacity:r,buffer:s}=this;for(let o=0;o<r;o++){const a=(n-1+r-o)%r,i=s[a];if(!i)return hc;const[l,c]=i;if(o===0&&t>=c)return[];if(l<=t&&t<c){const d=o+1,h=new Array(d);for(let u=0;u<d;u++)h[u]=s[(a+u)%r][2];return h}}return hc}},sme=class{constructor(t,n){this.below=t,this.child=n,this.offset=0,this.numNewParents=0}};const Kt=ml("capture",()=>({stack:null}));function mR(e){Kt.stack=new sme(Kt.stack,e)}function yR(){var n;const e=Kt.stack;if(Kt.stack=e.below,e.numNewParents>0||e.offset!==e.child.parents.length){for(let r=e.offset;r<e.child.parents.length;r++){const s=e.child.parents[r];e.child.parents.indexOf(s)>=e.offset&&e1(s,e.child)}if(e.child.parents.length=e.offset,e.child.parentEpochs.length=e.offset,(n=Kt.stack)!=null&&n.maybeRemoved)for(let r=0;r<Kt.stack.maybeRemoved.length;r++){const s=Kt.stack.maybeRemoved[r];e.child.parents.indexOf(s)===-1&&e1(s,e.child)}}}function vS(e){if(Kt.stack){const t=Kt.stack.child.parents.indexOf(e);if(t<0&&(Kt.stack.numNewParents++,Kt.stack.child.isActivelyListening&&T6(e,Kt.stack.child)),t<0||t>=Kt.stack.offset){if(t!==Kt.stack.offset&&t>0){const n=Kt.stack.child.parents[Kt.stack.offset];Kt.stack.maybeRemoved?Kt.stack.maybeRemoved.indexOf(n)===-1&&Kt.stack.maybeRemoved.push(n):Kt.stack.maybeRemoved=[n]}Kt.stack.child.parents[Kt.stack.offset]=e,Kt.stack.child.parentEpochs[Kt.stack.offset]=e.lastChangedEpoch,Kt.stack.offset++}}}const tc=-1;let ome=class{constructor(t,n,r){this.name=t,this.runEffect=n,this._isActivelyListening=!1,this.lastTraversedEpoch=tc,this.lastReactedEpoch=tc,this._scheduleCount=0,this.parentEpochs=[],this.parents=[],this.maybeExecute=()=>{this._isActivelyListening&&this.execute()},this._scheduleEffect=r==null?void 0:r.scheduleEffect}get isActivelyListening(){return this._isActivelyListening}get scheduleCount(){return this._scheduleCount}maybeScheduleEffect(){if(this._isActivelyListening&&this.lastReactedEpoch!==ps()){if(this.parents.length&&!hR(this)){this.lastReactedEpoch=ps();return}this.scheduleEffect()}}scheduleEffect(){this._scheduleCount++,this._scheduleEffect?this._scheduleEffect(this.maybeExecute):this.execute()}attach(){this._isActivelyListening=!0;for(let t=0,n=this.parents.length;t<n;t++)T6(this.parents[t],this)}detach(){this._isActivelyListening=!1;for(let t=0,n=this.parents.length;t<n;t++)e1(this.parents[t],this)}execute(){try{mR(this);const t=this.runEffect(this.lastReactedEpoch);return this.lastReactedEpoch=ps(),t}finally{yR()}}};const ame=ml("EffectScheduler",()=>ome),Xo=ml("transactions",()=>({globalEpoch:tc+1,globalIsReacting:!1,currentTransaction:null}));function ps(){return Xo.globalEpoch}function ime(e){if(Xo.globalIsReacting)throw new Error("cannot change atoms during reaction cycle");try{Xo.globalIsReacting=!0;const t=new Set,n=r=>{r.lastTraversedEpoch!==Xo.globalEpoch&&(r.lastTraversedEpoch=Xo.globalEpoch,r instanceof ame?t.add(r):r.children.visit(n))};for(const r of e)r.children.visit(n);for(const r of t)r.maybeScheduleEffect()}finally{Xo.globalIsReacting=!1}}function lme(e,t){Xo.currentTransaction?Xo.currentTransaction.initialAtomValues.has(e)||Xo.currentTransaction.initialAtomValues.set(e,t):ime([e])}function cme(){Xo.globalEpoch++}let dme=class{constructor(t,n,r){this.name=t,this.current=n,this.lastChangedEpoch=ps(),this.children=new fR,this.isEqual=(r==null?void 0:r.isEqual)??null,r&&(r.historyLength&&(this.historyBuffer=new gR(r.historyLength)),this.computeDiff=r.computeDiff)}__unsafe__getWithoutCapture(){return this.current}get(){return vS(this),this.current}set(t,n){var s,o;if(((s=this.isEqual)==null?void 0:s.call(this,this.current,t))??uR(this.current,t))return this.current;cme(),this.historyBuffer&&this.historyBuffer.pushEntry(this.lastChangedEpoch,ps(),n??((o=this.computeDiff)==null?void 0:o.call(this,this.current,t,this.lastChangedEpoch,ps()))??hc),this.lastChangedEpoch=ps();const r=this.current;return this.current=t,lme(this,r),t}update(t){return this.set(t(this.current))}getDiffSince(t){var n;return vS(this),t>=this.lastChangedEpoch?pR:((n=this.historyBuffer)==null?void 0:n.getChangesSince(t))??hc}};ml("Atom",()=>dme);const OC=Symbol.for("com.tldraw.state/UNINITIALIZED"),DC=ml("WithDiff",()=>class{constructor(t,n){this.value=t,this.diff=n}});let hme=class{constructor(t,n,r){this.name=t,this.derive=n,this.lastChangedEpoch=tc,this.lastTraversedEpoch=tc,this.lastCheckedEpoch=tc,this.parents=[],this.parentEpochs=[],this.children=new fR,this.state=OC,r!=null&&r.historyLength&&(this.historyBuffer=new gR(r.historyLength)),this.computeDiff=r==null?void 0:r.computeDiff,this.isEqual=(r==null?void 0:r.isEqual)??uR}get isActivelyListening(){return!this.children.isEmpty}__unsafe__getWithoutCapture(){var n;const t=this.lastChangedEpoch===tc;if(!t&&(this.lastCheckedEpoch===ps()||!hR(this)))return this.lastCheckedEpoch=ps(),this.state;try{mR(this);const r=this.derive(this.state,this.lastCheckedEpoch),s=r instanceof DC?r.value:r;if(this.state===OC||!this.isEqual(s,this.state)){if(this.historyBuffer&&!t){const o=r instanceof DC?r.diff:void 0;this.historyBuffer.pushEntry(this.lastChangedEpoch,ps(),o??((n=this.computeDiff)==null?void 0:n.call(this,this.state,s,this.lastCheckedEpoch,ps()))??hc)}this.lastChangedEpoch=ps(),this.state=s}return this.lastCheckedEpoch=ps(),this.state}finally{yR()}}get(){const t=this.__unsafe__getWithoutCapture();return vS(this),t}getDiffSince(t){var n;return this.get(),t>=this.lastChangedEpoch?pR:((n=this.historyBuffer)==null?void 0:n.getChangesSince(t))??hc}};ml("Computed",()=>hme);const xR=1,ume=ml("apiVersion",()=>xR);if(ume!==xR)throw new Error("You have multiple incompatible versions of @tldraw/state in your app. Please deduplicate the package.");function pme(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function qC(e,t){if(pme(e,t))return e[t]}function P5(e){return Object.values(e)}const fme=typeof window<"u"&&window.structuredClone?window.structuredClone:e=>e&&JSON.parse(JSON.stringify(e));class L6{constructor(t,n){this.typeName=t,this.isInstance=r=>(r==null?void 0:r.typeName)===this.typeName,this.createDefaultProperties=n.createDefaultProperties,this.migrations=n.migrations,this.validator=n.validator??{validate:r=>r},this.scope=n.scope??"document"}create(t){const n={...this.createDefaultProperties(),id:this.createId()};for(const[r,s]of Object.entries(t))s!==void 0&&(n[r]=s);return n.typeName=this.typeName,n}clone(t){return{...fme(t),id:this.createId()}}createId(t){return this.typeName+":"+(t??nl())}createCustomId(t){return this.typeName+":"+t}parseId(t){if(!this.isId(t))throw new Error(`ID "${t}" is not a valid ID for type "${this.typeName}"`);return t.slice(this.typeName.length+1)}isId(t){if(!t)return!1;for(let n=0;n<this.typeName.length;n++)if(t[n]!==this.typeName[n])return!1;return t[this.typeName.length]===":"}withDefaultProperties(t){return new L6(this.typeName,{createDefaultProperties:t,migrations:this.migrations,validator:this.validator,scope:this.scope})}validate(t){return this.validator.validate(t)}}function ii(e,t){return new L6(e,{createDefaultProperties:()=>({}),migrations:t.migrations??{currentVersion:0,firstVersion:0,migrators:{}},validator:t.validator,scope:t.scope})}function wR(e){return e&&typeof e=="object"&&"parents"in e}function SR(e){for(let t=0,n=e.parents.length;t<n;t++)if(e.parents[t].__unsafe__getWithoutCapture(),e.parents[t].lastChangedEpoch!==e.parentEpochs[t])return!0;return!1}const t1=(e,t)=>{if(e.children.remove(t)&&e.children.isEmpty&&wR(e))for(let n=0,r=e.parents.length;n<r;n++)t1(e.parents[n],e)},M6=(e,t)=>{if(e.children.add(t)&&wR(e))for(let n=0,r=e.parents.length;n<r;n++)M6(e.parents[n],e)};function bR(e,t){return e===t||Object.is(e,t)||!!(e&&t&&typeof e.equals=="function"&&e.equals(t))}function yl(e,t){const n=Symbol.for(`com.tldraw.state/${e}`),r=globalThis;return r[n]??(r[n]=t()),r[n]}const vR=yl("empty_array",()=>Object.freeze([])),BC=8;class kR{constructor(){this.arraySize=0,this.array=Array(BC),this.set=null}get isEmpty(){if(this.array)return this.arraySize===0;if(this.set)return this.set.size===0;throw new Error("no set or array")}add(t){if(this.array)return this.array.indexOf(t)!==-1?!1:this.arraySize<BC?(this.array[this.arraySize]=t,this.arraySize++,!0):(this.set=new Set(this.array),this.array=null,this.set.add(t),!0);if(this.set)return this.set.has(t)?!1:(this.set.add(t),!0);throw new Error("no set or array")}remove(t){if(this.array){const n=this.array.indexOf(t);return n===-1?!1:(this.array[n]=void 0,this.arraySize--,n!==this.arraySize&&(this.array[n]=this.array[this.arraySize],this.array[this.arraySize]=void 0),!0)}if(this.set)return this.set.has(t)?(this.set.delete(t),!0):!1;throw new Error("no set or array")}visit(t){if(this.array){for(let n=0;n<this.arraySize;n++){const r=this.array[n];typeof r<"u"&&t(r)}return}if(this.set){this.set.forEach(t);return}throw new Error("no set or array")}}const uc=Symbol.for("com.tldraw.state/RESET_VALUE");class CR{constructor(t){this.capacity=t,this.index=0,this.buffer=new Array(t)}pushEntry(t,n,r){if(r!==void 0){if(r===uc){this.clear();return}this.buffer[this.index]=[t,n,r],this.index=(this.index+1)%this.capacity}}clear(){this.index=0,this.buffer.fill(void 0)}getChangesSince(t){const{index:n,capacity:r,buffer:s}=this;for(let o=0;o<r;o++){const a=(n-1+r-o)%r,i=s[a];if(!i)return uc;const[l,c]=i;if(o===0&&t>=c)return[];if(l<=t&&t<c){const d=o+1,h=new Array(d);for(let u=0;u<d;u++)h[u]=s[(a+u)%r][2];return h}}return uc}}class gme{constructor(t,n){this.below=t,this.child=n,this.offset=0,this.numNewParents=0}}const Wt=yl("capture",()=>({stack:null}));function _R(e){Wt.stack=new gme(Wt.stack,e)}function ER(){var n;const e=Wt.stack;if(Wt.stack=e.below,e.numNewParents>0||e.offset!==e.child.parents.length){for(let r=e.offset;r<e.child.parents.length;r++){const s=e.child.parents[r];e.child.parents.indexOf(s)>=e.offset&&t1(s,e.child)}if(e.child.parents.length=e.offset,e.child.parentEpochs.length=e.offset,(n=Wt.stack)!=null&&n.maybeRemoved)for(let r=0;r<Wt.stack.maybeRemoved.length;r++){const s=Wt.stack.maybeRemoved[r];e.child.parents.indexOf(s)===-1&&t1(s,e.child)}}}function kS(e){if(Wt.stack){const t=Wt.stack.child.parents.indexOf(e);if(t<0&&(Wt.stack.numNewParents++,Wt.stack.child.isActivelyListening&&M6(e,Wt.stack.child)),t<0||t>=Wt.stack.offset){if(t!==Wt.stack.offset&&t>0){const n=Wt.stack.child.parents[Wt.stack.offset];Wt.stack.maybeRemoved?Wt.stack.maybeRemoved.indexOf(n)===-1&&Wt.stack.maybeRemoved.push(n):Wt.stack.maybeRemoved=[n]}Wt.stack.child.parents[Wt.stack.offset]=e,Wt.stack.child.parentEpochs[Wt.stack.offset]=e.lastChangedEpoch,Wt.stack.offset++}}}const nc=-1;class mme{constructor(t,n,r){this.name=t,this.runEffect=n,this._isActivelyListening=!1,this.lastTraversedEpoch=nc,this.lastReactedEpoch=nc,this._scheduleCount=0,this.parentEpochs=[],this.parents=[],this.maybeExecute=()=>{this._isActivelyListening&&this.execute()},this._scheduleEffect=r==null?void 0:r.scheduleEffect}get isActivelyListening(){return this._isActivelyListening}get scheduleCount(){return this._scheduleCount}maybeScheduleEffect(){if(this._isActivelyListening&&this.lastReactedEpoch!==fs()){if(this.parents.length&&!SR(this)){this.lastReactedEpoch=fs();return}this.scheduleEffect()}}scheduleEffect(){this._scheduleCount++,this._scheduleEffect?this._scheduleEffect(this.maybeExecute):this.execute()}attach(){this._isActivelyListening=!0;for(let t=0,n=this.parents.length;t<n;t++)M6(this.parents[t],this)}detach(){this._isActivelyListening=!1;for(let t=0,n=this.parents.length;t<n;t++)t1(this.parents[t],this)}execute(){try{_R(this);const t=this.runEffect(this.lastReactedEpoch);return this.lastReactedEpoch=fs(),t}finally{ER()}}}const yme=yl("EffectScheduler",()=>mme),Yo=yl("transactions",()=>({globalEpoch:nc+1,globalIsReacting:!1,currentTransaction:null}));function fs(){return Yo.globalEpoch}function xme(e){if(Yo.globalIsReacting)throw new Error("cannot change atoms during reaction cycle");try{Yo.globalIsReacting=!0;const t=new Set,n=r=>{r.lastTraversedEpoch!==Yo.globalEpoch&&(r.lastTraversedEpoch=Yo.globalEpoch,r instanceof yme?t.add(r):r.children.visit(n))};for(const r of e)r.children.visit(n);for(const r of t)r.maybeScheduleEffect()}finally{Yo.globalIsReacting=!1}}function wme(e,t){Yo.currentTransaction?Yo.currentTransaction.initialAtomValues.has(e)||Yo.currentTransaction.initialAtomValues.set(e,t):xme([e])}function Sme(){Yo.globalEpoch++}class bme{constructor(t,n,r){this.name=t,this.current=n,this.lastChangedEpoch=fs(),this.children=new kR,this.isEqual=(r==null?void 0:r.isEqual)??null,r&&(r.historyLength&&(this.historyBuffer=new CR(r.historyLength)),this.computeDiff=r.computeDiff)}__unsafe__getWithoutCapture(){return this.current}get(){return kS(this),this.current}set(t,n){var s,o;if(((s=this.isEqual)==null?void 0:s.call(this,this.current,t))??bR(this.current,t))return this.current;Sme(),this.historyBuffer&&this.historyBuffer.pushEntry(this.lastChangedEpoch,fs(),n??((o=this.computeDiff)==null?void 0:o.call(this,this.current,t,this.lastChangedEpoch,fs()))??uc),this.lastChangedEpoch=fs();const r=this.current;return this.current=t,wme(this,r),t}update(t){return this.set(t(this.current))}getDiffSince(t){var n;return kS(this),t>=this.lastChangedEpoch?vR:((n=this.historyBuffer)==null?void 0:n.getChangesSince(t))??uc}}yl("Atom",()=>bme);const FC=Symbol.for("com.tldraw.state/UNINITIALIZED"),KC=yl("WithDiff",()=>class{constructor(t,n){this.value=t,this.diff=n}});class vme{constructor(t,n,r){this.name=t,this.derive=n,this.lastChangedEpoch=nc,this.lastTraversedEpoch=nc,this.lastCheckedEpoch=nc,this.parents=[],this.parentEpochs=[],this.children=new kR,this.state=FC,r!=null&&r.historyLength&&(this.historyBuffer=new CR(r.historyLength)),this.computeDiff=r==null?void 0:r.computeDiff,this.isEqual=(r==null?void 0:r.isEqual)??bR}get isActivelyListening(){return!this.children.isEmpty}__unsafe__getWithoutCapture(){var n;const t=this.lastChangedEpoch===nc;if(!t&&(this.lastCheckedEpoch===fs()||!SR(this)))return this.lastCheckedEpoch=fs(),this.state;try{_R(this);const r=this.derive(this.state,this.lastCheckedEpoch),s=r instanceof KC?r.value:r;if(this.state===FC||!this.isEqual(s,this.state)){if(this.historyBuffer&&!t){const o=r instanceof KC?r.diff:void 0;this.historyBuffer.pushEntry(this.lastChangedEpoch,fs(),o??((n=this.computeDiff)==null?void 0:n.call(this,this.state,s,this.lastCheckedEpoch,fs()))??uc)}this.lastChangedEpoch=fs(),this.state=s}return this.lastCheckedEpoch=fs(),this.state}finally{ER()}}get(){const t=this.__unsafe__getWithoutCapture();return kS(this),t}getDiffSince(t){var n;return this.get(),t>=this.lastChangedEpoch?vR:((n=this.historyBuffer)==null?void 0:n.getChangesSince(t))??uc}}yl("Computed",()=>vme);const IR=1,kme=yl("apiVersion",()=>IR);if(kme!==IR)throw new Error("You have multiple incompatible versions of @tldraw/state in your app. Please deduplicate the package.");function Cme(e){return typeof e=="object"&&e!==null&&"id"in e&&"typeName"in e}function kt(e){const{currentVersion:t,firstVersion:n,migrators:r={},subTypeKey:s,subTypeMigrations:o}=e;if(typeof t=="number"&&typeof n=="number"){if(t===n)throw Error("Current version is equal to initial version.");if(t<n)throw Error("Current version is lower than initial version.")}return{firstVersion:n??0,currentVersion:t??0,migrators:r,subTypeKey:s,subTypeMigrations:o}}var Ju=(e=>(e.IncompatibleSubtype="incompatible-subtype",e.UnknownType="unknown-type",e.TargetVersionTooNew="target-version-too-new",e.TargetVersionTooOld="target-version-too-old",e.MigrationError="migration-error",e.UnrecognizedSubtype="unrecognized-subtype",e))(Ju||{});function S0({record:e,migrations:t,fromVersion:n,toVersion:r}){let s=n;if(!Cme(e))throw new Error("[migrateRecord] object is not a record");const{typeName:o,id:a,...i}=e;let l=i;for(;s<r;){const c=s+1,d=t.migrators[c];if(!d)return{type:"error",reason:"target-version-too-new"};l=d.up(l),s=c}for(;s>r;){const c=s-1,d=t.migrators[s];if(!d)return{type:"error",reason:"target-version-too-old"};l=d.down(l),s=c}return{type:"success",value:{...l,id:a,typeName:o}}}function _me({value:e,migrations:t,fromVersion:n,toVersion:r}){let s=n;for(;s<r;){const o=s+1,a=t.migrators[o];if(!a)return{type:"error",reason:"target-version-too-new"};e=a.up(e),s=o}for(;s>r;){const o=s-1,a=t.migrators[s];if(!a)return{type:"error",reason:"target-version-too-old"};e=a.down(e),s=o}return{type:"success",value:e}}class j6{constructor(t,n){this.types=t,this.options=n}static create(t,n){return new j6(t,n??{})}get currentStoreVersion(){var t;return((t=this.options.snapshotMigrations)==null?void 0:t.currentVersion)??0}validateRecord(t,n,r,s){try{const o=qC(this.types,n.typeName);if(!o)throw new Error(`Missing definition for record type ${n.typeName}`);return o.validate(n)}catch(o){if(this.options.onValidationFailure)return this.options.onValidationFailure({store:t,record:n,phase:r,recordBefore:s,error:o});throw o}}migratePersistedRecord(t,n,r="up"){var h;const s=qC(this.types,t.typeName),o=n.recordVersions[t.typeName];if(!o||!s)return{type:"error",reason:Ju.UnknownType};const a=s.migrations.currentVersion,i=o.version;if(a!==i){const u=S0(r==="up"?{record:t,migrations:s.migrations,fromVersion:i,toVersion:a}:{record:t,migrations:s.migrations,fromVersion:a,toVersion:i});if(u.type==="error")return u;t=u.value}if(!s.migrations.subTypeKey)return{type:"success",value:t};const l=(h=s.migrations.subTypeMigrations)==null?void 0:h[t[s.migrations.subTypeKey]],c="subTypeVersions"in o?o.subTypeVersions[t[s.migrations.subTypeKey]]:void 0;if(l===void 0)return{type:"error",reason:Ju.UnrecognizedSubtype};if(c===void 0)return{type:"error",reason:Ju.IncompatibleSubtype};const d=S0(r==="up"?{record:t,migrations:l,fromVersion:c,toVersion:l.currentVersion}:{record:t,migrations:l,fromVersion:l.currentVersion,toVersion:c});return d.type==="error"?d:{type:"success",value:d.value}}migrateStoreSnapshot(t){let{store:n}=t;const r=this.options.snapshotMigrations;if(!r)return{type:"success",value:n};const s=r.currentVersion,o=t.schema.storeVersion??0;if(s<o)return{type:"error",reason:Ju.TargetVersionTooOld};if(s>o){const i=_me({value:n,migrations:r,fromVersion:o,toVersion:s});if(i.type==="error")return i;n=i.value}const a=[];for(const i of P5(n)){const l=this.migratePersistedRecord(i,t.schema);if(l.type==="error")return l;l.value&&l.value!==i&&a.push(l.value)}if(a.length){n={...n};for(const i of a)n[i.id]=i}return{type:"success",value:n}}createIntegrityChecker(t){var n,r;return((r=(n=this.options).createIntegrityChecker)==null?void 0:r.call(n,t))??void 0}serialize(){var t;return{schemaVersion:1,storeVersion:((t=this.options.snapshotMigrations)==null?void 0:t.currentVersion)??0,recordVersions:Object.fromEntries(P5(this.types).map(n=>[n.typeName,n.migrations.subTypeKey&&n.migrations.subTypeMigrations?{version:n.migrations.currentVersion,subTypeKey:n.migrations.subTypeKey,subTypeVersions:n.migrations.subTypeMigrations?Object.fromEntries(Object.entries(n.migrations.subTypeMigrations).map(([r,s])=>[r,s.currentVersion])):void 0}:{version:n.migrations.currentVersion}]))}}serializeEarliestVersion(){var t;return{schemaVersion:1,storeVersion:((t=this.options.snapshotMigrations)==null?void 0:t.firstVersion)??0,recordVersions:Object.fromEntries(P5(this.types).map(n=>[n.typeName,n.migrations.subTypeKey&&n.migrations.subTypeMigrations?{version:n.migrations.firstVersion,subTypeKey:n.migrations.subTypeKey,subTypeVersions:n.migrations.subTypeMigrations?Object.fromEntries(Object.entries(n.migrations.subTypeMigrations).map(([r,s])=>[r,s.firstVersion])):void 0}:{version:n.migrations.firstVersion}]))}}}const Eme=ai("camera",Nt({typeName:Hr("camera"),id:vo("camera"),x:Be,y:Be,z:Be,meta:ha})),WC={AddMeta:1},Ime=kt({currentVersion:WC.AddMeta,migrators:{[WC.AddMeta]:{up:e=>({...e,meta:{}}),down:({meta:e,...t})=>({...t})}}}),ir=ii("camera",{validator:Eme,migrations:Ime,scope:"session"}).withDefaultProperties(()=>({x:0,y:0,z:1,meta:{}})),xf=Nt({x:Be,y:Be,z:Be.optional()}),Cp=Nt({x:Be,y:Be,w:Be,h:Be}),Pme=new Set(["none","default","pointer","cross","grab","rotate","grabbing","resize-edge","resize-corner","text","move","ew-resize","ns-resize","nesw-resize","nwse-resize","nesw-rotate","nwse-rotate","swne-rotate","senw-rotate","zoom-in","zoom-out"]),PR=rg(Pme),zme=Nt({type:PR,rotation:Be}),zR=Be.check(e=>{if(e<0||e>1)throw new Gt("Opacity must be between 0 and 1")}),Ame=new Set(["accent","white","black","selection-stroke","selection-fill","laser","muted-1"]),Nme=rg(Ame),Tme=new Set(["starting","paused","active","stopping"]),AR=Nt({id:st,points:Xs(xf),size:eme,color:Nme,opacity:Be,state:rg(Tme),delay:Be,shrink:Be,taper:St}),wf=vo("page"),Lme=ai("page",Nt({typeName:Hr("page"),id:wf,name:st,index:st,meta:ha})),UC={AddMeta:1},Mme=kt({currentVersion:UC.AddMeta,migrators:{[UC.AddMeta]:{up:e=>({...e,meta:{}}),down:({meta:e,...t})=>({...t})}}}),Sf=ii("page",{validator:Lme,migrations:Mme,scope:"document"}).withDefaultProperties(()=>({meta:{}}));function ts(e){return Sf.isId(e)}vo("instance");function jme(e){const t={};for(const[r,s]of e)t[r]=lR(s);const n=ai("instance",Nt({typeName:Hr("instance"),id:vo("instance"),currentPageId:wf,followingUserId:st.nullable(),brush:Cp.nullable(),opacityForNextShape:zR,stylesForNextShape:Nt(t),cursor:zme,scribbles:Xs(AR),isFocusMode:St,isDebugMode:St,isToolLocked:St,exportBackground:St,screenBounds:Cp,zoomBrush:Cp.nullable(),isPenMode:St,isGridMode:St,chatMessage:st,isChatting:St,highlightedUserIds:Xs(st),canMoveCamera:St,isFocused:St,devicePixelRatio:Be,isCoarsePointer:St,isHoveringCanvas:St.nullable(),openMenus:Xs(st),isChangingStyle:St,isReadonly:St,meta:ha}));return ii("instance",{migrations:Rme,validator:n,scope:"session"}).withDefaultProperties(()=>({followingUserId:null,opacityForNextShape:1,stylesForNextShape:{},brush:null,scribbles:[],cursor:{type:"default",rotation:0},isFocusMode:!1,exportBackground:!1,isDebugMode:!1,isToolLocked:!1,screenBounds:{x:0,y:0,w:1080,h:720},zoomBrush:null,isGridMode:!1,isPenMode:!1,chatMessage:"",isChatting:!1,highlightedUserIds:[],canMoveCamera:!0,isFocused:!1,devicePixelRatio:typeof window>"u"?1:window.devicePixelRatio,isCoarsePointer:!1,isHoveringCanvas:null,openMenus:[],isChangingStyle:!1,isReadonly:!1,meta:{}}))}const Jt={AddTransparentExportBgs:1,RemoveDialog:2,AddToolLockMode:3,RemoveExtraPropsForNextShape:4,AddLabelColor:5,AddFollowingUserId:6,RemoveAlignJustify:7,AddZoom:8,AddVerticalAlign:9,AddScribbleDelay:10,RemoveUserId:11,AddIsPenModeAndIsGridMode:12,HoistOpacity:13,AddChat:14,AddHighlightedUserIds:15,ReplacePropsForNextShapeWithStylesForNextShape:16,AddMeta:17,RemoveCursorColor:18,AddLonelyProperties:19,ReadOnlyReadonly:20,AddHoveringCanvas:21,AddScribbles:22},Rme=kt({currentVersion:Jt.AddScribbles,migrators:{[Jt.AddTransparentExportBgs]:{up:e=>({...e,exportBackground:!0}),down:({exportBackground:e,...t})=>t},[Jt.RemoveDialog]:{up:({dialog:e,...t})=>t,down:e=>({...e,dialog:null})},[Jt.AddToolLockMode]:{up:e=>({...e,isToolLocked:!1}),down:({isToolLocked:e,...t})=>t},[Jt.RemoveExtraPropsForNextShape]:{up:({propsForNextShape:e,...t})=>({...t,propsForNextShape:Object.fromEntries(Object.entries(e).filter(([n])=>["color","labelColor","dash","fill","size","font","align","verticalAlign","icon","geo","arrowheadStart","arrowheadEnd","spline"].includes(n)))}),down:e=>e},[Jt.AddLabelColor]:{up:({propsForNextShape:e,...t})=>({...t,propsForNextShape:{...e,labelColor:"black"}}),down:e=>{const{labelColor:t,...n}=e.propsForNextShape;return{...e,propsForNextShape:{...n}}}},[Jt.AddFollowingUserId]:{up:e=>({...e,followingUserId:null}),down:({followingUserId:e,...t})=>t},[Jt.RemoveAlignJustify]:{up:e=>{let t=e.propsForNextShape.align;return t==="justify"&&(t="start"),{...e,propsForNextShape:{...e.propsForNextShape,align:t}}},down:e=>({...e})},[Jt.AddZoom]:{up:e=>({...e,zoomBrush:null}),down:({zoomBrush:e,...t})=>t},[Jt.AddVerticalAlign]:{up:e=>({...e,propsForNextShape:{...e.propsForNextShape,verticalAlign:"middle"}}),down:e=>{const{verticalAlign:t,...n}=e.propsForNextShape;return{...e,propsForNextShape:n}}},[Jt.AddScribbleDelay]:{up:e=>e.scribble!==null?{...e,scribble:{...e.scribble,delay:0}}:{...e},down:e=>{if(e.scribble!==null){const{delay:t,...n}=e.scribble;return{...e,scribble:n}}return{...e}}},[Jt.RemoveUserId]:{up:({userId:e,...t})=>t,down:e=>({...e,userId:"user:none"})},[Jt.AddIsPenModeAndIsGridMode]:{up:e=>({...e,isPenMode:!1,isGridMode:!1}),down:({isPenMode:e,isGridMode:t,...n})=>n},[Jt.HoistOpacity]:{up:({propsForNextShape:{opacity:e,...t},...n})=>({...n,opacityForNextShape:Number(e??"1"),propsForNextShape:t}),down:({opacityForNextShape:e,...t})=>({...t,propsForNextShape:{...t.propsForNextShape,opacity:e<.175?"0.1":e<.375?"0.25":e<.625?"0.5":e<.875?"0.75":"1"}})},[Jt.AddChat]:{up:e=>({...e,chatMessage:"",isChatting:!1}),down:({chatMessage:e,isChatting:t,...n})=>n},[Jt.AddHighlightedUserIds]:{up:e=>({...e,highlightedUserIds:[]}),down:({highlightedUserIds:e,...t})=>t},[Jt.ReplacePropsForNextShapeWithStylesForNextShape]:{up:({propsForNextShape:e,...t})=>({...t,stylesForNextShape:{}}),down:({stylesForNextShape:e,...t})=>({...t,propsForNextShape:{color:"black",labelColor:"black",dash:"draw",fill:"none",size:"m",icon:"file",font:"draw",align:"middle",verticalAlign:"middle",geo:"rectangle",arrowheadStart:"none",arrowheadEnd:"arrow",spline:"line"}})},[Jt.AddMeta]:{up:e=>({...e,meta:{}}),down:({meta:e,...t})=>({...t})},[Jt.RemoveCursorColor]:{up:e=>{const{color:t,...n}=e.cursor;return{...e,cursor:n}},down:e=>({...e,cursor:{...e.cursor,color:"black"}})},[Jt.AddLonelyProperties]:{up:e=>({...e,canMoveCamera:!0,isFocused:!1,devicePixelRatio:1,isCoarsePointer:!1,openMenus:[],isChangingStyle:!1,isReadOnly:!1}),down:({canMoveCamera:e,isFocused:t,devicePixelRatio:n,isCoarsePointer:r,openMenus:s,isChangingStyle:o,isReadOnly:a,...i})=>({...i})},[Jt.ReadOnlyReadonly]:{up:({isReadOnly:e,...t})=>({...t,isReadonly:e}),down:({isReadonly:e,...t})=>({...t,isReadOnly:e})},[Jt.AddHoveringCanvas]:{up:e=>({...e,isHoveringCanvas:null}),down:({isHoveringCanvas:e,...t})=>({...t})},[Jt.AddScribbles]:{up:({scribble:e,...t})=>({...t,scribbles:[]}),down:({scribbles:e,...t})=>({...t,scribble:null})}}}),yr="instance:instance",$me=st.refine(e=>{if(!e.startsWith("page:")&&!e.startsWith("shape:"))throw new Error('Parent ID must start with "page:" or "shape:"');return e}),lo=vo("shape");function Ome(e,t,n){return Nt({id:lo,typeName:Hr("shape"),x:Be,y:Be,rotation:Be,index:st,parentId:$me,type:Hr(e),isLocked:St,opacity:zR,props:t?Nt(t):ha,meta:n?Nt(n):ha})}const Dme=ai("instance_page_state",Nt({typeName:Hr("instance_page_state"),id:vo("instance_page_state"),pageId:wf,selectedShapeIds:Xs(lo),hintingShapeIds:Xs(lo),erasingShapeIds:Xs(lo),hoveredShapeId:lo.nullable(),editingShapeId:lo.nullable(),croppingShapeId:lo.nullable(),focusedGroupId:lo.nullable(),meta:ha})),fd={AddCroppingId:1,RemoveInstanceIdAndCameraId:2,AddMeta:3,RenameProperties:4,RenamePropertiesAgain:5},qme=kt({currentVersion:fd.RenamePropertiesAgain,migrators:{[fd.AddCroppingId]:{up(e){return{...e,croppingShapeId:null}},down({croppingShapeId:e,...t}){return t}},[fd.RemoveInstanceIdAndCameraId]:{up({instanceId:e,cameraId:t,...n}){return n},down(e){return{...e,instanceId:yr,cameraId:ir.createId("void")}}},[fd.AddMeta]:{up:e=>({...e,meta:{}}),down:({meta:e,...t})=>({...t})},[fd.RenameProperties]:{up:e=>{const{selectedShapeIds:t,hintingShapeIds:n,erasingShapeIds:r,hoveredShapeId:s,editingShapeId:o,croppingShapeId:a,focusedGroupId:i,...l}=e;return{selectedShapeIds:t,hintingShapeIds:n,erasingShapeIds:r,hoveredShapeId:s,editingShapeId:o,croppingShapeId:a,focusedGroupId:i,...l}},down:e=>{const{selectedShapeIds:t,hintingShapeIds:n,erasingShapeIds:r,hoveredShapeId:s,editingShapeId:o,croppingShapeId:a,focusedGroupId:i,...l}=e;return{selectedShapeIds:t,hintingShapeIds:n,erasingShapeIds:r,hoveredShapeId:s,editingShapeId:o,croppingShapeId:a,focusedGroupId:i,...l}}},[fd.RenamePropertiesAgain]:{up:e=>{const{selectedIds:t,hintingIds:n,erasingIds:r,hoveredId:s,editingId:o,croppingShapeId:a,croppingId:i,focusLayerId:l,...c}=e;return{...c,selectedShapeIds:t,hintingShapeIds:n,erasingShapeIds:r,hoveredShapeId:s,editingShapeId:o,croppingShapeId:a??i??null,focusedGroupId:l}},down:e=>{const{selectedShapeIds:t,hintingShapeIds:n,erasingShapeIds:r,hoveredShapeId:s,editingShapeId:o,croppingShapeId:a,focusedGroupId:i,...l}=e;return{...l,selectedIds:t,hintingIds:n,erasingIds:r,hoveredId:s,editingId:o,croppingId:a,focusLayerId:i}}}}}),lr=ii("instance_page_state",{migrations:qme,validator:Dme,scope:"session"}).withDefaultProperties(()=>({editingShapeId:null,croppingShapeId:null,selectedShapeIds:[],hoveredShapeId:null,erasingShapeIds:[],hintingShapeIds:[],focusedGroupId:null,meta:{}})),Bme=ai("pointer",Nt({typeName:Hr("pointer"),id:vo("pointer"),x:Be,y:Be,lastActivityTimestamp:Be,meta:ha})),VC={AddMeta:1},Fme=kt({currentVersion:VC.AddMeta,migrators:{[VC.AddMeta]:{up:e=>({...e,meta:{}}),down:({meta:e,...t})=>({...t})}}}),R6=ii("pointer",{validator:Bme,migrations:Fme,scope:"session"}).withDefaultProperties(()=>({x:0,y:0,lastActivityTimestamp:0,meta:{}})),n1=R6.createId("pointer"),Kme=ai("instance_presence",Nt({typeName:Hr("instance_presence"),id:vo("instance_presence"),userId:st,userName:st,lastActivityTimestamp:Be,followingUserId:st.nullable(),cursor:Nt({x:Be,y:Be,type:PR,rotation:Be}),color:st,camera:Nt({x:Be,y:Be,z:Be}),screenBounds:Cp,selectedShapeIds:Xs(vo("shape")),currentPageId:vo("page"),brush:Cp.nullable(),scribbles:Xs(AR),chatMessage:st,meta:ha})),gd={AddScribbleDelay:1,RemoveInstanceId:2,AddChatMessage:3,AddMeta:4,RenameSelectedShapeIds:5},Wme=kt({currentVersion:gd.RenameSelectedShapeIds,migrators:{[gd.AddScribbleDelay]:{up:e=>e.scribble!==null?{...e,scribble:{...e.scribble,delay:0}}:{...e},down:e=>{if(e.scribble!==null){const{delay:t,...n}=e.scribble;return{...e,scribble:n}}return{...e}}},[gd.RemoveInstanceId]:{up:({instanceId:e,...t})=>t,down:e=>({...e,instanceId:yr})},[gd.AddChatMessage]:{up:e=>({...e,chatMessage:""}),down:({chatMessage:e,...t})=>t},[gd.AddMeta]:{up:e=>({...e,meta:{}}),down:({meta:e,...t})=>({...t})},[gd.RenameSelectedShapeIds]:{up:e=>{const{selectedShapeIds:t,...n}=e;return{selectedShapeIds:t,...n}},down:e=>{const{selectedShapeIds:t,...n}=e;return{selectedShapeIds:t,...n}}}}}),Ume=ii("instance_presence",{migrations:Wme,validator:Kme,scope:"presence"}).withDefaultProperties(()=>({lastActivityTimestamp:0,followingUserId:null,color:"#FF0000",camera:{x:0,y:0,z:1},cursor:{x:0,y:0,type:"default",rotation:0},screenBounds:{x:0,y:0,w:1,h:1},selectedShapeIds:[],brush:null,scribbles:[],chatMessage:"",meta:{}})),XC=new WeakMap;function Vme(e,t){if(typeof e!="object"||e===null)return;let n=XC.get(e);n||(n={tags:{},extras:{}},XC.set(e,n)),t.tags&&(n.tags={...n.tags,...t.tags}),t.extras&&(n.extras={...n.extras,...t.extras})}function r1(e){if(!e)return e;if(Array.isArray(e)){const t=[],n=e.length;for(let r=0;r<n;r++)t.push(r1(e[r]));return t}else if(typeof e=="object"){const t=Object.keys(e),n=t.length,r={};for(let s=0;s<n;s++){const o=t[s];r[o]=r1(e[o])}return r}return e}function Xme(e){return Object.values(e)}function Yme(e){return Object.entries(e)}function YC(e,t){const n={};for(const[r,s]of Yme(e)){const o=t(r,s);n[r]=o}return n}const HC=typeof window<"u"&&window.structuredClone?window.structuredClone:e=>e&&JSON.parse(JSON.stringify(e)),Hme=ai("document",Nt({typeName:Hr("document"),id:Hr("document:document"),gridSize:Be,name:st,meta:ha})),z5={AddName:1,AddMeta:2},Gme=kt({currentVersion:z5.AddMeta,migrators:{[z5.AddName]:{up:e=>({...e,name:""}),down:({name:e,...t})=>t},[z5.AddMeta]:{up:e=>({...e,meta:{}}),down:({meta:e,...t})=>({...t})}}}),$6=ii("document",{migrations:Gme,validator:Hme,scope:"document"}).withDefaultProperties(()=>({gridSize:10,name:"",meta:{}})),CS=$6.createId("document");function Zme(e,t){return e.index<t.index?-1:e.index>t.index?1:0}function GC(e){e.typeName==="asset"&&("src"in e&&(e.src="<redacted>"),"src"in e.props&&(e.props.src="<redacted>"))}const Qme=({error:e,phase:t,record:n,recordBefore:r})=>{throw Vme(e,{tags:{origin:"store.validateRecord",storePhase:t,isExistingValidationIssue:t==="initialize"},extras:{recordBefore:r?GC(HC(r)):void 0,recordAfter:GC(HC(n))}}),e};function Jme(){return[Sf.create({id:"page:page",name:"Page 1",index:"a1",meta:{}})]}function eye(e){const t=e.query.ids("page"),n=()=>{if(!e.has(CS))return e.put([$6.create({id:CS,name:e.props.defaultName})]),n();if(!e.has(n1))return e.put([R6.create({id:n1})]),n();const r=t.get();if(r.size===0)return e.put(Jme()),n();const s=()=>[...r].map(l=>e.get(l)).sort(Zme)[0].id,o=e.get(yr);if(o){if(!r.has(o.currentPageId))return e.put([{...o,currentPageId:s()}]),n()}else return e.put([e.schema.types.instance.create({id:yr,currentPageId:s(),exportBackground:!0})]),n();const a=new Set,i=new Set;for(const l of r){const c=lr.createId(l);e.has(c)||a.add(c);const d=ir.createId(l);e.has(d)||i.add(d)}a.size>0&&e.put([...a].map(l=>lr.create({id:l,pageId:lr.parseId(l)}))),i.size>0&&e.put([...i].map(l=>ir.create({id:l})))};return n}const tye=N6("bookmark",Nt({title:st,description:st,image:st,src:st.nullable()})),nye=kt({}),rye=N6("image",Nt({w:Be,h:Be,name:st,isAnimated:St,mimeType:st.nullable(),src:st.nullable()})),A5={AddIsAnimated:1,RenameWidthHeight:2},sye=kt({currentVersion:A5.RenameWidthHeight,migrators:{[A5.AddIsAnimated]:{up:e=>({...e,props:{...e.props,isAnimated:!1}}),down:e=>{const{isAnimated:t,...n}=e.props;return{...e,props:n}}},[A5.RenameWidthHeight]:{up:e=>{const{width:t,height:n,...r}=e.props;return{...e,props:{w:t,h:n,...r}}},down:e=>{const{w:t,h:n,...r}=e.props;return{...e,props:{width:t,height:n,...r}}}}}}),oye=N6("video",Nt({w:Be,h:Be,name:st,isAnimated:St,mimeType:st.nullable(),src:st.nullable()})),N5={AddIsAnimated:1,RenameWidthHeight:2},aye=kt({currentVersion:N5.RenameWidthHeight,migrators:{[N5.AddIsAnimated]:{up:e=>({...e,props:{...e.props,isAnimated:!1}}),down:e=>{const{isAnimated:t,...n}=e.props;return{...e,props:n}}},[N5.RenameWidthHeight]:{up:e=>{const{width:t,height:n,...r}=e.props;return{...e,props:{w:t,h:n,...r}}},down:e=>{const{w:t,h:n,...r}=e.props;return{...e,props:{width:t,height:n,...r}}}}}}),iye=ai("asset",A6("type",{image:rye,video:oye,bookmark:tye})),ZC={AddMeta:1},lye=kt({subTypeKey:"type",subTypeMigrations:{image:sye,video:aye,bookmark:nye},currentVersion:ZC.AddMeta,migrators:{[ZC.AddMeta]:{up:e=>({...e,meta:{}}),down:({meta:e,...t})=>({...t})}}}),cye=ii("asset",{migrations:lye,validator:iye,scope:"document"}).withDefaultProperties(()=>({meta:{}}));class _r{constructor(t,n,r){this.id=t,this.defaultValue=n,this.type=r}static define(t,n){const{defaultValue:r,type:s=J0e}=n;return new _r(t,r,s)}static defineEnum(t,n){const{defaultValue:r,values:s}=n;return new dye(t,r,s)}validate(t){return this.type.validate(t)}}class dye extends _r{constructor(t,n,r){super(t,n,cR(...r)),this.values=r}}const b0={AddIsLocked:1,HoistOpacity:2,AddMeta:3},T5=kt({currentVersion:b0.AddMeta,migrators:{[b0.AddIsLocked]:{up:e=>({...e,isLocked:!1}),down:e=>{const{isLocked:t,...n}=e;return{...n}}},[b0.HoistOpacity]:{up:({props:{opacity:e,...t},...n})=>({...n,opacity:Number(e??"1"),props:t}),down:({opacity:e,...t})=>({...t,props:{...t.props,opacity:e<.175?"0.1":e<.375?"0.25":e<.625?"0.5":e<.875?"0.75":"1"}})},[b0.AddMeta]:{up:e=>({...e,meta:{}}),down:({meta:e,...t})=>({...t})}}});function rc(e){return e?e.typeName==="shape":!1}function $o(e){return e?e.startsWith("shape:"):!1}function ep(e){return`shape:${e??nl()}`}function NR(e){const t=new Map;for(const[n,r]of Object.entries(e))if(r instanceof _r){if(t.has(r))throw new Error(`Duplicate style prop ${r.id}. Each style prop can only be used once within a shape.`);t.set(r,n)}return t}function hye(e){return ii("shape",{migrations:kt({currentVersion:T5.currentVersion,firstVersion:T5.firstVersion,migrators:T5.migrators,subTypeKey:"type",subTypeMigrations:YC(e,(t,n)=>n.migrations??kt({}))}),scope:"document",validator:ai("shape",A6("type",YC(e,(t,{props:n,meta:r})=>Ome(t,n,r))))}).withDefaultProperties(()=>({x:0,y:0,rotation:0,isLocked:!1,opacity:1,meta:{}}))}const Tu={RemoveCodeAndIconShapeTypes:1,AddInstancePresenceType:2,RemoveTLUserAndPresenceAndAddPointer:3,RemoveUserDocument:4},uye=kt({currentVersion:Tu.RemoveUserDocument,migrators:{[Tu.RemoveCodeAndIconShapeTypes]:{up:e=>Object.fromEntries(Object.entries(e).filter(([t,n])=>n.typeName!=="shape"||n.type!=="icon"&&n.type!=="code")),down:e=>e},[Tu.AddInstancePresenceType]:{up:e=>e,down:e=>Object.fromEntries(Object.entries(e).filter(([t,n])=>n.typeName!=="instance_presence"))},[Tu.RemoveTLUserAndPresenceAndAddPointer]:{up:e=>Object.fromEntries(Object.entries(e).filter(([t,n])=>!n.typeName.match(/^(user|user_presence)$/))),down:e=>Object.fromEntries(Object.entries(e).filter(([t,n])=>n.typeName!=="pointer"))},[Tu.RemoveUserDocument]:{up:e=>Object.fromEntries(Object.entries(e).filter(([t,n])=>!n.typeName.match("user_document"))),down:e=>e}}});function pye({shapes:e}){const t=new Map;for(const s of Xme(e))for(const o of NR(s.props??{}).keys()){if(t.has(o.id)&&t.get(o.id)!==o)throw new Error(`Multiple StyleProp instances with the same id: ${o.id}`);t.set(o.id,o)}const n=hye(e),r=jme(t);return j6.create({asset:cye,camera:ir,document:$6,instance:r,instance_page_state:lr,page:Sf,shape:n,instance_presence:Ume,pointer:R6},{snapshotMigrations:uye,onValidationFailure:Qme,createIntegrityChecker:eye})}const TR=["black","grey","light-violet","violet","blue","light-blue","yellow","orange","green","light-green","light-red","red"],QC={lightMode:{id:"light",text:"#000000",background:"rgb(249, 250, 251)",solid:"#fcfffe",black:{solid:"#1d1d1d",semi:"#e8e8e8",pattern:"#494949",highlight:{srgb:"#fddd00",p3:"color(display-p3 0.972 0.8705 0.05)"}},blue:{solid:"#4263eb",semi:"#dce1f8",pattern:"#6681ee",highlight:{srgb:"#10acff",p3:"color(display-p3 0.308 0.6632 0.9996)"}},green:{solid:"#099268",semi:"#d3e9e3",pattern:"#39a785",highlight:{srgb:"#00ffc8",p3:"color(display-p3 0.2536 0.984 0.7981)"}},grey:{solid:"#adb5bd",semi:"#eceef0",pattern:"#bcc3c9",highlight:{srgb:"#cbe7f1",p3:"color(display-p3 0.8163 0.9023 0.9416)"}},"light-blue":{solid:"#4dabf7",semi:"#ddedfa",pattern:"#6fbbf8",highlight:{srgb:"#00f4ff",p3:"color(display-p3 0.1512 0.9414 0.9996)"}},"light-green":{solid:"#40c057",semi:"#dbf0e0",pattern:"#65cb78",highlight:{srgb:"#65f641",p3:"color(display-p3 0.563 0.9495 0.3857)"}},"light-red":{solid:"#ff8787",semi:"#f4dadb",pattern:"#fe9e9e",highlight:{srgb:"#ff7fa3",p3:"color(display-p3 0.9988 0.5301 0.6397)"}},"light-violet":{solid:"#e599f7",semi:"#f5eafa",pattern:"#e9acf8",highlight:{srgb:"#ff88ff",p3:"color(display-p3 0.9676 0.5652 0.9999)"}},orange:{solid:"#f76707",semi:"#f8e2d4",pattern:"#f78438",highlight:{srgb:"#ffa500",p3:"color(display-p3 0.9988 0.6905 0.266)"}},red:{solid:"#e03131",semi:"#f4dadb",pattern:"#e55959",highlight:{srgb:"#ff636e",p3:"color(display-p3 0.9992 0.4376 0.45)"}},violet:{solid:"#ae3ec9",semi:"#ecdcf2",pattern:"#bd63d3",highlight:{srgb:"#c77cff",p3:"color(display-p3 0.7469 0.5089 0.9995)"}},yellow:{solid:"#ffc078",semi:"#f9f0e6",pattern:"#fecb92",highlight:{srgb:"#fddd00",p3:"color(display-p3 0.972 0.8705 0.05)"}}},darkMode:{id:"dark",text:"#f8f9fa",background:"#212529",solid:"#28292e",black:{solid:"#e1e1e1",semi:"#2c3036",pattern:"#989898",highlight:{srgb:"#d2b700",p3:"color(display-p3 0.8078 0.7225 0.0312)"}},blue:{solid:"#4156be",semi:"#262d40",pattern:"#3a4b9e",highlight:{srgb:"#0079d2",p3:"color(display-p3 0.0032 0.4655 0.7991)"}},green:{solid:"#3b7b5e",semi:"#253231",pattern:"#366a53",highlight:{srgb:"#009774",p3:"color(display-p3 0.0085 0.582 0.4604)"}},grey:{solid:"#93989f",semi:"#33373c",pattern:"#7c8187",highlight:{srgb:"#9cb4cb",p3:"color(display-p3 0.6299 0.7012 0.7856)"}},"light-blue":{solid:"#588fc9",semi:"#2a3642",pattern:"#4d7aa9",highlight:{srgb:"#00bdc8",p3:"color(display-p3 0.0023 0.7259 0.7735)"}},"light-green":{solid:"#599f57",semi:"#2a3830",pattern:"#4e874e",highlight:{srgb:"#00a000",p3:"color(display-p3 0.2711 0.6172 0.0195)"}},"light-red":{solid:"#c67877",semi:"#3b3235",pattern:"#a56767",highlight:{srgb:"#db005b",p3:"color(display-p3 0.7849 0.0585 0.3589)"}},"light-violet":{solid:"#b583c9",semi:"#383442",pattern:"#9770a9",highlight:{srgb:"#c400c7",p3:"color(display-p3 0.7024 0.0403 0.753)"}},orange:{solid:"#bf612e",semi:"#3a2e2a",pattern:"#9f552d",highlight:{srgb:"#d07a00",p3:"color(display-p3 0.7699 0.4937 0.0085)"}},red:{solid:"#aa3c37",semi:"#36292b",pattern:"#8f3734",highlight:{srgb:"#de002c",p3:"color(display-p3 0.7978 0.0509 0.2035)"}},violet:{solid:"#873fa3",semi:"#31293c",pattern:"#763a8b",highlight:{srgb:"#9e00ee",p3:"color(display-p3 0.5651 0.0079 0.8986)"}},yellow:{solid:"#cba371",semi:"#3c3934",pattern:"#fecb92",highlight:{srgb:"#d2b700",p3:"color(display-p3 0.8078 0.7225 0.0312)"}}}};function fye(e){return e.isDarkMode?QC.darkMode:QC.lightMode}const O6=_r.defineEnum("tldraw:color",{defaultValue:"black",values:TR});_r.defineEnum("tldraw:labelColor",{defaultValue:"black",values:TR});const LR=_r.defineEnum("tldraw:dash",{defaultValue:"draw",values:["draw","solid","dashed","dotted"]}),gye=_r.defineEnum("tldraw:fill",{defaultValue:"none",values:["none","semi","solid","pattern"]});_r.defineEnum("tldraw:font",{defaultValue:"draw",values:["draw","sans","serif","mono"]});const D6=_r.defineEnum("tldraw:size",{defaultValue:"m",values:["s","m","l","xl"]}),MR=["arrow","triangle","square","dot","pipe","diamond","inverted","bar","none"];_r.defineEnum("tldraw:arrowheadStart",{defaultValue:"none",values:MR});_r.defineEnum("tldraw:arrowheadEnd",{defaultValue:"arrow",values:MR});A6("type",{binding:Nt({type:Hr("binding"),boundShapeId:lo,normalizedAnchor:xf,isExact:St,isPrecise:St}),point:Nt({type:Hr("point"),x:Be,y:Be})});const L5={AddLabelColor:1,AddIsPrecise:2};kt({currentVersion:L5.AddIsPrecise,migrators:{[L5.AddLabelColor]:{up:e=>({...e,props:{...e.props,labelColor:"black"}}),down:e=>{const{labelColor:t,...n}=e.props;return{...e,props:n}}},[L5.AddIsPrecise]:{up:e=>{const{start:t,end:n}=e.props;return{...e,props:{...e.props,start:t.type==="binding"?{...t,isPrecise:!(t.normalizedAnchor.x===.5&&t.normalizedAnchor.y===.5)}:t,end:n.type==="binding"?{...n,isPrecise:!(n.normalizedAnchor.x===.5&&n.normalizedAnchor.y===.5)}:n}}},down:e=>{const{start:t,end:n}=e.props,r={...t},s={...n};return r.type==="binding"&&(r.isPrecise||(r.normalizedAnchor={x:.5,y:.5}),delete r.isPrecise),s.type==="binding"&&(s.isPrecise||(s.normalizedAnchor={x:.5,y:.5}),delete s.isPrecise),{...e,props:{...e.props,start:r,end:s}}}}}});b2.nullable();const JC={NullAssetId:1};kt({currentVersion:JC.NullAssetId,migrators:{[JC.NullAssetId]:{up:e=>e.props.assetId===void 0?{...e,props:{...e.props,assetId:null}}:e,down:e=>{if(e.props.assetId===null){const{assetId:t,...n}=e.props;return{...e,props:n}}return e}}}});const jR=Nt({type:cR("free","straight"),points:Xs(xf)});Xs(jR);const e_={AddInPen:1};kt({currentVersion:e_.AddInPen,migrators:{[e_.AddInPen]:{up:e=>{const{points:t}=e.props.segments[0];if(t.length===0)return{...e,props:{...e.props,isPen:!1}};let n=!(t[0].z===0||t[0].z===.5);return t[1]&&(n=n&&!(t[1].z===0||t[1].z===.5)),{...e,props:{...e.props,isPen:n}}},down:e=>{const{isPen:t,...n}=e.props;return{...e,props:{...n}}}}}});const t_=/(^\/r\/[^/]+\/?$)/,wt=e=>{try{return new URL(e)}catch{return}},n_=[{type:"tldraw",title:"tldraw",hostnames:["beta.tldraw.com","tldraw.com"],minWidth:300,minHeight:300,width:720,height:500,doesResize:!0,canUnmount:!0,toEmbedUrl:e=>{const t=wt(e);if(t&&t.pathname.match(t_))return e},fromEmbedUrl:e=>{const t=wt(e);if(t&&t.pathname.match(t_))return e}},{type:"figma",title:"Figma",hostnames:["figma.com"],width:720,height:500,doesResize:!0,canUnmount:!0,toEmbedUrl:e=>{if(e.match(/https:\/\/([\w\.-]+\.)?figma.com\/(file|proto)\/([0-9a-zA-Z]{22,128})(?:\/.*)?$/)&&!e.includes("figma.com/embed"))return`https://www.figma.com/embed?embed_host=share&url=${e}`},fromEmbedUrl:e=>{const t=wt(e);if(t&&t.pathname.match(/^\/embed\/?$/)){const n=t.searchParams.get("url");if(n)return n}}},{type:"google_maps",title:"Google Maps",hostnames:["google.*"],width:720,height:500,doesResize:!0,canUnmount:!1,toEmbedUrl:e=>{if(e.includes("/maps/")){const t=e.match(/@(.*),(.*),(.*)z/);let n;if(t){const[,r,s,o]=t;n=`https://${new URL(e).host.replace("www.","")}/maps/embed/v1/view?key=${{}.NEXT_PUBLIC_GC_API_KEY}&center=${r},${s}&zoom=${o}`}else n="";return n}},fromEmbedUrl:e=>{const t=wt(e);if(!t)return;if(t.pathname.match(/^\/maps\/embed\/v1\/view\/?$/)&&t.searchParams.has("center")&&t.searchParams.get("zoom")){const r=t.searchParams.get("zoom"),[s,o]=t.searchParams.get("center").split(",");return`https://www.google.com/maps/@${s},${o},${r}z`}}},{type:"val_town",title:"Val Town",hostnames:["val.town"],minWidth:260,minHeight:100,width:720,height:500,doesResize:!0,canUnmount:!1,toEmbedUrl:e=>{const t=wt(e),n=t&&t.pathname.match(/\/v\/([^/]+)\/?/);if(n)return`https://www.val.town/embed/${n[1]}`},fromEmbedUrl:e=>{const t=wt(e),n=t&&t.pathname.match(/\/embed\/([^/]+)\/?/);if(n)return`https://www.val.town/v/${n[1]}`}},{type:"codesandbox",title:"CodeSandbox",hostnames:["codesandbox.io"],minWidth:300,minHeight:300,width:720,height:500,doesResize:!0,canUnmount:!1,toEmbedUrl:e=>{const t=wt(e),n=t&&t.pathname.match(/\/s\/([^/]+)\/?/);if(n)return`https://codesandbox.io/embed/${n[1]}`},fromEmbedUrl:e=>{const t=wt(e),n=t&&t.pathname.match(/\/embed\/([^/]+)\/?/);if(n)return`https://codesandbox.io/s/${n[1]}`}},{type:"codepen",title:"Codepen",hostnames:["codepen.io"],minWidth:300,minHeight:300,width:520,height:400,doesResize:!0,canUnmount:!1,toEmbedUrl:e=>{const t=/https:\/\/codepen.io\/([^/]+)\/pen\/([^/]+)/,n=e.match(t);if(n){const[r,s,o]=n;return`https://codepen.io/${s}/embed/${o}`}},fromEmbedUrl:e=>{const t=/https:\/\/codepen.io\/([^/]+)\/embed\/([^/]+)/,n=e.match(t);if(n){const[r,s,o]=n;return`https://codepen.io/${s}/pen/${o}`}}},{type:"scratch",title:"Scratch",hostnames:["scratch.mit.edu"],width:520,height:400,doesResize:!1,canUnmount:!1,toEmbedUrl:e=>{const t=/https?:\/\/scratch.mit.edu\/projects\/([^/]+)/,n=e.match(t);if(n){const[r,s]=n;return`https://scratch.mit.edu/projects/embed/${s}`}},fromEmbedUrl:e=>{const t=/https:\/\/scratch.mit.edu\/projects\/embed\/([^/]+)/,n=e.match(t);if(n){const[r,s]=n;return`https://scratch.mit.edu/projects/${s}`}}},{type:"youtube",title:"YouTube",hostnames:["*.youtube.com","youtube.com","youtu.be"],width:800,height:450,doesResize:!0,canUnmount:!1,overridePermissions:{"allow-presentation":!0},isAspectRatioLocked:!0,toEmbedUrl:e=>{const t=wt(e);if(!t)return;const n=t.hostname.replace(/^www./,"");if(n==="youtu.be")return`https://www.youtube.com/embed/${t.pathname.split("/").filter(Boolean)[0]}`;if((n==="youtube.com"||n==="m.youtube.com")&&t.pathname.match(/^\/watch/))return`https://www.youtube.com/embed/${t.searchParams.get("v")}`},fromEmbedUrl:e=>{const t=wt(e);if(!t)return;if(t.hostname.replace(/^www./,"")==="youtube.com"){const r=t.pathname.match(/^\/embed\/([^/]+)\/?/);if(r)return`https://www.youtube.com/watch?v=${r[1]}`}}},{type:"google_calendar",title:"Google Calendar",hostnames:["calendar.google.*"],width:720,height:500,minWidth:460,minHeight:360,doesResize:!0,canUnmount:!1,instructionLink:"https://support.google.com/calendar/answer/41207?hl=en",toEmbedUrl:e=>{const t=wt(e),n=t==null?void 0:t.searchParams.get("cid");if(t!=null&&t.pathname.match(/\/calendar\/u\/0/)&&n){t.pathname="/calendar/embed";const r=Array.from(t.searchParams.keys());for(const s of r)t.searchParams.delete(s);return t.searchParams.set("src",n),t.href}},fromEmbedUrl:e=>{const t=wt(e),n=t==null?void 0:t.searchParams.get("src");if(t!=null&&t.pathname.match(/\/calendar\/embed/)&&n){t.pathname="/calendar/u/0";const r=Array.from(t.searchParams.keys());for(const s of r)t.searchParams.delete(s);return t.searchParams.set("cid",n),t.href}}},{type:"google_slides",title:"Google Slides",hostnames:["docs.google.*"],width:720,height:500,minWidth:460,minHeight:360,doesResize:!0,canUnmount:!1,toEmbedUrl:e=>{const t=wt(e);if(t!=null&&t.pathname.match(/^\/presentation/)&&(t!=null&&t.pathname.match(/\/pub\/?$/))){t.pathname=t.pathname.replace(/\/pub$/,"/embed");const n=Array.from(t.searchParams.keys());for(const r of n)t.searchParams.delete(r);return t.href}},fromEmbedUrl:e=>{const t=wt(e);if(t!=null&&t.pathname.match(/^\/presentation/)&&(t!=null&&t.pathname.match(/\/embed\/?$/))){t.pathname=t.pathname.replace(/\/embed$/,"/pub");const n=Array.from(t.searchParams.keys());for(const r of n)t.searchParams.delete(r);return t.href}}},{type:"github_gist",title:"GitHub Gist",hostnames:["gist.github.com"],width:720,height:500,doesResize:!0,canUnmount:!0,toEmbedUrl:e=>{const t=wt(e);if(t&&t.pathname.match(/\/([^/]+)\/([^/]+)/))return e.split("/").pop()?e:void 0},fromEmbedUrl:e=>{const t=wt(e);if(t&&t.pathname.match(/\/([^/]+)\/([^/]+)/))return e.split("/").pop()?e:void 0}},{type:"replit",title:"Replit",hostnames:["replit.com"],width:720,height:500,doesResize:!0,canUnmount:!1,toEmbedUrl:e=>{const t=wt(e);if(t&&t.pathname.match(/\/@([^/]+)\/([^/]+)/))return`${e}?embed=true`},fromEmbedUrl:e=>{const t=wt(e);if(t&&t.pathname.match(/\/@([^/]+)\/([^/]+)/)&&t.searchParams.has("embed"))return t.searchParams.delete("embed"),t.href}},{type:"felt",title:"Felt",hostnames:["felt.com"],width:720,height:500,doesResize:!0,canUnmount:!1,toEmbedUrl:e=>{const t=wt(e);if(t&&t.pathname.match(/^\/map\//))return t.origin+"/embed"+t.pathname},fromEmbedUrl:e=>{const t=wt(e);if(t&&t.pathname.match(/^\/embed\/map\//))return t.pathname=t.pathname.replace(/^\/embed/,""),t.href}},{type:"spotify",title:"Spotify",hostnames:["open.spotify.com"],width:720,height:500,minHeight:500,overrideOutlineRadius:12,doesResize:!0,canUnmount:!1,toEmbedUrl:e=>{const t=wt(e);if(t&&t.pathname.match(/^\/(artist|album)\//))return t.origin+"/embed"+t.pathname},fromEmbedUrl:e=>{const t=wt(e);if(t&&t.pathname.match(/^\/embed\/(artist|album)\//))return t.origin+t.pathname.replace(/^\/embed/,"")}},{type:"vimeo",title:"Vimeo",hostnames:["vimeo.com","player.vimeo.com"],width:640,height:360,doesResize:!0,canUnmount:!1,isAspectRatioLocked:!0,toEmbedUrl:e=>{const t=wt(e);if(t&&t.hostname==="vimeo.com"&&t.pathname.match(/^\/[0-9]+/))return"https://player.vimeo.com/video/"+t.pathname.split("/")[1]+"?title=0&byline=0"},fromEmbedUrl:e=>{const t=wt(e);if(t&&t.hostname==="player.vimeo.com"){const n=t.pathname.match(/^\/video\/([^/]+)\/?$/);if(n)return"https://vimeo.com/"+n[1]}}},{type:"excalidraw",title:"Excalidraw",hostnames:["excalidraw.com"],width:720,height:500,doesResize:!0,canUnmount:!1,isAspectRatioLocked:!0,toEmbedUrl:e=>{const t=wt(e);if(t&&t.hash.match(/#room=/))return e},fromEmbedUrl:e=>{const t=wt(e);if(t&&t.hash.match(/#room=/))return e}},{type:"observable",title:"Observable",hostnames:["observablehq.com"],width:720,height:500,doesResize:!0,canUnmount:!1,isAspectRatioLocked:!1,backgroundColor:"#fff",toEmbedUrl:e=>{const t=wt(e);if(t&&t.pathname.match(/^\/@([^/]+)\/([^/]+)\/?$/))return`${t.origin}/embed${t.pathname}?cell=*`;if(t&&t.pathname.match(/^\/d\/([^/]+)\/?$/)){const n=t.pathname.replace(/^\/d/,"");return`${t.origin}/embed${n}?cell=*`}},fromEmbedUrl:e=>{const t=wt(e);if(t&&t.pathname.match(/^\/embed\/@([^/]+)\/([^/]+)\/?$/))return`${t.origin}${t.pathname.replace("/embed","")}#cell-*`;if(t&&t.pathname.match(/^\/embed\/([^/]+)\/?$/))return`${t.origin}${t.pathname.replace("/embed","/d")}#cell-*`}}],Lu={GenOriginalUrlInEmbed:1,RemoveDoesResize:2,RemoveTmpOldUrl:3,RemovePermissionOverrides:4};kt({currentVersion:Lu.RemovePermissionOverrides,migrators:{[Lu.GenOriginalUrlInEmbed]:{up:e=>{const t=e.props.url,n=new URL(t).host.replace("www.","");let r;for(const s of n_)if(s.hostnames.includes(n))try{r=s.fromEmbedUrl(t)}catch(o){console.warn(o)}return{...e,props:{...e.props,tmpOldUrl:e.props.url,url:r??""}}},down:e=>{let t=e.props.tmpOldUrl;if(!t||t===""){const s=e.props.url,o=new URL(s).host.replace("www.","");for(const a of n_)if(a.hostnames.includes(o))try{t=a.toEmbedUrl(s)}catch(i){console.warn(i)}}const{tmpOldUrl:n,...r}=e.props;return{...e,props:{...r,url:t??""}}}},[Lu.RemoveDoesResize]:{up:e=>{const{doesResize:t,...n}=e.props;return{...e,props:{...n}}},down:e=>({...e,props:{...e.props,doesResize:!0}})},[Lu.RemoveTmpOldUrl]:{up:e=>{const{tmpOldUrl:t,...n}=e.props;return{...e,props:{...n}}},down:e=>({...e,props:{...e.props}})},[Lu.RemovePermissionOverrides]:{up:e=>{const{overridePermissions:t,...n}=e.props;return{...e,props:{...n}}},down:e=>({...e,props:{...e.props}})}}});kt({});_r.defineEnum("tldraw:horizontalAlign",{defaultValue:"middle",values:["start","middle","end","start-legacy","end-legacy","middle-legacy"]});_r.defineEnum("tldraw:verticalAlign",{defaultValue:"middle",values:["start","middle","end"]});_r.defineEnum("tldraw:geo",{defaultValue:"rectangle",values:["cloud","rectangle","ellipse","triangle","diamond","pentagon","hexagon","octagon","star","rhombus","rhombus-2","oval","trapezoid","arrow-right","arrow-left","arrow-up","arrow-down","x-box","check-box"]});const wi={AddUrlProp:1,AddLabelColor:2,RemoveJustify:3,AddCheckBox:4,AddVerticalAlign:5,MigrateLegacyAlign:6,AddCloud:7};kt({currentVersion:wi.AddCloud,migrators:{[wi.AddUrlProp]:{up:e=>({...e,props:{...e.props,url:""}}),down:e=>{const{url:t,...n}=e.props;return{...e,props:n}}},[wi.AddLabelColor]:{up:e=>({...e,props:{...e.props,labelColor:"black"}}),down:e=>{const{labelColor:t,...n}=e.props;return{...e,props:n}}},[wi.RemoveJustify]:{up:e=>{let t=e.props.align;return t==="justify"&&(t="start"),{...e,props:{...e.props,align:t}}},down:e=>({...e})},[wi.AddCheckBox]:{up:e=>({...e}),down:e=>({...e,props:{...e.props,geo:e.props.geo==="check-box"?"rectangle":e.props.geo}})},[wi.AddVerticalAlign]:{up:e=>({...e,props:{...e.props,verticalAlign:"middle"}}),down:e=>{const{verticalAlign:t,...n}=e.props;return{...e,props:n}}},[wi.MigrateLegacyAlign]:{up:e=>{let t;switch(e.props.align){case"start":t="start-legacy";break;case"end":t="end-legacy";break;default:t="middle-legacy";break}return{...e,props:{...e.props,align:t}}},down:e=>{let t;switch(e.props.align){case"start-legacy":t="start";break;case"end-legacy":t="end";break;case"middle-legacy":t="middle";break;default:t=e.props.align}return{...e,props:{...e.props,align:t}}}},[wi.AddCloud]:{up:e=>e,down:e=>{if(e.props.geo==="cloud")return{...e,props:{...e.props,geo:"rectangle"}}}}}});const mye={},yye=kt({});Xs(jR);kt({});const xye=Nt({topLeft:xf,bottomRight:xf});b2.nullable(),xye.nullable();const M5={AddUrlProp:1,AddCropProp:2};kt({currentVersion:M5.AddCropProp,migrators:{[M5.AddUrlProp]:{up:e=>({...e,props:{...e.props,url:""}}),down:e=>{const{url:t,...n}=e.props;return{...e,props:n}}},[M5.AddCropProp]:{up:e=>({...e,props:{...e.props,crop:null}}),down:e=>{const{crop:t,...n}=e.props;return{...e,props:n}}}}});const wye=new Set(["vertex","virtual","create"]),Sye=Nt({id:st,type:rg(wye),canBind:St.optional(),canSnap:St.optional(),index:st,x:Be,y:Be}),bye=_r.defineEnum("tldraw:spline",{defaultValue:"line",values:["cubic","line"]});nme(st,Sye);const r_={AddSnapHandles:1};kt({currentVersion:r_.AddSnapHandles,migrators:{[r_.AddSnapHandles]:{up:e=>{const t=r1(e.props.handles);for(const n in t)t[n].canSnap=!0;return{...e,props:{...e.props,handles:t}}},down:e=>{const t=r1(e.props.handles);for(const n in t)delete t[n].canSnap;return{...e,props:{...e.props,handles:t}}}}}});const Mu={AddUrlProp:1,RemoveJustify:2,MigrateLegacyAlign:3,AddVerticalAlign:4};kt({currentVersion:Mu.AddVerticalAlign,migrators:{[Mu.AddUrlProp]:{up:e=>({...e,props:{...e.props,url:""}}),down:e=>{const{url:t,...n}=e.props;return{...e,props:n}}},[Mu.RemoveJustify]:{up:e=>{let t=e.props.align;return t==="justify"&&(t="start"),{...e,props:{...e.props,align:t}}},down:e=>({...e})},[Mu.MigrateLegacyAlign]:{up:e=>{let t;switch(e.props.align){case"start":t="start-legacy";break;case"end":t="end-legacy";break;default:t="middle-legacy";break}return{...e,props:{...e.props,align:t}}},down:e=>{let t;switch(e.props.align){case"start-legacy":t="start";break;case"end-legacy":t="end";break;case"middle-legacy":t="middle";break;default:t=e.props.align}return{...e,props:{...e.props,align:t}}}},[Mu.AddVerticalAlign]:{up:e=>({...e,props:{...e.props,verticalAlign:"middle"}}),down:e=>{const{verticalAlign:t,...n}=e.props;return{...e,props:n}}}}});const s_={RemoveJustify:1};kt({currentVersion:s_.RemoveJustify,migrators:{[s_.RemoveJustify]:{up:e=>{let t=e.props.align;return t==="justify"&&(t="start"),{...e,props:{...e.props,align:t}}},down:e=>({...e})}}});b2.nullable();const o_={AddUrlProp:1};kt({currentVersion:o_.AddUrlProp,migrators:{[o_.AddUrlProp]:{up:e=>({...e,props:{...e.props,url:""}}),down:e=>{const{url:t,...n}=e.props;return{...e,props:n}}}}});const a_=[{locale:"ar",label:""},{locale:"ca",label:"Catal"},{locale:"cs",label:"etina"},{locale:"da",label:"Danish"},{locale:"de",label:"Deutsch"},{locale:"en",label:"English"},{locale:"es",label:"Espaol"},{locale:"fa",label:""},{locale:"fi",label:"Suomi"},{locale:"fr",label:"Franais"},{locale:"gl",label:"Galego"},{locale:"he",label:""},{locale:"it",label:"Italiano"},{locale:"ja",label:""},{locale:"ko-kr",label:""},{locale:"ku",label:""},{locale:"hi-in",label:""},{locale:"hu",label:"Magyar"},{locale:"my",label:""},{locale:"ne",label:""},{locale:"no",label:"Norwegian"},{locale:"pl",label:"Polski"},{locale:"pt-br",label:"Portugus - Brasil"},{locale:"pt-pt",label:"Portugus - Europeu"},{locale:"ro",label:"Romn"},{locale:"ru",label:"Russian"},{locale:"sv",label:"Svenska"},{locale:"te",label:""},{locale:"th",label:""},{locale:"tr",label:"Trke"},{locale:"uk",label:"Ukrainian"},{locale:"vi",label:"Ting Vit"},{locale:"zh-cn",label:"Chinese - Simplified"},{locale:"zh-tw",label:" ()"}];function vye(){const e=typeof window<"u"?window.navigator.languages??["en"]:["en"];return kye(e)}function kye(e){for(const t of e){const n=Cye(t);if(n)return n}return"en"}const i_={zh:"zh-cn",pt:"pt-br",ko:"ko-kr",hi:"hi-in"};function Cye(e){const t=a_.find(s=>s.locale===e.toLowerCase());if(t)return t.locale;const[n,r]=e.split(/[-_]/).map(s=>s.toLowerCase());if(r){const s=a_.find(o=>o.locale===n);if(s)return s.locale}return n in i_?i_[n]:null}function s1(e,t){const n=[];e:for(const r of e){for(const s of n)if(t?t(r,s):r===s)continue e;n.push(r)}return n}function Ve(e){return e.filter(t=>t!=null)}function _ye(e){return e[e.length-1]}function RR(e){const t=(...n)=>{try{return e(...n)}catch(r){throw r instanceof Error&&Error.captureStackTrace&&Error.captureStackTrace(r,t),r}};return t}function o1(e,t){const n=t&&e&&typeof e=="object"&&t in e?e[t]:e;throw new Error(`Unknown switch case ${n}`)}const q6=RR((e,t)=>{if(!e)throw new Error(t||"Assertion Error")}),Eye=RR((e,t)=>{if(e==null)throw new Error(t??"value must be defined");return e});function Iye(e,t){let n;const r=(...s)=>(n||(n={},n.promise=new Promise((o,a)=>{n.resolve=o,n.reject=a})),clearTimeout(n.timeout),n.latestArgs=s,n.timeout=setTimeout(()=>{const o=n;n=void 0;try{o.resolve(e(...o.latestArgs))}catch(a){o.reject(a)}},t),n.promise);return r.cancel=()=>{n&&clearTimeout(n.timeout)},r}const l_=new WeakMap;function $R(e,t){if(typeof e!="object"||e===null)return;let n=l_.get(e);n||(n={tags:{},extras:{}},l_.set(e,n)),t.tags&&(n.tags={...n.tags,...t.tags}),t.extras&&(n.extras={...n.extras,...t.extras})}function a1(e,t,n,r=!1){const[s,o]=t,[a,i]=n,l=a+(e-s)/(o-s)*(i-a);return r?a<i?Math.max(Math.min(l,i),a):Math.max(Math.min(l,a),i):l}function OR(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function j5(e,t){if(OR(e,t))return e[t]}function lh(e){if(!e)return e;if(Array.isArray(e)){const t=[],n=e.length;for(let r=0;r<n;r++)t.push(lh(e[r]));return t}else if(typeof e=="object"){const t=Object.keys(e),n=t.length,r={};for(let s=0;s<n;s++){const o=t[s];r[o]=lh(e[o])}return r}return e}function Pye(e){return Object.values(e)}function zye(e){return Object.fromEntries(e)}function Aye(e,t){if(e===t)return!0;const n=new Set(Object.keys(e)),r=new Set(Object.keys(t));if(n.size!==r.size)return!1;for(const s of n)if(!r.has(s)||!Object.is(e[s],t[s]))return!1;return!0}function Nye(e,t){return e.id>t.id?1:-1}const tp=typeof window<"u"&&window.structuredClone?window.structuredClone:e=>e&&JSON.parse(JSON.stringify(e));function Tye(e,t){const n=t&&e&&typeof e=="object"&&t in e?e[t]:e;throw new Error(`Unknown switch case ${n}`)}function DR(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Lye(e,t){if(DR(e,t))return e[t]}function Mye(e){if(!e.length)return null;let t="";for(const n of e)typeof n=="number"?t+=`.${n}`:n.startsWith("(")?t.endsWith(")")?t=`${t.slice(0,-1)}, ${n.slice(1)}`:t+=n:t+=`.${n}`;return t.startsWith(".")?t.slice(1):t}class Sr extends Error{constructor(t,n=[]){const r=Mye(n),s=t.split(`
`).map((o,a)=>a===0?o:`  ${o}`).join(`
`);super(n?`At ${r}: ${s}`:s),this.rawMessage=t,this.path=n,this.name="ValidationError"}}function B6(e,t){try{return t()}catch(n){throw n instanceof Sr?new Sr(n.rawMessage,[e,...n.path]):new Sr(n.toString(),[e])}}function F6(e){if(e===null)return"null";if(Array.isArray(e))return"an array";const t=typeof e;switch(t){case"bigint":case"boolean":case"function":case"number":case"string":case"symbol":return`a ${t}`;case"object":return`an ${t}`;case"undefined":return"undefined";default:Tye(t)}}class xl{constructor(t){this.validationFn=t}validate(t){return this.validationFn(t)}nullable(){return Oye(this)}optional(){return $ye(this)}refine(t){return new xl(n=>t(this.validate(n)))}check(t,n){return typeof t=="string"?this.refine(r=>(B6(`(check ${t})`,()=>n(r)),r)):this.refine(r=>(t(r),r))}}class jye extends xl{constructor(t){super(n=>{const r=Rye.validate(n);for(let s=0;s<r.length;s++)B6(s,()=>t.validate(r[s]));return r}),this.itemValidator=t}nonEmpty(){return this.check(t=>{if(t.length===0)throw new Sr("Expected a non-empty array")})}lengthGreaterThan1(){return this.check(t=>{if(t.length<=1)throw new Sr("Expected an array with length greater than 1")})}}class i1 extends xl{constructor(t,n=!1){super(r=>{if(typeof r!="object"||r===null)throw new Sr(`Expected object, got ${F6(r)}`);for(const[s,o]of Object.entries(t))B6(s,()=>{o.validate(Lye(r,s))});if(!n){for(const s of Object.keys(r))if(!DR(t,s))throw new Sr("Unexpected property",[s])}return r}),this.config=t,this.shouldAllowUnknownProperties=n}allowUnknownProperties(){return new i1(this.config,!0)}extend(t){return new i1({...this.config,...t})}}function K6(e){return new xl(t=>{if(typeof t!==e)throw new Sr(`Expected ${e}, got ${F6(t)}`);return t})}const v0=K6("string"),Ma=K6("number").check(e=>{if(Number.isNaN(e))throw new Sr("Expected a number, got NaN");if(!Number.isFinite(e))throw new Sr(`Expected a finite number, got ${e}`)});Ma.check(e=>{if(e<0)throw new Sr(`Expected a positive number, got ${e}`)});Ma.check(e=>{if(e<=0)throw new Sr(`Expected a non-zero positive number, got ${e}`)});const qR=Ma.check(e=>{if(!Number.isInteger(e))throw new Sr(`Expected an integer, got ${e}`)});qR.check(e=>{if(e<0)throw new Sr(`Expected a positive integer, got ${e}`)});qR.check(e=>{if(e<=0)throw new Sr(`Expected a non-zero positive integer, got ${e}`)});const Dl=K6("boolean"),Rye=new xl(e=>{if(!Array.isArray(e))throw new Sr(`Expected an array, got ${F6(e)}`);return e});function c_(e){return new jye(e)}function zm(e){return new i1(e)}function $ye(e){return new xl(t=>{if(t!==void 0)return e.validate(t)})}function Oye(e){return new xl(t=>t===null?null:e.validate(t))}const bn={preventDefaultLogging:Jr("preventDefaultLogging",{defaults:{all:!1}}),pointerCaptureLogging:Jr("pointerCaptureLogging",{defaults:{all:!1}}),pointerCaptureTracking:Jr("pointerCaptureTracking",{defaults:{all:!1}}),pointerCaptureTrackingObject:Jr("pointerCaptureTrackingObject",{defaults:{all:new Map},shouldStoreForSession:!1}),elementRemovalLogging:Jr("elementRemovalLogging",{defaults:{all:!1}}),debugSvg:Jr("debugSvg",{defaults:{all:!1}}),throwToBlob:Jr("throwToBlob",{defaults:{all:!1}}),logMessages:Jr("uiLog",{defaults:{all:[]}}),resetConnectionEveryPing:Jr("resetConnectionEveryPing",{defaults:{all:!1}}),debugCursors:Jr("debugCursors",{defaults:{all:!1}}),forceSrgb:Jr("forceSrgbColors",{defaults:{all:!1}}),debugGeometry:Jr("debugGeometry",{defaults:{all:!1}}),hideShapes:Jr("hideShapes",{defaults:{all:!1}})};typeof window<"u"&&(window.tldrawLog=e=>{bn.logMessages.set(bn.logMessages.get().concat(e))});if(typeof Element<"u"){const e=Element.prototype.removeChild;ng("element removal logging",()=>{bn.elementRemovalLogging.get()?Element.prototype.removeChild=function(t){return console.warn("[tldraw] removing child:",t),e.call(this,t)}:Element.prototype.removeChild=e})}function Jr(e,{defaults:t,shouldStoreForSession:n=!0}){return Dye({name:e,defaults:t,shouldStoreForSession:n})}function Dye(e){const t=Bye(e),n=e.shouldStoreForSession?qye(e.name):null,r=Ws(`debug:${e.name}`,n??t);return typeof window<"u"&&(e.shouldStoreForSession&&ng(`debug:${e.name}`,()=>{const s=r.get();try{s===t?window.sessionStorage.removeItem(`tldraw_debug:${e.name}`):window.sessionStorage.setItem(`tldraw_debug:${e.name}`,JSON.stringify(s))}catch{}}),Object.defineProperty(window,`tldraw${e.name.replace(/^[a-z]/,s=>s.toUpperCase())}`,{get(){return r.get()},set(s){r.set(s)},configurable:!0})),Object.assign(r,e)}function qye(e){try{return JSON.parse((window==null?void 0:window.sessionStorage.getItem(`tldraw_debug:${e}`))??"null")}catch{return null}}function R5(e){try{return e()}catch{return null}}function Bye(e){switch(R5(()=>"development")??R5(()=>({}).VERCEL_PUBLIC_TLDRAW_ENV)??R5(()=>({}).NEXT_PUBLIC_TLDRAW_ENV)??"production"){case"production":return e.defaults.production??e.defaults.all;case"preview":case"staging":return e.defaults.staging??e.defaults.all;default:return e.defaults.development??e.defaults.all}}function _S(e){if(e instanceof HTMLElement)return e;if(e.parentElement)return _S(e.parentElement);throw Error("Could not find a parent element of an HTML type!")}function _n(e){e.preventDefault(),bn.preventDefaultLogging.get()&&console.warn("preventDefault called on event:",e)}function BR(e,t){if(e.setPointerCapture(t.pointerId),bn.pointerCaptureTracking.get()){const n=bn.pointerCaptureTrackingObject.get();n.set(e,(n.get(e)??0)+1)}bn.pointerCaptureLogging.get()&&console.warn("setPointerCapture called on element:",e,t)}function FR(e,t){if(e.hasPointerCapture(t.pointerId)){if(e.releasePointerCapture(t.pointerId),bn.pointerCaptureTracking.get()){const n=bn.pointerCaptureTrackingObject.get();n.get(e)===1?n.delete(e):n.has(e)?n.set(e,n.get(e)-1):console.warn("Release without capture")}bn.pointerCaptureLogging.get()&&console.warn("releasePointerCapture called on element:",e,t)}}const KR=e=>e.stopPropagation();function sc(e){return e.isKilled=!0,{point:{x:e.clientX,y:e.clientY,z:e.pressure},shiftKey:e.shiftKey,altKey:e.altKey,ctrlKey:e.metaKey||e.ctrlKey,pointerId:e.pointerId,button:e.button,isPen:e.pointerType==="pen"}}const W6=le.createContext({}),De=()=>le.useContext(W6);function Fye(){const e=De();return b.useMemo(function(){let r,s;function o(g){if(!g.isKilled){if(g.button===2){e.dispatch({type:"pointer",target:"canvas",name:"right_click",...sc(g)});return}g.button!==0&&g.button!==1&&g.button!==5||(BR(g.currentTarget,g),e.dispatch({type:"pointer",target:"canvas",name:"pointer_down",...sc(g)}),e.getOpenMenus().length>0&&(e.updateInstanceState({openMenus:[]}),document.body.click(),e.getContainer().focus()))}}function a(g){g.isKilled||g.clientX===r&&g.clientY===s||(r=g.clientX,s=g.clientY,e.dispatch({type:"pointer",target:"canvas",name:"pointer_move",...sc(g)}))}function i(g){g.isKilled||g.button!==0&&g.button!==1&&g.button!==2&&g.button!==5||(r=g.clientX,s=g.clientY,FR(g.currentTarget,g),e.dispatch({type:"pointer",target:"canvas",name:"pointer_up",...sc(g)}))}function l(g){if(g.isKilled||e.getInstanceState().isPenMode&&g.pointerType!=="pen")return;const x=g.pointerType==="mouse"||g.pointerType==="pen";e.updateInstanceState({isHoveringCanvas:x?!0:null})}function c(g){if(g.isKilled||e.getInstanceState().isPenMode&&g.pointerType!=="pen")return;const x=g.pointerType==="mouse"||g.pointerType==="pen";e.updateInstanceState({isHoveringCanvas:x?!1:null})}function d(g){g.isKilled=!0,document.body.click(),_n(g)}function h(g){g.isKilled=!0,g.target.tagName!=="A"&&g.target.tagName!=="TEXTAREA"&&_n(g)}function u(g){_n(g)}async function p(g){var w,S;if(_n(g),!((S=(w=g.dataTransfer)==null?void 0:w.files)!=null&&S.length))return;const x=Array.from(g.dataTransfer.files);await e.putExternalContent({type:"files",files:x,point:e.screenToPage({x:g.clientX,y:g.clientY}),ignoreParent:!1})}function y(g){KR(g)}return{onPointerDown:o,onPointerMove:a,onPointerUp:i,onPointerEnter:l,onPointerLeave:c,onDragOver:u,onDrop:p,onTouchStart:d,onTouchEnd:h,onClick:y}},[e])}function Kye(){const e=De();b.useEffect(()=>{if(e.environment.isFirefox&&!e.environment.isAndroid&&!e.environment.isIos){e.updateInstanceState({isCoarsePointer:!1});return}if(window.matchMedia){const t=window.matchMedia("(pointer: coarse)"),n=()=>{e.updateInstanceState({isCoarsePointer:!!t.matches})};if(n(),t)return t.addEventListener("change",n),()=>t.removeEventListener("change",n)}},[e])}const WR=b.createContext(null);function Wye({container:e,children:t}){return f.jsx(WR.Provider,{value:e,children:t})}function wl(){return Eye(b.useContext(WR),"useContainer used outside of <Tldraw />")}function Uye(){const e=De(),t=wl(),n=qe("isFocused",()=>e.getInstanceState().isFocused,[e]);b.useEffect(()=>{if(typeof matchMedia===void 0)return;let r=null;const s=()=>{r!=null&&r();const o=`(resolution: ${window.devicePixelRatio}dppx)`,a=matchMedia(o),i=l=>{l.type==="change"&&s()};a.addEventListener?a.addEventListener("change",s):a.addListener&&a.addListener(i),r=()=>{a.removeEventListener?a.removeEventListener("change",s):a.removeListener&&a.removeListener(i)},e.updateInstanceState({devicePixelRatio:window.devicePixelRatio})};return s(),()=>{r==null||r()}},[e]),b.useEffect(()=>{if(!n)return;const r=i=>{if(i.altKey&&(e.isIn("zoom")||!e.getPath().endsWith(".idle"))&&!ju()&&_n(i),i.isKilled)return;switch(i.isKilled=!0,i.key){case"=":case"-":case"0":{if(i.metaKey||i.ctrlKey){_n(i);return}break}case"Tab":{if(ju()||e.getIsMenuOpen())return;break}case",":{if(!ju()&&(_n(i),!e.inputs.keys.has("Comma"))){const{x:c,y:d,z:h}=e.inputs.currentScreenPoint;e.inputs.keys.add("Comma");const u={type:"pointer",name:"pointer_down",point:{x:c,y:d,z:h},shiftKey:i.shiftKey,altKey:i.altKey,ctrlKey:i.metaKey||i.ctrlKey,pointerId:0,button:0,isPen:e.getInstanceState().isPenMode,target:"canvas"};e.dispatch(u);return}break}case"Escape":{if((e.getEditingShape()||e.getSelectedShapeIds().length>0)&&i.preventDefault(),e.getOpenMenus().length>0)return;e.inputs.keys.has("Escape")||(e.inputs.keys.add("Escape"),e.cancel(),t.focus());return}default:if(ju()||e.getIsMenuOpen())return}const l={type:"keyboard",name:i.repeat?"key_repeat":"key_down",key:i.key,code:i.code,shiftKey:i.shiftKey,altKey:i.altKey,ctrlKey:i.metaKey||i.ctrlKey};e.dispatch(l)},s=i=>{var c;if(i.isKilled||(i.isKilled=!0,ju()||e.getIsMenuOpen()))return;if(i.key===","&&((c=document.activeElement)!=null&&c.ELEMENT_NODE&&_n(i),e.inputs.keys.has(i.code))){const{x:d,y:h,z:u}=e.inputs.currentScreenPoint;e.inputs.keys.delete(i.code);const p={type:"pointer",name:"pointer_up",point:{x:d,y:h,z:u},shiftKey:i.shiftKey,altKey:i.altKey,ctrlKey:i.metaKey||i.ctrlKey,pointerId:0,button:0,isPen:e.getInstanceState().isPenMode,target:"canvas"};e.dispatch(p);return}const l={type:"keyboard",name:"key_up",key:i.key,code:i.code,shiftKey:i.shiftKey,altKey:i.altKey,ctrlKey:i.metaKey||i.ctrlKey};e.dispatch(l)};function o(i){var l,c;if(t.contains(i.target)){const d=i.touches[0].pageX,h=i.touches[0].radiusX||0;(d-h<10||d+h>e.getViewportScreenBounds().width-10)&&(((l=i.target)==null?void 0:l.tagName)==="BUTTON"&&((c=i.target)==null||c.click()),_n(i))}}const a=i=>{t.contains(i.target)&&(i.ctrlKey||i.metaKey)&&_n(i)};return t.addEventListener("touchstart",o,{passive:!1}),t.addEventListener("wheel",a,{passive:!1}),document.addEventListener("gesturestart",_n),document.addEventListener("gesturechange",_n),document.addEventListener("gestureend",_n),t.addEventListener("keydown",r),t.addEventListener("keyup",s),()=>{t.removeEventListener("touchstart",o),t.removeEventListener("wheel",a),document.removeEventListener("gesturestart",_n),document.removeEventListener("gesturechange",_n),document.removeEventListener("gestureend",_n),t.removeEventListener("keydown",r),t.removeEventListener("keyup",s)}},[e,t,n])}const Vye=["input","select","button","textarea"];function ju(){const{activeElement:e}=document;return!!(e&&(e.getAttribute("contenteditable")||Vye.indexOf(e.tagName.toLowerCase())>-1))}const Xye={error:null};class UR extends b.Component{constructor(){super(...arguments);m(this,"state",Xye)}static getDerivedStateFromError(n){return{error:n}}componentDidCatch(n){var r,s;(s=(r=this.props).onError)==null||s.call(r,n)}render(){const{error:n}=this.state;if(n!==null){const{fallback:r}=this.props;return f.jsx(r,{error:n})}return this.props.children}}function bf({children:e,fallback:t,...n}){return t===null?f.jsx(f.Fragment,{children:e}):f.jsx(UR,{fallback:t,...n,children:e})}class Yye{constructor(t){this.shape=t}equals(t){var n,r,s,o,a,i;return((n=this.shape)==null?void 0:n.isLocked)===((r=t==null?void 0:t.shape)==null?void 0:r.isLocked)&&((s=this.shape)==null?void 0:s.props)===((o=t==null?void 0:t.shape)==null?void 0:o.props)&&((a=this.shape)==null?void 0:a.meta)===((i=t==null?void 0:t.shape)==null?void 0:i.meta)}}const Hye=({shape:e,util:t})=>w2("Indicator:"+e.type,()=>t.indicator(e)),Gye=({editor:e,id:t})=>{const n=qe("shape",()=>new Yye(e.store.get(t)),[e,t]),{ShapeIndicatorErrorFallback:r}=Ln();return!n.shape||n.shape.isLocked?null:f.jsx(bf,{fallback:r,onError:s=>e.annotateError(s,{origin:"react.shapeIndicator",willCrashApp:!1}),children:f.jsx(Hye,{shape:n.shape,util:e.getShapeUtil(n.shape)},n.shape.id)})},Zye=({id:e,className:t,color:n,opacity:r})=>{const s=De(),o=qe("transform",()=>{const a=s.getShapePageTransform(e);return a?a.toCssString():""},[s,e]);return f.jsx("svg",{className:me("tl-overlays__item",t),children:f.jsx("g",{className:"tl-shape-indicator",transform:o,stroke:n??"var(--color-selected)",opacity:r,children:f.jsx(Gye,{editor:s,id:e})})})},v2=b.memo(Zye);function Qye(){return f.jsx("div",{className:"tl-background"})}function sg(e,t,n,r,s,o){b.useLayoutEffect(()=>{const a=e.current;if(!a||t===void 0)return;let i=`translate(${t}px, ${n}px)`;r!==void 0&&(i+=` scale(${r})`),s!==void 0&&(i+=` rotate(${s}rad)`),o&&(i+=` translate(${o.x}px, ${o.y}px)`),a.style.transform=i})}const l1={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>e*(2-e),easeInOutQuad:e=>e<.5?2*e*e:-1+(4-2*e)*e,easeInCubic:e=>e*e*e,easeOutCubic:e=>--e*e*e+1,easeInOutCubic:e=>e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1- --e*e*e*e,easeInOutQuart:e=>e<.5?8*e*e*e*e:1-8*--e*e*e*e,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1+--e*e*e*e*e,easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e,easeInSine:e=>1-Math.cos(e*Math.PI/2),easeOutSine:e=>Math.sin(e*Math.PI/2),easeInOutSine:e=>-(Math.cos(Math.PI*e)-1)/2,easeInExpo:e=>e<=0?0:Math.pow(2,10*e-10),easeOutExpo:e=>e>=1?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>e<=0?0:e>=1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2};class L{constructor(t=0,n=0,r=1){this.x=t,this.y=n,this.z=r}get pressure(){return this.z}set(t=this.x,n=this.y,r=this.z){return this.x=t,this.y=n,this.z=r,this}setTo({x:t=0,y:n=0,z:r=1}){return this.x=t,this.y=n,this.z=r,this}rot(t){if(t===0)return this;const{x:n,y:r}=this,s=Math.sin(t),o=Math.cos(t);return this.x=n*o-r*s,this.y=n*s+r*o,this}rotWith(t,n){if(n===0)return this;const r=this.x-t.x,s=this.y-t.y,o=Math.sin(n),a=Math.cos(n);return this.x=t.x+(r*a-s*o),this.y=t.y+(r*o+s*a),this}clone(){const{x:t,y:n,z:r}=this;return new L(t,n,r)}sub(t){return this.x-=t.x,this.y-=t.y,this}subXY(t,n){return this.x-=t,this.y-=n,this}subScalar(t){return this.x-=t,this.y-=t,this}add(t){return this.x+=t.x,this.y+=t.y,this}addXY(t,n){return this.x+=t,this.y+=n,this}addScalar(t){return this.x+=t,this.y+=t,this}clamp(t,n){return this.x=Math.max(this.x,t),this.y=Math.max(this.y,t),n!==void 0&&(this.x=Math.min(this.x,n),this.y=Math.min(this.y,n)),this}div(t){return this.x/=t,this.y/=t,this}divV(t){return this.x/=t.x,this.y/=t.y,this}mul(t){return this.x*=t,this.y*=t,this}mulV(t){return this.x*=t.x,this.y*=t.y,this}abs(){return this.x=Math.abs(this.x),this.y=Math.abs(this.y),this}nudge(t,n){const r=L.Tan(t,this);return this.add(r.mul(n))}neg(){return this.x*=-1,this.y*=-1,this}cross(t){return this.x=this.y*t.z-this.z*t.y,this.y=this.z*t.x-this.x*t.z,this}dpr(t){return L.Dpr(this,t)}cpr(t){return L.Cpr(this,t)}len2(){return L.Len2(this)}len(){return L.Len(this)}pry(t){return L.Pry(this,t)}per(){const{x:t,y:n}=this;return this.x=n,this.y=-t,this}uni(){return L.Uni(this)}tan(t){return L.Tan(this,t)}dist(t){return L.Dist(this,t)}distanceToLineSegment(t,n){return L.DistanceToLineSegment(t,n,this)}slope(t){return L.Slope(this,t)}snapToGrid(t){return this.x=Math.round(this.x/t)*t,this.y=Math.round(this.y/t)*t,this}angle(t){return L.Angle(this,t)}toAngle(){return L.ToAngle(this)}lrp(t,n){return this.x=this.x+(t.x-this.x)*n,this.y=this.y+(t.y-this.y)*n,this}equals(t){return L.Equals(this,t)}equalsXY(t,n){return L.EqualsXY(this,t,n)}norm(){const t=this.len();return this.x=t===0?0:this.x/t,this.y=t===0?0:this.y/t,this}toFixed(){return L.ToFixed(this)}toString(){return L.ToString(L.ToFixed(this))}toJson(){return L.ToJson(this)}toArray(){return L.ToArray(this)}static Add(t,n){return new L(t.x+n.x,t.y+n.y)}static AddXY(t,n,r){return new L(t.x+n,t.y+r)}static Sub(t,n){return new L(t.x-n.x,t.y-n.y)}static SubXY(t,n,r){return new L(t.x-n,t.y-r)}static AddScalar(t,n){return new L(t.x+n,t.y+n)}static SubScalar(t,n){return new L(t.x-n,t.y-n)}static Div(t,n){return new L(t.x/n,t.y/n)}static Mul(t,n){return new L(t.x*n,t.y*n)}static DivV(t,n){return new L(t.x/n.x,t.y/n.y)}static MulV(t,n){return new L(t.x*n.x,t.y*n.y)}static Neg(t){return new L(-t.x,-t.y)}static Per(t){return new L(t.y,-t.x)}static Dist2(t,n){return L.Sub(t,n).len2()}static Abs(t){return new L(Math.abs(t.x),Math.abs(t.y))}static Dist(t,n){return Math.hypot(t.y-n.y,t.x-n.x)}static Dpr(t,n){return t.x*n.x+t.y*n.y}static Cross(t,n){return new L(t.y*n.z-t.z*n.y,t.z*n.x-t.x*n.z)}static Cpr(t,n){return t.x*n.y-n.x*t.y}static Len2(t){return t.x*t.x+t.y*t.y}static Len(t){return Math.hypot(t.x,t.y)}static Pry(t,n){return L.Dpr(t,n)/L.Len(n)}static Uni(t){return L.Div(t,L.Len(t))}static Tan(t,n){return L.Uni(L.Sub(t,n))}static Min(t,n){return new L(Math.min(t.x,n.x),Math.min(t.y,n.y))}static Max(t,n){return new L(Math.max(t.x,n.x),Math.max(t.y,n.y))}static From({x:t,y:n,z:r=1}){return new L(t,n,r)}static FromArray(t){return new L(t[0],t[1])}static Rot(t,n=0){const r=Math.sin(n),s=Math.cos(n);return new L(t.x*s-t.y*r,t.x*r+t.y*s)}static RotWith(t,n,r){const s=t.x-n.x,o=t.y-n.y,a=Math.sin(r),i=Math.cos(r);return new L(n.x+(s*i-o*a),n.y+(s*a+o*i))}static NearestPointOnLineThroughPoint(t,n,r){return L.Mul(n,L.Sub(r,t).pry(n)).add(t)}static NearestPointOnLineSegment(t,n,r,s=!0){const o=L.Tan(n,t),a=L.Add(t,L.Mul(o,L.Sub(r,t).pry(o)));if(s){if(a.x<Math.min(t.x,n.x))return L.Cast(t.x<n.x?t:n);if(a.x>Math.max(t.x,n.x))return L.Cast(t.x>n.x?t:n);if(a.y<Math.min(t.y,n.y))return L.Cast(t.y<n.y?t:n);if(a.y>Math.max(t.y,n.y))return L.Cast(t.y>n.y?t:n)}return a}static DistanceToLineThroughPoint(t,n,r){return L.Dist(r,L.NearestPointOnLineThroughPoint(t,n,r))}static DistanceToLineSegment(t,n,r,s=!0){return L.Dist(r,L.NearestPointOnLineSegment(t,n,r,s))}static Snap(t,n=1){return new L(Math.round(t.x/n)*n,Math.round(t.y/n)*n)}static Cast(t){return t instanceof L?t:L.From(t)}static Slope(t,n){return t.x===n.y?NaN:(t.y-n.y)/(t.x-n.x)}static Angle(t,n){return Math.atan2(n.y-t.y,n.x-t.x)}static Lrp(t,n,r){return L.Sub(n,t).mul(r).add(t)}static Med(t,n){return new L((t.x+n.x)/2,(t.y+n.y)/2)}static Equals(t,n){return Math.abs(t.x-n.x)<1e-4&&Math.abs(t.y-n.y)<1e-4}static EqualsXY(t,n,r){return t.x===n&&t.y===r}static Clockwise(t,n,r){return(r.x-t.x)*(n.y-t.y)-(n.x-t.x)*(r.y-t.y)<0}static Rescale(t,n){const r=L.Len(t);return new L(n*t.x/r,n*t.y/r)}static ScaleWithOrigin(t,n,r){return L.Sub(t,r).mul(n).add(r)}static ToFixed(t,n=2){return new L(+t.x.toFixed(n),+t.y.toFixed(n),+t.z.toFixed(n))}static Nudge(t,n,r){return L.Add(t,L.Tan(n,t).mul(r))}static ToString(t){return`${t.x}, ${t.y}`}static ToAngle(t){let n=Math.atan2(t.y,t.x);return n<0&&(n+=Math.PI*2),n}static FromAngle(t,n=1){return new L(Math.cos(t)*n,Math.sin(t)*n)}static ToArray(t){return[t.x,t.y,t.z]}static ToJson(t){const{x:n,y:r,z:s}=t;return{x:n,y:r,z:s}}static Average(t){const n=t.length,r=new L(0,0);for(let s=0;s<n;s++)r.add(t[s]);return r.div(n)}static Clamp(t,n,r){return r===void 0?new L(Math.min(Math.max(t.x,n)),Math.min(Math.max(t.y,n))):new L(Math.min(Math.max(t.x,n),r),Math.min(Math.max(t.y,n),r))}static PointsBetween(t,n,r=6){const s=[];for(let o=0;o<r;o++){const a=l1.easeInQuad(o/(r-1)),i=L.Lrp(t,n,a);i.z=Math.min(1,.5+Math.abs(.5-Jye(a))*.65),s.push(i)}return s}static SnapToGrid(t,n=8){return new L(Math.round(t.x/n)*n,Math.round(t.y/n)*n)}}const Jye=e=>e<.5?2*e*e:-1+(4-2*e)*e,Vt=class Vt{constructor(t=0,n=0,r=0,s=0){m(this,"x",0);m(this,"y",0);m(this,"w",0);m(this,"h",0);this.x=t,this.y=n,this.w=r,this.h=s}get point(){return new L(this.x,this.y)}set point(t){this.x=t.x,this.y=t.y}get minX(){return this.x}set minX(t){this.x=t}get midX(){return this.x+this.w/2}get maxX(){return this.x+this.w}get minY(){return this.y}set minY(t){this.y=t}get midY(){return this.y+this.h/2}get maxY(){return this.y+this.h}get width(){return this.w}set width(t){this.w=t}get height(){return this.h}set height(t){this.h=t}get aspectRatio(){return this.width/this.height}get center(){return new L(this.midX,this.midY)}set center(t){this.minX=t.x-this.width/2,this.minY=t.y-this.height/2}get corners(){return[new L(this.minX,this.minY),new L(this.maxX,this.minY),new L(this.maxX,this.maxY),new L(this.minX,this.maxY)]}get snapPoints(){return[new L(this.minX,this.minY),new L(this.maxX,this.minY),new L(this.maxX,this.maxY),new L(this.minX,this.maxY),this.center]}get sides(){const{corners:t}=this;return[[t[0],t[1]],[t[1],t[2]],[t[2],t[3]],[t[3],t[0]]]}get size(){return new L(this.w,this.h)}toFixed(){return this.x=k0(this.x),this.y=k0(this.y),this.w=k0(this.w),this.h=k0(this.h),this}setTo(t){return this.x=t.x,this.y=t.y,this.w=t.w,this.h=t.h,this}set(t=0,n=0,r=0,s=0){return this.x=t,this.y=n,this.w=r,this.h=s,this}expand(t){const n=Math.min(this.minX,t.minX),r=Math.min(this.minY,t.minY),s=Math.max(this.maxX,t.maxX),o=Math.max(this.maxY,t.maxY);return this.x=n,this.y=r,this.w=s-n,this.h=o-r,this}expandBy(t){return this.x-=t,this.y-=t,this.w+=t*2,this.h+=t*2,this}scale(t){return this.x/=t,this.y/=t,this.w/=t,this.h/=t,this}clone(){const{x:t,y:n,w:r,h:s}=this;return new Vt(t,n,r,s)}translate(t){return this.x+=t.x,this.y+=t.y,this}snapToGrid(t){const n=Math.round(this.minX/t)*t,r=Math.round(this.minY/t)*t,s=Math.round(this.maxX/t)*t,o=Math.round(this.maxY/t)*t;this.minX=n,this.minY=r,this.width=Math.max(1,s-n),this.height=Math.max(1,o-r)}collides(t){return Vt.Collides(this,t)}contains(t){return Vt.Contains(this,t)}includes(t){return Vt.Includes(this,t)}containsPoint(t,n=0){return Vt.ContainsPoint(this,t,n)}getHandlePoint(t){switch(t){case"top_left":return new L(this.minX,this.minY);case"top_right":return new L(this.maxX,this.minY);case"bottom_left":return new L(this.minX,this.maxY);case"bottom_right":return new L(this.maxX,this.maxY);case"top":return new L(this.midX,this.minY);case"right":return new L(this.maxX,this.midY);case"bottom":return new L(this.midX,this.maxY);case"left":return new L(this.minX,this.midY)}}toJson(){return{x:this.minX,y:this.minY,w:this.w,h:this.h}}resize(t,n,r){const{minX:s,minY:o,maxX:a,maxY:i}=this;let{minX:l,minY:c,maxX:d,maxY:h}=this;switch(t){case"left":case"top_left":case"bottom_left":{l+=n;break}case"right":case"top_right":case"bottom_right":{d+=n;break}}switch(t){case"top":case"top_left":case"top_right":{c+=r;break}case"bottom":case"bottom_left":case"bottom_right":{h+=r;break}}const u=(d-l)/(a-s),p=(h-c)/(i-o),y=u<0,g=p<0;if(y){const x=d;d=l,l=x}if(g){const x=h;h=c,c=x}this.minX=l,this.minY=c,this.width=Math.abs(d-l),this.height=Math.abs(h-c)}union(t){const n=Math.min(this.minX,t.x),r=Math.min(this.minY,t.y),s=Math.max(this.maxX,t.w+t.x),o=Math.max(this.maxY,t.h+t.y);return this.x=n,this.y=r,this.width=s-n,this.height=o-r,this}static From(t){return new Vt(t.x,t.y,t.w,t.h)}static FromPoints(t){if(t.length===0)return new Vt;let n=1/0,r=1/0,s=-1/0,o=-1/0,a;for(let i=0,l=t.length;i<l;i++)a=t[i],n=Math.min(a.x,n),r=Math.min(a.y,r),s=Math.max(a.x,s),o=Math.max(a.y,o);return new Vt(n,r,s-n,o-r)}static Expand(t,n){const r=Math.min(n.minX,t.minX),s=Math.min(n.minY,t.minY),o=Math.max(n.maxX,t.maxX),a=Math.max(n.maxY,t.maxY);return new Vt(r,s,o-r,a-s)}static ExpandBy(t,n){return new Vt(t.minX-n,t.minY-n,t.width+n*2,t.height+n*2)}static Resize(t,n,r,s,o=!1){const{minX:a,minY:i,maxX:l,maxY:c}=t;let{minX:d,minY:h,maxX:u,maxY:p}=t;switch(n){case"left":case"top_left":case"bottom_left":{d+=r;break}case"right":case"top_right":case"bottom_right":{u+=r;break}}switch(n){case"top":case"top_left":case"top_right":{h+=s;break}case"bottom":case"bottom_left":case"bottom_right":{p+=s;break}}const y=(u-d)/(l-a),g=(p-h)/(c-i),x=y<0,w=g<0;if(o){const v=(l-a)/(c-i),k=Math.abs(u-d),C=Math.abs(p-h),_=k*(g<0?1:-1)*(1/v),E=C*(y<0?1:-1)*v,I=v<k/C;switch(n){case"top_left":{I?h=p+_:d=u+E;break}case"top_right":{I?h=p+_:u=d-E;break}case"bottom_right":{I?p=h-_:u=d-E;break}case"bottom_left":{I?p=h-_:d=u+E;break}case"bottom":case"top":{const z=(d+u)/2,A=C*v;d=z-A/2,u=z+A/2;break}case"left":case"right":{const z=(h+p)/2,A=k/v;h=z-A/2,p=z+A/2;break}}}if(x){const v=u;u=d,d=v}if(w){const v=p;p=h,h=v}const S=new Vt(d,h,Math.abs(u-d),Math.abs(p-h));return{box:S,scaleX:+(S.width/t.width*(y>0?1:-1)).toFixed(5),scaleY:+(S.height/t.height*(g>0?1:-1)).toFixed(5)}}equals(t){return Vt.Equals(this,t)}static Equals(t,n){return n.x===t.x&&n.y===t.y&&n.w===t.w&&n.h===t.h}zeroFix(){return this.w=Math.max(1,this.w),this.h=Math.max(1,this.h),this}static ZeroFix(t){return new Vt(t.x,t.y,Math.max(1,t.w),Math.max(1,t.h))}};m(Vt,"Collides",(t,n)=>!(t.maxX<n.minX||t.minX>n.maxX||t.maxY<n.minY||t.minY>n.maxY)),m(Vt,"Contains",(t,n)=>t.minX<n.minX&&t.minY<n.minY&&t.maxY>n.maxY&&t.maxX>n.maxX),m(Vt,"Includes",(t,n)=>Vt.Collides(t,n)||Vt.Contains(t,n)),m(Vt,"ContainsPoint",(t,n,r=0)=>!(n.x<t.minX-r||n.y<t.minY-r||n.x>t.maxX+r||n.y>t.maxY+r)),m(Vt,"Common",t=>{let n=1/0,r=1/0,s=-1/0,o=-1/0;for(let a=0;a<t.length;a++){const i=t[a];n=Math.min(n,i.minX),r=Math.min(r,i.minY),s=Math.max(s,i.maxX),o=Math.max(o,i.maxY)}return new Vt(n,r,s-n,o-r)}),m(Vt,"Sides",(t,n=0)=>{const{corners:r}=t;return[[r[0],r[1]],[r[1],r[2]],[r[2],r[3]],[r[3],r[0]]]});let Qe=Vt;function e1e(e){switch(e){case"top":return"bottom";case"bottom":return"top";case"top_left":return"bottom_left";case"top_right":return"bottom_right";case"bottom_left":return"top_left";case"bottom_right":return"top_right";default:return e}}function t1e(e){switch(e){case"left":return"right";case"right":return"left";case"top_left":return"top_right";case"top_right":return"top_left";case"bottom_left":return"bottom_right";case"bottom_right":return"bottom_left";default:return e}}function n1e(e){return e==="top_left"||e==="top_right"||e==="bottom_right"||e==="bottom_left"}function md(e){return`${nn(e.x)},${nn(e.y)} `}function yd(e,t){return`${nn((e.x+t.x)/2)},${nn((e.y+t.y)/2)} `}const Hh=Math.PI,d_=Hh/2,ua=Hh*2;function $r(e,t,n){return Math.max(t,typeof n<"u"?Math.min(e,n):e)}function k0(e,t=1e10){return e?Math.round(e*t)/t:0}function VR(e,t,n=1e-6){return Math.abs(e-t)<=n}function ES(e){return e=e%ua,e<0?e=e+ua:e===0&&(e=0),e}function U6(e,t){return e=ES(e),t=ES(t),e>t&&(t+=ua),t-e}function r1e(e,t){return ua-U6(e,t)}function h_(e){return(ua+e)%ua}function s1e(e,t){return e===t||VR(e%(Math.PI/2)-t%(Math.PI/2),0)}function o1e(e){return e*180/Hh}function Ru(e,t,n,r){return e<r&&n<t}function co(e,t,n,r){const s=Math.max(e,n),o=Math.min(t,r);return s<=o?[s,o]:null}function u_(e,t,n){return(t.x-e.x)*(n.y-e.y)-(n.x-e.x)*(t.y-e.y)}function Ph(e,t){let n=0,r,s;for(let o=0;o<t.length;o++)r=t[o],s=t[(o+1)%t.length],r.y<=e.y?s.y>e.y&&u_(r,s,e)>0&&(n+=1):s.y<=e.y&&u_(r,s,e)<0&&(n-=1);return n!==0}function nn(e){return+e.toFixed(4)}const p_=e=>Math.abs(e)<Number.MAX_SAFE_INTEGER,C0=({brush:e,color:t,opacity:n,className:r})=>{const s=b.useRef(null);sg(s,e.x,e.y);const o=nn(Math.max(1,e.w)),a=nn(Math.max(1,e.h));return f.jsx("svg",{className:"tl-overlays__item",ref:s,children:t?f.jsxs("g",{className:"tl-brush",opacity:n,children:[f.jsx("rect",{width:o,height:a,fill:t,opacity:.75}),f.jsx("rect",{width:o,height:a,fill:"none",stroke:t,opacity:.1})]}):f.jsx("rect",{className:`tl-brush tl-brush__default ${r}`,width:o,height:a})})},a1e=({className:e,zoom:t,point:n,color:r,viewport:s,opacity:o=1})=>{const a=b.useRef(null);return sg(a,$r(n.x,s.minX+5/t,s.maxX-5/t),$r(n.y,s.minY+5/t,s.maxY-5/t),1/t,L.Angle(s.center,n)),f.jsxs("svg",{ref:a,className:me("tl-overlays__item",e),children:[f.jsx("use",{href:"#cursor_hint",color:r,strokeWidth:3,stroke:"var(--color-background)"}),f.jsx("use",{href:"#cursor_hint",color:r,opacity:o})]})},i1e=({className:e,zoom:t,point:n,color:r,name:s,chatMessage:o})=>{const a=b.useRef(null);return sg(a,n==null?void 0:n.x,n==null?void 0:n.y,1/t),n?f.jsxs("div",{ref:a,className:me("tl-overlays__item",e),children:[f.jsx("svg",{className:"tl-cursor",children:f.jsx("use",{href:"#cursor",color:r})}),o?f.jsxs(f.Fragment,{children:[s&&f.jsx("div",{className:"tl-nametag-title",style:{color:r},children:s}),f.jsx("div",{className:"tl-nametag-chat",style:{backgroundColor:r},children:o})]}):s&&f.jsx("div",{className:"tl-nametag",style:{backgroundColor:r},children:s})]}):null},f_=b.memo(i1e),XR={openWindow:(e,t)=>window.open(e,t,"noopener noreferrer"),refreshPage:()=>window.location.reload(),hardReset:async()=>{var e;return await((e=window.__tldraw__hardReset)==null?void 0:e.call(window))}};function l1e(){XR.hardReset()}function c1e(){XR.refreshPage()}const d1e="https://github.com/tldraw/tldraw/issues/new";function h1e(){}const YR=({error:e,editor:t})=>{const n=b.useRef(null),[r,s]=b.useState(!1),[o,a]=b.useState(!1),[i,l]=b.useState(!1),c=e instanceof Error?e.message:String(e),d=e instanceof Error?e.stack:null,h=qe("isDarkMode",()=>{try{if(t)return t.user.getIsDarkMode()}catch{}return null},[t]),[u,p]=b.useState(null);b.useLayoutEffect(()=>{var k;h!==null&&p(h);let S=(k=n.current)==null?void 0:k.parentElement,v=!1;for(;S;){if(S.classList.contains("tl-theme__dark")||S.classList.contains("tl-theme__light")){v=!0;break}S=S.parentElement}if(v){p(null);return}p(window.matchMedia("(prefers-color-scheme: dark)").matches)},[h]),b.useEffect(()=>{if(o){const S=setTimeout(()=>{a(!1)},2e3);return()=>clearTimeout(S)}},[o]);const y=()=>{const S=document.createElement("textarea");S.value=d??c,document.body.appendChild(S),S.select(),document.execCommand("copy"),S.remove(),a(!0)},g=()=>{c1e()},x=async()=>{l1e()},w=new URL(d1e);return w.searchParams.set("title",c),w.searchParams.set("labels","bug"),w.searchParams.set("body",`Hey, I ran into an error while using tldraw:

\`\`\`js
${d??c}
\`\`\`

My browser: ${navigator.userAgent}`),f.jsxs("div",{ref:n,className:me("tl-container tl-error-boundary",u===null?"":u?"tl-theme__dark":"tl-theme__light"),children:[f.jsx("div",{className:"tl-error-boundary__overlay"}),t&&f.jsx(UR,{onError:h1e,fallback:()=>null,children:f.jsx(W6.Provider,{value:t,children:f.jsx("div",{className:"tl-overlay tl-error-boundary__canvas",children:f.jsx(e$,{})})})}),f.jsx("div",{className:me("tl-modal","tl-error-boundary__content",{"tl-error-boundary__content__expanded":r&&!i}),children:i?f.jsxs(f.Fragment,{children:[f.jsx("h2",{children:"Are you sure?"}),f.jsx("p",{children:"Resetting your data will delete your drawing and cannot be undone."}),f.jsxs("div",{className:"tl-error-boundary__content__actions",children:[f.jsx("button",{onClick:()=>l(!1),children:"Cancel"}),f.jsx("button",{className:"tl-error-boundary__reset",onClick:x,children:"Reset data"})]})]}):f.jsxs(f.Fragment,{children:[f.jsx("h2",{children:"Something's gone wrong."}),f.jsxs("p",{children:["Sorry, we encountered an error. Please refresh the page to continue. If you keep seeing this error, you can ",f.jsx("a",{href:w.toString(),children:"create a GitHub issue"})," or"," ",f.jsx("a",{href:"https://discord.gg/Cq6cPsTfNy",children:"ask for help on Discord"}),"."]}),r&&f.jsxs("div",{className:"tl-error-boundary__content__error",children:[f.jsx("pre",{children:f.jsx("code",{children:d??c})}),f.jsx("button",{onClick:y,children:o?"Copied!":"Copy"})]}),f.jsxs("div",{className:"tl-error-boundary__content__actions",children:[f.jsx("button",{onClick:()=>s(!r),children:r?"Hide details":"Show details"}),f.jsxs("div",{className:"tl-error-boundary__content__actions__group",children:[f.jsx("button",{className:"tl-error-boundary__reset",onClick:()=>l(!0),children:"Reset data"}),f.jsx("button",{className:"tl-error-boundary__refresh",onClick:g,children:"Refresh Page"})]})]})]})})]})},va=2e3,g_=40,u1e=320,xd=[.1,.25,.5,1,2,4,8],$u=.1,Ou=8,p1e={isLocked:!1,wheelBehavior:"pan",panSpeed:1,zoomSpeed:1,zoomSteps:[.1,.25,.5,1,2,4,8]},f1e=.5,g1e=.1,m1e=.2,y1e=.005,x1e=.05,w1e=450,S1e=200,IS=6,PS=4,b1e=32,v1e={duration:0,easing:l1.easeInOutCubic},$5=.09,m_=[{min:-1,mid:.15,step:64},{min:.05,mid:.375,step:16},{min:.15,mid:1,step:4},{min:.7,mid:2.5,step:1}],k1e=6e4,HR=3e3,C1e=1200,y_={CAMERA_MOVE:-10},_1e=64,E1e=620,I1e=8,P1e=({x:e,y:t,z:n,size:r})=>f.jsxs("svg",{className:"tl-grid",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("defs",{children:m_.map(({min:s,mid:o,step:a},i)=>{const l=a*r*n,c=.5+e*n,d=.5+t*n,h=c>0?c%l:l+c%l,u=d>0?d%l:l+d%l,p=n<o?a1(n,[s,o],[0,1]):1;return f.jsx("pattern",{id:`grid-${a}`,width:l,height:l,patternUnits:"userSpaceOnUse",children:f.jsx("circle",{className:"tl-grid-dot",cx:h,cy:u,r:1,opacity:p})},`grid-pattern-${i}`)})}),m_.map(({step:s},o)=>f.jsx("rect",{width:"100%",height:"100%",fill:`url(#grid-${s})`},`grid-rect-${o}`))]}),z1e=({handle:e,isCoarse:t,className:n,zoom:r})=>{const s=(t?20:12)/r,o=(e.type==="create"&&t?3:4)/r;return f.jsxs("g",{className:me("tl-handle",{"tl-handle__virtual":e.type==="virtual","tl-handle__create":e.type==="create"},n),children:[f.jsx("circle",{className:"tl-handle__bg",r:s}),f.jsx("circle",{className:"tl-handle__fg",r:o})]})},A1e=({children:e})=>f.jsx("svg",{className:"tl-user-handles tl-overlays__item",children:e}),N1e=({shapeId:e})=>f.jsx(v2,{className:"tl-user-indicator__hovered",id:e});function T1e(e,t=!0){const n=e.length;if(n<2)return"";let r=e[0],s=e[1];if(n===2)return`M${md(r)}L${md(s)}`;let o="";for(let a=2,i=n-1;a<i;a++)r=e[a],s=e[a+1],o+=yd(r,s);return t?`M${yd(e[0],e[1])}Q${md(e[1])}${yd(e[1],e[2])}T${o}${yd(e[n-1],e[0])}${yd(e[0],e[1])}Z`:`M${md(e[0])}Q${md(e[1])}${yd(e[1],e[2])}${e.length>3?"T":""}${o}L${md(e[n-1])}`}const x_=({scribble:e,zoom:t,color:n,opacity:r,className:s})=>e.points.length?f.jsx("svg",{className:s&&me("tl-overlays__item",s),children:f.jsx("path",{className:"tl-scribble",d:T1e(e.points,!1),stroke:n??`var(--color-${e.color})`,fill:"none",strokeWidth:8/t,opacity:r??e.opacity})}):null,L1e=({bounds:e,rotation:t})=>{const n=b.useRef(null);return sg(n,e.x,e.y,1,t),b.useLayoutEffect(()=>{const r=n.current;r&&(r.style.width=nn(Math.max(1,e.width))+"px",r.style.height=nn(Math.max(1,e.height))+"px")},[e.width,e.height]),f.jsx("div",{ref:n,className:"tl-selection__bg",draggable:!1})},M1e=({bounds:e,rotation:t})=>{const n=De(),r=b.useRef(null),s=qe("only selected shape",()=>n.getOnlySelectedShape(),[n]),o=s?n.getShapeUtil(s).expandSelectionOutlinePx(s):0;return sg(r,e==null?void 0:e.x,e==null?void 0:e.y,1,t,{x:-o,y:-o}),e=e.clone().expandBy(o).zeroFix(),f.jsx("svg",{ref:r,className:"tl-overlays__item tl-selection__fg","data-testid":"selection-foreground",children:f.jsx("rect",{className:me("tl-selection__fg__outline"),width:nn(e.width),height:nn(e.height)})})},j1e=()=>f.jsx("div",{className:"tl-shape-error-boundary"}),R1e=()=>f.jsx("circle",{cx:4,cy:4,r:8,strokeWidth:"1",stroke:"red"});function $1e({points:e,zoom:t}){const n=2.5/t,r=e.reduce((u,p)=>Math.min(u,p.x),1/0),s=e.reduce((u,p)=>Math.max(u,p.x),-1/0),o=e.reduce((u,p)=>Math.min(u,p.y),1/0),a=e.reduce((u,p)=>Math.max(u,p.y),-1/0),i=e.some(u=>u.x===r&&u.y===o);let l,c,d,h;return i?(l=r,c=o,d=s,h=a):(l=r,c=a,d=s,h=o),f.jsxs("g",{className:"tl-snap-line",children:[f.jsx("line",{x1:l,y1:c,x2:d,y2:h}),e.map((u,p)=>f.jsx("g",{transform:`translate(${u.x},${u.y})`,children:f.jsx("path",{className:"tl-snap-point",d:`M ${-n},${-n} L ${n},${n} M ${-n},${n} L ${n},${-n}`})},p))]})}function O1e({gaps:e,direction:t,zoom:n}){const r=3.5/n;let s=[-1/0,1/0],o=null;const a=t==="horizontal";for(const l of e){if(o=co(s[0],s[1],a?l.startEdge[0].y:l.startEdge[0].x,a?l.startEdge[1].y:l.startEdge[1].x),o)s=o;else continue;if(o=co(s[0],s[1],a?l.endEdge[0].y:l.endEdge[0].x,a?l.endEdge[1].y:l.endEdge[1].x),o)s=o;else continue}if(s===null)return null;const i=(s[0]+s[1])/2;return f.jsx("g",{className:"tl-snap-line",children:e.map(({startEdge:l,endEdge:c},d)=>f.jsx(b.Fragment,{children:a?f.jsxs(f.Fragment,{children:[f.jsx("line",{x1:l[0].x,y1:i-2*r,x2:l[1].x,y2:i+2*r}),f.jsx("line",{x1:c[0].x,y1:i-2*r,x2:c[1].x,y2:i+2*r}),f.jsx("line",{x1:l[0].x,y1:i,x2:c[0].x,y2:i}),f.jsx("line",{x1:(l[0].x+c[0].x)/2,y1:i-r,x2:(l[0].x+c[0].x)/2,y2:i+r})]}):f.jsxs(f.Fragment,{children:[f.jsx("line",{x1:i-2*r,y1:l[0].y,x2:i+2*r,y2:l[1].y}),f.jsx("line",{x1:i-2*r,y1:c[0].y,x2:i+2*r,y2:c[1].y}),f.jsx("line",{x1:i,y1:l[0].y,x2:i,y2:c[0].y}),f.jsx("line",{x1:i-r,y1:(l[0].y+c[0].y)/2,x2:i+r,y2:(l[0].y+c[0].y)/2})]})},d))})}const D1e=({className:e,line:t,zoom:n})=>f.jsx("svg",{className:me("tl-overlays__item",e),children:t.type==="points"?f.jsx($1e,{...t,zoom:n}):t.type==="gaps"?f.jsx(O1e,{...t,zoom:n}):null}),q1e=()=>f.jsx("svg",{width:16,height:16,viewBox:"0 0 16 16",children:f.jsxs("g",{strokeWidth:2,fill:"none",fillRule:"evenodd",children:[f.jsx("circle",{strokeOpacity:.25,cx:8,cy:8,r:7,stroke:"var(--color-text-1)"}),f.jsx("path",{strokeLinecap:"round",d:"M15 8c0-4.5-4.5-7-7-7",stroke:"var(--color-text-1)",children:f.jsx("animateTransform",{attributeName:"transform",type:"rotate",from:"0 8 8",to:"360 8 8",dur:"1s",repeatCount:"indefinite"})})]})}),B1e=()=>null,GR=b.createContext({});function F1e({overrides:e,children:t}){return f.jsx(GR.Provider,{value:b.useMemo(()=>({Background:Qye,SvgDefs:B1e,Brush:C0,ZoomBrush:C0,ScreenshotBrush:C0,CollaboratorBrush:C0,Cursor:f_,CollaboratorCursor:f_,CollaboratorHint:a1e,CollaboratorShapeIndicator:v2,Grid:P1e,Scribble:x_,SnapLine:D1e,Handles:A1e,Handle:z1e,CollaboratorScribble:x_,ErrorFallback:YR,ShapeErrorFallback:j1e,ShapeIndicatorErrorFallback:R1e,Spinner:q1e,SelectionBackground:L1e,SelectionForeground:M1e,HoveredShapeIndicator:N1e,OnTheCanvas:null,InFrontOfTheCanvas:null,...e}),[e]),children:t})}function Ln(){return b.useContext(GR)}const K1e=["textarea","input"];function W1e(e){const t=De();b.useEffect(()=>{const n=e.current;if(!n)return;const r=s=>{var o;if(s instanceof PointerEvent&&s.pointerType==="pen"){s.isKilled=!0;const{target:a}=s;if(K1e.includes((o=a.tagName)==null?void 0:o.toLocaleLowerCase())||t.isIn("select.editing_shape"))return;_n(s)}};return n.addEventListener("touchstart",r),n.addEventListener("touchend",r),()=>{n.removeEventListener("touchstart",r),n.removeEventListener("touchend",r)}},[t,e])}const w_=10,U1e=/Mac|iPod|iPhone|iPad/.test(typeof window>"u"?"node":window.navigator.platform);function V1e(e){let{deltaY:t,deltaX:n}=e,r=0;if(e.ctrlKey||e.altKey||e.metaKey){const s=Math.sign(e.deltaY),o=Math.abs(e.deltaY);let a=t;o>w_&&(a=w_*s),r=a/100}else e.shiftKey&&!U1e&&(n=t,t=0);return{x:-n,y:-t,z:-r}}const X1e=MI([TI,NI]);let wd;const Y1e=e=>wd===void 0?(wd=e,!1):e-wd>120&&e-wd<160?(wd=e,!0):(wd=e,!1);function H1e(e){const t=De(),n=b.useMemo(()=>{let r="not sure";const s=({event:g})=>{if(!t.getInstanceState().isFocused||(r="not sure",Y1e(Date.now())))return;const x=t.getEditingShapeId();if(x){const k=t.getShape(x);if(k&&t.getShapeUtil(k).canScroll(k)){const _=t.getShapePageBounds(x);if(_!=null&&_.containsPoint(t.inputs.currentPagePoint))return}}_n(g);const w=V1e(g);if(w.x===0&&w.y===0)return;const S=t.getContainer().getBoundingClientRect(),v={type:"wheel",name:"wheel",delta:w,point:new L(g.clientX,g.clientY).sub({x:S.left,y:S.top}),shiftKey:g.shiftKey,altKey:g.altKey,ctrlKey:g.metaKey||g.ctrlKey};t.dispatch(v)};let o=1,a=1,i=1,l=0;const c=new L,d=new L,h=g=>{const x=e.current;r="not sure";const{event:w,origin:S,da:v}=g;w instanceof WheelEvent||(w.target===x||x!=null&&x.contains(w.target))&&(d.x=S[0],d.y=S[1],c.x=S[0],c.y=S[1],o=v[0],a=t.getZoomLevel(),t.dispatch({type:"pinch",name:"pinch_start",point:{x:S[0],y:S[1],z:t.getZoomLevel()},delta:{x:0,y:0},shiftKey:w.shiftKey,altKey:w.altKey,ctrlKey:w.metaKey||w.ctrlKey}))},u=g=>{if(g&&(r="zooming"),r==="zooming")return;const x=Math.abs(l-o),w=L.Dist(c,d);switch(r){case"not sure":{x>24?r="zooming":w>16&&(r="panning");break}case"panning":{x>64&&(r="zooming");break}}};return{onWheel:s,onPinchStart:h,onPinchEnd:g=>{const x=e.current,{event:w,origin:S,offset:v}=g;if(w instanceof WheelEvent||!(w.target===x||x!=null&&x.contains(w.target)))return;const k=v[0];r="not sure",requestAnimationFrame(()=>{t.dispatch({type:"pinch",name:"pinch_end",point:{x:S[0],y:S[1],z:k},delta:{x:S[0],y:S[1]},shiftKey:w.shiftKey,altKey:w.altKey,ctrlKey:w.metaKey||w.ctrlKey})})},onPinch:g=>{const x=e.current,{event:w,origin:S,offset:v,da:k}=g;if(w instanceof WheelEvent||!(w.target===x||x!=null&&x.contains(w.target)))return;const C=g.type==="gesturechange"||g.type==="gestureend";l=k[0];const _=S[0]-d.x,E=S[1]-d.y;switch(d.x=S[0],d.y=S[1],u(C),r){case"zooming":{i=v[0],t.dispatch({type:"pinch",name:"pinch",point:{x:S[0],y:S[1],z:i},delta:{x:_,y:E},shiftKey:w.shiftKey,altKey:w.altKey,ctrlKey:w.metaKey||w.ctrlKey});break}case"panning":{t.dispatch({type:"pinch",name:"pinch",point:{x:S[0],y:S[1],z:a},delta:{x:_,y:E},shiftKey:w.shiftKey,altKey:w.altKey,ctrlKey:w.metaKey||w.ctrlKey});break}}}}},[t,e]);X1e(n,{target:e,eventOptions:{passive:!1},pinch:{from:()=>[t.getZoomLevel(),0],scaleBounds:()=>({from:t.getZoomLevel(),max:8,min:.05})}})}function O5(e,t,n){const r=e.getShape(t),s=e.getShapeHandles(r);return{shape:r,handle:s.find(o=>o.id===n)}}function G1e(e,t){const n=De();return b.useMemo(()=>{const r=l=>{if(l.isKilled)return;const c=_S(l.currentTarget);BR(c,l);const{shape:d,handle:h}=O5(n,e,t);h&&n.dispatch({type:"pointer",target:"handle",handle:h,shape:d,name:"pointer_down",...sc(l)})};let s,o;return{onPointerDown:r,onPointerMove:l=>{if(l.isKilled||l.clientX===s&&l.clientY===o)return;s=l.clientX,o=l.clientY;const{shape:c,handle:d}=O5(n,e,t);d&&n.dispatch({type:"pointer",target:"handle",handle:d,shape:c,name:"pointer_move",...sc(l)})},onPointerUp:l=>{if(l.isKilled)return;const c=_S(l.currentTarget);FR(c,l);const{shape:d,handle:h}=O5(n,e,t);h&&n.dispatch({type:"pointer",target:"handle",handle:h,shape:d,name:"pointer_up",...sc(l)})}}},[n,e,t])}function Z1e(){const e=De();b.useLayoutEffect(()=>{const t=$I(()=>{e.updateViewportScreenBounds()},200,{trailing:!0});e.updateViewportScreenBounds();const n=setInterval(t,1e3);return window.addEventListener("resize",t),window.addEventListener("scroll",t),()=>{clearInterval(n),window.removeEventListener("resize",t),window.removeEventListener("scroll",t)}},[e])}const it=class it{constructor(t,n,r,s,o,a){m(this,"a",1);m(this,"b",0);m(this,"c",0);m(this,"d",1);m(this,"e",0);m(this,"f",0);this.a=t,this.b=n,this.c=r,this.d=s,this.e=o,this.f=a}equals(t){return this.a===t.a&&this.b===t.b&&this.c===t.c&&this.d===t.d&&this.e===t.e&&this.f===t.f}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0,this}multiply(t){const n=t,{a:r,b:s,c:o,d:a,e:i,f:l}=this;return this.a=r*n.a+o*n.b,this.c=r*n.c+o*n.d,this.e=r*n.e+o*n.f+i,this.b=s*n.a+a*n.b,this.d=s*n.c+a*n.d,this.f=s*n.e+a*n.f+l,this}rotate(t,n,r){return t===0?this:n===void 0?this.multiply(it.Rotate(t)):this.translate(n,r).multiply(it.Rotate(t)).translate(-n,-r)}translate(t,n){return this.multiply(it.Translate(t,n))}scale(t,n){return this.multiply(it.Scale(t,n))}invert(){const{a:t,b:n,c:r,d:s,e:o,f:a}=this,i=t*s-n*r;return this.a=s/i,this.b=n/-i,this.c=r/-i,this.d=t/i,this.e=(s*o-r*a)/-i,this.f=(n*o-t*a)/i,this}applyToPoint(t){return it.applyToPoint(this,t)}applyToPoints(t){return it.applyToPoints(this,t)}rotation(){return it.Rotation(this)}point(){return it.Point(this)}decomposed(){return it.Decompose(this)}toCssString(){return it.toCssString(this)}setTo(t){return Object.assign(this,t),this}decompose(){return it.Decompose(this)}clone(){return new it(this.a,this.b,this.c,this.d,this.e,this.f)}static Identity(){return new it(1,0,0,1,0,0)}static Translate(t,n){return new it(1,0,0,1,t,n)}static Rotate(t,n,r){if(t===0)return it.Identity();const s=Math.cos(t),o=Math.sin(t),a=new it(s,o,-o,s,0,0);return n===void 0?a:it.Compose(it.Translate(n,r),a,it.Translate(-n,-r))}static Multiply(t,n){return{a:t.a*n.a+t.c*n.b,c:t.a*n.c+t.c*n.d,e:t.a*n.e+t.c*n.f+t.e,b:t.b*n.a+t.d*n.b,d:t.b*n.c+t.d*n.d,f:t.b*n.e+t.d*n.f+t.f}}static Inverse(t){const n=t.a*t.d-t.b*t.c;return{a:t.d/n,b:t.b/-n,c:t.c/-n,d:t.a/n,e:(t.d*t.e-t.c*t.f)/-n,f:(t.b*t.e-t.a*t.f)/n}}static Absolute(t){const n=t.a*t.d-t.b*t.c;return{a:t.d/n,b:t.b/-n,c:t.c/-n,d:t.a/n,e:(t.d*t.e-t.c*t.f)/n,f:(t.b*t.e-t.a*t.f)/-n}}static Compose(...t){const n=it.Identity();for(let r=0,s=t.length;r<s;r++)n.multiply(t[r]);return n}static Point(t){return new L(t.e,t.f)}static Rotation(t){let n;if(t.a!==0||t.c!==0){const r=Math.hypot(t.a,t.c);n=Math.acos(t.a/r)*(t.c>0?-1:1)}else if(t.b!==0||t.d!==0){const r=Math.hypot(t.b,t.d);n=d_+Math.acos(t.b/r)*(t.d>0?-1:1)}else n=0;return h_(n)}static Decompose(t){let n,r,s;if(t.a!==0||t.c!==0){const o=Math.hypot(t.a,t.c);n=o,r=(t.a*t.d-t.b*t.c)/o,s=Math.acos(t.a/o)*(t.c>0?-1:1)}else if(t.b!==0||t.d!==0){const o=Math.hypot(t.b,t.d);n=(t.a*t.d-t.b*t.c)/o,r=o,s=d_+Math.acos(t.b/o)*(t.d>0?-1:1)}else n=0,r=0,s=0;return{x:t.e,y:t.f,scaleX:n,scaleY:r,rotation:h_(s)}}static Smooth(t,n=1e10){return t.a=Math.round(t.a*n)/n,t.b=Math.round(t.b*n)/n,t.c=Math.round(t.c*n)/n,t.d=Math.round(t.d*n)/n,t.e=Math.round(t.e*n)/n,t.f=Math.round(t.f*n)/n,t}static toCssString(t){return`matrix(${nn(t.a)}, ${nn(t.b)}, ${nn(t.c)}, ${nn(t.d)}, ${nn(t.e)}, ${nn(t.f)})`}static applyToPoint(t,n){return new L(t.a*n.x+t.c*n.y+t.e,t.b*n.x+t.d*n.y+t.f,n.z)}static applyToXY(t,n,r){return[t.a*n+t.c*r+t.e,t.b*n+t.d*r+t.f]}static applyToPoints(t,n){return n.map(r=>new L(t.a*r.x+t.c*r.y+t.e,t.b*r.x+t.d*r.y+t.f,r.z))}static applyToBounds(t,n){return new Qe(t.e+n.minX,t.f+n.minY,n.width,n.height)}static From(t){return new it(t.a,t.b,t.c,t.d,t.e,t.f)}static Cast(t){return t instanceof it?t:it.From(t)}};m(it,"Scale",(t,n,r,s)=>{const o=new it(t,0,0,0,n,0);return r===void 0?o:it.Compose(it.Translate(r,s),o,it.Translate(-r,-s))});let _e=it;function Q1e(e=!0){const[t,n]=b.useState(0),r=De();b.useEffect(()=>{if(!e)return;const s=()=>n(o=>o+1);return r.on("tick",s),()=>{r.off("tick",s)}},[r,e])}const J1e=oi(function({showStroke:t=!0,showVertices:n=!0,showClosestPointOnOutline:r=!0}){const s=De();Q1e(r);const o=s.getZoomLevel(),a=s.getRenderingShapes(),{inputs:{currentPagePoint:i}}=s;return f.jsx("svg",{style:{position:"absolute",pointerEvents:"none",zIndex:999999999,top:0,left:0,overflow:"visible"},children:a.map(l=>{const c=s.getShape(l.id);if(c.type==="group")return null;const d=s.getShapeGeometry(c),h=s.getShapePageTransform(c),u=s.getPointInShapeSpace(c,i),p=d.nearestPoint(u),y=d.distanceToPoint(u,!0),g=Math.abs(y)*o,x=y<0,{vertices:w}=d;return f.jsxs("g",{transform:h.toCssString(),strokeLinecap:"round",strokeLinejoin:"round",children:[t&&f.jsx("path",{stroke:"red",strokeWidth:"2",fill:"none",opacity:"1",d:d.toSimpleSvgPath()}),n&&w.map((S,v)=>f.jsx("circle",{cx:S.x,cy:S.y,r:"2",fill:`hsl(${a1(v,[0,w.length-1],[120,200])}, 100%, 50%)`,stroke:"black",strokeWidth:"1"},`v${v}`)),r&&g<150&&f.jsx("line",{x1:p.x,y1:p.y,x2:u.x,y2:u.y,opacity:1-g/150,stroke:x?"goldenrod":"dodgerblue",strokeWidth:"2"})]},l.id+"_outline")})})});function e2e(e){return FI(e)}function t2e(){const e=De(),t=b.useMemo(()=>e.store.query.records("instance_presence",()=>({userId:{neq:e.user.getId()}})),[e]),n=b0e("userIds",()=>e2e(t.get().map(r=>r.userId)).sort(),{isEqual:(r,s)=>{var o;return r.join(",")===((o=s.join)==null?void 0:o.call(s,","))}},[t]);return qe(n)}function n2e(e){const t=De(),n=b.useMemo(()=>t.store.query.records("instance_presence",()=>({userId:{eq:e}})),[t,e]);return qe(`latestPresence:${e}`,()=>n.get().slice().sort((s,o)=>o.lastActivityTimestamp-s.lastActivityTimestamp)[0],[])??null}const r2e=oi(function(){const t=t2e();return f.jsx(f.Fragment,{children:t.map(n=>f.jsx(s2e,{collaboratorId:n},n))})}),s2e=oi(function({collaboratorId:t}){const n=De(),r=n2e(t),s=a2e(r);if(!(r&&r.currentPageId===n.getCurrentPageId()))return null;switch(s){case"inactive":{const{followingUserId:o,highlightedUserIds:a}=n.getInstanceState();if(!(o===r.userId||a.includes(r.userId)))return null;break}case"idle":{const{highlightedUserIds:o}=n.getInstanceState();if(r.followingUserId===n.user.getId()&&!(r.chatMessage||o.includes(r.userId)))return null;break}}return f.jsx(o2e,{latestPresence:r})}),o2e=oi(function({latestPresence:t}){const n=De(),{CollaboratorBrush:r,CollaboratorScribble:s,CollaboratorCursor:o,CollaboratorHint:a,CollaboratorShapeIndicator:i}=Ln(),l=n.getZoomLevel(),c=n.getViewportPageBounds(),{userId:d,chatMessage:h,brush:u,scribbles:p,selectedShapeIds:y,userName:g,cursor:x,color:w}=t,S=!(x.x<c.minX-12/l||x.y<c.minY-16/l||x.x>c.maxX-12/l||x.y>c.maxY-16/l);return f.jsxs(f.Fragment,{children:[u&&r?f.jsx(r,{className:"tl-collaborator__brush",brush:u,color:w,opacity:.1},d+"_brush"):null,S&&o?f.jsx(o,{className:"tl-collaborator__cursor",point:x,color:w,zoom:l,name:g!=="New User"?g:null,chatMessage:h},d+"_cursor"):a?f.jsx(a,{className:"tl-collaborator__cursor-hint",point:x,color:w,zoom:l,viewport:c},d+"_cursor_hint"):null,s&&p.length?f.jsx(f.Fragment,{children:p.map(v=>f.jsx(s,{className:"tl-collaborator__scribble",scribble:v,color:w,zoom:l,opacity:v.color==="laser"?.5:.1},d+"_scribble_"+v.id))}):null,i&&y.map(v=>f.jsx(i,{className:"tl-collaborator__shape-indicator",id:v,color:w,opacity:.5},d+"_"+v))]})});function S_(e){return e>k1e?"inactive":e>HR?"idle":"active"}function a2e(e){const t=b.useRef((e==null?void 0:e.lastActivityTimestamp)??-1),[n,r]=b.useState(()=>S_(Date.now()-t.current));return b.useEffect(()=>{const s=setInterval(()=>{r(S_(Date.now()-t.current))},C1e);return()=>clearInterval(s)},[]),e&&(t.current=e.lastActivityTimestamp),n}function ZR(e,t){return t===0?e:ZR(t,e%t)}function QR(e){const t=e.toString().split(".")[1];if(!t)return 1;const n=Math.pow(10,t.length),r=parseInt(t,10);return n/ZR(r,n)}function i2e(){const e=De(),t=wl();b.useEffect(()=>ng("useDPRMultiple",()=>{const n=e.getInstanceState().devicePixelRatio;t.style.setProperty("--tl-dpr-multiple",QR(n).toString())}),[e,t])}const JR=oi(function({id:t,shape:n,util:r,index:s,backgroundIndex:o,opacity:a,isCulled:i}){const l=De(),{ShapeErrorFallback:c}=Ln(),d=b.useRef(null),h=b.useRef(null),u=b.useCallback((y,g)=>{var x,w;(x=d.current)==null||x.style.setProperty(y,g),(w=h.current)==null||w.style.setProperty(y,g)},[]);kp("set shape container transform position",()=>{if(!l.getShape(t))return;const g=l.getShapePageTransform(t),x=_e.toCssString(g);u("transform",x)},[l,u]),kp("set shape container clip path",()=>{if(!l.getShape(t))return null;const g=l.getShapeClipPath(t);u("clip-path",g??"none")},[l,u]),kp("set shape height and width",()=>{const y=l.getShape(t);if(!y)return null;const g=l.getShapeGeometry(y).bounds,x=Math.floor(l.getInstanceState().devicePixelRatio*100)/100,w=QR(x),S=g.w%w,v=S===0?g.w:g.w+(w-S),k=g.h%w,C=k===0?g.h:g.h+(w-k);u("width",Math.max(v,w)+"px"),u("height",Math.max(C,w)+"px")},[l]),b.useLayoutEffect(()=>{var y,g;u("opacity",a+""),(y=d.current)==null||y.style.setProperty("z-index",s+""),(g=h.current)==null||g.style.setProperty("z-index",o+"")},[a,s,o,u]);const p=b.useCallback(y=>{l.annotateError(y,{origin:"react.shape",willCrashApp:!1})},[l]);return n?f.jsxs(f.Fragment,{children:[r.backgroundComponent&&f.jsx("div",{ref:h,className:"tl-shape tl-shape-background","data-shape-type":n.type,draggable:!1,children:!i&&f.jsx(bf,{fallback:c,onError:p,children:f.jsx(c2e,{shape:n,util:r})})}),f.jsx("div",{ref:d,className:"tl-shape","data-shape-type":n.type,draggable:!1,children:i?f.jsx(d2e,{shape:n}):f.jsx(bf,{fallback:c,onError:p,children:f.jsx(l2e,{shape:n,util:r})})})]}):null}),l2e=b.memo(function({shape:t,util:n}){return w2("InnerShape:"+t.type,()=>n.component(t))},(e,t)=>e.shape.props===t.shape.props&&e.shape.meta===t.shape.meta&&e.util===t.util),c2e=b.memo(function({shape:t,util:n}){return w2("InnerShape:"+t.type,()=>{var r;return(r=n.backgroundComponent)==null?void 0:r.call(n,t)})},(e,t)=>e.shape.props===t.shape.props&&e.shape.meta===t.shape.meta),d2e=b.memo(function({shape:t}){const r=De().getShapeGeometry(t).bounds;return f.jsx("div",{className:"tl-shape__culled",style:{transform:`translate(${nn(r.minX)}px, ${nn(r.minY)}px)`,width:Math.max(1,nn(r.width)),height:Math.max(1,nn(r.height))}})},()=>!0);function e$({className:e}){const t=De(),{Background:n,SvgDefs:r}=Ln(),s=le.useRef(null),o=le.useRef(null),a=le.useRef(null);Z1e(),Uye(),Kye(),H1e(s),W1e(s),kp("position layers",()=>{const u=o.current;if(!u)return;const p=a.current;if(!p)return;const{x:y,y:g,z:x}=t.getCamera(),w=x>=1?a1(x,[1,8],[.125,.5],!0):a1(x,[.1,1],[-2,.125],!0),S=`scale(${nn(x)}) translate(${nn(y+w)}px,${nn(g+w)}px)`;u.style.setProperty("transform",S),p.style.setProperty("transform",S)},[t]);const i=Fye(),l=qe("shapeSvgDefs",()=>{const u=new Map;for(const p of Pye(t.shapeUtils)){if(!p)return;const y=p.getCanvasSvgDefs();for(const{key:g,component:x}of y)u.has(g)||u.set(g,f.jsx(x,{},g))}return[...u.values()]},[t]),c=qe("debug_shapes",()=>bn.hideShapes.get(),[bn]),d=qe("debug_svg",()=>bn.debugSvg.get(),[bn]),h=qe("debug_geometry",()=>bn.debugGeometry.get(),[bn]);return f.jsxs("div",{ref:s,draggable:!1,className:me("tl-canvas",e),"data-testid":"canvas",...i,children:[n&&f.jsx(n,{}),f.jsx(h2e,{}),f.jsx(P2e,{}),f.jsx("svg",{className:"tl-svg-context",children:f.jsxs("defs",{children:[l,b_&&f.jsx(b_,{}),f.jsx(C2e,{}),f.jsx(_2e,{}),f.jsx(E2e,{}),r&&f.jsx(r,{})]})}),f.jsxs("div",{ref:o,className:"tl-html-layer tl-shapes",draggable:!1,children:[f.jsx(N2e,{}),f.jsx(A2e,{}),c?null:d?f.jsx(w2e,{}):f.jsx(S2e,{})]}),f.jsxs("div",{className:"tl-fixed-layer tl-overlays",children:[f.jsxs("div",{ref:a,className:"tl-html-layer",children:[h?f.jsx(J1e,{}):null,f.jsx(y2e,{}),f.jsx(p2e,{}),f.jsx(u2e,{}),f.jsx(f2e,{}),f.jsx(b2e,{}),f.jsx(v2e,{}),f.jsx(k2e,{}),f.jsx(g2e,{}),f.jsx(z2e,{}),f.jsx(r2e,{})]}),f.jsx(T2e,{})]})]})}function h2e(){const e=De(),t=qe("gridSize",()=>e.getDocumentSettings().gridSize,[e]),{x:n,y:r,z:s}=qe("camera",()=>e.getCamera(),[e]),o=qe("isGridMode",()=>e.getInstanceState().isGridMode,[e]),{Grid:a}=Ln();return a&&o?f.jsx(a,{x:n,y:r,z:s,size:t}):null}function u2e(){const e=De(),t=qe("scribbles",()=>e.getInstanceState().scribbles,[e]),n=qe("zoomLevel",()=>e.getZoomLevel(),[e]),{Scribble:r}=Ln();return r&&t.length?f.jsx(f.Fragment,{children:t.map(s=>f.jsx(r,{className:"tl-user-scribble",scribble:s,zoom:n},s.id))}):null}function p2e(){const e=De(),t=qe("brush",()=>e.getInstanceState().brush,[e]),{Brush:n}=Ln();return n&&t?f.jsx(n,{className:"tl-user-brush",brush:t}):null}function f2e(){const e=De(),t=qe("zoomBrush",()=>e.getInstanceState().zoomBrush,[e]),{ZoomBrush:n}=Ln();return n&&t?f.jsx(n,{className:"tl-user-brush tl-zoom-brush",brush:t}):null}function g2e(){const e=De(),t=qe("snapLines",()=>e.snaps.getLines(),[e]),n=qe("zoomLevel",()=>e.getZoomLevel(),[e]),{SnapLine:r}=Ln();return r&&t.length>0?f.jsx(f.Fragment,{children:t.map(s=>f.jsx(r,{className:"tl-user-snapline",line:s,zoom:n},s.id))}):null}const m2e=48;function y2e(){const e=De(),{Handles:t}=Ln(),n=qe("zoomLevel",()=>e.getZoomLevel(),[e]),r=qe("coarse pointer",()=>e.getInstanceState().isCoarsePointer,[e]),s=qe("onlySelectedShape",()=>e.getOnlySelectedShape(),[e]),o=qe("isChangingStyle",()=>e.getInstanceState().isChangingStyle,[e]),a=qe("isChangingStyle",()=>e.getInstanceState().isReadonly,[e]),i=qe("handles",()=>{const d=e.getOnlySelectedShape();if(d)return e.getShapeHandles(d)},[e]),l=qe("transform",()=>{const d=e.getOnlySelectedShape();if(d)return e.getShapePageTransform(d)},[e]);if(!t||!s||o||a||!i||!l)return null;const c=[];for(let d=0,h=i[d];d<i.length;d++,h=i[d]){if(h.type!=="vertex"){const u=i[d-1],p=i[d+1];if(u&&p&&Math.hypot(u.y-p.y,u.x-p.x)<m2e/n)continue}c.push(h)}return c.sort(d=>d.type==="vertex"?1:-1),f.jsx(t,{children:f.jsx("g",{transform:_e.toCssString(l),children:c.map(d=>f.jsx(x2e,{shapeId:s.id,handle:d,zoom:n,isCoarse:r},d.id))})})}function x2e({shapeId:e,handle:t,zoom:n,isCoarse:r}){const s=G1e(e,t.id),{Handle:o}=Ln();return o?f.jsx("g",{"aria-label":"handle",transform:`translate(${t.x}, ${t.y})`,...s,children:f.jsx(o,{shapeId:e,handle:t,zoom:n,isCoarse:r})}):null}function w2e(){const e=De(),t=qe("rendering shapes",()=>e.getRenderingShapes(),[e]);return f.jsx(f.Fragment,{children:t.map(n=>f.jsxs(le.Fragment,{children:[f.jsx(JR,{...n}),f.jsx(I2e,{id:n.id})]},n.id+"_fragment"))})}function S2e(){const e=De(),t=qe("rendering shapes",()=>e.getRenderingShapes(),[e]);return f.jsx(f.Fragment,{children:t.map(n=>f.jsx(JR,{...n},n.id+"_shape"))})}function b2e(){const e=De(),t=qe("selectedShapeIds",()=>e.getCurrentPageState().selectedShapeIds,[e]);return qe("should display selected ids",()=>e.isInAny("select.idle","select.brushing","select.scribble_brushing","select.editing_shape","select.pointing_shape","select.pointing_selection","select.pointing_handle")&&!e.getInstanceState().isChangingStyle,[e])?f.jsx(f.Fragment,{children:t.map(r=>f.jsx(v2,{className:"tl-user-indicator__selected",id:r},r+"_indicator"))}):null}const v2e=function(){const t=De(),{HoveredShapeIndicator:n}=Ln(),r=qe("coarse pointer",()=>t.getInstanceState().isCoarsePointer,[t]),s=qe("hovering canvas",()=>t.getInstanceState().isHoveringCanvas,[t]),o=qe("hovered id",()=>t.getCurrentPageState().hoveredShapeId,[t]);return r||!s||!o||!n?null:f.jsx(n,{shapeId:o})},k2e=oi(function(){const t=De(),n=s1(t.getHintingShapeIds());return n.length?f.jsx(f.Fragment,{children:n.map(r=>f.jsx(v2,{className:"tl-user-indicator__hint",id:r},r+"_hinting"))}):null});function b_(){return f.jsxs("g",{id:"cursor",children:[f.jsxs("g",{fill:"rgba(0,0,0,.2)",transform:"translate(-11,-11)",children:[f.jsx("path",{d:"m12 24.4219v-16.015l11.591 11.619h-6.781l-.411.124z"}),f.jsx("path",{d:"m21.0845 25.0962-3.605 1.535-4.682-11.089 3.686-1.553z"})]}),f.jsxs("g",{fill:"white",transform:"translate(-12,-12)",children:[f.jsx("path",{d:"m12 24.4219v-16.015l11.591 11.619h-6.781l-.411.124z"}),f.jsx("path",{d:"m21.0845 25.0962-3.605 1.535-4.682-11.089 3.686-1.553z"})]}),f.jsxs("g",{fill:"currentColor",transform:"translate(-12,-12)",children:[f.jsx("path",{d:"m19.751 24.4155-1.844.774-3.1-7.374 1.841-.775z"}),f.jsx("path",{d:"m13 10.814v11.188l2.969-2.866.428-.139h4.768z"})]})]})}function C2e(){return f.jsx("path",{id:"cursor_hint",fill:"currentColor",d:"M -2,-5 2,0 -2,5 Z"})}function _2e(){return f.jsx("marker",{id:"arrowhead-dot",className:"tl-arrow-hint",refX:"3.0",refY:"3.0",orient:"0",children:f.jsx("circle",{cx:"3",cy:"3",r:"2",strokeDasharray:"100%"})})}function E2e(){return f.jsxs("marker",{id:"arrowhead-cross",className:"tl-arrow-hint",refX:"3.0",refY:"3.0",orient:"auto",children:[f.jsx("line",{x1:"1.5",y1:"1.5",x2:"4.5",y2:"4.5",strokeDasharray:"100%"}),f.jsx("line",{x1:"1.5",y1:"4.5",x2:"4.5",y2:"1.5",strokeDasharray:"100%"})]})}const I2e=oi(function({id:t}){const n=De(),r=n.getShape(t),[s,o]=le.useState(""),a=(r==null?void 0:r.parentId)===n.getCurrentPageId();return le.useEffect(()=>{if(!a)return;let i=null;const l=ng("shape to svg",async()=>{const c=Math.random();i=c;const d=n.getShapePageBounds(t),h=await n.getSvg([t],{padding:0});h&&d&&i===c&&(h.style.setProperty("overflow","visible"),h.setAttribute("preserveAspectRatio","xMidYMin slice"),h.style.setProperty("transform",`translate(${d.x}px, ${d.y+d.h+12}px)`),h.style.setProperty("border","1px solid black"),o(h==null?void 0:h.outerHTML))});return()=>{i=null,l()}},[n,t,a]),a?f.jsx("div",{style:{paddingTop:12,position:"absolute"},children:f.jsx("div",{style:{display:"flex"},dangerouslySetInnerHTML:{__html:s}})}):null});function P2e(){const e=qe("debugging ui log",()=>bn.logMessages.get(),[bn]);return e.length?f.jsx("div",{className:"debug__ui-logger",children:e.map((t,n)=>{const r=typeof t=="string"?t:JSON.stringify(t);return f.jsx("div",{className:"debug__ui-logger__line",children:r},n)})}):null}function z2e(){const e=De(),t=qe("selection rotation",()=>e.getSelectionRotation(),[e]),n=qe("selection bounds",()=>e.getSelectionRotatedPageBounds(),[e]),{SelectionForeground:r}=Ln();return!n||!r?null:f.jsx(r,{bounds:n,rotation:t})}function A2e(){const e=De(),t=qe("selection rotation",()=>e.getSelectionRotation(),[e]),n=qe("selection bounds",()=>e.getSelectionRotatedPageBounds(),[e]),{SelectionBackground:r}=Ln();return!n||!r?null:f.jsx(r,{bounds:n,rotation:t})}function N2e(){const{OnTheCanvas:e}=Ln();return e?f.jsx(e,{}):null}function T2e(){const{InFrontOfTheCanvas:e}=Ln();return e?f.jsx(e,{}):null}const L2e=()=>f.jsx(A5e,{children:"Connecting..."});function In(){return nl()}const t$="TLDRAW_USER_DATA_v3",n$=zm({id:v0,name:v0.nullable().optional(),locale:v0.nullable().optional(),color:v0.nullable().optional(),isDarkMode:Dl.nullable().optional(),animationSpeed:Ma.nullable().optional(),edgeScrollSpeed:Ma.nullable().optional(),isSnapMode:Dl.nullable().optional()}),Du={AddAnimationSpeed:1,AddIsSnapMode:2,MakeFieldsNullable:3,AddEdgeScrollSpeed:4},c1=rR({currentVersion:Du.AddEdgeScrollSpeed,migrators:{[Du.AddAnimationSpeed]:{up:e=>({...e,animationSpeed:1}),down:({animationSpeed:e,...t})=>t},[Du.AddIsSnapMode]:{up:e=>({...e,isSnapMode:!1}),down:({isSnapMode:e,...t})=>t},[Du.MakeFieldsNullable]:{up:e=>e,down:e=>({id:e.id,name:e.name??Fs.name,locale:e.locale??Fs.locale,color:e.color??Fs.color,isDarkMode:e.isDarkMode??Fs.isDarkMode,animationSpeed:e.animationSpeed??Fs.animationSpeed,isSnapMode:e.isSnapMode??Fs.isSnapMode})},[Du.AddEdgeScrollSpeed]:{up:e=>({...e,edgeScrollSpeed:1}),down:({edgeScrollSpeed:e,...t})=>t}}}),v_=["#FF802B","#EC5E41","#F2555A","#F04F88","#E34BA9","#BD54C6","#9D5BD2","#7B66DC","#02B1CC","#11B3A3","#39B178","#55B467"];function M2e(){return v_[Math.floor(Math.random()*v_.length)]}function j2e(){var e,t;return typeof window>"u"?!1:((t=(e=window.matchMedia)==null?void 0:e.call(window,"(prefers-color-scheme: dark)"))==null?void 0:t.matches)??!1}function R2e(){var e,t;return typeof window>"u"?!1:((t=(e=window.matchMedia)==null?void 0:e.call(window,"(prefers-reduced-motion: reduce)"))==null?void 0:t.matches)??!1}const Fs=Object.freeze({name:"New User",locale:vye(),color:M2e(),isDarkMode:!1,edgeScrollSpeed:1,animationSpeed:R2e()?0:1,isSnapMode:!1});function _0(){return{id:In()}}function r$(e){if(e===null||typeof e!="object"||!("version"in e)||!("user"in e)||typeof e.version!="number")return _0();const t=sR({value:e.user,fromVersion:e.version,toVersion:c1.currentVersion??0,migrations:c1});if(t.type==="error")return _0();try{n$.validate(t.value)}catch{return _0()}return t.value}function $2e(){var t;const e=typeof window>"u"?null:JSON.parse(((t=window==null?void 0:window.localStorage)==null?void 0:t.getItem(t$))||"null")??null;return r$(e)}const og=Ws("globalUserData",$2e());function O2e(){typeof window<"u"&&window.localStorage&&window.localStorage.setItem(t$,JSON.stringify({version:c1.currentVersion,user:og.get()}))}function D2e(e){n$.validate(e),og.set(e),O2e(),B2e()}const q2e=typeof process<"u"&&!1,ch=typeof BroadcastChannel<"u"&&!q2e?new BroadcastChannel("tldraw-user-sync"):null;ch==null||ch.addEventListener("message",e=>{const t=e.data;(t==null?void 0:t.type)===o$&&(t==null?void 0:t.origin)!==s$&&og.set(r$(t.data))});const s$=In(),o$="tldraw-user-preferences-change";function B2e(){ch==null||ch.postMessage({type:o$,origin:s$,data:{user:og.get(),version:c1.currentVersion}})}function F2e(){return og.get()}function a$(e={}){return{derivePresenceState:e.derivePresenceState??(()=>ae("presence",()=>null)),userPreferences:e.userPreferences??ae("userPreferences",()=>F2e()),setUserPreferences:e.setUserPreferences??D2e}}function K2e({children:e,className:t="",...n}){return f.jsx("svg",{...n,className:`tl-svg-container ${t}`,children:e})}class V6{constructor(t){m(this,"isFilled",!1);m(this,"isClosed",!0);m(this,"isLabel",!1);m(this,"isSnappable",!0);m(this,"_vertices");m(this,"_bounds");m(this,"_snapPoints");m(this,"_area");this.isFilled=t.isFilled,this.isClosed=t.isClosed,this.isSnappable=t.isSnappable??!1,this.isLabel=t.isLabel??!1}hitTestPoint(t,n=0,r=!1){return this.distanceToPoint(t,r)<=n}distanceToPoint(t,n=!1){const r=t.dist(this.nearestPoint(t));return this.isClosed&&(this.isFilled||n)&&Ph(t,this.vertices)?-r:r}distanceToLineSegment(t,n){const r=this.nearestPointOnLineSegment(t,n),s=L.DistanceToLineSegment(t,n,r);return this.isClosed&&this.isFilled&&Ph(r,this.vertices)?-s:s}hitTestLineSegment(t,n,r=0){return this.distanceToLineSegment(t,n)<=r}nearestPointOnLineSegment(t,n){let r=1/0,s;for(let o=0;o<this.vertices.length;o++){const a=this.vertices[o],i=L.DistanceToLineSegment(t,n,a);i<r&&(r=i,s=a)}if(!s)throw Error("nearest point not found");return s}isPointInBounds(t,n=0){const{bounds:r}=this;return!(t.x<r.minX-n||t.y<r.minY-n||t.x>r.maxX+n||t.y>r.maxY+n)}get vertices(){return this._vertices||(this._vertices=this.getVertices()),this._vertices}getBounds(){return Qe.FromPoints(this.vertices)}get bounds(){return this._bounds||(this._bounds=this.getBounds()),this._bounds}get snapPoints(){return this._snapPoints||(this._snapPoints=this.bounds.snapPoints),this._snapPoints}get center(){return this.bounds.center}get area(){return this._area||(this._area=this.getArea()),this._area}getArea(){if(!this.isClosed)return 0;const{vertices:t}=this;let n=0;for(let r=0,s=t.length;r<s;r++){const o=t[r],a=t[(r+1)%s];n+=o.x*a.y-a.x*o.y}return n/2}toSimpleSvgPath(){let t="";const{vertices:n}=this,r=n.length;if(r===0)return t;t+=`M${n[0].x},${n[0].y}`;for(let s=1;s<r;s++)t+=`L${n[s].x},${n[s].y}`;return this.isClosed&&(t+="Z"),t}}class X6 extends V6{constructor(n){super({...n,isClosed:!0,isFilled:!1});m(this,"children");const{children:r}=n;if(r.length===0)throw Error("Group2d must have at least one child");this.children=r}getVertices(){return this.children.filter(n=>!n.isLabel).flatMap(n=>n.vertices)}nearestPoint(n){let r=1/0,s;const{children:o}=this;if(o.length===0)throw Error("no children");for(const a of o){const i=a.nearestPoint(n),l=i.dist(n);l<r&&(r=l,s=i)}if(!s)throw Error("nearest point not found");return s}distanceToPoint(n,r=!1){return Math.min(...this.children.map((s,o)=>s.distanceToPoint(n,r||o>0)))}hitTestPoint(n,r,s){return!!this.children.filter(o=>!o.isLabel).find(o=>o.hitTestPoint(n,r,s))}hitTestLineSegment(n,r,s){return!!this.children.filter(o=>!o.isLabel).find(o=>o.hitTestLineSegment(n,r,s))}getArea(){return this.children[0].area}toSimpleSvgPath(){let n="";for(const s of this.children)n+=s.toSimpleSvgPath();const r=Qe.FromPoints(this.vertices).corners;for(let s=0,o=r.length;s<o;s++){const a=r[s],i=r[(s-1+o)%o],l=a.dist(i),c=r[(s+1)%o],d=a.dist(c),h=a.clone().lrp(i,4/l),u=a,p=a.clone().lrp(c,4/d);n+=`M${h.x},${h.y} L${u.x},${u.y} L${p.x},${p.y} `}return n}}function Y6(e,t,n,r){const s=e.x-n.x,o=e.y-n.y,a=r.x-n.x,i=r.y-n.y,l=t.x-e.x,c=t.y-e.y,d=a*o-i*s,h=l*o-c*s,u=i*l-a*c;if(d===0||h===0||u===0)return null;if(u!==0){const p=d/u,y=h/u;if(0<=p&&p<=1&&0<=y&&y<=1)return L.AddXY(e,p*l,p*c)}return null}function i$(e,t,n,r){const s=(t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y),o=2*((t.x-e.x)*(e.x-n.x)+(t.y-e.y)*(e.y-n.y)),a=n.x*n.x+n.y*n.y+e.x*e.x+e.y*e.y-2*(n.x*e.x+n.y*e.y)-r*r,i=o*o-4*s*a;if(i<0||i===0)return null;const l=Math.sqrt(i),c=(-o+l)/(2*s),d=(-o-l)/(2*s);if((c<0||c>1)&&(d<0||d>1))return null;const h=[];return 0<=c&&c<=1&&h.push(L.Lrp(e,t,c)),0<=d&&d<=1&&h.push(L.Lrp(e,t,d)),h.length===0?null:h}function W2e(e,t,n){const r=[];let s;for(let o=0,a=n.length-1;o<a;o++)s=Y6(e,t,n[o],n[o+1]),s&&r.push(s);return r.length===0?null:r}function U2e(e,t,n){const r=[];let s;for(let o=1,a=n.length;o<a+1;o++)s=Y6(e,t,n[o-1],n[o%n.length]),s&&r.push(s);return r.length===0?null:r}function k_(e,t,n){const r=[];let s,o,a;for(let i=0,l=n.length;i<l;i++)s=n[i],o=n[(i+1)%n.length],a=i$(s,o,e,t),a&&r.push(...a);return r.length===0?null:r}function C_(e,t,n){const r=[];let s,o,a;for(let i=1,l=n.length;i<l;i++)s=n[i-1],o=n[i],a=i$(s,o,e,t),a&&r.push(...a);return r.length===0?null:r}function E0(e,t,n){return(n.y-e.y)*(t.x-e.x)>(t.y-e.y)*(n.x-e.x)}function V2e(e,t,n,r){return E0(e,n,r)!==E0(t,n,r)&&E0(e,t,n)!==E0(e,t,r)}function __(e,t){const n=[];let r,s,o,a;for(let i=0,l=e.length;i<l;i++)r=e[i],Ph(r,t)&&n.push(r);for(let i=0,l=t.length;i<l;i++)r=t[i],Ph(r,e)&&n.push(r);for(let i=0,l=e.length;i<l;i++){r=e[i],s=e[(i+1)%e.length];for(let c=0,d=t.length;c<d;c++){o=t[c],a=t[(c+1)%t.length];const h=Y6(r,s,o,a);h!==null&&n.push(h)}}return n.length===0?null:X2e(n)}function X2e(e){const t=L.Average(e);return e.sort((n,r)=>L.Angle(t,n)-L.Angle(t,r))}class E_ extends V6{constructor(n){super({...n,isClosed:!1,isFilled:!1});m(this,"start");m(this,"end");m(this,"d");m(this,"u");m(this,"ul");m(this,"_length");const{start:r,end:s}=n;this.start=r,this.end=s,this.d=r.clone().sub(s),this.u=this.d.clone().uni(),this.ul=this.u.len()}get length(){return this._length?this._length:this.d.len()}midPoint(){return this.start.lrp(this.end,.5)}getVertices(){return[this.start,this.end]}nearestPoint(n){const{start:r,end:s,u:o,ul:a}=this;if(a===0)return r;const i=L.Sub(n,r).dpr(o)/a,l=r.x+o.x*i;if(l<Math.min(r.x,s.x))return r.x<s.x?r:s;if(l>Math.max(r.x,s.x))return r.x>s.x?r:s;const c=r.y+o.y*i;return c<Math.min(r.y,s.y)?r.y<s.y?r:s:c>Math.max(r.y,s.y)?r.y>s.y?r:s:new L(l,c)}hitTestLineSegment(n,r,s){return V2e(n,r,this.start,this.end)}}class l$ extends V6{constructor(n){super({isClosed:!1,isFilled:!1,...n});m(this,"points");m(this,"_segments");m(this,"_length");const{points:r}=n;this.points=r}get segments(){if(!this._segments){this._segments=[];const{vertices:n}=this;for(let r=0,s=n.length-1;r<s;r++){const o=n[r],a=n[r+1];this._segments.push(new E_({start:o,end:a}))}this.isClosed&&this._segments.push(new E_({start:n[n.length-1],end:n[0]}))}return this._segments}get length(){return this._length||(this._length=this.segments.reduce((n,r)=>n+r.length,0)),this._length}getVertices(){return this.points}nearestPoint(n){const{segments:r}=this;let s=this.points[0],o=1/0,a,i;for(let l=0;l<r.length;l++)a=r[l].nearestPoint(n),i=a.dist(n),i<o&&(s=a,o=i);return s}hitTestLineSegment(n,r,s){return this.segments.some(o=>o.hitTestLineSegment(n,r,s))}}class c$ extends l${constructor(t){super({...t}),this.isClosed=!0}}class Y2e extends c${constructor(n){const{x:r=0,y:s=0,width:o,height:a}=n;super({...n,points:[new L(r,s),new L(r+o,s),new L(r+o,s+a),new L(r,s+a)]});m(this,"x");m(this,"y");m(this,"w");m(this,"h");this.x=r,this.y=s,this.w=o,this.h=a}getBounds(){return new Qe(this.x,this.y,this.w,this.h)}}class Am{constructor(t){m(this,"canSnap",()=>!0);m(this,"canScroll",()=>!1);m(this,"canUnmount",()=>!0);m(this,"canBind",(t,n)=>!0);m(this,"canEdit",()=>!1);m(this,"canResize",()=>!0);m(this,"canEditInReadOnly",()=>!1);m(this,"canCrop",()=>!1);m(this,"hideResizeHandles",()=>!1);m(this,"hideRotateHandle",()=>!1);m(this,"hideSelectionBoundsBg",()=>!1);m(this,"hideSelectionBoundsFg",()=>!1);m(this,"isAspectRatioLocked",()=>!1);m(this,"onBeforeCreate");m(this,"onBeforeUpdate");m(this,"onDragShapesOver");m(this,"onDragShapesOut");m(this,"onDropShapesOver");m(this,"onResizeStart");m(this,"onResize");m(this,"onResizeEnd");m(this,"onTranslateStart");m(this,"onTranslate");m(this,"onTranslateEnd");m(this,"onRotateStart");m(this,"onRotate");m(this,"onRotateEnd");m(this,"onHandleChange");m(this,"onBindingChange");m(this,"onChildrenChange");m(this,"onDoubleClickHandle");m(this,"onDoubleClickEdge");m(this,"onDoubleClick");m(this,"onClick");m(this,"onEditEnd");this.editor=t}providesBackgroundForChildren(t){return!1}getOutlineSegments(t){return[this.editor.getShapeGeometry(t).vertices]}canReceiveNewChildrenOfType(t,n){return!1}canDropShapes(t,n){return!1}expandSelectionOutlinePx(t){return 0}getCanvasSvgDefs(){return[]}}m(Am,"props"),m(Am,"migrations"),m(Am,"type");function H2e(e,t,n={}){const{closed:r=!1,snap:s=1,start:o="outset",end:a="outset",lengthRatio:i=2,style:l="dashed"}=n;let c=0,d=0,h=1,u=0,p=0;switch(l){case"dashed":{h=1,c=Math.min(t*i,e/4);break}case"dotted":{h=100,c=t/h;break}default:return{strokeDasharray:"none",strokeDashoffset:"none"}}return r||(o==="outset"?(e+=c/2,p+=c/2):o==="skip"&&(e-=c,p-=c),a==="outset"?e+=c/2:a==="skip"&&(e-=c)),d=Math.floor(e/c/(2*h)),d-=d%s,d<3&&l==="dashed"?e/t<5?(c=e,d=1,u=0):(c=e*.333,u=e*.333):(d=Math.max(d,3),c=e/d/(2*h),r?(p=c/2,u=(e-d*c)/d):u=(e-d*c)/Math.max(1,d-1)),{strokeDasharray:[c,u].join(" "),strokeDashoffset:p.toString()}}function I_({bounds:e,className:t}){const n=De(),r=qe("zoom level",()=>n.getZoomLevel(),[n]);return f.jsx("g",{className:t,pointerEvents:"none",strokeLinecap:"round",strokeLinejoin:"round",children:e.sides.map((s,o)=>{const{strokeDasharray:a,strokeDashoffset:i}=H2e(s[0].dist(s[1]),1/r,{style:"dashed",lengthRatio:4});return f.jsx("line",{x1:s[0].x,y1:s[0].y,x2:s[1].x,y2:s[1].y,strokeDasharray:a,strokeDashoffset:i},o)})})}class Nm extends Am{constructor(){super(...arguments);m(this,"hideSelectionBoundsFg",()=>!0);m(this,"canBind",()=>!1);m(this,"onChildrenChange",n=>{const r=this.editor.getSortedChildIdsForParent(n.id);if(r.length===0){this.editor.getCurrentPageState().focusedGroupId===n.id&&this.editor.popFocusedGroupId(),this.editor.deleteShapes([n.id]);return}else if(r.length===1){this.editor.getCurrentPageState().focusedGroupId===n.id&&this.editor.popFocusedGroupId(),this.editor.reparentShapes(r,n.parentId),this.editor.deleteShapes([n.id]);return}})}getDefaultProps(){return{}}getGeometry(n){const r=this.editor.getSortedChildIdsForParent(n.id);return r.length===0?new Y2e({width:1,height:1,isFilled:!1}):new X6({children:r.map(s=>{const o=this.editor.getShape(s),a=this.editor.getShapeGeometry(s),i=this.editor.getShapeLocalTransform(o).applyToPoints(a.vertices);return a.isClosed?new c$({points:i,isFilled:!0}):new l$({points:i})})})}component(n){const r=this.editor.getErasingShapeIds().includes(n.id),{hintingShapeIds:s}=this.editor.getCurrentPageState(),o=s.length>0&&s.some(l=>l!==n.id&&this.editor.isShapeOfType(this.editor.getShape(l),"group")),a=this.editor.getCurrentPageState().focusedGroupId!==n.id;if(!r&&(a||o))return null;const i=this.editor.getShapeGeometry(n).bounds;return f.jsx(K2e,{id:n.id,children:f.jsx(I_,{className:"tl-group",bounds:i})})}indicator(n){const r=this.editor.getShapeGeometry(n).bounds;return f.jsx(I_,{className:"",bounds:r})}}m(Nm,"type","group"),m(Nm,"props",mye),m(Nm,"migrations",yye);const d$=[Nm],G2e=new Set(d$.map(e=>e.type));function h$(e){const t=[...d$],n=new Set;for(const r of e){if(G2e.has(r.type))throw new Error(`Shape type "${r.type}" is a core shapes type and cannot be overridden`);if(n.has(r.type))throw new Error(`Shape type "${r.type}" is defined more than once`);t.push(r),n.add(r.type)}return t}function P_(e,t){if(!t)return!1;switch(e.type){case"mixed":return t.type==="mixed";case"shared":return t.type==="shared"&&e.value===t.value;default:throw o1(e)}}class Z2e{constructor(t){m(this,"map");this.map=new Map(t)}get(t){return this.map.get(t)}getAsKnownValue(t){const n=this.get(t);if(n&&n.type!=="mixed")return n.value}get size(){return this.map.size}equals(t){if(this.size!==t.size)return!1;const n=new Set;for(const[r,s]of this){if(!P_(s,t.get(r)))return!1;n.add(r)}for(const[r,s]of t)if(!n.has(r)&&!P_(s,this.get(r)))return!1;return!0}keys(){return this.map.keys()}values(){return this.map.values()}entries(){return this.map.entries()}[Symbol.iterator](){return this.map[Symbol.iterator]()}}class z_ extends Z2e{set(t,n){this.map.set(t,n)}applyValue(t,n){const r=this.get(t);if(!r){this.set(t,{type:"shared",value:n});return}switch(r.type){case"mixed":return;case"shared":r.value!==n&&this.set(t,{type:"mixed"});return;default:o1(r,"type")}}}class Q2e{constructor(){m(this,"items",new WeakMap)}get(t,n){return this.items.has(t)||this.items.set(t,n(t)),this.items.get(t)}access(t){return this.items.get(t)}set(t,n){this.items.set(t,n)}has(t){return this.items.has(t)}invalidate(t){this.items.delete(t)}bust(){this.items=new WeakMap}}function J2e(e,t,n){return fetch(e).then(function(r){return r.arrayBuffer()}).then(function(r){return new File([r],t,{type:n})})}function exe(e,t){var s;let n=e;const r=new Set(t);for(;r.has(n);)n=(s=/^.*(\d+)$/.exec(n))!=null&&s[1]?n.replace(/(\d+)(?=\D?)$/,o=>(+o+1).toString()):`${n} 1`;return n}const ms="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",txe="a0",u$="A00000000000000000000000000";function p$(e){if(e>="a"&&e<="z")return e.charCodeAt(0)-"a".charCodeAt(0)+2;if(e>="A"&&e<="Z")return"Z".charCodeAt(0)-e.charCodeAt(0)+2;throw new Error("Invalid index key head: "+e)}function f$(e){if(e.length!==p$(e.charAt(0)))throw new Error("invalid integer part of index key: "+e)}function A_(e){if(e===void 0)throw Error("n is undefined")}function N_(e){f$(e);const[t,...n]=e.split("");let r=!0;for(let s=n.length-1;r&&s>=0;s--){const o=ms.indexOf(n[s])+1;o===ms.length?n[s]="0":(n[s]=ms.charAt(o),r=!1)}if(r){if(t==="Z")return"a0";if(t==="z")return;const s=String.fromCharCode(t.charCodeAt(0)+1);return s>"a"?n.push("0"):n.pop(),s+n.join("")}else return t+n.join("")}function nxe(e){f$(e);const[t,...n]=e.split("");let r=!0;for(let s=n.length-1;r&&s>=0;s--){const o=ms.indexOf(n[s])-1;o===-1?n[s]=ms.slice(-1):(n[s]=ms.charAt(o),r=!1)}if(r){if(t==="a")return"Z"+ms.slice(-1);if(t==="A")return;const s=String.fromCharCode(t.charCodeAt(0)-1);return s<"Z"?n.push(ms.slice(-1)):n.pop(),s+n.join("")}else return t+n.join("")}function Vd(e,t){if(t!==void 0&&e>=t)throw new Error(e+" >= "+t);if(e.slice(-1)==="0"||t&&t.slice(-1)==="0")throw new Error("trailing zero");if(t){let s=0;for(;(e.charAt(s)||"0")===t.charAt(s);)s++;if(s>0)return t.slice(0,s)+Vd(e.slice(s),t.slice(s))}const n=e?ms.indexOf(e.charAt(0)):0,r=t!==void 0?ms.indexOf(t.charAt(0)):ms.length;if(r-n>1){const s=Math.round(.5*(n+r));return ms.charAt(s)}else return t&&t.length>1?t.slice(0,1):ms.charAt(n)+Vd(e.slice(1),void 0)}function np(e){const t=p$(e.charAt(0));if(t>e.length)throw new Error("invalid index: "+e);return e.slice(0,t)}function T_(e){if(e===u$)throw new Error("invalid index: "+e);const t=np(e);if(e.slice(t.length).slice(-1)==="0")throw new Error("invalid index: "+e)}function Sd(e,t){if(e!==void 0&&T_(e),t!==void 0&&T_(t),e!==void 0&&t!==void 0&&e>=t)throw new Error(e+" >= "+t);if(e===void 0&&t===void 0)return txe;if(e===void 0){if(t===void 0)throw Error("b is undefined");const i=np(t),l=t.slice(i.length);if(i===u$)return i+Vd("",l);if(i<t)return i;const c=nxe(i);return A_(c),c}if(t===void 0){const i=np(e),l=e.slice(i.length),c=N_(i);return c===void 0?i+Vd(l,void 0):c}const n=np(e),r=e.slice(n.length),s=np(t),o=t.slice(s.length);if(n===s)return n+Vd(r,o);const a=N_(n);return A_(a),a<t?a:n+Vd(r,void 0)}function Cc(e,t,n){if(n===0)return[];if(n===1)return[Sd(e,t)];if(t===void 0){let o=Sd(e,t);const a=[o];for(let i=0;i<n-1;i++)o=Sd(o,t),a.push(o);return a}if(e===void 0){let o=Sd(e,t);const a=[o];for(let i=0;i<n-1;i++)o=Sd(e,o),a.push(o);return a.reverse(),a}const r=Math.floor(n/2),s=Sd(e,t);return[...Cc(e,s,r),s,...Cc(s,t,n-r-1)]}function zh(e,t,n){return Cc(e,t,n)}function D5(e,t){return Cc(e,void 0,t)}function q5(e,t){return Cc(e,t,1)[0]}function bd(e){return Cc(e,void 0,1)[0]}function rxe(e,t="a1"){return[t,...Cc(t,void 0,e)]}function Bo(e,t){return e.index<t.index?-1:e.index>t.index?1:0}function I0(e,t,n){if(n.length===0)return[];const r=new Map;for(const o of Ve(n.map(a=>e.getShape(a)))){const{parentId:a}=o;r.has(a)||r.set(a,{children:Ve(e.getSortedChildIdsForParent(a).map(i=>e.getShape(i))),moving:new Set}),r.get(a).moving.add(o)}const s=[];switch(t){case"toBack":{r.forEach(({moving:o,children:a})=>sxe(o,a,s));break}case"toFront":{r.forEach(({moving:o,children:a})=>oxe(o,a,s));break}case"forward":{r.forEach(({moving:o,children:a})=>axe(o,a,s));break}case"backward":{r.forEach(({moving:o,children:a})=>ixe(o,a,s));break}}return s}function sxe(e,t,n){const r=t.length;if(e.size===r)return;let s,o;for(let a=0;a<r;a++){const i=t[a];if(e.has(i))s=i.index,e.delete(i);else{o=i.index;break}}if(e.size!==0){const a=zh(s,o,e.size);n.push(...Array.from(e.values()).sort(Bo).map((i,l)=>({...i,index:a[l]})))}}function oxe(e,t,n){const r=t.length;if(e.size===r)return;let s,o;for(let a=r-1;a>-1;a--){const i=t[a];if(e.has(i))o=i.index,e.delete(i);else{s=i.index;break}}if(e.size!==0){const a=zh(s,o,e.size);n.push(...Array.from(e.values()).sort(Bo).map((i,l)=>({...i,index:a[l]})))}}function axe(e,t,n){var o;const r=t.length;if(e.size===r)return;let s={name:"skipping"};for(let a=0;a<r;a++){const i=e.has(t[a]);switch(s.name){case"skipping":{if(!i)continue;s={name:"selecting",selectIndex:a};break}case"selecting":{if(i)continue;const{selectIndex:l}=s;zh(t[a].index,(o=t[a+1])==null?void 0:o.index,a-l).forEach((c,d)=>n.push({...t[l+d],index:c})),s={name:"skipping"};break}}}}function ixe(e,t,n){var o;const r=t.length;if(e.size===r)return;let s={name:"skipping"};for(let a=r-1;a>-1;a--){const i=e.has(t[a]);switch(s.name){case"skipping":{if(!i)continue;s={name:"selecting",selectIndex:a};break}case"selecting":{if(i)continue;zh((o=t[a-1])==null?void 0:o.index,t[a].index,s.selectIndex-a).forEach((l,c)=>{n.push({...t[a+c+1],index:l})}),s={name:"skipping"};break}}}}function lxe({editor:e}){const t=e.getSelectedShapes(),n=e.getSelectionRotation(),r=e.getSelectionRotatedPageBounds(),{inputs:{originPagePoint:s}}=e;if(!r)return null;const o=r.center.clone().rotWith(r.point,n);return{selectionPageCenter:o,initialCursorAngle:o.angle(s),initialSelectionRotation:n,shapeSnapshots:t.map(a=>({shape:tp(a),initialPagePoint:e.getShapePageTransform(a.id).point()}))}}function cxe({delta:e,editor:t,snapshot:n,stage:r}){const{selectionPageCenter:s,shapeSnapshots:o}=n;t.updateShapes(o.map(({shape:i,initialPagePoint:l})=>{const c=$o(i.parentId)?t.getShapePageTransform(i.parentId):_e.Identity(),d=L.RotWith(l,s,e),h=_e.applyToPoint(_e.Inverse(c),d),u=ES(i.rotation+e);return{id:i.id,type:i.type,x:h.x,y:h.y,rotation:u}}));const a=[];o.forEach(({shape:i})=>{var h,u,p;const l=t.getShape(i.id);if(!l)return;const c=t.getShapeUtil(i);if(r==="start"||r==="one-off"){const y=(h=c.onRotateStart)==null?void 0:h.call(c,i);y&&a.push(y)}const d=(u=c.onRotate)==null?void 0:u.call(c,i,l);if(d&&a.push(d),r==="end"||r==="one-off"){const y=(p=c.onRotateEnd)==null?void 0:p.call(c,i,l);y&&a.push(y)}}),a.length>0&&t.updateShapes(a)}const dxe=e=>{const{store:t}=e,n=t.query.filterHistory("shape"),r=t.query.records("shape",()=>({type:{eq:"arrow"}}));function s(){const o=r.get(),a={};for(const i of o){const{start:l,end:c}=i.props;if(l.type==="binding"){const d=a[l.boundShapeId];d?d.push({arrowId:i.id,handleId:"start"}):a[l.boundShapeId]=[{arrowId:i.id,handleId:"start"}]}if(c.type==="binding"){const d=a[c.boundShapeId];d?d.push({arrowId:i.id,handleId:"end"}):a[c.boundShapeId]=[{arrowId:i.id,handleId:"end"}]}}return a}return ae("arrowBindingsIndex",(o,a)=>{if(v6(o))return s();const i=o,l=n.getDiffSince(a);if(l===ta)return s();let c;function d(p){c||(c={...i}),c[p]?c[p]===i[p]&&(c[p]=[...c[p]]):c[p]=[]}function h(p,y,g){d(p),c[p]=c[p].filter(x=>x.arrowId!==y||x.handleId!==g),c[p].length===0&&delete c[p]}function u(p,y,g){d(p),c[p].push({arrowId:y,handleId:g})}for(const p of l){for(const y of Object.values(p.added))if(e.isShapeOfType(y,"arrow")){const{start:g,end:x}=y.props;g.type==="binding"&&u(g.boundShapeId,y.id,"start"),x.type==="binding"&&u(x.boundShapeId,y.id,"end")}for(const[y,g]of Object.values(p.updated))if(!(!e.isShapeOfType(y,"arrow")||!e.isShapeOfType(g,"arrow")))for(const x of["start","end"]){const w=y.props[x],S=g.props[x];w.type==="binding"&&S.type==="point"?h(w.boundShapeId,y.id,x):w.type==="point"&&S.type==="binding"?u(S.boundShapeId,g.id,x):w.type==="binding"&&S.type==="binding"&&w.boundShapeId!==S.boundShapeId&&(h(w.boundShapeId,y.id,x),u(S.boundShapeId,g.id,x))}for(const y of Object.values(p.removed))if(e.isShapeOfType(y,"arrow")){const{start:g,end:x}=y.props;g.type==="binding"&&h(g.boundShapeId,y.id,"start"),x.type==="binding"&&h(x.boundShapeId,y.id,"end")}}return c??i})},hxe=e=>{const t=e.query.ids("shape");function n(){const r={},s=t.get(),o=Array(s.size);return s.forEach(a=>o.push(e.get(a))),o.sort(Bo),o.forEach(a=>{r[a.parentId]||(r[a.parentId]=[]),r[a.parentId].push(a.id)}),r}return ae("parentsToChildrenWithIndexes",(r,s)=>{if(v6(r))return n();const o=e.history.getDiffSince(s);if(o===ta)return n();if(o.length===0)return r;let a=null;const i=d=>{a||(a={...r}),a[d]?a[d]===r[d]&&(a[d]=[...a[d]]):a[d]=[]},l=new Set;let c;for(let d=0,h=o.length;d<h;d++){c=o[d];for(const u of Object.values(c.added))rc(u)&&(i(u.parentId),a[u.parentId].push(u.id),l.add(a[u.parentId]));for(const[u,p]of Object.values(c.updated))if(rc(p)&&rc(u)){if(u.parentId!==p.parentId)i(u.parentId),i(p.parentId),a[u.parentId].splice(a[u.parentId].indexOf(p.id),1),a[p.parentId].push(p.id),l.add(a[p.parentId]);else if(u.index!==p.index){i(p.parentId);const y=a[p.parentId].indexOf(p.id);a[p.parentId][y]=p.id,l.add(a[p.parentId])}}for(const u of Object.values(c.removed))rc(u)&&(i(u.parentId),a[u.parentId].splice(a[u.parentId].indexOf(u.id),1))}for(const d of l){const h=Ve(d.map(u=>e.get(u)));h.sort(Bo),d.splice(0,d.length,...h.map(u=>u.id))}return a??r})},B5=(e,t,n)=>{for(;!ts(n.parentId);){const r=e.get(n.parentId);if(!r)return!1;n=r}return n.parentId===t},uxe=(e,t)=>{const n=e.query.ids("shape");let r=null;function s(){const o=t();return r=o,new Set([...n.get()].filter(a=>B5(e,o,e.get(a))))}return ae("_shapeIdsInCurrentPage",(o,a)=>{if(v6(o))return s();const i=t();if(i!==r)return s();const l=e.history.getDiffSince(a);if(l===ta)return s();const c=new Pm(o);for(const h of l){for(const u of Object.values(h.added))rc(u)&&B5(e,i,u)&&c.add(u.id);for(const[u,p]of Object.values(h.updated))rc(p)&&(B5(e,i,p)?c.add(p.id):c.remove(p.id));for(const u of Object.keys(h.removed))$o(u)&&c.remove(u)}const d=c.get();return d?p0e(d.value,d.diff):o})},pxe=40;class fxe{constructor(t){m(this,"_clickId","");m(this,"_clickTimeout");m(this,"_clickScreenPoint");m(this,"_previousScreenPoint");m(this,"_getClickTimeout",(t,n=In())=>{this._clickId=n,clearTimeout(this._clickTimeout),this._clickTimeout=setTimeout(()=>{if(this._clickState===t&&this._clickId===n){switch(this._clickState){case"pendingTriple":{this.editor.dispatch({...this.lastPointerInfo,type:"click",name:"double_click",phase:"settle"});break}case"pendingQuadruple":{this.editor.dispatch({...this.lastPointerInfo,type:"click",name:"triple_click",phase:"settle"});break}case"pendingOverflow":{this.editor.dispatch({...this.lastPointerInfo,type:"click",name:"quadruple_click",phase:"settle"});break}}this._clickState="idle"}},t==="idle"||t==="pendingDouble"?w1e:S1e)});m(this,"_clickState","idle");m(this,"lastPointerInfo",{});m(this,"transformPointerDownEvent",t=>{if(!this._clickState)return t;switch(this._clickScreenPoint=L.From(t.point),this._previousScreenPoint&&this._previousScreenPoint.dist(this._clickScreenPoint)>pxe&&(this._clickState="idle"),this._previousScreenPoint=this._clickScreenPoint,this.lastPointerInfo=t,this._clickState){case"idle":return this._clickState="pendingDouble",this._clickTimeout=this._getClickTimeout(this._clickState),t;case"pendingDouble":return this._clickState="pendingTriple",this._clickTimeout=this._getClickTimeout(this._clickState),{...t,type:"click",name:"double_click",phase:"down"};case"pendingTriple":return this._clickState="pendingQuadruple",this._clickTimeout=this._getClickTimeout(this._clickState),{...t,type:"click",name:"triple_click",phase:"down"};case"pendingQuadruple":return this._clickState="pendingOverflow",this._clickTimeout=this._getClickTimeout(this._clickState),{...t,type:"click",name:"quadruple_click",phase:"down"};case"pendingOverflow":return this._clickState="overflow",this._clickTimeout=this._getClickTimeout(this._clickState),t;default:return this._clickTimeout=this._getClickTimeout(this._clickState),t}});m(this,"transformPointerUpEvent",t=>{if(!this._clickState)return t;switch(this._clickScreenPoint=L.From(t.point),this._clickState){case"pendingTriple":return{...this.lastPointerInfo,type:"click",name:"double_click",phase:"up"};case"pendingQuadruple":return{...this.lastPointerInfo,type:"click",name:"triple_click",phase:"up"};case"pendingOverflow":return{...this.lastPointerInfo,type:"click",name:"quadruple_click",phase:"up"};default:return t}});m(this,"cancelDoubleClickTimeout",()=>{this._clickTimeout=clearTimeout(this._clickTimeout),this._clickState="idle"});m(this,"handleMove",()=>{this._clickState!=="idle"&&this._clickScreenPoint&&this._clickScreenPoint.dist(this.editor.inputs.currentScreenPoint)>(this.editor.getInstanceState().isCoarsePointer?IS:PS)&&this.cancelDoubleClickTimeout()});this.editor=t}get clickState(){return this._clickState}}class gxe{constructor(t){m(this,"isSafari");m(this,"isIos");m(this,"isChromeForIos");m(this,"isFirefox");m(this,"isAndroid");this.editor=t,typeof window<"u"&&"navigator"in window?(this.isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),this.isIos=!!navigator.userAgent.match(/iPad/i)||!!navigator.userAgent.match(/iPhone/i),this.isChromeForIos=/crios.*safari/i.test(navigator.userAgent),this.isFirefox=/firefox/i.test(navigator.userAgent),this.isAndroid=/android/i.test(navigator.userAgent)):(this.isSafari=!1,this.isIos=!1,this.isChromeForIos=!1,this.isFirefox=!1,this.isAndroid=!1)}}function Ml(e){if(e){let t=L_;for(;e.length;)t=t.push(e.pop());return t}return L_}class mxe{constructor(){m(this,"length",0);m(this,"head",null);m(this,"tail",this)}push(t){return new H6(t,this)}toArray(){return Xi}[Symbol.iterator](){return{next(){return{value:void 0,done:!0}}}}}const L_=new mxe;class H6{constructor(t,n){m(this,"length");this.head=t,this.tail=n,this.length=n.length+1}push(t){return new H6(t,this)}toArray(){return Array.from(this)}[Symbol.iterator](){let t=this;return{next(){if(t.length){const n=t.head;return t=t.tail,{value:n,done:!1}}else return{value:void 0,done:!0}}}}}class yxe{constructor(t,n){m(this,"_undos",Ws("HistoryManager.undos",Ml()));m(this,"_redos",Ws("HistoryManager.redos",Ml()));m(this,"_batchDepth",0);m(this,"onBatchComplete",()=>{});m(this,"_commands",{});m(this,"createCommand",(t,n,r)=>{if(this._commands[t])throw new Error(`Duplicate command: ${t}`);this._commands[t]=r;const s=(...o)=>{if(!this._batchDepth)return this.batch(()=>s(...o)),this.ctx;const a=n(...o);if(!a)return this.ctx;const{data:i,ephemeral:l,squashing:c,preservesRedoStack:d}=a;if(this.ignoringUpdates((h,u)=>(r.do(i),{undos:h,redos:u})),!l){const h=this._undos.get().head;c&&h&&h.type==="command"&&h.name===t&&h.preservesRedoStack===d?this._undos.update(u=>u.tail.push({...h,id:In(),data:r.squash(h.data,i)})):this._undos.update(u=>u.push({type:"command",name:t,data:i,id:In(),preservesRedoStack:d})),a.preservesRedoStack||this._redos.set(Ml()),this.ctx.emit("change-history",{reason:"push"})}return this.ctx};return s});m(this,"batch",t=>{try{this._batchDepth++,this._batchDepth===1?yf(()=>{var r,s;const n=(r=this._undos.get().head)==null?void 0:r.id;t(),n!==((s=this._undos.get().head)==null?void 0:s.id)&&this.onBatchComplete()}):t()}catch(n){throw this.annotateError(n),n}finally{this._batchDepth--}return this});m(this,"ignoringUpdates",t=>{let n=this._undos.get(),r=this._redos.get();this._undos.set(Ml()),this._redos.set(Ml());try{({undos:n,redos:r}=yf(()=>t(n,r)))}finally{this._undos.set(n),this._redos.set(r)}});m(this,"_undo",({pushToRedoStack:t,toMark:n=void 0})=>(this.ignoringUpdates((r,s)=>{var o;if(r.length===0)return{undos:r,redos:s};for(;((o=r.head)==null?void 0:o.type)==="STOP";){const a=r.head;if(r=r.tail,t&&(s=s.push(a)),a.id===n)return this.ctx.emit("change-history",t?{reason:"undo"}:{reason:"bail",markId:n}),{undos:r,redos:s}}if(r.length===0)return this.ctx.emit("change-history",t?{reason:"undo"}:{reason:"bail",markId:n}),{undos:r,redos:s};for(;r.head;){const a=r.head;if(r=r.tail,t&&(s=s.push(a)),a.type==="STOP"){if(a.onUndo&&(!n||a.id===n))return this.ctx.emit("change-history",t?{reason:"undo"}:{reason:"bail",markId:n}),{undos:r,redos:s}}else this._commands[a.name].undo(a.data)}return this.ctx.emit("change-history",t?{reason:"undo"}:{reason:"bail",markId:n}),{undos:r,redos:s}}),this));m(this,"undo",()=>(this._undo({pushToRedoStack:!0}),this));m(this,"redo",()=>(this.ignoringUpdates((t,n)=>{var r;if(n.length===0)return{undos:t,redos:n};for(;((r=n.head)==null?void 0:r.type)==="STOP";)t=t.push(n.head),n=n.tail;if(n.length===0)return this.ctx.emit("change-history",{reason:"redo"}),{undos:t,redos:n};for(;n.head;){const s=n.head;if(t=t.push(n.head),n=n.tail,s.type==="STOP"){if(s.onRedo)break}else{const o=this._commands[s.name];o.redo?o.redo(s.data):o.do(s.data)}}return this.ctx.emit("change-history",{reason:"redo"}),{undos:t,redos:n}}),this));m(this,"bail",()=>(this._undo({pushToRedoStack:!1}),this));m(this,"bailToMark",t=>(this._undo({pushToRedoStack:!1,toMark:t}),this));m(this,"mark",(t=In(),n=!0,r=!0)=>{const s=this._undos.get().head;return s&&s.type==="STOP"&&s.id===t&&s.onUndo===n&&s.onRedo===r?s.id:(this._undos.update(o=>o.push({type:"STOP",id:t,onUndo:n,onRedo:r})),this.ctx.emit("mark-history",{id:t}),t)});this.ctx=t,this.annotateError=n}getNumUndos(){return this._undos.get().length}getNumRedos(){return this._redos.get().length}clear(){this._undos.set(Ml()),this._redos.set(Ml())}}class xxe{constructor(t){m(this,"scribbleItems",new Map);m(this,"state","paused");m(this,"addScribble",(t,n=In())=>{const r={id:n,scribble:{id:n,size:20,color:"accent",opacity:.8,delay:0,points:[],shrink:.1,taper:!0,...t,state:"starting"},timeoutMs:0,delayRemaining:t.delay??0,prev:null,next:null};return this.scribbleItems.set(n,r),this.state==="paused"&&this.resume(),r});m(this,"stop",t=>{const n=this.scribbleItems.get(t);if(!n)throw Error(`Scribble with id ${t} not found`);return n.delayRemaining=Math.min(n.delayRemaining,200),n.scribble.state="stopping",n});m(this,"addPoint",(t,n,r)=>{const s=this.scribbleItems.get(t);if(!s)throw Error(`Scribble with id ${t} not found`);const{prev:o}=s,a={x:n,y:r,z:.5};return(!o||L.Dist(o,a)>=1)&&(s.next=a),s});m(this,"tick",t=>{this.editor.batch(()=>{this.scribbleItems.forEach(n=>{if(n.scribble.state==="starting"){const{next:l,prev:c}=n;l&&l!==c&&(n.prev=l,n.scribble.points.push(l)),n.scribble.points.length>8&&(n.scribble.state="active");return}n.delayRemaining>0&&(n.delayRemaining=Math.max(0,n.delayRemaining-t)),n.timeoutMs+=t,n.timeoutMs>=16&&(n.timeoutMs=0);const{delayRemaining:r,timeoutMs:s,prev:o,next:a,scribble:i}=n;switch(i.state){case"active":{a&&a!==o?(n.prev=a,i.points.push(a),r===0&&i.points.length>8&&i.points.shift()):s===0&&(i.points.length>1?i.points.shift():n.delayRemaining=i.delay);break}case"stopping":{if(n.delayRemaining===0&&s===0){if(i.points.length===1){this.scribbleItems.delete(n.id);return}i.shrink&&(i.size=Math.max(1,i.size*(1-i.shrink))),i.points.shift()}break}}}),this.editor.updateInstanceState({scribbles:Array.from(this.scribbleItems.values()).map(({scribble:n})=>({...n,points:[...n.points]})).slice(-5)}),this.scribbleItems.size===0&&this.pause()})});this.editor=t}resume(){this.state="running",this.editor.addListener("tick",this.tick)}pause(){this.editor.removeListener("tick",this.tick),this.state="paused"}reset(){this.editor.updateInstanceState({scribbles:[]}),this.scribbleItems.clear(),this.pause()}}class wxe{constructor(t){m(this,"_beforeCreateHandlers",{});m(this,"_afterCreateHandlers",{});m(this,"_beforeChangeHandlers",{});m(this,"_afterChangeHandlers",{});m(this,"_beforeDeleteHandlers",{});m(this,"_afterDeleteHandlers",{});m(this,"_batchCompleteHandlers",[]);this.editor=t,t.store.onBeforeCreate=(r,s)=>{const o=this._beforeCreateHandlers[r.typeName];if(o){let a=r;for(const i of o)a=i(a,s);return a}return r},t.store.onAfterCreate=(r,s)=>{const o=this._afterCreateHandlers[r.typeName];if(o)for(const a of o)a(r,s)},t.store.onBeforeChange=(r,s,o)=>{const a=this._beforeChangeHandlers[s.typeName];if(a){let i=s;for(const l of a)i=l(r,i,o);return i}return s};let n=0;t.store.onAfterChange=(r,s,o)=>{if(n++,n>1e3)console.error("[CleanupManager.onAfterChange] Maximum update depth exceeded, bailing out.");else{const a=this._afterChangeHandlers[s.typeName];if(a)for(const i of a)i(r,s,o)}n--},t.store.onBeforeDelete=(r,s)=>{const o=this._beforeDeleteHandlers[r.typeName];if(o){for(const a of o)if(a(r,s)===!1)return!1}},t.store.onAfterDelete=(r,s)=>{const o=this._afterDeleteHandlers[r.typeName];if(o)for(const a of o)a(r,s)},t.history.onBatchComplete=()=>{this._batchCompleteHandlers.forEach(r=>r())}}registerBeforeCreateHandler(t,n){return this._beforeCreateHandlers[t]||(this._beforeCreateHandlers[t]=[]),this._beforeCreateHandlers[t].push(n),()=>jl(this._beforeCreateHandlers[t],n)}registerAfterCreateHandler(t,n){return this._afterCreateHandlers[t]||(this._afterCreateHandlers[t]=[]),this._afterCreateHandlers[t].push(n),()=>jl(this._afterCreateHandlers[t],n)}registerBeforeChangeHandler(t,n){return this._beforeChangeHandlers[t]||(this._beforeChangeHandlers[t]=[]),this._beforeChangeHandlers[t].push(n),()=>jl(this._beforeChangeHandlers[t],n)}registerAfterChangeHandler(t,n){return this._afterChangeHandlers[t]||(this._afterChangeHandlers[t]=[]),this._afterChangeHandlers[t].push(n),()=>jl(this._afterChangeHandlers[t],n)}registerBeforeDeleteHandler(t,n){return this._beforeDeleteHandlers[t]||(this._beforeDeleteHandlers[t]=[]),this._beforeDeleteHandlers[t].push(n),()=>jl(this._beforeDeleteHandlers[t],n)}registerAfterDeleteHandler(t,n){return this._afterDeleteHandlers[t]||(this._afterDeleteHandlers[t]=[]),this._afterDeleteHandlers[t].push(n),()=>jl(this._afterDeleteHandlers[t],n)}registerBatchCompleteHandler(t){return this._batchCompleteHandlers.push(t),()=>jl(this._batchCompleteHandlers,t)}}function jl(e,t){const n=e.indexOf(t);n>=0&&e.splice(n,1)}var Sxe=Object.defineProperty,bxe=Object.getOwnPropertyDescriptor,Bc=(e,t,n,r)=>{for(var s=r>1?void 0:r?bxe(t,n):t,o=e.length-1,a;o>=0;o--)(a=e[o])&&(s=(r?a(t,n,s):a(s))||s);return r&&s&&Sxe(t,n,s),s};const Ie=e=>Math.round(e*10**8)/10**8;function ka(e,t,n,r,s){const o=e.filter(i=>(r==="forward"?i.startNode.id===t:i.endNode.id===t)&&Ie(i.length)===Ie(n)&&co(i.breadthIntersection[0],i.breadthIntersection[1],s[0],s[1]));if(o.length===0)return[];const a=new Set;return o.forEach(i=>{const l=r==="forward"?i.endNode.id:i.startNode.id;if(!a.has(l)){a.add(l);const c=ka(e,l,n,r,co(i.breadthIntersection[0],i.breadthIntersection[1],s[0],s[1]));o.push(...c)}}),o}function vxe(e){e.sort((t,n)=>n.gaps.length-t.gaps.length);for(let t=e.length-1;t>0;t--){const n=e[t];for(let r=t-1;r>=0;r--){const s=e[r];if(s.direction===n.direction&&n.gaps.every(o=>s.gaps.some(a=>Ie(o.startEdge[0].x)===Ie(a.startEdge[0].x)&&Ie(o.startEdge[0].y)===Ie(a.startEdge[0].y)&&Ie(o.startEdge[1].x)===Ie(a.startEdge[1].x)&&Ie(o.startEdge[1].y)===Ie(a.startEdge[1].y))&&s.gaps.some(a=>Ie(o.endEdge[0].x)===Ie(a.endEdge[0].x)&&Ie(o.endEdge[0].y)===Ie(a.endEdge[0].y)&&Ie(o.endEdge[1].x)===Ie(a.endEdge[1].x)&&Ie(o.endEdge[1].y)===Ie(a.endEdge[1].y)))){e.splice(t,1);break}}}}class Sl{constructor(t){m(this,"_snapLines",Ws("snapLines",void 0));this.editor=t}getLines(){return this._snapLines.get()??Xi}clear(){this.getLines().length&&this._snapLines.set(void 0)}setLines(t){this._snapLines.set(t)}getSnapPointsCache(){const{editor:t}=this;return t.store.createComputedCache("snapPoints",n=>{const r=t.getShapePageTransform(n.id);return r?this.editor.getShapeGeometry(n).snapPoints.map((o,a)=>{const{x:i,y:l}=_e.applyToPoint(r,o);return{x:i,y:l,id:`${n.id}:${a}`}}):void 0})}getSnapThreshold(){return 8/this.editor.getZoomLevel()}getSnappableShapes(){const{editor:t}=this,n=t.getRenderingBounds(),r=t.getSelectedShapeIds(),s=[],o=a=>{const i=t.getSortedChildIdsForParent(a);for(const l of i){if(r.includes(l))continue;const c=t.getShape(l);if(!c||!t.getShapeUtil(c).canSnap(c))continue;const h=t.getShapePageBounds(l);if(h&&n.includes(h)){if(t.isShapeOfType(c,"group")){o(l);continue}s.push({id:l,pageBounds:h,isClosed:t.getShapeGeometry(c).isClosed})}}};return o(this.getCurrentCommonAncestor()??t.getCurrentPageId()),s}getCurrentCommonAncestor(){return this.editor.findCommonAncestor(this.editor.getSelectedShapes())}getSnappablePoints(){const t=this.getSnapPointsCache(),n=this.getSnappableShapes(),r=[];return n.forEach(s=>{const o=t.get(s.id);o&&r.push(...o)}),r}getVisibleGaps(){const t=[],n=[];let r,s;const o=this.getSnappableShapes().sort((i,l)=>i.pageBounds.minX-l.pageBounds.minX);for(let i=0;i<o.length;i++){r=o[i];for(let l=i+1;l<o.length;l++)s=o[l],r.pageBounds.maxX<s.pageBounds.minX&&Ru(r.pageBounds.minY,r.pageBounds.maxY,s.pageBounds.minY,s.pageBounds.maxY)&&t.push({startNode:r,endNode:s,startEdge:[new L(r.pageBounds.maxX,r.pageBounds.minY),new L(r.pageBounds.maxX,r.pageBounds.maxY)],endEdge:[new L(s.pageBounds.minX,s.pageBounds.minY),new L(s.pageBounds.minX,s.pageBounds.maxY)],length:s.pageBounds.minX-r.pageBounds.maxX,breadthIntersection:co(r.pageBounds.minY,r.pageBounds.maxY,s.pageBounds.minY,s.pageBounds.maxY)})}const a=o.sort((i,l)=>i.pageBounds.minY-l.pageBounds.minY);for(let i=0;i<a.length;i++){r=a[i];for(let l=i+1;l<a.length;l++)s=a[l],r.pageBounds.maxY<s.pageBounds.minY&&Ru(r.pageBounds.minX,r.pageBounds.maxX,s.pageBounds.minX,s.pageBounds.maxX)&&n.push({startNode:r,endNode:s,startEdge:[new L(r.pageBounds.minX,r.pageBounds.maxY),new L(r.pageBounds.maxX,r.pageBounds.maxY)],endEdge:[new L(s.pageBounds.minX,s.pageBounds.minY),new L(s.pageBounds.maxX,s.pageBounds.minY)],length:s.pageBounds.minY-r.pageBounds.maxY,breadthIntersection:co(r.pageBounds.minX,r.pageBounds.maxX,s.pageBounds.minX,s.pageBounds.maxX)})}return{horizontal:t,vertical:n}}snapTranslate({lockedAxis:t,initialSelectionPageBounds:n,initialSelectionSnapPoints:r,dragDelta:s}){var x,w;const o=this.getSnapThreshold(),a=this.getSnappablePoints(),i=n.clone().translate(s),l=r.map(({x:S,y:v},k)=>({id:"selection:"+k,x:S+s.x,y:v+s.y})),c=a,d=[],h=[],u=new L(o,o);this.collectPointSnaps({minOffset:u,nearestSnapsX:d,nearestSnapsY:h,otherNodeSnapPoints:c,selectionSnapPoints:l}),this.collectGapSnaps({selectionPageBounds:i,nearestSnapsX:d,nearestSnapsY:h,minOffset:u});const p=new L(t==="x"?0:((x=d[0])==null?void 0:x.nudge)??0,t==="y"?0:((w=h[0])==null?void 0:w.nudge)??0);u.x=0,u.y=0,d.length=0,h.length=0,l.forEach(S=>{S.x+=p.x,S.y+=p.y}),i.translate(p),this.collectPointSnaps({minOffset:u,nearestSnapsX:d,nearestSnapsY:h,otherNodeSnapPoints:c,selectionSnapPoints:l}),this.collectGapSnaps({selectionPageBounds:i,nearestSnapsX:d,nearestSnapsY:h,minOffset:u});const y=this.getPointSnapLines({nearestSnapsX:d,nearestSnapsY:h}),g=this.getGapSnapLines({selectionPageBounds:i,nearestSnapsX:d,nearestSnapsY:h});return this._snapLines.set([...g,...y]),{nudge:p}}getOutlinesInPageSpace(){return this.getSnappableShapes().map(({id:t,isClosed:n})=>{const r=lh(this.editor.getShapeGeometry(t).vertices);n&&r.push(r[0]);const s=this.editor.getShapePageTransform(t);if(!s)throw Error("No page transform");return _e.applyToPoints(s,r)})}getSnappingHandleDelta({handlePoint:t,additionalSegments:n}){const r=this.getSnapThreshold(),s=this.getOutlinesInPageSpace();let o=r,a=null,i,l,c,d;const h=[...s,...n];for(const u of h)for(let p=0;p<u.length-1;p++)i=u[p],l=u[p+1],c=L.NearestPointOnLineSegment(i,l,t),d=L.Dist(t,c),!isNaN(d)&&d<o&&(o=d,a=c);return a?(this._snapLines.set([{id:In(),type:"points",points:[a]}]),L.Sub(a,t)):null}snapResize({initialSelectionPageBounds:t,dragDelta:n,handle:r,isAspectRatioLocked:s,isResizingFromCenter:o}){var E,I;const a=this.getSnapThreshold(),{box:i,scaleX:l,scaleY:c}=Qe.Resize(t,r,o?n.x*2:n.x,o?n.y*2:n.y,s);let d=r;l<0&&(d=t1e(d)),c<0&&(d=e1e(d)),o&&(i.center=t.center);const h=d==="top"||d==="bottom",u=d==="left"||d==="right",p=M_(d,i),y=this.getSnappablePoints(),g=[],x=[],w=new L(a,a);this.collectPointSnaps({minOffset:w,nearestSnapsX:g,nearestSnapsY:x,otherNodeSnapPoints:y,selectionSnapPoints:p});const S=new L(h?0:((E=g[0])==null?void 0:E.nudge)??0,u?0:((I=x[0])==null?void 0:I.nudge)??0);if(s&&n1e(d)&&S.len()!==0){const z=g.length&&x.length?Math.abs(S.x)<Math.abs(S.y)?"x":"y":g.length?"x":"y",A=t.aspectRatio;z==="x"?(x.length=0,S.y=S.x/A,(d==="bottom_left"||d==="top_right")&&(S.y=-S.y)):(g.length=0,S.x=S.y*A,(d==="bottom_left"||d==="top_right")&&(S.x=-S.x))}const v=L.Add(n,S),{box:k}=Qe.Resize(t,r,o?v.x*2:v.x,o?v.y*2:v.y,s);o&&(k.center=t.center);const C=M_("any",k);g.length=0,x.length=0,w.x=0,w.y=0,this.collectPointSnaps({minOffset:w,nearestSnapsX:g,nearestSnapsY:x,otherNodeSnapPoints:y,selectionSnapPoints:C});const _=this.getPointSnapLines({nearestSnapsX:g,nearestSnapsY:x});return this._snapLines.set([..._]),{nudge:S}}collectPointSnaps({selectionSnapPoints:t,otherNodeSnapPoints:n,minOffset:r,nearestSnapsX:s,nearestSnapsY:o}){for(const a of t)for(const i of n){const l=L.Sub(a,i),c=Math.abs(l.x),d=Math.abs(l.y);Ie(c)<=Ie(r.x)&&(Ie(c)<Ie(r.x)&&(s.length=0),s.push({type:"points",points:{thisPoint:a,otherPoint:i},nudge:i.x-a.x}),r.x=c),Ie(d)<=Ie(r.y)&&(Ie(d)<Ie(r.y)&&(o.length=0),o.push({type:"points",points:{thisPoint:a,otherPoint:i},nudge:i.y-a.y}),r.y=d)}}collectGapSnaps({selectionPageBounds:t,minOffset:n,nearestSnapsX:r,nearestSnapsY:s}){const{horizontal:o,vertical:a}=this.getVisibleGaps();for(const i of o){if(!Ru(i.breadthIntersection[0],i.breadthIntersection[1],t.minY,t.maxY))continue;const c=i.startEdge[0].x+i.length/2-t.center.x;if(i.length>t.width&&Ie(Math.abs(c))<=Ie(n.x)){Ie(Math.abs(c))<Ie(n.x)&&(r.length=0),n.x=Math.abs(c);const w={type:"gap_center",gap:i,nudge:c},S=r.find(({type:k})=>k==="gap_center"),v=S&&co(i.breadthIntersection[0],i.breadthIntersection[1],S.gap.breadthIntersection[0],S.gap.breadthIntersection[1]);S&&S.gap.length>i.length&&v?r[r.indexOf(S)]=w:(!S||!v)&&r.push(w)}const h=i.startNode.pageBounds.minX-i.length,u=t.maxX,p=h-u;Ie(Math.abs(p))<=Ie(n.x)&&(Ie(Math.abs(p))<Ie(n.x)&&(r.length=0),n.x=Math.abs(p),r.push({type:"gap_duplicate",gap:i,protrusionDirection:"left",nudge:p}));const y=i.endNode.pageBounds.maxX+i.length,g=t.minX,x=y-g;Ie(Math.abs(x))<=Ie(n.x)&&(Ie(Math.abs(x))<Ie(n.x)&&(r.length=0),n.x=Math.abs(x),r.push({type:"gap_duplicate",gap:i,protrusionDirection:"right",nudge:x}))}for(const i of a){if(!Ru(i.breadthIntersection[0],i.breadthIntersection[1],t.minX,t.maxX))continue;const c=i.startEdge[0].y+i.length/2-t.center.y;if(i.length>t.height&&Ie(Math.abs(c))<=Ie(n.y)){Ie(Math.abs(c))<Ie(n.y)&&(s.length=0),n.y=Math.abs(c);const w={type:"gap_center",gap:i,nudge:c},S=s.find(({type:k})=>k==="gap_center"),v=S&&Ru(S.gap.breadthIntersection[0],S.gap.breadthIntersection[1],i.breadthIntersection[0],i.breadthIntersection[1]);S&&S.gap.length>i.length&&v?s[s.indexOf(S)]=w:(!S||!v)&&s.push(w);continue}const h=i.startNode.pageBounds.minY-i.length,u=t.maxY,p=h-u;Ie(Math.abs(p))<=Ie(n.y)&&(Ie(Math.abs(p))<Ie(n.y)&&(s.length=0),n.y=Math.abs(p),s.push({type:"gap_duplicate",gap:i,protrusionDirection:"top",nudge:p}));const y=i.endNode.pageBounds.maxY+i.length,g=t.minY,x=y-g;Ie(Math.abs(x))<=Ie(n.y)&&(Ie(Math.abs(x))<Ie(n.y)&&(s.length=0),n.y=Math.abs(x),s.push({type:"gap_duplicate",gap:i,protrusionDirection:"bottom",nudge:x}))}}getPointSnapLines({nearestSnapsX:t,nearestSnapsY:n}){const r={},s={};if(t.length>0){for(const o of t)if(o.type==="points"){const a=Ie(o.points.otherPoint.x);r[a]||(r[a]=[]),r[a].push(o.points)}}if(n.length>0){for(const o of n)if(o.type==="points"){const a=Ie(o.points.otherPoint.y);s[a]||(s[a]=[]),s[a].push(o.points)}}return Object.values(r).concat(Object.values(s)).map(o=>({id:In(),type:"points",points:s1(o.map(a=>L.From(a.otherPoint)).concat(o.map(a=>L.From(a.thisPoint))),(a,i)=>a.equals(i))}))}getGapSnapLines({selectionPageBounds:t,nearestSnapsX:n,nearestSnapsY:r}){const{vertical:s,horizontal:o}=this.getVisibleGaps(),a={top:t.sides[0],right:t.sides[1],bottom:[t.corners[3],t.corners[2]],left:[t.corners[0],t.corners[3]]},i=[];if(n.length>0)for(const l of n){if(l.type==="points")continue;const{gap:{breadthIntersection:c,startEdge:d,startNode:h,endNode:u,length:p,endEdge:y}}=l;switch(l.type){case"gap_center":{const g=(p-t.width)/2,x=co(c[0],c[1],t.minY,t.maxY);i.push({type:"gaps",direction:"horizontal",id:In(),gaps:[...ka(o,h.id,g,"backward",x),{startEdge:d,endEdge:a.left},{startEdge:a.right,endEdge:y},...ka(o,u.id,g,"forward",x)]});break}case"gap_duplicate":{const g=co(c[0],c[1],t.minY,t.maxY);i.push({type:"gaps",direction:"horizontal",id:In(),gaps:l.protrusionDirection==="left"?[{startEdge:a.right,endEdge:d.map(x=>x.clone().addXY(-h.pageBounds.width,0))},{startEdge:d,endEdge:y},...ka(o,u.id,p,"forward",g)]:[...ka(o,h.id,p,"backward",g),{startEdge:d,endEdge:y},{startEdge:y.map(x=>x.clone().addXY(l.gap.endNode.pageBounds.width,0)),endEdge:a.left}]});break}}}if(r.length>0)for(const l of r){if(l.type==="points")continue;const{gap:{breadthIntersection:c,startEdge:d,startNode:h,endNode:u,length:p,endEdge:y}}=l;switch(l.type){case"gap_center":{const g=(p-t.height)/2,x=co(c[0],c[1],t.minX,t.maxX);i.push({type:"gaps",direction:"vertical",id:In(),gaps:[...ka(s,h.id,g,"backward",x),{startEdge:d,endEdge:a.top},{startEdge:a.bottom,endEdge:y},...ka(s,l.gap.endNode.id,g,"forward",x)]});break}case"gap_duplicate":{const g=co(c[0],c[1],t.minX,t.maxX);i.push({type:"gaps",direction:"vertical",id:In(),gaps:l.protrusionDirection==="top"?[{startEdge:a.bottom,endEdge:d.map(x=>x.clone().addXY(0,-h.pageBounds.height))},{startEdge:d,endEdge:y},...ka(s,u.id,p,"forward",g)]:[...ka(s,h.id,p,"backward",g),{startEdge:d,endEdge:y},{startEdge:y.map(x=>x.clone().addXY(0,u.pageBounds.height)),endEdge:a.top}]})}break}}return vxe(i),i}}Bc([ae],Sl.prototype,"getSnapPointsCache",1);Bc([ae],Sl.prototype,"getSnapThreshold",1);Bc([ae],Sl.prototype,"getSnappableShapes",1);Bc([ae],Sl.prototype,"getCurrentCommonAncestor",1);Bc([ae],Sl.prototype,"getSnappablePoints",1);Bc([ae],Sl.prototype,"getVisibleGaps",1);Bc([ae],Sl.prototype,"getOutlinesInPageSpace",1);function M_(e,t){const{minX:n,maxX:r,minY:s,maxY:o}=t,a=[];switch(e){case"top":case"left":case"top_left":case"any":a.push({id:"top_left",handle:"top_left",x:n,y:s})}switch(e){case"top":case"right":case"top_right":case"any":a.push({id:"top_right",handle:"top_right",x:r,y:s})}switch(e){case"bottom":case"right":case"bottom_right":case"any":a.push({id:"bottom_right",handle:"bottom_right",x:r,y:o})}switch(e){case"bottom":case"left":case"bottom_left":case"any":a.push({id:"bottom_left",handle:"bottom_left",x:n,y:o})}return a}const kxe=/\r?\n|\r/g;function j_(e){return e.replace(kxe,`
`).split(`
`).map(t=>t||" ").join(`
`)}const Cxe={start:"left","start-legacy":"left",middle:"center","middle-legacy":"center",end:"right","end-legacy":"right"},_xe=/\s/;class Exe{constructor(t){m(this,"measureText",(t,n)=>{const r=this.getTextElement();r.setAttribute("dir","ltr"),r.style.setProperty("font-family",n.fontFamily),r.style.setProperty("font-style",n.fontStyle),r.style.setProperty("font-weight",n.fontWeight),r.style.setProperty("font-size",n.fontSize+"px"),r.style.setProperty("line-height",n.lineHeight*n.fontSize+"px"),r.style.setProperty("max-width",n.maxWidth===null?null:n.maxWidth+"px"),r.style.setProperty("min-width",n.minWidth??null),r.style.setProperty("padding",n.padding),r.textContent=j_(t);const s=r.getBoundingClientRect();return{x:0,y:0,w:s.width,h:s.height}});this.editor=t}getTextElement(){const t=document.querySelector(".tl-text-measure");t==null||t.remove();const n=document.createElement("div");return this.editor.getContainer().appendChild(n),n.id=`__textMeasure_${In()}`,n.classList.add("tl-text"),n.classList.add("tl-text-measure"),n.tabIndex=-1,n}measureElementTextNodeSpans(t,{shouldTruncateToFirstLine:n=!1}={}){const r=[],s=t.getBoundingClientRect(),o=-s.left,a=-s.top,i=new Range,l=t.childNodes[0];let c=0,d=null,h=null,u=0,p=!1;for(const y of t.childNodes)if(y.nodeType===Node.TEXT_NODE)for(const g of y.textContent??""){i.setStart(l,c),i.setEnd(l,c+g.length);const x=i.getClientRects(),w=x[x.length-1],S=w.top+a,v=w.left+o,k=w.right+o,C=_xe.test(g);if(C!==h||S!==u||!d){if(d){if(n&&S!==u){p=!0;break}r.push(d)}d={box:{x:v,y:S,w:w.width,h:w.height},text:g}}else d.box.w=k-d.box.x,d.text+=g;h=C,u=S,c+=g.length}return d&&r.push(d),{spans:r,didTruncate:p}}measureTextSpans(t,n){if(t==="")return[];const r=n.overflow==="truncate-ellipsis"||n.overflow==="truncate-clip",s=this.getTextElement(),o=Math.ceil(n.width-n.padding*2);s.style.setProperty("width",`${o}px`),s.style.setProperty("height","min-content"),s.style.setProperty("dir","ltr"),s.style.setProperty("font-size",`${n.fontSize}px`),s.style.setProperty("font-family",n.fontFamily),s.style.setProperty("font-weight",n.fontWeight),s.style.setProperty("line-height",`${n.lineHeight*n.fontSize}px`),s.style.setProperty("text-align",Cxe[n.textAlign]),r&&(s.style.setProperty("overflow-wrap","anywhere"),s.style.setProperty("word-break","break-all")),t=j_(t),s.textContent=t;const{spans:a,didTruncate:i}=this.measureElementTextNodeSpans(s,{shouldTruncateToFirstLine:r});if(n.overflow==="truncate-ellipsis"&&i){s.textContent="";const l=Math.ceil(this.measureElementTextNodeSpans(s).spans[0].box.w);s.style.setProperty("width",`${o-l}px`),s.textContent=t;const c=this.measureElementTextNodeSpans(s,{shouldTruncateToFirstLine:!0}).spans,d=c[c.length-1];return c.push({text:"",box:{x:Math.min(d.box.x+d.box.w,n.width-n.padding-l),y:d.box.y,w:l,h:d.box.h}}),c}return s.remove(),a}}class Ixe{constructor(t){m(this,"raf");m(this,"isPaused",!0);m(this,"last",0);m(this,"t",0);m(this,"start",()=>{this.isPaused=!1,cancelAnimationFrame(this.raf),this.raf=requestAnimationFrame(this.tick),this.last=Date.now()});m(this,"tick",()=>{if(this.isPaused)return;const t=Date.now(),n=t-this.last;if(this.last=t,this.t+=n,this.editor.emit("frame",n),this.t<16){this.raf=requestAnimationFrame(this.tick);return}this.t-=16,this.updatePointerVelocity(n),this.editor.emit("tick",n),this.raf=requestAnimationFrame(this.tick)});m(this,"dispose",()=>{this.isPaused=!0,cancelAnimationFrame(this.raf)});m(this,"prevPoint",new L);m(this,"updatePointerVelocity",t=>{const{prevPoint:n,editor:{inputs:{currentScreenPoint:r,pointerVelocity:s}}}=this;if(t===0)return;const o=L.Sub(r,n);this.prevPoint=r.clone();const a=o.len(),i=a?o.div(a):new L(0,0),l=s.clone().lrp(i.mul(a/t),.5);Math.abs(l.x)<.01&&(l.x=0),Math.abs(l.y)<.01&&(l.y=0),s.equals(l)||(this.editor.inputs.pointerVelocity=l)});this.editor=t,this.editor.disposables.add(this.dispose),this.start()}}var Pxe=Object.defineProperty,zxe=Object.getOwnPropertyDescriptor,li=(e,t,n,r)=>{for(var s=r>1?void 0:r?zxe(t,n):t,o=e.length-1,a;o>=0;o--)(a=e[o])&&(s=(r?a(t,n,s):a(s))||s);return r&&s&&Pxe(t,n,s),s};class xa{constructor(t,n){m(this,"updateUserPreferences",t=>{this.user.setUserPreferences({...this.user.userPreferences.get(),...t})});this.user=t,this.inferDarkMode=n}getUserPreferences(){return{id:this.getId(),name:this.getName(),locale:this.getLocale(),color:this.getColor(),isDarkMode:this.getIsDarkMode(),animationSpeed:this.getAnimationSpeed(),isSnapMode:this.getIsSnapMode()}}getIsDarkMode(){return this.user.userPreferences.get().isDarkMode??(this.inferDarkMode?j2e():!1)}getEdgeScrollSpeed(){return this.user.userPreferences.get().edgeScrollSpeed??Fs.edgeScrollSpeed}getAnimationSpeed(){return this.user.userPreferences.get().animationSpeed??Fs.animationSpeed}getId(){return this.user.userPreferences.get().id}getName(){return this.user.userPreferences.get().name??Fs.name}getLocale(){return this.user.userPreferences.get().locale??Fs.locale}getColor(){return this.user.userPreferences.get().color??Fs.color}getIsSnapMode(){return this.user.userPreferences.get().isSnapMode??Fs.isSnapMode}}li([ae],xa.prototype,"getUserPreferences",1);li([ae],xa.prototype,"getIsDarkMode",1);li([ae],xa.prototype,"getEdgeScrollSpeed",1);li([ae],xa.prototype,"getAnimationSpeed",1);li([ae],xa.prototype,"getId",1);li([ae],xa.prototype,"getName",1);li([ae],xa.prototype,"getLocale",1);li([ae],xa.prototype,"getColor",1);li([ae],xa.prototype,"getIsSnapMode",1);function qu(e){return Math.abs(e.props.bend)<8}function d1(e,t){if(t.type==="point")return;const n=e.getShape(t.boundShapeId),r=e.getShapePageTransform(n),s=e.getShapeGeometry(n),o=s instanceof X6?s.children[0].vertices:s.vertices;return{shape:n,transform:r,isClosed:s.isClosed,isExact:t.isExact,didIntersect:!1,outline:o}}function R_(e,t,n,r){if(n.type==="point")return L.From(n);const s=e.getShape(n.boundShapeId);if(s){const{point:o,size:a}=e.getShapeGeometry(s).bounds,i=L.Add(o,L.MulV(n.isPrecise||r?n.normalizedAnchor:{x:.5,y:.5},a)),l=_e.applyToPoint(e.getShapePageTransform(s),i);return _e.applyToPoint(_e.Inverse(t),l)}else return new L(0,0)}function ql(e,t){const n=e.getShapePageTransform(t);let r,s;t.props.start.type==="binding"&&t.props.end.type==="binding"&&(r=t.props.start.boundShapeId,s=t.props.end.boundShapeId);const o=G6(e,r,s),a=R_(e,n,t.props.start,o==="double-bound"||o==="start-contains-end"),i=R_(e,n,t.props.end,o==="double-bound"||o==="end-contains-start");return{start:a,end:i}}const Xd=10,h1=10,Axe=10,ji={s:2,m:3.5,l:5,xl:10};function G6(e,t,n){if(!t||!n)return"safe";if(t===n)return"double-bound";const r=e.getShapePageBounds(t),s=e.getShapePageBounds(n);if(r&&s){if(r.contains(s))return"start-contains-end";if(s.contains(r))return"end-contains-start"}return"safe"}function _p(e,t){const{start:n,end:r,arrowheadStart:s,arrowheadEnd:o}=t.props,a=ql(e,t),i=a.start.clone(),l=a.end.clone(),c=L.Med(i,l);if(L.Equals(i,l))return{isStraight:!0,start:{handle:i,point:i,arrowhead:t.props.arrowheadStart},end:{handle:l,point:l,arrowhead:t.props.arrowheadEnd},middle:c,isValid:!1,length:0};const d=L.Sub(l,i).uni(),h=d1(e,n),u=d1(e,r),p=e.getShapePageTransform(t);$_(l,a.start,p,u),$_(i,a.end,p,h);let y=0,g=0,x=0,w=0,S=Xd;const v=h&&u&&h.shape===u.shape,k=h&&u?G6(e,h.shape.id,u.shape.id):"safe";k==="safe"&&h&&u&&!v&&!h.isExact&&!u.isExact&&(u.didIntersect&&!h.didIntersect?h.isClosed&&i.setTo(l.clone().add(d.clone().mul(Xd))):u.didIntersect||u.isClosed&&l.setTo(i.clone().sub(d.clone().mul(Xd))));const C=L.Sub(l,i).uni(),_=!L.Equals(C,d);v||(k!=="start-contains-end"&&h&&s!=="none"&&!h.isExact&&(x=ji[t.props.size]/2+("size"in h.shape.props?ji[h.shape.props.size]/2:0),y=h1+x,S+=x),k!=="end-contains-start"&&u&&o!=="none"&&!u.isExact&&(w=ji[t.props.size]/2+("size"in u.shape.props?ji[u.shape.props.size]/2:0),g=h1+w,S+=w));const E=i.clone().add(C.clone().mul(y*(_?-1:1))),I=l.clone().sub(C.clone().mul(g*(_?-1:1)));L.Dist(E,I)<S&&(y!==0&&g!==0?(y*=-1.5,g*=-1.5):y!==0?y*=-1:g!==0&&(g*=-1)),i.add(C.clone().mul(y*(_?-1:1))),l.sub(C.clone().mul(g*(_?-1:1))),_?(h&&u&&l.setTo(L.Add(i,C.clone().mul(-Xd))),c.setTo(L.Med(a.start,a.end))):c.setTo(L.Med(i,l));const A=L.Dist(i,l);return{isStraight:!0,start:{handle:a.start,point:i,arrowhead:t.props.arrowheadStart},end:{handle:a.end,point:l,arrowhead:t.props.arrowheadEnd},middle:c,isValid:A>0,length:A}}function $_(e,t,n,r){if(r===void 0||r.isExact)return;const s=_e.applyToPoint(n,t),o=_e.applyToPoint(n,e),a=_e.applyToPoint(_e.Inverse(r.transform),s),i=_e.applyToPoint(_e.Inverse(r.transform),o),l=r.isClosed,d=(l?U2e:W2e)(a,i,r.outline);let h;if(d!==null&&(h=d.sort((y,g)=>L.Dist(y,a)-L.Dist(g,a))[0]??(l?void 0:i)),h===void 0)return;const u=_e.applyToPoint(r.transform,h),p=_e.applyToPoint(_e.Inverse(n),u);e.setTo(p),r.didIntersect=!0}function F5(e,t,n=0){const{arrowheadEnd:r,arrowheadStart:s}=t.props,o=t.props.bend+n;if(Math.abs(o)>Math.abs(t.props.bend*Axe))return _p(e,t);const a=ql(e,t),i=L.Med(a.start,a.end),l=L.Sub(a.end,a.start).uni(),c=L.Add(i,l.per().mul(-o)),d=d1(e,t.props.start),h=d1(e,t.props.end),u=a.start.clone(),p=a.end.clone(),y=c.clone();if(L.Equals(u,p))return{isStraight:!0,start:{handle:u,point:u,arrowhead:t.props.arrowheadStart},end:{handle:p,point:p,arrowhead:t.props.arrowheadEnd},middle:y,isValid:!1,length:0};const g=t.props.bend<0,x=g?U6:r1e,w=O_(u,p,y),S=L.Angle(w.center,u),v=L.Angle(w.center,p),k=x(S,v);if(w.length===0||w.size===0||!p_(w.length)||!p_(w.size))return _p(e,t);const C=u.clone(),_=p.clone(),E=y.clone(),I=e.getShapePageTransform(t);let z=0,A=0,T=Xd;if(d&&!d.isExact){const W=_e.applyToPoint(I,C),G=_e.applyToPoint(I,w.center),ne=_e.applyToPoint(I,_),ce=_e.Inverse(d.transform),Le=_e.applyToPoint(ce,W),re=_e.applyToPoint(ce,G),Pe=_e.applyToPoint(ce,ne),{isClosed:Me}=d,ht=Me?k_:C_;let je,Ke=ht(re,w.radius,d.outline);if(Ke){const Ae=re.angle(Le),at=re.angle(Pe),Lt=x(Ae,at);Ke=Ke.filter(He=>x(Ae,re.angle(He))<=Lt);const ln=Lt*.25;Ke.sort(Me?(He,tt)=>Math.abs(x(Ae,re.angle(He))-ln)<Math.abs(x(Ae,re.angle(tt))-ln)?-1:1:(He,tt)=>x(Ae,re.angle(He))<x(Ae,re.angle(tt))?-1:1),je=Ke[0]??(Me?void 0:Le)}else je=Me?void 0:Le;if(je&&(C.setTo(e.getPointInShapeSpace(t,_e.applyToPoint(d.transform,je))),d.didIntersect=!0,s!=="none")){const Ae=ji[t.props.size]/2+("size"in d.shape.props?ji[d.shape.props.size]/2:0);z=h1+Ae,T+=Ae}}if(h&&!h.isExact){const W=_e.applyToPoint(I,C),G=_e.applyToPoint(I,_),ne=_e.applyToPoint(I,w.center),ce=_e.Inverse(h.transform),Le=_e.applyToPoint(ce,W),re=_e.applyToPoint(ce,ne),Pe=_e.applyToPoint(ce,G),Me=h.isClosed,ht=Me?k_:C_;let je,Ke=ht(re,w.radius,h.outline);if(Ke){const Ae=re.angle(Le),at=re.angle(Pe),Lt=x(Ae,at),ln=Lt*.75;Ke=Ke.filter(He=>x(Ae,re.angle(He))<=Lt),Ke.sort(Me?(He,tt)=>Math.abs(x(Ae,re.angle(He))-ln)<Math.abs(x(Ae,re.angle(tt))-ln)?-1:1:(He,tt)=>x(Ae,re.angle(He))<x(Ae,re.angle(tt))?-1:1),Ke[0]?je=Ke[0]:je=Me?void 0:Pe}else je=Me?void 0:Pe;if(je&&(_.setTo(e.getPointInShapeSpace(t,_e.applyToPoint(h.transform,je))),h.didIntersect=!0,r!=="none")){const Ae=ji[t.props.size]/2+("size"in h.shape.props?ji[h.shape.props.size]/2:0);A=h1+Ae,T+=Ae}}let j=L.Angle(w.center,C),R=L.Angle(w.center,_),M=x(j,R),D=M*w.radius;const U=C.clone(),Y=_.clone();if(z!==0){const W=z/D*(g?1:-1),G=L.FromAngle(j+M*W);U.setTo(w.center).add(G.mul(w.radius))}if(A!==0){const W=A/D*(g?-1:1),G=L.FromAngle(R+M*W);Y.setTo(w.center).add(G.mul(w.radius))}if(L.Dist(U,Y)<T&&(z!==0&&A!==0?(z*=-1.5,A*=-1.5):z!==0?z*=-2:A!==0&&(A*=-2)),z!==0){const W=z/D*(g?1:-1),G=L.FromAngle(j+M*W);C.setTo(w.center).add(G.mul(w.radius))}if(A!==0){const W=A/D*(g?-1:1),G=L.FromAngle(R+M*W);_.setTo(w.center).add(G.mul(w.radius))}if(d&&h&&!d.isExact&&!h.isExact){j=L.Angle(w.center,C),R=L.Angle(w.center,_),M=x(j,R),D=M*w.radius;const W=G6(e,d.shape.id,h.shape.id);if(W==="double-bound"&&D<30)C.setTo(u),_.setTo(p),E.setTo(y);else if(W==="safe"&&(d&&!d.didIntersect&&C.setTo(u),h&&!h.didIntersect||x(S,j)>x(S,R))){const G=Math.min(.9,Xd/D)*(g?1:-1),ne=L.FromAngle(j+M*G);_.setTo(w.center).add(ne.mul(w.radius))}}Nxe(w.center,w.radius,C,_,E,k,g),C.equals(_)&&(C.setTo(E.clone().addXY(1,1)),_.setTo(E.clone().subXY(1,1))),u.setTo(C),p.setTo(_),y.setTo(E);const K=O_(u,p,y);return{isStraight:!1,start:{point:u,handle:a.start,arrowhead:t.props.arrowheadStart},end:{point:p,handle:a.end,arrowhead:t.props.arrowheadEnd},middle:y,handleArc:w,bodyArc:K,isValid:K.length!==0&&isFinite(K.center.x)&&isFinite(K.center.y)}}function O_(e,t,n){const r=-2*(e.x*(t.y-n.y)-e.y*(t.x-n.x)+t.x*n.y-n.x*t.y),s={x:((e.x*e.x+e.y*e.y)*(n.y-t.y)+(t.x*t.x+t.y*t.y)*(e.y-n.y)+(n.x*n.x+n.y*n.y)*(t.y-e.y))/r,y:((e.x*e.x+e.y*e.y)*(t.x-n.x)+(t.x*t.x+t.y*t.y)*(n.x-e.x)+(n.x*n.x+n.y*n.y)*(e.x-t.x))/r},o=L.Dist(s,e),a=+L.Clockwise(e,n,t),i=Math.hypot(e.y-t.y,e.x-t.x),l=Math.hypot(t.y-n.y,t.x-n.x),c=Math.hypot(n.y-e.y,n.x-e.x),d=Math.acos((l*l+c*c-i*i)/(2*l*c))*2,h=+(Hh>d),u=(ua-d)*(a?1:-1),p=u*o;return{center:s,radius:o,size:u,length:p,largeArcFlag:h,sweepFlag:a}}function Nxe(e,t,n,r,s,o,a){const i=L.Angle(e,n),l=L.Angle(e,r);let c=U6(i,l);a||(c=ua-c);const d=.5*(a?1:-1),h=L.FromAngle(i+c*d);if(s.setTo(e).add(h.mul(t)),c>o){s.rotWith(e,Hh);const u=r.clone();r.setTo(n),n.setTo(u)}}const Txe={wheel:"onWheel",pointer_down:"onPointerDown",pointer_move:"onPointerMove",pointer_up:"onPointerUp",right_click:"onRightClick",middle_click:"onMiddleClick",key_down:"onKeyDown",key_up:"onKeyUp",key_repeat:"onKeyRepeat",cancel:"onCancel",complete:"onComplete",interrupt:"onInterrupt",double_click:"onDoubleClick",triple_click:"onTripleClick",quadruple_click:"onQuadrupleClick"};class Tm{constructor(t,n){m(this,"id");m(this,"type");m(this,"shapeType");m(this,"initial");m(this,"children");m(this,"parent");m(this,"_path");m(this,"_current");m(this,"_isActive");m(this,"transition",(t,n={})=>{var o;const r=t.split(".");let s=this;for(let a=0;a<r.length;a++){const i=r[a],l=s.getCurrent(),c=(o=s.children)==null?void 0:o[i];if(!c)throw Error(`${s.id} - no child state exists with the id ${i}.`);if((l==null?void 0:l.id)!==c.id&&(l==null||l.exit(n,i),s._current.set(c),c.enter(n,(l==null?void 0:l.id)||"initial"),!c.getIsActive()))break;s=c}return this});m(this,"handleEvent",t=>{var s;const n=Txe[t.name],r=this.getCurrent();(s=this[n])==null||s.call(this,t),this.getCurrent()===r&&this.getIsActive()&&(r==null||r.handleEvent(t))});m(this,"enter",(t,n)=>{var r;if(this._isActive.set(!0),(r=this.onEnter)==null||r.call(this,t,n),this.onTick&&this.editor.on("tick",this.onTick),this.children&&this.initial&&this.getIsActive()){const s=this.children[this.initial];this._current.set(s),s.enter(t,n)}});m(this,"exit",(t,n)=>{var r,s;this._isActive.set(!1),this.onTick&&this.editor.off("tick",this.onTick),(r=this.onExit)==null||r.call(this,t,n),this.getIsActive()||(s=this.getCurrent())==null||s.exit(t,n)});m(this,"_currentToolIdMask",Ws("curent tool id mask",void 0));m(this,"onWheel");m(this,"onPointerDown");m(this,"onPointerMove");m(this,"onPointerUp");m(this,"onDoubleClick");m(this,"onTripleClick");m(this,"onQuadrupleClick");m(this,"onRightClick");m(this,"onMiddleClick");m(this,"onKeyDown");m(this,"onKeyUp");m(this,"onKeyRepeat");m(this,"onCancel");m(this,"onComplete");m(this,"onInterrupt");m(this,"onEnter");m(this,"onExit");m(this,"onTick");this.editor=t;const{id:r,children:s,initial:o}=this.constructor;this.id=r,this._isActive=Ws("toolIsActive"+this.id,!1),this._current=Ws("toolState"+this.id,void 0),this._path=ae("toolPath"+this.id,()=>{const a=this.getCurrent();return this.id+(a?`.${a.getPath()}`:"")}),this.parent=n??{},this.parent?s&&o?(this.type="branch",this.initial=o,this.children=Object.fromEntries(s().map(a=>[a.id,new a(this.editor,this)])),this._current.set(this.children[this.initial])):this.type="leaf":(this.type="root",s&&o&&(this.initial=o,this.children=Object.fromEntries(s().map(a=>[a.id,new a(this.editor,this)])),this._current.set(this.children[this.initial])))}getPath(){return this._path.get()}getCurrent(){return this._current.get()}getIsActive(){return this._isActive.get()}getCurrentToolIdMask(){return this._currentToolIdMask.get()}setCurrentToolIdMask(t){this._currentToolIdMask.set(t)}}m(Tm,"id"),m(Tm,"initial"),m(Tm,"children");class Lm extends Tm{constructor(){super(...arguments);m(this,"onKeyDown",n=>{var r;switch(n.code){case"KeyZ":{if(!(n.shiftKey||n.ctrlKey)){const s=this.getCurrent();s&&((r=s.getCurrent())==null?void 0:r.id)==="idle"&&this.children.zoom&&this.editor.setCurrentTool("zoom",{...n,onInteractionEnd:s.id})}break}}})}}m(Lm,"id","root"),m(Lm,"initial",""),m(Lm,"children",()=>[]);var Lxe=Object.defineProperty,Mxe=Object.getOwnPropertyDescriptor,ke=(e,t,n,r)=>{for(var s=r>1?void 0:r?Mxe(t,n):t,o=e.length-1,a;o>=0;o--)(a=e[o])&&(s=(r?a(t,n,s):a(s))||s);return r&&s&&Lxe(t,n,s),s};class be extends tP.EventEmitter{constructor({store:n,user:r,shapeUtils:s,tools:o,getContainer:a,initialState:i,inferDarkMode:l}){super();m(this,"store");m(this,"root");m(this,"disposables",new Set);m(this,"_tickManager",new Ixe(this));m(this,"snaps");m(this,"user");m(this,"textMeasure");m(this,"environment");m(this,"scribbles");m(this,"getContainer");m(this,"sideEffects");m(this,"shapeUtils");m(this,"styleProps");m(this,"history",new yxe(this,n=>{this.annotateError(n,{origin:"history.batch",willCrashApp:!0}),this.crash(n)}));m(this,"_crashingError",null);m(this,"_updateInstanceState",this.history.createCommand("updateInstanceState",(n,r)=>{const s=this.store.get(this.getInstanceState().id),o={...s,...n};return{data:{prev:s,next:o},ephemeral:!1,squashing:!1,...r}},{do:({next:n})=>{this.store.put([n])},undo:({prev:n})=>{this.store.put([n])},squash({prev:n},{next:r}){return{prev:n,next:r}}}));m(this,"_isChangingStyleTimeout",-1);m(this,"setCursor",n=>(this.updateInstanceState({cursor:{...this.getInstanceState().cursor,...n}},{ephemeral:!0}),this));m(this,"_setInstancePageState",this.history.createCommand("setInstancePageState",(n,r)=>({data:{prev:this.store.get(n.id??this.getCurrentPageState().id),partial:n},...r}),{do:({prev:n,partial:r})=>{this.store.update(n.id,s=>({...s,...r}))},undo:({prev:n})=>{this.store.update(n.id,()=>n)}}));m(this,"_setSelectedShapes",this.history.createCommand("setSelectedShapes",(n,r)=>{const{selectedShapeIds:s}=this.getCurrentPageState(),o=new Set(s);return n.length===o.size&&n.every(a=>o.has(a))?null:{data:{selectedShapeIds:n,prevSelectedShapeIds:s},preservesRedoStack:!0,...r}},{do:({selectedShapeIds:n})=>{this.store.put([{...this.getCurrentPageState(),selectedShapeIds:n}])},undo:({prevSelectedShapeIds:n})=>{this.store.put([{...this.getCurrentPageState(),selectedShapeIds:n}])},squash({prevSelectedShapeIds:n},{selectedShapeIds:r}){return{selectedShapeIds:r,prevSelectedShapeIds:n}}}));m(this,"_setFocusedGroupId",this.history.createCommand("setFocusedGroupId",n=>{const r=this.getCurrentPageState().focusedGroupId;if(r!==n)return{data:{prev:r,next:n},preservesRedoStack:!0,squashing:!0}},{do:({next:n})=>{this.store.update(this.getCurrentPageState().id,r=>({...r,focusedGroupId:n}))},undo:({prev:n})=>{this.store.update(this.getCurrentPageState().id,r=>({...r,focusedGroupId:n}))},squash({prev:n},{next:r}){return{prev:n,next:r}}}));m(this,"_cameraOptions",Ws("camera options",p1e));m(this,"_viewportAnimation",null);m(this,"_willSetInitialBounds",!0);m(this,"_cameraState",Ws("camera state","idle"));m(this,"_cameraStateTimeoutRemaining",0);m(this,"_lastUpdateRenderingBoundsTimestamp",Date.now());m(this,"_decayCameraStateTimeout",n=>{this._cameraStateTimeoutRemaining-=n,this._cameraStateTimeoutRemaining<=0&&(this.off("tick",this._decayCameraStateTimeout),this._cameraState.set("idle"),this.updateRenderingBounds())});m(this,"_tickCameraState",()=>{this._cameraStateTimeoutRemaining=_1e;const n=Date.now();this._cameraState.__unsafe__getWithoutCapture()==="idle"?(this._lastUpdateRenderingBoundsTimestamp=n,this._cameraState.set("moving"),this.on("tick",this._decayCameraStateTimeout)):n-this._lastUpdateRenderingBoundsTimestamp>E1e&&this.updateRenderingBounds()});m(this,"_renderingBounds",Ws("rendering viewport",new Qe));m(this,"_renderingBoundsExpanded",Ws("rendering viewport expanded",new Qe));m(this,"renderingBoundsMargin",100);m(this,"_currentPageShapeIds");m(this,"_setCurrentPageId",this.history.createCommand("setCurrentPage",(n,r)=>{if(!this.store.has(n)){console.error("Tried to set the current page id to a page that doesn't exist.");return}return this.stopFollowingUser(),{data:{toId:n,fromId:this.getCurrentPageId()},squashing:!0,preservesRedoStack:!0,...r}},{do:({toId:n})=>{if(this.store.has(n)){if(!this.getPageStates().find(r=>r.pageId===n)){const r=ir.create({id:ir.createId(n)});this.store.put([r,lr.create({id:lr.createId(n),pageId:n})])}this.store.put([{...this.getInstanceState(),currentPageId:n}]),this.updateRenderingBounds()}},undo:({fromId:n})=>{this.store.has(n)&&(this.store.put([{...this.getInstanceState(),currentPageId:n}]),this.updateRenderingBounds())},squash:({fromId:n},{toId:r})=>({toId:r,fromId:n})}));m(this,"_updatePage",this.history.createCommand("updatePage",(n,r)=>{if(this.getInstanceState().isReadonly)return null;const s=this.getPage(n.id);return s?{data:{prev:s,partial:n},...r}:null},{do:({partial:n})=>{this.store.update(n.id,r=>({...r,...n}))},undo:({prev:n,partial:r})=>{this.store.update(r.id,()=>n)},squash(n,r){return{prev:{...n.prev,...r.prev},partial:r.partial}}}));m(this,"_createPage",this.history.createCommand("createPage",n=>{if(this.getInstanceState().isReadonly||this.getPages().length>=g_)return null;const r=this.getPages(),s=exe(n.name??"Page 1",r.map(c=>c.name));let o=n.index;(!o||r.some(c=>c.index===o))&&(o=bd(r[r.length-1].index));const a=Sf.create({meta:{},...n,name:s,index:o}),i=ir.create({id:ir.createId(a.id)}),l=lr.create({id:lr.createId(a.id),pageId:a.id});return{data:{newPage:a,newTabPageState:l,newCamera:i}}},{do:({newPage:n,newTabPageState:r,newCamera:s})=>{this.store.put([n,s,r])},undo:({newPage:n,newTabPageState:r,newCamera:s})=>{this.getPages().length!==1&&this.store.remove([r.id,n.id,s.id])}}));m(this,"_deletePage",this.history.createCommand("delete_page",n=>{if(this.getInstanceState().isReadonly)return null;const r=this.getPages();if(r.length===1)return null;const s=this.getPage(n),o=this.getPageStates().filter(a=>a.pageId===n);if(!s)return null;if(n===this.getCurrentPageId()){const a=r.findIndex(l=>l.id===n),i=r[a-1]??r[a+1];this.setCurrentPage(i.id)}return{data:{id:n,deletedPage:s,deletedPageStates:o}}},{do:({deletedPage:n,deletedPageStates:r})=>{const s=this.getPages();if(s.length!==1){if(n.id===this.getCurrentPageId()){const o=s.findIndex(i=>i.id===n.id),a=s[o-1]??s[o+1];this.setCurrentPage(a.id)}this.store.remove(r.map(o=>o.id)),this.store.remove([n.id]),this.updateRenderingBounds()}},undo:({deletedPage:n,deletedPageStates:r})=>{this.store.put([n]),this.store.put(r),this.updateRenderingBounds()}}));m(this,"_createAssets",this.history.createCommand("createAssets",n=>this.getInstanceState().isReadonly||n.length<=0?null:{data:{assets:n}},{do:({assets:n})=>{this.store.put(n)},undo:({assets:n})=>{this.store.remove(n.map(r=>r.id))}}));m(this,"_updateAssets",this.history.createCommand("updateAssets",n=>this.getInstanceState().isReadonly||n.length<=0?void 0:{data:{snapshots:{},assets:n}},{do:({assets:n,snapshots:r})=>{this.store.put(n.map(s=>{const o=this.store.get(s.id);return r[s.id]=o,{...o,...s}}))},undo:({snapshots:n})=>{this.store.put(Object.values(n))}}));m(this,"_deleteAssets",this.history.createCommand("deleteAssets",n=>{if(this.getInstanceState().isReadonly||n.length<=0)return;const r=Ve(n.map(s=>this.store.get(s)));return{data:{ids:n,prev:r}}},{do:({ids:n})=>{this.store.remove(n)},undo:({prev:n})=>{this.store.put(n)}}));m(this,"_parentIdsToChildIds");m(this,"_childIdsCache",new Q2e);m(this,"_createShapes",this.history.createCommand("createShapes",n=>{if(this.getInstanceState().isReadonly||n.length<=0)return null;const r=this.getCurrentPageShapeIds();if(n.length+r.size>va){P0(this);return}return n.length===0?null:{data:{currentPageId:this.getCurrentPageId(),partials:n.map(o=>o.id?o:{...o,id:ep()})}}},{do:({partials:n})=>{var i,l;const r=this.getFocusedGroupId(),s=this.getCurrentPageShapesSorted();n=n.map(c=>{if(!c.parentId||!(this.store.has(c.parentId)||n.some(d=>d.id===c.parentId))){let d=this.getFocusedGroupId();for(let u=s.length-1;u>=0;u--){const p=s[u];if(this.getShapeUtil(p).canReceiveNewChildrenOfType(p,c.type)&&this.isPointInShape(p,{x:c.x??0,y:c.y??0},{margin:0,hitInside:!0})){d=p.id;break}}const h=c.parentId;if(d===c.id&&(d=r),d!==h&&(c={...c},c.parentId=d,$o(d))){const u=this.getPointInShapeSpace(this.getShape(d),{x:c.x??0,y:c.y??0});c.x=u.x,c.y=u.y,c.rotation=-this.getShapePageTransform(d).rotation()+(c.rotation??0)}}return c});const o=new Map,a=[];for(const c of n){const d=this.getShapeUtil(c);let h=c.index;if(!h){const g=c.parentId??r;o.has(g)||o.set(g,this.getHighestIndexForParent(g)),h=o.get(g),o.set(g,bd(h))}const u=d.getDefaultProps();for(const[g,x]of this.styleProps[c.type])u[x]=this.getStyleForNextShape(g);let p=this.store.schema.types.shape.create({...c,index:h,opacity:c.opacity??this.getInstanceState().opacityForNextShape,parentId:c.parentId??r,props:"props"in c?{...u,...c.props}:u});if(p.index===void 0)throw Error("no index!");const y=(l=(i=this.getShapeUtil(p)).onBeforeCreate)==null?void 0:l.call(i,p);y&&(p=y),a.push(p)}a.forEach(c=>{c.meta={...this.getInitialMetaForShape(c),...c.meta}}),this.store.put(a)},undo:({partials:n})=>{this.store.remove(n.map(r=>r.id))}}));m(this,"animatingShapes",new Map);m(this,"_updateShapes",this.history.createCommand("updateShapes",(n,r)=>{if(this.getInstanceState().isReadonly)return null;const s=Ve(n),o=Object.fromEntries(Ve(s.map(({id:l})=>this.getShape(l))).map(l=>[l.id,l]));if(s.length<=0)return null;const a=Ve(s.map(l=>{const c=o[l.id];if(!c)return null;let d=null;for(const[h,u]of Object.entries(l))if(u!==void 0)switch(h){case"id":case"type":continue;default:if(u!==c[h])if(d||(d={...c}),h==="props"){const p={...c.props};for(const[y,g]of Object.entries(u))g!==void 0&&(p[y]=g);d.props=p}else if(h==="meta"){const p={...c.meta};for(const[y,g]of Object.entries(u))g!==void 0&&(p[y]=g);d.meta=p}else d[h]=u}return d??c})),i=Object.fromEntries(a.map(l=>[l.id,l]));return{data:{snapshots:o,updates:i},...r}},{do:({updates:n})=>{var s,o;const r=Object.values(n);for(let a=0;a<r.length;a++){const i=r[a],l=this.store.get(i.id);if(!l)continue;const c=(o=(s=this.getShapeUtil(i)).onBeforeUpdate)==null?void 0:o.call(s,l,i);c&&(r[a]=c)}this.store.put(r)},undo:({snapshots:n})=>{this.store.put(Object.values(n))},squash(n,r){return{snapshots:{...r.snapshots,...n.snapshots},updates:{...n.updates,...r.updates}}}}));m(this,"_deleteShapes",this.history.createCommand("delete_shapes",n=>{if(this.getInstanceState().isReadonly||n.length===0)return null;const r=[...this.getCurrentPageState().selectedShapeIds],s=new Set(n);for(const c of n)this.visitDescendants(c,d=>{s.add(d)});const o=[...s],a=this._getArrowBindingsIndex().get(),i=Ve(o.flatMap(c=>{const d=this.getShape(c),h=a[c];return h&&h.length>0?h.map(({arrowId:u})=>this.getShape(u)).concat(d):d})),l=r.filter(c=>!s.has(c));return{data:{deletedIds:o,snapshots:i,prevSelectedShapeIds:r,postSelectedShapeIds:l}}},{do:({deletedIds:n,postSelectedShapeIds:r})=>{this.store.remove(n),this.store.update(this.getCurrentPageState().id,s=>({...s,selectedShapeIds:r}))},undo:({snapshots:n,prevSelectedShapeIds:r})=>{this.store.put(n),this.store.update(this.getCurrentPageState().id,s=>({...s,selectedShapeIds:r}))}}));m(this,"_selectionSharedStyles",ae("_selectionSharedStyles",()=>{const n=this.getSelectedShapes(),r=new z_;for(const s of n)this._extractSharedStyles(s,r);return r}));m(this,"externalAssetContentHandlers",{file:null,url:null});m(this,"externalContentHandlers",{text:null,files:null,embed:null,"svg-text":null,url:null});m(this,"inputs",{originPagePoint:new L,originScreenPoint:new L,previousPagePoint:new L,previousScreenPoint:new L,currentPagePoint:new L,currentScreenPoint:new L,keys:new Set,buttons:new Set,isPen:!1,shiftKey:!1,ctrlKey:!1,altKey:!1,isDragging:!1,isPointing:!1,isPinching:!1,isEditing:!1,isPanning:!1,pointerVelocity:new L});m(this,"_clickManager",new fxe(this));m(this,"_prevCursor","default");m(this,"_shiftKeyTimeout",-1);m(this,"_setShiftKeyTimeout",()=>{this.inputs.shiftKey=!1,this.dispatch({type:"keyboard",name:"key_up",key:"Shift",shiftKey:this.inputs.shiftKey,ctrlKey:this.inputs.ctrlKey,altKey:this.inputs.altKey,code:"ShiftLeft"})});m(this,"_altKeyTimeout",-1);m(this,"_setAltKeyTimeout",()=>{this.inputs.altKey=!1,this.dispatch({type:"keyboard",name:"key_up",key:"Alt",shiftKey:this.inputs.shiftKey,ctrlKey:this.inputs.ctrlKey,altKey:this.inputs.altKey,code:"AltLeft"})});m(this,"_ctrlKeyTimeout",-1);m(this,"_setCtrlKeyTimeout",()=>{this.inputs.ctrlKey=!1,this.dispatch({type:"keyboard",name:"key_up",key:"Ctrl",shiftKey:this.inputs.shiftKey,ctrlKey:this.inputs.ctrlKey,altKey:this.inputs.altKey,code:"ControlLeft"})});m(this,"_restoreToolId","select");m(this,"_pinchStart",1);m(this,"_didPinch",!1);m(this,"_selectedShapeIdsAtPointerDown",[]);m(this,"capturedPointerId",null);m(this,"dispatch",n=>{if(this.getCrashingError())return this;const{inputs:r}=this,{type:s}=n;return this.batch(()=>{if(n.type==="misc"){(n.name==="cancel"||n.name==="complete")&&(this.inputs.isDragging=!1,this.inputs.isPanning&&(this.inputs.isPanning=!1,this.updateInstanceState({cursor:{type:this._prevCursor,rotation:0}}))),this.root.handleEvent(n);return}n.shiftKey?(clearInterval(this._shiftKeyTimeout),this._shiftKeyTimeout=-1,r.shiftKey=!0):!n.shiftKey&&r.shiftKey&&this._shiftKeyTimeout===-1&&(this._shiftKeyTimeout=setTimeout(this._setShiftKeyTimeout,150)),n.altKey?(clearInterval(this._altKeyTimeout),this._altKeyTimeout=-1,r.altKey=!0):!n.altKey&&r.altKey&&this._altKeyTimeout===-1&&(this._altKeyTimeout=setTimeout(this._setAltKeyTimeout,150)),n.ctrlKey?(clearInterval(this._ctrlKeyTimeout),this._ctrlKeyTimeout=-1,r.ctrlKey=!0):!n.ctrlKey&&r.ctrlKey&&this._ctrlKeyTimeout===-1&&(this._ctrlKeyTimeout=setTimeout(this._setCtrlKeyTimeout,150));const{originPagePoint:o,originScreenPoint:a,currentPagePoint:i,currentScreenPoint:l}=r;switch(r.isPointing||(r.isDragging=!1),s){case"pinch":{if(!this.getInstanceState().canMoveCamera)return;switch(this._updateInputsFromEvent(n),n.name){case"pinch_start":{if(r.isPinching)return;r.isEditing||(this._pinchStart=this.getCamera().z,this._selectedShapeIdsAtPointerDown.length||(this._selectedShapeIdsAtPointerDown=this.getSelectedShapeIds()),this._didPinch=!0,r.isPinching=!0,this.interrupt());return}case"pinch":{if(!r.isPinching)return;const{point:{x:c,y:d,z:h=1},delta:{x:u,y:p}}=n,{x:y,y:g,z:x}=this.getCamera(),w=Math.min(Ou,Math.max($u,h));this.setCamera({x:y+u/x-c/x+c/w,y:g+p/x-d/x+d/w,z:w});return}case"pinch_end":{if(!r.isPinching)return this;r.isPinching=!1;const{_selectedShapeIdsAtPointerDown:c}=this;this.setSelectedShapes(this._selectedShapeIdsAtPointerDown,{squashing:!0}),this._selectedShapeIdsAtPointerDown=[],this._didPinch&&(this._didPinch=!1,requestAnimationFrame(()=>{this._didPinch||this.setSelectedShapes(c,{squashing:!0})}));return}}}case"wheel":{if(!this.getInstanceState().canMoveCamera)return;if(this._updateInputsFromEvent(n),!this.getIsMenuOpen()){if(r.ctrlKey){const{x:c,y:d}=this.inputs.currentScreenPoint,{x:h,y:u,z:p}=this.getCamera(),y=Math.min(Ou,Math.max($u,p+(n.delta.z??0)*p));this.setCamera({x:h+(c/y-c)-(c/p-c),y:u+(d/y-d)-(d/p-d),z:y});return}this.pan(n.delta),!r.isDragging&&r.isPointing&&o.dist(i)>(this.getInstanceState().isCoarsePointer?IS:PS)/this.getZoomLevel()&&(r.isDragging=!0)}break}case"pointer":{if(r.isPinching)return;this._updateInputsFromEvent(n);const{isPen:c}=n;switch(n.name){case"pointer_down":{if(this._selectedShapeIdsAtPointerDown=this.getSelectedShapeIds(),n.button===0&&(this.capturedPointerId=n.pointerId),r.buttons.add(n.button),r.isPointing=!0,r.isDragging=!1,this.getInstanceState().isPenMode){if(!c)return}else c&&this.updateInstanceState({isPenMode:!0});if(n.button===5?(this._restoreToolId=this.getCurrentToolId(),this.complete(),this.setCurrentTool("eraser")):n.button===1&&(this.inputs.isPanning||(this._prevCursor=this.getInstanceState().cursor.type),this.inputs.isPanning=!0),this.inputs.isPanning)return this.stopCameraAnimation(),this.updateInstanceState({cursor:{type:"grabbing",rotation:0}}),this;a.setTo(l),o.setTo(i);break}case"pointer_move":{if(!c&&this.getInstanceState().isPenMode)return;if(this.inputs.isPanning&&this.inputs.isPointing){const{currentScreenPoint:d,previousScreenPoint:h}=this.inputs;this.pan(L.Sub(d,h));return}!r.isDragging&&r.isPointing&&o.dist(i)>(this.getInstanceState().isCoarsePointer?IS:PS)/this.getZoomLevel()&&(r.isDragging=!0);break}case"pointer_up":{if(r.buttons.delete(n.button),r.isPointing=!1,r.isDragging=!1,this.getIsMenuOpen()||!c&&this.getInstanceState().isPenMode)return;this.capturedPointerId===n.pointerId&&(this.capturedPointerId=null,n.button=0),r.isPanning?n.button===1?this.inputs.keys.has(" ")?(this.slideCamera({speed:Math.min(2,this.inputs.pointerVelocity.len()),direction:this.inputs.pointerVelocity,friction:$5}),this.updateInstanceState({cursor:{type:"grab",rotation:0}})):(r.isPanning=!1,this.slideCamera({speed:Math.min(2,this.inputs.pointerVelocity.len()),direction:this.inputs.pointerVelocity,friction:$5}),this.updateInstanceState({cursor:{type:this._prevCursor,rotation:0}})):n.button===0&&(this.slideCamera({speed:Math.min(2,this.inputs.pointerVelocity.len()),direction:this.inputs.pointerVelocity,friction:$5}),this.updateInstanceState({cursor:{type:"grab",rotation:0}})):n.button===5&&(this.complete(),this.setCurrentTool(this._restoreToolId));break}}break}case"keyboard":{switch(n.key==="ShiftRight"&&(n.key="ShiftLeft"),n.key==="AltRight"&&(n.key="AltLeft"),n.code==="ControlRight"&&(n.code="ControlLeft"),n.name){case"key_down":{r.keys.add(n.code),!n.ctrlKey&&n.code==="Space"&&(this.inputs.isPanning||(this._prevCursor=this.getInstanceState().cursor.type),this.inputs.isPanning=!0,this.updateInstanceState({cursor:{type:this.inputs.isPointing?"grabbing":"grab",rotation:0}}));break}case"key_up":{r.keys.delete(n.code),n.code==="Space"&&!this.inputs.buttons.has(1)&&(this.inputs.isPanning=!1,this.updateInstanceState({cursor:{type:this._prevCursor,rotation:0}}));break}}break}}if(n.type==="pointer"&&(n.button===1?n.name="middle_click":n.button===2&&(n.name="right_click"),n.isPen===this.getInstanceState().isPenMode))switch(n.name){case"pointer_down":{const c=this._clickManager.transformPointerDownEvent(n);if(n.name!==c.name){this.root.handleEvent(n),this.emit("event",n),this.root.handleEvent(c),this.emit("event",c);return}break}case"pointer_up":{const c=this._clickManager.transformPointerUpEvent(n);if(n.name!==c.name){this.root.handleEvent(n),this.emit("event",n),this.root.handleEvent(c),this.emit("event",c);return}break}case"pointer_move":{this._clickManager.handleMove();break}}this.root.handleEvent(n),this.emit("event",n)}),this});this.store=n,this.snaps=new Sl(this),this.user=new xa(r??a$(),l??!1),this.getContainer=a??(()=>document.body),this.textMeasure=new Exe(this);class c extends Lm{}m(c,"initial",i??""),this.root=new c(this),this.root.children={};const d=h$(s),h=new Set(Object.keys(n.schema.types.shape.migrations.subTypeMigrations));for(const k of d){if(!h.has(k.type))throw Error(`Editor and store have different shapes: "${k.type}" was passed into the editor but not the schema`);h.delete(k.type)}if(h.size>0)throw Error(`Editor and store have different shapes: "${[...h][0]}" is present in the store schema but not provided to the editor`);const u={},p={},y=new Map;for(const k of d){const C=new k(this);u[k.type]=C;const _=NR(k.props??{});p[k.type]=_;for(const E of _.keys())if(!y.has(E.id))y.set(E.id,E);else if(y.get(E.id)!==E)throw Error(`Multiple style props with id "${E.id}" in use. Style prop IDs must be unique.`)}this.shapeUtils=u,this.styleProps=p;for(const k of[...o]){if(OR(this.root.children,k.id))throw Error(`Can't override tool with id "${k.id}"`);this.root.children[k.id]=new k(this,this.root)}this.environment=new gxe(this),this.scribbles=new xxe(this);const g=new Set,x=k=>{var q;const C=this.getShape(k);if(!C)return;const{start:_,end:E}=C.props,I=_.type==="binding"?this.getShape(_.boundShapeId):void 0,z=E.type==="binding"?this.getShape(E.boundShapeId):void 0,A=this.getAncestorPageId(C);if(!A)return;let T;if(I&&z)T=this.findCommonAncestor([I,z])??A;else if(I||z){const K=(q=I||z)==null?void 0:q.parentId;K&&K===C.parentId?T=C.parentId:T=A}else return;T&&T!==C.parentId&&this.reparentShapes([k],T);const j=this.getShape(k);if(!j)throw Error("no reparented arrow");const R=this.getShapeNearestSibling(j,I),M=this.getShapeNearestSibling(j,z);let D;if(R&&M)D=R.index>M.index?R:M;else if(R&&!M)D=R;else if(M&&!R)D=M;else return;let U;const Y=this.getSortedChildIdsForParent(D.parentId).map(K=>this.getShape(K)).filter(K=>K.index>D.index);if(Y.length){const K=Y.find(W=>W.type!=="arrow");if(j.index>D.index&&(!K||j.index<K.index))return;U=q5(D.index,Y[0].index)}else U=bd(D.index);U!==j.index&&this.updateShapes([{id:k,type:"arrow",index:U}])},w=(k,C)=>{const{x:_,y:E}=ql(this,k)[C];this.store.put([{...k,props:{...k.props,[C]:{type:"point",x:_,y:E}}}])},S=k=>{for(const C of["start","end"]){const _=k.props[C];if(_.type!=="binding")continue;const E=this.getShape(_.boundShapeId),I=this.getAncestorPageId(k)===this.getAncestorPageId(E);(!E||!I)&&w(k,C)}x(k.id)},v=(k,C)=>{let _=null;const E=k.selectedShapeIds.filter(A=>!C.has(A));E.length!==k.selectedShapeIds.length&&(_||(_={...k}),_.selectedShapeIds=E);const I=k.erasingShapeIds.filter(A=>!C.has(A));I.length!==k.erasingShapeIds.length&&(_||(_={...k}),_.erasingShapeIds=I),k.hoveredShapeId&&C.has(k.hoveredShapeId)&&(_||(_={...k}),_.hoveredShapeId=null),k.editingShapeId&&C.has(k.editingShapeId)&&(_||(_={...k}),_.editingShapeId=null);const z=k.hintingShapeIds.filter(A=>!C.has(A));return z.length!==k.hintingShapeIds.length&&(_||(_={...k}),_.hintingShapeIds=z),k.focusedGroupId&&C.has(k.focusedGroupId)&&(_||(_={...k}),_.focusedGroupId=null),_};if(this.sideEffects=new wxe(this),this.sideEffects.registerBatchCompleteHandler(()=>{var k;for(const C of g){g.delete(C);const _=this.getShape(C);if(!_)continue;const E=this.getShapeUtil(_),I=(k=E.onChildrenChange)==null?void 0:k.call(E,_);I!=null&&I.length&&this.updateShapes(I,{squashing:!0})}this.emit("update")}),this.sideEffects.registerBeforeDeleteHandler("shape",k=>{k.parentId&&$o(k.parentId)&&g.add(k.parentId);const C=this._getArrowBindingsIndex().get()[k.id];if(C!=null&&C.length)for(const{arrowId:I,handleId:z}of C){const A=this.getShape(I);A&&w(A,z)}const _=new Set([k.id]),E=Ve(this.getPageStates().map(I=>v(I,_)));E.length&&this.store.put(E)}),this.sideEffects.registerBeforeDeleteHandler("page",k=>{var I;if(this.getInstanceState().currentPageId!==k.id)return;const C=(I=this.getPages().find(z=>z.id!==k.id))==null?void 0:I.id;if(!C)return;this.store.put([{...this.getInstanceState(),currentPageId:C}]);const _=ir.createId(k.id),E=lr.createId(k.id);this.store.remove([_,E])}),this.sideEffects.registerAfterChangeHandler("shape",(k,C)=>{if(this.isShapeOfType(C,"arrow")&&S(C),k.parentId!==C.parentId){const _=E=>{const I=this._getArrowBindingsIndex().get()[E];if(I!=null&&I.length)for(const z of I)x(z.arrowId)};_(C.id),this.visitDescendants(C.id,_)}if(k.parentId!==C.parentId&&ts(C.parentId)){const _=new Set([k.id]);this.visitDescendants(k.id,E=>{_.add(E)});for(const E of this.getPageStates()){if(E.pageId===C.parentId)continue;const I=v(E,_);I&&this.store.put([I])}}k.parentId&&$o(k.parentId)&&g.add(k.parentId),C.parentId!==k.parentId&&$o(C.parentId)&&g.add(C.parentId)}),this.sideEffects.registerAfterChangeHandler("instance_page_state",(k,C)=>{if((k==null?void 0:k.selectedShapeIds)!==(C==null?void 0:C.selectedShapeIds)){const _=C.selectedShapeIds.filter(I=>{var A,T;let z=(A=this.getShape(I))==null?void 0:A.parentId;for(;$o(z);){if(C.selectedShapeIds.includes(z))return!1;z=(T=this.getShape(z))==null?void 0:T.parentId}return!0});let E=null;if(_.length>0){const I=this.findCommonAncestor(Ve(_.map(z=>this.getShape(z))),z=>this.isShapeOfType(z,"group"));I&&(E=I)}else C!=null&&C.focusedGroupId&&(E=C.focusedGroupId);(_.length!==C.selectedShapeIds.length||E!==C.focusedGroupId)&&this.store.put([{...C,selectedShapeIds:_,focusedGroupId:E??null}])}}),this.sideEffects.registerAfterCreateHandler("shape",k=>{this.isShapeOfType(k,"arrow")&&S(k)}),this.sideEffects.registerAfterCreateHandler("page",k=>{const C=ir.createId(k.id),_=lr.createId(k.id);this.store.has(C)||this.store.put([ir.create({id:C})]),this.store.has(_)||this.store.put([lr.create({id:_,pageId:k.id})])}),this._currentPageShapeIds=uxe(this.store,()=>this.getCurrentPageId()),this._parentIdsToChildIds=hxe(this.store),this.disposables.add(this.store.listen(k=>{this.emit("change",k)})),this.store.ensureStoreIsUsable(),this._setInstancePageState({editingShapeId:null,hoveredShapeId:null,erasingShapeIds:[]},{ephemeral:!0}),i&&this.root.children[i]===void 0)throw Error(`No state found for initialState "${i}".`);this.root.enter(void 0,"initial"),this.getInstanceState().followingUserId&&this.stopFollowingUser(),this.updateRenderingBounds(),requestAnimationFrame(()=>{this._tickManager.start()})}dispose(){this.disposables.forEach(n=>n()),this.disposables.clear()}getShapeUtil(n){const r=typeof n=="string"?n:n.type,s=j5(this.shapeUtils,r);return q6(s,`No shape util found for type "${r}"`),s}undo(){return this.history.undo(),this}getCanUndo(){return this.history.getNumUndos()>0}redo(){return this.history.redo(),this}getCanRedo(){return this.history.getNumRedos()>0}mark(n,r,s){return this.history.mark(n,r,s),this}bail(){return this.history.bail(),this}bailToMark(n){return this.history.bailToMark(n),this}batch(n){return this.history.batch(n),this}_getArrowBindingsIndex(){return dxe(this)}getArrowsBoundTo(n){return this._getArrowBindingsIndex().get()[n]||Xi}getArrowInfoCache(){return this.store.createComputedCache("arrow infoCache",n=>qu(n)?_p(this,n):F5(this,n))}getArrowInfo(n){const r=typeof n=="string"?n:n.id;return this.getArrowInfoCache().get(r)}annotateError(n,{origin:r,willCrashApp:s,tags:o,extras:a}){const i=this.createErrorAnnotations(r,s);return $R(n,{tags:{...i.tags,...o},extras:{...i.extras,...a}}),s&&this.store.markAsPossiblyCorrupted(),this}createErrorAnnotations(n,r){try{const s=this.getEditingShapeId();return{tags:{origin:n,willCrashApp:r},extras:{activeStateNode:this.root.getPath(),selectedShapes:this.getSelectedShapes(),editingShape:s?this.getShape(s):void 0,inputs:this.inputs}}}catch{return{tags:{origin:n,willCrashApp:r},extras:{}}}}getCrashingError(){return this._crashingError}crash(n){return this._crashingError=n,this.store.markAsPossiblyCorrupted(),this.emit("crash",{error:n}),this}getPath(){return this.root.getPath().split("root.")[1]}isIn(n){const r=n.split(".").reverse();let s=this.root;for(;r.length>0;){const o=r.pop();if(!o)return!0;const a=s.getCurrent();if((a==null?void 0:a.id)===o){if(r.length===0)return!0;s=a;continue}else return!1}return!1}isInAny(...n){return n.some(r=>this.isIn(r))}setCurrentTool(n,r={}){return this.root.transition(n,r),this}getCurrentTool(){return this.root.getCurrent()}getCurrentToolId(){const n=this.getCurrentTool();return n?n.getCurrentToolIdMask()??n.id:""}getStateDescendant(n){var o;const r=n.split(".").reverse();let s=this.root;for(;r.length>0;){const a=r.pop();if(!a)return s;const i=(o=s.children)==null?void 0:o[a];if(!i)return;s=i}return s}getDocumentSettings(){return this.store.get(CS)}updateDocumentSettings(n){return this.store.put([{...this.getDocumentSettings(),...n}]),this}getInstanceState(){return this.store.get(yr)}updateInstanceState(n,r){return this._updateInstanceState(n,{ephemeral:!0,squashing:!0,...r}),n.isChangingStyle!==void 0&&(clearTimeout(this._isChangingStyleTimeout),n.isChangingStyle===!0&&(this._isChangingStyleTimeout=setTimeout(()=>{this.updateInstanceState({isChangingStyle:!1})},2e3))),this}getOpenMenus(){return this.getInstanceState().openMenus}addOpenMenu(n){const r=new Set(this.getOpenMenus());return r.has(n)||(r.add(n),this.updateInstanceState({openMenus:[...r]})),this}deleteOpenMenu(n){const r=new Set(this.getOpenMenus());return r.has(n)&&(r.delete(n),this.updateInstanceState({openMenus:[...r]})),this}getIsMenuOpen(){return this.getOpenMenus().length>0}getPageStates(){return this._getPageStatesQuery().get()}_getPageStatesQuery(){return this.store.query.records("instance_page_state")}getCurrentPageState(){return this.store.get(this._getCurrentPageStateId())}_getCurrentPageStateId(){return lr.createId(this.getCurrentPageId())}updateCurrentPageState(n,r){return this._setInstancePageState(n,r),this}getSelectedShapeIds(){return this.getCurrentPageState().selectedShapeIds}getSelectedShapes(){const{selectedShapeIds:n}=this.getCurrentPageState();return Ve(n.map(r=>this.store.get(r)))}setSelectedShapes(n,r){const s=n.map(o=>typeof o=="string"?o:o.id);return this._setSelectedShapes(s,r),this}isAncestorSelected(n){const r=typeof n=="string"?n:(n==null?void 0:n.id)??null,s=this.getShape(r);if(!s)return!1;const o=this.getSelectedShapeIds();return!!this.findShapeAncestor(s,a=>o.includes(a.id))}select(...n){const r=typeof n[0]=="string"?n:n.map(s=>s.id);return this.setSelectedShapes(r),this}deselect(...n){const r=typeof n[0]=="string"?n:n.map(o=>o.id),s=this.getSelectedShapeIds();return s.length>0&&r.length>0&&this.setSelectedShapes(s.filter(o=>!r.includes(o))),this}selectAll(){const n=this.getSortedChildIdsForParent(this.getCurrentPageId());return n.length<=0?this:(this.setSelectedShapes(this._getUnlockedShapeIds(n)),this)}selectNone(){return this.getSelectedShapeIds().length>0&&this.setSelectedShapes([]),this}getOnlySelectedShape(){const n=this.getSelectedShapes();return n.length===1?n[0]:null}getSelectionPageBounds(){const n=this.getCurrentPageState().selectedShapeIds;return n.length===0?null:Qe.Common(Ve(n.map(r=>this.getShapePageBounds(r))))}getSelectionRotation(){const n=this.getSelectedShapeIds();if(n.length===0)return 0;if(n.length===1)return this.getShapePageTransform(this.getSelectedShapeIds()[0]).rotation();const r=n.map(s=>this.getShapePageTransform(s).rotation());return r.every(s=>Math.abs(s-r[0])<Math.PI/180)?this.getShapePageTransform(n[0]).rotation():0}getSelectionRotatedPageBounds(){const n=this.getSelectedShapeIds();if(n.length===0)return;const r=this.getSelectionRotation();if(r===0)return this.getSelectionPageBounds();if(n.length===1){const o=this.getShapeGeometry(n[0]).bounds.clone(),a=this.getShapePageTransform(n[0]);return o.point=a.applyToPoint(o.point),o}const s=Qe.FromPoints(this.getSelectedShapeIds().flatMap(o=>{const a=this.getShapePageTransform(o);return a?a.applyToPoints(this.getShapeGeometry(o).vertices):[]}).map(o=>L.Rot(o,-r)));return s.point=s.point.rot(r),s}getFocusedGroupId(){return this.getCurrentPageState().focusedGroupId??this.getCurrentPageId()}getFocusedGroup(){const n=this.getFocusedGroupId();return n?this.getShape(n):void 0}setFocusedGroup(n){const r=typeof n=="string"?n:(n==null?void 0:n.id)??null;if(r!==null){const s=this.getShape(r);if(!s)throw Error(`Editor.setFocusedGroup: Shape with id ${r} does not exist`);if(!this.isShapeOfType(s,"group"))throw Error(`Editor.setFocusedGroup: Cannot set focused group to shape of type ${s.type}`)}return r===this.getFocusedGroupId()?this:(this._setFocusedGroupId(r),this)}popFocusedGroupId(){const n=this.getFocusedGroup();if(n){const r=this.findShapeAncestor(n,s=>this.isShapeOfType(s,"group"));this.setFocusedGroup((r==null?void 0:r.id)??null),this.select(n.id)}else this.setFocusedGroup(null),this.selectNone();return this}getEditingShapeId(){return this.getCurrentPageState().editingShapeId}getEditingShape(){const n=this.getEditingShapeId();return n?this.getShape(n):void 0}setEditingShape(n){const r=typeof n=="string"?n:(n==null?void 0:n.id)??null;if(r!==this.getEditingShapeId()){if(r){const s=this.getShape(r);if(s&&this.getShapeUtil(s).canEdit(s))return this._setInstancePageState({editingShapeId:r}),this}this._setInstancePageState({editingShapeId:null})}return this}getHoveredShapeId(){return this.getCurrentPageState().hoveredShapeId}getHoveredShape(){const n=this.getHoveredShapeId();return n?this.getShape(n):void 0}setHoveredShape(n){const r=typeof n=="string"?n:(n==null?void 0:n.id)??null;return r===this.getHoveredShapeId()?this:(this.updateCurrentPageState({hoveredShapeId:r},{ephemeral:!0}),this)}getHintingShapeIds(){return this.getCurrentPageState().hintingShapeIds}getHintingShape(){const n=this.getHintingShapeIds();return Ve(n.map(r=>this.getShape(r)))}setHintingShapes(n){const r=typeof n[0]=="string"?n:n.map(s=>s.id);return this.updateCurrentPageState({hintingShapeIds:s1(r)},{ephemeral:!0}),this}getErasingShapeIds(){return this.getCurrentPageState().erasingShapeIds}getErasingShapes(){const n=this.getErasingShapeIds();return Ve(n.map(r=>this.getShape(r)))}setErasingShapes(n){const r=typeof n[0]=="string"?n:n.map(o=>o.id);r.sort();const s=this.getErasingShapeIds();if(r.length===s.length){for(let o=0;o<r.length;o++)if(r[o]!==s[o]){this._setInstancePageState({erasingShapeIds:r},{ephemeral:!0});break}}else this._setInstancePageState({erasingShapeIds:r},{ephemeral:!0});return this}getCroppingShapeId(){return this.getCurrentPageState().croppingShapeId}setCroppingShape(n){const r=typeof n=="string"?n:(n==null?void 0:n.id)??null;if(r!==this.getCroppingShapeId())if(!r)this.updateCurrentPageState({croppingShapeId:null});else{const s=this.getShape(r),o=this.getShapeUtil(s);s&&o.canCrop(s)&&this.updateCurrentPageState({croppingShapeId:r})}return this}getCameraId(){return ir.createId(this.getCurrentPageId())}getBaseZoom(){const n=this.getCameraOptions();if(!n.constraints||n.constraints.baseZoom==="default")return 1;const{zx:r,zy:s}=D_(this,n);switch(n.constraints.baseZoom){case"fit-min":return Math.max(r,s);case"fit-max":return Math.min(r,s);case"fit-x":return r;case"fit-y":return s;case"fit-min-100":return Math.min(1,Math.max(r,s));case"fit-max-100":return Math.min(1,Math.min(r,s));case"fit-x-100":return Math.min(1,r);case"fit-y-100":return Math.min(1,s);default:throw o1(n.constraints.baseZoom)}}getCameraOptions(){return this._cameraOptions.get()}getCamera(){return this.store.get(this.getCameraId())}getZoomLevel(){return this.getCamera().z}getInitialZoom(){const n=this.getCameraOptions();if(!n.constraints||n.constraints.initialZoom==="default")return 1;const{zx:r,zy:s}=D_(this,n);switch(n.constraints.initialZoom){case"fit-min":return Math.max(r,s);case"fit-max":return Math.min(r,s);case"fit-x":return r;case"fit-y":return s;case"fit-min-100":return Math.min(1,Math.max(r,s));case"fit-max-100":return Math.min(1,Math.min(r,s));case"fit-x-100":return Math.min(1,r);case"fit-y-100":return Math.min(1,s);default:throw o1(n.constraints.initialZoom)}}getConstrainedCamera(n,r){const s=this.getCamera();let{x:o,y:a,z:i=s.z}=n;if(!(r!=null&&r.force)){const l=this.getCameraOptions(),c=l.zoomSteps[0],d=_ye(l.zoomSteps),h=this.getViewportScreenBounds();if(l.constraints){const{constraints:u}=l,p=Math.min(u.padding.y,h.w/2),y=Math.min(u.padding.x,h.h/2),g=Qe.From(l.constraints.bounds),x=(h.w-y*2)/g.w,w=(h.h-p*2)/g.h,S=this.getBaseZoom(),v=d*S,k=c*S;if(r!=null&&r.reset&&(i=this.getInitialZoom()),i<k||i>v){const{x:R,y:M,z:D}=s,U=-R+h.w/D/2,Y=-M+h.h/D/2;i=$r(i,k,v);const q=-R+h.w/i/2,K=-M+h.h/i/2;o=R+q-U,a=M+K-Y}const C=y/i-g.x,_=p/i-g.y,E=(h.w-y*2)/i-g.w,I=(h.h-p*2)/i-g.h,z=C+E*u.origin.x,A=_+I*u.origin.y,T=typeof u.behavior=="string"?u.behavior:u.behavior.x,j=typeof u.behavior=="string"?u.behavior:u.behavior.y;if(r!=null&&r.reset)o=z,a=A;else{switch(T){case"fixed":{o=z;break}case"contain":{i<x?o=z:o=$r(o,C+E,C);break}case"inside":{i<x?o=$r(o,C,(h.w-y)/i-g.w):o=$r(o,C+E,C);break}case"outside":{o=$r(o,y/i-g.w,(h.w-y)/i);break}case"free":break;default:throw"Exhaustive switch error"}switch(j){case"fixed":{a=A;break}case"contain":{i<w?a=A:a=$r(a,_+I,_);break}case"inside":{i<w?a=$r(a,_,(h.h-p)/i-g.h):a=$r(a,_+I,_);break}case"outside":{a=$r(a,p/i-g.h,(h.h-p)/i);break}case"free":break;default:throw"Exhaustive switch error"}}}else if(i>d||i<c){const{x:u,y:p,z:y}=s;i=$r(i,c,d),o=u+(-u+h.w/i/2)-(-u+h.w/y/2),a=p+(-p+h.h/i/2)-(-p+h.h/y/2)}}return{x:o,y:a,z:i}}_setCamera(n,r){const s=this.getCamera(),{x:o,y:a,z:i}=this.getConstrainedCamera(n,r);return s.x===n.x&&s.y===n.y&&s.z===n.z?this:(this.batch(()=>{const{currentScreenPoint:l,currentPagePoint:c}=this.inputs,{screenBounds:d}=this.store.unsafeGetWithoutCapture(yr);if(l.x/i-o!==c.x||l.y/i-a!==c.y){const h={type:"pointer",target:"canvas",name:"pointer_move",point:L.AddXY(l,d.x,d.y),pointerId:y_.CAMERA_MOVE,ctrlKey:this.inputs.ctrlKey,altKey:this.inputs.altKey,shiftKey:this.inputs.shiftKey,button:0,isPen:this.getInstanceState().isPenMode??!1};this.dispatch(h)}this._tickCameraState()}),this)}setCamera(n,r){const{isLocked:s}=this._cameraOptions.__unsafe__getWithoutCapture();if(s&&!(r!=null&&r.force))return this;this.stopCameraAnimation(),this.getInstanceState().followingUserId&&this.stopFollowingUser();const o=L.Cast(n);Number.isFinite(o.x)||(o.x=0),Number.isFinite(o.y)||(o.y=0),(o.z===void 0||!Number.isFinite(o.z))&&(n.z=this.getZoomLevel());const a=this.getConstrainedCamera(o,r);if(r!=null&&r.animation){const{width:i,height:l}=this.getViewportScreenBounds();this._animateToViewport(new Qe(-a.x,-a.y,i/a.z,l/a.z),r.animation)}else this._setCamera(a,{...r,force:!0});return this}setCameraOptions(n){var s;const r=tp({...this._cameraOptions.__unsafe__getWithoutCapture(),...n});return((s=r.zoomSteps)==null?void 0:s.length)<1&&(r.zoomSteps=[1]),this._cameraOptions.set(r),this}centerOnPoint(n,r){if(!this.getInstanceState().canMoveCamera)return this;const{width:s,height:o}=this.getViewportPageBounds();return this.setCamera({x:-(n.x-s/2),y:-(n.y-o/2),z:this.getCamera().z},{animation:r}),this}zoomToContent(){const n=this.getSelectionPageBounds()??this.getCurrentPageBounds();return n&&this.zoomToBounds(n,Math.min(1,this.getZoomLevel()),{duration:220}),this}zoomToFit(n){if(!this.getInstanceState().canMoveCamera)return this;const r=[...this.getCurrentPageShapeIds()];if(r.length<=0)return this;const s=Qe.Common(Ve(r.map(o=>this.getShapePageBounds(o))));return this.zoomToBounds(s,void 0,n),this}resetZoom(n=this.getViewportScreenCenter(),r){if(!this.getInstanceState().canMoveCamera)return this;const{x:s,y:o,z:a}=this.getCamera(),{x:i,y:l}=n;return this.setCamera({x:s+(i/1-i)-(i/a-i),y:o+(l/1-l)-(l/a-l),z:1},{animation:r}),this}zoomIn(n=this.getViewportScreenCenter(),r){if(!this.getInstanceState().canMoveCamera)return this;const{x:s,y:o,z:a}=this.getCamera();let i=Ou;for(let d=1;d<xd.length;d++){const h=xd[d-1],u=xd[d];if(!(u-a<=(u-h)/2)){i=u;break}}const{x:l,y:c}=n;return this.setCamera({x:s+(l/i-l)-(l/a-l),y:o+(c/i-c)-(c/a-c),z:i},{animation:r}),this}zoomOut(n=this.getViewportScreenCenter(),r){if(!this.getInstanceState().canMoveCamera)return this;const{x:s,y:o,z:a}=this.getCamera();let i=$u;for(let d=xd.length-1;d>0;d--){const h=xd[d-1],u=xd[d];if(!(u-a>=(u-h)/2)){i=h;break}}const{x:l,y:c}=n;return this.setCamera({x:s+(l/i-l)-(l/a-l),y:o+(c/i-c)-(c/a-c),z:i},{animation:r}),this}zoomToSelection(n){if(!this.getInstanceState().canMoveCamera)return this;const r=this.getSelectionPageBounds();return r?(this.zoomToBounds(r,Math.max(1,this.getZoomLevel()),n),this):this}panZoomIntoView(n,r){if(!this.getInstanceState().canMoveCamera)return this;if(n.length<=0)return this;const s=Qe.Common(Ve(n.map(a=>this.getShapePageBounds(a)))),o=this.getViewportPageBounds();if(o.h<s.h||o.w<s.w)return this.zoomToBounds(s,this.getCamera().z,r),this;{const a=this.getViewportPageBounds().clone().expandBy(-32/this.getZoomLevel());let i=0,l=0;a.maxY<s.maxY?l=a.maxY-s.maxY:a.minY>s.minY&&(l=a.minY-s.minY),a.maxX<s.maxX?i=a.maxX-s.maxX:a.minX>s.minX&&(i=a.minX-s.minX);const c=this.getCamera();this.setCamera({x:c.x+i,y:c.y+l,z:c.z},{animation:r})}return this}zoomToBounds(n,r,s){if(!this.getInstanceState().canMoveCamera)return this;const o=this.getViewportScreenBounds(),a=Math.min(256,o.width*.28);let i=$r(Math.min((o.width-a)/n.width,(o.height-a)/n.height),$u,Ou);return r!==void 0&&(i=Math.min(r,i)),this.setCamera({x:-n.minX+(o.width-n.width*i)/2/i,y:-n.minY+(o.height-n.height*i)/2/i,z:i},{animation:s}),this}pan(n,r){if(!this.getInstanceState().canMoveCamera)return this;const{x:s,y:o,z:a}=this.getCamera();return this.setCamera({x:s+n.x/a,y:o+n.y/a,z:a},{animation:r}),this}pageToViewport(n){const{x:r,y:s,z:o=1}=this.getCamera();return new L((n.x+r)*o,(n.y+s)*o,n.z??.5)}stopCameraAnimation(){return this.emit("stop-camera-animation"),this}_animateViewport(n){if(!this._viewportAnimation)return;const r=()=>{this.removeListener("tick",this._animateViewport),this.removeListener("stop-camera-animation",r),this._viewportAnimation=null};this.once("stop-camera-animation",r),this._viewportAnimation.elapsed+=n;const{elapsed:s,easing:o,duration:a,start:i,end:l}=this._viewportAnimation;if(s>a){this._setCamera({x:-l.x,y:-l.y,z:this.getViewportScreenBounds().width/l.width}),r();return}const c=a-s,d=o(1-c/a),h=i.minX+(l.minX-i.minX)*d,u=i.minY+(l.minY-i.minY)*d,p=i.maxX+(l.maxX-i.maxX)*d;this._setCamera({x:-h,y:-u,z:this.getViewportScreenBounds().width/(p-h)})}_animateToViewport(n,r={}){const{duration:s=0,easing:o=l1.easeInOutCubic}=r,a=this.user.getAnimationSpeed(),i=this.getViewportPageBounds();return this.stopCameraAnimation(),this.getInstanceState().followingUserId&&this.stopFollowingUser(),s===0||a===0?this._setCamera({x:-n.x,y:-n.y,z:this.getViewportScreenBounds().width/n.width}):(this._viewportAnimation={elapsed:0,duration:s/a,easing:o,start:i.clone(),end:n.clone()},this.addListener("tick",this._animateViewport),this)}slideCamera(n={}){if(!this.getInstanceState().canMoveCamera)return this;if(this.stopCameraAnimation(),this.user.getAnimationSpeed()===0)return this;const{speed:s,friction:o,direction:a,speedThreshold:i=.01}=n;let l=Math.min(s,1);const c=()=>{this.removeListener("tick",d),this.removeListener("stop-camera-animation",c)};this.once("stop-camera-animation",c);const d=h=>{const{x:u,y:p,z:y}=this.getCamera(),g=L.Mul(a,l*h/y);l*=1-o,l<i?c():this._setCamera({x:u+g.x,y:p+g.y,z:y})};return this.addListener("tick",d),this}animateToUser(n){const s=[...this.store.query.records("instance_presence",()=>({userId:{eq:n}})).get()].sort((o,a)=>o.lastActivityTimestamp-a.lastActivityTimestamp).pop();return s?(this.batch(()=>{this.getInstanceState().followingUserId!==null&&this.stopFollowingUser();const o=s.currentPageId===this.getCurrentPageId();o||this.setCurrentPage(s.currentPageId);const a=o?{duration:500}:void 0;this.centerOnPoint(s.cursor,a);const{highlightedUserIds:i}=this.getInstanceState();this.updateInstanceState({highlightedUserIds:[...i,n]}),setTimeout(()=>{const l=[...this.getInstanceState().highlightedUserIds],c=l.indexOf(n);c<0||(l.splice(c,1),this.updateInstanceState({highlightedUserIds:l}))},HR)}),this):this}animateToShape(n,r=v1e){if(!this.getInstanceState().canMoveCamera)return this;const s=this.getViewportScreenBounds().clone().expandBy(-32),o=s.width/s.height,a=this.getShapePageBounds(n);if(!a)return this;const i=a.width/a.height,l=a.clone(),c=a.width/s.width;return l.width+=(s.minX+s.maxX)*c,l.height+=(s.minY+s.maxY)*c,l.x-=s.minX*c,l.y-=s.minY*c,i>o?(l.height=a.width/o,l.y-=(l.height-a.height)/2):(l.width=a.height*o,l.x-=(l.width-a.width)/2),this._animateToViewport(l,r)}updateViewportScreenBounds(n=!1){const r=this.getContainer();if(!r)return this;const s=r.getBoundingClientRect(),o=new Qe(s.left||s.x,s.top||s.y,Math.max(s.width,1),Math.max(s.height,1)),a=o.equals(this.getViewportScreenBounds()),{_willSetInitialBounds:i}=this;if(a)this._willSetInitialBounds=!1;else if(i)this._willSetInitialBounds=!1,this.updateInstanceState({screenBounds:o.toJson()},{squashing:!0,ephemeral:!0});else if(n&&!this.getInstanceState().followingUserId){const l=this.getViewportPageCenter();this.updateInstanceState({screenBounds:o.toJson()},{squashing:!0,ephemeral:!0}),this.centerOnPoint(l)}else this.updateInstanceState({screenBounds:o.toJson()},{squashing:!0,ephemeral:!0});return this._tickCameraState(),this.updateRenderingBounds(),this}getViewportScreenBounds(){const{x:n,y:r,w:s,h:o}=this.getInstanceState().screenBounds;return new Qe(n,r,s,o)}getViewportScreenCenter(){return this.getViewportScreenBounds().center}getViewportPageBounds(){const{w:n,h:r}=this.getViewportScreenBounds(),{x:s,y:o,z:a}=this.getCamera();return new Qe(-s,-o,n/a,r/a)}getViewportPageCenter(){return this.getViewportPageBounds().center}screenToPage(n){const{screenBounds:r}=this.store.unsafeGetWithoutCapture(yr),{x:s,y:o,z:a=1}=this.getCamera();return{x:(n.x-r.x)/a-s,y:(n.y-r.y)/a-o,z:n.z??.5}}pageToScreen(n){const{screenBounds:r}=this.store.unsafeGetWithoutCapture(yr),{x:s,y:o,z:a=1}=this.getCamera();return{x:(n.x+s)*a+r.x,y:(n.y+o)*a+r.y,z:n.z??.5}}startFollowingUser(n){const r=this.store.query.records("instance_presence",()=>({userId:{eq:n}})),s=this.user.getId();if(s||console.warn("You should set the userId for the current instance before following a user"),r.get().some(l=>l.followingUserId===s))return this;yf(()=>{this.stopFollowingUser(),this.updateInstanceState({followingUserId:n},{ephemeral:!0})});const o=()=>{this.removeListener("frame",i),this.removeListener("stop-following",o)};let a=!1;const i=()=>{const l=[...r.get()].sort((R,M)=>R.lastActivityTimestamp-M.lastActivityTimestamp).pop();if(!l){this.stopFollowingUser();return}const c=l.currentPageId===this.getCurrentPageId(),d=c?f1e:1;if(!c){this.stopFollowingUser(),this.setCurrentPage(l.currentPageId),this.startFollowingUser(n);return}const{center:h,width:u,height:p}=this.getViewportPageBounds(),y=Qe.From(l.screenBounds),g=y.width/l.camera.z,x=y.height/l.camera.z,w=new L(g/2-l.camera.x,x/2-l.camera.y),S=l.followingUserId===s,v=u+(g-u)*d,k=p+(x-p)*d,C=S?p/k:Math.min(u/v,p/k),_=$r(this.getCamera().z*C,$u,Ou),E=this.getViewportScreenBounds().w/_,I=this.getViewportScreenBounds().h/_,z=w.sub(h),A=L.Add(h,L.Mul(z,d)),T=L.Sub(A,h).len(),j=Math.abs(_-this.getCamera().z);if(T<g1e&&j<y1e){a=!0;return}a&&T<m1e&&j<x1e||(a=!1,this.stopCameraAnimation(),this._setCamera({x:-(A.x-E/2),y:-(A.y-I/2),z:_}))};return this.once("stop-following",o),this.addListener("frame",i),this}stopFollowingUser(){return this.updateInstanceState({followingUserId:null},{ephemeral:!0}),this.emit("stop-following"),this}getCameraState(){return this._cameraState.get()}getUnorderedRenderingShapes(n){const r=[];let s=va*2,o=va;const a=this.getEditingShapeId(),i=this.getSelectedShapeIds(),l=this.getErasingShapeIds(),c=this.getRenderingBoundsExpanded(),d=Number.isFinite(this.renderingBoundsMargin),h=(u,p,y)=>{const g=this.getShape(u);if(!g)return;p*=g.opacity;let x=!1,w=!1;const S=this.getShapeUtil(g),v=this.getShapeMaskedPageBounds(u);n&&(w=!y&&l.includes(u),w&&(p*=.32),x=d&&S.canUnmount(g)&&a!==u&&(v===void 0||!c.includes(v)&&!i.includes(u))),r.push({id:u,shape:g,util:S,index:s,backgroundIndex:o,opacity:p,isCulled:x,maskedPageBounds:v}),s+=1,o+=1;const k=this.getSortedChildIdsForParent(u);if(!k.length)return;let C=null;S.providesBackgroundForChildren(g)&&(C=o,o=s,s+=va);for(const _ of k)h(_,p,y||w);C!==null&&(o=C)};for(const u of this.getSortedChildIdsForParent(this.getCurrentPageId()))h(u,1,!1);return r}getRenderingShapes(){return this.getUnorderedRenderingShapes(!0).sort(Nye)}getRenderingBounds(){return this._renderingBounds.get()}getRenderingBoundsExpanded(){return this._renderingBoundsExpanded.get()}updateRenderingBounds(){const n=this.getViewportPageBounds();return n.equals(this._renderingBounds.__unsafe__getWithoutCapture())?this:(this._renderingBounds.set(n.clone()),Number.isFinite(this.renderingBoundsMargin)?this._renderingBoundsExpanded.set(n.clone().expandBy(this.renderingBoundsMargin/this.getZoomLevel())):this._renderingBoundsExpanded.set(n),this)}_getAllPagesQuery(){return this.store.query.records("page")}getPages(){return this._getAllPagesQuery().get().sort(Bo)}getCurrentPage(){return this.getPage(this.getCurrentPageId())}getCurrentPageId(){return this.getInstanceState().currentPageId}getPage(n){return this.store.get(typeof n=="string"?n:n.id)}getCurrentPageShapeIds(){return this._currentPageShapeIds.get()}getPageShapeIds(n){const r=typeof n=="string"?n:n.id,s=this.store.query.exec("shape",{parentId:{eq:r}});return this.getShapeAndDescendantIds(s.map(o=>o.id))}setCurrentPage(n,r){const s=typeof n=="string"?n:n.id;return this._setCurrentPageId(s,r),this}updatePage(n,r){return this._updatePage(n,r),this}createPage(n){return this._createPage(n),this}deletePage(n){const r=typeof n=="string"?n:n.id;return this._deletePage(r),this}duplicatePage(n,r=Sf.createId()){if(this.getPages().length>=g_)return this;const s=typeof n=="string"?n:n.id,o=this.getPage(s);if(!o)return this;const a={...this.getCamera()},i=this.getContentFromCurrentPage(this.getSortedChildIdsForParent(o.id));return this.batch(()=>{var d;const l=this.getPages(),c=q5(o.index,(d=l[l.indexOf(o)+1])==null?void 0:d.index);if(this.createPage({name:o.name+" Copy",id:r,index:c}),this.setCurrentPage(r),this.setCamera(a),i)return this.putContentOntoCurrentPage(i)}),this}renamePage(n,r,s){const o=typeof n=="string"?n:n.id;return this.getInstanceState().isReadonly?this:(this.updatePage({id:o,name:r},s),this)}_getAllAssetsQuery(){return this.store.query.records("asset")}getAssets(){return this._getAllAssetsQuery().get()}createAssets(n){return this._createAssets(n),this}updateAssets(n){return this._updateAssets(n),this}deleteAssets(n){const r=typeof n[0]=="string"?n:n.map(s=>s.id);return this._deleteAssets(r),this}getAsset(n){return this.store.get(typeof n=="string"?n:n.id)}_getShapeGeometryCache(){return this.store.createComputedCache("bounds",n=>this.getShapeUtil(n).getGeometry(n),(n,r)=>n.props===r.props)}getShapeGeometry(n){return this._getShapeGeometryCache().get(typeof n=="string"?n:n.id)}_getShapeOutlineSegmentsCache(){return this.store.createComputedCache("outline-segments",n=>this.getShapeUtil(n).getOutlineSegments(n))}getShapeOutlineSegments(n){return this._getShapeOutlineSegmentsCache().get(typeof n=="string"?n:n.id)??Xi}_getShapeHandlesCache(){return this.store.createComputedCache("handles",n=>{var r,s;return(s=(r=this.getShapeUtil(n)).getHandles)==null?void 0:s.call(r,n)})}getShapeHandles(n){return this._getShapeHandlesCache().get(typeof n=="string"?n:n.id)}getShapeLocalTransform(n){const r=typeof n=="string"?n:n.id,s=this.getShape(r);if(!s)throw Error("Editor.getTransform: shape not found");return _e.Identity().translate(s.x,s.y).rotate(s.rotation)}_getShapePageTransformCache(){return this.store.createComputedCache("pageTransformCache",n=>{if(ts(n.parentId))return this.getShapeLocalTransform(n);const r=this._getShapePageTransformCache().get(n.parentId)??_e.Identity();return _e.Compose(r,this.getShapeLocalTransform(n))})}getShapeParentTransform(n){const r=typeof n=="string"?n:n.id,s=this.getShape(r);return!s||ts(s.parentId)?_e.Identity():this._getShapePageTransformCache().get(s.parentId)??_e.Identity()}getShapePageTransform(n){const r=typeof n=="string"?n:this.getShape(n).id;return this._getShapePageTransformCache().get(r)??_e.Identity()}_getShapePageBoundsCache(){return this.store.createComputedCache("pageBoundsCache",n=>{const r=this._getShapePageTransformCache().get(n.id);return r?Qe.FromPoints(_e.applyToPoints(r,this.getShapeGeometry(n).vertices)):new Qe})}getShapePageBounds(n){return this._getShapePageBoundsCache().get(typeof n=="string"?n:n.id)}_getShapeClipPathCache(){return this.store.createComputedCache("clipPathCache",n=>{const r=this._getShapeMaskCache().get(n.id);if(!r)return;if(r.length===0)return"polygon(0px 0px, 0px 0px, 0px 0px)";const s=this._getShapePageTransformCache().get(n.id);return s?`polygon(${_e.applyToPoints(_e.Inverse(s),r).map(a=>`${a.x}px ${a.y}px`).join(",")})`:void 0})}getShapeClipPath(n){return this._getShapeClipPathCache().get(typeof n=="string"?n:n.id)}_getShapeMaskCache(){return this.store.createComputedCache("pageMaskCache",n=>{if(ts(n.parentId))return;const r=this.getShapeAncestors(n.id).filter(o=>this.isShapeOfType(o,"frame"));return r.length===0?void 0:r.map(o=>this._getShapePageTransformCache().get(o.id).applyToPoints(this.getShapeGeometry(o).vertices)).reduce((o,a)=>{if(!(a&&o))return;const i=__(o,a);return i?i.map(L.Cast):[]})})}getShapeMask(n){return this._getShapeMaskCache().get(typeof n=="string"?n:n.id)}getShapeMaskedPageBounds(n){typeof n!="string"&&(n=n.id);const r=this._getShapePageBoundsCache().get(n);if(!r)return;const s=this._getShapeMaskCache().get(n);if(s){if(s.length===0)return;const{corners:o}=r;if(o.every((i,l)=>L.Equals(i,s[l])))return r.clone();const a=__(s,o);return a?Qe.FromPoints(a):void 0}return r}getShapeAncestors(n,r=[]){const s=typeof n=="string"?n:n.id,o=this.getShape(s);if(!o)return r;const a=o.parentId;if(ts(a))return r.reverse(),r;const i=this.store.get(a);return i?(r.push(i),this.getShapeAncestors(i,r)):r}findShapeAncestor(n,r){const s=typeof n=="string"?n:n.id,o=this.getShape(s);if(!o)return;const a=o.parentId;if(ts(a))return;const i=this.getShape(a);if(i)return r(i)?i:this.findShapeAncestor(i,r)}hasAncestor(n,r){const s=typeof n=="string"?n:n==null?void 0:n.id,o=s&&this.getShape(s);return o?o.parentId===r?!0:this.hasAncestor(this.getShapeParent(o),r):!1}findCommonAncestor(n,r){var c;if(n.length===0)return;const s=typeof n[0]=="string"?n:n.map(d=>d.id),o=Ve(s.map(d=>this.getShape(d)));if(o.length===1){const d=o[0].parentId;return ts(d)?void 0:r?(c=this.findShapeAncestor(o[0],r))==null?void 0:c.id:d}const[a,...i]=o;let l=this.getShapeParent(a);for(;l;){if(r&&!r(l)){l=this.getShapeParent(l);continue}if(i.every(d=>this.hasAncestor(d,l.id)))return l.id;l=this.getShapeParent(l)}}isShapeOrAncestorLocked(n){const r=typeof n=="string"?this.getShape(n):n;return r===void 0?!1:r.isLocked?!0:this.isShapeOrAncestorLocked(this.getShapeParent(r))}getCurrentPageBounds(){let n;return this.getCurrentPageShapeIds().forEach(r=>{const s=this.getShapeMaskedPageBounds(r);s&&(n?n=n.expand(s):n=s.clone())}),n}getSelectedShapeAtPoint(n){const r=this.getSelectedShapeIds();return this.getCurrentPageShapesSorted().filter(s=>s.type!=="group"&&r.includes(s.id)).reverse().find(s=>this.isPointInShape(s,n,{hitInside:!0,margin:0}))}getShapeAtPoint(n,r={}){const s=this.getZoomLevel(),o=this.getViewportPageBounds(),{filter:a,margin:i=0,hitLabels:l=!1,hitInside:c=!1,hitFrameInside:d=!1}=r;let h=1/0,u=null,p=1/0,y=null;const g=(r.renderingOnly?this.getCurrentPageRenderingShapesSorted():this.getCurrentPageShapesSorted()).filter(x=>{if(this.isShapeOfType(x,"group"))return!1;const w=this.getShapeMask(x);return w&&!Ph(n,w)?!1:a?a(x):!0});for(let x=g.length-1;x>=0;x--){const w=g[x],S=this.getShapeGeometry(w),v=S instanceof X6,k=this.getPointInShapeSpace(w,n);if((this.isShapeOfType(w,"arrow")||this.isShapeOfType(w,"geo")&&w.props.fill==="none")&&w.props.text.trim()){for(const _ of S.children)if(_.isLabel&&_.isPointInBounds(k))return w}if(this.isShapeOfType(w,"frame")){const _=S.distanceToPoint(k,c);if(Math.abs(_)<=i)return y||w;if(S.hitTestPoint(k,0,!0))return y||u||(d?w:void 0);continue}let C;if(v){let _=1/0;for(const E of S.children){if(E.isLabel&&!l)continue;const I=E.distanceToPoint(k,c);I<_&&(_=I)}C=_}else i===0&&(S.bounds.w<1||S.bounds.h<1)||S.bounds.containsPoint(k,i)?C=S.distanceToPoint(k,c):C=1/0;if(S.isClosed){if(C<=i){if(S.isFilled||v&&S.children[0].isFilled)return y||w;if(this.getShapePageBounds(w).contains(o))continue;if(Math.abs(C)<i)Math.abs(C)<p&&(p=Math.abs(C),y=w);else if(!y){const{area:_}=S;_<h&&(h=_,u=w)}}}else if(C<I1e/s)return w}return y||u||void 0}getShapesAtPoint(n,r={}){return this.getCurrentPageShapes().filter(s=>this.isPointInShape(s,n,r))}isPointInShape(n,r,s={}){const{hitInside:o=!1,margin:a=0}=s,i=typeof n=="string"?n:n.id,l=this.getShapeMask(i);return l&&!Ph(r,l)?!1:this.getShapeGeometry(i).hitTestPoint(this.getPointInShapeSpace(n,r),a,o)}getPointInShapeSpace(n,r){const s=typeof n=="string"?n:n.id;return this._getShapePageTransformCache().get(s).clone().invert().applyToPoint(r)}getPointInParentSpace(n,r){const s=typeof n=="string"?n:n.id,o=this.getShape(s);if(!o)return new L(0,0);if(ts(o.parentId))return L.From(r);const a=this.getShapePageTransform(o.parentId);return a?a.clone().invert().applyToPoint(r):L.From(r)}getCurrentPageShapes(){return Array.from(this.getCurrentPageShapeIds(),n=>this.store.get(n))}getCurrentPageShapesSorted(){const n=new Set(this.getCurrentPageShapes().sort(Bo)),r=[];function s(o){r.push(o),n.delete(o),n.forEach(a=>{a.parentId===o.id&&s(a)})}return n.forEach(o=>{const a=this.getShape(o.parentId);rc(a)||s(o)}),r}getCurrentPageRenderingShapesSorted(){return this.getRenderingShapes().filter(({isCulled:n})=>!n).sort((n,r)=>n.index-r.index).map(({shape:n})=>n)}isShapeOfType(n,r){return(typeof n=="string"?this.getShape(n):n).type===r}getShape(n){const r=typeof n=="string"?n:n.id;if($o(r))return this.store.get(r)}getShapeParent(n){const r=typeof n=="string"?n:n==null?void 0:n.id;if(!r)return;const s=this.getShape(r);if(!(s===void 0||!$o(s.parentId)))return this.store.get(s.parentId)}getShapeNearestSibling(n,r){return r?r.parentId===n.parentId?r:this.findShapeAncestor(r,o=>o.parentId===n.parentId):void 0}isShapeInPage(n,r=this.getCurrentPageId()){const s=typeof n=="string"?n:n.id,o=this.getShape(s);if(!o)return!1;let a=!1;if(o.parentId===r)a=!0;else{let i=this.getShape(o.parentId);e:for(;i;){if(i.parentId===r){a=!0;break e}i=this.getShape(i.parentId)}}return a}getAncestorPageId(n){const r=typeof n=="string"?n:n==null?void 0:n.id,s=r&&this.getShape(r);if(s)return ts(s.parentId)?s.parentId:this.getAncestorPageId(this.getShape(s.parentId))}reparentShapes(n,r,s){const o=typeof n[0]=="string"?n:n.map(y=>y.id);if(o.length===0)return this;const a=[],i=ts(r)?_e.Identity():this.getShapePageTransform(r),l=i.rotation();let c=[];const d=Ve(this.getSortedChildIdsForParent(r).map(y=>this.getShape(y)));if(s){const y=d.find(g=>g.index===s);if(y){const g=d[d.indexOf(y)+1];g?c=zh(s,g.index,o.length):c=D5(s,o.length)}else{const g=d.sort(Bo).find(x=>x.index>s);g?c=zh(s,g.index,o.length):c=D5(s,o.length)}}else{const y=d.length&&d[d.length-1];c=y?D5(y.index,o.length):rxe(o.length)}const h=i.clone().invert(),u=Ve(o.map(y=>this.getShape(y))),p=u.filter(y=>y.isLocked);p.length&&this.updateShapes(p.map(({id:y,type:g})=>({id:y,type:g,isLocked:!1})));for(let y=0;y<u.length;y++){const g=u[y],x=this.getShapePageTransform(g);if(!x)continue;const w=x.point();if(!w)continue;const S=h.applyToPoint(w),v=x.rotation()-l;a.push({id:g.id,type:g.type,parentId:r,x:S.x,y:S.y,rotation:v,index:c[y],isLocked:g.isLocked})}return this.updateShapes(a),this}getHighestIndexForParent(n){const r=typeof n=="string"?n:n.id,s=this._parentIdsToChildIds.get()[r];if(!s||s.length===0)return"a1";const o=this.getShape(s[s.length-1]);return bd(o.index)}getSortedChildIdsForParent(n){const r=typeof n=="string"?n:n.id,s=this._parentIdsToChildIds.get()[r];return s?this._childIdsCache.get(s,()=>s):Xi}visitDescendants(n,r){const s=typeof n=="string"?n:n.id,o=this.getSortedChildIdsForParent(s);for(const a of o)r(a)!==!1&&this.visitDescendants(a,r);return this}getShapeAndDescendantIds(n){const r=new Set,s=[...n];for(;s.length>0;){const o=s.pop();if(!o)break;if(!r.has(o)){r.add(o);for(const a of this.getSortedChildIdsForParent(o))s.push(a)}}return r}getDroppingOverShape(n,r=[]){const s=this.getCurrentPageShapesSorted();for(let o=s.length-1;o>=0;o--){const a=s[o];if(!this.getShapeUtil(a).canDropShapes(a,r)||r.find(l=>l.id===a.id||this.hasAncestor(a,l.id)))continue;const i=this.getShapeMaskedPageBounds(a.id);if(i&&i.containsPoint(n)&&this.getShapeGeometry(a).hitTestPoint(this.getPointInShapeSpace(a,n),0,!0))return a}}getOutermostSelectableShape(n,r){const s=typeof n=="string"?n:n.id,o=this.getShape(s);let a=o,i=o;const l=this.getFocusedGroup();for(;i;){if(this.isShapeOfType(i,"group")&&(l==null?void 0:l.id)!==i.id&&!this.hasAncestor(l,i.id)&&((r==null?void 0:r(i))??!0))a=i;else if((l==null?void 0:l.id)===i.id)break;i=this.getShapeParent(i)}return a}rotateShapesBy(n,r){if((typeof n[0]=="string"?n:n.map(a=>a.id)).length<=0)return this;const o=lxe({editor:this});return o?(cxe({delta:r,snapshot:o,editor:this,stage:"one-off"}),this):this}nudgeShapes(n,r,s){var i,l;const o=typeof n[0]=="string"?n:n.map(c=>c.id);if(o.length<=0)return this;const a=[];for(const c of o){const d=this.getShape(c);if(!d)throw Error(`Could not find a shape with the id ${c}.`);const h=L.Cast(r),u=this.getShapeParentTransform(d);u&&h.rot(-u.rotation());const p=(l=(i=this.getShapeUtil(d)).onTranslateStart)==null?void 0:l.call(i,d);a.push(p?{...p,x:d.x+h.x,y:d.y+h.y}:{id:c,x:d.x+h.x,y:d.y+h.y,type:d.type})}return this.updateShapes(a,{squashing:!0,...s}),this}duplicateShapes(n,r){const s=typeof n[0]=="string"?n:n.map(d=>d.id);if(s.length<=0)return this;const o=new Set(s),a=[],i=[...s];for(;i.length>0;){const d=i.pop();if(!d)break;a.push(d),this.getSortedChildIdsForParent(d).forEach(h=>i.push(h))}a.reverse();const l=new Map(a.map(d=>[d,ep()])),c=Ve(a.map(d=>{const h=this.getShape(d);if(!h)return null;const u=l.get(d);let p=0,y=0;if(r&&o.has(d)){const _=this.getShapeParentTransform(h),E=new L(r.x,r.y).rot(-_.rotation());p=E.x,y=E.y}const g=h.parentId??this.getCurrentPageId(),x=this.getSortedChildIdsForParent(g),w=x.indexOf(h.id),S=x[w+1],v=S?this.getShape(S):null,k=v?q5(h.index,v.index):bd(h.index);let C=lh(h);if(this.isShapeOfType(h,"arrow")&&this.isShapeOfType(C,"arrow")){const _=this.getArrowInfo(h);let E,I;if(h.props.start.type==="binding"&&(E=l.get(h.props.start.boundShapeId),!E))if(_!=null&&_.isValid){const{x:A,y:T}=_.start.point;C.props.start={type:"point",x:A,y:T}}else{const{start:A}=ql(this,h);C.props.start={type:"point",x:A.x,y:A.y}}if(h.props.end.type==="binding"&&(I=l.get(h.props.end.boundShapeId),!I))if(_!=null&&_.isValid){const{x:A,y:T}=_.end.point;C.props.end={type:"point",x:A,y:T}}else{const{end:A}=ql(this,h);C.props.start={type:"point",x:A.x,y:A.y}}const z=qu(C)?_p(this,C):F5(this,C);if(_!=null&&_.isValid&&(z!=null&&z.isValid)&&!qu(h)){const A=L.Med(_.start.handle,_.end.handle),T=L.Dist(_.middle,A),j=L.Dist(z.middle,A);C.props.bend<0?C.props.bend+=j-T:C.props.bend-=j-T}C.props.start.type==="binding"&&E&&(C.props.start.boundShapeId=E),C.props.end.type==="binding"&&I&&(C.props.end.boundShapeId=I)}return C={...C,id:u,x:h.x+p,y:h.y+y,index:k},C}));return c.forEach(d=>{$o(d.parentId)&&l.has(d.parentId)&&(d.parentId=l.get(d.parentId))}),this.history.batch(()=>{const d=c.length+this.getCurrentPageShapeIds().size>va;d&&P0(this);const h=d?c.slice(0,va-this.getCurrentPageShapeIds().size):c,u=h.map(p=>p.id);if(this.createShapes(h),this.setSelectedShapes(u),r!==void 0){const p=this.getSelectionPageBounds(),y=this.getViewportPageBounds();p&&!y.contains(p)&&this.centerOnPoint(p.center,{duration:u1e})}}),this}moveShapesToPage(n,r){const s=typeof n[0]=="string"?n:n.map(l=>l.id);if(s.length===0)return this;if(this.getInstanceState().isReadonly)return this;const o=this.getCurrentPageId();if(r===o)return this;if(!this.store.has(r))return this;const a=this.getContentFromCurrentPage(s);if(!a)return this;if(this.getPageShapeIds(r).size+a.shapes.length>va)return P0(this,r),this;const i=this.getCamera().z;return this.history.batch(()=>{this.deleteShapes(s),this.setCurrentPage(r),this.setFocusedGroup(null),this.selectNone(),this.putContentOntoCurrentPage(a,{select:!0,preserveIds:!0,preservePosition:!0}),this.setCamera({...this.getCamera(),z:i}),this.centerOnPoint(this.getSelectionRotatedPageBounds().center)}),this}toggleLock(n){const r=typeof n[0]=="string"?n:n.map(i=>i.id);if(this.getInstanceState().isReadonly||r.length===0)return this;let s=!0,o=!0;const a=[];for(const i of r){const l=this.getShape(i);l&&(a.push(l),l.isLocked?o=!1:s=!1)}return this.batch(()=>{o?(this.updateShapes(a.map(i=>({id:i.id,type:i.type,isLocked:!0}))),this.setSelectedShapes([])):s?this.updateShapes(a.map(i=>({id:i.id,type:i.type,isLocked:!1}))):this.updateShapes(a.map(i=>({id:i.id,type:i.type,isLocked:!0})))}),this}sendToBack(n){const r=typeof n[0]=="string"?n:n.map(o=>o.id),s=I0(this,"toBack",r);return s&&this.updateShapes(s),this}sendBackward(n){const r=typeof n[0]=="string"?n:n.map(o=>o.id),s=I0(this,"backward",r);return s&&this.updateShapes(s),this}bringForward(n){const r=typeof n[0]=="string"?n:n.map(o=>o.id),s=I0(this,"forward",r);return s&&this.updateShapes(s),this}bringToFront(n){const r=typeof n[0]=="string"?n:n.map(o=>o.id),s=I0(this,"toFront",r);return s&&this.updateShapes(s),this}flipShapes(n,r){const s=typeof n[0]=="string"?n:n.map(i=>i.id);if(this.getInstanceState().isReadonly)return this;let o=Ve(s.map(i=>this.getShape(i)));if(!o.length)return this;o=Ve(o.map(i=>this.isShapeOfType(i,"group")?this.getSortedChildIdsForParent(i.id).map(l=>this.getShape(l)):i).flat());const a=Qe.Common(Ve(o.map(i=>this.getShapePageBounds(i)))).center;return this.batch(()=>{for(const i of o){const l=this.getShapeGeometry(i).bounds,c=this.getShapePageTransform(i.id);c&&this.resizeShape(i.id,{x:r==="horizontal"?-1:1,y:r==="vertical"?-1:1},{initialBounds:l,initialPageTransform:c,initialShape:i,mode:"scale_shape",scaleOrigin:a,scaleAxisRotation:0})}}),this}stackShapes(n,r,s){const o=typeof n[0]=="string"?n:n.map(x=>x.id);if(this.getInstanceState().isReadonly)return this;const a=Ve(o.map(x=>this.getShape(x)).filter(x=>!(!x||this.isShapeOfType(x,"arrow")&&(x.props.start.type==="binding"||x.props.end.type==="binding")))),i=a.length;if(s===0&&i<3||i<2)return this;const l=Object.fromEntries(a.map(x=>[x.id,this.getShapePageBounds(x)]));let c,d,h,u;r==="horizontal"?(c="x",d="minX",h="maxX",u="width"):(c="y",d="minY",h="maxY",u="height");let p;if(s===0){const x=[];a.sort((S,v)=>l[S.id][d]-l[v.id][d]);for(let S=0;S<i-1;S++){const v=a[S],k=a[S+1],C=l[v.id],E=l[k.id][d]-C[h],I=x.find(z=>z.gap===E);I?I.count++:x.push({gap:E,count:1})}let w=0;x.forEach(S=>{S.count>w&&(w=S.count,p=S.gap)}),w===1&&(p=Math.max(0,x.reduce((S,v)=>S+v.gap*v.count,0)/(i-1)))}else p=s;const y=[];let g=l[a[0].id][h];return a.forEach((x,w)=>{var _,E;if(w===0)return;const S={x:0,y:0};S[c]=g+p-l[x.id][c];const v=this.getShapeParent(x),k=v?L.Rot(S,-this.getShapePageTransform(v).decompose().rotation):S,C=(E=(_=this.getShapeUtil(x)).onTranslateStart)==null?void 0:E.call(_,x);y.push(C?{...C,[c]:x[c]+k[c]}:{id:x.id,type:x.type,[c]:x[c]+k[c]}),g+=l[x.id][u]+p}),this.updateShapes(y),this}packShapes(n,r){var E,I;const s=typeof n[0]=="string"?n:n.map(z=>z.id);if(this.getInstanceState().isReadonly)return this;if(s.length<2)return this;const o=Ve(s.map(z=>this.getShape(z)).filter(z=>!(!z||this.isShapeOfType(z,"arrow")&&(z.props.start.type==="binding"||z.props.end.type==="binding")))),a={},i={};let l,c,d=0;for(let z=0;z<o.length;z++)l=o[z],c=this.getShapePageBounds(l),a[l.id]=c,i[l.id]=c.clone(),d+=c.width*c.height;const h=Qe.Common(Ve(Object.values(a))),u=h.width;o.sort((z,A)=>a[A.id].height-a[z.id].height);const p=Math.max(Math.ceil(Math.sqrt(d/.95)),u),y=[new Qe(h.x,h.y,p,1/0)];let g=0,x=0,w,S;for(let z=0;z<o.length;z++){l=o[z],c=i[l.id];for(let A=y.length-1;A>=0;A--)if(w=y[A],!(c.width>w.width||c.height>w.height)){c.x=w.x,c.y=w.y,x=Math.max(x,c.maxY),g=Math.max(g,c.maxX),c.width===w.width&&c.height===w.height?(S=y.pop(),A<y.length&&(y[A]=S)):c.height===w.height?(w.x+=c.width+r,w.width-=c.width+r):c.width===w.width?(w.y+=c.height+r,w.height-=c.height+r):(y.push(new Qe(w.x+(c.width+r),w.y,w.width-(c.width+r),c.height)),w.y+=c.height+r,w.height-=c.height+r);break}}const v=Qe.Common(Object.values(i)),k=L.Sub(h.center,v.center);let C;const _=[];for(let z=0;z<o.length;z++){l=o[z],c=a[l.id],C=i[l.id];const A=L.Sub(C.point,c.point).add(k),T=this.getShapeParentTransform(l);T&&A.rot(-T.rotation());const j={id:l.id,type:l.type,x:l.x+A.x,y:l.y+A.y},R=(I=(E=this.getShapeUtil(l)).onTranslateStart)==null?void 0:I.call(E,{...l,...j});R?_.push({...j,...R}):_.push(j)}return _.length&&this.updateShapes(_),this}alignShapes(n,r){const s=typeof n[0]=="string"?n:n.map(c=>c.id);if(this.getInstanceState().isReadonly)return this;if(s.length<2)return this;const o=Ve(s.map(c=>this.getShape(c))),a=Object.fromEntries(o.map(c=>[c.id,this.getShapePageBounds(c)])),i=Qe.Common(Ve(Object.values(a))),l=[];return o.forEach(c=>{var g,x;const d=a[c.id];if(!d)return;const h={x:0,y:0};switch(r){case"top":{h.y=i.minY-d.minY;break}case"center-vertical":{h.y=i.midY-d.minY-d.height/2;break}case"bottom":{h.y=i.maxY-d.minY-d.height;break}case"left":{h.x=i.minX-d.minX;break}case"center-horizontal":{h.x=i.midX-d.minX-d.width/2;break}case"right":{h.x=i.maxX-d.minX-d.width;break}}const u=this.getShapeParent(c),p=u?L.Rot(h,-this.getShapePageTransform(u).decompose().rotation):h,y=(x=(g=this.getShapeUtil(c)).onTranslateStart)==null?void 0:x.call(g,c);l.push(y?{...y,x:c.x+p.x,y:c.y+p.y}:{id:c.id,type:c.type,x:c.x+p.x,y:c.y+p.y})}),this.updateShapes(l),this}distributeShapes(n,r){const s=typeof n[0]=="string"?n:n.map(v=>v.id);if(this.getInstanceState().isReadonly)return this;if(s.length<3)return this;const o=s.length,a=Ve(s.map(v=>this.getShape(v))),i=Object.fromEntries(a.map(v=>[v.id,this.getShapePageBounds(v)]));let l,c,d,h,u;r==="horizontal"?(l="x",c="minX",d="maxX",h="midX",u="width"):(l="y",c="minY",d="maxY",h="midY",u="height");const p=[],y=a.sort((v,k)=>i[v.id][c]-i[k.id][c])[0],g=a.sort((v,k)=>i[k.id][d]-i[v.id][d])[0],x=i[y.id][h],w=(i[g.id][h]-x)/(o-1),S=x+w;return a.filter(v=>v!==y&&v!==g).sort((v,k)=>i[v.id][h]-i[k.id][h]).forEach((v,k)=>{var z,A;const C={x:0,y:0};C[l]=S+w*k-i[v.id][u]/2-i[v.id][l];const _=this.getShapeParent(v),E=_?L.Rot(C,-this.getShapePageTransform(_).rotation()):C,I=(A=(z=this.getShapeUtil(v)).onTranslateStart)==null?void 0:A.call(z,v);p.push(I?{...I,[l]:v[l]+E[l]}:{id:v.id,type:v.type,[l]:v[l]+E[l]})}),this.updateShapes(p),this}stretchShapes(n,r){const s=typeof n[0]=="string"?n:n.map(c=>c.id);if(this.getInstanceState().isReadonly)return this;if(s.length<2)return this;const o=Ve(s.map(c=>this.getShape(c))),a=Object.fromEntries(s.map(c=>[c,this.getShapeGeometry(c).bounds])),i=Object.fromEntries(s.map(c=>[c,this.getShapePageBounds(c)])),l=Qe.Common(Ve(Object.values(i)));switch(r){case"vertical":{this.batch(()=>{for(const c of o){if(this.getShapePageTransform(c).rotation()%ua)continue;const h=a[c.id],u=i[c.id],p=new L(0,l.minY-u.minY),y=this.getShapeParentTransform(c);y&&p.rot(-y.rotation());const{x:g,y:x}=L.Add(p,c);this.updateShapes([{id:c.id,type:c.type,x:g,y:x}],{squashing:!0});const w=new L(1,l.height/u.height);this.resizeShape(c.id,w,{initialBounds:h,scaleOrigin:new L(u.center.x,l.minY),scaleAxisRotation:0})}});break}case"horizontal":{this.batch(()=>{for(const c of o){const d=a[c.id],h=i[c.id];if(this.getShapePageTransform(c).rotation()%ua)continue;const p=new L(l.minX-h.minX,0),y=this.getShapeParentTransform(c);y&&p.rot(-y.rotation());const{x:g,y:x}=L.Add(p,c);this.updateShapes([{id:c.id,type:c.type,x:g,y:x}],{squashing:!0});const w=new L(l.width/h.width,1);this.resizeShape(c.id,w,{initialBounds:d,scaleOrigin:new L(l.minX,h.center.y),scaleAxisRotation:0})}});break}}return this}resizeShape(n,r,s={}){var p;const o=typeof n=="string"?n:n.id;if(this.getInstanceState().isReadonly)return this;Number.isFinite(r.x)||(r=new L(1,r.y)),Number.isFinite(r.y)||(r=new L(r.x,1));const a=s.initialShape??this.getShape(o);if(!a)return this;const i=s.scaleOrigin??((p=this.getShapePageBounds(o))==null?void 0:p.center);if(!i)return this;const l=s.initialPageTransform?_e.Cast(s.initialPageTransform):this.getShapePageTransform(o);if(!l)return this;const c=l.rotation();if(c==null)return this;const d=s.scaleAxisRotation??c,h=s.initialBounds??this.getShapeGeometry(o).bounds;if(!h)return this;if(!s1e(c,d))return this._resizeUnalignedShape(o,r,{...s,initialBounds:h,scaleOrigin:i,scaleAxisRotation:d,initialPageTransform:l,initialShape:a});const u=this.getShapeUtil(a);if(u.isAspectRatioLocked(a)&&(Math.abs(r.x)>Math.abs(r.y)?r=new L(r.x,Math.sign(r.y)*Math.abs(r.x)):r=new L(Math.sign(r.x)*Math.abs(r.y),r.y)),u.onResize&&u.canResize(a)){const y=this._scalePagePoint(_e.applyToPoint(l,new L(0,0)),i,r,d),g=this.getPointInParentSpace(a.id,y),x=new L(r.x,r.y),w=VR((c-d)%Math.PI,0);x.x=w?r.x:r.y,x.y=w?r.y:r.x;const S=_e.applyToPoint(l,new L),{x:v,y:k}=this.getPointInParentSpace(a.id,S);this.updateShapes([{id:o,type:a.type,x:g.x,y:g.y,...u.onResize({...a,x:v,y:k},{newPoint:g,handle:s.dragHandle??"bottom_right",mode:s.mode??"scale_shape",scaleX:x.x,scaleY:x.y,initialBounds:h,initialShape:a})}],{squashing:!0})}else{const y=_e.applyToPoint(l,h.center),g=this._scalePagePoint(y,i,r,d),x=this.getPointInParentSpace(a.id,y),w=this.getPointInParentSpace(a.id,g),S=L.Sub(w,x);this.updateShapes([{id:o,type:a.type,x:a.x+S.x,y:a.y+S.y}],{squashing:!0})}return this}_scalePagePoint(n,r,s,o){const a=L.RotWith(n,r,-o).sub(r),i=L.MulV(a,s);return L.Add(i,r).rotWith(r,o)}_resizeUnalignedShape(n,r,s){const{type:o}=s.initialShape,a=new L(r.x,r.y);if(Math.abs(r.x)>Math.abs(r.y)?a.x=Math.sign(r.x)*Math.abs(r.y):a.y=Math.sign(r.y)*Math.abs(r.x),this.resizeShape(n,a,{initialShape:s.initialShape,initialBounds:s.initialBounds}),Math.sign(r.x)*Math.sign(r.y)<0){let{rotation:w}=_e.Decompose(s.initialPageTransform);w-=2*w,this.updateShapes([{id:n,type:o,rotation:w}],{squashing:!0})}const i=_e.applyToPoint(s.initialPageTransform,s.initialBounds.center),l=this._scalePagePoint(i,s.scaleOrigin,r,s.scaleAxisRotation),c=this.getShapePageBounds(n),d=this.getShapePageTransform(n),h=c.center,u=d.point();if(!h||!u)return this;const p=L.Sub(l,h),y=L.Add(u,p),{x:g,y:x}=this.getPointInParentSpace(n,y);return this.updateShapes([{id:n,type:o,x:g,y:x}],{squashing:!0}),this}getInitialMetaForShape(n){return{}}createShape(n){return this._createShapes([n]),this}createShapes(n){if(!Array.isArray(n))throw Error("Editor.createShapes: must provide an array of shapes or shape partials");return this._createShapes(n),this}animateShape(n,r){return this.animateShapes([n],r)}animateShapes(n,r={}){const{duration:s=500,easing:o=l1.linear}=r,a=In();let i=s,l;const c=[];n.forEach(u=>{if(!u)return;const p={partial:u,values:[]},y=this.getShape(u.id);if(y){for(const g of["x","y","rotation"])u[g]!==void 0&&y[g]!==u[g]&&p.values.push({prop:g,from:y[g],to:u[g]});c.push(p),this.animatingShapes.set(y.id,a)}});let d;const h=u=>{if(i-=u,i<0){const{animatingShapes:y}=this,g=n.filter(x=>x&&y.get(x.id)===a);g.length&&this.updateShapes(g,{squashing:!1}),this.removeListener("tick",h);return}l=o(1-i/s);const{animatingShapes:p}=this;try{const y=[];for(let g=0;g<c.length;g++)d=c[g],p.get(d.partial.id)===a&&y.push({id:d.partial.id,type:d.partial.type,...d.values.reduce((x,{prop:w,from:S,to:v})=>(x[w]=S+(v-S)*l,x),{})});this._updateShapes(y,{squashing:!0})}catch{}};return this.addListener("tick",h),this}groupShapes(n,r=ep()){var p;if(!Array.isArray(n))throw Error("Editor.groupShapes: must provide an array of shapes or shape ids");if(this.getInstanceState().isReadonly)return this;const s=typeof n[0]=="string"?n:n.map(y=>y.id);if(s.length<=1)return this;const o=Ve(this._getUnlockedShapeIds(s).map(y=>this.getShape(y))),a=o.sort(Bo).map(y=>y.id),i=Qe.Common(Ve(o.map(y=>this.getShapePageBounds(y)))),{x:l,y:c}=i.point,d=this.findCommonAncestor(o)??this.getCurrentPageId();if(this.getCurrentToolId()!=="select")return this;this.isIn("select.idle")||this.cancel();const h=o.filter(y=>y.parentId===d).sort(Bo),u=(p=h[h.length-1])==null?void 0:p.index;return this.batch(()=>{this.createShapes([{id:r,type:"group",parentId:d,index:u,x:l,y:c,opacity:1,props:{}}]),this.reparentShapes(a,r),this.select(r)}),this}ungroupShapes(n){const r=typeof n[0]=="string"?n:n.map(i=>i.id);if(this.getInstanceState().isReadonly)return this;if(r.length===0)return this;if(this.getCurrentToolId()!=="select")return this;this.isIn("select.idle")||this.cancel();const s=new Set,o=Ve(r.map(i=>this.getShape(i))),a=[];return o.forEach(i=>{this.isShapeOfType(i,"group")?a.push(i):s.add(i.id)}),a.length===0?this:(this.batch(()=>{let i;for(let l=0,c=a.length;l<c;l++){i=a[l];const d=this.getSortedChildIdsForParent(i.id);for(let h=0,u=d.length;h<u;h++)s.add(d[h]);this.reparentShapes(d,i.parentId,i.index)}this.deleteShapes(a.map(l=>l.id)),this.select(...s)}),this)}updateShape(n,r){return this.updateShapes([n],r),this}updateShapes(n,r){let s=Ve(n);return this.animatingShapes.size>0&&s.forEach(o=>this.animatingShapes.delete(o.id)),s=s.filter(o=>{const a=this.getShape(o.id);return!(!a||this.isShapeOrAncestorLocked(a)&&!Object.hasOwn(o,"isLocked"))}),this._updateShapes(s,r),this}_getUnlockedShapeIds(n){return n.filter(r=>{var s;return!((s=this.getShape(r))!=null&&s.isLocked)})}deleteShapes(n){if(!Array.isArray(n))throw Error("Editor.deleteShapes: must provide an array of shapes or shapeIds");return this._deleteShapes(this._getUnlockedShapeIds(typeof n[0]=="string"?n:n.map(r=>r.id))),this}deleteShape(n){return this.deleteShapes([typeof n=="string"?n:n.id]),this}_extractSharedStyles(n,r){if(this.isShapeOfType(n,"group")){const s=this._parentIdsToChildIds.get()[n.id];if(!s)return;for(let o=0,a=s.length;o<a;o++)this._extractSharedStyles(this.getShape(s[o]),r)}else for(const[s,o]of this.styleProps[n.type])r.applyValue(s,j5(n.props,o))}getStyleForNextShape(n){const r=this.getInstanceState().stylesForNextShape[n.id];return r===void 0?n.defaultValue:r}getShapeStyleIfExists(n,r){const s=this.styleProps[n.type].get(r);if(s!==void 0)return j5(n.props,s)}getSharedStyles(){if(this.isIn("select")&&this.getSelectedShapeIds().length>0)return this._selectionSharedStyles.get();const n=this.root.getCurrent(),r=new z_;if(!n)return r;if(n.shapeType)for(const s of this.styleProps[n.shapeType].keys())r.applyValue(s,this.getStyleForNextShape(s));return r}getSharedOpacity(){if(this.isIn("select")&&this.getSelectedShapeIds().length>0){const n=[],r=o=>{const a=this.getShape(o);if(a)if(this.isShapeOfType(a,"group"))for(const i of this.getSortedChildIdsForParent(a.id))r(i);else n.push(a)};for(const o of this.getSelectedShapeIds())r(o);let s=null;for(const o of n)if(s===null)s=o.opacity;else if(s!==o.opacity)return{type:"mixed"};if(s!==null)return{type:"shared",value:s}}return{type:"shared",value:this.getInstanceState().opacityForNextShape}}setOpacityForNextShapes(n,r){return this.updateInstanceState({opacityForNextShape:n},r),this}setOpacityForSelectedShapes(n,r){const s=this.getSelectedShapes();if(s.length>0){const o=[],a=i=>{if(this.isShapeOfType(i,"group")){const l=this.getSortedChildIdsForParent(i);for(const c of l)a(this.getShape(c))}else o.push(i)};for(const i of s)a(i);this.updateShapes(o.map(i=>({id:i.id,type:i.type,opacity:n})),r)}return this}setStyleForNextShapes(n,r,s){const o=this.getInstanceState().stylesForNextShape;return this.updateInstanceState({stylesForNextShape:{...o,[n.id]:r}},s),this}setStyleForSelectedShapes(n,r,s){const o=this.getSelectedShapes();if(o.length>0){const a=[],i=l=>{if(this.isShapeOfType(l,"group")){const c=this.getSortedChildIdsForParent(l.id);for(const d of c)i(this.getShape(d))}else{const c=this.getShapeUtil(l),d=this.styleProps[l.type].get(n);if(d){const h={id:l.id,type:l.type,props:{[d]:r}};a.push({util:c,originalShape:l,updatePartial:h})}}};for(const l of o)i(l);this.updateShapes(a.map(({updatePartial:l})=>l),s)}return this}registerExternalAssetHandler(n,r){return this.externalAssetContentHandlers[n]=r,this}async getAssetForExternalContent(n){var r,s;return await((s=(r=this.externalAssetContentHandlers)[n.type])==null?void 0:s.call(r,n))}registerExternalContentHandler(n,r){return this.externalContentHandlers[n]=r,this}async putExternalContent(n){var r,s;return(s=(r=this.externalContentHandlers)[n.type])==null?void 0:s.call(r,n)}getContentFromCurrentPage(n){const r=typeof n[0]=="string"?n:n.map(l=>l.id);if(!r||r.length===0)return;const s={};let o=s1(r.map(l=>this.getShape(l)).sort(Bo).flatMap(l=>{const c=[l];return this.visitDescendants(l.id,d=>{c.push(this.getShape(d))}),c}));o=o.map(l=>{if(s[l.id]=this.getShapePageTransform(l.id),l=tp(l),this.isShapeOfType(l,"arrow")){const c=l.props.start.type==="binding"?l.props.start.boundShapeId:void 0,d=l.props.end.type==="binding"?l.props.end.boundShapeId:void 0,h=this.getArrowInfo(l);if(l.props.start.type==="binding"&&!o.some(p=>p.id===c))if(h!=null&&h.isValid){const{x:p,y}=h.start.point;l.props.start={type:"point",x:p,y}}else{const{start:p}=ql(this,l);l.props.start={type:"point",x:p.x,y:p.y}}if(l.props.end.type==="binding"&&!o.some(p=>p.id===d))if(h!=null&&h.isValid){const{x:p,y}=h.end.point;l.props.end={type:"point",x:p,y}}else{const{end:p}=ql(this,l);l.props.end={type:"point",x:p.x,y:p.y}}const u=qu(l)?_p(this,l):F5(this,l);if(h!=null&&h.isValid&&(u!=null&&u.isValid)&&!qu(l)){const p=L.Med(h.start.handle,h.end.handle),y=L.Dist(h.middle,p),g=L.Dist(u.middle,p);l.props.bend<0?l.props.bend+=g-y:l.props.bend-=g-y}return l}return l});const a=[];o.forEach(l=>{if(o.find(c=>c.id===l.parentId)===void 0){const c=this.getShapePageTransform(l.id),d=c.point(),h=c.rotation();l.x=d.x,l.y=d.y,l.rotation=h,l.parentId=this.getCurrentPageId(),a.push(l.id)}});const i=new Set;return o.forEach(l=>{"assetId"in l.props&&l.props.assetId!==null&&i.add(l.props.assetId)}),{shapes:o,rootShapeIds:a,schema:this.store.schema.serialize(),assets:Ve(Array.from(i).map(l=>this.getAsset(l)))}}putContentOntoCurrentPage(n,r={}){if(this.getInstanceState().isReadonly)return this;if(!n.schema)throw Error(`Could not put content:
content is missing a schema.`);const{select:s=!1,preserveIds:o=!1,preservePosition:a=!1}=r;let{point:i=void 0}=r;const l=this.getCurrentPageId(),{assets:c,shapes:d,rootShapeIds:h}=n,u=new Map(d.map(C=>[C.id,ep()]));let p=this.getCurrentPageId(),y=1/0,g=[];for(const C of this.getSelectedShapes()){if(y===0)break;const _=this.isShapeOfType(C,"frame"),E=this.getShapeAncestors(C);_&&E.push(C);const I=_?E.length+1:E.length;if(I<y)y=I,g=E,p=_?C.id:C.parentId;else if(I===y){if(g.length!==E.length)throw Error(`Ancestors: ${g.length} !== ${E.length}`);if(g.length===0){p=l;break}else{p=l;for(let z=0;z<g.length&&E[z]===g[z];z++)p=E[z].id}}}let x=!1;if(!ts(p)){const C=this.getShape(p);if(C){if(!this.getViewportPageBounds().includes(this.getShapePageBounds(C)))p=l;else if(h.length===1){const _=d.find(E=>E.id===h[0]);this.isShapeOfType(C,"frame")&&this.isShapeOfType(_,"frame")&&_.props.w===(C==null?void 0:C.props.w)&&_.props.h===(C==null?void 0:C.props.h)&&(x=!0)}}else p=l}x||(x=u.has(p)),x&&(p=this.getShape(p).parentId);let w=this.getHighestIndexForParent(p);const S=[],v=d.map(C=>{let _;if(o)_=lh(C),u.set(C.id,C.id);else{const E=u.get(C.id);_=lh({...C,id:E})}if(h.includes(C.id)&&(_.parentId=l,S.push(_)),u.has(_.parentId)?_.parentId=u.get(C.parentId):(h.push(_.id),_.index=w,w=bd(w)),this.isShapeOfType(_,"arrow")){if(_.props.start.type==="binding"){const E=u.get(_.props.start.boundShapeId);_.props.start=E?{..._.props.start,boundShapeId:E}:{type:"point",x:0,y:0}}if(_.props.end.type==="binding"){const E=u.get(_.props.end.boundShapeId);_.props.end=E?{..._.props.end,boundShapeId:E}:{type:"point",x:0,y:0}}}return _});if(v.length+this.getCurrentPageShapeIds().size>va)return P0(this),this;let k=[];if(c){for(let _=0;_<c.length;_++){const E=c[_],I=this.store.schema.migratePersistedRecord(E,n.schema);if(I.type==="success")c[_]=I.value;else throw Error(`Could not put content:
could not migrate content for asset:
${E.id}
${E.type}
reason:${I.reason}`)}const C=[];k=c.filter(_=>!this.store.has(_.id)).map(_=>{var E;return(_.type==="image"||_.type==="video")&&(_.props.src&&((E=_.props.src)!=null&&E.startsWith("data:image"))?(C.push(tp(_)),_.props.src=null):C.push(tp(_))),_}),Promise.allSettled(C.map(async _=>{const E=await J2e(_.props.src,_.props.name,_.props.mimeType??"image/png"),I=await this.getAssetForExternalContent({type:"file",file:E});return I?[_,I]:null})).then(_=>{this.updateAssets(Ve(_.map(E=>E.status==="fulfilled"&&E.value?{...E.value[1],id:E.value[0].id}:void 0)))})}for(let C=0;C<v.length;C++){const _=v[C],E=this.store.schema.migratePersistedRecord(_,n.schema);if(E.type==="success")v[C]=E.value;else throw Error(`Could not put content:
could not migrate content for shape:
${_.id}, ${_.type}
reason:${E.reason}`)}return this.batch(()=>{k.length>0&&this.createAssets(k),this.createShapes(v),s&&this.select(...S.map(z=>z.id)),p!==l&&this.reparentShapes(S.map(z=>z.id),p);const C=v.map(z=>this.getShape(z.id)),_=Qe.Common(C.map(z=>this.getShapePageBounds(z)));if(i===void 0)if(ts(p)){const z=this.getViewportPageBounds();a||z.includes(Qe.From(_))?i=_.center:i=z.center}else{const z=this.getShape(p);i=_e.applyToPoint(this.getShapePageTransform(z),this.getShapeGeometry(z).bounds.center)}if(S.length===1){const z=S[0];if(this.isShapeOfType(z,"frame"))for(;this.getShapesAtPoint(i).some(A=>this.isShapeOfType(A,"frame")&&A.props.w===z.props.w&&A.props.h===z.props.h);)i.x+=_.w+16}const E=Qe.Common(Ve(S.map(({id:z})=>this.getShapePageBounds(z)))).center,I=L.Sub(i,E);this.updateShapes(S.map(({id:z})=>{const A=this.getShape(z),T=this.getShapeParentTransform(z).decompose().rotation,j=L.Rot(I,-T);return{id:A.id,type:A.type,x:A.x+j.x,y:A.y+j.y}}))}),this}async getSvg(n,r={}){var C,_;const s=typeof n[0]=="string"?n:n.map(E=>E.id);if(s.length===0)return;if(!window.document)throw Error("No document");const{scale:o=1,background:a=!1,padding:i=b1e,preserveAspectRatio:l=!1}=r,c=fye({isDarkMode:this.user.getIsDarkMode()}),d=this.getShapeAndDescendantIds(s),h=this.getUnorderedRenderingShapes(!1).filter(({id:E})=>d.has(E));let u=null;if(r.bounds)u=r.bounds;else for(const{maskedPageBounds:E}of h)E&&(u?u.union(E):u=E.clone());if(!u)return;const p=s.length===1&&this.isShapeOfType(this.getShape(s[0]),"frame")?s[0]:null;p||u.expandBy(i);const y=u.width*o,g=u.height*o,x=window.document.createElementNS("http://www.w3.org/2000/svg","svg");l&&x.setAttribute("preserveAspectRatio",l),x.setAttribute("direction","ltr"),x.setAttribute("width",y+""),x.setAttribute("height",g+""),x.setAttribute("viewBox",`${u.minX} ${u.minY} ${u.width} ${u.height}`),x.setAttribute("stroke-linecap","round"),x.setAttribute("stroke-linejoin","round"),a?p?x.style.setProperty("background",c.solid):x.style.setProperty("background-color",c.background):x.style.setProperty("background-color","transparent");try{(_=(C=document.body).focus)==null||_.call(C)}catch{}const w=window.document.createElementNS("http://www.w3.org/2000/svg","defs");x.append(w);const S=new Map,v={addExportDef:E=>{if(S.has(E.key))return;const I=(async()=>{const z=await E.getElement();if(!z)return;const A=document.createComment(`def: ${E.key}`);w.appendChild(A);for(const T of Array.isArray(z)?z:[z])w.appendChild(T)})();S.set(E.key,I)}},k=(await Promise.all(h.map(async({id:E,opacity:I,index:z,backgroundIndex:A})=>{var q,K;if(E===p)return[];const T=this.getShape(E);if(this.isShapeOfType(T,"group"))return[];const j=this.getShapeUtil(T);let R=await((q=j.toSvg)==null?void 0:q.call(j,T,v)),M=await((K=j.toBackgroundSvg)==null?void 0:K.call(j,T,v));if(R){const W=document.createElementNS("http://www.w3.org/2000/svg","g");W.appendChild(R),R=W}if(M){const W=document.createElementNS("http://www.w3.org/2000/svg","g");W.appendChild(M),M=W}if(!R&&!M){const W=this.getShapePageBounds(T),G=window.document.createElementNS("http://www.w3.org/2000/svg","rect");G.setAttribute("width",W.width+""),G.setAttribute("height",W.height+""),G.setAttribute("fill",c.solid),G.setAttribute("stroke",c.grey.pattern),G.setAttribute("stroke-width","1"),R=G}let D=this.getShapePageTransform(T).toCssString();"scale"in T.props&&T.props.scale!==1&&(D=`${D} scale(${T.props.scale}, ${T.props.scale})`),R==null||R.setAttribute("transform",D),M==null||M.setAttribute("transform",D),R==null||R.setAttribute("opacity",I+""),M==null||M.setAttribute("opacity",I+"");const U=this.getShapeMask(T.id);if(U){const W=document.createElementNS("http://www.w3.org/2000/svg","clipPath");w.appendChild(W);const G=In();W.id=G;const ne=document.createElementNS("http://www.w3.org/2000/svg","path");if(ne.setAttribute("d",`M${U.map(({x:ce,y:Le})=>`${ce},${Le}`).join("L")}Z`),W.appendChild(ne),R){const ce=document.createElementNS("http://www.w3.org/2000/svg","g");ce.setAttribute("clip-path",`url(#${G})`),ce.appendChild(R),R=ce}if(M){const ce=document.createElementNS("http://www.w3.org/2000/svg","g");ce.setAttribute("clip-path",`url(#${G})`),ce.appendChild(M),M=ce}}const Y=[];return R&&Y.push({zIndex:z,element:R}),M&&Y.push({zIndex:A,element:M}),Y}))).flat();await Promise.all(S.values());for(const{element:E}of k.sort((I,z)=>I.zIndex-z.zIndex))x.appendChild(E);return x}_updateInputsFromEvent(n){var y;const{previousScreenPoint:r,previousPagePoint:s,currentScreenPoint:o,currentPagePoint:a}=this.inputs,{screenBounds:i}=this.store.unsafeGetWithoutCapture(yr),{x:l,y:c,z:d}=n.point,{x:h,y:u,z:p}=this.getCamera();r.setTo(o),s.setTo(a),o.set(l,c),a.set((l-i.x)/p-h,(c-i.y)/p-u,d??.5),this.inputs.isPen=n.type==="pointer"&&n.isPen,n.name==="pointer_down"&&this.inputs.pointerVelocity.set(0,0),this.store.put([{id:n1,typeName:"pointer",x:a.x,y:a.y,lastActivityTimestamp:n.type==="pointer"&&n.pointerId===y_.CAMERA_MOVE?((y=this.store.get(n1))==null?void 0:y.lastActivityTimestamp)??Date.now():Date.now(),meta:{}}])}cancel(){return this.dispatch({type:"misc",name:"cancel"}),this}interrupt(){return this.dispatch({type:"misc",name:"interrupt"}),this}complete(){return this.dispatch({type:"misc",name:"complete"}),this}cancelDoubleClick(){this._clickManager.cancelDoubleClickTimeout()}}ke([ae],be.prototype,"getCanUndo",1);ke([ae],be.prototype,"getCanRedo",1);ke([ae],be.prototype,"_getArrowBindingsIndex",1);ke([ae],be.prototype,"getArrowInfoCache",1);ke([ae],be.prototype,"getPath",1);ke([ae],be.prototype,"getCurrentTool",1);ke([ae],be.prototype,"getCurrentToolId",1);ke([ae],be.prototype,"getDocumentSettings",1);ke([ae],be.prototype,"getInstanceState",1);ke([ae],be.prototype,"getOpenMenus",1);ke([ae],be.prototype,"getIsMenuOpen",1);ke([ae],be.prototype,"getPageStates",1);ke([ae],be.prototype,"_getPageStatesQuery",1);ke([ae],be.prototype,"getCurrentPageState",1);ke([ae],be.prototype,"_getCurrentPageStateId",1);ke([ae],be.prototype,"getSelectedShapeIds",1);ke([ae],be.prototype,"getSelectedShapes",1);ke([ae],be.prototype,"getOnlySelectedShape",1);ke([ae],be.prototype,"getSelectionPageBounds",1);ke([ae],be.prototype,"getSelectionRotation",1);ke([ae],be.prototype,"getSelectionRotatedPageBounds",1);ke([ae],be.prototype,"getFocusedGroupId",1);ke([ae],be.prototype,"getFocusedGroup",1);ke([ae],be.prototype,"getEditingShapeId",1);ke([ae],be.prototype,"getEditingShape",1);ke([ae],be.prototype,"getHoveredShapeId",1);ke([ae],be.prototype,"getHoveredShape",1);ke([ae],be.prototype,"getHintingShapeIds",1);ke([ae],be.prototype,"getHintingShape",1);ke([ae],be.prototype,"getErasingShapeIds",1);ke([ae],be.prototype,"getErasingShapes",1);ke([ae],be.prototype,"getCameraId",1);ke([ae],be.prototype,"getCamera",1);ke([ae],be.prototype,"getZoomLevel",1);ke([ae],be.prototype,"getViewportScreenBounds",1);ke([ae],be.prototype,"getViewportScreenCenter",1);ke([ae],be.prototype,"getViewportPageBounds",1);ke([ae],be.prototype,"getViewportPageCenter",1);ke([ae],be.prototype,"getRenderingShapes",1);ke([ae],be.prototype,"_getAllPagesQuery",1);ke([ae],be.prototype,"getPages",1);ke([ae],be.prototype,"_getAllAssetsQuery",1);ke([ae],be.prototype,"_getShapeGeometryCache",1);ke([ae],be.prototype,"_getShapeOutlineSegmentsCache",1);ke([ae],be.prototype,"_getShapeHandlesCache",1);ke([ae],be.prototype,"_getShapePageTransformCache",1);ke([ae],be.prototype,"_getShapePageBoundsCache",1);ke([ae],be.prototype,"_getShapeClipPathCache",1);ke([ae],be.prototype,"_getShapeMaskCache",1);ke([ae],be.prototype,"getCurrentPageBounds",1);ke([ae],be.prototype,"getCurrentPageShapes",1);ke([ae],be.prototype,"getCurrentPageShapesSorted",1);ke([ae],be.prototype,"getCurrentPageRenderingShapesSorted",1);ke([ae({isEqual:(e,t)=>e.equals(t)})],be.prototype,"getSharedStyles",1);ke([ae],be.prototype,"getSharedOpacity",1);function P0(e,t=e.getCurrentPageId()){const n=e.getPage(t).name;e.emit("max-shapes",{name:n,pageId:t,count:va})}function D_(e,t){if(!t.constraints)throw Error("Should have constraints here");const{padding:{x:n,y:r}}=t.constraints,s=e.getViewportScreenBounds(),o=Qe.From(t.constraints.bounds),a=(s.w-n*2)/o.w,i=(s.h-r*2)/o.h;return{zx:a,zy:i}}function g$(){const e=De();return qe("isDarkMode",()=>e.user.getIsDarkMode(),[e])}const jxe='<path d="m12 24.4219v-16.015l11.591 11.619h-6.781l-.411.124z" fill="white"/><path d="m21.0845 25.0962-3.605 1.535-4.682-11.089 3.686-1.553z" fill="white"/><path d="m19.751 24.4155-1.844.774-3.1-7.374 1.841-.775z" fill="black"/><path d="m13 10.814v11.188l2.969-2.866.428-.139h4.768z" fill="black"/>',Rxe='<path d="m13.3315 21.3799c-.284-.359-.629-1.093-1.243-1.984-.348-.504-1.211-1.453-1.468-1.935-.223-.426-.199-.617-.146-.97.094-.628.738-1.117 1.425-1.051.519.049.959.392 1.355.716.239.195.533.574.71.788.163.196.203.277.377.509.23.307.302.459.214.121-.071-.496-.187-1.343-.355-2.092-.128-.568-.159-.657-.281-1.093-.129-.464-.195-.789-.316-1.281-.084-.348-.235-1.059-.276-1.459-.057-.547-.087-1.439.264-1.849.275-.321.906-.418 1.297-.22.512.259.803 1.003.936 1.3.239.534.387 1.151.516 1.961.164 1.031.466 2.462.476 2.763.024-.369-.068-1.146-.004-1.5.058-.321.328-.694.666-.795.286-.085.621-.116.916-.055.313.064.643.288.766.499.362.624.369 1.899.384 1.831.086-.376.071-1.229.284-1.584.14-.234.497-.445.687-.479.294-.052.655-.068.964-.008.249.049.586.345.677.487.218.344.342 1.317.379 1.658.015.141.074-.392.293-.736.406-.639 1.843-.763 1.898.639.025.654.02.624.02 1.064 0 .517-.012.828-.04 1.202-.031.4-.117 1.304-.242 1.742-.086.301-.371.978-.652 1.384 0 0-1.074 1.25-1.191 1.813-.118.562-.079.566-.102.965-.023.398.121.922.121.922s-.802.104-1.234.035c-.391-.063-.875-.841-1-1.079-.172-.328-.539-.265-.682-.023-.225.383-.709 1.07-1.051 1.113-.668.084-2.054.031-3.139.02 0 0 .185-1.011-.227-1.358-.305-.259-.83-.784-1.144-1.06z" fill="white"/><g stroke="black" stroke-linecap="round" stroke-width=".75"><path d="m13.3315 21.3799c-.284-.359-.629-1.093-1.243-1.984-.348-.504-1.211-1.453-1.468-1.935-.223-.426-.199-.617-.146-.97.094-.628.738-1.117 1.425-1.051.519.049.959.392 1.355.716.239.195.533.574.71.788.163.196.203.277.377.509.23.307.302.459.214.121-.071-.496-.187-1.343-.355-2.092-.128-.568-.159-.657-.281-1.093-.129-.464-.195-.789-.316-1.281-.084-.348-.235-1.059-.276-1.459-.057-.547-.087-1.439.264-1.849.275-.321.906-.418 1.297-.22.512.259.803 1.003.936 1.3.239.534.387 1.151.516 1.961.164 1.031.466 2.462.476 2.763.024-.369-.068-1.146-.004-1.5.058-.321.328-.694.666-.795.286-.085.621-.116.916-.055.313.064.643.288.766.499.362.624.369 1.899.384 1.831.086-.376.071-1.229.284-1.584.14-.234.497-.445.687-.479.294-.052.655-.068.964-.008.249.049.586.345.677.487.218.344.342 1.317.379 1.658.015.141.074-.392.293-.736.406-.639 1.843-.763 1.898.639.025.654.02.624.02 1.064 0 .517-.012.828-.04 1.202-.031.4-.117 1.304-.242 1.742-.086.301-.371.978-.652 1.384 0 0-1.074 1.25-1.191 1.813-.118.562-.079.566-.102.965-.023.398.121.922.121.922s-.802.104-1.234.035c-.391-.063-.875-.841-1-1.079-.172-.328-.539-.265-.682-.023-.225.383-.709 1.07-1.051 1.113-.668.084-2.054.031-3.139.02 0 0 .185-1.011-.227-1.358-.305-.259-.83-.784-1.144-1.06z" stroke-linejoin="round"/><path d="m21.5664 21.7344v-3.459"/><path d="m19.5508 21.7461-.016-3.473"/><path d="m17.5547 18.3047.021 3.426"/></g>',$xe='<path d="m25 16h-6.01v-6h-2.98v6h-6.01v3h6.01v6h2.98v-6h6.01z" fill="white"/><path d="m23.9902 17.0103h-6v-6.01h-.98v6.01h-6v.98h6v6.01h.98v-6.01h6z" fill="%23231f1f"/>',Oxe='<path d="m19 14h1v1h-1zm1 6h-1v-1h1zm-5-5h-1v-1h1zm0 5h-1v-1h1zm2-10.987-7.985 7.988 5.222 5.221 2.763 2.763 7.984-7.985z" fill="white"/><g fill="black"><path d="m23.5664 16.9971-2.557-2.809v1.829h-4.009-4.001v-1.829l-2.571 2.809 2.572 2.808-.001-1.808h4.001 4.009l-.001 1.808z"/><path d="m17.9873 17h.013v-4.001l1.807.001-2.807-2.571-2.809 2.57h1.809v4.001h.008v4.002l-1.828-.001 2.807 2.577 2.805-2.576h-1.805z"/></g>',q_="<path d='m19.7432 17.0869-4.072 4.068 2.829 2.828-8.473-.013-.013-8.47 2.841 2.842 4.075-4.068 1.414-1.415-2.844-2.842h8.486v8.484l-2.83-2.827z' fill='%23fff'/><path d='m18.6826 16.7334-4.427 4.424 1.828 1.828-5.056-.016-.014-5.054 1.842 1.841 4.428-4.422 2.474-2.475-1.844-1.843h5.073v5.071l-1.83-1.828z' fill='%23000'/>",B_="<path d='m9 17.9907v.005l5.997 5.996.001-3.999h1.999 2.02v4l5.98-6.001-5.98-5.999.001 4.019-2.021.002h-2l.001-4.022zm1.411.003 3.587-3.588-.001 2.587h3.5 2.521v-2.585l3.565 3.586-3.564 3.585-.001-2.585h-2.521l-3.499-.001-.001 2.586z' fill='%23fff'/><path d='m17.4971 18.9932h2.521v2.586l3.565-3.586-3.565-3.585v2.605h-2.521-3.5v-2.607l-3.586 3.587 3.586 3.586v-2.587z' fill='%23000'/>",z0='<path d="M22.4789 9.45728L25.9935 12.9942L22.4789 16.5283V14.1032C18.126 14.1502 14.6071 17.6737 14.5675 22.0283H17.05L13.513 25.543L9.97889 22.0283H12.5674C12.6071 16.5691 17.0214 12.1503 22.4789 12.1031L22.4789 9.45728Z" fill="black"/><path fill-rule="evenodd" clip-rule="evenodd" d="M21.4789 7.03223L27.4035 12.9945L21.4789 18.9521V15.1868C18.4798 15.6549 16.1113 18.0273 15.649 21.0284H19.475L13.5128 26.953L7.55519 21.0284H11.6189C12.1243 15.8155 16.2679 11.6677 21.4789 11.1559L21.4789 7.03223ZM22.4789 12.1031C17.0214 12.1503 12.6071 16.5691 12.5674 22.0284H9.97889L13.513 25.543L17.05 22.0284H14.5675C14.5705 21.6896 14.5947 21.3558 14.6386 21.0284C15.1157 17.4741 17.9266 14.6592 21.4789 14.1761C21.8063 14.1316 22.1401 14.1069 22.4789 14.1032V16.5284L25.9935 12.9942L22.4789 9.45729L22.4789 12.1031Z" fill="white"/>',Dxe='<path fill="white" d="M7.94 0a5.25 5.25 0 0 0-3.47 1.17A5.27 5.27 0 0 0 1 0H0v3h1c1.41 0 1.85.7 2 1v3.94H2v3h1v3c-.13.3-.57 1-2 1H0v3h1a5.27 5.27 0 0 0 3.47-1.17c.98.8 2.21 1.21 3.47 1.17h1v-3h-1c-1.41 0-1.85-.7-2-1v-3H7v-3H6V4c.13-.3.57-1 2-1h1V0H7.94z"/><path fill="black" d="M7.94 2V1a4 4 0 0 0-3.47 1.64A4 4 0 0 0 1 1v1c1.3-.17 2.56.6 3 1.84v5.1H3v1h1v4.16c-.45 1.24-1.7 2-3 1.84v1a4.05 4.05 0 0 0 3.47-1.63 4.05 4.05 0 0 0 3.47 1.63v-1A2.82 2.82 0 0 1 5 14.1V9.93h1v-1H5V3.85A2.81 2.81 0 0 1 7.94 2z"/>',qxe="<path d='m13.5732 12.0361c.48-.178 1.427-.069 1.677.473.213.462.396 1.241.406 1.075.024-.369-.024-1.167.137-1.584.117-.304.347-.59.686-.691.285-.086.62-.116.916-.055.313.064.642.287.765.499.362.623.368 1.899.385 1.831.064-.272.07-1.229.283-1.584.141-.235.497-.445.687-.479.294-.052.656-.068.964-.008.249.049.586.344.677.487.219.344.342 1.316.379 1.658.016.141.074-.393.293-.736.406-.639 1.844-.763 1.898.639.026.654.02.624.02 1.064 0 .516-.012.828-.04 1.202-.03.399-.116 1.304-.241 1.742-.086.301-.371.978-.653 1.384 0 0-1.074 1.25-1.191 1.812-.117.563-.078.567-.102.965-.023.399.121.923.121.923s-.801.104-1.234.034c-.391-.062-.875-.84-1-1.078-.172-.328-.539-.265-.682-.023-.224.383-.709 1.07-1.05 1.113-.669.084-2.055.03-3.14.02 0 0 .185-1.011-.227-1.358-.305-.26-.83-.784-1.144-1.06l-.832-.921c-.283-.36-1.002-.929-1.243-1.985-.213-.936-.192-1.395.037-1.77.232-.381.67-.589.854-.625.208-.042.692-.039.875.062.223.123.313.159.488.391.23.307.312.456.213.121-.076-.262-.322-.595-.434-.97-.109-.361-.401-.943-.38-1.526.008-.221.103-.771.832-1.042' fill='white'/><g stroke='black' stroke-width='.75'><path d='m13.5732 12.0361c.48-.178 1.427-.069 1.677.473.213.462.396 1.241.406 1.075.024-.369-.024-1.167.137-1.584.117-.304.347-.59.686-.691.285-.086.62-.116.916-.055.313.064.642.287.765.499.362.623.368 1.899.385 1.831.064-.272.07-1.229.283-1.584.141-.235.497-.445.687-.479.294-.052.656-.068.964-.008.249.049.586.344.677.487.219.344.342 1.316.379 1.658.016.141.074-.393.293-.736.406-.639 1.844-.763 1.898.639.026.654.02.624.02 1.064 0 .516-.012.828-.04 1.202-.03.399-.116 1.304-.241 1.742-.086.301-.371.978-.653 1.384 0 0-1.074 1.25-1.191 1.812-.117.563-.078.567-.102.965-.023.399.121.923.121.923s-.801.104-1.234.034c-.391-.062-.875-.84-1-1.078-.172-.328-.539-.265-.682-.023-.224.383-.709 1.07-1.05 1.113-.669.084-2.055.03-3.14.02 0 0 .185-1.011-.227-1.358-.305-.26-.83-.784-1.144-1.06l-.832-.921c-.283-.36-1.002-.929-1.243-1.985-.213-.936-.192-1.395.037-1.77.232-.381.67-.589.854-.625.208-.042.692-.039.875.062.223.123.313.159.488.391.23.307.312.456.213.121-.076-.262-.322-.595-.434-.97-.109-.361-.401-.943-.38-1.526.008-.221.103-.771.832-1.042z' stroke-linejoin='round'/><path d='m20.5664 19.7344v-3.459' stroke-linecap='round'/><path d='m18.5508 19.7461-.016-3.473' stroke-linecap='round'/><path d='m16.5547 16.3047.021 3.426' stroke-linecap='round'/></g>",Bxe='<path d="m13.5557 17.5742c-.098-.375-.196-.847-.406-1.552-.167-.557-.342-.859-.47-1.233-.155-.455-.303-.721-.496-1.181-.139-.329-.364-1.048-.457-1.44-.119-.509.033-.924.244-1.206.253-.339.962-.49 1.357-.351.371.13.744.512.916.788.288.46.357.632.717 1.542.393.992.564 1.918.611 2.231l.085.452c-.001-.04-.043-1.122-.044-1.162-.035-1.029-.06-1.823-.038-2.939.002-.126.064-.587.084-.715.078-.5.305-.8.673-.979.412-.201.926-.215 1.401-.017.423.173.626.55.687 1.022.014.109.094.987.093 1.107-.013 1.025.006 1.641.015 2.174.004.231.003 1.625.017 1.469.061-.656.094-3.189.344-3.942.144-.433.405-.746.794-.929.431-.203 1.113-.07 1.404.243.285.305.446.692.482 1.153.032.405-.019.897-.02 1.245 0 .867-.021 1.324-.037 2.121-.001.038-.015.298.023.182.094-.28.188-.542.266-.745.049-.125.241-.614.359-.859.114-.234.211-.369.415-.688.2-.313.415-.448.668-.561.54-.235 1.109.112 1.301.591.086.215.009.713-.028 1.105-.061.647-.254 1.306-.352 1.648-.128.447-.274 1.235-.34 1.601-.072.394-.234 1.382-.359 1.82-.086.301-.371.978-.652 1.384 0 0-1.074 1.25-1.192 1.812-.117.563-.078.567-.101.965-.024.399.121.923.121.923s-.802.104-1.234.034c-.391-.062-.875-.841-1-1.078-.172-.328-.539-.265-.682-.023-.225.383-.709 1.07-1.051 1.113-.668.084-2.054.03-3.139.02 0 0 .185-1.011-.227-1.358-.305-.26-.83-.784-1.144-1.06l-.832-.921c-.284-.36-.629-1.093-1.243-1.985-.348-.504-1.027-1.085-1.284-1.579-.223-.425-.331-.954-.19-1.325.225-.594.675-.897 1.362-.832.519.05.848.206 1.238.537.225.19.573.534.75.748.163.195.203.276.377.509.23.307.302.459.214.121" fill="white"/><g stroke="black" stroke-linecap="round" stroke-width=".75"><path d="m13.5557 17.5742c-.098-.375-.196-.847-.406-1.552-.167-.557-.342-.859-.47-1.233-.155-.455-.303-.721-.496-1.181-.139-.329-.364-1.048-.457-1.44-.119-.509.033-.924.244-1.206.253-.339.962-.49 1.357-.351.371.13.744.512.916.788.288.46.357.632.717 1.542.393.992.564 1.918.611 2.231l.085.452c-.001-.04-.043-1.122-.044-1.162-.035-1.029-.06-1.823-.038-2.939.002-.126.064-.587.084-.715.078-.5.305-.8.673-.979.412-.201.926-.215 1.401-.017.423.173.626.55.687 1.022.014.109.094.987.093 1.107-.013 1.025.006 1.641.015 2.174.004.231.003 1.625.017 1.469.061-.656.094-3.189.344-3.942.144-.433.405-.746.794-.929.431-.203 1.113-.07 1.404.243.285.305.446.692.482 1.153.032.405-.019.897-.02 1.245 0 .867-.021 1.324-.037 2.121-.001.038-.015.298.023.182.094-.28.188-.542.266-.745.049-.125.241-.614.359-.859.114-.234.211-.369.415-.688.2-.313.415-.448.668-.561.54-.235 1.109.112 1.301.591.086.215.009.713-.028 1.105-.061.647-.254 1.306-.352 1.648-.128.447-.274 1.235-.34 1.601-.072.394-.234 1.382-.359 1.82-.086.301-.371.978-.652 1.384 0 0-1.074 1.25-1.192 1.812-.117.563-.078.567-.101.965-.024.399.121.923.121.923s-.802.104-1.234.034c-.391-.062-.875-.841-1-1.078-.172-.328-.539-.265-.682-.023-.225.383-.709 1.07-1.051 1.113-.668.084-2.054.03-3.139.02 0 0 .185-1.011-.227-1.358-.305-.26-.83-.784-1.144-1.06l-.832-.921c-.284-.36-.629-1.093-1.243-1.985-.348-.504-1.027-1.085-1.284-1.579-.223-.425-.331-.954-.19-1.325.225-.594.675-.897 1.362-.832.519.05.848.206 1.238.537.225.19.573.534.75.748.163.195.203.276.377.509.23.307.302.459.214.121" stroke-linejoin="round"/><path d="m20.5664 21.7344v-3.459"/><path d="m18.5508 21.7461-.016-3.473"/><path d="m16.5547 18.3047.021 3.426"/></g>',Fxe='<path d="m20.5 15c0 3.038-2.462 5.5-5.5 5.5s-5.5-2.462-5.5-5.5 2.462-5.5 5.5-5.5 5.5 2.462 5.5 5.5" fill="white"/><path d="m20.5 15c0 3.038-2.462 5.5-5.5 5.5s-5.5-2.462-5.5-5.5 2.462-5.5 5.5-5.5 5.5 2.462 5.5 5.5z" stroke="black"/><g fill="black"><path d="m18 14h-2v-2h-2v2h-2v1.98h2v2.02h2v-2.02h2z"/><path d="m23.5859 25 1.414-1.414-5.449-5.449-1.414 1.414z"/></g>',Kxe='<path d="m20.5 15c0 3.038-2.462 5.5-5.5 5.5s-5.5-2.462-5.5-5.5 2.462-5.5 5.5-5.5 5.5 2.462 5.5 5.5" fill="white"/><path d="m20.5 15c0 3.038-2.462 5.5-5.5 5.5s-5.5-2.462-5.5-5.5 2.462-5.5 5.5-5.5 5.5 2.462 5.5 5.5z" stroke="black"/><g fill="black"><path d="m18 16h-5.98v-1.98h5.98z"/><path d="m23.5859 25 1.414-1.414-5.449-5.449-1.414 1.414z"/></g>';function $n(e,t,n,r,s,o=16,a=16){const i=(-n-t)*(Hh/180),l=Math.sin(i),c=Math.cos(i),d=1*c-1*l,h=1*l+1*c;return`url("data:image/svg+xml,<svg height='32' width='32' viewBox='0 0 32 32' xmlns='http://www.w3.org/2000/svg' style='color: ${s};'><defs><filter id='shadow' y='-40%' x='-40%' width='180px' height='180%' color-interpolation-filters='sRGB'><feDropShadow dx='${d}' dy='${h}' stdDeviation='1.2' flood-opacity='.5'/></filter></defs><g fill='none' transform='rotate(${t+n} 16 16)${r?" scale(-1,-1) translate(0, -32)":""}' filter='url(%23shadow)'>`+e.replaceAll('"',"'")+`</g></svg>") ${o} ${a}, pointer`}const Wxe={none:()=>"none",default:(e,t,n)=>$n(jxe,e,0,t,n,12,8),pointer:(e,t,n)=>$n(Rxe,e,0,t,n,14,10),cross:(e,t,n)=>$n($xe,e,0,t,n),move:(e,t,n)=>$n(Oxe,e,0,t,n),grab:(e,t,n)=>$n(Bxe,e,0,t,n),grabbing:(e,t,n)=>$n(qxe,e,0,t,n),text:(e,t,n)=>$n(Dxe,e,0,t,n,4,10),"ew-resize":(e,t,n)=>$n(B_,e,0,t,n),"ns-resize":(e,t,n)=>$n(B_,e,90,t,n),"nesw-resize":(e,t,n)=>$n(q_,e,0,t,n),"nwse-resize":(e,t,n)=>$n(q_,e,90,t,n),"nwse-rotate":(e,t,n)=>$n(z0,e,0,t,n),"nesw-rotate":(e,t,n)=>$n(z0,e,90,t,n),"senw-rotate":(e,t,n)=>$n(z0,e,180,t,n),"swne-rotate":(e,t,n)=>$n(z0,e,270,t,n),"zoom-in":(e,t,n)=>$n(Fxe,e,0,t,n),"zoom-out":(e,t,n)=>$n(Kxe,e,0,t,n)};function Uxe(e,t=0,n="black"){return Wxe[e](o1e(t),!1,n)}const Vxe=["default","pointer","cross","move","grab","grabbing","text"];function Xxe(){const e=De(),t=wl(),n=g$();kp("useCursor",()=>{const{type:r,rotation:s}=e.getInstanceState().cursor;if(Vxe.includes(r)){t.style.setProperty("--tl-cursor",`var(--tl-cursor-${r})`);return}t.style.setProperty("--tl-cursor",Uxe(r,s,n?"white":"black"))},[e,t,n])}function Yxe(){const e=De(),t=wl(),n=g$(),r=qe(bn.forceSrgb);le.useEffect(()=>{n?(t.setAttribute("data-color-mode","dark"),t.classList.remove("tl-theme__light"),t.classList.add("tl-theme__dark")):(t.setAttribute("data-color-mode","light"),t.classList.remove("tl-theme__dark"),t.classList.add("tl-theme__light")),r?t.classList.add("tl-theme__force-sRGB"):t.classList.remove("tl-theme__force-sRGB")},[e,t,r,n])}function Hxe(e){const t=b.useRef();return b.useLayoutEffect(()=>{t.current=e}),b.useDebugValue(e),b.useCallback((...n)=>{const r=t.current;return q6(r,"fn does not exist"),r(...n)},[])}function Gxe(e){const t=De(),n=wl();b.useLayoutEffect(()=>{e?(t.getInstanceState().isFocused||t.updateInstanceState({isFocused:!0}),t.getContainer().focus()):t.getInstanceState().isFocused&&t.updateInstanceState({isFocused:!1})},[t,n,e])}function Zxe(){const[e,t]=b.useState(0);b.useEffect(()=>t(n=>n+1),[])}const dh="TLDRAW_TAB_ID_v2",Wn=globalThis.window;function Qxe(){return Wn?["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(Wn.navigator.platform)||Wn.navigator.userAgent.includes("Mac")&&"ontouchend"in document:!1}const u1=(Wn==null?void 0:Wn[dh])??(Wn==null?void 0:Wn.sessionStorage[dh])??"TLDRAW_INSTANCE_STATE_V1_"+In();Wn&&(Wn[dh]=u1,Qxe()?Wn.sessionStorage[dh]=u1:delete Wn.sessionStorage[dh]);Wn==null||Wn.addEventListener("beforeunload",()=>{Wn.sessionStorage[dh]=u1});const Jxe={Initial:0},vf=Jxe.Initial,m$=zm({version:Ma,currentPageId:wf,isFocusMode:Dl,exportBackground:Dl,isDebugMode:Dl,isToolLocked:Dl,isGridMode:Dl,pageStates:c_(zm({pageId:wf,camera:zm({x:Ma,y:Ma,z:Ma}),selectedShapeIds:c_(lo),focusedGroupId:lo.nullable()}))}),e5e=rR({currentVersion:vf});function t5e(e){if(!e||typeof e!="object")return console.warn("Invalid instance state"),null;if(!("version"in e)||typeof e.version!="number")return console.warn("No version in instance state"),null;const t=sR({value:e,fromVersion:e.version,toVersion:vf,migrations:e5e});if(t.type==="error")return console.warn(t.reason),null;const n={...t.value,version:vf};try{m$.validate(n)}catch(r){return console.warn(r),null}return n}function n5e(e){const t=e.query.ids("page");return ae("sessionStateSnapshot",()=>{const n=e.get(yr);if(!n)return null;const r=[...t.get()];return{version:vf,currentPageId:n.currentPageId,exportBackground:n.exportBackground,isFocusMode:n.isFocusMode,isDebugMode:n.isDebugMode,isToolLocked:n.isToolLocked,isGridMode:n.isGridMode,pageStates:r.map(s=>{const o=e.get(lr.createId(s)),a=e.get(ir.createId(s));return{pageId:s,camera:{x:(a==null?void 0:a.x)??0,y:(a==null?void 0:a.y)??0,z:(a==null?void 0:a.z)??1},selectedShapeIds:(o==null?void 0:o.selectedShapeIds)??[],focusedGroupId:(o==null?void 0:o.focusedGroupId)??null}})}})}function r5e(e,t){const n=t5e(t);if(!n)return;const r=e.allRecords().filter(a=>a.typeName==="instance_page_state"||a.typeName==="camera"),s={added:{},updated:{},removed:{...zye(r.map(a=>[a.id,a]))}};e.has(yr)&&(s.removed[yr]=e.get(yr));const o={removed:{},updated:{},added:{[yr]:e.schema.types.instance.create({id:yr,currentPageId:n.currentPageId,isDebugMode:n.isDebugMode,isFocusMode:n.isFocusMode,isToolLocked:n.isToolLocked,isGridMode:n.isGridMode,exportBackground:n.exportBackground})}};for(const a of n.pageStates){const i=ir.createId(a.pageId),l=lr.createId(a.pageId);o.added[i]=ir.create({id:ir.createId(a.pageId),x:a.camera.x,y:a.camera.y,z:a.camera.z}),o.added[l]=lr.create({id:lr.createId(a.pageId),pageId:a.pageId,selectedShapeIds:a.selectedShapeIds,focusedGroupId:a.focusedGroupId})}yf(()=>{e.applyDiff(S2([s,o])),e.ensureStoreIsUsable()})}function s5e(e){var s;const t=[];for(const o of Object.values(e))(s=o.typeName)!=null&&s.match(/^(instance.*|pointer|camera)$/)&&t.push(o);const n=t.filter(o=>o.typeName==="instance"&&o.id!==yr)[0];if(!n)return null;const r={version:vf,currentPageId:n.currentPageId,exportBackground:!!n.exportBackground,isFocusMode:!!n.isFocusMode,isDebugMode:!!n.isDebugMode,isToolLocked:!!n.isToolLocked,isGridMode:!1,pageStates:t.filter(o=>o.typeName==="instance_page_state"&&o.instanceId===n.id).map(o=>{const a=e[o.cameraId]??{x:0,y:0,z:1};return{pageId:o.pageId,camera:{x:a.x,y:a.y,z:a.z},selectedShapeIds:o.selectedShapeIds,focusedGroupId:o.focusedGroupId}})};try{return m$.validate(r),r}catch{return null}}function o5e(){window.alert(`Oops! We could not save changes to your browser's storage. We now need to reload the page and try again.

Keep seeing this message?
 If you're using tldraw in a private or "incognito" window, try loading tldraw in a regular window or in a different browser.
 If your hard disk is full, try clearing up some space and then reload the page.`)}function a5e(){window.alert(`Oops! We could not access your browser's storageand the app won't work correctly without that. We now need to reload the page and try again.

Keep seeing this message?
 If you're using tldraw in a private or "incognito" window, try loading tldraw in a regular window or in a different browser.`)}const k2="TLDRAW_DOCUMENT_v2",y$="TLDRAW_DB_NAME_INDEX_v2",ft={Records:"records",Schema:"schema",SessionState:"session_state"};async function C2(e,t){h5e(e);const n=await mP(e,3,{upgrade(r){r.objectStoreNames.contains(ft.Records)||r.createObjectStore(ft.Records),r.objectStoreNames.contains(ft.Schema)||r.createObjectStore(ft.Schema),r.objectStoreNames.contains(ft.SessionState)||r.createObjectStore(ft.SessionState)}});try{return await t(n)}finally{n.close()}}async function i5e({persistenceKey:e,sessionId:t,didCancel:n}){const r=k2+e;if(Z6().includes(r))return await d5e({persistenceKey:e,didCancel:n}),await C2(r,async s=>{var h,u;if(n!=null&&n())return;const o=s.transaction([ft.Records,ft.Schema,ft.SessionState],"readonly"),a=o.objectStore(ft.Records),i=o.objectStore(ft.Schema),l=o.objectStore(ft.SessionState);let c=t?(h=await l.get(t))==null?void 0:h.snapshot:null;c||(c=(u=(await l.getAll()).sort((y,g)=>y.updatedAt-g.updatedAt).pop())==null?void 0:u.snapshot);const d={records:await a.getAll(),schema:await i.get(ft.Schema),sessionStateSnapshot:c};if(n!=null&&n()){o.abort();return}return await o.done,d})}async function l5e({persistenceKey:e,schema:t,changes:n,sessionId:r,sessionStateSnapshot:s,didCancel:o}){const a=k2+e;await C2(a,async i=>{const l=i.transaction([ft.Records,ft.Schema,ft.SessionState],"readwrite"),c=l.objectStore(ft.Records),d=l.objectStore(ft.Schema),h=l.objectStore(ft.SessionState);for(const[u,p]of Object.entries(n.added))await c.put(p,u);for(const[u,p]of Object.values(n.updated))await c.put(p,p.id);for(const u of Object.keys(n.removed))await c.delete(u);if(d.put(t.serialize(),ft.Schema),s&&r?h.put({snapshot:s,updatedAt:Date.now(),id:r},r):(s||r)&&console.error("sessionStateSnapshot and instanceId must be provided together"),o!=null&&o())return l.abort();await l.done})}async function c5e({persistenceKey:e,schema:t,snapshot:n,sessionId:r,sessionStateSnapshot:s,didCancel:o}){const a=k2+e;await C2(a,async i=>{const l=i.transaction([ft.Records,ft.Schema,ft.SessionState],"readwrite"),c=l.objectStore(ft.Records),d=l.objectStore(ft.Schema),h=l.objectStore(ft.SessionState);await c.clear();for(const[u,p]of Object.entries(n))await c.put(p,u);if(d.put(t.serialize(),ft.Schema),s&&r?h.put({snapshot:s,updatedAt:Date.now(),id:r},r):(s||r)&&console.error("sessionStateSnapshot and instanceId must be provided together"),o!=null&&o())return l.abort();await l.done})}async function d5e({persistenceKey:e,didCancel:t}){await C2(k2+e,async n=>{const r=n.transaction([ft.SessionState],"readwrite"),s=r.objectStore(ft.SessionState),o=(await s.getAll()).sort((i,l)=>i.updatedAt-l.updatedAt);if(o.length<10){await r.done;return}const a=o.slice(0,o.length-10);for(const{id:i}of a)await s.delete(i);if(t!=null&&t())return r.abort();await r.done})}function Z6(){const e=JSON.parse((window==null?void 0:window.localStorage.getItem(y$))||"[]")??[];return Array.isArray(e)?e:[]}function h5e(e){const t=new Set(Z6());t.add(e),window==null||window.localStorage.setItem(y$,JSON.stringify([...t]))}const u5e=350,p5e=1e4,F_=Symbol("UPDATE_INSTANCE_STATE"),f5e=e=>e;class g5e{constructor(t){m(this,"onmessage")}postMessage(t){}close(){}}const m5e=typeof BroadcastChannel>"u"?g5e:BroadcastChannel;class y5e{constructor(t,{persistenceKey:n,sessionId:r=u1,onLoad:s,onLoadError:o},a=new m5e(`tldraw-tab-sync-${n}`)){m(this,"disposables",new Set);m(this,"diffQueue",[]);m(this,"didDispose",!1);m(this,"shouldDoFullDBWrite",!0);m(this,"isReloading",!1);m(this,"persistenceKey");m(this,"sessionId");m(this,"serializedSchema");m(this,"isDebugging",!1);m(this,"documentTypes");m(this,"$sessionStateSnapshot");m(this,"initTime",Date.now());m(this,"isPersisting",!1);m(this,"didLastWriteError",!1);m(this,"scheduledPersistTimeout",null);this.store=t,this.channel=a,typeof window<"u"&&(window.tlsync=this),this.persistenceKey=n,this.sessionId=r,this.serializedSchema=this.store.schema.serialize(),this.$sessionStateSnapshot=n5e(this.store),this.disposables.add(t.listen(({changes:i})=>{this.diffQueue.push(i),this.channel.postMessage(f5e({type:"diff",storeId:this.store.id,changes:i,schema:this.serializedSchema})),this.schedulePersist()},{source:"user",scope:"document"})),this.disposables.add(t.listen(()=>{this.diffQueue.push(F_),this.schedulePersist()},{scope:"session"})),this.connect(s,o),this.documentTypes=new Set(Object.values(this.store.schema.types).filter(i=>i.scope==="document").map(i=>i.typeName))}debug(...t){this.isDebugging&&console.debug(...t)}async connect(t,n){this.debug("connecting");let r;try{r=await i5e({persistenceKey:this.persistenceKey,sessionId:this.sessionId,didCancel:()=>this.didDispose})}catch(s){n(s),a5e(),typeof window<"u"&&window.location.reload();return}if(this.debug("loaded data from store",r,"didDispose",this.didDispose),!this.didDispose)try{if(r){const s=Object.fromEntries(r.records.map(i=>[i.id,i])),o=r.sessionStateSnapshot??s5e(s),a=this.store.schema.migrateStoreSnapshot({store:s,schema:r.schema??this.store.schema.serializeEarliestVersion()});if(a.type==="error"){console.error("failed to migrate store",a),n(new Error(`Failed to migrate store: ${a.reason}`));return}this.store.mergeRemoteChanges(()=>{this.store.put(Object.values(a.value).filter(i=>this.documentTypes.has(i.typeName)),"initialize")}),o&&r5e(this.store,o)}this.channel.onmessage=({data:s})=>{var i,l;this.debug("got message",s);const o=s,a=X0e(this.serializedSchema,o.schema??this.store.schema.serializeEarliestVersion());if(a===-1){if(Date.now()-this.initTime<5e3){n(new Error("Schema mismatch, please close other tabs and reload the page"));return}this.debug("reloading"),this.isReloading=!0,(l=(i=window==null?void 0:window.location)==null?void 0:i.reload)==null||l.call(i);return}else if(a===1){this.debug("telling them to reload"),this.channel.postMessage({type:"announce",schema:this.serializedSchema}),this.shouldDoFullDBWrite=!0,this.persistIfNeeded();return}o.type==="diff"&&(this.debug("applying diff"),yf(()=>{this.store.mergeRemoteChanges(()=>{this.store.applyDiff(o.changes),this.store.ensureStoreIsUsable()})}))},this.channel.postMessage({type:"announce",schema:this.serializedSchema}),this.disposables.add(()=>{this.channel.close()}),t(this)}catch(s){if(this.debug("error loading data from store",s),this.didDispose)return;n(s);return}}close(){this.debug("closing"),this.didDispose=!0,this.disposables.forEach(t=>t())}schedulePersist(){this.debug("schedulePersist",this.scheduledPersistTimeout),!this.scheduledPersistTimeout&&(this.scheduledPersistTimeout=setTimeout(()=>{this.scheduledPersistTimeout=null,this.persistIfNeeded()},this.didLastWriteError?p5e:u5e))}persistIfNeeded(){this.debug("persistIfNeeded",{isPersisting:this.isPersisting,isReloading:this.isReloading,shouldDoFullDBWrite:this.shouldDoFullDBWrite,diffQueueLength:this.diffQueue.length,storeIsPossiblyCorrupt:this.store.isPossiblyCorrupted()}),this.scheduledPersistTimeout&&(clearTimeout(this.scheduledPersistTimeout),this.scheduledPersistTimeout=null),!this.isPersisting&&(this.isReloading||this.store.isPossiblyCorrupted()||(this.shouldDoFullDBWrite||this.diffQueue.length>0)&&this.doPersist())}async doPersist(){q6(!this.isPersisting,"persist already in progress"),this.isPersisting=!0,this.debug("doPersist start");const t=this.diffQueue;this.diffQueue=[];try{if(this.shouldDoFullDBWrite)this.shouldDoFullDBWrite=!1,await c5e({persistenceKey:this.persistenceKey,schema:this.store.schema,snapshot:this.store.serialize(),didCancel:()=>this.didDispose,sessionId:this.sessionId,sessionStateSnapshot:this.$sessionStateSnapshot.get()});else{const n=S2(t.filter(r=>r!==F_));await l5e({persistenceKey:this.persistenceKey,changes:n,schema:this.store.schema,didCancel:()=>this.didDispose,sessionId:this.sessionId,sessionStateSnapshot:this.$sessionStateSnapshot.get()})}this.didLastWriteError=!1}catch(n){this.shouldDoFullDBWrite=!0,this.didLastWriteError=!0,console.error("failed to store changes in indexed db",n),o5e(),typeof window<"u"&&window.location.reload()}this.isPersisting=!1,this.debug("doPersist end"),this.schedulePersist()}}function x5e({initialData:e,defaultName:t="",...n}){const r="schema"in n&&n.schema?n.schema:pye({shapes:w5e(h$("shapeUtils"in n&&n.shapeUtils?n.shapeUtils:[]))});return new nR({schema:r,initialData:e,props:{defaultName:t}})}function w5e(e){return Object.fromEntries(e.map(t=>[t.type,{props:t.props,migrations:t.migrations}]))}function K_(e){const t=x5e(e);return e.snapshot&&t.loadSnapshot(e.snapshot),{store:t,opts:e}}function S5e(e){const[t,n]=b.useState(()=>K_(e));if(!Aye(t.opts,e)){const r=K_(e);return n(r),r.store}return t.store}function b5e({persistenceKey:e,sessionId:t,...n}){const[r,s]=b.useState(null),o=S5e(n);return b.useEffect(()=>{const a=In();if(!e){s({id:a,storeWithStatus:{status:"not-synced",store:o}});return}s({id:a,storeWithStatus:{status:"loading"}});const i=c=>{s(d=>(d==null?void 0:d.id)===a?{id:a,storeWithStatus:c}:d)},l=new y5e(o,{sessionId:t,persistenceKey:e,onLoad(){i({store:o,status:"synced-local"})},onLoadError(c){i({status:"error",error:c})}});return()=>{s(c=>(c==null?void 0:c.id)===a?null:c),l.close()}},[e,o,t]),(r==null?void 0:r.storeWithStatus)??{status:"loading"}}let x$=!1;if(typeof window<"u"){const e=window.navigator.userAgent,t=!!e.match(/iPad/i)||!!e.match(/iPhone/i),n=!!e.match(/WebKit/i);x$=t&&n&&!e.match(/CriOS/i)}function v5e(){const e=De();b.useEffect(()=>{if(!x$)return;function t(n){(n.target instanceof HTMLInputElement&&n.target.type==="text"||n.target instanceof HTMLTextAreaElement)&&e.complete()}return document.addEventListener("focusout",t),()=>document.removeEventListener("focusout",t)},[e])}function k5e(){const e=De(),t=wl();b.useEffect(()=>{const n=o=>t.style.setProperty("--tl-zoom",o.toString()),r=Iye(n,100),s=new tg("useZoomCss",()=>{e.getCurrentPageShapeIds().size<300?n(e.getZoomLevel()):r(e.getZoomLevel())});return s.attach(),s.execute(),()=>{s.detach()}},[e,t])}const C5e=[],_5e=[],E5e=b.memo(function({store:t,components:n,className:r,user:s,...o}){const[a,i]=le.useState(null),l=b.useMemo(()=>s??a$(),[s]),c=(n==null?void 0:n.ErrorFallback)===void 0?YR:n==null?void 0:n.ErrorFallback,d={...o,shapeUtils:o.shapeUtils??C5e,tools:o.tools??_5e,components:n};return f.jsx("div",{ref:i,draggable:!1,className:me("tl-container tl-theme__light",r),onPointerDown:KR,tabIndex:-1,children:f.jsx(bf,{fallback:c,onError:h=>$R(h,{tags:{origin:"react.tldraw-before-app"}}),children:a&&f.jsx(Wye,{container:a,children:f.jsx(F1e,{overrides:n,children:t?t instanceof nR?f.jsx(S$,{...d,store:t,user:l}):f.jsx(w$,{...d,store:t,user:l}):f.jsx(I5e,{...d,store:t,user:l})})})})})});function I5e(e){const{defaultName:t,snapshot:n,initialData:r,shapeUtils:s,persistenceKey:o,sessionId:a,user:i}=e,l=b5e({shapeUtils:s,initialData:r,persistenceKey:o,sessionId:a,defaultName:t,snapshot:n});return f.jsx(w$,{...e,store:l,user:i})}const w$=b.memo(function({store:t,user:n,...r}){var o;const s=wl();switch(b.useLayoutEffect(()=>{n.userPreferences.get().isDarkMode&&(s.classList.remove("tl-theme__light"),s.classList.add("tl-theme__dark"))},[s,n]),t.status){case"error":throw t.error;case"loading":{const a=((o=r.components)==null?void 0:o.LoadingScreen)??L2e;return f.jsx(a,{})}}return f.jsx(S$,{...r,store:t.store,user:n})});function S$({onMount:e,children:t,store:n,tools:r,shapeUtils:s,user:o,initialState:a,autoFocus:i=!0,inferDarkMode:l}){const{ErrorFallback:c}=Ln(),d=wl(),[h,u]=b.useState(null);b.useLayoutEffect(()=>{const y=new be({store:n,shapeUtils:s,tools:r,getContainer:()=>d,user:o,initialState:a,inferDarkMode:l});return window.app=y,window.editor=y,u(y),()=>{y.dispose()}},[d,s,r,n,o,a,l]);const p=b.useSyncExternalStore(b.useCallback(y=>h?(h.on("crash",y),()=>h.off("crash",y)):()=>{},[h]),()=>(h==null?void 0:h.getCrashingError())??null);return h?f.jsx(bf,{fallback:c,onError:y=>h.annotateError(y,{origin:"react.tldraw",willCrashApp:!0}),children:p?f.jsx(z5e,{crashingError:p}):f.jsx(W6.Provider,{value:h,children:f.jsx(P5e,{autoFocus:i,onMount:e,children:t})})}):null}function P5e({children:e,onMount:t,autoFocus:n}){return k5e(),Xxe(),Yxe(),v5e(),Zxe(),Gxe(n),N5e(t),i2e(),De().updateViewportScreenBounds(),e??f.jsx(e$,{})}function z5e({crashingError:e}){throw e}function A5e({children:e}){const{Spinner:t}=Ln();return f.jsxs("div",{className:"tl-loading",children:[t?f.jsx(t,{}):null,e]})}function N5e(e){const t=De(),n=Hxe(r=>{const s=e==null?void 0:e(r);return r.emit("mount"),window.tldrawReady=!0,s});le.useLayoutEffect(()=>{if(t)return n==null?void 0:n(t)},[t,n])}const T5e=oi(function({x:t=0,y:n=0,rotation:r=0,...s}){const o=De(),a=b.useRef(null),i=o.getCamera();return b.useLayoutEffect(()=>{const{x:l,y:c,z:d}=o.getCamera(),h=a.current;h&&l!==void 0&&(h.style.transform=`translate(${l}px, ${c}px) scale(${d}) rotate(${r}rad) translate(${t}px, ${n}px)`)},[i,o,t,n,r]),f.jsx("div",{ref:a,...s,className:me("tl-positioned",s.className)})});async function L5e({shouldReload:e=!0}={}){sessionStorage.clear(),await Promise.all(Z6().map(t=>yP(t))),localStorage.clear(),e&&window.location.reload()}typeof window<"u"&&(window.__tldraw__hardReset=L5e);class b$ extends fa{getDefaultProps(){return{w:100,h:100,color:"#efefef"}}component(t){return f.jsx(Co,{children:f.jsx("div",{style:{width:t.props.w,height:t.props.h,border:"1px solid black",backgroundColor:t.props.color,pointerEvents:"all"}})})}indicator(t){return f.jsx("rect",{width:t.props.w,height:t.props.h})}}m(b$,"type","box");class v$ extends he{constructor(){super(...arguments);m(this,"onPointerDown",n=>{const{editor:r}=this;switch(n.target){case"canvas":{const s=r.getHoveredShape(),o=s&&!this.editor.isShapeOfType(s,"group")?s:this.editor.getShapeAtPoint(this.editor.inputs.currentPagePoint,{renderingOnly:!0});if(o){this.onPointerDown({...n,shape:o,target:"shape"});return}r.selectNone();break}case"selection":{this.parent.transition("pointing",n);break}case"shape":{r.inputs.shiftKey?r.select(...r.getSelectedShapeIds(),n.shape.id):(r.getSelectedShapeIds().includes(n.shape.id)||r.select(n.shape.id),this.parent.transition("pointing",n));break}}});m(this,"onDoubleClick",n=>{const{editor:r}=this;if(n.phase==="up")switch(n.target){case"canvas":{const{currentPagePoint:s}=r.inputs;r.createShapes([{id:gt(),type:"box",x:s.x-50,y:s.y-50,props:{w:100,h:100}}]);break}case"shape":{r.deleteShapes([n.shape.id]);break}}})}}m(v$,"id","idle");class k$ extends he{constructor(){super(...arguments);m(this,"onPointerUp",n=>{this.parent.transition("idle",n)});m(this,"onPointerMove",()=>{this.editor.inputs.isDragging&&this.parent.transition("dragging",{shapes:[...this.editor.getSelectedShapes()]})})}}m(k$,"id","pointing");class C$ extends he{constructor(){super(...arguments);m(this,"initialDraggingShapes",[]);m(this,"onEnter",n=>{this.initialDraggingShapes=n.shapes});m(this,"onPointerUp",n=>{this.parent.transition("idle",n)});m(this,"onPointerMove",()=>{const{initialDraggingShapes:n}=this,{originPagePoint:r,currentPagePoint:s}=this.editor.inputs;this.editor.updateShapes(n.map(o=>({...o,x:o.x+(s.x-r.x),y:o.y+(s.y-r.y)})))})}}m(C$,"id","dragging");class Mm extends he{}m(Mm,"id","select"),m(Mm,"children",()=>[v$,k$,C$]),m(Mm,"initial","idle");const M5e=[Mm],j5e=[b$];function R5e(){return f.jsx("div",{className:"tldraw__editor",children:f.jsx(E5e,{tools:M5e,shapeUtils:j5e,initialState:"select",onMount:e=>{e.selectAll().deleteShapes(e.getSelectedShapeIds()).createShapes([{id:ep(),type:"box",x:100,y:100}])},components:{Background:$5e}})})}const $5e=oi(()=>f.jsxs(T5e,{x:16,y:16,children:[f.jsx("p",{children:"Double click to create shapes."}),f.jsx("p",{children:"Click or Shift+Click to select shapes."}),f.jsx("p",{children:"Click and drag to move shapes."})]}));function O5e(){return f.jsxs("div",{className:"tldraw__editor",children:["We've moved! See"," ",f.jsx("a",{href:"https://github.com/tldraw/tldraw-yjs-example",children:"https://github.com/tldraw/tldraw-yjs-example"}),"."]})}const _$=kO();hae(_$);fae(_$);const E$=[{title:"Basic (development)",path:"develop",element:f.jsx(Vfe,{})},{title:"Collaboration (with Yjs)",path:"yjs",element:f.jsx(O5e,{})},{title:"Editor API",path:"api",element:f.jsx(Xfe,{})},{title:"Multiple editors",path:"multiple",element:f.jsx(_ge,{})},{title:"Meta Example",path:"meta",element:f.jsx(Cge,{})},{title:"Readonly Example",path:"readonly",element:f.jsx(jge,{})},{title:"Things on the canvas",path:"things-on-the-canvas",element:f.jsx(Lge,{})},{title:"Scroll example",path:"scroll",element:f.jsx(Fge,{})},{title:"Custom shapes / tools",path:"custom-config",element:f.jsx(ige,{})},{title:"Sublibraries",path:"exploded",element:f.jsx(xge,{})},{title:"Error boundary",path:"error-boundary",element:f.jsx(mge,{})},{title:"Custom UI",path:"custom-ui",element:f.jsx(pge,{})},{title:"Custom Tool (Screenshot)",path:"screenshot-tool",element:f.jsx(Bge,{})},{title:"Hide UI",path:"hide-ui",element:f.jsx(kge,{})},{title:"UI components",path:"custom-components",element:f.jsx(Qfe,{})},{title:"UI events",path:"ui-events",element:f.jsx(Gge,{})},{title:"Canvas events",path:"canvas-events",element:f.jsx(Gfe,{})},{title:"Store events",path:"store-events",element:f.jsx(Hge,{})},{title:"User presence",path:"user-presence",element:f.jsx(Jge,{})},{title:"UI zones",path:"zones",element:f.jsx(e0e,{})},{title:"Persistence",path:"persistence",element:f.jsx(Mge,{})},{title:"Snapshots",path:"snapshots",element:f.jsx(Yge,{})},{title:"Force mobile breakpoint",path:"force-mobile",element:f.jsx(vge,{})},{title:"Custom styles",path:"custom-styles",element:f.jsx(uge,{})},{title:"Shape meta property",path:"shape-meta",element:f.jsx(Kge,{})},{title:"Only editor",path:"only-editor",element:f.jsx(R5e,{})},{title:"Asset props",path:"asset-props",element:f.jsx(Hfe,{})},{title:"Floaty window",path:"floaty-window",element:f.jsx(Sge,{})},{title:"External content sources",path:"external-content-sources",element:f.jsx(wge,{})},{path:"end-to-end",element:f.jsx(n0e,{})}];function D5e(){return f.jsxs("div",{className:"examples",children:[f.jsxs("div",{className:"examples__header",children:[f.jsx(Wfe,{}),f.jsxs("p",{children:["See docs at ",f.jsx("a",{href:"https://tldraw.dev",children:"tldraw.dev"})]})]}),f.jsx("ul",{className:"examples__list",children:E$.filter(e=>e.title).map(e=>f.jsx(Ufe,{title:e.title,route:e.path},e.path))})]})}const q5e=zfe([{path:"/",element:f.jsx(D5e,{})},...E$]);document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("root");mj(e).render(f.jsx(b.StrictMode,{children:f.jsx(ZS,{fallback:n=>f.jsx(JS,{error:n}),onError:n=>console.error(n),children:f.jsx(Ofe,{router:q5e})})}))});
